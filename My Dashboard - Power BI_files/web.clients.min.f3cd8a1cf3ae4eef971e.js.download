"use strict";var marker,qi=Object.defineProperty,en=(Ce,k,r)=>k in Ce?qi(Ce,k,{enumerable:!0,configurable:!0,writable:!0,value:r}):Ce[k]=r,or=(Ce,k,r)=>(en(Ce,"symbol"!=typeof k?k+"":k,r),r);this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||(this.parseTimeMarkers["web.clients.js"]={})).startEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),window.perfTracking&&window.perfTracking.startBundleEval&&window.perfTracking.startBundleEval("web.clients.js"),(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5],{564324:function(Ce,k,r){r.d(k,{JO:function(){return c},LN:function(){return w},OI:function(){return n},VA:function(){return o},hN:function(){return L},lr:function(){return N},ms:function(){return h},ty:function(){return e},yE:function(){return x}});var a=r(343331),e="contentPackDirty",o=-1,c="#loading#",h="#error#",n="CannotDeleteModelPublishedToOrganizationalApp",w=!1,x="/"+(0,a.Xr)()+"/images/modelPlaceholder.png",N="1.7",L="No visual type"},440952:function(Ce,k,r){r.d(k,{O:function(){return e},u:function(){return a}});var a={Light:"Light",Dark:"Dark","Color-blind friendly":"Color_Blind_Friendly",Custom:"Custom"};function e(){return{Light:{name:"Light",foreground:"#000000",background:"#EAEAEA",dataColors:["#01B8AA","#374649","#FD625E","#F2C80F","#5F6B6D","#8AD4EB","#FE9666","#A66999"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},Dark:{name:"Dark",foreground:"#FFFFFF",background:"#484644",dataColors:["#51CFBE","#F55965","#FE9666","#92BEFF","#B577DF","#29B9EF","#3599B8","#DFBFBF"],tableAccent:"#E2A84E",tiles:{background:"#2B2B30",color:"#FFFFFF"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#FFFFFF"}}},{labelColor:{solid:{color:"#CECECE"}}}]}}}},"Color-blind friendly":{name:"Color-blind friendly",background:"#EAEAEA",foreground:"#000000",dataColors:["#074650","#009292","#FE6DB6","#FEB5DA","#480091","#B66DFF","#B5DAFE","#6DB6FF","#914800","#23FD23"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}}}}},172674:function(Ce,k,r){r.d(k,{G7:function(){return u},YU:function(){return a},pF:function(){return e}});var a=function(t){return t[t.composite=0]="composite",t[t.iframe=1]="iframe",t[t.image=2]="image",t[t.model=3]="model",t[t.ssrs=4]="ssrs",t[t.workbook=5]="workbook",t[t.report=6]="report",t[t.realTime=8]="realTime",t}({}),e=function(t){return t[t.NamedRange=0]="NamedRange",t[t.Parameter=1]="Parameter",t[t.Table=2]="Table",t[t.PivotTable=3]="PivotTable",t[t.Chart=4]="Chart",t[t.WebExtension=5]="WebExtension",t}({}),u=function(t){return t[t.PowerBIServiceException=0]="PowerBIServiceException",t[t.DSRException=1]="DSRException",t}({})},818679:function(Ce,k,r){r.d(k,{NQ:function(){return a},a7:function(){return e}});var a={name:"syncServiceDashboardEdited",type:4},e={name:"syncServiceDashboardDeepEdited",type:4}},325513:function(Ce,k,r){r.d(k,{_p:function(){return u}});var u={color:"#374649",fontColor:"#FFF"}},934759:function(Ce,k,r){r.d(k,{m:function(){return a}});var a=function(e){return e[e.Dashboard=0]="Dashboard",e[e.Report=1]="Report",e[e.Model=2]="Model",e[e.Workbook=3]="Workbook",e}({})},5358:function(Ce,k,r){r.d(k,{A:function(){return C}});var a=r(230373),e=r(238175),u=r(302355);class C{constructor(i){this.contract=i,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=i&&null!=i.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId=`${a.ty.Dashboard}_${this.contract.id}`}getPermissions(){var i;return this.getPermissionsCallback&&null!=(i=this.getPermissionsCallback())?i:this.contract&&this.contract.permissions}increaseHitCount(){this.hitCount++}get tiles(){return this.lazyTiles||(this.lazyTiles=new e.o(()=>[])),this.lazyTiles.getValue()}get id(){return this.contract.id}set id(i){this.contract.id=i}get folderId(){return this.contract.folderId}set folderId(i){this.contract.folderId=i}get objectId(){return this.contract.objectId}get canEdit(){return(0,u.cl)(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)}get contentTileType(){return a.ty.Dashboard}isFilled(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length}calculateLayout(){this.layoutRequired=!1;var i=this.tiles;if(!_.isEmpty(i))for(var o of i)o.calculateLayout()}applyLayout(){var i=this.tiles;if(!_.isEmpty(i))for(var o of i)o.applyLayout()}runLayoutIfRequired(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())}scheduleDelayedLayout(i=!1){this.layoutRequired||(this.layoutRequired=!0,i||setTimeout(()=>{this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},100))}findTile(i){return _.find(this.tiles,o=>o.id===i)}findTileByObjectIdOrOriginalObjectId(i,o){if(i||o)return _.find(this.tiles,c=>!_.isEmpty(i)&&c.contract.objectId===i||!_.isEmpty(o)&&c.contract.originalTileObjectId===o)}getTileIndex(i){return _.findIndex(this.tiles,o=>o.id===i)}getTileContractIndex(i){return _.findIndex(this.contract.tiles,o=>o.id===i)}getUniquePackageId(){var i=this.contract;return i.originalPackageId?i.originalPackageId:i.packageIds&&1===i.packageIds.length?i.packageIds[0]:void 0}hasModel(i){return _.some(this.tiles,o=>o.contract.modelId===i)}hasOwnerInfo(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)}}},436916:function(Ce,k,r){r.d(k,{o:function(){return y}});var a=r(94567),e=r(939123),u=r(737466),t=r(425659),C=window;class y{constructor(o,c){e.fF.assertAnyValue(o,"datasetInfo"),e.fF.assertAnyValue(c,"definition"),this.datasetInfo=o,this.definition=c}get databaseName(){return this.datasetInfo.databaseName}get primaryKey(){return this.datasetInfo.resourceKey}get secondaryKey(){return this.datasetInfo.resourceKeySecondary}getPushUrl(){var o=window.tenantId,c=window.apiUri;"https://wabi-staging-us-east-redirect.analysis.windows.net"===C.clusterUri&&(c="https://powerbistagingapi.analysis.windows.net"),e.fF.assertValue(c,"apiURI"),e.fF.assertValue(o,"tenantId");var n=u.b$.urlCombine(c,"/beta/"+o+"/datasets/"+this.databaseName+"/rows"),s={};return s.key=this.primaryKey,a.s.addOrUpdateQueryStringToUrl(n,s)}static createRealTimeDatasetDefinition(o,c,h){e.fF.assertValue(o,"modelName"),e.fF.assertValue(h,"schema");var d=h.schema(t.db).entities;e.fF.assert(()=>d&&1===d.length,"Exactly 1 entity is expected");var n=_.head(d),s=[];return _.map(n.properties,p=>{s.push({name:p.displayName,dataType:y.convertToRealTimeDataType(p.type)})}),{name:o,columns:s,mode:c,tableName:n.name}}static convertToRealTimeDataType(o){switch(e.fF.assertValue(o,"type"),o.primitiveType){case 3:case 4:return 1;case 7:return 2;case 1:return 0;case 5:return 3;default:e.fF.assertFail("Unsupported data type")}}}},753885:function(Ce,k,r){r.d(k,{b:function(){return t}});var a=r(172674),e=r(345540),u=r(760331);function t(C,y){if(C&&C.type===a.YU.realTime){var i=y.tileModelConverter.convertTileConfig(C);y.tileModelConverter.convertTileLayoutConfig(C);var o=new u.V(C,y.visualPlugin,y.visualPluginOps,y.featureSwitchService,y.geolocationService,y.geocoder,y.promiseFactory,y.moduleLoader,y.telemetryService,y.themeService,y.authenticationService,y.localizationService,y.visualHostTooltipService,y.azureMapTokenCache,y.azureMapsEndpoint,y.geocoderIndexedDB);i&&i.realTimeVisual&&(o.config=i.realTimeVisual),o.displayText=C.displayText,o.subDisplayText=C.subDisplayText;var c=(0,e.gq)(C);return o.size={rowSpan:c.height,colSpan:c.width},o}}},908502:function(Ce,k,r){r.d(k,{Gj:function(){return O},NP:function(){return x},O4:function(){return P},qX:function(){return w},r5:function(){return E},r_:function(){return M}});var a=r(792375),e=r(885825),u=r(221435),t=r(848681),C=r(821026),y=r(286132),i=r(834678),o=r(939123),c=r(737466),h=r(969143),d=r(446068),n=r(564324),s=r(172674),p=r(345540),l=r(745870),m=r(953474),b=100;function P(F,A,T){o.fF.assertValue(F,"pinData");var R=function(F,A){var T=function(F,A){var T={$visualContainer:F.visualContainer,$modelExtensions:F.modelExtensions,themeCollection:d.P.cloneThemeCollection(F.themeCollection),dataSourceVariables:F.dataSourceVariables};return function(F,A,T,R,U,z,j,H,q){R&&(F.layoutType=R),T&&(F.elements=T),U&&(F.queryMetadata=U),j&&(F.heading1=j),z&&(F.heading2=z),H&&(F.heading3=H),A&&(F.transform=e.F.serializeTransformActions(e.F.serializeDataViewTransformActions(A,q&&q.objects)))}(T,F.dataTransforms,F.elements,F.tileLayoutType,F.queryMetadata,F.tileFilterDetails,F.tileHeading,F.tileSubDisplay,A),T}(F,A),R={version:n.lr},U=F.visualContainer.config.singleVisual.vcObjects?.title?.find(j=>!j.selector);if(R.hideTitle=!1===U?.properties?.show?.value,null!=F.realTimeDataWindow){var z=T;z.dataWindow=F.realTimeDataWindow,R.realTimeVisual=z}else R.visualContainer=T;return R}(F,A);F.tileDataType&&(R.tileDataType=F.tileDataType);var U=function(F,A,T,R,U){o.fF.assert(()=>A===s.YU.composite||A===s.YU.realTime,"Invalid type"),o.fF.assertValue(F,"tileConfig");var z=y.a9,j=y.lZ;(0,l.s)(F)===i.L.card.name&&(z=y.gY,j=y.eg);var H=T?{modelQuery:{sq:JSON.stringify(T)}}:null,q=(0,p.Pl)({width:z,height:j}),G={id:++b,type:A,query:H,$config:F,tileData:R?L(R.data):null,tileDataSet:R,layoutConfig:JSON.stringify(q),$layoutConfig:q},J=F.visualContainer;return J&&(G.displayText=J.heading1,G.subDisplayText=J.heading3),U&&(G.modelId=U.id),G}(R,null!=F.realTimeDataWindow?s.YU.realTime:s.YU.composite,F.query,F.dataViewSource,T);return U.publishState=2,F.action&&(U.action=JSON.stringify(F.action)),null!=F.utterance&&(U.query.modelQuery.utterance=F.utterance),F.name&&(U.name=F.name),U.reportId=F.reportId,F.modelId&&(U.modelId=F.modelId),F.packageId&&(U.packageId=F.packageId),U.resourcePackageIds=F.resourcePackageIds,U}function M(F,A,T,R,U,z,j,H,q,G,J,Z){var ne,Q={version:n.lr};(H||q)&&(Q.reportTile={pod:H,filters:q}),G&&(ne={modelQuery:{utterance:G}});var Se=J?J/(2*C.A4):2,Ke=Z?Z/(2*C.lT):2;0===Math.round(Se)&&(Se=2),0===Math.round(Ke)&&(Se=2);var Ge=Math.round(y.a9*Se),ye=Math.round(y.lZ*Ke);Ge=Ge>(0,t.bq)()?(0,t.bq)():Ge,ye=ye>(0,t.be)()?(0,t.be)():ye;var we=(0,p.Pl)({width:Ge,height:ye});return{id:++b,type:s.YU.report,displayText:U,subDisplayText:z,action:JSON.stringify(j),reportId:F,sectionId:R,modelId:A,packageId:T,publishState:2,query:ne,config:Q?JSON.stringify(Q):void 0,$config:Q,layoutConfig:JSON.stringify(we),$layoutConfig:we}}function E(F){return 1===F.publishState}function w(F){return 20===F.errorCode}function x(F,A){var T=[],R=function(F,A){var T=[{id:1,title:A.get("AddWidgetModal_IframeOption_Title"),description:A.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:s.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:1,name:"webContent"}},$layoutConfig:(0,p.Pl)()},disabled:!F,tooltip:F?void 0:A.get("Dashboard_WebContentTiles_Disabled")},{id:2,title:A.get("Image"),description:A.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:s.YU.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:2,name:"image"}},$layoutConfig:(0,p.Pl)()}},{id:3,title:A.get("Textbox"),description:A.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:s.YU.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",visualContainer:{layoutType:0,$visualContainer:{name:c.b$.generateGuid(),config:{singleVisual:{objects:{},visualType:"textbox"}}},themeCollection:{}},widget:{id:3,name:"textbox"}},$layoutConfig:(0,p.Pl)()}},{id:4,title:A.get("AddWidgetModal_VideoOption_Title"),description:A.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:s.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:4,name:"video"}},$layoutConfig:(0,p.Pl)()},disabled:!F,tooltip:F?void 0:A.get("Dashboard_WebContentTiles_Disabled")}];return{title:A.get("Add_Widgets_Section_Title"),tiles:T}}(F,A);R&&!_.isEmpty(R.tiles)&&T.push(R);var U=function(F){var A=[];return A.push({id:6,title:F.get("Realtime_TileTitle"),description:F.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:s.YU.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:0,$visualContainer:{name:c.b$.generateGuid(),config:{singleVisual:null}},themeCollection:{}},version:"1.0"},$layoutConfig:(0,p.Pl)({width:y.gY,height:y.eg})}}),{title:F.get("Add_Realtime_Section_Title"),tiles:A}}(A);return U&&!_.isEmpty(U.tiles)&&T.push(U),_.cloneDeep(T)}function L(F){if(void 0!==F)return JSON.stringify(F,(A,T)=>A&&A.charAt&&"$"===A.charAt(0)?void 0:T)}function O(F,A,T,R){if(F){var U=_.cloneDeep(F),z=U.realTimeVisual||U.visualContainer;if(z){if(o.fF.assertValue(A,"Exploration serializer is required when serializing a composite tile"),R)z.visualContainer=A.serializeVisualContainer((F.realTimeVisual||F.visualContainer).$visualContainer);else{var j=z.$visualContainer.config.singleVisual,H=(0,h.NA)(j.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);H&&(0,m.VC)(H)&&H.value&&(z.stylePresetName=H.value),z.visual=j.visualType,z.columnProperties=j.columnProperties;var q=F.realTimeVisual||F.visualContainer,G=q.$visualContainer.config.singleVisual.objects;if(G){var J=T.capabilities(j.visualType);J&&J.objects&&(z.objects=(0,a.xF)(G,J.objects,void 0,!0))}var Z=F.visualContainer&&q.$visualContainer.config.singleVisual.vcObjects;Z&&(z.vcObjects=(0,a.xF)(Z,u.XW,void 0,!0)),U.visualContainer&&(U.visual=z,delete U.visualContainer),U.version="0.1"}z.$modelExtensions&&(z.modelExtensions=A.serializeModelExtensions(z.$modelExtensions)),delete z.$visualContainer,delete z.$modelExtensions}return JSON.stringify(U)}}},192108:function(Ce,k,r){r.d(k,{N:function(){return n}});var a=r(200227),e=r(939123),u=r(265230),t=r(616113),C=r(737466),y=r(172674),i=r(570448),o=r(345540),c=r(786159),h=r(908502),d=r(912331);function n(p,l,m,b,V,g,v,f,S,P,D,M,E,w,x,N,L,B){return new s(p,l,m,b,V,g,v,f,S,P,D,M,E,w,x,N,L,B)}class s{constructor(l,m,b,V,g,v,f,S,P,D,M,E,w,x,N,L,B,I){this.geolocationService=l,this.telemetryService=m,this.visualPlugins=b,this.visualPluginOps=V,this.featureSwitchService=g,this.geocoder=v,this.promiseFactory=f,this.moduleLoader=S,this.tileConfigUpgraderService=P,this.explorationSerializer=D,this.themeService=M,this.authenticationService=E,this.localizationService=w,this.visualHostTooltipService=x,this.licenseUIManagerFactory=N,this.azureMapTokenCache=L,this.azureMapsEndpoint=B,this.geocoderIndexedDB=I}convertCompositeTile(l){if(!l||l.type!==y.YU.composite)return null;var b,m=this.convertTileConfig(l);if(this.convertTileLayoutConfig(l),!m||!m.visualContainer)return e.fF.assertFail("Invalid composite tile type"),null;(b=new d.iI(l,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory)).config=m.visualContainer,b.displayText=l.displayText,b.subDisplayText=l.subDisplayText;var V=(0,o.gq)(l);if(b.size={rowSpan:V.height,colSpan:V.width},b.isLoading=(0,h.r5)(l),l.queryResultError){b.isError=!0;var g=l.queryResultError;this.telemetryService.logEvent(i.UH,{tileType:y.YU[y.YU.composite],message:(0,t.W)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,u.BB)(y.G7,g.type),g.errorDetail,g.rootActivityId,l.modelId.toString(),l.id.toString())});var v=(0,c.X7)(g,this.localizationService);v?(b.errorDetails=v,b.errorText=v.message):b.errorText=this.localizationService.get("Tile_ErrorText")}return b}convertTileData(l){if(l.tileDataSet)return l.tileDataSet;var m=this.convertTileConfig(l);try{l.tileDataSet=this.parseTileData(l,m.tileDataType)}catch(b){throw this.telemetryService.logEvent(i.UH,{tileType:y.YU[y.YU.composite],message:(0,t.W)("DsrParseError:{0} with modelId:{1} and tileId:{2}",b.message,l.modelId.toString(),l.id.toString())}),C.b$.ensureError(b)}return l.tileDataSet}convertTileConfig(l){e.fF.assertValue(l,"contract");var m=l.$config;if(!m){var b=(0,C.BL)("Parse tile config");try{var V=(m=l.$config=(0,c.M8)(l.config)).visualContainer||m.realTimeVisual;this.deserializeVisualContainer(V),this.deserializeModelExtensions(V||m.visual),this.tileConfigUpgraderService.upgrade(l.id,m,l.query)}catch{e.fF.assertFail("Unable to parse tile config")}finally{b()}}return m}convertTileLayoutConfig(l){if(e.fF.assertValue(l,"contract"),!l.$layoutConfig){var m=(0,c.mf)(l);l.$layoutConfig=m,l.layoutConfig=JSON.stringify(m)}return l.$layoutConfig}deserializeVisualContainer(l){l&&l.visualContainer&&!l.$visualContainer&&(l.$visualContainer=this.explorationSerializer.deserializeCanvasItem(l.visualContainer))}deserializeModelExtensions(l){l&&l.modelExtensions&&!l.$modelExtensions&&(l.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(l.modelExtensions))}parseTileData(l,m){var V,b=(0,C.BL)("Parse tile data");try{if(l.tileDataBinaryBase64Encoded){var g=(0,a.Wh)(l.tileDataBinaryBase64Encoded);V=JSON.parse(g)}else l.tileData&&(V=JSON.parse(l.tileData));return{type:m,data:V}}finally{b()}}}},912331:function(Ce,k,r){r.d(k,{iI:function(){return v}});var a=r(883803),e=r(885825),u=r(544279),t=r(159214),C=r(674119),y=r(171520),i=r(445115),o=r(848681),c=r(286132),h=r(939123),d=r(454865),n=r(123537),s=r(969143),p=r(570448),l=r(786159),m=r(322064),b=r(953474);class V{constructor(S,P,D){this.useSmallPlotArea=!1,h.fF.assertValue(S,"contract"),h.fF.assertValue(P,"visualPlugins"),h.fF.assertValue(D,"visualPluginOps"),this.contract=S,this.visualPluginService=P,this.pluginOps=D}get type(){return h.fF.assertFail("this is an abstract property!"),null}get tileData(){return h.fF.assertFail("this is an abstract property!"),null}set tileData(S){h.fF.assertFail("this is an abstract property!")}get tileDataIsVolatile(){return h.fF.assertFail("this is an abstract function!"),!1}get isError(){return this._isError}isDataStale(S){return h.fF.assertFail("this is an abstract function!"),!1}set isError(S){this._isError=S,this.onErrorDelegate&&this.onErrorDelegate()}get heading1(){return this.config.heading1||""}setDependencies(S){this.dataProxy=S}setDataLoadEventDelegate(S){this.dataLoadEventDelegate=S}copyDependencies(S){S.dataProxy&&this.setDependencies(S.dataProxy)}}class v extends V{constructor(S,P,D,M,E,w,x,N,L,B,I,W,O,F,A,T,R){super(S,P,D),this.featureSwitchService=M,this.geolocationService=E,this.geocoder=w,this.promiseFactory=x,this.moduleLoader=N,this.telemetryService=L,this.themeService=B,this.authenticationService=I,this.localizationService=W,this.visualHostTooltipService=O,this.azureMapTokenCache=F,this.azureMapsEndpoint=A,this.geocoderIndexedDB=T,this.requiresResize=!1,h.fF.assertAnyValue(E,"geolocationService"),R&&(this.licenseUIManager=R.create()),this._visual={hostServices:this.createHostServices(R?{onNotifyLicense:z=>this.onNotifyLicense(z),onClearLicenseNotification:()=>this.onClearLicenseNotification(),onNotifyFeatureBlocked:z=>this.onNotifyFeatureBlocked(z)}:void 0),themeCollection:{}}}get type(){return 0}get visual(){return this._visual}get themeCollection(){return this._visual&&this._visual.themeCollection}get heading1(){var S=this.config.heading1||"";if(!this.visual)return S;var P,D,M=this.visual.dataTransforms;M&&(P=M.selects);var E=this.visual.data;if(E&&(D=E.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var w=(0,t.VH)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,D,P);if(w.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,n.NA)(w.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var x=(0,n.NA)(w.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==x?this.cachedHeading=x:_.isEmpty(S)&&(S=" ")}}return this.cachedHeading||S}setThemeName(S){this.ensureVisual();var P=this._visual.themeCollection;P.customTheme=P.customTheme||(0,u.Mi)(S,1),P.customTheme.name=S}isDataStale(S){if(!S)return!1;var D=(0,i.ee)(this.contract.tileDataUpdatedTime),M=D&&D.getTime();return!!M&&S-M>36e5}setData(S,P,D){try{this.ensureVisual(),this._visual.data=S,this._visual.dataTransforms=P,this._visual.type=D,this.clearCache()}catch(M){this.telemetryService.logEvent(p.gc,{visualType:D,source:M.fileName,lineNumber:M.lineNumber,columnNumber:M.columnNumber,stack:M.stack,message:M.message})}}createHostServices(S){return(0,C.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,getAzureMapToken:()=>this.azureMapTokenCache.getAzureMapToken(),azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB,canExpandCollapse:()=>!0,onNotifyLicense:S&&S.onNotifyLicense,onClearLicenseNotification:S&&S.onClearLicenseNotification,onNotifyFeatureBlocked:S&&S.onNotifyFeatureBlocked})}ensureVisual(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())}set config(S){if(h.fF.assertValue(S,"The tile config must exist while setting it in a composite tile"),this._config=S,this._visual){var P=S.$visualContainer.config.singleVisual,D=P.visualType;this._visual.type=D;var M=(0,s.NA)(P.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=M&&(0,b.VC)(M)&&M.value,this._visual.themeCollection=_.cloneDeep(S.themeCollection);var E,w,x=this.visualPluginService.capabilities(D);x&&(E=x.objects,w=P.objects);var N=(0,y.K)(S.transform);this._visual.dataTransforms=N?e.F.deserializeDataViewTransformActions(N,x):e.F.createTransformActions(S.queryMetadata,S.elements,E,w)}}get config(){return this._config}get tileData(){return this._tileData}set tileData(S){this._tileData=S,this.readDataView(!0)}get tileDataIsVolatile(){return this.contract.tileDataIsVolatile}refreshData(){this.readDataView(!1)}setDependencies(S){var P=!this.dataProxy&&this._tileData&&!this.isLoading;super.setDependencies(S),P&&this.refreshData()}readDataView(S){var P=this;return(0,a.Z)(function*(){var D=P._visual.type;if(!P.visual||P.requiresData()){h.fF.assertValue(P._tileData,"tileData should be defined.");var M=P.dataProxy;if(M){if(P.contract.queryResultError){var E=(0,l.X7)(P.contract.queryResultError,P.localizationService);E?(P.isError=!0,P.errorDetails=E,P.errorText=E.message):P.errorText=P.localizationService.get("Tile_ErrorText")}if(!P._tileData||!P._tileData.data)return void(P.isLoading=!P.isError);var w=P._tileData,x={type:w.type,query:{dataSources:null,command:w.data},allowResultFromClientCache:S,perfId:D,kinds:P.pluginOps.dataViewKinds(D)},N=null;P.dataLoadEventDelegate&&(N=P.dataLoadEventDelegate(),P.dataLoadEventDelegate=null);try{var L=yield M.execute(x),I=L.dataReaderResult.error;P._visual.data={dataView:L&&L.dataReaderResult?L.dataReaderResult.dataView:null,dataViewSource:L&&L.dataViewSource?L.dataViewSource:null},P.isError=P.isError||null!=I,N&&(P.isError?N.reject():N.resolve())}catch{P.isError=!0,N&&N.reject()}}}else P._visual.data={dataView:null}})()}applyLayout(S,P){if(this.requiresResize){if(!P){var D=this.visual;D&&D.visual&&D.visual.update({viewport:D.viewport,dataViews:D.dataViews,suppressAnimations:!0,type:d.EP.Resize,resizeMode:S===o.XM.resized?2:S===o.XM.resizing?1:void 0})}this.requiresResize=!1}}calculateLayout(S,P,D=1){if(S&&((!this.viewport||this.viewport.height!==S.height||this.viewport.width!==S.width)&&(this.requiresResize=!0),this.viewport=S),null!=P&&this.useSmallPlotArea!==P&&(this.useSmallPlotArea=P,this.requiresResize=!0),this.viewport){var M=this.viewport.height,E=this.viewport.width;1===(this._config&&this._config.layoutType)||(M-=this.useSmallPlotArea?m.n:m.Un,E-=m.ho),this._visual&&(this._visual.viewport={height:M,width:E,scale:D})}}canResizeTo(S){var P=this._visual&&this._visual.visual;return!!P&&(!P.canResizeTo||P.canResizeTo((0,c.p2)(S)))}getErrorLocId(S,P){return""}requiresData(){var S=this.visual,P=this.pluginOps;if(S){if(S&&S.type){if(!P)return!0;if(!P.isQueryVisual(S.type))return!1}return!0}}updateVisualInteractivityOptions(S){var P=this.visualPluginService.getInteractivityOptions(this._visual.type);typeof P.mobileTileInteractive<"u"&&(P.mobileTileInteractive=P.mobileTileInteractive&&S),this._visual.interactivityOptions=P}clearCache(){this.cachedHeading=void 0}onNotifyLicense(S){0!==S&&this.licenseUIManager.displayNotification(S)}onNotifyFeatureBlocked(S){this.licenseUIManager.displayFeatureBlockedBanner(S)}onClearLicenseNotification(){this.licenseUIManager.clearNotification()}}},350624:function(Ce,k,r){r.d(k,{h:function(){return e}});var a=r(286132);class e{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===a.lZ||t.colSpan===a.gY}getErrorLocId(t,C){return""}}},549590:function(Ce,k,r){r.d(k,{n:function(){return u}});var a=r(286132),e=r(737466);class u{constructor(C){this.contract=C}get imageUrl(){return this._imageUrl}set imageUrl(C){this._imageUrl=C,C&&!this.isStatic&&0!==C.indexOf("data:")&&(this._imageUrl=e.b$.getAbsoluteUri(C))}canResizeTo(C){return C.rowSpan===a.lZ||C.colSpan===a.gY}getErrorLocId(C,y){return""}}},866069:function(Ce,k,r){r.d(k,{U:function(){return e}});var a=r(286132);class e{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===a.eg}getErrorLocId(t,C){return""}}},760331:function(Ce,k,r){r.d(k,{V:function(){return h}});var a=r(883803),e=r(504156),u=r(939123),t=r(265230),C=r(931145),y=r(425659),i=r(345540),o=r(912331),c=r(972784);class h extends o.iI{constructor(n,s,p,l,m,b,V,g,v,f,S,P,D,M,E,w){super(n,s,p,l,m,b,V,g,v,f,S,P,D,M,E,w),this._visual=null,this._localizationService=P}setModelId(n){var s=this;return(0,a.Z)(function*(){u.fF.assertAnyValue(n,"id"),s.contract.modelId=n,yield s.initialize()})()}getRealTimeModelId(){var n=this;return(0,a.Z)(function*(){if(n.datasetStore){var s=n.contract;return n.datasetStore.findAll(s.modelId,!0).then(p=>{if(!_.isEmpty(p)){var l=_.find(p,b=>null==s.packageId||b.packageId===s.packageId);return l||(l=_.find(p,b=>(0,t.yE)(b.permissions,7))),l||(l=_.first(p)),{id:l.id,originalModelId:l.originalModelId,tableName:n.getSchemaTableName(),schema:n.getRealTimeConceptualSchema(),packageId:s.packageId}}})}})()}setRealTimeModelDependencies(n,s,p,l,m){super.setDependencies(n),u.fF.assertValue(s,"visualQueryGenerator"),u.fF.assertValue(p,"conceptualSchemaProxy"),u.fF.assertValue(l,"realTimeDataService"),this.visualQueryGenerator=s,this.conceptualSchemaProxy=p,this.realTimeDataService=l,this.datasetStore=m}copyRealTimeModelDependencies(n){var s=this;return(0,a.Z)(function*(){if(u.fF.assertValue(n,"other"),n.schema&&(s.schema=n.schema),n.dataProxy&&n.realTimeDataService&&n.visualQueryGenerator&&n.conceptualSchemaProxy){s.setRealTimeModelDependencies(n.dataProxy,n.visualQueryGenerator,n.conceptualSchemaProxy,n.realTimeDataService,n.datasetStore),n.onErrorDelegate&&!s.onErrorDelegate&&(s.onErrorDelegate=n.onErrorDelegate);var p=yield n.getRealTimeModelId();s.realTimeDataService.replaceListener(p,n,s)}})()}onDataChanged(){var n=this;return(0,a.Z)(function*(){if(u.fF.assertValue(n.visualQueryGenerator,"visualQueryGenerator"),u.fF.assertValue(n.dataProxy,"dataProxy"),n.singleVisualConfig){var s=y.PB,p=n.config;p&&p.dataWindow&&(s=p.dataWindow);var b,l=yield n.getDatasources(),m=n.visualQueryGenerator.execute({dataSources:l,schema:n.schema,config:n.singleVisualConfig,additionalFilters:null,dataWindow:s});!m||m.error?(m&&m.error&&(b=m.error.getDetails(n._localizationService)),n.onError(b)):n.dataProxy.execute(m.options).then(V=>{n.isError=!1;var g={dataView:V&&V.dataReaderResult?V.dataReaderResult.dataView:null},v=n.lastCategoryValue;try{var f=(0,c.kQ)(g.dataView);if(null!=v&&null!=f&&v.valueOf()>=f.valueOf())return;n.lastCategoryValue=f}catch(S){}n.setData(g,m.transforms,n.config.$visualContainer.config.singleVisual.visualType),n.isLoading=!1},V=>{if(!(V instanceof e.C6)){var g=V&&V.getDetails(n._localizationService);n.onError(g)}})}})()}onError(n){n||(n=(new e.Kd).getDetails(this._localizationService)),this.setErrorDetails(n)}getDatasources(){var n=this;return(0,a.Z)(function*(){var s=yield n.getRealTimeModelId();if(s)return(0,c.bk)(s.id,s.originalModelId)})()}set singleVisualConfig(n){u.fF.assertValue(n,"config"),this.config.$visualContainer.config.singleVisual=n,this.onDataChanged()}get singleVisualConfig(){return this.config.$visualContainer.config.singleVisual}isDataStale(){return!1}initialize(){var n=this;return(0,a.Z)(function*(){var s=(0,i.gq)(n.contract);return n.size={rowSpan:s.height,colSpan:s.width},n.getDatasources().then(p=>{if(p)return n.conceptualSchemaProxy.get(p).then(l=>(n.fixUpSchema(l),n.schema=l,n.getRealTimeModelId().then(m=>{n.realTimeDataService.subscribe(m,n)})))})})()}unsubscribe(){var n=this;return(0,a.Z)(function*(){return n.getRealTimeModelId().then(s=>{if(s&&s.tableName)return n.realTimeDataService.unsubscribe(s,n)})})()}fixUpSchema(n){var s=n.schema(y.db).entities;u.fF.assert(()=>s&&1===s.length,"Exactly 1 entity is expected.");var p=s[0].properties;for(var l of p)(l.type===C.Ge.fromDescriptor({numeric:!0})||l.type===C.Ge.fromDescriptor({integer:!0}))&&(l.kind=1)}getSchemaTableName(){var n=this.getRealTimeConceptualSchema();if(n){var s=n.entities;return u.fF.assert(()=>1===s.length,"Expecting only one entity"),_.head(s).name}}getRealTimeConceptualSchema(){if(this.schema)return this.schema.schema(y.db)}setErrorDetails(n){u.fF.assertValue(n,"errorDetails should be set"),this.errorDetails=n,this.errorText=n.message,this.isError=!0}}},594956:function(Ce,k,r){r.d(k,{I:function(){return e}});var a=r(286132);class e{constructor(t){this.contract=t,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}canResizeTo(t){return t.rowSpan===a.lZ||t.colSpan===a.gY}getErrorLocId(t,C){return""}}},766058:function(Ce,k,r){r.d(k,{L:function(){return u}});var a=r(286132),e=r(737466);class u{constructor(C){this.contract=C}get imageUrl(){return this._imageUrl}set imageUrl(C){C&&(this._imageUrl=0!==C.indexOf("data:")?e.b$.getAbsoluteUri(C):C)}canResizeTo(C){return C.rowSpan===a.av||C.colSpan===a.CJ}getErrorLocId(C,y){return""}}},322064:function(Ce,k,r){r.d(k,{$V:function(){return M},Un:function(){return L},X8:function(){return h},_:function(){return p},aN:function(){return E},ho:function(){return B},je:function(){return s},n:function(){return I},n9:function(){return W},ng:function(){return m},xg:function(){return n}});var a=r(69578),e=r(742642),u=r(445115),t=r(722709),C=r(939123),y=r(377714),i=r(172674),o=r(345540),c=r(786159),h=function(z){return z[z.Dashboard=0]="Dashboard",z[z.Report=1]="Report",z[z.RdlReport=2]="RdlReport",z}({});function n(z){return!_.isEmpty(z)&&0===z.toLowerCase().indexOf(b)}function s(z){return!_.isEmpty(z)&&0===z.toLowerCase().indexOf(V)}function p(z){return!_.isEmpty(z)&&0===z.toLowerCase().indexOf(g)}function m(z){return n(z)||s(z)||p(z)||function(z){return!_.isEmpty(z)&&0===z.toLowerCase().indexOf(v)}(z)}var b="/dashboards/",V="/reports/",g="/rdlreports/",v="/workbooks/",M=65,E=55,L=20,B=20,I=8;class W{constructor(j,H,q){this.forceOpenCustomLinksInNewTab=q,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=j,this.tileHeaderSize=1,this.layoutPosition={},this.localizationService=H,this.themeName="Light",this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}get gridLayouts(){return this.contract.$layoutConfig.layouts}get id(){return this.contract.id}set id(j){this.contract.id=j}get objectId(){return this.contract.objectId}get details(){switch(this.type){case i.YU.composite:return this.composite;case i.YU.iframe:return this.iframe;case i.YU.image:return this.image;case i.YU.model:return this.model;case i.YU.ssrs:return this.ssrs;case i.YU.workbook:return this.workbook;case i.YU.report:return this.reportTile;case i.YU.realTime:return this.realTime;default:return C.fF.assertFail("Invalid tile type"),null}}get shouldBeIncludedInTelemetryMeasurement(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement}get isTemporary(){return this.id<=0}get isTileLoading(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading}calculateLayout(j,H){var q=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(j)&&!_.isNil(H)&&(j=this.currentViewPort),this.compositeTile&&j){var G=j,J=2===this.tileHeaderSize;if(_.isNil(H)||_.isNil(this.currentViewPort))J?this.hasTitle()?G.height-=q:1!==(this.composite&&this.composite.config&&this.composite.config.layoutType)&&(G.height-=10):this.hasTitle()&&(this.hasSubtitle()?G.height-=q:G.height-=q-10),this.currentViewPort=G;else if(H>0){var Z={width:this.currentViewPort.width,height:this.currentViewPort.height};Z.height-=H,Z.height<=0?C.fF.assert(()=>Z.height>0,"ViewPort height is zero or negative"):G=Z}this.compositeTile.calculateLayout(G,J)}}getTileHeight(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0}applyLayout(j,H){this.compositeTile&&this.compositeTile.applyLayout(j,H)}invalidateLayout(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()}tryPopulateLayoutPositionValues(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var j=this.gridLayoutContext.getActiveLayout(),q=(0,t.Br)(this.contract.$layoutConfig.layouts).withId(j);return q&&q.position&&(this.layoutPosition=_.cloneDeep(q.position)),!0}applyChanges(){if(this.contract&&this.gridLayoutContext){var j=_.cloneDeep(this.layoutPosition);(0,c.bQ)(this.contract.$layoutConfig,j,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}}static isValidUrl(j,H){return!_.isEmpty(j)&&((0,y.HH)(j,!1)||H&&m(j))}getDisplayText(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""}getSubDisplayText(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var j=this.compositeTile.config;if(!this.displayText&&j&&!_.isEmpty(j.heading3))return j.heading3}return""}shouldPlaceBulletSeperator(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled}get hrefTarget(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"}get lastRefreshTimeInLocaleString(){var j=(0,u.ee)(this.contract.tileDataUpdatedTime),H="";return j?H=j.toLocaleString():this.datasetModel&&(H=this.datasetModel.lastRefreshTimeInLocaleString),H||""}get formattedTime(){var j;if(this.workbook){var H=this.contract.tilePackage;j=H?(0,u.ee)(H.lastRefreshTime):null}else j=(0,u.ee)(this.contract.tileDataUpdatedTime);return j?this.cachedRefreshTime&&j.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=j,this.cachedRefreshString=this.getFormattedDateString(j)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0}getFormattedDateString(j){var H=a.IH,q=(0,a.ih)();return q&&H(j,O,A,!1)?(0,e.WQ)(j,this.localizationService):q&&H(j,F,T,!0)?(0,a.nK)(this.localizationService.currentLanguageLocale,j):q&&H(j,F,R,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,a.nK)(this.localizationService.currentLanguageLocale,j)]):q&&H(j,F,U,!0)?(0,a.u5)(this.localizationService.currentLanguageLocale,j):(0,a.nY)(this.localizationService.currentLanguageLocale,j)}setDatasetModelAndPackageInfo(j,H){j&&(this.datasetModel=j,H&&(this.datasetModel.packagePublishStatus=H.publishOrRefreshStatus))}hasTitle(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))}hasSubtitle(){var j=this.config;return(!j||!j.hideTitle)&&(!_.isEmpty(this.subDisplayText)||j&&j.lastRefreshTimeEnabled)}lastRefreshTimeInLocaleWithLabel(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])}setTileHeaderSize(j){this.tileHeaderSize!==j&&(this.tileHeaderSize=j,this.invalidateLayout())}get compositeTile(){return this.composite||this.realTime}hasLayoutDefinition(j){return!!(0,t.Br)(this.contract.$layoutConfig.layouts).withId(j)}hasLayoutPosition(j){return!!(0,o.zS)(this.contract,j)}removeLayoutPosition(j=1){return C.fF.assert(()=>0!==j,"Cannot remove position for Master position"),this.hasLayoutDefinition(j)&&(this.addLayout({id:j,position:null},j),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}resetTileLayoutSizeAndPosition(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null}removeLayoutDefinition(j=1,H=!0){return C.fF.assert(()=>0!==j,"Cannot remove layout for Master position"),this.hasLayoutDefinition(j)&&(_.remove(this.contract.$layoutConfig.layouts,q=>q.id===j),H&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}applyLayoutSize(j,H,q){C.fF.assertValue(j,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:j.colSpan,rowSpan:j.rowSpan}),this.applyLayout(H,q)}getCurrentTileLayoutDescriptor(j,H,q){return(0,c._z)(this.contract,j||this.contract.$layoutConfig,H,q)}buildLayoutDescriptor(){var j=_.cloneDeep(this.layoutPosition),H=_.cloneDeep(this.contract.$layoutConfig);(0,c.bQ)(H,j,this.gridLayoutContext.getActiveLayout());var q=this.composite&&this.composite.contract&&this.composite.contract.query,G=q&&(0,c.HL)(q,j),J=null;return q&&G&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(G),J=JSON.stringify(this.composite.contract.query)),(0,c._z)(this.contract,H,q,J)}addLayout(j,H){return C.fF.assert(()=>0!==H,"Cannot remove position for Master position"),C.fF.assertValue(j,"Cannot update with undefined"),this.removeLayoutDefinition(H),this.contract.$layoutConfig.layouts.push(j),this.getCurrentTileLayoutDescriptor()}getHeaderSizeByType(j){switch(j){case 0:return M;case 2:return 42;default:return 50}}}var O="minute",F="day",A=15,T=0,R=1,U=6},590212:function(Ce,k,r){r.d(k,{V:function(){return e}});var a=r(286132);class e{constructor(t,C){this.contract=t,this.tileModel=C}canResizeTo(t){return t.rowSpan===a.lZ||t.colSpan===a.gY}getErrorLocId(t,C){var y,i=[];switch(t){case 10:y="WorkbookTile_GeneralError";break;case 11:y="WorkbookTile_FileNotFound";break;case 12:y="WorkbookTile_ObjectNotFound",i=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case 13:y="WorkbookTile_Unauthorized";break;default:return""}return C.format(y,i)}hasImages(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0}get images(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null}get hasWorkbookTileConfig(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile}}},471529:function(Ce,k,r){r.d(k,{I:function(){return C}});var a=r(734311),e=r(230373),u=r(480936),t=r(265230);class C extends a.H{constructor(i){super(typeof i>"u"?0:i.id,1,typeof i>"u"?0:i.packageId),this.contract=i}getPermissions(){var i;return this.getPermissionsCallback&&(i=this.getPermissionsCallback()),i||this.contract&&this.contract.permissions}get contentTileType(){return e.ty.Workbook}isOwner(){return(0,t.yE)(this.getPermissions(),7)}isPersonalized(){var i=this.getPermissions();return(0,t.yE)(i,11)&&!(0,t.yE)(i,7)}isEditable(){var i=this.editUrl;return this.isOwner()&&null!=i&&""!==i}get displayNameWithExtension(){var i=(0,u.m)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(i)}}},570448:function(Ce,k,r){r.d(k,{UH:function(){return C},gc:function(){return u}});var a=r(17933),e="PBI.TileDataUpdateException",u=a.cx[e]=(0,a.b1)(e),t="PBI.Dashboard.TileError",C=a.cx[t]=(0,a.b1)(t)},19309:function(Ce,k,r){r.d(k,{$O:function(){return i},J0:function(){return d},RC:function(){return c},Xk:function(){return n},aI:function(){return p},ir:function(){return h},jg:function(){return s},tp:function(){return C}});var a=r(270862),e=r(939123),u=r(737466),t=r(486226);function C(l){return l&&5===l.category}function i(l){return l.originalPackageId?l.originalPackageId:l.packageIds&&1===l.packageIds.length?l.packageIds[0]:void 0}function c(l,m){var b=(0,t.N)(l);return b&&b.toLocaleDateString(m.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function h(l){return e.fF.assertValue(l,"AppUtils hasAppLogoImage appModel"),!(l.icon||_.isEmpty(l.iconUrl)&&_.isEmpty(l.localAppLogoImageData))}function d(l,m){if(e.fF.assertValue(l,"AppUtils getAppLogoImageUrl appModel"),e.fF.assertValue(m,"AppUtils getAppLogoImageUrl backendUri"),h(l)){if(l.localAppLogoImageData)return l.localAppLogoImageData;if(l.iconUrl)return u.b$.urlCombine(m,l.iconUrl)}}function n(l,m){if(h(l))return`url(${d(l,m)})`}function s(l){if(!l)return"inherit";var m=(0,a.WV)(l);return.299*m.R+.587*m.G+.144*m.B>125?"#000":"#FFF"}function p(l){if(l)return(0,a.jd)((0,a.WV)(l),.8,.2)}},345540:function(Ce,k,r){r.d(k,{As:function(){return c},Pl:function(){return y},V3:function(){return C},gq:function(){return i},jD:function(){return t},zS:function(){return o}});var a=r(722709),e=r(939123);function t(s){var p=C(s);if(p&&p.Commands&&p.Commands.length>0){var l=p.Commands[0].SemanticQueryDataShapeCommand;return{defn:l.Query,shape:l.Binding}}return null}function C(s){if(s&&s.modelQuery&&s.modelQuery.sq){var p;try{p=JSON.parse(s.modelQuery.sq)}catch(m){}if(!p)return;var l=null;return function(s){return s.dataQuery&&s.dataQuery.Commands&&s.dataQuery.Commands.length>0}(p)?l=p.dataQuery:function(s){return s.Commands&&s.Commands.length>0}(p)?l=p:function(s){return s.defn}(p)&&(l={Commands:[{SemanticQueryDataShapeCommand:{Query:p.defn,Binding:p.shape}}]}),l}}function y(s={}){return{layouts:[{id:0,position:s}]}}function i(s){var p=o(s,0);return e.fF.assertValue(p,"masterLayout should always exist on tile"),p}function o(s,p){e.fF.assertValue(s,"tile"),e.fF.assertValue(s.$layoutConfig,"tile.$layoutConfig"),e.fF.assertValue(s.$layoutConfig.layouts,"tile.$layoutConfig.layouts");var m=(0,a.Br)(s.$layoutConfig.layouts).withId(p);return m?m.position:null}function c(s){switch(s){case 0:return"pbix";case 1:return"rdl";default:return"unknown"}}},302355:function(Ce,k,r){r.d(k,{$b:function(){return i},cl:function(){return t},nf:function(){return y},xT:function(){return o}});var a=r(445115),e=r(939123),u=3;function t(l){return!(2&~l.permissions)}function y(l){return!!l&&(0,a.KZ)(l)}function i(l,m){var b=[];if(!l)return b;var V=[],g=l.modelIds;if(_.isEmpty(g)||(V=g.slice(0)),_.map(l.tiles,D=>{null!=D.modelId&&V.push(D.modelId)}),_.isEmpty(V))return b;V=_.uniq(V);for(var f=0,S=V.length;f<S;f++){var P=_.filter(m,D=>D.id===V[f]);_.isEmpty(P)||b.push(P[0])}return b}function o(l,m){e.fF.assertValue(l,"items");var b=_.filter(l,H=>H.pos?.x>0&&H.pos?.y>0),V=[],v=_.sortBy(b,H=>{var q=H.pos;return 1e3*q.y+q.x});for(var f of v){var S=f.pos;c(V,S.y,S.height)}var P=[],M=_.sortBy(b,H=>{var q=H.pos;return 1e3*q.x+q.y});for(var E of M){var w=E.pos;c(P,w.x,w.width)}var x=function(l,m){e.fF.assertValue(l,"rowContexts"),e.fF.assertValue(m,"columnContexts");var V=_.isEmpty(l)?-1/0:_.maxBy(l,S=>S.size).size,g=_.isEmpty(m)?-1/0:_.maxBy(m,S=>S.size).size,v=_.every(l,S=>S.size===l[0].size),f=_.every(m,S=>S.size===m[0].size);return d(l,V,v)?0:d(m,g,f)?1:V<=g?0:1}(V,P),N=0===x?V:P,L=0===x?M:v,B=[],I=0;for(var W of N){for(var O=I+1;O<W.startPosition;O++)B.push(void 0);for(var F=W.startPosition;F<W.startPosition+W.size;F++)B.push(W.startPosition),I=F}var A=_.groupBy(L,H=>B[(0===x?H.pos.y:H.pos.x)-1]),T=[];for(var R of N)T=T.concat(A[R.startPosition]);var U=_.map(T,H=>H.item);if(m){var z=_.filter(l,H=>!(H.pos?.x>0&&H.pos?.y>0)),j=_.map(z,H=>H.item);U.push(...j)}return U}function c(l,m,b){e.fF.assertValue(l,"contexts");var g=l[l.length-1];!_.isEmpty(l)&&m>=g.startPosition&&m<g.startPosition+g.size?m+b>g.startPosition+g.size&&(g.size=m+b-g.startPosition):l.push({startPosition:m,size:b})}function d(l,m,b){return l.length>1&&b&&m<=u}},486226:function(Ce,k,r){r.d(k,{N:function(){return t}});var a=r(69578),e=r(939123),u=r(737466);function t(C){var y=u.b$.getDateFromWcfJsonString(C,!0);return y||(y=(0,a.Kk)(C)),e.fF.assertValue(y,"could not parse dateTime"),y}},153031:function(Ce,k,r){r.d(k,{pg:function(){return t},qC:function(){return u}});var a=r(230373),e=r(265230);function u(y){return!(!y||y.packageType!==a.yR.AppInstance||!y.contentProviderId&&!y.serviceContentProviderId)}function t(y){return(0,e.yE)(y,6)}},745870:function(Ce,k,r){function a(e){if(e){var u=e.visualContainer||e.realTimeVisual;if(u&&u.$visualContainer)return u.$visualContainer.config.singleVisual.visualType}}r.d(k,{s:function(){return a}})},786159:function(Ce,k,r){r.d(k,{HL:function(){return M},M8:function(){return E},Us:function(){return d},X7:function(){return v},_z:function(){return P},bQ:function(){return S},mf:function(){return f},zy:function(){return n}});var a=r(273294),e=r(221435),u=r(171520),t=r(534721),C=r(821026),y=r(722709),i=r(939123),o=r(908502),c=r(345540);class d{get hasScriptVisuals(){return this.rScriptCount>0||this.pythonScriptCount>0}constructor(){this.rScriptCount=0,this.pythonScriptCount=0}}function n(w,x,N,L,B,I,W,O){i.fF.assertValue(x,"singleVisualConfig"),i.fF.assertValue(N,"dataWindow"),i.fF.assertValue(L,"dataModel"),i.fF.assertValue(B,"schema"),i.fF.assertValue(I,"pinVisualService"),i.fF.assertValue(W,"visualPluginService");var F=O.execute({dataSources:w,schema:B,config:x,additionalFilters:null,dataWindow:N}),A=I.getPinData({name:"tile",config:{singleVisual:x},layouts:void 0},0,w,{},null,null,F,B);A.realTimeDataWindow=N;var T=W.capabilities((0,e.s_)(A));return(0,o.O4)(A,T,L)}function v(w,x){i.fF.assertValue(w,"getTileErrorDetailsFromQueryResultError: queryResultError");var N=(0,u.K)(w.errorDetail);if(N&&!_.isEmpty(N.DataShapes)){var L=N.DataShapes[0]["odata.error"];if(L)return new a.Ow(L).getDetails(x)}}function f(w){if(i.fF.assertValue(w,"contract"),w.$layoutConfig)return w.$layoutConfig;var N,x={x:w.col,y:w.row,width:w.colSpan,height:w.rowSpan};if(w.layoutConfig)try{N=JSON.parse(w.layoutConfig),(0,y.Br)(N.layouts).withId(0).position=x}catch{i.fF.assertFail("Unable to parse tile layout config")}else N={layouts:[{id:0,position:x}]};return N}function S(w,x,N){var L=(0,y.Br)(w.layouts),B=L.withId(N);B||L.push(B={id:N,position:{}}),B.position=x}function P(w,x,N,L){return function(w){var x=w.layouts?.find(B=>0===B.id);if(x?.position){var N=x.position;Object.assign(N,{x:N.x||void 0,y:N.y||void 0,width:N.width,height:N.height})}}(x),{id:w.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(x),query:L?N:null,updatedQuery:L,modelId:w.modelId,objectId:w.objectId}}function M(w,x){var N=(0,c.V3)(w);if(N){var L=x.width*C.A4,B=x.height*C.lT,I=!1;for(var W of N.Commands){var O=W.ScriptVisualCommand;O&&(O.ViewportWidthPx!==L||O.ViewportHeightPx!==B)&&(O.ViewportWidthPx=L,O.ViewportHeightPx=B,W.ScriptVisualCommand=O,I=!0)}if(I)return N}}function E(w){var x=(0,u.K)(w);return null==x&&(x={version:t.aD}),x}},12844:function(Ce,k,r){r.d(k,{$J:function(){return u},$Q:function(){return l},Ce:function(){return F},Iy:function(){return s},NJ:function(){return b},Ym:function(){return U},bL:function(){return W},hf:function(){return C},jn:function(){return g},kA:function(){return N},oM:function(){return M},qy:function(){return B},rd:function(){return c},s$:function(){return d},vF:function(){return P},v_:function(){return T},wc:function(){return w},yp:function(){return f}});var a=r(17933),e="PBI.Dashboard.RenameReport",u=a.cx[e]=(0,a.b1)(e),t="PBI.Dashboard.DeleteReport",C=a.cx[t]=(0,a.b1)(t),y="PBI.Dashboard.InitializeNavigationPaneModels",o=(a.cx[y]=(0,a.b1)(y),"PBI.Dashboard.RenameDataset"),c=a.cx[o]=(0,a.b1)(o),h="PBI.Dashboard.UpdateModelQnaFeatures",d=a.cx[h]=(0,a.b1)(h),n="PBI.Dashboard.UpdateFeaturedQuestions",s=a.cx[n]=(0,a.b1)(n),p="PBI.Dashboard.DeleteDataset",l=a.cx[p]=(0,a.b1)(p),m="PBI.Dashboard.AddUpdateDashboard",b=a.cx[m]=(0,a.b1)(m),V="PBI.Dashboard.RenameWorkbook",g=a.cx[V]=(0,a.b1)(V),v="PBI.Dashboard.RemoveWorkbook",f=a.cx[v]=(0,a.b1)(v),S="PBI.Dashboard.GetWorkbookWopiAccessInformation",P=a.cx[S]=(0,a.b1)(S),D="PBI.Dashboard.ImportResourcePackagesOnLoad",M=a.cx[D]=(0,a.b1)(D),E="PBI.Dashboard.GetNavigationPanePackage",w=a.cx[E]=(0,a.b1)(E),x="PBI.TileConfig.UpgradeTileConfig",N=a.cx[x]=(0,a.b1)(x),L="PBI.Permissions.UpdateArtifactVisibility",B=a.cx[L]=(0,a.b1)(L),I="PBI.Datapool.UpdateProperties",W=a.cx[I]=(0,a.b1)(I),O="PBI.Http.RequestThrottled",F=a.cx[O]=(0,a.b1)(O),A="PBI.Dataset.GetSharedDatasets",T=a.cx[A]=(0,a.b1)(A),R="PBI.Dataset.GetReadonlySharedDatasets",U=a.cx[R]=(0,a.b1)(R)},604298:function(Ce,k,r){function a(e,u,t,C,y,i){var o={filtersNamesAndRestatements:[]};if(!u||_.isEmpty(u.dataFiltersUnmerged))return o;var c=C.capabilities(t.visualType);for(var h of u.dataFiltersUnmerged)if(!h.isHidden){var d=y.getFilterRestatementForOverlay(h,e,c,null,t);if(!_.isEmpty(d))for(var n of d)o.filtersNamesAndRestatements.push({displayName:n.fieldName,qualifiedDisplayName:n.fieldNameToolTip,restatement:n.restatements.join(i.get("ListJoin_Separator"))})}return o}r.d(k,{A:function(){return a}})},197812:function(Ce,k,r){r.d(k,{F:function(){return e},m:function(){return u}});var a=r(939123);function e(t){switch(t){case"Binary":return 11;case"Boolean":return 5;case"Currency":return 2;case"Number":return 3;case"Date":return 6;case"DateTime":return 7;case"Time":return 9;case"WholeNumber":return 4;case"Text":return 1;case"Variant":return 13;default:a.fF.assertNever(t)}}function u(t){if(null!=t)switch(t){case 0:case 12:return;case 1:case 14:return"Text";case 2:return"Currency";case 3:return"Number";case 4:return"WholeNumber";case 5:return"Boolean";case 6:return"Date";case 7:case 8:case 10:return"DateTime";case 9:return"Time";case 11:return"Binary";case 13:return"Variant";default:a.fF.assertNever(t)}}},21545:function(Ce,k,r){r.d(k,{GM:function(){return y},S8:function(){return h},W5:function(){return C},fV:function(){return o},k2:function(){return u},wx:function(){return i}});var a=r(939123),e=r(528836);function u(s,p){return new t(s,p)}class t{constructor(p,l){if(a.fF.assertValue(p,"plugins"),l){var m=function(V){a.fF.assert(()=>!!_.find(p,g=>g.name===l[V].extends),`plugin extension type '${V}' extends a plugin '${l[V].extends}' which doesn't exist`),a.fF.assert(()=>!_.some(p,g=>g.name===l[V].name),`Cannot register plugin extension type '${V}'. A plugin with that name already exists.`)};for(var b in l)m(b)}this.plugins=p,this.extensions=l||{}}getPlugin(p){return this.plugins[n(p)]}getExtension(p){return this.extensions[p]}}function C(s,p){return c(s,o(p))}function y(s,p){if(_.isEmpty(s))return[];var l;if(!_.isEmpty(p)){for(var m of(l=[],p))if(m instanceof e.Wh){var b=m.getTargetEntity();l.push(b.schema)}l=_.uniq(l)}return c(s,l)}function i(s){return a.fF.assertValue(s,"reference"),n(s.type)}function o(s){if(a.fF.assertAnyValue(s,"query"),s){var p=[];return new d(p).run(s),p}}function c(s,p){var l=[];for(var m of s)if(_.isEmpty(p)||_.includes(p,m.name)){var b=i(m);_.includes(l,b)||l.push(b)}return l}function h(s){return _.chain(s).map(p=>i(p)).uniq().value()}class d{constructor(p){this.schemas=p}run(p){var l=p.from();for(var m of l.keys())l.source(m).accept(this,void 0)}visitEntity(p){this.visitEntityOrPod(p)}visitPod(p){this.visitEntityOrPod(p)}visitSubquery(p){this.run(p.subquery)}visitExpr(p){}visitEntityOrPod(p){a.fF.assertValue(p,"source");var l=p.schema,m=this.schemas;_.includes(m,l)||m.push(l)}}function n(s){return s||"dsr"}},96569:function(Ce,k,r){r.d(k,{I:function(){return t}});var a=r(722709),e=r(939123),u=r(21545);function t(o,c){return new C(o,c)}class C{constructor(c,h){e.fF.assertValue(c,"factory"),e.fF.assertValue(h,"hostServices"),this.factory=c,this.hostServices=h,this.readers={},this.queryGen={},this.schemaReaders={}}reader(c){return e.fF.assertAnyValue(c,"typeOrTypes"),this.findSinglePropertyDefinition((0,a.rY)(c),h=>h.reader(this.hostServices),_.noop,this.readers)}readerType(c){e.fF.assertAnyValue(c,"typeOrTypes");var h=this.resolvePluginProperty((0,a.rY)(c),d=>d.reader(this.hostServices),_.noop,this.readers);return h&&h.type}queryGenerator(c){return e.fF.assertAnyValue(c,"typeOrTypes"),this.findSinglePropertyDefinition((0,a.rY)(c),h=>h.queryGenerator&&h.queryGenerator(),_.noop,this.queryGen)}queryExtensionLookup(c){e.fF.assertAnyValue(c,"referenceOrReferences");var h=(0,a.rY)(c),d=_.chain(h).map(p=>(0,u.wx)(p)).uniq().value(),n=this.findSingleBasePropertyDefinition(d,p=>p.queryExtensionProvider&&y(p.name,h,p.queryExtensionProvider));return function(o,c){if(o||c)return o?(h,d)=>o(h,d,c):c}(this.findSingleExtensionPropertyDefinition(d,p=>p.queryExtensionProvider&&y(p.name,h,p.queryExtensionProvider)),n)}schemaReader(c){return e.fF.assertAnyValue(c,"type"),this.findSinglePropertyDefinition([c],h=>h.schemaReader&&h.schemaReader(this.hostServices),h=>h.schemaReader&&h.schemaReader(this.hostServices),this.schemaReaders)}getCacheKey(c){var h=(0,a.rY)(c);return h.length<2?h[0]:"["+h.join(",")+"]"}findSinglePropertyDefinition(c,h,d,n){var s=this.getCacheKey(c),p=n[s];if(p)return p;var l=this.resolvePluginProperty(c,h,d,n);return l?n[s]=l.property:void 0}findSingleExtensionPropertyDefinition(c,h){var d,n;for(var s of c){var p=this.factory.getPlugin(s);if(p){if(n&&n!==p.name)return;n=p.name}else{var l=this.factory.getExtension(s);if(!l||n&&n!==l.extends)return;n=l.extends;var m=h(l);if(m){if(d&&m!==d)return;d=m}}}return d}findSingleBasePropertyDefinition(c,h){var d,n;for(var s of c){var p=this.factory.getPlugin(s);if(p){if(n&&n!==p.name)return;n=p.name;var l=h(p);if(l){if(d&&l!==d)return;d=l}}}return d}resolvePluginProperty(c,h,d,n){var s;for(var p of c){var l=this.resolveProperty(p,h,d,n);if(!l||s&&l.property!==s.property)return;s=l}return s}resolveProperty(c,h,d,n){var s,p;if(n&&(p=n[s=this.getCacheKey(c)]))return{type:c,property:p};var l=this.factory.getPlugin(c);if(l)return(p=h(l))?(n&&(n[s]=p),{type:c,property:p}):void 0;var m=this.factory.getExtension(c);return m?(p=d(m))?(n&&(n[s]=p),{type:c,property:p}):this.resolveProperty(m.extends,h,d,n):void 0}}function y(o,c,h){var d=[];for(var n of c){var s=(0,u.wx)(n);s===o&&d.push(n[s])}return h(d)}},9017:function(Ce,k,r){r.d(k,{dj:function(){return f},sw:function(){return g},Z7:function(){return v}});var a=r(257738),e=r(939123),u=r(737466),t=r(528836),C=r(693713),y=r(722709),i=r(87051);function p(B,I){e.fF.assertValue(B,"collection"),e.fF.assertValue(I,"toRemove");var W=B.indexOf(I);e.fF.assert(()=>W>=0,"the metadata column to be removed should exist in the collection before the removal"),W>=0&&B.splice(W,1)}function l(B,I){e.fF.assertValue(I,"dataViewCategorical");var W=I.categories;if(W)for(var O of W)O.values.splice(0),O.identity.splice(0);var F=I.values;if(F){var A=F.grouped();if(!_.isEmpty(A)){var T=A[0],R=B.columns,U=function(){var le=z.source;if(le.groupName){var he=_.find(R,Se=>!Se.groupName&&Se.index===le.index&&Se.isMeasure===le.isMeasure);he?(z.source=he,p(R,le)):delete le.groupName}};for(var z of T.values)U();var j=[{values:T.values,objects:T.objects}];if(F.grouped=()=>j,A.length>=2){var H=T.values.length;if(H>0){for(var G=H*(A.length-1),J=H,Z=H+G;J<Z;J++)p(R,F[J].source);F.splice(H,G)}}}for(var ne of F)ne.values.splice(0),delete ne.identity}e.fF.assert(()=>!W||_.every(W,le=>_.isEmpty(le.values)&&_.isEmpty(le.identity)),"values and identity should be cleared in all category columns"),e.fF.assert(()=>!F||_.every(F.grouped(),le=>!le.name&&!le.identity),"name and identity should be cleared in all series instances"),e.fF.assert(()=>!F||_.every(F,le=>_.isEmpty(le.values)),"All values in measure columns should be removed")}function b(B,I){if(e.fF.assertValue(B,"values"),e.fF.assertValue(I,"indicesToRemove"),e.fF.assert(()=>(0,y.JN)(I,!0),"indicesToRemove is expected to be in descending order"),e.fF.assert(()=>_.uniq(I).length===I.length,"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(I)){if(e.fF.assert(()=>0<=_.last(I)&&_.head(I)<B.length,"elements in indicesToRemove must be valid indices to the values array."),B.length===I.length)return void B.splice(0);var W,O=0;for(var F of I)void 0===W||W===F+1?(W=F,O++):(B.splice(W,O),W=F,O=1);e.fF.assertValue(W,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),B.splice(W,O)}}var V=r(149184);function g(B,I){if(e.fF.assertValue(B,"restrictiveFilter"),e.fF.assertValue(I,"baseFilter"),!(0,a.FK)(B,I))return!1;var W=B.condition,O=I.condition;if(W instanceof t.ev&&O instanceof t.ev){var F=L(W),A=L(O);if(F&&A&&(0,a.fS)(F.otherSide,A.otherSide))return(0,u.r3)(x(F.constantValue),x(A.constantValue))}return!1}function v(B,I){e.fF.assertNonEmpty(B,"selects"),e.fF.assertNonEmpty(I,"filters");var W=_.some(I,A=>!function(B){return e.fF.assertValue(B,"filter"),!B.target}(A));if(!W){var O=new N(B);for(var F of I)F.condition.accept(O);return O.getClientSideFiltersIfAllSupported()}}function f(B,I){if(e.fF.assertValue(B,"queryDataView"),e.fF.assertAnyValue(I,"clientSideFilters"),!_.isEmpty(I)&&!_.isEmpty(B.metadata.columns)){e.fF.assert(()=>_.every(I,A=>_.some(B.metadata.columns,T=>!T.isMeasure&&T.index===P(A))),"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var W=B.categorical;if(W){var O=function(B,I){if(e.fF.assertAnyValue(B,"seriesMetadataColumn"),e.fF.assertValue(I,"clientSideFilters"),B){var W=D(I,[B]);if(!_.isEmpty(W)){return F=>{if(F.identity){var T=F.name;for(var R of W)if(w(R,T))return!0}return!1}}}}(W.values&&W.values.source,I),F=function(B,I){e.fF.assertValue(B,"categories"),e.fF.assertValue(I,"clientSideFilters");var W=D(I,_.map(B,F=>F.source));if(!_.isEmpty(W)){return(F,A)=>{var R,T=function(z){if(_.every(A,H=>w(z,H.values[F])))return{v:!0}};for(var U of W)if(R=T(U))return R.v;return!1}}}(W.categories,I);!function(B,I,W,O){e.fF.assertValue(I,"dataViewCategorical"),e.fF.assertAnyValue(W,"categoryRemovalPredicate"),e.fF.assertAnyValue(O,"seriesRemovalPredicate"),O&&function(B,I,W){e.fF.assertValue(I,"dataViewCategorical"),e.fF.assertValue(W,"removalPredicate");var O=I.values&&I.values.grouped();if(!_.isEmpty(O)){var A=function(B,I,W){e.fF.assertAnyValue(B,"seriesMetadataColumn"),e.fF.assertValue(I,"seriesInstances"),e.fF.assertValue(W,"removalPredicate");for(var O=[],F=I.length-1;F>=0;F--)W(I[F],B)&&O.push(F);return O}(I.values&&I.values.source,O,W);!function(B,I,W){if(e.fF.assertValue(I&&I.values&&!_.isEmpty(I.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),e.fF.assertValue(W,"seriesIndicesToRemove"),e.fF.assert(()=>(0,y.JN)(W,!0),"seriesIndicesToRemove is expected to be in descending order"),e.fF.assert(()=>_.uniq(W).length===W.length,"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(W)){var O=I.values,F=O.grouped();if(F.length===W.length)return void l(B,I);var A=F[0].values.length;if(e.fF.assert(()=>_.every(F,z=>z.values.length===A),"all series instances returned by grouped() are expected to have the same number of measure columns"),A>0){var T=B.columns,R=function(){var z=U*A;e.fF.assert(()=>z+A-1<O.length,"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var j=z,H=z+A;j<H;j++)p(T,O[j].source);O.splice(z,A)};for(var U of W)R()}b(F,W),O.grouped=()=>F}}(B,I,A)}}(B,I,O),W&&function(B,I,W){e.fF.assertValue(I,"dataViewCategorical"),e.fF.assertValue(W,"removalPredicate");var O=I.categories;if(!_.isEmpty(O)){var F=function(B,I){e.fF.assertNonEmpty(B,"categories"),e.fF.assertValue(I,"removalPredicate");var W=B[0].values.length;e.fF.assert(()=>_.every(B,A=>A.values.length===W),"Expecting all category columns to have the same number of values.");for(var O=[],F=W-1;F>=0;F--)I(F,B)&&O.push(F);return O}(O,W);!function(B,I,W){if(e.fF.assertValue(I,"dataViewCategorical"),e.fF.assertValue(W,"rowIndicesToRemove"),e.fF.assert(()=>(0,y.JN)(W,!0),"rowIndicesToRemove is expected to be in descending order"),e.fF.assert(()=>_.uniq(W).length===W.length,"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(W)){if((0,i.Ed)(I)===W.length)return void l(B,I);e.fF.assert(()=>(0,i.Ed)(I)>0,"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var O=I.categories;if(!_.isEmpty(O))for(var F of O)b(F.values,W),b(F.identity,W);var A=I.values;if(!_.isEmpty(A))for(var T of A)b(T.values,W)}}(B,I,F)}}(B,I,W)}(B.metadata,W,F,O)}return B}}function P(B){e.fF.assertValue(B,"clientSideFilter");var I=B.Condition;if(I.Contains)return I.Contains.SelectIndex;e.fF.assertFail("Unknown filter condition type: "+JSON.stringify(I))}function D(B,I){if(e.fF.assertValue(B,"clientSideFilters"),e.fF.assertValue(I,"metadataColumns"),_.isEmpty(B)||_.isEmpty(I))return[];var W={};for(var O of I)W[O.index]=!0;return _.filter(B,F=>{var A=P(F);return!!W[A]})}function w(B,I){e.fF.assertValue(B,"filter");var W=!1,O=B.Condition;if(O.Contains)if(e.fF.assert(()=>O.Contains.LiteralValue===x(O.Contains.LiteralValue),"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(I)){var F=x(I);W=!(0,u.r3)(F,O.Contains.LiteralValue)}else W=!0;else e.fF.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(O));return W}function x(B){return B&&(0,u.m5)(B)}class N extends C.vq{constructor(I){super(),e.fF.assertNonEmpty(I,"selects"),this.clientSideFilters=[],this.selects=I}visitContains(I){if(!this.hasUnsupportedFilter()){var W=!1,O=L(I);if(O){var F=O.constantValue,A=(0,V.p)(this.selects,O.otherSide);if(A>=0&&F){var T={Condition:{Contains:{SelectIndex:A,LiteralValue:x(F)}}};this.clientSideFilters.push(T),W=!0}}W||this.setUnsupportedFilter()}}visitAnd(I){this.hasUnsupportedFilter()||(I.left.accept(this),I.right.accept(this))}visitDefault(I){this.setUnsupportedFilter()}getClientSideFiltersIfAllSupported(){if(!this.hasUnsupportedFilter())return this.clientSideFilters}hasUnsupportedFilter(){return void 0===this.clientSideFilters}setUnsupportedFilter(){this.clientSideFilters=void 0}}function L(B){if(B){var I=(0,t.Ls)(B.left);return I?{constantValue:I,otherSide:B.right}:{constantValue:I=(0,t.Ls)(B.right),otherSide:B.left}}}},388637:function(Ce,k,r){r.d(k,{DG:function(){return D},P6:function(){return j},Sk:function(){return E},l7:function(){return M},mx:function(){return U}});var a=r(722709),e=r(939123),u=r(616113),t=r(132640),C=r(138038),y=r(179962),i=r(969143),o=r(366090),c=r(571619),h=r(26026),d=r(438043),n=r(438905),s=r(377176),p=r(684356),l=r(528836),m=r(269556),b=r(517273),V=r(109562),g=r(776073),v=r(931145),f=r(953474),S=r(257738),P=r(561154);class D{columnNameFromIndex(J){}get code(){switch(this.warningType){case 1:return"DataBoundObjectQueryExtensionWarningInvalidType";case 2:return"DataBoundObjectQueryExtensionWarningMissingReference";case 0:return void e.fF.assertFail("DataBoundObjectQueryExtensionWarning cannot be of invalid Value type.");default:e.fF.assertNever(this.warningType)}}constructor(J,Z,Q,ne,le,he,Se){this.warningType=J,this.propertyId=Z,this.valueExpr=Q,this.selector=ne,this.objectDiplayName=le,this.propertyDisplayName=he,this.expectedValueType=Se}getDetails(J,Z){if(Z){var Q=[],ne=J.get("NamePattern_Colon"),le=1===this.warningType,Se=le?"DataBoundExprWarning_InvalidType_Message":"DataBoundExprWarning_MissingReference_Message";Q.push((0,u.W)(J.get(le?"DataBoundExprWarning_InvalidType_Title":"DataBoundExprWarning_MissingReference_Title"),(0,d.G)(this.propertyDisplayName,J))),Q.push((0,u.W)(ne,J.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),(0,d.G)(this.objectDiplayName,J)));var Ke=Z(this.valueExpr);return Q.push((0,u.W)(ne,J.get("Field_Source"),Ke)),le&&this.expectedValueType&&Q.push((0,u.W)(ne,J.get("DataBoundExprWarning_ExpectedDataType"),C.L.getPrimitiveValueType(this.expectedValueType,J))),Q.push(J.get(Se)),{message:Q.join("\n"),displayableErrorInfo:[]}}e.fF.assertFail("DataBoundObjectQueryExtensionWarning - getMessages - setSQExprTranslator needed for warning message")}}function M(G,J,Z,Q,ne,le,he,Se,Ke){return e.fF.assertValue(G,"queryDefn"),e.fF.assertValue(J,"schema"),e.fF.assertAnyValue(Z,"objectDescs"),e.fF.assertAnyValue(Q,"queryRefsByRole"),e.fF.assertAnyValue(ne,"projections"),e.fF.assertAnyValue(le,"roleKindByQueryRef"),e.fF.assertAnyValue(he,"additionalFilters"),w(G,J,Z,Q,ne,le,he,Se,Ke)}function E(G,J){return!!w(G,null,J,{},{},{},void 0,void 0)}function w(G,J,Z,Q,ne,le,he,Se,Ke){if(!_.isEmpty(Z)){var Ge=G.select(),ye=[],we=[],je=[],de=[];for(var Ve of Z)Ve.objects&&Ve.descriptors&&(0,i.rQ)(Ve.objects,Ve.descriptors,Pe);for(var Ze of je)for(var Ue of de)if((0,t.fS)(Ze.selector,Ue)){x(we,Ze,Ge,Q);break}var Je=[],De=[],ue={},_e=Ke?.dataBoundAddingQueryExprs;for(var te of we){var ke=te.selector,at=_e?N(te,G,ue,he,Se):L(te,G,he,Se);G=at.queryDefn,at.objectDefinitionRewrite&&De.push(at.objectDefinitionRewrite);var tt={queryName:at.queryName,selector:ke};if(_.isEmpty(te.targetsQueryName)||(tt.relatedProjectionsQueryName=te.targetsQueryName),te.aggregates&&(tt.aggregates=te.aggregates),te.relatedObjects&&(tt.relatedObjects=te.relatedObjects),ke&&!_.isEmpty(ke.data)&&(tt.joinPredicate=0),J){var ut=b.m.buildExprEvaluationContext(G.from()),ct=te.expr.getMetadata(J,ut);ct?.format&&(tt.format=ct.format)}Je.push(tt)}return _.isEmpty(Je)&&_.isEmpty(ye)?void 0:{queryDefn:G,warnings:ye,additionalProjections:Je,objectDefinitionRewrites:De}}function Pe(Ne,ae,Le,X,be){var ve,Ie=be&&be.properties[ae],Ye=Ne[ae],ze=Ie.type,ee=null==Le?Le:(0,t.d9)(Le);if(Ie.rule){if(e.fF.assertValue(Ie.type.fillRule&&(0,g.gO)(Ye),"Property rule descriptor is valid only for FillRule properties"),!U(Ie.rule.conditions,ne,le))return;var Te=function(G,J,Z,Q){var ne=G.inputRole;if(ne){var le=Z[ne],he=Q[ne];if(!_.isEmpty(le)&&!_.isEmpty(he)){var Se=_.map(he.projected(),ye=>ye.queryRef),Ke=_.intersection(le,Se),Ge=_.chain(J.select()).filter(ye=>_.includes(Ke,ye.name)).map(ye=>ye.expr).value();return Ge}}}(Ie.rule,G,Q,ne);if(_.isEmpty(Te))return;e.fF.assert(()=>1===_.size(Te),"Property Rules supports only one input Expr"),Le={data:_.map(Te,se=>(0,c.TZ)(se))},ve=(0,o.oA)(Ye,Le,Ge,Te[0])}else if(ze&&ze.dataBars)Le&&Le.metadata&&Ge.withName(Le.metadata)&&(_.isEmpty(Le.data)&&((Le=_.cloneDeep(Le)).data=[(0,h.Ue)()]),ve=(0,o.oA)(Ye,Le,Ge,Ge.withName(Le.metadata).expr));else{var He=(0,o.Sz)(Ne[ae],Le,Ge);Ie.ignoreUnreferenced?(e.fF.assert(()=>_.isEmpty(He.references),"References should be empty"),je.push(...He.expressions)):(ve=He.expressions,de.push(...He.references.map(se=>se.selector)))}if(!_.isEmpty(ve)&&(!Le||function(G,J){e.fF.assertValue(G,"selector");var Z=G.metadata;if(!Z)return!0;for(var Q of(e.fF.assertNonEmpty(J,"querySelects"),J))if(Q.name===Z)return!0}(Le,Ge))){var qe=j(Le?.data,Ge,Q);if(void 0!==qe)for(var rt of ve)if(rt.expr){if(J){var me=b.m.buildExprEvaluationContext(G.from()),Ee=rt.expr.getMetadata(J,me);if(null==Ee||!v.Ge.isCompatibleFromAny(ze,Ee.type)){var fe=Ee?1:2,Re=Ee?v.Ge.fromDescriptor(ze):null,re=new D(fe,{objectName:X,propertyName:ae},rt.expr,Le,be.displayName,Ie.displayName,Re);ye.push(re);continue}}rt.relatedObjects={[X]:{[ae]:[ee]}},rt.scopeRefs=qe,x(we,rt,Ge,Q)}}}}function x(G,J,Z,Q){e.fF.assertValue(J,"source");var le=_.find(G,ue=>((ue,_e)=>{if(!(0,S.fS)(ue.expr,_e.expr))return!1;var te=j(ue.selector?.data,Z,Q),ke=j(_e.selector?.data,Z,Q);return _.isEmpty(_.xor(te,ke))})(ue,J));if(le){var he=J.targetsQueryName;if(!_.isEmpty(he)){var Se=le.targetsQueryName;_.isEmpty(Se)&&(Se=le.targetsQueryName=[]),Se.push(...he)}var Ke=J.aggregates;if(null!=Ke){var Ge=le.aggregates;if(Ge){if(Ke.min&&(Ge.min=!0),Ke.max&&(Ge.max=!0),Ke.average&&(Ge.average=!0),Ke.median&&(Ge.median=!0),Ke.percentiles)if(Ge.percentiles){var ye=function(ue){_.find(Ge.percentiles,_e=>_.isEqual(ue,_e))||Ge.percentiles.push(ue)};for(var we of Ke.percentiles)ye(we)}else Ge.percentiles=Ke.percentiles}else le.aggregates=Ke}var je=J.relatedObjects;if(null!=je){var de=le.relatedObjects;if(de){var Pe,Ve,Ze,Ue;for(Pe in je){if(Ue)break;for(Ve in je[Pe]){Ze=_.first(je[Pe][Ve]),Ue=!0;break}}if(null!=Pe&&null!=Ve){var Je=de[Pe]=de[Pe]||{},De=Je[Ve]=Je[Ve]||[];_.some(De,ue=>(0,t.fS)(ue,Ze))||De.push(Ze)}}else le.relatedObjects=je}}else G.push(J)}function N(G,J,Z,Q,ne){var le=G.selector,he=B(G.expr,G.context,Q),Se=J.selectNamesOf(he);for(var Ke of Se){var Ge=Z[Ke];if(G.aggregates&&_.isEmpty(G.scopeRefs))return{queryName:Ke,queryDefn:J,objectDefinitionRewrite:void 0};if(void 0!==Ge){if(_.isEmpty(_.xor(Ge,G.scopeRefs)))return{queryName:Ke,queryDefn:J,objectDefinitionRewrite:void 0}}else if(le&&!_.isEmpty(le.data))return Z[Ke]=G.scopeRefs,{queryName:Ke,queryDefn:J,objectDefinitionRewrite:void 0}}J=J.addSelect(he);var je,ye=_.last(J.select()),we=ye.name;if(e.fF.assert(()=>(0,S.fS)(ye.expr,he),"Incorrect queryName"),!(G.aggregates||le&&!_.isEmpty(le.data))&&ne){var de=new p.F(J);J=de.rewrite(),de.didRewrite&&(je={from:G.expr,to:(0,l.xA)(we),selector:G.selector})}return Z[we]=G.scopeRefs,{queryName:we,queryDefn:J,objectDefinitionRewrite:je}}function L(G,J,Z,Q){var Ge,ye,ne=G.aggregates,le=G.selector,Se=G.expr,Ke=B(G.expr,G.context,Z);if(ne||le&&!_.isEmpty(le.data))return(ye=J.selectNameOf(Ke))?{queryName:ye,queryDefn:J,objectDefinitionRewrite:void 0}:{queryName:(J=J.addSelect(Ke)).selectNameOf(Ke),queryDefn:J,objectDefinitionRewrite:void 0};J=J.addSelect(Ke);var we=_.last(J.select());if(e.fF.assert(()=>(0,S.fS)(we.expr,Ke),"Incorrect queryName"),Q){var je=new p.F(J);J=je.rewrite(),je.didRewrite&&(Ge={from:Se,to:(0,l.xA)(we.name),selector:G.selector})}return{queryName:we.name,queryDefn:J,objectDefinitionRewrite:Ge}}function B(G,J,Z){if(!(0,f.iV)(G)||!(0,f.t3)(G.arg)||!(0,f.jv)(G.arg.source))return G;var Q=G.arg.source.query;if(!Q)return G;var ne=J&&J.filterContext;if(_.isEmpty(ne)&&!Z)return G;if(Z){var le=Z.conditions(),he=_.some(le,ye=>1===(0,n._)(ye));e.fF.assert(()=>!he,"additional filters should not contain measure filters")}var Ge=W(Q,_.isEmpty(ne)?[Z]:F(_.map(ne,ye=>ye.filter),Z,!0,!1));return G.accept(new R(Ge))}function W(G,J){if((Se=>{var Ke=!1,Ge=Se.from().sources();for(var ye in Ge)if((0,V.$r)(Ge[ye])){Ke=!0;break}return Ke})(G))return function(G,J){if(!s.vQ.willFiltersAffectQuery(G))return G;var Q,Z=s.yl.unmerge(s.yl.fromSQFromAndSQFilters(G.from(),G.where()));Q=_.isEmpty(Z)?J:F(Z,s.yl.merge(J),!1,!0);var ne=s.yl.merge(Q);return G.where(ne.where(),ne.from())}(G,J);var Q=G.from().sources();for(var ne in Q){var le=Q[ne];if((0,P.y)(le)){var he=W(le.subquery,J);return Q[ne]=new V.vd(he),G.from(new V.cL(Q))}}}function F(G,J,Z,Q){e.fF.assertNonEmpty(G,"filters should not be empty"),e.fF.assertAnyValue(J,"additionalFilters");var ne=[],le=function(G,J){e.fF.assertNonEmpty(G,"filters should not be empty"),e.fF.assertAnyValue(J,"additionalFilters");var Z=[];J&&Z.push({filters:[J],kind:void 0});var Q=function(G){return e.fF.assertNonEmpty(G,"filters should not be empty"),_.groupBy(G,J=>{var Z=J.conditions();return e.fF.assert(()=>1===_.size(Z),"expecting only 1 condition in filter"),(0,n._)(Z[0])})}(G);return Q[0]&&Z.push({filters:Q[0],kind:0}),Q[3]&&Z.push({filters:Q[3],kind:3}),Q[2]&&Z.push({filters:Q[2],kind:2}),Q[1]&&Z.push({filters:Q[1],kind:1}),Z}(G,J);for(var he of le){var Se=he.filters;3===he.kind||1===he.kind?(1===he.kind&&Z&&(Se=[T(he.filters)]),Q?(e.fF.assertValue(J,"additionalFilters"),Se=_.map(Se,Ke=>(0,s.RD)(Ke,[J]))):_.isEmpty(ne)||(Se=_.map(Se,Ke=>(0,s.RD)(Ke,ne))),ne.push(...Se)):ne.push(...Se)}return ne}function T(G){var Z,J=s.vQ.create(),Q=function(){J=J.addSemanticFilter(ne);var le=ne.where()[0].target;_.isEmpty(Z)||e.fF.assert(()=>(0,a.s_)(le,Z,(he,Se)=>(0,S.fS)(he,Se)),"targets should be same between all measure filters"),Z=Z||le||[]};for(var ne of G)Q();return e.fF.assert(()=>!_.isEmpty(Z),"targets should not be empty for measure filters"),_.forEach(Z,le=>{J=J.addSelect(le)}),s.yl.fromSubquery(J,Z)}class R extends m.b{constructor(J){super(),this.query=J}visitSubqueryRef(J){return(0,l.v5)(this.query,J.getAnnotations())}}function U(G,J,Z){if(!G)return!0;for(var Q of G){var ne=(0,y.fs)(J,Q,Z);if(_.isEmpty(ne))return!0}return!1}function j(G,J,Z){if(e.fF.assertValue(J,"querySelects"),e.fF.assertValue(Z,"queryRefsByRole"),_.isEmpty(G))return null;var Q=[];for(var ne of G)if((0,t.j9)(ne)){var le=H(Z,ne.roles,J);Q.push(...le||[])}else if((0,t.qm)(ne)){var he=H(Z,Object.keys(Z),J);Q.push(...he||[])}else(0,t.QV)(ne)||(0,t.tQ)(ne)?Q.push(...ne.exprs||[]):(0,t.yN)(ne)?Q.push(ne.expr):e.fF.assertNever(ne);if(0!==Q.length){var Se=[];for(var Ke of J){var Ge=b.m.indexOfExpr(Q,Ke.expr);if(!(Ge<0)&&(Q.splice(Ge,1),Se.push(Ke.name),0===Q.length))break}if(!(Q.length>0||0===Se.length))return Se}}function H(G,J,Z){var Q=[];for(var ne of J)Q.push(...G[ne]||[]);var le=_.filter(Z,he=>_.includes(Q,he.name));return _.map(le,he=>he.expr)}},923679:function(Ce,k,r){r.d(k,{y:function(){return m},P:function(){return l}});var a=r(953474),e=r(257738),u=r(722709),t=r(939123),C=r(360216);class y{constructor(g,v){this.strategy=g,this.roles=v}compileMapping(g){t.fF.assertValue(g,"mapping");var v=this.compileMetadata(),f={metadata:v};return g.categorical&&(f.categorical=this.compileCategorical(g.categorical)),g.table&&(f.table=this.compileTable(g.table)),g.single&&(f.single=this.compileSingle(g.single)),g.tree&&(f.tree=this.compileTree(g.tree)),g.matrix&&(f.matrix=this.compileMatrix(g.matrix)),g.scriptResult&&(f.scriptResult=this.compileScriptResult(g.scriptResult,v)),g.usage&&(f.usage=this.compileUsage(g.usage)),f}compileMetadata(){return this.strategy.compileMetadata()}compileCategorical(g){t.fF.assertValue(g,"mapping");var v={};g.categories&&(v.categories=this.compileRoleMappingWithReduction(g.categories));var f=g.values;if(f){var S=this.compileGrouped(f),P=this.compileList(f),D=this.compileRoleMapping(f);v.values=i(S,P,D)}return g.includeEmptyGroups&&(v.includeEmptyGroups=g.includeEmptyGroups),null!=g.dataVolume&&(v.dataVolume=g.dataVolume),g.dataReductionAlgorithm&&(v.dataReductionAlgorithm=this.compileReduction(g.dataReductionAlgorithm)),v}compileTable(g){t.fF.assertValue(g,"mapping");var P={rows:i(this.compileRoleMappingWithReduction(g.rows),this.compileListWithReduction(g.rows))};return null!=g.dataVolume&&(P.dataVolume=g.dataVolume),P}compileSingle(g){return t.fF.assertValue(g,"mapping"),{role:this.compileRole(g.role)}}compileScriptResult(g,v){return t.fF.assertValue(g,"mapping"),{dataInput:this.compileMapping(g.dataInput),script:this.compileScriptDefinition(g.script,v)}}compileScriptDefinition(g,v){return this.strategy.compileScriptDefinition(g,v)}compileTree(g){t.fF.assertValue(g,"mapping");var v={};return g.nodes&&(v.nodes=this.compileForWithReduction(g.nodes)),g.values&&(v.values=this.compileFor(g.values)),null!=g.dataVolume&&(v.dataVolume=g.dataVolume),v}compileMatrix(g){t.fF.assertValue(g,"mapping");var v={};if(g.rows){var f=this.compileForWithReduction(g.rows),S=this.compileListWithCompositeWithReduction(g.rows);v.rows=i(f,S)}if(g.columns&&(v.columns=this.compileForWithReduction(g.columns)),g.values){var P=this.compileRoleMapping(g.values),D=this.compileList(g.values);v.values=i(P,D)}return null!=g.dataVolume&&(v.dataVolume=g.dataVolume),g.includeEmptyGroups&&(v.includeEmptyGroups=g.includeEmptyGroups),v}compileUsage(g){if(t.fF.assertValue(g,"usage"),g.regression||g.forecast||g.anomalyDetection)return g}compileListWithReduction(g){t.fF.assertValue(g,"mapping");var v=this.compileList(g);if(v)return g.dataReductionAlgorithm&&(v.dataReductionAlgorithm=this.compileReduction(g.dataReductionAlgorithm)),v}compileList(g){if(t.fF.assertValue(g,"mapping"),g.select)return{select:_.map(g.select,f=>this.compileRoleMapping(f))}}compileListWithCompositeWithReduction(g){t.fF.assertValue(g,"mapping");var v=this.compileListWithComposite(g);if(v){if(g.dataReductionAlgorithm&&(v.dataReductionAlgorithm=this.compileReduction(g.dataReductionAlgorithm)),g.values){var f=this.compileRoleMapping(g.values),S=this.compileList(g.values);v.values=i(f,S)}return v}}compileListWithComposite(g){if(t.fF.assertValue(g,"mapping"),g.select)return{select:_.map(g.select,(f,S)=>this.compileRoleMappingWithComposite(f,0===S))}}compileGrouped(g){if(t.fF.assertValue(g,"mapping"),g.group){var S={group:{by:this.compileRole(g.group.by),select:_.map(g.group.select,P=>this.compileRoleMapping(P))}};return g.group.dataReductionAlgorithm&&(S.group.dataReductionAlgorithm=this.compileReduction(g.group.dataReductionAlgorithm)),S}}compileRoleMapping(g){return t.fF.assertValue(g,"mapping"),i(this.compileBind(g),this.compileFor(g))}compileRoleMappingWithComposite(g,v){return t.fF.assertValue(g,"mapping"),i(this.compileBind(g),this.compileFor(g),this.compileComposite(g,v))}compileRoleMappingWithReduction(g){t.fF.assertValue(g,"mapping");var v=this.compileRoleMapping(g),f=this.compileList(g);if(v||f){var S=i(v,f);return S&&g.dataReductionAlgorithm&&(S.dataReductionAlgorithm=this.compileReduction(g.dataReductionAlgorithm)),S}}compileBind(g){if(t.fF.assertValue(g,"mapping"),g.bind)return{bind:{to:this.compileRole(g.bind.to,g.bind.aggregates)}}}compileForWithReduction(g){t.fF.assertValue(g,"mapping");var v=this.compileFor(g);if(v)return g.dataReductionAlgorithm&&(v.dataReductionAlgorithm=this.compileReduction(g.dataReductionAlgorithm)),v}compileFor(g){if(t.fF.assertValue(g,"mapping"),g.for)return{for:{in:this.compileRole(g.for.in)}}}compileComposite(g,v){if(t.fF.assertValue(g,"mapping"),g.composite){var S={composite:_.map(g.composite,P=>this.compileRoleMapping(P))};return t.fF.assert(()=>v||!(g.dataReductionAlgorithm&&g.dataReductionAlgorithm.window)||g.synchronized,"window data reduction requires synchronization except in the first mapping"),g.synchronized&&(S.synchronized=g.synchronized),g.dataReductionAlgorithm&&(S.dataReductionAlgorithm=this.compileReduction(g.dataReductionAlgorithm)),S}}compileRole(g,v){return this.strategy.compileRole(g,v)}compileReduction(g){if(t.fF.assertAnyValue(g,"algorithm"),g){var v={};if(g.top&&(v.top={},g.top.count&&(v.top.count=g.top.count)),g.bottom&&(v.bottom={},g.bottom.count&&(v.bottom.count=g.bottom.count)),g.sample&&(v.sample={},g.sample.count&&(v.sample.count=g.sample.count)),g.window&&(v.window={},g.window.count&&(v.window.count=g.window.count)),g.binnedLineSample&&(v.binnedLineSample={},g.binnedLineSample.count&&(v.binnedLineSample.count=g.binnedLineSample.count),g.binnedLineSample.warningCount&&(v.binnedLineSample.warningCount=g.binnedLineSample.warningCount)),g.overlappingPointsSample){var f=g.overlappingPointsSample;v.overlappingPointsSample={},f.count&&(v.overlappingPointsSample.count=f.count);var S=this.getCompiledRoleForCartesianRoleKind(0);S&&(v.overlappingPointsSample.x={role:S});var P=this.getCompiledRoleForCartesianRoleKind(1);P&&(v.overlappingPointsSample.y={role:P})}return g.topNPerLevel&&(v.topNPerLevel={count:g.topNPerLevel.count,fallbackTopCount:g.topNPerLevel.fallbackTopCount}),v}}getCompiledRoleForCartesianRoleKind(g){var v=_.filter(this.roles,f=>f.cartesianKind===g);if(t.fF.assert(()=>_.size(v)<=1,"getCompiledRoleForCartesianRoleKind expects only one role mapping to a CartesianRoleKind"),1===_.size(v))return this.compileRole(v[0].name)}}function i(V,g,v){if(V||g||v)return!V||g||v?V||!g||v?V||g||!v?$.extend(V,g,v):v:g:V}var o=r(123537),c=r(333736),h=r(501715),d=r(453855),n=r(709302),s=r(624310),p=r(517273);function l(V){return t.fF.assertValue(V,"options"),new b(V.queryDefn,V.queryProjections,V.schema,V.objectDescriptors,V.objectDefinitions,V.roles||[],V.featureSwitches,V.transformPluginService).compileMetadata().columns}function m(V){t.fF.assertValue(V,"options");var g=V.mappings;if(!g)return[];var v=V.roles||[],f=new b(V.queryDefn,V.queryProjections,V.schema,V.objectDescriptors,V.objectDefinitions,V.roles||[],V.featureSwitches,V.transformPluginService),S=new y(f,v);return _.map(g,P=>S.compileMapping(P))}class b{constructor(g,v,f,S,P,D,M,E){this.featureSwitches=M,this.transformPluginService=E,t.fF.assertValue(g,"queryDefn"),t.fF.assertValue(v,"queryProjections"),t.fF.assertValue(f,"schema"),t.fF.assertAnyValue(S,"objectDescriptors"),t.fF.assertAnyValue(P,"objectDefinitions"),t.fF.assertValue(D,"roles"),t.fF.assertValue(E,"transformPluginService"),this.queryDefn=g,this.queryProjections=v,this.schema=f,this.objectDescriptors=S,this.objectDefinitions=P,this.roles=D,this.exprEvaluationContext=p.m.buildExprEvaluationContext(this.queryDefn.from())}compileRole(g,v){t.fF.assertValue(g,"role");var f,S=this.queryDefn.select(),P=this.queryProjections[g],D=(0,u.rC)(this.roles,g);if(P&&P.all().length>0){var M=!1;D&&(M=!(this.queryDefn.hasVisualCalculations()&&!this.featureSwitches.visualCalculationOnComboChart)&&(0,s._T)(this.schema,this.queryDefn,this.queryProjections,D.name));var E=this.getScalarKeyRoleItemQueryRef(P);f=_.map(P.all(),N=>{var L=N.queryRef===E,B=S.withName(N.queryRef);return B&&this.createDataViewRoleItem(B,D,M,L,N.hidden)}),_.some(f,N=>null==N)&&(t.fF.assertFail("Some projections aren't in the query select"),f=_.filter(f,N=>null!=N)),t.fF.assert(()=>f.filter(N=>N.scalarKeyInfo&&N.scalarKeyInfo.hasScalarKey).length<=1,"We don't support multiple scalar keys in a role - visuals wouldn't know which one to select")}var w={role:g,items:f},x=this.queryProjections[g];return x&&(x.showAll&&(w.showAll=!0),x.activeProjectionRefs&&(w.activeItems=x.activeProjectionRefs)),v&&(w.aggregates=_.cloneDeep(v)),w}getScalarKeyRoleItemQueryRef(g){t.fF.assertValue(g,"projections"),t.fF.assertValue(!_.isEmpty(g.all()),"projections.all");var v=g.activeProjectionRefs;return _.isEmpty(v)?g.all()[0].queryRef:_.last(v)}createDataViewRoleItem(g,v,f,S,P){t.fF.assertValue(g,"select");var D={queryName:g.name},M=this.tryGetExprType(g.expr);if(M&&(D.type=M),v&&null!=v.joinPredicate)D.joinPredicate=v.joinPredicate;else if((0,a.Im)(g.expr)){var E=this.queryDefn.transforms();if(!_.isEmpty(E)){var w=!1;for(var x of E){var N=this.transformPluginService.getTransformPlugin(x.algorithm)?.outputRoles;if(!_.isEmpty(N))for(var L of N)if(L.algorithmRole===g.expr.role&&null!=L.joinPredicateBehavior){D.joinPredicate=L.joinPredicateBehavior,w=!0;break}if(w)break}}}return D.scalarKeyInfo={hasScalarKey:f&&S},D.hidden=P,D}tryGetExprType(g){t.fF.assertValue(g,"expr");var v=g.getMetadata(this.schema,this.exprEvaluationContext);if(v)return v.type}compileMetadata(){var g=this,v={columns:[]},f=this.queryDefn.orderBy(),S=function(I){var W=_.find(f,F=>(0,e.fS)(F.expr,I.expr)),O=p.m.getParameterMetadata(I.expr,g.schema);v.columns.push({displayName:void 0,queryName:I.name,type:g.tryGetExprType(I.expr),sort:W&&W.direction,parameter:O})};for(var P of this.queryDefn.select())S(P);var M=this.objectDefinitions;if(!M||!this.objectDescriptors)return v;var E=(0,c.Me)(M),w=(0,d.X)(),x=(0,C.Ue)();if(!_.isEmpty(E.metadataOnce)){var N=this.evaluateMetadataOnceObjects(E.metadataOnce,w,x);N&&(v.objects=N)}if(!_.isEmpty(E.metadata))for(var L of v.columns){var B=this.evaluateMetadataObjects(L,E.metadata,w,x);B&&(L.objects=B)}return v}evaluateMetadataOnceObjects(g,v,f){var S,P=new h.Q(this.featureSwitches,f);for(var D of g){var M=D.selector&&D.selector.id,E=D.selector?.order,w=(0,c.PJ)(P,v,this.objectDescriptors,D.objects);w&&(S||(S={}),(0,o.PM)(S,w,M,E))}return S}evaluateMetadataObjects(g,v,f,S){var P,D=new h.Q(this.featureSwitches,S);for(var M of v){var E=M.selector;if(E.metadata&&E.metadata===g.queryName){var w=(0,c.PJ)(D,f,this.objectDescriptors,M.objects);w&&(P||(P={}),(0,o.PM)(P,w,E.id,E.order))}}return P}compileScriptDefinition(g,v){t.fF.assertValue(g,"mapping");var f=(0,n.Uo)(this.queryProjections,this.queryDefn.select(),this.schema,g,v.objects);return{source:g.source,provider:g.provider,scriptInput:f,scriptSourceDefault:g.scriptSourceDefault,scriptProviderDefault:g.scriptProviderDefault,scriptOutputType:g.scriptOutputType}}}},525284:function(Ce,k,r){r.d(k,{Az:function(){return y},Ho:function(){return h},KB:function(){return i},fg:function(){return t},p5:function(){return u}});var a=r(534721),e=r(939123),u="*";function t(d,n,s,p,l){return e.fF.assertValue(l,"dataViewObjectVersioning.getThemePropertyId - renamedObjectPropertyVersionDictionary should exist."),C(l[d],n,s,p)||C(l[u],n,s,p)||{objectName:n,propertyName:s}}function C(d,n,s,p){var l=d&&d[n]&&d[n][s];if(l){for(var m=l.currentId;l&&(0,a.lt)(p,l.version);)m=l.previousId,l=l.previous;return m}}function y(d,n,s,p,l,m){return i(d,n,null,s,p,l,m,()=>!1)===a.aD}function i(d,n,s,p,l,m,b,V){return e.fF.assertValue(d,"dataViewObjectVersioning.getVersionForDefinition - addedObjectPropertyVersionDictionary should exist."),(0,a.Fp)(o(d[u],l,m,n,s,b,V),o(d[p],l,m,n,s,b,V))}function o(d,n,s,p,l,m,b){var V=d&&d[n];return V?(0,a.Fp)(c(V[u],p,l,m,b),c(V[s],p,l,m,b)):a.aD}function c(d,n,s,p,l){if(!d)return a.aD;for(var b,m=function(g){var v=d[g];if(e.fF.assert(()=>!g||!(0,a.lt)(v.version,d[g-1].version),"We iterate through the visual object property versions in decreasing order of version, \n                    that way if we match something we know we can to stop right there.\n                    If this assert triggers it means that the object property versions are not sorted in increasing order."),!(0,a.lt)(p,v.version))return 0;var f=v.property.matchByContents;return f&&!f(n,s)||v.property.isExprBound&&!l()?void 0:{v:v.version}},V=d.length-1;V>=0&&0!==(b=m(V));V--)if(b)return b.v;return a.aD}function h(d,n,s){var p=d[s];if(p){var l=p[n.objectName];if(l)return _.reduce(l[n.propertyName],(b,V)=>V.property.matchByContents||V.property.isExprBound?b:(0,a.Fp)(b,V.version),l["*"]?.[0].version??a.aD)}return a.aD}},162125:function(Ce,k,r){r.d(k,{lr:function(){return u}});var a=r(939123),e=r(569276);function u(n,s){a.fF.assertValue(n,"mappings"),a.fF.assertValue(s,"indicesByName");var p=n.length;if(1===p)return{mapping:n[0]};for(var l,m=[],b=n[0].updateType,V=0;V<p;V++){var g=n[V];if(b=t(g.updateType,b),!g.categorical)return;0===V&&(l={metadata:g.metadata,categorical:{}}),C(l.categorical,g.categorical),m.push(h(s,g.categorical))}return l.updateType=b,{mapping:l,splits:m}}function t(n,s){return null===n||0===n||null===s||0===s?0:n===s?n:1===n||1===s?1:2}function C(n,s){if(s.categories)if(n.categories){var p=function(n,s){if(a.fF.assertValue(n,"target"),a.fF.assertValue(s,"source"),!n&&!s)return!0;if(n&&s){if(!n.categories&&!s.categories)return!0;if(n.categories&&s.categories){var p=n.categories,l=s.categories;return!!i(p.dataReductionAlgorithm,l.dataReductionAlgorithm)&&(p.bind||l.bind?_.isEqual(p.bind,l.bind):p.for||l.for?_.isEqual(p.for,l.for):!p.select&&!l.select||_.isEqual(p.select,l.select))}}return!1}(n,s);a.fF.assert(()=>p,"target.categories & source.categories must match when multiple mappings are used.")}else n.categories=s.categories;if(null!=s.dataVolume||null!=n.dataVolume){var l=Math.max(s.dataVolume||0,n.dataVolume||0);s.dataVolume=n.dataVolume=l}if(s.dataReductionAlgorithm)if(n.dataReductionAlgorithm){var m=i(s.dataReductionAlgorithm,n.dataReductionAlgorithm);a.fF.assert(()=>m,"target.dataReductionAlgorithm & source.dataReductionAlgorithm must be compatible when multiple mappings are used.")}else n.dataReductionAlgorithm=s.dataReductionAlgorithm;if(s.values){var b=n.values;b||(b=n.values={});var V=s.values,g=V.group;if(function(n,s){(s.bind||s.for)&&(n.select||(n.select=[]),n.select.push(s))}(b,V),c(b,V.select),g){var v=n.values.group;v?c(v,g.select):n.values.group={select:g.select.concat([]),by:g.by,dataReductionAlgorithm:g.dataReductionAlgorithm}}}}function i(n,s){return!n||!s||_.isEqual(n,s)}function c(n,s){s&&(n.select||(n.select=[]),n.select.push(...s||[]))}function h(n,s){var p={selects:{}},l={visitRole:m=>function(n,s,p){a.fF.assertValue(n,"split"),a.fF.assertValue(s,"indicesByName"),a.fF.assertValue(p,"role");var l=p.items;if(!_.isEmpty(p.items)){var m=[];for(var b of l){var g=s[b.queryName];m[g]||(n.selects[g]=!0,m[g]=!0)}}}(p,n,m)};return(0,e.Sr)(s.categories,l),(0,e.vS)(s.values,l),(0,e.fl)(s.values,l),p}},587370:function(Ce,k,r){r.d(k,{fz:function(){return o},v4:function(){return c}});var a=r(722709),e=r(939123),u=r(616113),t=r(737466),C=r(613694),y=r(931145),i=r(999634);function o(I){return e.fF.assertValue(I,"loc"),{kpiGoalFmt:I.get("KpiGoalDisplayName"),kpiStatusFmt:I.get("KpiStatusDisplayName"),kpiTrendFmt:I.get("KpiTrendDisplayName")}}function c(I,W,O,F){var A=new C.ud;for(var T of(A.name=W,A.cubeName=F,A.entities=(0,a.bv)(),I.canEdit&&(I.Capabilities||(I.Capabilities={}),I.Capabilities.CanEdit=I.canEdit),A.capabilities=function(I){return{canEdit:I&&I.CanEdit||!1,discourageQueryAggregateUsage:I&&I.DiscourageQueryAggregateUsage||!1,isExtendable:I&&I.IsExtendable||!1,isQnaEnabled:I&&I.IsQnaEnabled||!1,normalizedFiveStateKpiRange:I&&I.NormalizedFiveStateKpiRange||!1,supportsMedian:I&&I.SupportsMedian||!1,supportsPercentile:I&&I.SupportsPercentile||!1,supportsScopedEval:I&&I.SupportsScopedEval||!1,supportsStringMinMax:I&&I.SupportsStringMinMax||!1,supportsMultiTableTupleFilters:I&&I.SupportsMultiTableTupleFilters||!1,supportsTimeIntelligenceQuickMeasures:I&&I.SupportsTimeIntelligenceQuickMeasures||!1,supportsCalculatedColumns:I&&!1!==I.SupportsCalculatedColumns||!1,supportsGrouping:I&&!1!==I.SupportsGrouping||!1,limitMultiColumnFiltersToQueryGroupColumns:I&&I.LimitMultiColumnFiltersToQueryGroupColumns||!1,supportsBinnedLineSample:I&&I.SupportsBinnedLineSample||!1,supportsOverlappingPointsSample:I&&I.SupportsOverlappingPointsSample||!1,supportsQna:I&&I.SupportsQna||!1,supportsInstanceFilters:I&&I.SupportsInstanceFilters||!1,supportsDataSourceVariables:I&&I.SupportsDataSourceVariables||!1,insights:I?L(I.Insights):{},supportsFastRefresh:I&&I.SupportsFastRefresh||!1,supportsSubqueryRegrouping:I&&I.SupportsSubqueryRegrouping||!1,supportsTopNPerLevel:I&&I.SupportsTopNPerLevel||!1,supportsExtensionColumns:I&&I.SupportsExtensionColumns||!1,canEditChangeDetectionMeasure:I&&I.CanEditChangeDetectionMeasure||!1,supportsGroupSynchronization:I&&I.SupportsGroupSynchronization||!1,supportsScopedDataReduction:I&&I.SupportsScopedDataReduction||!1,transformCapabilities:B(I&&I.TransformCapabilities),supportChangeDetectionMeasureRefresh:I&&I.SupportChangeDetectionMeasureRefresh||!1,supportsSparklineData:I&&I.SupportsSparklineData||!1,supportsVisualCalculations:I&&I.SupportsVisualCalculations||!1}}(I.Capabilities),I.Entities))A.entities.push(h(T,A.capabilities,O));for(var R=0,U=I.Entities.length;R<U;++R)M(A.entities[R],I.Entities[R],A.entities);return A}function h(I,W,O){var F=I.Capabilities,A=I.Source,T={name:I.Name,displayName:I.DisplayName||I.Name,stableName:I.StableName,description:I.Description,visibility:D(I.Hidden,I.ShowAsVariationsOnly,I.Private),calculated:I.Calculated,queryable:I.Queryable,properties:(0,a.bv)(),hierarchies:(0,a.bv)(),displayFolders:(0,a.bv)(),navigationProperties:(0,a.bv)(),errorMessage:I.ErrorMessage,isDateTable:!0===I.IsDateTable,isCalculationGroup:I.IsCalculationGroup,source:{mode:A&&A.Mode,refreshedTime:A&&A.RefreshedTime,directQuerySourceType:A&&A.DirectQuerySourceType,directQuerySourceName:A&&A.DirectQuerySourceName},capabilities:{canRefresh:!F||!1!==F.CanRefresh,canHaveMeasures:!F||!1!==F.CanHaveMeasures,canEditSource:W.canEdit&&(!F||!1!==F.CanEditSource),canRename:W.canEdit&&(!F||!1!==F.CanRename),canDelete:W.canEdit&&(!F||!1!==F.CanDelete),canEditStorageMode:W.canEdit&&(!F||!1!==F.CanEditStorageMode),supportsClustering:W.canEdit&&(!F||!1!==F.SupportsClustering),supportsBinByCount:W.canEdit&&(!F||!1!==F.SupportsBinByCount),limitOnNumberOfGroups:F&&F.LimitOnNumberOfGroups||null,dataView:F&&F.DataView||null}};for(var R of I.Properties)T.properties.push(b(R));e.fF.assert(()=>T.properties.length===I.Properties.length,"Converted schema properties array is not the expected length.");for(var U=0,z=I.Properties.length;U<z;++U){var j=T.properties[U],H=I.Properties[U];e.fF.assertValue(j,"no result property for contract property"),j.canDelete=W.canEdit&&!1!==H.CanDelete;var q=H.Column;if(q){var G=j.column=j.column||{};q.Keys&&(G.keys=p(q.Keys,T.properties)),q.OrderBy&&(G.orderBy=p(q.OrderBy,T.properties))}var J=H.Measure;if(J){var Z=j.measure=j.measure||{};if(Z.canEdit=!1!==J.canEdit,J.FormatBy&&(Z.formatBy=J.FormatBy),J.Kpi){var Q=Z.kpi=l(J.Kpi,T.properties,W);m(Q.goal,j,1,O),m(Q.status,j,0,O),m(Q.trend,j,3,O)}J.Template&&(Z.template={name:J.Template.DaxTemplateName}),J.ChangeDetectionMetadata&&(Z.changeDetectionMetadata={refreshInterval:J.ChangeDetectionMetadata.RefreshInterval}),null!=J.DistributiveAggregate&&(Z.distributiveAggregate=J.DistributiveAggregate)}}if(I.Hierarchies)for(var ne of I.Hierarchies)T.hierarchies.push(n(ne,T.properties));if(I.DisplayFolders)for(var le of I.DisplayFolders)T.displayFolders.push(d(le,T.properties,T.hierarchies));return I.DefaultLabelColumnRef&&(T.defaultLabel=T.properties.withName(I.DefaultLabelColumnRef)),I.DefaultFieldPropertyRefs&&(T.defaultFields=_.map(I.DefaultFieldPropertyRefs,he=>T.properties.withName(he))),T}function d(I,W,O){var F={name:I.Name,displayName:I.DisplayName||I.Name,description:I.Description,properties:(0,a.bv)(),hierarchies:(0,a.bv)(),displayFolders:(0,a.bv)()};if(I.DisplayItems)for(var A of I.DisplayItems)A.PropertyRef&&W?F.properties.push(W.withName(A.PropertyRef)):A.HierarchyRef&&O?F.hierarchies.push(O.withName(A.HierarchyRef)):A.DisplayFolder&&F.displayFolders.push(d(A.DisplayFolder,W,O));return F}function n(I,W){var O={name:I.Name,displayName:I.DisplayName||I.Name,stableName:I.StableName,description:I.Description,hidden:I.Hidden,levels:(0,a.bv)(),canDelete:!1!==I.CanDelete};for(var F of I.Levels)O.levels.push(s(F,W));return O}function s(I,W){return{name:I.Name,displayName:I.DisplayName||I.Name,stableName:I.StableName,description:I.Description,column:W.withName(I.Column),canDelete:!1!==I.CanDelete}}function p(I,W){e.fF.assertValue(I,"names"),e.fF.assertValue(W,"properties");var O=(0,a.bv)();for(var F of I)O.push(W.withName(F));return O}function l(I,W,O){var F=O.normalizedFiveStateKpiRange,A={statusMetadata:{graphic:I.StatusGraphic,normalizedFiveStateKpiRange:F},status:W.withName(I.Status),goal:W.withName(I.Goal),trend:W.withName(I.Trend)};return I.TrendGraphic&&(A.trendMetadata={graphic:I.TrendGraphic,normalizedFiveStateKpiRange:F}),A}function m(I,W,O,F){if(I){var A=W.displayName;switch(O){case 1:A=(0,u.W)(F.kpiGoalFmt,A);break;case 0:A=(0,u.W)(F.kpiStatusFmt,A);break;case 3:A=(0,u.W)(F.kpiTrendFmt,A);break;default:e.fF.assertFail("Unsupported Kpi Type")}I.displayName=A,I.hidden=!1,I.kpiValue=W}}function b(I){return e.fF.assertValue(I,"contract"),{displayName:I.DisplayName||I.Name,stableName:I.StableName,description:I.Description,name:I.Name,type:y.Ge.fromPrimitiveTypeAndCategory(I.DataType,I.DataCategory),column:I.Column?V(I.Column):null,kind:P(I),format:I.FormatString,hidden:I.Hidden,isPrivate:I.Private,queryable:I.Queryable,errorMessage:I.ErrorMessage}}function V(I){e.fF.assertValue(I,"contract");var W={defaultAggregate:I.DefaultAggregate,idOnEntityKey:I.IdOnEntityKey,calculated:I.Calculated,variations:(0,a.bv)(),aggregateBehavior:I.AggregateBehavior};return void 0!==I.DefaultValue&&(W.defaultValue=(0,i.bE)(I.DefaultValue)),W}function g(I,W){return e.fF.assertValue(I,"contract"),e.fF.assertValue(W,"entity"),{kind:null!=I.Kind?I.Kind:0,mappedMParameterNames:I.MappedMParameterNames,supportsMultipleValues:I.SupportsMultipleValues,supportsSelectAll:I.SupportsSelectAll}}function v(I,W){e.fF.assertValue(I,"contract"),e.fF.assertValue(W,"entity");var O={groupedColumns:_.map(I.GroupedColumns,F=>F.ColumnRef&&!F.LevelRef?W.properties.withName(F.ColumnRef):F.LevelRef&&!F.ColumnRef?W.hierarchies.withName(F.LevelRef.Hierarchy).levels.withName(F.LevelRef.Level):void e.fF.assertFail("unknown ClientConceptualGroupedColumnContainer"))};return I.BinningMetadata&&(O.binningMetadata=function(I){e.fF.assertValue(I,"contract");var W={};return I.BinSize&&(W.binSize=function(I){return e.fF.assertValue(I,"contract"),{value:I.Value,unit:I.Unit}}(I.BinSize)),W}(I.BinningMetadata)),O}function P(I){return I.Measure?1:0}function D(I,W,O){var F=0;return I&&(F|=1),W&&(F|=2),O&&(F|=4),F}function M(I,W,O){if(e.fF.assertValue(I,"entity"),e.fF.assertValue(W,"contract"),e.fF.assertValue(O,"entities"),W.NavigationProperties)for(var F of W.NavigationProperties)I.navigationProperties.push(E(F,I,O));if(W.Properties)for(var A=0,T=W.Properties.length;A<T;++A){var R=W.Properties[A],U=R.Column;if(U&&U.Variations&&w(I.properties[A].column,U,I),U&&U.GroupingMetadata&&(I.properties[A].column.groupingMetadata=v(U.GroupingMetadata,I)),U&&U.ParameterMetadata){var z=g(U.ParameterMetadata,I);if(I.properties[A].column.parameterMetadata=z,2===z.kind)for(var j of I.properties)if(j?.column?.keys&&1===j.column.keys.length&&null!=j.column.keys[0].column?.parameterMetadata?.kind&&2===j.column.keys[0].column.parameterMetadata.kind){j.column.parameterMetadata=z;break}}var H=R.Measure;H&&!_.isEmpty(H.DistributiveBy)&&(I.properties[A].measure.distributiveBy=_.map(H.DistributiveBy,q=>O.withName(q)))}}function E(I,W,O){e.fF.assertValue(I,"contract");var F={name:I.Name,isActive:I.Active,sourceColumn:null,targetEntity:O.withName(I.TargetEntity),sourceMultiplicity:I.SourceMultiplicity,targetMultiplicity:I.TargetMultiplicity,behavior:I.Behavior||0,crossFilterDirection:t.b$.valueOrDefault(I.CrossFilterDirection,0)};if(I.SourceColumn){var A=W.properties.withName(I.SourceColumn);A&&(F.sourceColumn=A.column)}return F}function w(I,W,O){for(var F of(e.fF.assertValue(I,"column"),e.fF.assertValue(W,"contract"),W.Variations))I.variations.push(x(F,O))}function x(I,W){e.fF.assertValue(I,"contract");var O={name:I.Name,isDefault:I.Default,navigationProperty:null,defaultHierarchy:null,defaultProperty:null},F=W;return I.NavigationProperty&&(O.navigationProperty=W.navigationProperties.withName(I.NavigationProperty),F=O.navigationProperty.targetEntity),I.DefaultHierarchy&&(O.defaultHierarchy=F.hierarchies.withName(I.DefaultHierarchy)),I.DefaultProperty&&(O.defaultProperty=F.properties.withName(I.DefaultProperty)),O}function L(I){return I?{supportsDistributionFactors:I.SupportsDistributionFactors||!1,supportsExplainChange:I.SupportsExplainChange||!1,supportsExplore:I.SupportsExplore||!1,supportsKeyDrivers:I.SupportsKeyDrivers||!1,supportsRelatedInsights:I.SupportsRelatedInsights||!1,supportsDecomposition:I.SupportsDecomposition||!1,supportsExplainAnomalies:I.SupportsExplainAnomalies||!1,supportsCompatibleFields:I.SupportsCompatibleFields||!1,supportsQuerySuggestions:I.SupportsQuerySuggestions||!1,supportsExplainVarianceToTarget:I.SupportsExplainVarianceToTarget||!1,supportsGenerateSummaries:I.SupportsGenerateSummaries||!1}:{}}function B(I){return I?{supportedTransforms:I.SupportedTransforms}:{supportedTransforms:[]}}},611679:function(Ce,k,r){r.d(k,{No:function(){return n},U6:function(){return s}});var a=r(866109),e=r(404968),u=r(614123),t=r(17933),C=r(176495),y=r(939123),i=r(992124),o=r(89354),c=r(540665),h=r(587370);function n(m,b,V,g,v,f,S){return new l(m,b,V,g,v,f,S)}function s(m,b,V,g,v){return new p(m,b,V,g,v)}class p{constructor(b,V,g,v,f){this.httpService=b,this.promiseFactory=V,this.uri=g,this.featureSwitches=v,this.preloadConceptualSchemaService=f}execute(b,V){var f,S,P,g=this.featureSwitches&&this.featureSwitches().telemetryV2,v=this.promiseFactory.defer(g);return V.event.info.endPoint=this.uri,this.preloadConceptualSchemaService&&(f=this.preloadConceptualSchemaService.getPreloadedConceptualSchema(),S=this.preloadConceptualSchemaService.getPreloadConceptualSchemaUrl(),P=this.preloadConceptualSchemaService.getPreloadConceptualSchemaRequestBody()),JSON.stringify(b)===P&&this.uri===S&&f?(f.then(D=>{1!==D.schemas.length||D.schemas[0].modelId!==b.modelIds[0]||D.error?this.httpExecute(b,V,v):((0,C.bF)(this.uri,V.event.info),v.resolve({requestId:this.preloadConceptualSchemaService.getPreloadConceptualSchemaResponseRequestId(),schemas:D.schemas}))},D=>{this.httpExecute(b,V,v)}),this.preloadConceptualSchemaService.clear()):this.httpExecute(b,V,v),v.promise}httpExecute(b,V,g){this.httpService.post(this.uri,b,this.httpService.powerbiRequestOptions(V.event,"GetConceptualSchema")).then(v=>{this.setTelemetryEventInfo(V.event,v),g.resolve({requestId:v.responseRequestId||v.requestId,schemas:v.data.schemas})},v=>{var f=v||{};this.setTelemetryEventInfo(V.event,f),g.reject({requestId:f.responseRequestId||f.requestId,error:f.error,status:f.status,schemas:void 0})})}setTelemetryEventInfo(b,V){b.info.clientAndServerRequestIdMatch=(0,C.Cx)(V),b.info.responseRequestId=(0,C.yC)(V),b.info.requestId=V.requestId,(0,C.bF)(this.uri,b.info)}}var l=(()=>{class m{constructor(V,g,v,f,S,P,D){this.promiseFactory=V,this.telemetryService=g,this.localeProvider=v,this.conceptualSchemaProxyCommunication=f,this.locOptions=S,this.featureSwitches=P,this.embedModeService=D,y.fF.assertValue(V,"promiseFactory"),y.fF.assertValue(f,"conceptualSchemaProxyCommunication"),y.fF.assertValue(S,"locOptions")}execute(V){y.fF.assertValue(V,"options");var g=V.dataSources;y.fF.assertNonEmpty(g,"dataSources");var v=this.featureSwitches&&this.featureSwitches().telemetryV2;if(!g||g.length>1)return this.promiseFactory.reject({},v);var f=this.promiseFactory.defer(v),S=_.map(g,w=>w.name),P={modelIds:_.map(g,w=>w.id),userPreferredLocale:this.localeProvider.getUserPreferredLocale()};g.some(w=>w.perspectiveId)&&(P.perspectiveIds=_.map(g,w=>w.perspectiveId));var M=JSON.stringify(P.modelIds);v&&(0,t.Hi)(c.sS,{datasetIds:M});var E=this.telemetryService.startEvent(c.oj,{endPoint:"",datasetIds:M,clientAndServerRequestIdMatch:!0,embedType:this.embedModeService&&this.embedModeService.getEmbedTypeDescription()});return this.conceptualSchemaProxyCommunication.execute(P,E).then(w=>this.onSuccess(w,S,f,E),w=>this.onError(w,f,E)),f.promise}transform(V){var g=V;if(!g.data)return{schema:null,error:g.error};var v=g.data;y.fF.assertValue(v,"schemaResponse");var f=v.schemas;y.fF.assertNonEmpty(f,"schemaResponses");var S=g.schemaNames;y.fF.assert(()=>S.length===f.length,"schemaNames.length === schemaResponsess.length");for(var P={},D=0,M=f.length;D<M;D++){var E=S[D];P[E]=(0,h.v4)(f[D].schema,E,this.locOptions,f[D].cubeName)}return{schema:new o.l({schemas:P})}}onSuccess(V,g,v,f){if(_.isEmpty(V.schemas))this.onError(V,v,f);else{for(var S of V.schemas){var P=S.error;if(P){v.reject({data:null,error:{requestId:V.requestId,serviceError:P,clientError:null,ignorable:!0}});var D=(0,u.W2)(P);return D.asErrorCode=P.parameters&&P.parameters.ASErrorCode,void f.reject(D)}}v.resolve({data:V,schemaNames:g,error:null}),f.resolve()}}onError(V,g,v){var f=V.error,S=f||429!==V.status?new i.n8(V.error||{code:"<no-PowerBIApiErrorObject>"}):new i.TZ;g.reject({data:null,error:{requestId:V.requestId,clientError:S,status:V.status}}),v.reject((0,u.GB)(f,V.status))}}return(0,a.__decorate)([(0,e.U)(c.sS),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],m.prototype,"execute",null),m})()},238489:function(Ce,k,r){r.d(k,{g:function(){return e},y:function(){return u}});var a=r(939123);function e(t){return a.fF.assertValue(t,"dataQuery"),a.fF.assertNonEmpty(t.Commands,"dataQuery.Commands must not be empty"),a.fF.assertValue(t.Commands[0].SemanticQueryDataShapeCommand,"The first command must be a SemanticQuery command"),a.fF.assertValue(t.Commands.length<=3,"dataQuery.Commands can hold up to three commands"),a.fF.assertValue(1===t.Commands.length||2===t.Commands.length&&(t.Commands[1].ScriptVisualCommand||t.Commands[1].ExportDataCommand),"The additional commands should be ScriptVisualCommand or ExportDataCommand."),t.Commands[0].SemanticQueryDataShapeCommand}function u(t){return a.fF.assert(()=>t&&t.Commands&&t.Commands.length>0,"data query should not be empty"),t.Commands.length>1}},470405:function(Ce,k,r){r.d(k,{p:function(){return E}});var a=r(611679),e=r(87769),u=r(939123),t=r(737466),C=r(528836),y=r(269556),i=r(27819);function c(x){return(N,L,B)=>{var I={query:N,extensions:void 0,queryRewrites:L},W=new p(L,B);return I.query=N.rewrite(W),I.extensions=W.extensionSchema,I.queryRewrites=W.queryRewrites,I}}class p extends y.b{constructor(N,L){super(),this.queryRewrites=N,this.extensionSchema=L,this.existingEntityNames={},this.existingExtensionFieldNames={},u.fF.assertAnyValue(N,"queryRewrites"),u.fF.assertAnyValue(L,"extensionSchema")}visitNativeMeasure(N){this.ensureSchemaInitialized(),this.nativeMeasuresTargetEntity||(this.nativeMeasuresTargetEntity={Name:(0,t.zE)(this.existingEntityNames,"NativeMeasures_778a1d25-9ebf-4f33-a1c3-827ad532874e"),NamingBehavior:1,Measures:[]},this.extensionSchema.Entities.push(this.nativeMeasuresTargetEntity));var L=_.find(this.nativeMeasuresTargetEntity.Measures,W=>W.DataType===N.dataType&&W.Expression===N.expression);if(L)return(0,C.mv)((0,C.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),L.Name);var B=(0,t.zE)(this.existingExtensionFieldNames,N.proposedName||"NativeMeasure");this.existingExtensionFieldNames[B]=!0;var I=(0,C.mv)((0,C.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),B);return this.nativeMeasuresTargetEntity.Measures.push({Name:B,DataType:N.dataType,Expression:N.expression}),I}visitNativeColumn(N){this.ensureSchemaInitialized();var B=N.source.getTargetEntity(),I=_.find(this.extensionSchema.Entities,A=>A.Name===B.entity);I||this.extensionSchema.Entities.push(I={Name:B.entity,Extends:B.entity,Columns:[]}),I.Columns||(I.Columns=[]);var W=_.find(I.Columns,A=>A.DataType===N.dataType&&A.Expression===N.expression);if(W)return(0,C.Oh)((0,C.nw)(this.extensionSchema.Name,I.Name),W.Name);var O=(0,t.zE)(this.existingExtensionFieldNames,N.proposedName||"NativeColumn");this.existingExtensionFieldNames[O]=!0;var F=(0,C.Oh)((0,C.nw)(this.extensionSchema.Name,I.Name),O);return I.Columns.push({Name:O,DataType:N.dataType,Expression:N.expression,NamingBehavior:1}),this.queryRewrites||(this.queryRewrites=[]),this.queryRewrites.push({selectExprReplaced:{originalExpr:N,replacedExpr:F}}),F}ensureSchemaInitialized(){if(!this.schemaInitialized){for(var N of(this.extensionSchema?this.extensionSchema.Version=Math.max(this.extensionSchema.Version,1):this.extensionSchema={Name:"NativeExpressionExtensions",Version:1,Extends:i.N8},this.extensionSchema.Entities||(this.extensionSchema.Entities=[]),this.existingExtensionFieldNames={},this.extensionSchema.Entities)){if(this.existingEntityNames[N.Name]=!0,N.Measures)for(var L of N.Measures)this.existingExtensionFieldNames[L.Name]=!0;if(N.Columns)for(var B of N.Columns)this.existingExtensionFieldNames[B.Name]=!0}this.schemaInitialized=!0}}}var l=r(923443),m=r(866109),b=r(585742),V=r(404968),g=r(540665),v=r(992330),f=r(377714),S=r(614123),P=r(176495),D=(()=>{class x{constructor(L,B,I,W,O,F,A,T,R=!1){this.useSynchronous=!1,u.fF.assertValue(L,"httpService"),u.fF.assertValue(I,"localeProvider"),u.fF.assertValue(B,"telemetryService"),u.fF.assertValue(W,"promiseFactory"),u.fF.assertValue(O,"uri"),this.httpService=L,this.impersonationStateProvider=F,this.promiseFactory=W,this.telemetryService=B,this.localeProvider=I,this.uri=O,this.featureSwitches=A,this.directToMwcConnectionInfoService=T,this.useSynchronous=R}execute(L){var B=this.httpService.powerbiRequestOptions(null,"ExecuteSemanticQuery",void 0,!0),I=(0,b.u5)(L,this.localeProvider,this.impersonationStateProvider);for(var W of L.enqueueActivities)W.resolve();var O=this.featureSwitches&&this.featureSwitches().telemetryV2,F=this.featureSwitches&&this.featureSwitches().addVisualIdToQueryDataAsHttpBodyId,A=this.promiseFactory.defer(O),T=L.cacheOptions,R=L.useSynchronous||this.useSynchronous,U=L.dataSources[0].dbName,z=!1;(!U||L.dataSources.length>1)&&(this.telemetryService.logEvent(v.jj,{message:"A direct to MWC request was missing a dbName or more then one source was used in this request. This will cause issues routing with AutoPremium"}),z=!0);var j=this.uri;if(R){var H={};R&&(H.synchronous="true"),j=(0,f.fS)(j,H,!0)}if(F){var q=L.queryOptions?.[0]?.applicationContext?.Sources?.[0]?.VisualId;q&&(B.params||(B.params={}),B.params.$httpBodyId=q)}var G=j,J=B.authorizationHeaderOverride,Z=I.modelId;if(this.directToMwcConnectionInfoService){var Q=this.directToMwcConnectionInfoService.checkModelConnectionInfo(Z);!Q||this.impersonationStateProvider&&this.impersonationStateProvider.impersonating||z?this.sendHttpRequest(j,I,B,A,T,L.queryActivities,R):this.sendDirectToMwcRequestWithFallbackOnFailure(Z,Q,j,I,B,A,Z,G,J,T,U,L.queryActivities,R)}else this.sendHttpRequest(j,I,B,A,T,L.queryActivities,R);return A.promise}sendDirectToMwcRequestWithFallbackOnFailure(L,B,I,W,O,F,A,T,R,U,z,j,H){var q=this.telemetryService.startEvent(g.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:H,cacheOptions:U});I=B.capacityUri+"query",(0,b.qe)(O,B.mwcToken,z);var G=[];for(var J of j){var Z=J.createChildActivity({name:"Query Executing"});Z&&G.push(Z)}var Q=W;this.featureSwitches().disallowLongRunningQueries||(Q={...Q,allowLongRunningQueries:!0}),this.httpService.post(I,Q,O).then(ne=>{this.attachHttpMetadataToTelemetry(q.event.info,ne,I),this.attachCacheMetadataToTelemetryDirectToMwc(q.event,ne);var le=ne.headers("x-ms-mwc-throttling-delay");for(var he of(_.isEmpty(le)||this.directToMwcConnectionInfoService.notifyThrottlingOnNotificationBar(),G))this.attachHttpMetadataToContextActivity(he,ne),he.resolve();q.resolve(),F.resolve({...this.attachHttpMetadataToResult(ne),mwcModelId:L,mwcDbName:z})},ne=>{for(var le of(this.attachHttpMetadataToTelemetry(q.event.info,ne,I),this.attachCacheMetadataToTelemetryDirectToMwc(q.event,ne),G))this.attachHttpMetadataToContextActivity(le,ne),le.reject();q.reject((0,S.GB)(ne.error,ne.status)),this.directToMwcConnectionInfoService.removeModelConnectionInfo(A),O.authorizationHeaderOverride=R,O.useMwcTokenAuthorization=null,this.sendHttpRequest(T,W,O,F,U,j,H)})}sendHttpRequest(L,B,I,W,O,F,A){var T=this.telemetryService.startEvent(g.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:A,cacheOptions:O}),R=[];for(var U of F){var z=U.createChildActivity({name:"Query Executing"});z&&R.push(z)}this.httpService.post(L,B,I).then(j=>{for(var H of(this.attachHttpMetadataToTelemetry(T.event.info,j,L),R))this.attachHttpMetadataToContextActivity(H,j),H.resolve();T.resolve(),W.resolve(this.attachHttpMetadataToResult(j))},j=>{for(var H of(this.attachHttpMetadataToTelemetry(T.event.info,j,L),R))this.attachHttpMetadataToContextActivity(H,j),H.reject();T.reject((0,S.GB)(j.error,j.status)),W.reject(this.attachHttpMetadataToResult(j))})}attachHttpMetadataToContextActivity(L,B){L.isRunning()&&B.performanceTimings&&(L.setProperty("transferSize",B.performanceTimings?.transferSize),L.setProperty("contentType",B.headers("content-type")),L.setProperty("httpStatus",B.status.toString()),L.setProperty("requestId",B.requestId),L.setProperty("requestStart",B.performanceTimings?.requestStart),L.setProperty("responseStart",B.performanceTimings?.responseStart),L.setProperty("start",B.performanceTimings.startTime),L.setProperty("end",B.performanceTimings.responseEnd))}attachHttpMetadataToTelemetry(L,B,I){L.endPoint=I,L.clientAndServerRequestIdMatch=(0,P.Cx)(B),L.responseRequestId=(0,P.yC)(B),L.requestId=B.requestId,L.status=B.status,B.performanceTimings&&(0,P.eQ)(B.performanceTimings,L)}attachCacheMetadataToTelemetryDirectToMwc(L,B){B.data.results&&(L.info.fromCache=_.reduce(B.data.results,(I,W)=>W.fromCache?++I:I,0),L.info.resultCount=B.data.results.length)}attachHttpMetadataToResult(L){if(L&&L.data){var B=L.data;return B.requestId=L.responseRequestId||L.requestId,B.httpStatusCode=L.status,B}return{jobIds:null,results:null,requestId:L.responseRequestId||L.requestId,httpStatusCode:L.status}}}return(0,m.__decorate)([(0,V.U)(g.Zq),(0,m.__metadata)("design:type",Function),(0,m.__metadata)("design:paramtypes",[Object]),(0,m.__metadata)("design:returntype",Object)],x.prototype,"execute",null),x})();function E(x,N){var L=w(N.reader.communication)?function(x,N,L,B,I,W,O,F,A,T=!1){return new D(x,N,L,B,I,W,O,F,T)}(N.reader.communication.httpService,N.telemetryService,N.localeProvider,N.promiseFactory,N.reader.communication.uri,N.reader.communication.impersinationStateProvider,N.reader.featureSwitches,N.reader.directToMwcConnectionInfoService,0,N.useSynchronous):N.reader.communication,B=w(N.schemaReader.communication)?(0,a.U6)(N.schemaReader.communication.httpService,N.promiseFactory,N.schemaReader.communication.uri,N.reader.featureSwitches,N.schemaReader.preloadConceptualSchemaService):N.schemaReader.communication;x.dsr={name:"dsr",reader:W=>new e.i(W,L,N.telemetryService,N.reader.featureSwitches(),N.reader.timeoutService,N.reader.delayedQueryResultResolver,N.reader.preferredMaxConnections,N.queryContextProvider,N.appContextHostDataProvider),queryGenerator:()=>(0,l.Zl)(N.reader.featureSwitches()),schemaReader:()=>(0,a.No)(N.promiseFactory,N.telemetryService,N.localeProvider,B,N.schemaReader.localizationOptions,N.reader.featureSwitches,N.embedModeService),queryExtensionProvider:c}}function w(x){return _.isPlainObject(x)}},580661:function(Ce,k,r){r.d(k,{A1:function(){return t},_8:function(){return C},nc:function(){return y}});var a=r(939123),e=r(931145),u=r(999634);class t{static findAndParseCalculation(o,c){var h=this.findCalculation(o,c);if(h)return(0,u.H2)(h.Value)}static findAndParseCalculationToSQExpr(o,c){var h=this.findCalculation(o,c);if(h)return(0,u.bE)(h.Value)}static findCalculation(o,c){a.fF.assertValue(o,"calcs");for(var h=0,d=o.length;h<d;h++){var n=o[h];if(n.Id===c)return n}}static describeDataType(o,c){var h=0;switch(o=o||0){case 2048:h=1;break;case 1:h=3;break;case 3:h=4;break;case 4096:h=5;break;case 20:h=6;break;case 4:h=7;break;case 8:h=9;break;case 67:h=4,a.fF.assert(()=>!c||"Years"===c,"Unexpected category for Year type."),c="Years";break;case 35:h=4,a.fF.assert(()=>!c||"Months"===c,"Unexpected category for Month type."),c="Months"}return e.Ge.fromPrimitiveTypeAndCategory(h,c)}static getTopLevelSecondaryDynamicMember(o,c){a.fF.assertValue(o,"DsrV1.DataShape");var h=o.SecondaryHierarchy;return h?c&&c.Secondary?t.getDynamicMember(h,c.Secondary.Groupings,0):t.getDynamicMemberFallback(h):null}static getTopLevelPrimaryDynamicMember(o,c,h){a.fF.assertValue(o,"DsrV1.DataShape");var n,d=o.PrimaryHierarchy;return d?(h&&(n=void 0!==o.Calculations),c&&c.Primary?t.getDynamicMember(d,c.Primary.Groupings,0,n):t.getDynamicMemberFallback(d,n)):null}static getDynamicMember(o,c,h,d){if(a.fF.assertValue(o,"dataShapeMembers"),0===o.length)return null;if(!c||0===c.length)return t.getDynamicMemberFallback(o,d);var n=c[h].Member;if(!n)return t.getDynamicMemberFallback(o,d);for(var s of o)if(s.Id===n)return s;return null}static getDynamicMemberFallback(o,c){return 2===o.length?o[1]:void 0===c||!0===c?o[0]:null}static fillMetadataColumnAggregate(o,c,h=!0){a.fF.assertValue(c,"aggregateMetdata");var d=c.source.aggregates;switch(d||(c.source.aggregates=d={}),c.aggregateKind){case 1:return void(d.subtotal=o);case 2:return void(d.max=o);case 3:return void(d.min=o);case 4:return void(h||(d.single=o));case 5:return a.fF.assert(()=>"number"==typeof o,"unexpected count calc value"),void(d.count=o);case 6:return void(d.average=o);case 8:return void(d.median=o);case 7:var n=c.aggregate.Percentile,s=d.percentiles;s||(s=d.percentiles=[]);var p={k:n.K,value:o};return null!=n.Exclusive&&(p.exclusive=n.Exclusive),void s.push(p);default:a.fF.assertFail("unknown AggregateKind")}}static copyAggregates(o,c){a.fF.assertValue(o,"source Aggregates"),a.fF.assertValue(c,"target Aggregates"),void 0!==o.subtotal&&(c.subtotal=o.subtotal),void 0!==o.min&&(c.min=o.min),void 0!==o.max&&(c.max=o.max),void 0!==o.minLocal&&(c.minLocal=o.minLocal),void 0!==o.maxLocal&&(c.maxLocal=o.maxLocal),void 0!==o.count&&(c.count=o.count)}static computeAggIdx(o,c,h,d){return o+(d-c)*(h+1)}}class C{get name(){return"maxLocal"}update(o){if("number"==typeof o&&!isNaN(o)){var c=this.current;this.current=void 0===c?o:Math.max(c,o)}}value(){return this.current}}class y{get name(){return"minLocal"}update(o){if("number"==typeof o&&!isNaN(o)){var c=this.current;this.current=void 0===c?o:Math.min(c||0,o)}}value(){return this.current}}},978072:function(Ce,k,r){r.d(k,{i:function(){return u}});var a=r(288487),e=r(939123),u=(()=>{class t extends a.mB{constructor(y){e.fF.assertValue(y,"jobId"),super(t.Code),this.jobId=y}getDetails(y){var i=super.getDetails(y);return i.debugErrorInfo=i.debugErrorInfo||[],i.debugErrorInfo.push({errorInfoKey:a.nE,errorInfoValue:this.jobId}),i}}return t.Code="DelayedQueryTimeoutError",t})()},273294:function(Ce,k,r){r.d(k,{$n:function(){return h},A:function(){return f},Af:function(){return d},HO:function(){return U},KO:function(){return L},Kb:function(){return p},LO:function(){return I},Lp:function(){return b},Lr:function(){return O},Ow:function(){return Z},Tw:function(){return T},Z:function(){return z},Z4:function(){return P},ZO:function(){return V},_V:function(){return N},av:function(){return D},bD:function(){return w},bJ:function(){return j},d3:function(){return g},dN:function(){return n},dd:function(){return G},de:function(){return E},dw:function(){return x},fD:function(){return l},hh:function(){return c},jK:function(){return m},jO:function(){return s},lR:function(){return R},qF:function(){return B},qf:function(){return F},vP:function(){return M},vc:function(){return o},wf:function(){return H},wy:function(){return A},yB:function(){return v},yC:function(){return W},yz:function(){return S}});var a=r(124674),e=r(288487),u=r(939123),t=r(616113),C=r(737466),y=r(334673),i=r(531905),o="DMTS_MultipleGatewaysWithAllDatasourcesToBindError",c="DMTS_DatasourceHasNoCredentialError",h="DMTS_OAuthTokenRefreshFailedError",d="DM_GWPipeline_Client_GatewayUnreachable",n="DM_GWPipeline_Client_OAuthTokenRefreshFailedError",s="DMTS_UserLostPermissionToDatasourceError",p="DMTS_UserNotFoundInADGraphError",l="DM_GWPipeline_Gateway_DataSourceAccessError",m="DM_GWPipeline_Gateway_ImpersonationError",b="DM_GWPipeline_Gateway_InvalidMashupConnectionString",V="DM_GWPipeline_Gateway_DatabaseLoginError",g="DM_GWPipeline_Gateway_SqlTimeoutException",v="DM_GWPipeline_Gateway_AdomdTimeoutException",f="DM_GWPipeline_Gateway_InvalidObjectNameException",S="DM_GWPipeline_Gateway_InvalidConnectionCredentials",P="DM_GWPipeline_Gateway_ConnectionBrokenException",D="DM_GWPipeline_Gateway_MemoryError",M="DM_GWPipeline_Gateway_MissingStructureError",E="DM_GWPipeline_Gateway_UnprocessedStructureError",w="DM_GWPipeline_Gateway_ModelLoadError",x="DM_GWPipeline_Gateway_CancellationError",N="DM_GWPipeline_Gateway_CancellationOrTimeoutError",L="DM_GWPipeline_Gateway_QueryExecutionError",B="DM_GWPipeline_Gateway_RecalculationRequiredError",I="DM_GWPipeline_Gateway_TimeoutError",W="DM_GWPipeline_Gateway_AdoNetProviderOpenConnectionTimeoutError",O="DM_GWPipeline_Gateway_AdoNetProviderExecuteQueryTimeoutError",F="DM_GWPipeline_Gateway_AdomdConnectError",A="DM_GWPipeline_Gateway_GatewayOverloadedMemory",T="DM_GWPipeline_Gateway_GatewayOverloadedConcurrency",R="DM_GWPipeline_Gateway_MashupDataAccessError",U="DM_GWPipeline_Gateway_DatabaseConnectError",z="DM_GWPipeline_Gateway_ServerUnreachable",j="DM_GWPipeline_Gateway_GatewayOverloadedProcessor",H="rsAccessDenied",q="azure:values",G=function(Q){return Q.ComplexSlicerNotAllowedWithMeasures="ComplexSlicerNotAllowedWithMeasures",Q.ComplexHighlightsNotAllowed="ComplexHighlightsNotAllowed",Q.ExclusivePercentileOutOfRange="ExclusivePercentileOutOfRange",Q.InvalidDataShapeNoOutputData="InvalidDataShapeNoOutputData",Q.InvalidFilterComparisonIncompatibleExpressions="InvalidFilterComparisonIncompatibleExpressions",Q.InvalidFilterConditionIncompatibleDataType="InvalidFilterConditionIncompatibleDataType",Q.InvalidUnconstrainedJoin="InvalidUnconstrainedJoin",Q.ModelUnavailable="ModelUnavailable",Q.OverlappingKeysOnOppositeHierarchies="OverlappingKeysOnOppositeHierarchies",Q.rsQueryMemoryLimitExceeded="rsQueryMemoryLimitExceeded",Q.rsQueryTimeoutExceeded="rsQueryTimeoutExceeded",Q.CouldNotResolveModelReferencesInSemanticQuery="CouldNotResolveModelReferencesInSemanticQuery",Q.QueryExtensionMeasureUnexpectedEndOfUserInput="QueryExtensionMeasureUnexpectedEndOfUserInput",Q.NativeVisualCalculationUnexpectedEndOfUserInput="NativeVisualCalculationUnexpectedEndOfUserInput",Q.rsAccessDenied="rsAccessDenied",Q.NoUniqueKeyForDetailTable="NoUniqueKeyForDetailTable",Q.IsRelatedToManyNotSupportedForDetailTable="IsRelatedToManyNotSupportedForDetailTable",Q.ModelMeasuresNotSupportedForDetailTable="ModelMeasuresNotSupportedForDetailTable",Q.UnsupportedDateTimeLiteral="UnsupportedDateTimeLiteral",Q.InvalidExtensionDax_UnclosedBracketIdentifier="InvalidExtensionDax_UnclosedBracketIdentifier",Q.InvalidExtensionDax_UnexpectedCloseParenthesis="InvalidExtensionDax_UnexpectedCloseParenthesis",Q.ExtensionMeasureEmptyExpression="ExtensionMeasureEmptyExpression",Q.ExtensionMeasureNameNotUniqueModel="ExtensionMeasureNameNotUniqueModel",Q.ExtensionMeasureNameNotUnique="ExtensionMeasureNameNotUnique",Q.CouldNotResolveModelReferencesInQueryExtensionSchema="CouldNotResolveModelReferencesInQueryExtensionSchema",Q.QueryExtensionMeasureError="QueryExtensionMeasureError",Q.NativeVisualCalculationError="NativeVisualCalculationError",Q.UnsupportedDataSourceVariables="UnsupportedDataSourceVariables",Q.DataExtensionMissingResultSet="DataExtensionMissingResultSet",Q.ProxyModelChainLimitExceeded="ProxyModelChainLimitExceeded",Q.FabricThrottled="FabricThrottled",Q.AA_PowerBIScriptPayloadTooLargeError="AA_PowerBIScriptPayloadTooLargeError",Q.AA_PowerBIScriptResultTooLargeError="AA_PowerBIScriptResultTooLargeError",Q.AA_PowerBIScriptReturnedNoImageError="AA_PowerBIScriptReturnedNoImageError",Q.AA_PowerBIScriptRuntimeErrorError="AA_PowerBIScriptRuntimeErrorError",Q.AA_PowerBIScriptTimeoutError="AA_PowerBIScriptTimeoutError",Q.AA_PowerBIRequestsQueueOverflowError="AA_PowerBIRequestsQueueOverflowError",Q.AA_PowerBIScriptRuntimeMaxMemoryError="AA_PowerBIScriptRuntimeMaxMemoryError",Q.AA_PowerBIScriptRuntimeMaxDiskIOError="AA_PowerBIScriptRuntimeMaxDiskIOError",Q.AA_PowerBIScriptMissingDependencyError="AA_PowerBIScriptMissingDependencyError",Q.AA_PowerBIScriptSpecificPackageWithMissingDependencyError="AA_PowerBIScriptSpecificPackageWithMissingDependencyError",Q.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError="AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError",Q.AA_PowerBIScriptMissingSpecificPackageError="AA_PowerBIScriptMissingSpecificPackageError",Q.InvalidExtensionDax_UnclosedMultiLineComment="InvalidExtensionDax_UnclosedMultiLineComment",Q.InvalidExtensionDax_UnclosedParenthesis="InvalidExtensionDax_UnclosedParenthesis",Q.InvalidExtensionDax_UnclosedQuoteIdentifier="InvalidExtensionDax_UnclosedQuoteIdentifier",Q.InvalidExtensionDax_UnclosedStringLiteral="InvalidExtensionDax_UnclosedStringLiteral",Q.CannotUseMultiColumnFilteringWithMappedColumns="CannotUseMultiColumnFilteringWithMappedColumns",Q.DifferentMappingsWithinSubqueries="DifferentMappingsWithinSubqueries",Q.FilterIncompatibleWithParameter="FilterIncompatibleWithParameter",Q.FoundMultipleTargetsWithAtLeastOneMapping="FoundMultipleTargetsWithAtLeastOneMapping",Q.FoundParameterMappingOnUnsupportedFilter="FoundParameterMappingOnUnsupportedFilter",Q.InTableConditionNotSupportedWithMappedParameters="InTableConditionNotSupportedWithMappedParameters",Q.InvalidMappedParameterValueExpression="InvalidMappedParameterValueExpression",Q.MappedTargetMustMatchMappedCondition="MappedTargetMustMatchMappedCondition",Q.MixOfAssignedAndUnassignedColumnsWithinORExpression="MixOfAssignedAndUnassignedColumnsWithinORExpression",Q.MultipleParameterAssignmentsWithinORUnsupported="MultipleParameterAssignmentsWithinORUnsupported",Q.MultipleParameterMappingsUnsupported="MultipleParameterMappingsUnsupported",Q.ParameterMappingFilterConflict="ParameterMappingFilterConflict",Q.ParameterMappingsFoundWithinFilteredEvalExpressionFilter="ParameterMappingsFoundWithinFilteredEvalExpressionFilter",Q.ParameterMappingsNotSupportedOnHighlights="ParameterMappingsNotSupportedOnHighlights",Q.SingleValueParameterWithMultipleValues="SingleValueParameterWithMultipleValues",Q}({}),J={[G.ComplexSlicerNotAllowedWithMeasures]:{localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},[G.ComplexHighlightsNotAllowed]:{localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},[G.CouldNotResolveModelReferencesInSemanticQuery]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},[G.ExclusivePercentileOutOfRange]:{localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},[G.InvalidDataShapeNoOutputData]:{localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},[G.InvalidUnconstrainedJoin]:{localizedMessage:"DsrError_InvalidUnconstrainedJoinKey",localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},[G.IsRelatedToManyNotSupportedForDetailTable]:{localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},[G.AA_PowerBIScriptPayloadTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},[G.AA_PowerBIScriptResultTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},[G.AA_PowerBIScriptReturnedNoImageError]:{localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},[G.AA_PowerBIScriptRuntimeErrorError]:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[G.AA_PowerBIScriptTimeoutError]:{localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},[G.AA_PowerBIRequestsQueueOverflowError]:{localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},[G.AA_PowerBIScriptRuntimeMaxMemoryError]:{localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},[G.AA_PowerBIScriptRuntimeMaxDiskIOError]:{localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},[G.AA_PowerBIScriptMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},[G.AA_PowerBIScriptSpecificPackageWithMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},[G.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},[G.AA_PowerBIScriptMissingSpecificPackageError]:{localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},[G.ModelMeasuresNotSupportedForDetailTable]:{localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},[G.ModelUnavailable]:{localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[G.NoUniqueKeyForDetailTable]:{localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},[G.OverlappingKeysOnOppositeHierarchies]:{localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},[G.rsQueryMemoryLimitExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[G.rsQueryTimeoutExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[G.rsAccessDenied]:{localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[G.UnsupportedDateTimeLiteral]:{localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},[G.InvalidExtensionDax_UnclosedBracketIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},[G.InvalidExtensionDax_UnexpectedCloseParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},[G.InvalidExtensionDax_UnclosedParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedParenthesis"},[G.InvalidExtensionDax_UnclosedQuoteIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedQuoteIdentifier"},[G.InvalidExtensionDax_UnclosedStringLiteral]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedStringLiteral"},[G.InvalidExtensionDax_UnclosedMultiLineComment]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedMultiLineComment"},[G.InvalidFilterComparisonIncompatibleExpressions]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[G.InvalidFilterConditionIncompatibleDataType]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[G.ExtensionMeasureEmptyExpression]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},[G.ExtensionMeasureNameNotUniqueModel]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},[G.ExtensionMeasureNameNotUnique]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},[G.CouldNotResolveModelReferencesInQueryExtensionSchema]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},[G.QueryExtensionMeasureError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},[G.QueryExtensionMeasureUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},[G.NativeVisualCalculationError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},[G.NativeVisualCalculationUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},[G.UnsupportedDataSourceVariables]:{localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},[G.DataExtensionMissingResultSet]:{localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},[G.ProxyModelChainLimitExceeded]:{localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},[G.CannotUseMultiColumnFilteringWithMappedColumns]:{localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.DifferentMappingsWithinSubqueries]:{localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FilterIncompatibleWithParameter]:{localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FoundMultipleTargetsWithAtLeastOneMapping]:{localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FoundParameterMappingOnUnsupportedFilter]:{localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.InTableConditionNotSupportedWithMappedParameters]:{localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.InvalidMappedParameterValueExpression]:{localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MappedTargetMustMatchMappedCondition]:{localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MixOfAssignedAndUnassignedColumnsWithinORExpression]:{localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MultipleParameterAssignmentsWithinORUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.MultipleParameterMappingsUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.ParameterMappingFilterConflict]:{localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.ParameterMappingsFoundWithinFilteredEvalExpressionFilter]:{localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.ParameterMappingsNotSupportedOnHighlights]:{localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.SingleValueParameterWithMultipleValues]:{localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[G.FabricThrottled]:{localizedContent:"FabricCapacityThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"},[i.ykK]:{localizedMessage:"DsrError_OnPremiseServiceExceptionMessage"}};class Z{static get maxNumberOfCommaValues(){return 9}get code(){return this.oDataCode}get oDataErrorMessage(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value}get source(){switch(this.oDataError.source){case"PowerBI":return"PowerBI";case"External":return"External";case"Unknown":return;case"User":return Z.isCodeKnown(this.code)?"User":void 0}u.fF.assertFail(`unknown DsrClientError source: ${this.oDataError.source}`)}get ignorable(){return!1}get AdditionalErrorMessages(){if(this.oDataError){var ne=this.oDataError[q];if(!_.isEmpty(ne))for(var le of ne)if(!_.isEmpty(le.additionalMessages))return le.additionalMessages}}get powerBiErrorDetails(){if(this.oDataError){var ne=this.oDataError[q];if(!_.isEmpty(ne))for(var le of ne)if(!_.isEmpty(le.powerBiErrorDetails))return le.powerBiErrorDetails}}constructor(ne){this.oDataError=ne,this.oDataCode=this.parseCode()}getDetails(ne){var le=this.oDataError[q],he=null;if(le)for(var Se of le)if(Se.details){he=Se.details;break}var Ke=Z.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,he,this.AdditionalErrorMessages,ne),Ge=Ke.displayableErrorInfo[0].errorInfoKey;if(!Z.isCodeKnown(this.code)&&he&&(Ke.displayableErrorInfo=[]),he){var ye=0===Ke.displayableErrorInfo.length?Ge:ne.get("DsrError_MoreInfo");Ke.displayableErrorInfo.push({errorInfoKey:ye,errorInfoValue:he})}return Z.isDynamicQueryParameterErrorCode(this.code)&&(Ke.hideDebugInfo=!0),Ke}static getErrorDetailsFromStatusCode(ne,le,he,Se,Ke){var Ge=Ke.get("DsrError_Key"),ye=Ke.get("DsrError_UnknownErrorValue"),we=Ke.get("DsrError_Key"),je=a.MF,de=J[ne];de&&(Ge=de.localizedTitle?Ke.get(de.localizedTitle):Ge,ye=Z.getContent(ne,he,Se,de,Ke)||ye,we=de.localizedMessage?Ke.get(de.localizedMessage):we,je=de.helpLink||je,de.useODataErrorMessageAsContent&&(ye=le||we));var Ve={message:we,displayableErrorInfo:[{errorInfoKey:Ge,errorInfoValue:ye}],helpLink:je,debugErrorInfo:[]};return!de&&ne&&Ve.debugErrorInfo.push({errorInfoKey:e.jK,errorInfoValue:ne}),(!de||!de.useODataErrorMessageAsContent)&&le&&Ve.debugErrorInfo.push({errorInfoKey:e.N6,errorInfoValue:le}),Ve}static getContent(ne,le,he,Se,Ke){if(Se.localizedContentWithAffectedItemsAndPosition||Se.localizedContentWithAffectedItemsAndPositionAndDetails){var Ge=Z.findAdditionalMessageWithAffectedItemsAndPosition(ne,he);if(Se.localizedContentWithAffectedItemsAndPositionAndDetails&&le&&Ge)return(0,t.W)(Ke.get(Se.localizedContentWithAffectedItemsAndPositionAndDetails),(0,C.yQ)(Ge.AffectedItems,Ke,Z.maxNumberOfCommaValues),y.dx.formatValue(Ge.Line),y.dx.formatValue(Ge.Position),le);if(Se.localizedContentWithAffectedItemsAndPosition&&Ge)return(0,t.W)(Ke.get(Se.localizedContentWithAffectedItemsAndPosition),(0,C.yQ)(Ge.AffectedItems,Ke,Z.maxNumberOfCommaValues),y.dx.formatValue(Ge.Line),y.dx.formatValue(Ge.Position))}if(Se.localizedContentWithAffectedItems){var ye=Z.getAffectedItemsFromStatusCode(ne,he);if(ye.length>0)return(0,t.W)(Ke.get(Se.localizedContentWithAffectedItems),(0,C.yQ)(ye,Ke,Z.maxNumberOfCommaValues))}if(Se.localizedContent)return Ke.get(Se.localizedContent)}static findAdditionalMessageWithAffectedItemsAndPosition(ne,le){return _.find(le,he=>he.Code===ne&&!_.isEmpty(he.AffectedItems)&&null!=he.Position&&null!=he.Line)}static getAffectedItemsFromStatusCode(ne,le){for(var he of le)if(he.Code===ne)return he.AffectedItems||[];return[]}parseCode(){var ne=this.oDataError.code,le=this.oDataError[q],he=[];if(le)for(var Se of le)Se.additionalMessages&&(he=Se.additionalMessages);if(he.length>0)for(var Ke of he)if(Z.isCodeKnown(Ke.Code)){ne=Ke.Code;break}return ne}static isCodeKnown(ne){return Z.isGeneralKnownErrorCode(ne)||Z.isDynamicQueryParameterErrorCode(ne)}static isGeneralKnownErrorCode(ne){switch(ne){case G.ComplexSlicerNotAllowedWithMeasures:case G.ComplexHighlightsNotAllowed:case G.ExclusivePercentileOutOfRange:case G.InvalidDataShapeNoOutputData:case G.InvalidFilterComparisonIncompatibleExpressions:case G.InvalidFilterConditionIncompatibleDataType:case G.InvalidUnconstrainedJoin:case G.ModelUnavailable:case G.OverlappingKeysOnOppositeHierarchies:case G.rsQueryMemoryLimitExceeded:case G.rsQueryTimeoutExceeded:case G.CouldNotResolveModelReferencesInSemanticQuery:case G.QueryExtensionMeasureUnexpectedEndOfUserInput:case G.NativeVisualCalculationUnexpectedEndOfUserInput:case G.rsAccessDenied:case G.NoUniqueKeyForDetailTable:case G.IsRelatedToManyNotSupportedForDetailTable:case G.ModelMeasuresNotSupportedForDetailTable:case G.UnsupportedDateTimeLiteral:case G.InvalidExtensionDax_UnclosedBracketIdentifier:case G.InvalidExtensionDax_UnexpectedCloseParenthesis:case G.InvalidExtensionDax_UnclosedQuoteIdentifier:case G.InvalidExtensionDax_UnclosedParenthesis:case G.InvalidExtensionDax_UnclosedStringLiteral:case G.InvalidExtensionDax_UnclosedMultiLineComment:case G.ExtensionMeasureEmptyExpression:case G.ExtensionMeasureNameNotUniqueModel:case G.ExtensionMeasureNameNotUnique:case G.CouldNotResolveModelReferencesInQueryExtensionSchema:case G.QueryExtensionMeasureError:case G.NativeVisualCalculationError:case G.UnsupportedDataSourceVariables:case G.DataExtensionMissingResultSet:case G.ProxyModelChainLimitExceeded:case G.FabricThrottled:return!0;default:return!1}}static isDynamicQueryParameterErrorCode(ne){switch(ne){case G.CannotUseMultiColumnFilteringWithMappedColumns:case G.DifferentMappingsWithinSubqueries:case G.FilterIncompatibleWithParameter:case G.FoundMultipleTargetsWithAtLeastOneMapping:case G.FoundParameterMappingOnUnsupportedFilter:case G.InTableConditionNotSupportedWithMappedParameters:case G.InvalidMappedParameterValueExpression:case G.MappedTargetMustMatchMappedCondition:case G.MixOfAssignedAndUnassignedColumnsWithinORExpression:case G.MultipleParameterAssignmentsWithinORUnsupported:case G.MultipleParameterMappingsUnsupported:case G.ParameterMappingFilterConflict:case G.ParameterMappingsFoundWithinFilteredEvalExpressionFilter:case G.ParameterMappingsNotSupportedOnHighlights:case G.SingleValueParameterWithMultipleValues:return!0;default:return!1}}}},87769:function(Ce,k,r){r.d(k,{i:function(){return Je}});var a=r(939123),e=r(799358),u=r(883803),t=r(334169),C=r(614123),y=r(288487),i=r(992124),o=r(540665),c=r(776703);class h{constructor(ue,_e){this.requestId=ue,this.errorCode=_e}get code(){return this.errorCode}get ignorable(){return!1}getDetails(ue){return{message:ue.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:ue.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:ue.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:ue.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:y.zd,errorInfoValue:this.code}]}}}class d{constructor(){this._head=new n,this._tail=new n,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}insertToHead(ue){ue.next=this._head.next,ue.prev=this._head,this._head.next=ue,ue.next.prev=ue,this._length++}head(){if(this._length>0)return this._head.next}tail(){if(this._length>0)return this._tail.prev}removeFromTail(){this._length>0&&this.remove(this._tail.prev)}remove(ue){this._length<=0||void 0===ue.prev||void 0===ue.next||(ue.prev.next=ue.next,ue.next.prev=ue.prev,this._length--)}length(){return this._length}}class n{constructor(ue=void 0){this.value=ue}}class s{constructor(ue){this.cache={},this.capacity=ue,this.linkedList=new d}get(ue){if(ue in this.cache){var _e=this.cache[ue].value;return _e?.value}}remove(ue){this.cache[ue]&&(this.linkedList.remove(this.cache[ue]),delete this.cache[ue])}put(ue,_e){ue in this.cache&&this.remove(ue);var te=new l(ue,_e),ke=new n(te);if(this.cache[ue]=ke,this.linkedList.insertToHead(ke),this.size()>this.capacity){a.fF.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var at=this.linkedList.tail();delete this.cache[at.value.key],this.linkedList.removeFromTail()}}containsKey(ue){return ue in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class p{constructor(ue){this.cache={},this.capacity=ue,this.linkedList=new d}get(ue){if(ue in this.cache){var _e=this.cache[ue];return this.linkedList.remove(_e),this.linkedList.insertToHead(_e),_e.value.value}}remove(ue){ue in this.cache&&(this.linkedList.remove(this.cache[ue]),delete this.cache[ue])}put(ue,_e){ue in this.cache&&this.remove(ue);var te=new l(ue,_e),ke=new n(te);if(this.cache[ue]=ke,this.linkedList.insertToHead(ke),this.size()>this.capacity){a.fF.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var at=this.linkedList.tail();delete this.cache[at.value.key],this.linkedList.removeFromTail()}}containsKey(ue){return ue in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class l{constructor(ue,_e){this.key=ue,this.value=_e}}class b{constructor(ue,_e,te){this.cache=1===(te||(te=500),_e)?new p(te):new s(te),this.promiseFactory=ue}getEntryCount(){return this.cache.size()}hasCacheEntry(ue){return a.fF.assertValue(ue,"cacheKey"),!!this.getCacheEntry(ue)}createCacheEntry(ue,_e,te,ke,at){a.fF.assertValue(ue,"cacheKey");var tt=this.getCacheEntry(ue);if(ue&&!tt){var ut=this.promiseFactory,ct=this.cache,Ne=ut.defer(at),ae=(0,t.w)(Ne),Le=ut.defer(at),X=(0,t.U)(Le);return this.appendCacheEntryInternal(ue,tt={promise:X,refCount:0,context:_e}),ae.then(be=>{tt.updateResult&&(be=tt.updateResult(be)),be&&te&&(be=te(be)),tt.result=ke?ke(be):be,Le.resolve(be)},be=>Le.reject(be)).finally(()=>{delete tt.updateResult}),X.finally(()=>{ct.containsKey(ue)&&(delete ct.get(ue).promise,X.rejected()&&this.removeCacheEntryInternal(ue))}).catch(be=>ae.reject(be)),{deferred:Ne,promise:ae}}}clearEntry(ue,_e){var te=this.getCacheEntry(ue);if(te){var ke=te.promise;return _e&&ke?ke.reject():this.removeCacheEntryInternal(ue),!0}return!1}clearAllEntries(ue){for(var _e of this.cache.keys())this.clearEntry(_e,ue)}bindCacheEntry(ue,_e,te){a.fF.assertValue(ue,"cacheKey");var ke=this.getCacheEntry(ue);if(void 0!==ke){var at=this.promiseFactory.defer(te),tt=(0,t.U)(at);if(ke.result){var ut=_e?_e(ke.result):ke.result;return at.resolve(ut),tt}var ct=ke.promise;if(!ct)return at.reject(void 0),tt;ke.refCount++;var Ne=ae=>{ke.refCount--,0===ke.refCount&&ct.pending()&&ct.reject(ae)};return tt.then(()=>Ne(),ae=>Ne(ae)),ct.then(ae=>{var Le=_e?_e(ae):ae;at.resolve(Le)},ae=>at.reject(ae)),tt}}getEntryContext(ue){a.fF.assertValue(ue,"cacheKey");var _e=this.getCacheEntry(ue);if(_e)return _e.context}keys(){return this.cache.keys()}isFull(){return this.cache.isFull()}rewriteAllEntries(ue){var _e=[],te=!!ue.rewriteKey,ke=!!ue.rewriteResult,at=this.cache,tt=function(ae){if(te){var Le=ue.rewriteKey(ae);Le!==ae&&_e.push({oldKey:ae,newKey:Le})}if(ke){var X=at.get(ae);X&&(X.result&&ue.rewriteResult?X.result=ue.rewriteResult(X.result,ae):X.updateResult=be=>ue.rewriteResult&&ue.rewriteResult(be,ae)||be)}};for(var ut of at.keys())tt(ut);for(var ct=0,Ne=_e.length;ct<Ne;ct++)this.changeCacheKey(_e[ct].oldKey,_e[ct].newKey)}putCacheResult(ue,_e,te){a.fF.assertValue(ue,"cacheKey");var ke=this.getCacheEntry(ue);ke?ke.result?ke.result=te?te(_e):_e:ke.updateResult=()=>_e:a.fF.assertFail(`cannot update no-existing cacheEntry for key '${ue}' with result '${_e}'`)}appendCacheEntryInternal(ue,_e){this.cache.containsKey(ue)&&this.removeCacheEntryInternal(ue),this.cache.put(ue,_e)}removeCacheEntryInternal(ue){this.cache.remove(ue)}changeCacheKey(ue,_e){if(!_e)return this.clearEntry(ue,!0);if(this.hasCacheEntry(_e)||!this.hasCacheEntry(ue))return!1;var te=this.getCacheEntry(ue);return this.removeCacheEntryInternal(ue),this.appendCacheEntryInternal(_e,te),!0}getCacheEntry(ue){var _e;if(a.fF.assertValue(ue,"cacheKey"),ue&&(_e=this.cache.get(ue))&&(_e.promise||_e.result))return _e}}var V=r(845856),g=r(737466),v=r(9017),f=r(743395),S=r(238489);function P(De){return a.fF.assert(()=>De&&De.Commands&&De.Commands.length>0,"data query should not be empty"),(0,S.y)(De)?D(De):M(De.Commands[0].SemanticQueryDataShapeCommand)}function D(De){if(a.fF.assert(()=>!De||(0,S.y)(De),"!dataQuery || isCompositeDataQuery(dataQuery)"),De)return JSON.stringify(De)}function M(De){if(De)return JSON.stringify(De)}var E=r(492156),w=r(257738),N=g.b$.generateGuid;class B{constructor(ue,_e,te,ke,at){this.featureSwitches=at,a.fF.assertValue(ue,"promiseFactory"),a.fF.assertValue(te,"createQuery"),this.createQuery=te,this.createCancelQuery=ke,this.promiseFactory=ue,this.cacheByModel={},this.telemetryService=_e}ensure(ue){a.fF.assertValue(ue,"options"),a.fF.assertValue(ue.command,"options.command");var _e=ue.command;a.fF.assert(()=>_e&&_e.Commands&&_e.Commands.length>0,"data query should not be empty");var te=_e.Commands[0].SemanticQueryDataShapeCommand,ke=this.ensureCache(ue.dataSources),at=P(_e);if(ke.hasCacheEntry(at)){if(B.allowResultFromClientCacheOrDefault(ue))return this.telemetryService.logEvent(o.s7,{cacheHit:!0,isCacheFull:ke.isFull(),entryCount:ke.getEntryCount()}),ke.bindCacheEntry(at,void 0,ue.telemetryV2Enabled);ke.clearEntry(at)}this.telemetryService.logEvent(o.s7,{cacheHit:!1,isCacheFull:ke.isFull(),entryCount:ke.getEntryCount()});var tt=I(_e,this.featureSwitches,at),ut=this.findEquivalentCache(ue,ke,tt);if(ut)return ut;var Ne,ct={...ue};ct.queryId=tt.queryId,ct.executionType=0,this.featureSwitches?.queryContext&&(Ne=X=>{var be=this.findQueryContext(ct);if(!be)return X;var Ie={...X};return Ie.queryContext=be,Ie});var ae=ke.createCacheEntry(at,tt,Ne,B.rewriteCachedResult,ue.telemetryV2Enabled);if(ae.promise.catch(X=>{(0,y.Hx)(X)||this.featureSwitches&&this.featureSwitches.queryCancellation&&this.createCancelQuery({dataSources:ct.dataSources,command:ct.command,allowResultFromClientCache:ct.allowResultFromClientCache,allowClientSideFilters:ct.allowClientSideFilters,cacheResponseOnServer:ct.cacheResponseOnServer,ignoreViewportForCache:ct.ignoreViewportForCache,cacheOptions:ct.cacheOptions,queryId:ct.queryId,executionType:1},X&&X.queryCancellationSource)}),ct.clientCacheOnly)return ae.promise.reject(new y.xs),ae.promise;this.createQuery(ct,ae);var Le=ke.bindCacheEntry(at,void 0,ue.telemetryV2Enabled);return!1===ue.cacheResponseOnClient&&ke.clearEntry(at),te.Binding&&te.Binding.DataReduction&&(Se(te.Binding.DataReduction.Primary)||Se(te.Binding.DataReduction.Secondary))||Le.then(X=>{X&&X.dsr&&function(De,ue){if(a.fF.assertValue(De,"dsr"),(0,e.nZ)(De)){if(!ue)return!1;for(var _e=(0,E.KI)(De,void 0).dataShapes(),te=(0,e.kc)(De);_e.next();)if(te&&te>=1){if(!0!==_e.hasAllData())return!1}else if(!_e.complete()||_e.limitsExceeded()||_e.hasRestartTokens())return!1;return!0}return _.every(De.DataShapes,ke=>ke&&ke.IsComplete&&_.isEmpty(ke.DataLimitsExceeded)&&!ke.RestartTokens)}(X.dsr,this.featureSwitches&&this.featureSwitches.dsrV2)&&(tt.hasAllData=!0)},()=>{}),Le}findQueryContext(ue){var _e=ue.applicationContext;if(_e)return a.fF.assert(()=>1===_.size(_e.Sources),"Expected to have 1 ApplicationContextSource"),_e.Sources[0].CustomProperties}clear(ue){var _e=this.getCache(ue);_e&&_e.clearAllEntries()}rewrite(ue,_e){var te=this.getCache(ue);if(te){var ke={};_e.rewriteCacheKey&&_e.rewriteDataQueryCacheKey&&(ke.rewriteKey=at=>{var tt=JSON.parse(at),ut=te.getEntryContext(at);if(ut.compositeDataQuery){var ct=tt,Ne=_e.rewriteDataQueryCacheKey(ct);if(Ne&&Ne!==ct){var ae=W(Ne,this.featureSwitches);_.assign(ut,ae)}}else{var Le=tt,X=_e.rewriteCacheKey(Le);if(X&&X!==Le){var be=O(X,this.featureSwitches);_.assign(ut,be)}}return ut.key}),_e.rewriteCacheResult&&(ke.rewriteResult=at=>{var tt=at,ut=_e.rewriteCacheResult({descriptor:tt.descriptor,dsr:tt.dsr});return ut?{descriptor:ut.descriptor,dsr:ut.dsr}:{descriptor:tt.descriptor,dsr:tt.dsr}}),te.rewriteAllEntries(ke)}}put(ue,_e,te){var ke=this.ensureCache(ue),at=_e,tt=P(at);if(ke.hasCacheEntry(tt))ke.putCacheResult(tt,te,B.rewriteCachedResult);else{var ut=I(at,this.featureSwitches,tt);ke.createCacheEntry(tt,ut,void 0,B.rewriteCachedResult).deferred.resolve(te)}}static allowResultFromClientCacheOrDefault(ue){return a.fF.assertValue(ue,"options"),!1!==ue.allowResultFromClientCache}findEquivalentCache(ue,_e,te){if(a.fF.assertValue(ue,"options"),a.fF.assertValue(_e,"cache"),a.fF.assertValue(te,"entryContext"),B.allowResultFromClientCacheOrDefault(ue))if(te.compositeDataQuery){if(ue.ignoreViewportForCache)for(var Le of _e.keys()){var X=_e.getEntryContext(Le);if(X&&X.keyWithoutViewport&&X.keyWithoutViewport===te.keyWithoutViewport)return _e.bindCacheEntry(X.key,void 0,ue.telemetryV2Enabled)}}else{var ke=ue.command;a.fF.assert(()=>ke&&!_.isEmpty(ke.Commands),"data query should not be empty");var at=ke.Commands[0].SemanticQueryDataShapeCommand.Binding,tt=!!(at&&at.DataReduction&&at.DataReduction.Primary&&at.DataReduction.Primary.TopNPerLevel),ut=!1;for(var ct of _e.keys()){var Ne=_e.getEntryContext(ct);if(Ne){if(!tt&&Ne.hasAllData&&Ne.keyWithoutReduction===te.keyWithoutReduction)return _e.bindCacheEntry(Ne.key,void 0,ue.telemetryV2Enabled);if(J(_e,Ne,ue,te,ue.telemetryV2Enabled)){ut=!0;break}}}ut&&V.f.information("Reused cache with client side filters")}}getCache(ue){return this.cacheByModel[this.generateModelKey(ue)]}ensureCache(ue){var _e=this.generateModelKey(ue),te=this.cacheByModel,ke=te[_e];return void 0===ke&&(ke=te[_e]=new b(this.promiseFactory,this.featureSwitches?.lruCacheEvictionPolicy?1:0)),ke}generateModelKey(ue){if(!_.isEmpty(ue))return JSON.stringify(_.map(ue,_e=>({dbName:_e.dbName,vsName:_e.vsName,schemaName:_e.schemaName})))}static rewriteCachedResult(ue){if(!ue)return ue;var _e={...ue};return delete _e.metrics,_e.fromClientCache=!0,_e}}function I(De,ue,_e){return a.fF.assertValue(De,"dataQuery"),a.fF.assert(()=>De&&De.Commands&&De.Commands.length>0,"data query should not be empty"),a.fF.assertAnyValue(_e,"cacheKey"),(0,S.y)(De)?W(De,ue,_e):(a.fF.assert(()=>1===De.Commands.length,"Expecting a non-empty, non-composite query to have exactly 1 command."),O(De.Commands[0].SemanticQueryDataShapeCommand,ue,_e))}function W(De,ue,_e){return a.fF.assertValue(De,"dataQuery"),a.fF.assert(()=>(0,S.y)(De),"data query should be composite"),a.fF.assertAnyValue(_e,"cacheKey"),a.fF.assert(()=>!_e||_e===D(De),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:_e||D(De),keyWithoutReduction:j(De),keyWithoutViewport:H(De),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:F(ue)}}function O(De,ue,_e){a.fF.assertAnyValue(De,"dataShapeCommand"),a.fF.assertAnyValue(_e,"cacheKey"),a.fF.assert(()=>!_e||_e===M(De),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var te=function(De){if(a.fF.assertAnyValue(De,"command"),!De)return!1;var ue=De.Binding&&De.Binding.DataReduction,_e=ue&&ue.Primary,te=ue&&ue.Secondary;return!(!Ke(_e)||!Ke(te)||Se(_e)||Se(te))}(De);return{key:_e||M(De),keyWithoutReduction:U(De),keyWithoutViewport:void 0,keyWithoutFilter:te?z(De):void 0,queryFilters:te?q(De):void 0,compositeDataQuery:!1,queryId:F(ue)}}function F(De){return De&&De.queryCancellation?N():""}function A(De){De&&De.Binding&&"object"==typeof De.Binding&&(De.Binding.DataReduction=void 0,De.Binding.Limits=void 0)}function U(De){if(De){var ue=_.cloneDeep(De);return A(ue),JSON.stringify(ue)}}function z(De){if(De){var ue=_.cloneDeep(De);return function(De){De&&De.Query&&De.Query.Where&&(De.Query.Where=void 0)}(ue),JSON.stringify(ue)}}function j(De){if(a.fF.assert(()=>!De||(0,S.y)(De),"!dataQuery || isCompositeDataQuery(dataQuery)"),De){var ue=_.cloneDeep(De);return A(ue.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(ue)}}function H(De){if(a.fF.assert(()=>!De||(0,S.y)(De),"!dataQuery || isCompositeDataQuery(dataQuery)"),De){a.fF.assertValue(De.Commands,"dataQuery.Commands"),a.fF.assert(()=>2===De.Commands.length,"dataQuery.Commands must have two commands"),a.fF.assertValue(De.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var ue=_.cloneDeep(De);return function(De){De&&(De.ViewportHeightPx=void 0,De.ViewportWidthPx=void 0)}(ue.Commands[1].ScriptVisualCommand),JSON.stringify(ue)}}function q(De){a.fF.assertAnyValue(De,"command");var ue=De&&De.Query;if(ue&&!_.isEmpty(ue.Where)){var _e=ye(ue),te=_e&&_e.where();if(!_.isEmpty(te))return te}}function J(De,ue,_e,te,ke=!1){if(a.fF.assert(()=>B.allowResultFromClientCacheOrDefault(_e),"QueryCache.allowResultFromClientCacheOrDefault(options)"),a.fF.assertValue(De,"cache"),a.fF.assertValue(ue,"oldItemContext"),a.fF.assertValue(_e,"newQueryOptions"),a.fF.assertValue(te,"newItemContext"),_e.allowClientSideFilters){var at=function(De,ue){if(a.fF.assertValue(De,"oldItemContext"),a.fF.assertValue(ue,"newItemContext"),!ue.compositeDataQuery&&!!ue.keyWithoutFilter&&!De.compositeDataQuery&&De.keyWithoutFilter&&De.hasAllData&&De.keyWithoutFilter===ue.keyWithoutFilter&&function(De,ue){return a.fF.assertAnyValue(De,"filters"),a.fF.assertAnyValue(ue,"counterparts"),_.every(De,_e=>_.some(ue,te=>(0,v.sw)(te,_e)))}(Q(De.queryFilters,ue.queryFilters),ue.queryFilters)){var at=Q(ue.queryFilters,De.queryFilters);if(!_.isEmpty(at))return function(De,ue){a.fF.assert(()=>De&&!De.compositeDataQuery,"itemContext && !itemContext.compositeDataQuery"),a.fF.assertNonEmpty(ue,"filtersToConvert");var _e=JSON.parse(De.key),te=ye(_e&&_e.Query);if(te)return a.fF.assert(()=>_.every(ue,at=>(0,w.qV)(te.where(),at)),"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),(0,v.Z7)(te.select(),ue)}(ue,at)}}(ue,te);if(!_.isEmpty(at))return De.bindCacheEntry(ue.key,tt=>function(De,ue){a.fF.assertValue(De,"data"),a.fF.assertNonEmpty(ue,"clientSideFilters");var _e={...De};return _e.clientSideFilters=ue,_e}(tt,at),ke)}}function Q(De,ue){return a.fF.assertAnyValue(De,"filters"),a.fF.assertAnyValue(ue,"comparants"),_.isEmpty(ue)?De:_.filter(De,_e=>!(0,w.qV)(ue,_e))}function Se(De){return a.fF.assertAnyValue(De,"algorithm"),De&&De.Window&&null!=De.Window.RestartTokens}function Ke(De){return a.fF.assertAnyValue(De,"algorithm"),!De||!!De.Window}function ye(De){if(a.fF.assertAnyValue(De,"queryDefinition"),De&&De.From&&De.Select)return f.ib.deserializeQuery(De)}var we=r(585742),je=r(978072);class de{resolveDelayedQuery(ue,_e,te){a.fF.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),te.reject(new je.i(ue))}}class Pe extends y.mB{constructor(ue){a.fF.assertValue(ue,"requestId"),super("ExecuteSemanticQueryUnknownError"),this.httpRequestId=ue}get requestId(){return this.httpRequestId}getDetails(ue){var _e=super.getDetails(ue);return _e.debugErrorInfo=_e.debugErrorInfo||[],_e.debugErrorInfo.push({errorInfoKey:y.j,errorInfoValue:this.httpRequestId}),_e}}class Ve{constructor(ue,_e,te,ke,at,tt,ut,ct,Ne){this.communication=_e,this.telemetryService=ke,this.featureSwitches=ut,this.queryContextProvider=ct,this.appContextHostDataProvider=Ne,a.fF.assertValue(ue,"host"),a.fF.assertValue(ke,"telemetryService"),this.promiseFactory=ue.promiseFactory(),this.delayedQueryResultResolver=at||new de,this.batcher=new c.PE(tt??0,ae=>{for(var Le=0,X=ae.length;Le<X;++Le)this.executeBatch(ae[Le])},te,ut&&ut.telemetryV2,ut&&ut.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(De,ue,_e,te,ke){return a.fF.assertValue(De,"promiseFactory"),a.fF.assertValue(_e,"createQuery"),new B(De,ue,_e,te,ke)}(this.promiseFactory,this.telemetryService,(ae,Le)=>{var X={options:ae,deferred:Le.deferred,execution:Le.promise,enqueueActivity:ae.performanceActivity&&ae.performanceActivity.isRunning()&&ae.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:ae.performanceActivity};this.setAppContextHostData(X),this.featureSwitches?.queryContext?this.setQueryContext(X).then(()=>{this.enqueueExecution(X)}):this.enqueueExecution(X)},(ae,Le)=>{this.telemetryService.logEvent(o.hh,{source:Le}),this.enqueueExecution({options:ae,enqueueActivity:ae.performanceActivity&&ae.performanceActivity.isRunning()&&ae.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:ae.performanceActivity})},ut)}setAppContextHostData(ue){if(this.appContextHostDataProvider&&ue.options.applicationContext&&this.featureSwitches?.useEnrichedApplicationContext){var _e=ue.options.applicationContext,te=this.appContextHostDataProvider.getApplicationContextHostData();_e.Sources[0]={..._e.Sources[0],...te}}}setQueryContext(ue){var _e=this;return(0,u.Z)(function*(){if(_e.featureSwitches?.queryContext&&_e.queryContextProvider&&ue.options.applicationContext){a.fF.assert(()=>1===_.size(ue.options.applicationContext.Sources),"Expected to have 1 ApplicationContextSource");var te=ue.options.applicationContext.Sources[0];try{var ke=yield _e.queryContextProvider.generateQueryContext();if(!ke)return;te.CustomProperties={...te.CustomProperties,...ke}}catch{return}}})()}enqueueExecution(ue){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(ue)):this.batcher.enqueue(ue)}execute(ue){if(!_.isEmpty(ue.dataSources))return this.queryCache.ensure(ue);var _e=this.promiseFactory.defer(ue.telemetryV2Enabled),te=(0,t.U)(_e);return _e.resolve(ue.command),te}stopCommunication(){this.isCommunicationStopped=!0}resumeCommunication(){this.isCommunicationStopped=!1;var De,ue=this.pausedQueries;if(ue){for(var _e=0,te=ue.length;_e<te;_e++){var ke=ue[_e];(0,we.I3)(De=ke)&&De.execution.pending()&&this.batcher.enqueue(ke)}this.pausedQueries=void 0}}cache(){return this.queryCache}setLocalCacheResult(ue,_e){this.queryCache.put(ue.dataSources,ue.command,_e)}setPreferredMaxConnections(ue){this.batcher.setMaxBatches(ue)}executeBatch(ue){a.fF.assertValue(ue,"batch"),a.fF.assert(()=>ue.queryOptions.length===ue.promises.length,"Queries & promises sizes must match.");var _e=ue.promises;this.communication.execute(ue).then(te=>this.onSuccess(te,_e),te=>this.onError(te,_e))}onSuccess(ue,_e){a.fF.assertValue(ue,"result"),a.fF.assertValue(_e,"executions"),this.rejectExecutionsForMissingJobs(ue,_e);for(var te=ue.jobIds,ke={},at=0,tt=_e.length;at<tt;++at)ke[te[at]]=_e[at];for(var ut=ue.results,ct=0,Ne=ut.length;ct<Ne;++ct){var ae=ut[ct],Le=ae.result,X=ae.jobId,be=ke[X];delete ke[X];var Ie=Le.data,Ye=Le.error;if(Ie)be.resolve({descriptor:Ie.descriptor,dsr:Ie.dsr,metrics:Ie.metrics,requestId:ue.requestId,timestamp:Ie.timestamp,fromCache:Ie.fromCache});else if(Ye){var ee=new i.sI(Ye);ee.requestId=ue.requestId,be.reject(ee)}else Le.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(ae.jobId,ue.requestId,be,ue)}if(!_.isEmpty(Object.keys(ke))){var ve=new h(ue.requestId,"MissingJobResult");for(var Te in ke)ke[Te].reject(ve)}}rejectExecutionsForMissingJobs(ue,_e){var te=ue.jobIds.length,ke=_e.length;if(ke>te)for(var at=new h(ue.requestId,"MissingJobId"),tt=te;tt<ke;tt++)_e[tt].reject(at)}onError(ue,_e){var te;if(a.fF.assertValue(_e,"executions"),ue&&ue.requestError&&(te=new i.sI(ue.requestError)),te)te.requestId=ue.requestId;else{var at,tt,ut,ke=ue.error;if(ke){at=ke.message,tt=ke.code;var ct=ke["pbi.error"]&&ke["pbi.error"].exceptionCulprit;null!=ct&&(ut=(0,C.Qf)(ct))}te=ue&&null!=ue.httpStatusCode&&ue.requestId?new y.Gx(ue.httpStatusCode,ue.requestId,tt,at,ut):new Pe(ue.requestId)}for(var Ne=0,ae=_e.length;Ne<ae;Ne++)_e[Ne].reject(te)}}class Je{constructor(ue,_e,te,ke,at,tt,ut,ct,Ne){a.fF.assertValue(ue,"host"),this.proxy=new Ve(ue,_e,at,te,tt,ut,ke,ct,Ne),this.featureSwitches=ke,this.telemetryService=te}execute(ue){return this.proxy.execute(ue)}transform(ue,_e,te,ke){return void 0===ue?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:(0,e.ij)(_e,ue,this.featureSwitches,this.telemetryService,te,ke)}stopCommunication(){this.proxy.stopCommunication()}resumeCommunication(){this.proxy.resumeCommunication()}get cache(){return this.proxy.cache()}setLocalCacheResult(ue,_e){this.proxy.setLocalCacheResult(ue,_e)}setPreferredMaxConnections(ue){this.proxy.setPreferredMaxConnections(ue)}}},801148:function(Ce,k,r){r.d(k,{x:function(){return y}});var a=r(939123),e=r(616113),u=r(999634),t=r(580661);class y{get code(){return"DsrLimitsWarning"}constructor(o,c,h){a.fF.assertValue(o,"queryBindingDescriptor"),a.fF.assert(()=>c&&c.length>0,"Expected a non-empty array of exceeded limits."),this.computeMetadata(o,h,c)}computeMetadata(o,c,h){if(this.limits={},o.Limits){var d=y.getExceededLimitsDetails(o,h),n=o.Limits,s=!!d.Primary,p=!!d.Secondary,l=!!d.Intersection;if(o.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var m=o.Expressions&&o.Expressions.Primary&&o.Expressions.Primary.Groupings?o.Expressions.Primary.Groupings:[],b=o.Expressions&&o.Expressions.Secondary&&o.Expressions.Secondary.Groupings?o.Expressions.Secondary.Groupings:[];s&&p?(this.groupings=m.concat(b),this.limits.Primary=y.getLimitMetadata(n.Primary,c),this.limits.Secondary=y.getLimitMetadata(n.Secondary,c)):s?(this.groupings=m,this.limits.Primary=y.getLimitMetadata(n.Primary,c)):p&&(this.groupings=b,this.limits.Secondary=y.getLimitMetadata(n.Secondary,c)),l&&(this.limits.Intersection=y.getLimitMetadata(n.Intersection,c))}}getDetails(o){var c=!!this.limits.Primary,h=!!this.limits.Secondary,d=null,n=-1;return this.hasScriptVisualBinding?d=o.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):c||h?c&&h?(n=this.limits.Primary.Type,d=this.getErrorInfoValue(this.groupings,o.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),o)):d=this.getErrorInfoValue(this.groupings,y.getDetailedMessageFormatForOneColumn(n=c?this.limits.Primary.Type:this.limits.Secondary.Type,o),o):this.limits.Intersection&&(d=y.getDetailedMessageFormatForOneColumn(n=this.limits.Intersection.Type,o)),d||(d=o.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:y.getMessage(n,o),displayableErrorInfo:[{errorInfoKey:y.getKey(n,o),errorInfoValue:d}],helpLink:y.getHelpLink(n)}}static getExceededLimitsDetails(o,c){var h=o.Limits,d={};for(var n of c)h.Primary&&n.Id===h.Primary.Id?d.Primary=h.Primary:h.Secondary&&n.Id===h.Secondary.Id?d.Secondary=h.Secondary:h.Intersection&&n.Id===h.Intersection.Id&&(d.Intersection=h.Intersection);return d}getErrorInfoValue(o,c,h){if(!o||0===o.length)return null;for(var d=[],n=0,s=o.length;n<s;n++){var l=this.getGroupingNameFromGroupingKeys(o[n]);l&&d.push(l)}var m,b=d.length;return 0===b?null:(m=1===b?d[0]:d.join(h.get("ListJoin_Separator")),(0,e.W)(c,m))}getGroupingNameFromGroupingKeys(o){for(var c=o.Keys,h=0,d=c.length;h<d;h++){var n=c[h];if(null!=n.Select)return this.columnNameFromIndex?this.columnNameFromIndex(n.Select):void 0}}static getMessage(o,c){switch(o){case 2:return c.get("DsrLimitWarning_RepresentativeSampleMessage");case 3:case 4:return c.get("DsrLimitWarning_HighDensitySampleMessage");default:return c.get("DsrLimitWarning_TooMuchDataMessage")}}static getKey(o,c){switch(o){case 2:return c.get("DsrLimitWarning_RepresentativeSampleKey");case 3:case 4:return c.get("DsrLimitWarning_HighDensitySampleKey");default:return c.get("DsrLimitWarning_TooMuchDataKey")}}static getDetailedMessageFormatForOneColumn(o,c){switch(o){case 2:return c.get("DsrLimitWarning_RepresentativeSampleVal");case 3:return c.get("DsrLimitWarning_HighDensitySampleVal");case 4:return c.get("DsrLimitWarning_OverlappingPointsDetails");default:return c.get("DsrLimitWarning_TooMuchDataVal")}}static getHelpLink(o){switch(o){case 3:return"https://go.microsoft.com/fwlink/?linkid=848757";case 4:return"https://go.microsoft.com/fwlink/?linkid=853820"}}static getLimitMetadata(o,c){return o.Top?{Type:0,Count:y.getLimitCount(o.Top,c)}:o.Bottom?{Type:1,Count:y.getLimitCount(o.Bottom,c)}:o.Sample?{Type:2,Count:y.getLimitCount(o.Sample,c)}:o.BinnedLineSample?{Type:3,Count:y.getBinnedLineSampleCount(o.BinnedLineSample)}:o.OverlappingPointsSample?{Type:4,Count:y.getLimitCount(o.OverlappingPointsSample,c)}:{Type:-1,Count:null}}static getLimitCount(o,c){if(o.Calc&&c){var h=t.A1.findCalculation(c,o.Calc);if(h){var d=(0,u.H2)(h.Value);if(_.isNumber(d))return d}}return o.Count}static getBinnedLineSampleCount(o){return o.MaxTargetPointCount}}},154690:function(Ce,k,r){r.d(k,{lp:function(){return C},py:function(){return t},sK:function(){return u}});var a=r(939123),e="Warning";function u(y){if(0===y)return e}var t={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}};class C{constructor(i){this.dataShapeMessage=i}get code(){return this.dataShapeMessage.Code}getDetails(i){var o=t[this.dataShapeMessage.Code];return a.fF.assertValue(o,"message to show should be a known message"),{message:i.get(o.localizedMessage),displayableErrorInfo:[{errorInfoKey:i.get(o.localizedTitle),errorInfoValue:i.get(o.localizedContent)}]}}isTransformMessage(){var i=t[this.code];return i&&i.isTransformMessage}}},721084:function(Ce,k,r){r.d(k,{cd:function(){return i},U1:function(){return n},Ei:function(){return o}});var a=r(939123),e=r(528836),u=r(999634),t=r(27819);class C{constructor(p){a.fF.assertValue(p,"Null RestartIdentities list"),a.fF.assertNonEmpty(p,"Empty RestartIdentities list"),this.restartValuesCount=p.length,this.calcIdToRestartIdentityIndex={};for(var l=0;l<this.restartValuesCount;l++)this.calcIdToRestartIdentityIndex[p[l]]=l}getRestartValues(p){a.fF.assertValue(p,"getRestartValues called with undefined instanceParser");var l=new Array(this.restartValuesCount);for(p.restartCalcs();p.nextCalc();){var m=this.calcIdToRestartIdentityIndex[p.calcId()];void 0!==m&&(l[m]=p.calcValueAsExpr())}return a.fF.assert(()=>_.every(l,b=>!!b),"Missing calcs for RestartValues"),l}}class y{constructor(p){this.values=p,this.parsedValues=new Array(p.length),this.parsedValueExprs=new Array(p.length)}getCalcValue(p,l){if(!(p>=this.parsedValues.length)){var m=this.parsedValues[p];return void 0===m&&(m=(0,u.Yt)(this.values[p],l),this.parsedValues[p]=m),m}}getCalcValueExpr(p,l,m){if(!(l>=this.parsedValues.length)){var b=this.parsedValueExprs[l];return void 0===b&&(b=(0,u.HL)(p,this.values[l],m),this.parsedValueExprs[l]=b),b}}}class i{constructor(p){if(p)for(var l in this.resolvedValueDictionaries={},p)this.resolvedValueDictionaries[l]=new y(p[l])}getCalcValue(p,l,m){if(l&&"number"==typeof p){a.fF.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var b=this.resolvedValueDictionaries[l];return a.fF.assertValue(b,"dictionary"),b.getCalcValue(p,m)}}getCalcValueExpr(p,l,m,b){if(m&&"number"==typeof l){a.fF.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var V=this.resolvedValueDictionaries[m];return a.fF.assertValue(V,"dictionary"),V.getCalcValueExpr(p,l,b)}}}function o(s){var p=s.Select,l=s.Expressions,m=l&&l.Primary,b=m&&m.Groupings,V=m&&m.Synchronization,g=l&&l.Secondary&&l.Secondary.Groupings,v={},f=b&&[],S=g&&[];if(b)for(var P=0,D=b.length;P<D;P++)h(v,b[P],P,f,p);if(g)for(var M=0,E=g.length;M<E;M++)S[M]=[],h(v,g[M],M,S,p);var w=0,x=[];if(p&&g)for(var N=0;N<p.length;N++){var L=p[N];L&&L.Kind===t.hk.Measure&&null==L.Depth&&null==L.SecondaryDepth&&(x[w++]=N)}var B={intersectionMeasureToSelectIndex:x,secondaryLeafDataMemberId:g&&[],dataMemberIdToMetadata:v,selects:p,maxPrimaryDepth:_.size(b),maxSecondaryDepth:_.size(g),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:f,secondaryDataMemberIdCache:S,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(V){var I=V.length;B.primarySynchronizedGroups=new Array(I);for(var W=0;W<I;W++){var O=V[W],F=_.last(O.Groupings);B.primarySynchronizedGroups[W]={groupings:O.Groupings,dataShapeId:O.DataShape,synchronizationIndexCalcId:b[F].SynchronizationIndex,context:c(s,O)}}}return B}function c(s,p){a.fF.assertValue(s.Expressions.Primary,"No primary groupings."),a.fF.assertValue(s,"synchronizedGroup");for(var l=s.Expressions.Primary.Groupings,m=s.Select,b={},V=[],g=p.Groupings,v=0;v<g.length;v++)h(b,l[g[v]].SynchronizedGroup,v,V,m,!0);return{dataMemberIdToMetadata:b,selects:m,maxPrimaryDepth:_.size(g),primaryDataMemberIdCache:V,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function h(s,p,l,m,b,V){var g=m[l]=[],v=function(s,p){for(var l=s.length,m=new Array(l),b=0;b<l;b++)m[b]=n(s[b],s[b].Select,p);return m}(p.Keys,b),f=p.Member;if(f){g.push(f);var S=s[f]={identityFields:v,axisGrouping:p,kind:1,depth:l+1};V?S.forSynchronization=!0:p.SynchronizedGroup&&(S.isSynchronized=!0),p.RestartIdentities&&(S.restartValuesBuilder=new C(p.RestartIdentities))}var P=p.SubtotalMember;if(P){g.push(P);var D={identityFields:v,kind:2,depth:l};V?D.forSynchronization=!0:p.SynchronizedGroup&&(D.isSynchronized=!0),s[P]=D}}function n(s,p,l){a.fF.assertValue(s,"key"),a.fF.assertAnyValue(p,"selectIndex"),a.fF.assertValue(l,"selectBindings");var m=s.Source;if(!m){a.fF.assert(()=>p>=0&&p<_.size(l),"selectIndex should be within range");var b=l[p].Name;return b?(0,e.xA)(b):void a.fF.assertFail("selectName should be defined")}return(0,e.Oh)((0,e.nw)((0,t._H)(m),m.Entity||m.EntitySet),m.Property)}},799358:function(Ce,k,r){r.d(k,{o3:function(){return Le},kc:function(){return ct},nZ:function(){return ut},ij:function(){return Ne}});var a=r(171520),e=r(939123),u=r(39032),t=r(737466),C=r(9017),y=r(540665),i=r(888021),o=r(580661);class c{constructor(ee){this.context=ee,this.measureValueAggregatorsBySelectIdx=[]}read(ee,ve=!0){for(var Te=this.context,Xe=Te.selects,He=new Array(Xe.length),qe=new Array(Xe.length);ee.nextCalc();){var rt=Te.aggregateCalcMetadata[ee.calcId()];rt&&rt.aggregateKind&&(o.A1.fillMetadataColumnAggregate(ee.calcValue(),rt,!1),3===rt.aggregateKind&&(He[rt.selectIdx]=!0),2===rt.aggregateKind&&(qe[rt.selectIdx]=!0))}ve&&this.addLocalAggregators(He,qe)}addLocalAggregators(ee,ve){for(var Te=this.measureValueAggregatorsBySelectIdx,Xe=this.context.measureSelectIndices,He=Xe.length,qe=!1,rt=0;rt<He;rt++){var me=Xe[rt];ee[me]||(qe=!0,Te[me]||(Te[me]=[]),Te[me].push(new o.nc)),ve[me]||(qe=!0,Te[me]||(Te[me]=[]),Te[me].push(new o._8))}this.hasLocalAggregators=qe}update(ee,ve){if(this.hasLocalAggregators){var Te=this.measureValueAggregatorsBySelectIdx[ve];if(Te)for(var Xe of Te)Xe.update(ee)}}copyToColumns(){for(var ee=this.context.measureSelectIndices,ve=ee.length,Te=0;Te<ve;Te++){var Xe=ee[Te],He=this.context.selectIndexToColumn[Xe],qe=this.measureValueAggregatorsBySelectIdx[Xe];if(qe&&qe)for(var rt of qe){var me=rt.value();void 0!==me&&(He.aggregates||(He.aggregates={}),He.aggregates[rt.name]=me)}}}}var h=r(571619),d=r(528836);class n{constructor(ee,ve){this.context=ee,this.calcIdToGroupingKeysIndex={},this.initialize(ve)}initialize(ee){var ve=this.context,Te=ve.selects,Xe=ve.dataMemberIdToMetadata[ee];this.identityFields=Xe.identityFields,this.identityFieldsCount=this.identityFields.length;var qe=Xe.axisGrouping.Keys;e.fF.assert(()=>qe.length===this.identityFieldsCount,"Mismatch in Identity Keys count");for(var rt=0;rt<this.identityFieldsCount;rt++){var me=qe[rt],Ee=void 0;me.Calc?Ee=me.Calc:null!=me.Select&&me.Select>=0?Ee=Xe.forSynchronization?Te[me.Select].Synchronized?.Value:Te[me.Select].Value:e.fF.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[Ee]=rt}}reset(){this.identityParts=new Array(this.identityFieldsCount)}addExpr(ee,ve){var Te=this.calcIdToGroupingKeysIndex[ee],Xe=this.identityFields[Te];Xe&&(this.identityParts[Te]=(0,d.Dg)(Xe,ve))}getIdentity(){for(var Te,ee=this.identityParts,ve=this.identityFieldsCount,Xe=0;Xe<ve;Xe++)Te=(0,d.xD)(Te,ee[Xe]);var He=(0,h.TZ)(Te);return e.fF.assertValue(He,"identity"),He}getIdentityFields(){return this.identityFields}}var s=r(27819);class l{constructor(){}run(ee,ve,Te){this.metadata=Te,this.context=ee,this.dsrParser=ve,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],ve.reset(),this.aggregator=new c(ee);var Xe=this.dsrParser.dataShapes();Xe.next();var He={};if(0===ee.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var qe=He.values=(0,i.Yv)();this.readMeasuresWithNoGrouping(Xe,qe)}else{var Ee,rt=[],me=[];He.categories=rt,this.readSelectsAndCreateCategoryColumns(rt,me),(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(He.values=Ee=(0,i.Yv)()),this.readSecondaryAndCreateValueColumns(Ee);var fe={};this.readData(Xe,Ee,me,fe),void 0!==fe.value&&(He.lastMergeIndex=fe.value)}return He}static isCompatible(ee){return ee.maxPrimaryDepth<=1&&ee.maxSecondaryDepth<=1&&!(0===ee.maxPrimaryDepth&&ee.maxSecondaryDepth>0)&&_.size(ee.selects)>0}readSelectsAndCreateCategoryColumns(ee,ve){var Te=this.context,Xe=Te.selectIndexToColumn,He=Te.selects,qe=He.length,rt=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(He.length),this.intersectionMeasuresSelectIndexMap=new Array(He.length);for(var me=!!rt,Ee=0;Ee<qe;Ee++){var fe=He[Ee];if(fe&&fe.Value)if(fe.Kind===s.hk.Group){if(null!=fe.SecondaryDepth){this.seriesSelectIndex=Ee;continue}if(null!=fe.Depth){e.fF.assert(()=>null!=ve,"Expected truthy value for identities"),e.fF.assert(()=>null!=ee,"Expected truthy value for categories");var re={source:Xe[Ee],values:[],identity:ve};ee.push(re),this.selectIndexToCategoryColumn[Ee]=re}}else fe.Kind===s.hk.Measure&&(me&&null==fe.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=Ee:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=Ee)}}readSecondaryAndCreateValueColumns(ee){var ve=this.dsrParser.dataShapes().secondaryHierarchy();ve?(this.addIntersectionValueColumns(ee,ve),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(ee)):this.addPrimaryValueColumns(ee,!0)}addIntersectionValueColumns(ee,ve){for(var He,Te=this,Xe=new Array,qe=this.context,rt=function(){var me=ve.id(),Ee=ve.instances();if(2===qe.dataMemberIdToMetadata[me].kind){for(;Ee.next(););return 1}var fe=qe.dataMemberIdToIdentityBuilder[me];fe||(fe=new n(qe,me),qe.dataMemberIdToIdentityBuilder[me]=fe),He=fe.getIdentityFields();for(var Re=-1;Ee.next();){Re++,fe.reset();for(var re=void 0,se=void 0;Ee.nextCalc();){se=Ee.calcId();var Ae=Te.context.calcInfo[se];Ae.isGroupKeyButNotSelect||(re=Ee.calcValue()),Ae.forIdentity&&fe.addExpr(se,Ee.calcValueAsExpr())}Te.addIntersectionValueColumnsCore(ee,Xe,se,re,Re,fe.getIdentity()),e.fF.assert(()=>null==Ee.intersections(),"unexpected secondary intersections"),e.fF.assert(()=>null==Ee.members(),"unexpected secondary nested members")}0===ee.length&&0===Xe.length&&Te.addIntersectionValueColumnsCore(ee,Xe,void 0,void 0,0,void 0),ee.grouped=()=>Xe,ee.source=Te.context.selectIndexToColumn[Te.seriesSelectIndex],ee.identityFields=He};ve.next();)rt()}addIntersectionValueColumnsCore(ee,ve,Te,Xe,He,qe){for(var rt=this,me=this.context,Ee=me.selects,fe=this.intersectionMeasureCount,Re=new Array(fe),re=this.metadata.columns,se=function(){var Me,$e=rt.intersectionMeasuresSelectIndexMap[Ae];void 0!==Xe?((Me=me.createColumns(re,$e).column).groupName=Xe,Me.rootSource=me.selectIndexToColumn[$e]):Me=_.find(re,Qt=>Qt.index===$e);var st=rt.createValueColumn(Me,qe,$e,!!Ee[$e].Highlight,!1);ee.push(st),Re[Ae]=st;var pt=Ee[$e],wt=rt.intersectionValueColumnsMap[He];wt||(wt=rt.intersectionValueColumnsMap[He]={}),wt[pt.Value]=st;var Pt=pt.Highlight&&pt.Highlight.Value;if(Pt&&(wt[Pt]=st),Me.formatSource&&Me.formatSource.formatString){e.fF.assertValue(pt.DynamicFormat?.Format,"select.DynamicFormat.Format");var At=rt.createValueColumn(Me.formatSource.formatString,void 0,$e,!!Ee[$e].Highlight,!0),Ut=rt.intersectionDynamicFormatColumnsMap[He];Ut||(Ut=rt.intersectionDynamicFormatColumnsMap[He]={}),Ut[pt.DynamicFormat.Format]=At,ee.push(At);var Kt=pt.Highlight?.DynamicFormat?.Format;Kt&&(Ut[Kt]=At)}},Ae=0;Ae<fe;Ae++)se();var ce={values:Re};void 0!==Xe&&(ce.name=Xe),void 0!==qe&&(ce.identity=qe),ve.push(ce)}addPrimaryValueColumns(ee,ve){for(var Te=new Array,Xe=this.context,He=Xe.selects,qe=0;qe<this.primaryMeasureCount;qe++){var rt=this.primaryMeasureSelectIndexMap[qe],me=Xe.selectIndexToColumn[rt],Ee=this.createValueColumn(me,void 0,rt,!!He[rt].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[rt]=Ee,Te.push(Ee),ee.push(Ee),me.formatSource&&me.formatSource.formatString){var fe=this.createValueColumn(me.formatSource.formatString,void 0,rt,!!He[rt].Highlight,!0);this.selectIndexToDynamicFormatColumn[rt]=fe,ee.push(fe),Te.push(fe)}}if(ve&&ee){var Re=[{values:Te}];ee.grouped=()=>Re}}createValueColumn(ee,ve,Te,Xe,He){var qe={source:ee,values:[]};if(Xe&&(qe.highlights=[]),ve&&(qe.identity=ve),!He){var rt=this.selectIndexToValueColumnsMap[Te];rt||(rt=this.selectIndexToValueColumnsMap[Te]=[]),rt.push(qe)}return qe}readData(ee,ve,Te,Xe){var He=this,qe=this.context,rt=ee.primaryHierarchy();this.aggregator.read(ee,0===this.intersectionMeasureCount);for(var me=function(){var Ee=rt.id(),fe=qe.dataMemberIdToMetadata[Ee];if(fe){var Re=1===fe.kind,re=qe.dataMemberIdToIdentityBuilder[Ee];!re&&Re&&(re=new n(qe,Ee),qe.dataMemberIdToIdentityBuilder[Ee]=re);for(var se=rt.instances();se.next();){for(re&&re.reset(),1===se.restartFlagKind()&&(Xe.value=se.currentIndex());se.nextCalc();)He.readPrimaryHierarchyCalc(se,re);re&&Te.push(re.getIdentity()),He.parseIntersections(se),e.fF.assert(()=>null==se.members(),"unexpected nested members to parse")}if(Re)for(var Ae=re.getIdentityFields(),ce=0;ce<qe.selects.length;ce++){var Me=He.selectIndexToCategoryColumn[ce];Me&&(Me.identityFields=Ae)}}};rt.next();)me();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()}copyAggregatesToValueColumns(){for(var ee=this.context.measureSelectIndices,ve=this.context.selectIndexToColumn,Te=ee.length,Xe=0;Xe<Te;Xe++){var He=ee[Xe],qe=ve[He].aggregates;if(qe){var rt=this.selectIndexToPrimaryValueColumn[He];rt&&o.A1.copyAggregates(qe,rt);var me=this.selectIndexToValueColumnsMap[He];if(me)for(var Ee of me)o.A1.copyAggregates(qe,Ee)}}}readPrimaryHierarchyCalc(ee,ve){var Te=ee.calcId(),Xe=this.context.aggregateCalcMetadata[Te];if(Xe&&1===Xe.aggregateKind)o.A1.fillMetadataColumnAggregate(ee.calcValue(),Xe);else{var He=this.context.calcInfo[Te];if(He){var qe=ee.calcValue();if(He.kind===s.hk.Group)e.fF.assert(()=>!!ve,"Must have an identity builder when parsing grouping values"),He.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[He.selectIdx].values.push(qe),He.forIdentity&&ve.addExpr(Te,ee.calcValueAsExpr());else if(He.kind===s.hk.Measure){var rt=He.calcKind;1===rt?(this.selectIndexToPrimaryValueColumn[He.selectIdx].values.push(qe),this.aggregator.update(qe,He.selectIdx)):4===rt?this.selectIndexToDynamicFormatColumn[He.selectIdx].values.push(qe):3===rt?this.selectIndexToPrimaryValueColumn[He.selectIdx].highlights.push(qe):6===rt&&this.selectIndexToDynamicFormatColumn[He.selectIdx].highlights.push(qe)}}}}parseIntersections(ee){var ve=ee.intersections();if(ve)for(var Te=this.context.calcInfo,Xe=0;ve.next();){var He=this.intersectionValueColumnsMap[Xe],qe=this.intersectionDynamicFormatColumnsMap[Xe];if(ve.nextCalc()){if(!this.parseIntersectionCalc(ve,He,qe,Te))continue;for(Xe++;ve.nextCalc();)this.parseIntersectionCalc(ve,He,qe,Te)}}}parseIntersectionCalc(ee,ve,Te,Xe){var He=ee.calcId(),qe=Xe[He];if(qe)switch(e.fF.assert(()=>qe.kind===s.hk.Measure,"unexpected select kind found in intersection"),qe.calcKind){case 1:return ve[He].values.push(ee.calcValue()),!0;case 3:return ve[He].highlights.push(ee.calcValue()),!0;case 4:return Te[He].values.push(ee.calcValue()),!0;case 6:return Te[He].highlights.push(ee.calcValue()),!0;case 2:case 5:return!1}}readMeasuresWithNoGrouping(ee,ve){var Te=this;this.aggregator.read(ee),this.aggregator.copyToColumns();var Xe=ee.primaryHierarchy();if(Xe.next()){this.addPrimaryValueColumns(ve,!0);for(var He=this.context.calcInfo,qe=Xe.instances();qe.next();)for(var rt=function(){var me=qe.calcId(),Ee=He[me];Ee&&(e.fF.assert(()=>null!=Ee.selectIdx,"expect a selectIdx for all measures when there is no grouping"),1===Ee.calcKind?Te.selectIndexToPrimaryValueColumn[Ee.selectIdx].values.push(qe.calcValue()):3===Ee.calcKind?Te.selectIndexToPrimaryValueColumn[Ee.selectIdx].highlights.push(qe.calcValue()):4===Ee.calcKind?Te.selectIndexToDynamicFormatColumn[Ee.selectIdx].values.push(qe.calcValue()):6===Ee.calcKind&&Te.selectIndexToDynamicFormatColumn[Ee.selectIdx].highlights.push(qe.calcValue()))};qe.nextCalc();)rt()}}}var m=r(542666),b=r(265230),V=r(721084);class g{get primaryAxisGroupings(){return this._primaryAxisGroupings}get secondaryAxisGroupings(){return this._secondaryAxisGroupings}get calcInfo(){return this._calcInfo}constructor(ee,ve,Te,Xe,He){e.fF.assertValue(ee,"targets"),e.fF.assert(()=>null!=ve.Select||null!=ve.ScriptVisualBinding,"descriptor"),this.targets=ee,this.descriptor=ve,this.selects=ve.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var qe=ve.Expressions;this._primaryAxisGroupings=qe&&qe.Primary&&qe.Primary.Groupings,this._secondaryAxisGroupings=qe&&qe.Secondary&&qe.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=Te.dataMemberIdToMetadata,this.maxPrimaryDepth=Te.maxPrimaryDepth,this.maxSecondaryDepth=Te.maxSecondaryDepth,this.primarySynchronizedGroups=Te.primarySynchronizedGroups,this.scopedAggregatesEnabled=Xe,this.dataShapeParser=He}createContextForPrimarySynchronizedGroup(ee,ve){var Te=new g(this.targets,this.descriptor,ee.context,this.scopedAggregatesEnabled,ve);return Te._primaryAxisGroupings=_.map(ee.groupings,Xe=>this.primaryAxisGroupings[Xe].SynchronizedGroup),Te._secondaryAxisGroupings=void 0,Te._calcInfo=this._calcInfo,Te}includes(ee){return e.fF.assertValue(ee,"kind"),(0,b.yE)(this.targets,ee)}createDataViewMetadataColumns(){var ee=this,ve=this.selects;if(!_.isEmpty(ve)){var Te=[],Xe=ve.length;this.selectIndexToColumnIndex=new Array(Xe);for(var He=function(){var fe=ve[qe];if(!fe)return 1;e.fF.assert(()=>fe.Kind!==s.hk.None,"Expecting every select never to be of SelectKind.None");var{column:Re,columnIdx:re,dynamicFormatColumn:se}=ee.createColumns(Te,qe);ee.selectIndexToColumn[qe]=Re,ee.selectIndexToColumnIndex[qe]=re,fe.Kind===s.hk.Measure&&ee.measureSelectIndices.push(qe);var Ae=fe.Aggregates;if(Ae)for(var ce of Ae){var Me=ee.getAggregateKind(ce.Aggregate);ee.createAggregateCalcMetadata(ce.Ids,Me,Re,qe,ce.Aggregate)}var $e=fe.Value;$e&&(ee.calcIdToColumnIndices[$e]||(ee.calcIdToColumnIndices[$e]=[]),ee.calcIdToColumnIndices[$e].push(re),(null==fe.Depth||null==fe.SecondaryDepth)&&(ee.aggregateCalcMetadata[$e]={source:Re,aggregateKind:4,selectIdx:qe})),fe.Kind===s.hk.Measure&&(fe.Subtotal&&ee.createAggregateCalcMetadata(fe.Subtotal,1,Re,qe),fe.SubtotalDynamicFormat&&ee.createAggregateCalcMetadata(_.map(fe.SubtotalDynamicFormat,st=>st&&st.Format),1,se,qe),fe.Count&&(e.fF.assert(()=>_.size(fe.Count)<=1,"dataView cannot represent aggregates other than subtotal at different scopes yet"),ee.createAggregateCalcMetadata(fe.Count,5,Re,qe)),fe.Max&&ee.createAggregateCalcMetadata(fe.Max,2,Re,qe),fe.Min&&ee.createAggregateCalcMetadata(fe.Min,3,Re,qe))},qe=0,rt=Xe;qe<rt;qe++)He();this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var me=function(fe){_.size(ee.calcIdToColumnIndices[fe])>1&&(ee.calcInfo[fe].hasDuplicateColumnIndices=!0,e.fF.assert(()=>!ee.calcInfo[fe].isGroupKeyButNotSelect,"calcs which represent group keys cannot have duplicate column indices"))};for(var Ee in this.calcIdToColumnIndices)me(Ee);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),Te}}parseAxisGroupings(ee){if(ee)for(var ve of ee){var Te=ve.SynchronizedGroup;if(Te){this.parseGroupingKeys(Te.Keys,!0);var Xe=ve.SynchronizationIndex;Xe&&(this.calcInfo[Xe]={kind:s.hk.Measure,calcKind:10})}this.parseGroupingKeys(ve.Keys,!1)}}parseGroupingKeys(ee,ve){var Te=this.calcInfo,Xe=this.selects;for(var He of ee){var qe=Xe[He.Select];null!=qe?ve?(e.fF.assertValue(qe.Synchronized?.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),Te[qe.Synchronized?.Value].forIdentity=!0):Te[qe.Value].forIdentity=!0:He.Calc?Te[He.Calc]={kind:s.hk.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:e.fF.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}}createAggregateCalcMetadata(ee,ve,Te,Xe,He){for(var qe of ee){var rt=this.aggregateCalcMetadata[qe]={source:Te,aggregateKind:ve,selectIdx:Xe};He&&(rt.aggregate=He)}}getAggregateKind(ee){return ee.Average?6:ee.Max?2:ee.Min?3:ee.Median?8:ee.Percentile?7:void 0}createColumns(ee,ve){var Te=ee.length,Xe=this.createMetadataColumn(ve);ee.push(Xe);var He=this.selects[ve],qe=He.Kind,rt=this.calcInfo;rt[He.Value]={kind:qe,columnIndex:Te,selectIdx:ve,calcKind:1};var me=He.Synchronized;if(me&&(e.fF.assert(()=>qe===s.hk.Group,"Synchronization Auxiliary Select is expected only for Grouping Selects"),e.fF.assertValue(me.Value,"Synchronization Auxiliary Select must have a Value"),e.fF.assertValue(me.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),rt[me.Value]={kind:qe,columnIndex:Te,selectIdx:ve,calcKind:1},rt[He.Value].isSynchronized=!0),He.Subtotal)for(var Ee of(e.fF.assert(()=>qe===s.hk.Measure,"Subtotal SelectKind"),He.Subtotal))rt[Ee]={columnIndex:Te,kind:qe,selectIdx:ve,calcKind:2};if(He.Highlight){e.fF.assert(()=>qe===s.hk.Measure,"Highlight SelectKind");var fe=He.Highlight.Value;fe&&(rt[fe]={columnIndex:Te,kind:qe,selectIdx:ve,calcKind:3});var Re=He.Highlight.Subtotal;if(Re)for(var re of Re)rt[re]={columnIndex:Te,kind:qe,selectIdx:ve,calcKind:9}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(He.Aggregates))for(var se of He.Aggregates)if(se.Aggregate.Scope)for(var Ae of se.Ids)rt[Ae]={columnIndex:Te,kind:qe,selectIdx:ve,calcKind:7};var ce=He.Highlight;if(ce&&!_.isEmpty(ce.Aggregates)){var Me=ce.Aggregates;for(var $e of Me)if($e.Aggregate.Scope)for(var st of $e.Ids)rt[st]={columnIndex:Te,kind:qe,selectIdx:ve,calcKind:8}}}var pt=this.tryCreateDynamicFormatColumnMetadata(ve,Xe);if(pt){e.fF.assert(()=>qe===s.hk.Measure,"Dynamic Format SelectKind");var wt=Te+1;if(ee.push(pt),rt[He.DynamicFormat.Format]={columnIndex:wt,kind:s.hk.Measure,selectIdx:ve,calcKind:4},He.SubtotalDynamicFormat)for(var Pt of He.SubtotalDynamicFormat){var At=Pt&&Pt.Format;At&&(rt[At]={columnIndex:wt,kind:s.hk.Measure,selectIdx:ve,calcKind:5})}var Ut=He.Highlight&&He.Highlight.DynamicFormat&&He.Highlight.DynamicFormat.Format;Ut&&(rt[Ut]={columnIndex:wt,kind:s.hk.Measure,selectIdx:ve,calcKind:6})}return{column:Xe,columnIdx:Te,dynamicFormatColumn:pt}}createMetadataColumn(ee){var ve=this.selects[ee],Te={displayName:"",index:ee};ve.Format&&(Te.format=ve.Format),Te.type=o.A1.describeDataType(ve.Type,ve.DataCategory),ve.Kind===s.hk.Measure&&(Te.isMeasure=!0);var Xe=ve.GroupKeys;if(Xe)for(var He=Te.identityExprs=new Array(Xe.length),qe=0;qe<Xe.length;qe++)He[qe]=(0,V.U1)(Xe[qe],ee,this.selects);return Te}tryCreateDynamicFormatColumnMetadata(ee,ve){var Te=this.selects[ee];if(Te.DynamicFormat&&Te.DynamicFormat.Format){var Xe={displayName:"",isMeasure:!0};return ve.formatSource={formatString:Xe},Xe}}createScopedAggregateMetadata(){for(var ee=this.selects,Te=this.selectIndexToColumn,Xe=0,He=ee.length;Xe<He;Xe++){var qe=ee[Xe];if(qe){var rt=qe.Aggregates,me=Te[Xe];if(!_.isEmpty(rt))for(var Ee of rt)this.createScopedAggregateCalcMetadata(Ee,me);var fe=qe.Highlight;if(fe&&!_.isEmpty(fe.Aggregates)){var Re=fe.Aggregates;for(var re of Re)this.createScopedAggregateCalcMetadata(re,me)}}}}createScopedAggregateCalcMetadata(ee,ve){var Te=ee.Aggregate,Xe=Te.Scope;if(Xe){var He=this.selectIndexToColumn,qe=Xe.PrimaryDepth;e.fF.assert(()=>void 0===Xe.SecondaryDepth,"Scoped Aggregates not supports secondary depth for now.");for(var rt=new Array(qe),me=this.primaryAxisGroupings,Ee=0,fe=0;fe<qe;fe++){var Re=me[fe].Keys;for(var re of Re){var se=re.Select;e.fF.assertValue(se,"select");var Ae=He[se];e.fF.assertValue(Ae,"inputScopeColumn"),rt[Ee++]=Ae}}var ce={column:ve,inputScope:rt,respectInstanceFilters:Te.RespectInstanceFilters},Me=ee.Ids,$e=this.calcInfo;for(var st of Me){var pt=$e[st];e.fF.assertValue(pt,"aggregateCalcInfo"),pt.scopedAggregateCalcMetadata={metadata:ce,aggregateKind:this.getAggregateKind(Te)}}}}fillDataShapeScopeAggregateValues(){var ee=this.dataShapeParser;if(ee){var ve=this.calcInfo;ee.reset();var Te=ee.next();e.fF.assert(()=>Te,"There must be a DataShape");for(var Xe=function(){var He=ve[ee.calcId()];if(!He||!He.scopedAggregateCalcMetadata)return 1;var se,qe=He.scopedAggregateCalcMetadata,rt=qe.metadata,me=rt.column,Ee=rt.inputScope,fe=rt.respectInstanceFilters,Re={inputScope:Ee,respectInstanceFilters:fe,values:{},highlight:{}};if(me.scopedAggregates){var re=_.find(me.scopedAggregates,ce=>g.sameScopedAggregatesInputScope(ce.inputScope,Ee)&&ce.respectInstanceFilters===fe);re?Re=re:me.scopedAggregates.push(Re)}else me.scopedAggregates=[Re];switch(He.calcKind){case 7:se=Re.values;break;case 8:se=Re.highlight;break;default:e.fF.assertFail("Invalid CalcKind.")}var Ae=ee.calcValue();switch(qe.aggregateKind){case 3:se.min=Ae;break;case 2:se.max=Ae;break;case 6:se.avg=Ae;break;default:e.fF.assertFail("Invalid scoped aggregate function.")}};ee.nextCalc();)Xe()}}static sameScopedAggregatesInputScope(ee,ve){if(ee===ve)return!0;if(ee.length!==ve.length)return!1;for(var Te=0;Te<ee.length;Te++)if(ee[Te]!==ve[Te])return!1;return!0}}class f{constructor(ee,ve,Te,Xe){this.context=ee,this.dsrParser=ve,this.metadata=Te,e.fF.assertValue(ee,"context"),e.fF.assertValue(ve,"dsrParser"),e.fF.assertValue(Te,"metadata"),e.fF.assertNonEmpty(Te.columns,"metadata.columns"),this.aggregator=new c(ee),this.scopedAggregatesEnabled=Xe}run(){var ee=this.aggregator,ve=this.dsrParser;ve.reset();var Te=ve.dataShapes();this.calcInfoCache={};var Xe=Te.next();e.fF.assert(()=>Xe,"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(Te),e.fF.assert(()=>this.context.maxPrimaryDepth>0||!_.isEmpty(this.context.measureSelectIndices),"DSR is not compatible with Matrix"),ee.read(Te,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var He=Te.secondaryHierarchy(),qe=this.readHierarchy(1,He,Te),rt=Te.primaryHierarchy(),me=this.readHierarchy(0,rt,Te);return ee.copyToColumns(),{rows:me,columns:qe,valueSources:this.valueSources}}createHierarchiesLevels(){var ee=this.context.selects,ve=this.context.maxPrimaryDepth,Te=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(ve),this.secondaryHierarchyLevels=new Array(Te);for(var Xe=0;Xe<ve;Xe++)this.primaryHierarchyLevels[Xe]={sources:[]};for(var He=0;He<Te;He++)this.secondaryHierarchyLevels[He]={sources:[]};for(var qe=this.metadata.columns,rt=qe.length,me=this.columnIndexToZoneIndex=new Array(rt),Ee=0;Ee<rt;Ee++){var fe=qe[Ee],Re=fe.index;if(null!=Re){var re=ee[Re],se=void 0;re.Kind===s.hk.Group&&(null!=re.Depth?se=this.primaryHierarchyLevels[re.Depth].sources:null!=re.SecondaryDepth&&(se=this.secondaryHierarchyLevels[re.SecondaryDepth].sources),e.fF.assertValue(se,"Grouping Select not belonging to either Hierarchy"),me[Ee]=se.length,se.push(fe))}}}readHierarchy(ee,ve,Te){var Xe,He,qe=this.valueSources.length;switch(ee){case 0:if(He=this.context.maxPrimaryDepth,!(Xe=this.context.primaryAxisGroupings))return e.fF.assert(()=>0===He,"No primary groupings"),e.fF.assert(()=>qe>0,"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(ve);break;case 1:if(He=this.context.maxSecondaryDepth,!(Xe=this.context.secondaryAxisGroupings))return e.fF.assert(()=>0===He,"No secondary groupings"),0===qe?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:e.fF.assertFail("Unexpected DataShapeHierarchy")}e.fF.assert(()=>He===_.size(Xe),"Groupings-Hierarchy mismatch");var rt={levels:0===ee?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};1===ee&&qe>1&&rt.levels.push(this.createColumnHierarchyMeasuresLevel());var me=this.context.primarySynchronizedGroups;0===ee&&me&&this.readRowsSynchronizedGroups(me,rt,Te);var Ee=this.context;return this.readNodeChildren(Ee,Ee.calcInfo,this.columnIndexToZoneIndex,Ee.dataMemberIdToIdentityBuilder,Ee.dataMemberIdToMetadata,rt.root,ve,0,ee,qe,this.context.maxSecondaryDepth,rt.levels),!_.isEmpty(rt.root.children)&&!_.isEmpty(rt.synchronizedGroups)&&this.ensureRowNodeSynchronization(rt.root,0),rt}readRowsSynchronizedGroups(ee,ve,Te){var Xe=this;e.fF.assertNonEmpty(ee,"No Primary Synchronized Groups"),e.fF.assertValue(ve,"hierarchy");var He=ee.length;ve.synchronizedGroups=new Array(He),this.primarySynchronizedGroupByLevel=new Array(ve.levels.length);for(var qe=Te.nestedDataShapes(),rt=function(){var Ee=ee[me],fe=Ee.groupings;e.fF.assert(()=>!_.isEmpty(fe),"Empty synchronized group");var Re=qe[Ee.dataShapeId];e.fF.assertValue(Re,"no dataShapeParser for a SynchronizedGroup");var re=Re.next();e.fF.assert(()=>re,"Nested DataShape not found");var se=Re.primaryHierarchy();e.fF.assertValue(se,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var Ae=ve.synchronizedGroups[me]={levels:new Array,root:{}},ce=0;ce<fe.length;ce++){var Me=fe[ce],$e=Ae.levels[ce]=ve.levels[Me];$e.valueSources&&((ve.levels[Me]=(0,m.ED)($e)).valueSources=$e.valueSources,delete $e.valueSources)}Xe.primarySynchronizedGroupByLevel[fe[0]]=Ae;for(var pt=Xe.metadata.columns,wt=new Array(pt.length),Pt=function(){var Kt=pt[At];for(var Qt of Ae.levels){var rr=_.findIndex(Qt.sources,Xt=>Xt===Kt);if(rr>-1){wt[At]=rr;break}}},At=0;At<pt.length;At++)Pt();var Ut=Xe.context.createContextForPrimarySynchronizedGroup(Ee,Re);Xe.readNodeChildren(Ut,Ut.calcInfo,wt,Ut.dataMemberIdToIdentityBuilder,Ut.dataMemberIdToMetadata,Ae.root,se,0,0,0,Ut.maxSecondaryDepth,Ae.levels,{currentIndex:0})},me=0;me<He;me++)rt()}readNodeChildren(ee,ve,Te,Xe,He,qe,rt,me,Ee,fe,Re,re,se){if(rt&&0!==rt.count())for(var Ae;rt.next();){var ce=rt.id(),Me=He[ce];if(Me){var $e=2===Me.kind,st=$e&&0===me,pt=void 0,wt=void 0;$e||((pt=Xe[ce])||(pt=Xe[ce]=new n(ee,ce)),wt=pt.getIdentityFields());var Pt=rt.instances();if(!Pt||0===Pt.count())continue;wt&&(qe.childIdentityFields=wt),Ae||(Ae=qe.children=[]);var At=this.calcInfoCache[ce];for(null==At&&(At=this.calcInfoCache[ce]=[]);Pt.next();){var Ut=this.readNode(ee,Me,Xe,He,ve,Te,Pt,me,$e,st,At,Ee,fe,Re,pt,Me.restartValuesBuilder,re,se);Ae.push(Ut),se&&se.currentIndex++}}}}readNode(ee,ve,Te,Xe,He,qe,rt,me,Ee,fe,Re,re,se,Ae,ce,Me,$e,st){var pt=this;e.fF.assert(()=>!!ce==!Ee,"Unexpected IdentityBuilder"),e.fF.assert(()=>!(Ee&&Me),"Subtotal nodes should not have RestartValues");var wt=ee.aggregateCalcMetadata,Pt={level:me};ve.forSynchronization&&(e.fF.assertValue(st,"undefined synchronizedGroupLeafIndex while parsing Master List"),Pt.synchronizationIndex=st.currentIndex),1===rt.restartFlagKind()&&(Pt.isMerge=!0),Ee?Pt.isSubtotal=!0:ce.reset();for(var At=[],Ut=ve.isSynchronized,Kt=function(){var Nt=rt.calcId(),Lt=Re[rr];if(!Lt){if(!(Lt=He[Nt]))return 0;Re[rr]=Lt}if(10===Lt.calcKind){var Qe=rt.calcValue();return e.fF.assert(()=>"number"==typeof Qe,"Synchronization Index is expected to be a number"),Pt.synchronizationIndex=Qe,0}var bt=Lt.columnIndex;e.fF.assert(()=>!0===Lt.isGroupKeyButNotSelect==(null==bt),"Unexpected columnIndex");var Rt=qe[bt];e.fF.assert(()=>!0===Lt.isGroupKeyButNotSelect==(null==Rt),"Unexpected zoneIndex");var ir,Gt=Lt.kind;if(Gt===s.hk.Group){if(!Ut){var Ht=rt.calcValueAsExpr();ir=Ht.value,Lt.isGroupKeyButNotSelect||(At[Rt]={value:ir,levelSourceIndex:Rt}),ce.addExpr(Nt,Ht)}}else if(Gt===s.hk.Measure){e.fF.assertValue(Lt.selectIdx,`Measure Calc ${Nt} on DataMember instances must be related to a Select`);var _r,Fr,vr=pt.measuresGroupingScopeBySelectIndex[Lt.selectIdx];e.fF.assertValue(vr,`Calc ${Nt} has an undefined grouping scope`),e.fF.assert(()=>0===vr.secondary,`Calc ${Nt} is grouped by Secondary while appearing on DataMember`),e.fF.assert(()=>0===re,"Measure Calcs cannot appear on Secondary Hierarchy DataMembers"),0===Ae&&vr.primary===$e.length?(_r=se,null==Pt.values&&(Fr=Pt.values={}),Fr=Pt.values):(_r=$e[me].valueSources[0].length,Pt.nodeValues||(Pt.nodeValues={0:{}}),Fr=Pt.nodeValues[0]),e.fF.assert(()=>Rt<_r,"Measure index out-of-bound");var Pr=Fr[Rt];Pr||(Pr=Fr[Rt]={},Rt>0&&(Pr.valueSourceIndex=Rt)),ir=rt.calcValue(),pt.readNodeValueCalc(Pr,ir,Lt),pt.scopedAggregatesEnabled&&Lt.scopedAggregateCalcMetadata&&pt.setScopeAggregateValue(Pt,ir,Lt,$e[me-1]),fe&&(2===Lt.calcKind||5===Lt.calcKind)&&(e.fF.assertValue(ee.aggregateCalcMetadata[Nt],"Grand Total AggregateMetadata is undefined"),o.A1.fillMetadataColumnAggregate(ir,wt[Nt]))}else e.fF.assertFail("Unexpected SelectKind");if(!Ut&&Lt.hasDuplicateColumnIndices)for(var Sr of ee.calcIdToColumnIndices[Nt]){var Or=qe[Sr];At[Or]||(At[Or]={value:ir,levelSourceIndex:Or})}},rr=0;rt.nextCalc();rr++)Kt();if(!Ee&&!Ut){Pt.levelValues=At,Pt.value=At[0].value,Pt.identity=ce.getIdentity();var Xt=rt.restartKind();Xt&&(1===Xt?Pt.restartKind=1:2===Xt?Pt.restartKind=2:3===Xt&&(Pt.restartKind=3),Pt.restartKind&&(e.fF.assertValue(Me,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),Pt.restartValues=Me.getRestartValues(rt)))}var cr=rt.intersections(),et=rt.members();if(cr)e.fF.assert(()=>null==et,"non-leaf node with intersections"),this.readIntersectionsValues(He,qe,se,Pt,cr);else if(et){if(e.fF.assert(()=>null==cr,"non-leaf node with intersections"),this.readNodeChildren(ee,He,qe,Te,Xe,Pt,et,me+1,re,se,Ae,$e,st),ve.isSynchronized&&!_.isEmpty(Pt.children)){var ht=Pt.children[0].synchronizationIndex;void 0!==ht&&(Pt.synchronizationIndex=ht)}}else 1===re&&se>1&&(me===Ae-1||Pt.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(Pt);return Pt}setScopeAggregateValue(ee,ve,Te,Xe){e.fF.assertValue(ee,"node"),e.fF.assert(()=>void 0!==ve,"calcValue"),e.fF.assertValue(Te,"calcInfo");var rt,He=Te.scopedAggregateCalcMetadata,qe=this.findDataViewNodeAggregates(ee,He.metadata);switch(Te.calcKind){case 7:rt=qe.values;break;case 8:rt=qe.highlight;break;default:e.fF.assertFail("Invalid Aggregate CalcInfo.")}switch(He.aggregateKind){case 2:rt.max=ve;break;case 3:rt.min=ve;break;case 6:rt.avg=ve;break;default:e.fF.assertFail("Unexpected DataViewAggregateKind.")}var me=He.metadata,Ee=Xe.aggregates;Ee?_.some(Ee,Re=>Re.column===me.column&&g.sameScopedAggregatesInputScope(Re.inputScope,me.inputScope)&&Re.respectInstanceFilters===me.respectInstanceFilters)||Ee.push(me):Xe.aggregates=[me]}findDataViewNodeAggregates(ee,ve){var Xe,Te=ee.aggregateValues;return Te?(Xe=_.find(Te,He=>{var qe=He.metadata;return qe.column===ve.column&&g.sameScopedAggregatesInputScope(qe.inputScope,ve.inputScope)&&qe.respectInstanceFilters===ve.respectInstanceFilters}))||Te.push(Xe={metadata:ve,values:{},highlight:{}}):ee.aggregateValues=[Xe={metadata:ve,values:{},highlight:{}}],Xe}readIntersectionsValues(ee,ve,Te,Xe,He){if(0!==Te)for(var qe=Xe.values={},rt=0;He.next();){for(var me=0;me<Te;me++){var Ee=qe[Te*rt+me]={};me>0&&(Ee.valueSourceIndex=me)}for(;He.nextCalc();){var fe=ee[He.calcId()];if(fe){var Re=ve[fe.columnIndex];e.fF.assertValue(Re,"Intersection calculation has no matching column index");var re=qe[Te*rt+Re];e.fF.assertValue(re,"nodeValue not found"),this.readNodeValueCalc(re,He.calcValue(),fe)}}rt++}}readNodeValueCalc(ee,ve,Te){switch(e.fF.assertValue(ee,"nodeValue"),e.fF.assert(()=>void 0!==ve,"calcValue"),e.fF.assertValue(Te,"calcInfo"),Te.calcKind){case 1:case 4:ee.value=ve,this.aggregator.update(ve,Te.selectIdx);break;case 2:case 5:ee.value=ve;break;case 3:case 6:case 9:ee.highlight=ve;break;case 7:case 8:case 10:break;default:e.fF.assertNever(Te.calcKind)}}createRowHierarchyForNoGroupings(ee){var ve={level:0,values:{}},Te={levels:[],root:{children:[ve]}};e.fF.assert(()=>1===ee.count(),"DSR with no groupings should have one DataMember"),ee.next();var Xe=ee.instances();return e.fF.assertValue(Xe,"instancesParser"),this.readNodeForNoGroupings(ve,Xe),Te}readNodeForNoGroupings(ee,ve){e.fF.assert(()=>1===ve.count(),"DSR with no groupings should have one Instance");var Te=this.context.calcInfo,Xe=this.columnIndexToZoneIndex;ve.next();for(var He=ee.values={};ve.nextCalc();){var rt=Te[ve.calcId()];if(rt){var me=Xe[rt.columnIndex],Ee=He[me];Ee||(Ee=He[me]={},me>0&&(Ee.valueSourceIndex=me)),this.readNodeValueCalc(Ee,ve.calcValue(),rt)}}}createColumnHierarchyForNoGroupings(){var ee=[],ve={};return this.valueSources.length>0&&(ee=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(ve)),{levels:ee,root:ve}}createColumnHierarchyMeasuresLevel(){for(var ee=this.valueSources.length,ve=new Array(ee),Te=0;Te<ee;Te++)ve[Te]=this.valueSources[Te];return{sources:ve}}createColumnHierarchyMeasuresNodes(ee){for(var ve=null==ee.level?0:this.context.maxSecondaryDepth,Te=this.valueSources.length,Xe=ee.children=new Array(Te),He=ee.isSubtotal,qe=0;qe<Te;qe++){var rt=Xe[qe]={level:ve};qe>0&&(rt.levelSourceIndex=qe),He&&(rt.isSubtotal=!0)}}readValueSources(ee){var ve=this,Te=this.context,Xe=Te.selects,He=Te.measureSelectIndices,qe=He.length,rt=Te.selectIndexToColumn,me=Te.selectIndexToColumnIndex,Ee=this.columnIndexToZoneIndex;e.fF.assertValue(He,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var fe={};if(ee.calcCount()>0){for(;ee.nextCalc();)fe[ee.calcId()]=!0;ee.restartCalcs()}for(var Re=function(){var se=He[re],Ae=Xe[se];e.fF.assert(()=>Ae.Kind===s.hk.Measure,"Expected a Measure Select"),e.fF.assertValue(Ae.Value,"Every Measure Select must have a Calc Id");var ce=me[se],Me=ve.measuresGroupingScopeBySelectIndex[se]=ve.getMeasureGroupingScope(Ae,fe[Ae.Value]);if(!Me)return 1;var pt,$e=Me.primary,st=Me.secondary;if($e===ve.context.maxPrimaryDepth&&st===ve.context.maxSecondaryDepth)pt=ve.valueSources;else{e.fF.assert(()=>0===st,"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),e.fF.assert(()=>$e<=ve.primaryHierarchyLevels.length,"Arbitrary-scope cannot be more specific than inner-most scope");var wt=ve.primaryHierarchyLevels[$e-1];wt.valueSources||(wt.valueSources={0:[]}),pt=wt.valueSources[0]}var Pt=rt[se];if(e.fF.assertValue(Pt,"Measure column not found"),Ee[ce]=pt.length,pt.push(Pt),Ae.DynamicFormat&&Ae.DynamicFormat.Format){var At=Pt.formatSource&&Pt.formatSource.formatString;e.fF.assertValue(At,"DynamicFormat column not found"),Ee[ce+1]=pt.length,pt.push(At)}},re=0;re<qe;re++)Re()}getMeasureGroupingScope(ee,ve){return null==ee.Depth&&null==ee.SecondaryDepth?ve?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=ee.Depth?ee.Depth+1:0,secondary:null!=ee.SecondaryDepth?ee.SecondaryDepth+1:0}}ensureRowNodeSynchronization(ee,ve){if(e.fF.assert(()=>!this.isRowLeaf(ee),"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(ee)){var Te=this.primarySynchronizedGroupByLevel[ve];if(Te)return void this.synchronizeNodeChildren(ee,Te.root);var Xe=ee.children;e.fF.assertNonEmpty(Xe,"Jagged hierarcy found!");var He=ve+1;for(var qe of Xe)this.ensureRowNodeSynchronization(qe,He)}}synchronizeNodeChildren(ee,ve){if(!this.isRowLeaf(ee)){var Te=ee.level+1,Xe=ve.children;if(_.isEmpty(Xe))return void this.ensureRowNodeSynchronization(ee,Te);var He=Xe.length,qe=ee.children||[],rt=new Array(He);ee.children=rt;var Ee,fe,me=0;Ee=me<qe.length?qe[me]:void 0,fe=Ee?.synchronizationIndex;for(var Re=0;Re<He;Re++){var re=Xe[Re],se=re.synchronizationIndex,Ae=this.copyFromMasterNode(re);Ae.level=Te,rt[Re]=Ae,Ee&&fe===se?(e.fF.assert(()=>Ee.level===Te,"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(Ee,Ae),this.synchronizeNodeChildren(Ae,re),me++,Ee=me<qe.length?qe[me]:void 0,fe=Ee?.synchronizationIndex):void 0===fe||se<fe?this.isRowLeaf(Ae)||(Ae.children=[],this.synchronizeNodeChildren(Ae,re)):e.fF.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}}copyFromMasterNode(ee){var ve={};if(ve.synchronizationIndex=ee.synchronizationIndex,ee.identity&&(ve.identity=ee.identity),void 0!==ee.value&&(ve.value=ee.value),void 0!==ee.isSubtotal&&(ve.isSubtotal=ee.isSubtotal),ee.levelValues){var Te=ee.levelValues.length;ve.levelValues=new Array(Te);for(var Xe=0;Xe<Te;Xe++){var He=ee.levelValues[Xe];ve.levelValues[Xe]={value:He.value,levelSourceIndex:He.levelSourceIndex}}}return void 0!==ee.restartKind&&(ve.restartKind=ee.restartKind),void 0!==ee.restartValues&&(ve.restartValues=ee.restartValues),ve}copyFromExistingNode(ee,ve){ee.aggregateValues&&(ve.aggregateValues=ee.aggregateValues),ee.values&&(ve.values=ee.values),ee.nodeValues&&(ve.nodeValues=ee.nodeValues),e.fF.assert(()=>!(_.isEmpty(ee.children)&&!_.isEmpty(ve.children)),"A non-leaf master node matches a leaf node"),ee.children&&(ve.children=ee.children),ee.childIdentityFields&&!ve.childIdentityFields&&(ve.childIdentityFields=ee.childIdentityFields)}isRowLeaf(ee){return!(ee.level!==this.context.maxPrimaryDepth-1&&!ee.isSubtotal||(e.fF.assert(()=>_.isEmpty(ee.children),"A leaf node should not have children"),0))}}class P{constructor(ee,ve){this.context=ee,this.dsrParser=ve,this.aggregator=new c(ee)}run(){return this.parseSingle()}parseSingle(){var ee=this.dsrParser;ee.reset();var ve=ee.dataShapes(),Te=ve.next();return e.fF.assert(()=>Te,"There must be a DataShape"),this.aggregator.read(ve,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(ve.primaryHierarchy()):this.parseSubtotal(ve.primaryHierarchy())}parseMeasureValue(ee){for(e.fF.assert(()=>1===ee.count(),"call parseMeasureValue only when there's one datamember with no grouping");ee.next();)return this.parseInstance(ee.instances())}parseSubtotal(ee){for(;ee.next();)if(2===this.context.dataMemberIdToMetadata[ee.id()].kind)return this.parseInstance(ee.instances())}parseInstance(ee){for(var Xe,He,ve=this.context,Te=ve.calcInfo;ee.next();)for(;ee.nextCalc();){var qe=ee.calcId(),rt=Te[qe];if(rt){var me=rt.calcKind,Ee=2===me;(1===me||Ee)&&(Xe=ee.calcValue(),He=rt.selectIdx,Ee&&(e.fF.assertValue(ve.aggregateCalcMetadata[qe],"AggregateCalcMetadata for calc must exist."),o.A1.fillMetadataColumnAggregate(Xe,ve.aggregateCalcMetadata[qe])))}}if(void 0!==Xe)return{column:ve.selectIndexToColumn[He],value:Xe}}static isCompatible(ee){return 0===ee.maxSecondaryDepth&&1===ee.measureSelectIndices.length}}class M{constructor(ee,ve,Te){this.context=ee,this.dsrParser=ve,this.metadata=Te,e.fF.assertValue(ee,"context"),e.fF.assertValue(ve,"dsrParser"),e.fF.assertValue(Te,"metadata"),this.aggregator=new c(ee)}run(){if(this.isCompatible()){var ve={columns:this.metadata.columns},Te=this.dsrParser;Te.reset();var Xe=Te.dataShapes(),He=Xe.next();e.fF.assert(()=>He,"There must be a DataShape");var qe=this.aggregator;qe.read(Xe);var rt=Xe.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(ve,rt):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(ve,rt):e.fF.assert(()=>!1,"Upsupported maxPrimaryDepth value"),qe.copyToColumns(),ve}}readRows(ee,ve){var Xe,qe,Te=this.context,He=this.getRowCellsCount(ve);for(ve.reset();ve.next();){var rt=ve.id(),me=Te.dataMemberIdToMetadata[rt];if(me){var Ee=me.kind,fe=ve.instances(),Re=[];if(1===Ee){var re=Te.dataMemberIdToIdentityBuilder[rt];re||(re=Te.dataMemberIdToIdentityBuilder[rt]=new n(Te,rt));var se=me.axisGrouping,Ae=fe.count();Xe=new Array(Ae);for(var ce=new Array(Ae),Me=0;fe.next();Me++)1===fe.restartFlagKind()&&(qe=Me),re.reset(),Xe[Me]=this.readRow(fe,se,Re,He,re,!1),ce[Me]=re.getIdentity();_.isEmpty(ce)||(ee.identity=ce),ee.identityFields=re.getIdentityFields()}else if(2===Ee){if(0===He)continue;for(;fe.next();){e.fF.assert(()=>null==ee.totals,"Totals can only be assigned once.");for(var $e=this.readRow(fe,null,Re,He,null,!0),st=$e.length,pt=0;pt<st;pt++)void 0===$e[pt]&&($e[pt]=null);ee.totals=$e}}else e.fF.assert(()=>!1,"Unsupported DataMemberKind");ee.rows=Xe,void 0!==qe&&(ee.lastMergeIndex=qe)}}}readRow(ee,ve,Te,Xe,He,qe){var Ee,rt=this.aggregator,me=new Array(Xe),fe=0===Te.length;fe&&ve&&(e.fF.assert(()=>ee.calcCount()>0,"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),Ee=this.createCalcIdToGroupingIdentityIndexMap(ve),Te.length=ee.calcCount());for(var Re=this.context,re=Re.aggregateCalcMetadata,se=0;ee.nextCalc();se++){var Ae=ee.calcId();if(fe){var ce=Ee&&Ee[Ae],Me=Re.calcInfo[Ae],$e=Me&&Me.columnIndex;Me&&(3===Me.calcKind||6===Me.calcKind||9===Me.calcKind)&&($e=null),Te[se]={axisGroupingIndex:ce,columnIndex:$e,hasDuplicateColumnIndices:Me&&Me.hasDuplicateColumnIndices,isGroupKeyOnly:null!=ce&&null==$e,selectIndex:Me&&Me.selectIdx,aggregateMetadata:re[Ae]}}var pt=Te[se];if(null!=pt.columnIndex){var wt=ee.calcValue();if(me[pt.columnIndex]=wt,qe?o.A1.fillMetadataColumnAggregate(wt,pt.aggregateMetadata):rt.update(wt,pt.selectIndex),pt.hasDuplicateColumnIndices)for(var Pt of Re.calcIdToColumnIndices[Ae])void 0===me[Pt]&&(me[Pt]=wt)}He&&He.addExpr(Ae,ee.calcValueAsExpr())}return me}readRowWithoutGrouping(ee,ve){if(e.fF.assert(()=>ve.count()<=1,"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),ve.next()){var Te=ve.instances(),Xe=[];if(e.fF.assert(()=>Te.count()<=1,"There must be maximum one DataMemberInstance since there is no grouping."),Te.next()){for(var He=[];Te.nextCalc();){var qe=Te.calcId(),rt=this.context.calcInfo[qe];rt&&3!==rt.calcKind&&(He[rt.columnIndex]=Te.calcValue())}Xe.push(He)}ee.rows=Xe}}getRowCellsCount(ee){for(ee.reset();ee.next();){var ve=ee.id(),Te=this.context.dataMemberIdToMetadata[ve];if(Te&&1===Te.kind){var Xe=ee.instances();if(Xe.next()){for(var He=0;Xe.nextCalc();){var qe=Xe.calcId(),rt=this.context.calcInfo[qe];rt&&(1===rt.calcKind||2===rt.calcKind)&&(rt.hasDuplicateColumnIndices?He+=_.size(this.context.calcIdToColumnIndices[qe]):He++)}return He}}}return 0}createCalcIdToGroupingIdentityIndexMap(ee){for(var ve={},Te=ee.Keys,Xe=this.context.selects,He=Te.length,qe=0;qe<He;qe++){var rt=Te[qe];ve[rt.Calc||Xe[rt.Select].Value]=qe}return ve}isCompatible(){var ee=this.context;return 0===ee.maxSecondaryDepth&&ee.maxPrimaryDepth<=1}}class w{constructor(ee,ve){this.context=ee,this.dsrParser=ve,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new c(ee)}run(){if(this.isCompatible()){var ee={};return this.parseTree(ee),{root:ee}}}parseTree(ee){var ve=this.dsrParser;ve.reset();var Te=ve.dataShapes(),Xe=Te.next();e.fF.assert(()=>Xe,"There must be a DataShape");var He=this.context.maxPrimaryDepth;this.aggregator.read(Te,1===He),0===He?this.parseDataMembersWithNoGrouping(ee,Te.primaryHierarchy()):this.parseDataMembers(ee,Te.primaryHierarchy(),0),this.parseAggregates(ee)}parseDataMembers(ee,ve,Te){for(;ve.next();){var Xe=this.context,He=ve.id(),qe=Xe.dataMemberIdToMetadata[He];if(qe){var rt=ve.instances(),me=this.calcIndexToCalcMetadataDictionary[He];switch(me||(this.calcIndexToCalcMetadataDictionary[He]=me=[]),qe.kind){case 1:var Ee=Xe.dataMemberIdToIdentityBuilder[He];Ee||(Ee=new n(Xe,He),Xe.dataMemberIdToIdentityBuilder[He]=Ee);var fe=Ee.getIdentityFields();fe&&(ee.childIdentityFields=fe),this.parseInstances(ee,rt,me,Ee,!1,Te);break;case 2:this.parseInstances(ee,rt,me,null,!0,Te);break;default:e.fF.assert(()=>!1,"Unsupported DataMemberKind")}}}}parseInstances(ee,ve,Te,Xe,He,qe){var rt=this,me=this.context,Ee=this.aggregator,fe=me.aggregateCalcMetadata,Re=ee.children;for(He||(e.fF.assertValue(Xe,"identityBuilder"),!Re&&ve.count()>0&&(Re=ee.children=new Array(ve.count())));ve.next();){var re=void 0,se=void 0,Ae=void 0;He||Xe.reset();var ce=0===Te.length;ce&&(Te.length=ve.calcCount());for(var Me=function(){He&&(re=ee.values),re||(re={});var wt=ve.calcId();ce&&(Te[$e]=me.calcInfo[wt]);var At=Te[$e];if(!At)return 1;var Ut=ve.calcValue(),Kt=At.calcKind,Qt=At.kind,rr=At.selectIdx;if(He)e.fF.assert(()=>Qt!==s.hk.Group,"subtotal cannot be of grouping kind."),rt.addTreeNodeMeasureValues(re,rr,Kt,Ut),0===qe&&o.A1.fillMetadataColumnAggregate(Ut,fe[wt]);else{var Xt=At.isGroupKeyButNotSelect;Xt||rt.addTreeNodeMeasureValues(re,rr,Kt,Ut),Qt===s.hk.Group?(Xt||(Ae=Ut),Xe.addExpr(wt,ve.calcValueAsExpr())):Qt===s.hk.Measure&&1===Kt&&(se=Ut,e.fF.assertValue(rr,"selectIndex"),Ee.update(Ut,rr))}},$e=0;ve.nextCalc();$e++)Me();if(He)ee.values=re,1===ve.restartFlagKind()&&(ee.isMerge=!0);else{var st={values:re,identity:Xe.getIdentity()};void 0!==Ae&&(st.name=Ae),void 0!==se&&(st.value=se),1===ve.restartFlagKind()&&(st.isMerge=!0);var pt=ve.members();pt&&this.parseDataMembers(st,pt,qe+1),Re[ve.currentIndex()]=st}}}addTreeNodeMeasureValues(ee,ve,Te,Xe){e.fF.assertValue(ve,"selectIndex");var He=ee[ve];switch(!He&&this.isSupportedMeasureType(Te)&&(He=ee[ve]={}),Te){case 1:He.value=Xe;break;case 2:He.subtotal=Xe;break;case 3:He.highlight=Xe}}isSupportedMeasureType(ee){return 1===ee||2===ee||3===ee}parseDataMembersWithNoGrouping(ee,ve){e.fF.assert(()=>1===ve.count(),"There can only be one datamember with no grouping"),ve.next();var Te=ve.instances();e.fF.assert(()=>1===Te.count(),"There can only be one instance for datamember with no grouping"),Te.next();for(var Xe,He=this.context.calcInfo;Te.nextCalc();){ee.values||(ee.values=Xe={});var qe=He[Te.calcId()];if(qe){var rt=qe.calcKind,me=Te.calcValue();this.addTreeNodeMeasureValues(Xe,qe.selectIdx,rt,me),1===rt&&(ee.value=me)}}}isCompatible(){return 0===_.size(this.context.secondaryAxisGroupings)}parseAggregates(ee){var ve=this.context;this.aggregator.copyToColumns();for(var Te=ve.measureSelectIndices,Xe=Te.length,He=0;He<Xe;He++){var qe=Te[He],rt=ve.selectIndexToColumn[qe].aggregates,me=ee.values;if(rt){me||(me=ee.values={});var Ee=me[qe];Ee||(Ee=me[qe]={}),o.A1.copyAggregates(rt,Ee)}}}}var x=r(801148),N=r(154690),I=r(69578);function W(ze,ee){var ve=[],Te={};for(var Xe of ze){var He={id:Xe.Id,name:Xe.Name,component:Xe.Component,pageHidden:void 0,start:(0,I.Kk)(Xe.Start).valueOf(),end:Xe.End?(0,I.Kk)(Xe.End).valueOf():void 0,metrics:Xe.Metrics,status:1,rootId:ee,parentId:Xe.ParentId};Xe.ParentId?(Te[Xe.ParentId]||(Te[Xe.ParentId]=[]),Te[Xe.ParentId].push(He)):ve.push(He)}return O(ve,Te),ve}function O(ze,ee){for(var ve of ze)ee[ve.id]&&(ve.children=ee[ve.id],O(ve.children,ee))}var F=r(492156),A=r(179962),T=r(999634),R=r(273294);function z(ze,ee){if(ze.metadata.dataReduction={},ze.categorical){var ve=ze.metadata.dataReduction.categorical={};ee.Primary&&(ve.categories=j(ee.Primary)),ee.Secondary&&(ve.values=j(ee.Secondary)),ee.Intersection&&(ve.metadata=j(ee.Intersection))}if(ze.matrix){var Te=ze.metadata.dataReduction.matrix={};ee.Primary&&(Te.rows=j(ee.Primary))}}function j(ze){switch(ze.Type){case 3:return{binnedLineSample:{}};case 4:return{overlappingPointsSample:{}};default:return{}}}function q(ze,ee){e.fF.assertValue(ze,"node");var ve=ze.values;ve||(ve=ze.values={});var Te=ve[ee];return Te||(Te=ve[ee]={}),Te}function J(ze,ee,ve,Te){e.fF.assertValue(ze,"context"),e.fF.assertValue(ve,"dataShape"),e.fF.assertValue(Te,"metadata"),e.fF.assert(()=>ze.includes(2),"context.includes(StandardDataViewKinds.Matrix)");var Xe=(0,t.BL)(`DSR.matrix(${ze.perfId})`),He=[],qe=[],rt=[];!function(ze,ee,ve,Te,Xe){e.fF.assertValue(Xe,"metadataColumns");for(var He=ze.selects,qe=0,rt=He.length;qe<rt;qe++){var me=He[qe];if(me){var Ee=Q(ze,Xe,qe);if(me.Kind===s.hk.Measure)Te.push(Ee);else if(null!=me.Depth){var fe=ee[me.Depth];null!=fe?fe.sources.push(Ee):ee[me.Depth]=Z([Ee])}else if(null!=me.SecondaryDepth){var Re=ve[me.SecondaryDepth];null!=Re?Re.sources.push(Ee):ve[me.SecondaryDepth]=Z([Ee])}me.DynamicFormat&&me.DynamicFormat.Format&&(e.fF.assertValue(Ee.formatSource&&Ee.formatSource.formatString,"metadataColumn.formatSource.formatString"),Te.push(Ee.formatSource.formatString))}}var re=Te.length;(re>1||re>0&&(0===ee.length||0===ve.length))&&ve.push(Z(Te))}(ze,He,qe,rt,Te.columns);var me=[],Ee=function(ze,ee,ve,Te,Xe,He){if(!Xe.SecondaryHierarchy||0===Xe.SecondaryHierarchy.length){var qe={};return Ge(qe,ve,0,!1),qe}var rt;Te&&Te.Secondary&&(rt=Te.Secondary.Groupings);var me=ye(ze,ee,Xe.SecondaryHierarchy,rt,(Ee,fe,Re,re,se)=>{if(se<ee.length)if(re.isSubtotal){var Ae=ee.length-1,ce=ee[Ae].sources.length;ce>1&&Ge(re,ce,Ae,!0)}else e.fF.assert(()=>se===ee.length-1,"We only support one extra level in the column hierarchy (for measures)"),Ge(re,ee[se].sources.length,se,!1);He.push(Se(re)),ze.stats.secondary++});return me}(ze,qe,rt.length,ee,ve,me),fe=function(ze,ee,ve,Te,Xe){if(Te.PrimaryHierarchy&&0!==Te.PrimaryHierarchy.length){var He;ve&&ve.Primary&&(He=ve.Primary.Groupings);var qe=0,rt=0;ve&&(qe=Ke(ve.Primary),rt=Ke(ve.Secondary));var me=_.filter(ze.selects,fe=>fe&&fe.Kind===s.hk.Measure),Ee=ye(ze,ee,Te.PrimaryHierarchy,He,(fe,Re,re,se,Ae)=>{(function(ze,ee,ve,Te,Xe,He,qe){e.fF.assertValue(ve,"instance"),e.fF.assertValue(Te,"node"),e.fF.assertValue(Xe,"intersectionToSecondaryAggIdx");var rt=ve.Intersections,me={index:0};if(rt)for(var Ee=0,fe=rt.length;Ee<fe;Ee++)rt[Ee].Calculations&&Ve(ze,ee,rt[Ee].Calculations,Te,me,Xe[Ee],He,qe);else Ve(ze,ee,ve.Calculations,Te,me,0,He,qe)})(Re,me,re,se,Xe,qe,rt),fe.stats.primary++});return Ee}}(ze,He,ee,ve,me),se={rows:{root:fe,levels:He},columns:{root:Ee,levels:qe},valueSources:rt};return Xe(),se}function Z(ze){e.fF.assertValue(ze,"metadataColumns");for(var ee={sources:[]},ve=0,Te=ze.length;ve<Te;ve++)ee.sources.push(ze[ve]);return ee}function Q(ze,ee,ve){e.fF.assertValue(ee,"metadataColumns");for(var Te=0,Xe=ee.length;Te<Xe;Te++){var He=ee[Te];if(He&&He.index===ve&&void 0===He.groupName)return He}return ze.createColumns(ee,ve)}function Se(ze){return e.fF.assertValue(ze,"node"),ze.isSubtotal?ze.level:ze.level+1}function Ke(ze){return e.fF.assertAnyValue(ze,"axis"),ze&&ze.Groupings?ze.Groupings.length:0}function Ge(ze,ee,ve,Te){ze.children=[];for(var Xe=0;Xe<ee;Xe++){var He={level:ve};Xe>0&&(He.levelSourceIndex=Xe),ze.children.push(He),Te&&(He.isSubtotal=!0)}}function ye(ze,ee,ve,Te,Xe){e.fF.assertValue(ze,"context");var He={};return we(ze,ee,He,ve,Te,0,Xe),He}function we(ze,ee,ve,Te,Xe,He,qe){if(e.fF.assertValue(ze,"context"),e.fF.assertValue(ve,"node"),e.fF.assertValue(He,"depth"),Te)for(var rt=ze.selects,me=function(ze,ee){e.fF.assertAnyValue(ze,"levelSources"),e.fF.assertValue(ee,"depth");var ve=[],Te=ze&&ze[ee]&&ze[ee].sources;if(!_.isEmpty(Te))for(var Xe=0,He=Te.length;Xe<He;Xe++){var qe=Te[Xe];e.fF.assertValue(qe.index,"pre-condition: sourceMetadataColumn.index is defined"),ve[qe.index]=Xe}return ve}(ee,He),Ee=0,fe=Te.length;Ee<fe;Ee++)for(var Re=Te[Ee],re=0,se=0,Ae=Re.Instances.length;se<Ae;se++){var ce=Re.Instances[se];if(0===re&&4===(re=Pe(rt,Xe,He,Re,ce)))break;var Me={level:He};if(ve.children||(ve.children=[]),ve.children.push(Me),1===re){var $e=de(rt,ce.Calculations,me);if(!_.isEmpty($e)){Me.levelValues=$e;var st=_.last($e);Me.value=st.value,st.levelSourceIndex>0&&(Me.levelSourceIndex=st.levelSourceIndex)}}else 3===re&&(Me.isSubtotal=!0);ce.RestartFlag&&1===ce.RestartFlag&&(Me.isMerge=!0),Xe&&1===re&&(ve.childIdentityFields=ze.readKeys(Xe,He),Me.identity=ze.readIdentity(Xe,ce,He));var pt=ce.Members;pt&&pt.length>0?we(ze,ee,Me,pt,Xe,He+1,qe):qe&&qe(ze,re,ce,Me,He+1)}}function de(ze,ee,ve){e.fF.assertValue(ze,"selects"),e.fF.assertValue(ee,"calculations"),e.fF.assertNonEmpty(ve,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var Te,Xe=0,He=ze.length;Xe<He;Xe++){var qe=ze[Xe];if(qe&&qe.Value&&qe.Kind===s.hk.Group){var rt=o.A1.findAndParseCalculation(ee,qe.Value);void 0!==rt&&(Te||(Te=[]),Te.push({levelSourceIndex:ve[Xe],value:rt}))}}return Te}function Pe(ze,ee,ve,Te,Xe){if(e.fF.assertValue(ze,"selects"),e.fF.assertValue(Te,"member"),ee&&ee.length>ve&&null!=Te.Id){var He=ee[ve];if(Te.Id===He.Member)return 1;if(Te.Id===He.SubtotalMember)return 3}var qe=Xe.Calculations;if(qe){for(var rt=!1,me=0,Ee=ze.length;me<Ee;me++){var fe=ze[me];if(fe&&o.A1.findCalculation(qe,fe.Value)){if(fe.Kind===s.hk.Group)return 1;!rt&&fe.Kind===s.hk.Measure&&(rt=!0)}}if(rt)return 2}return 4}function Ve(ze,ee,ve,Te,Xe,He,qe,rt){if(e.fF.assertValue(ee,"selects"),e.fF.assertValue(Te,"node"),ve)for(var me={index:0},Ee=function(){var re=ee[fe];e.fF.assert(()=>re.Kind===s.hk.Measure,"measureSelects is expected to have measure select bindings only");var se=re.Highlight,ce=se&&se.DynamicFormat&&se.DynamicFormat.Format;if(Ze(ze,ve,Te,Xe,me,He,qe,rt,0,re.Value,se&&se.Value,re.Subtotal),re.DynamicFormat&&re.DynamicFormat.Format){var Me=_.map(re.SubtotalDynamicFormat,$e=>$e&&$e.Format);Ze(ze,ve,Te,Xe,me,He,qe,rt,0,re.DynamicFormat.Format,ce,Me)}},fe=0,Re=ee.length;fe<Re;fe++)Ee()}function Ze(ze,ee,ve,Te,Xe,He,qe,rt,me,Ee,fe,Re){e.fF.assertValue(Xe,"measureIndex");var re=q(ve,Te.index),se=null;if(3!==ze&&(se=o.A1.findAndParseCalculation(ee,Ee)),null==se){var ce=function(ze,ee,ve,Te,Xe,He){if(ee){var qe=o.A1.computeAggIdx(ve,Te,Xe,He);if(qe<ee.length)return o.A1.findAndParseCalculation(ze,ee[qe])}}(ee,Re,Se(ve),He,qe,rt);void 0!==ce&&(se=ce)}fe&&(re.highlight=o.A1.findAndParseCalculation(ee,fe)),re.value=se,Xe.index>0&&(re.valueSourceIndex=Xe.index),Te.index++,Xe.index++}class De{constructor(ee){e.fF.assertValue(ee,"context"),this._context=ee}read(ee,ve,Te){e.fF.assertValue(ve,"dataShape");var Xe={metadata:{columns:[]}};return Te.script=(0,t.zb)(()=>{if(ve.PrimaryHierarchy&&ve.PrimaryHierarchy.length>0){var He=ve.PrimaryHierarchy[0];if(He&&He.Instances.length>0){var Ee=o.A1.findCalculation(He.Instances[0].Calculations,this._context.scriptVisualBinding.PayloadCalculationId||this._context.scriptVisualBinding.ImageCalculationId);if(Ee){var Re=(0,T.K0)(Ee.Value);Re&&(Xe.scriptResult={payloadBase64:Re})}}}}),Xe}}class ue{constructor(ee){e.fF.assertValue(ee,"context"),this.context=ee}read(ee,ve,Te){e.fF.assertValue(ve,"dataShape");var Xe=this.context,He=this.readMetadata(ve.IsComplete),qe={metadata:He},rt=Xe.includes(16),me=Xe.includes(1),Ee=Xe.includes(4),fe=Xe.includes(8);if(rt||me||Ee||fe){var Re,re=(0,t.zb)(()=>{Re=this.parseTree(He.columns,ee,ve),e.fF.assertValue(Re,"root")});rt&&(Te.tree=re+(0,t.zb)(()=>{var se=this.createTree(He,Re);se&&(qe.tree=se)})),me&&(Te.categorical=re+(0,t.zb)(()=>{var se=this.categorize(He,Re);se&&(qe.categorical=se)})),Ee&&(Te.single=re+(0,t.zb)(()=>{var se=this.createSingleValue(He,Re);se&&(qe.single=se)})),fe&&(Te.table=re+(0,t.zb)(()=>{var se=this.createTable(He,Re);se&&(qe.table=se)}))}return Xe.includes(2)&&(Te.matrix=(0,t.zb)(()=>{var se=J(this.context,ee,ve,qe.metadata);se&&(qe.matrix=se)})),qe}readMetadata(ee){for(var ve={columns:[]},Te=this.context,Xe=Te.selects,He=0,qe=Xe.length;He<qe;He++)Xe[He]?Te.createColumns(ve.columns,He):Te.actionHistory|=1;return ee||(ve.segment={}),ve}parseTree(ee,ve,Te){var Xe=(0,t.BL)(`DSR.tree(${this.context.perfId})`),He={},qe=this.context.selects;this.parseRootAggregates(ee,He);var rt=o.A1.getTopLevelPrimaryDynamicMember(Te,ve,!0);if(rt){var Ee,me=Te.PrimaryHierarchy[0];rt!==me&&this.parseValues(qe,He,ue.getFirstInstanceCalcs(me)),ve&&ve.Primary&&(Ee=ve.Primary.Groupings),this.parseRecursive(He,rt,Ee,0,ee)}else _.isEmpty(Te.PrimaryHierarchy)||this.parseValues(qe,He,ue.getFirstInstanceCalcs(Te.PrimaryHierarchy[0]));return Xe(),He}parseRecursive(ee,ve,Te,Xe,He){e.fF.assertValue(ee,"node"),e.fF.assertValue(ve,"dynamicMember"),e.fF.assertValue(Xe,"depth"),e.fF.assertAnyValue(He,"columns");var Ee,qe=this.context,rt=ve.Instances,me=rt.length;me&&(ee.children=[],0===Xe&&(Ee=tt.create(ee,qe))),Te&&(ee.childIdentityFields=qe.readKeys(Te,Xe));for(var fe=0;fe<me;fe++){var Re=rt[fe],re={};ee.children.push(re),Re.RestartFlag&&1===Re.RestartFlag&&(re.isMerge=!0),this.parseValues(qe.selects,re,Re.Calculations,Ee),Te&&(re.identity=qe.readIdentity(Te,Re,Xe));var se=Re.Members;if(this.parseAggregates(qe.selects,re,Re.Calculations,se,Xe+1),!_.isEmpty(se)){var Ae=o.A1.getDynamicMember(se,Te,Xe+1);Ae&&this.parseRecursive(re,Ae,Te,Xe+1)}}Ee&&Ee.complete(He)}static getFirstInstanceCalcs(ee){e.fF.assertValue(ee,"member");var ve=ee.Instances;return ve.length>0?ve[0].Calculations:null}parseRootAggregates(ee,ve){e.fF.assertValue(ee,"columns"),e.fF.assertValue(ve,"node");for(var Te=0,Xe=ee.length;Te<Xe;Te++){var qe=ee[Te].aggregates;qe&&o.A1.copyAggregates(qe,q(ve,Te))}}parseAggregates(ee,ve,Te,Xe,He){e.fF.assertValue(ee,"selects"),e.fF.assertValue(ve,"node"),e.fF.assertAnyValue(Te,"calculations"),e.fF.assertAnyValue(Xe,"allMembers");for(var qe=0,rt=ee.length;qe<rt;qe++){var me=ee[qe];if(me){var Ee=at(me,Te,Xe,He);Ee&&o.A1.copyAggregates(Ee,q(ve,this.context.selectIndexToColumnIndexMap[qe]))}}}parseValues(ee,ve,Te,Xe){if(e.fF.assertValue(ee,"selects"),e.fF.assertValue(ve,"node"),e.fF.assertAnyValue(Te,"calculations"),!_.isEmpty(Te))for(var He=0,qe=0,rt=ee.length;He<rt;He++){var me=ee[He];if(me){if(me.Value){var Ee=o.A1.findAndParseCalculation(Te,me.Value);void 0!==Ee&&(me.Kind===s.hk.Group?ve.name=Ee:(ve.value=Ee,Xe&&Xe.add(qe,Ee)),q(ve,qe).value=Ee)}if(me.Highlight){var fe=o.A1.findAndParseCalculation(Te,me.Highlight.Value);void 0!==fe&&(q(ve,qe).highlight=fe)}if(qe++,me.DynamicFormat&&me.DynamicFormat.Format){var Re=o.A1.findAndParseCalculation(Te,me.DynamicFormat.Format);q(ve,qe).value=Re,qe++}}}}categorize(ee,ve){if(e.fF.assertValue(ee,"metadata"),!this.canCategorize())return null;for(var He,Te=(0,t.BL)(`DSR.categorical(${this.context.perfId})`),Xe={},qe=0,rt=ee.columns.length;qe<rt;qe++){var me=ee.columns[qe];if(void 0!==me.index){if(!me.isMeasure){He||(He=[]),He.push({columnIndex:qe,metadataColumn:me});continue}var Ee={source:me,values:[]},fe=me.aggregates;fe&&o.A1.copyAggregates(fe,Ee),Xe.values||(Xe.values=(0,i.Yv)()),Xe.values.push(Ee)}}if(He){Xe.categories=[];for(var Re,re=0,se=He.length;re<se;re++){var Ae=He[re],ce=ve.children,Me={source:Ae.metadataColumn,values:[]};if(ce)for(var $e=0,st=ce.length;$e<st;$e++){var pt=ce[$e];Me.values.push(pt.values[Ae.columnIndex].value),0===re&&(this.writeCategoricalValues(ee,pt,Xe.values),pt.identity&&(Re||(Re=[]),Re.push(pt.identity))),pt.isMerge&&(Xe.lastMergeIndex=$e)}Re&&(Me.identity=Re),ve.childIdentityFields&&(Me.identityFields=ve.childIdentityFields),Xe.categories.push(Me)}}else this.writeCategoricalValues(ee,ve,Xe.values);return Te(),Xe}canCategorize(){for(var ve=this.context.selects,Te=0,Xe=ve.length;Te<Xe;Te++){var He=ve[Te];if(He&&He.Depth>0)return!1}return!0}createTree(ee,ve){var Te=this.context;if(!(2&Te.actionHistory||1&Te.actionHistory))return{root:ve};var Xe=(0,m.ED)(ve),He=ee.columns,qe=ve.values;if(qe){for(var rt={},me=0;me<He.length;me++){var Ee=He[me];void 0!==Ee.index&&void 0!==qe[me]&&(rt[Ee.index]=qe[me])}Xe.values=rt}var fe=ve.children;return fe&&(Xe.children=this.removeFormatSourceFromTreeChildren(He,fe)),{root:Xe}}removeFormatSourceFromTreeChildren(ee,ve){for(var Te=ve.length,Xe=_.map(ve,Re=>Re),He=0;He<Te;He++){var qe=(0,m.ED)(Xe[He]);Xe[He]=qe;for(var rt={},me=0;me<ee.length;me++){var Ee=ee[me];void 0!==Ee.index&&void 0!==Xe[He].values[me]&&(rt[Ee.index]=Xe[He].values[me])}Xe[He].values=rt;var fe=Xe[He].children;fe&&(Xe[He].children=this.removeFormatSourceFromTreeChildren(ee,fe))}return Xe}createTable(ee,ve){e.fF.assertValue(ee,"metadata");for(var Te,Xe=this.context.selects,He=0,qe=Xe.length;He<qe;He++)if(Xe[He]){var me=Xe[He].Depth;me>=0&&(Te=Math.max(me,Te||0))}if(Te>0)return null;var fe,se,Ee=(0,t.BL)(`DSR.table(${this.context.perfId})`),Re=[],re=ee.columns.length;if(Te>=0){var Ae=ve.children;if(Ae)for(var ce=0,Me=Ae.length;ce<Me;ce++){var $e=Ae[ce];this.toTableRow($e,re,Re),$e.isMerge&&(fe=ce),$e.identity&&(se||(se=[]),se.push($e.identity))}}else e.fF.assert(()=>0===(0,A.Hy)(ee.columns),"groups.length=0"),this.toTableRow(ve,re,Re);var st=this.toTotals(ve,re),pt={rows:Re,columns:ee.columns};return se&&(pt.identity=se),ve.childIdentityFields&&(pt.identityFields=ve.childIdentityFields),st&&(pt.totals=st),fe>=0&&(pt.lastMergeIndex=fe),Ee(),pt}toTableRow(ee,ve,Te){for(var Xe=[],He=0;He<ve;He++){var qe=ee.values[He];qe&&Xe.push(qe.value)}Te.push(Xe)}toTotals(ee,ve){var Te=[],Xe=ee.values,He=!1;if(Xe)for(var qe=0;qe<ve;qe++){var rt=Xe[qe],me=rt?rt.subtotal:null;He=He||null!=me,Te.push(me)}return He?Te:null}writeCategoricalValues(ee,ve,Te){for(var Xe=ee.columns,He=0,qe=0,rt=Xe.length;qe<rt;qe++){var me=Xe[qe];if(me.isMeasure&&void 0!==me.index){var Ee=ve.values[qe];if(Ee){var fe=Te[He++];fe.values.push(Ee.value),void 0!==Ee.highlight&&(fe.highlights||(fe.highlights=[]),fe.highlights.push(Ee.highlight))}}}}createSingleValue(ee,ve){if(e.fF.assertValue(ee,"metadata"),e.fF.assertValue(ve,"root"),ve.values){for(var He,Te=ee.columns,Xe=null,qe=0,rt=Te.length;qe<rt;qe++)if(Te[qe].isMeasure&&null!=Te[qe].index){if(Xe)return null;Xe=Te[qe],He=qe}if(!Xe)return null;var me=ve.values[He];if(!me)return null;var Ee=0===(0,A.Hy)(ee.columns)?me.value:me.subtotal;return void 0===Ee?null:{column:Xe,value:Ee}}return null}}class _e{constructor(ee){e.fF.assertValue(ee,"context"),this._context=ee,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}read(ee,ve,Te){e.fF.assertValue(ve,"dataShape");var Xe=this._context,He={metadata:this.readMetadata(ve.IsComplete)};return Xe.includes(1)&&(Te.categorical=(0,t.zb)(()=>{var qe=this.categorize(ve,He.metadata,ee);qe&&(He.categorical=qe)})),Xe.includes(2)&&(Te.matrix=(0,t.zb)(()=>{var qe=J(this._context,ee,ve,He.metadata);qe&&(He.matrix=qe)})),He}readMetadata(ee){for(var ve=this,Te={columns:[]},Xe=this._context,He=Xe.selects,qe=function(){var fe=He[me];if(!fe)return 0;if(fe.Kind===s.hk.Measure)return 0===fe.Depth?ve._primaryMeasureSelects.push(fe):ve._measureSelects.push(fe),0;e.fF.assert(()=>fe.Kind===s.hk.Group,"Unexpected Select.Kind");var Re=Xe.createColumns(Te.columns,me);fe.SecondaryDepth>=0?(ve._secondarySelects.push(fe),ve._secondaryDepth=Math.max(ve._secondaryDepth||0,fe.SecondaryDepth),ve._seriesColumn=Re):0===fe.Depth&&ve._categoriesMetadata.push({select:fe,column:Re})},me=0,Ee=He.length;me<Ee;me++)qe();return ee||(Te.segment={}),Te}categorize(ee,ve,Te){if(e.fF.assertValue(ee,"dataShape"),e.fF.assertValue(ve,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var He,qe,Xe=(0,t.BL)(`DSR.categorical(${this._context.perfId}, secondary)`);Te&&(Te.Primary&&(He=Te.Primary.Groupings),Te.Secondary&&(qe=Te.Secondary.Groupings));var rt=o.A1.getTopLevelSecondaryDynamicMember(ee,Te),me=this.readColumnsFromSecondary(rt,ve,qe,ee.Calculations),Ee=o.A1.getTopLevelPrimaryDynamicMember(ee,Te),fe=this.readCategoriesAndValues(Ee,ve,me,He),Re={categories:fe.categories,values:me};return void 0!==fe.lastMergeIndex&&(Re.lastMergeIndex=fe.lastMergeIndex),Xe(),Re}readColumnsFromSecondary(ee,ve,Te,Xe){e.fF.assertValue(ee,"secondaryMember"),e.fF.assertValue(ve,"metadata");var He,qe=this._context;Te&&(He=qe.readKeys(Te,0));var rt=[],me=qe.selects,Ee=this._measureSelects.length,fe=[],Re=ee.Instances,re=Re.length;if(re)for(var se=0;se<re;se++){var Ae=Re[se],ce=Ae.Calculations,Me=void 0;Te&&(Me=qe.readIdentity(Te,Ae,0));for(var $e=0,st=this._secondarySelects.length;$e<st;$e++){for(var wt=o.A1.findAndParseCalculation(ce,this._secondarySelects[$e].Value),Pt=[],At=0;At<Ee;At++){var Ut=this._measureSelects[At],Kt=me.indexOf(Ut),Qt=qe.createColumns(ve.columns,Kt,!0);void 0!==wt&&(Qt.groupName=wt);var rr={source:Qt,values:[]};Me&&(rr.identity=Me),this.addColumnAggregates(Xe,Ut,rr),rt.push(rr),Pt.push(rr)}fe.push({identity:Me,name:wt,values:Pt})}}else{for(var Xt=0;Xt<Ee;Xt++){var cr=this._measureSelects[Xt],et=me.indexOf(cr),Nt={source:qe.createColumns(ve.columns,et),values:[]};this.addColumnAggregates(Xe,cr,Nt),rt.push(Nt)}fe.push({values:[...rt||[]]})}for(var Lt=0,Qe=this._primaryMeasureSelects.length;Lt<Qe;Lt++){var Rt=me.indexOf(this._primaryMeasureSelects[Lt]),Gt=qe.createColumns(ve.columns,Rt);rt.push({source:Gt,values:[]})}He&&(rt.identityFields=He);var Ht=this._seriesColumn;return Ht&&(rt.source=Ht),rt.grouped=()=>fe,rt}addColumnAggregates(ee,ve,Te){ee&&(ve.Max&&(Te.max=o.A1.findAndParseCalculation(ee,ve.Max[0])),ve.Min&&(Te.min=o.A1.findAndParseCalculation(ee,ve.Min[0])))}readCategoriesAndValues(ee,ve,Te,Xe){e.fF.assertValue(ee,"primaryMember"),e.fF.assertValue(Te,"values");for(var me,He=[],qe=this._categoriesMetadata,rt=qe.length,Ee=this._context,fe=0;fe<rt;fe++){var Re={source:qe[fe].column,values:[]};He.push(Re),Xe&&(me||(me=[]),Re.identity=me,Re.identityFields=Ee.readKeys(Xe,0))}for(var Ae,re=ee.Instances,se=this._primaryMeasureSelects,ce=0,Me=re.length;ce<Me;ce++){var $e=re[ce];1===$e.RestartFlag&&(Ae=ce);for(var st=0;st<rt;st++)He[st].values.push(o.A1.findAndParseCalculation($e.Calculations,qe[st].select.Value));me&&me.push(Ee.readIdentity(Xe,$e,0));for(var wt=$e.Intersections,Pt=0,At=0,Ut=wt.length;At<Ut;At++)for(var Kt=wt[At].Calculations,Qt=0,rr=this._measureSelects.length;Qt<rr;Qt++){var Xt=this._measureSelects[Qt],cr=o.A1.findAndParseCalculation(Kt,Xt.Value);if(void 0!==cr){var et=Te[Pt++];if(et.values.push(cr),Xt.Highlight){et.highlights||(et.highlights=[]);var ht=o.A1.findAndParseCalculation(Kt,Xt.Highlight.Value);et.highlights.push(ht)}}}for(var Nt=0,Lt=se.length;Nt<Lt;Nt++){var Qe=se[Nt],bt=$e.Calculations,Rt=o.A1.findAndParseCalculation(bt,Qe.Value),Gt=Te[Pt++];if(Gt.values.push(Rt),Qe.Highlight){Gt.highlights||(Gt.highlights=[]);var ir=o.A1.findAndParseCalculation(bt,Qe.Highlight.Value);Gt.highlights.push(ir)}}}return{categories:He,lastMergeIndex:Ae}}}class te{constructor(ee,ve,Te,Xe){e.fF.assertValue(ee,"targets"),e.fF.assert(()=>null!=ve.Select||null!=ve.ScriptVisualBinding,"descriptor"),e.fF.assertAnyValue(Te,"perfId"),e.fF.assertValue(Xe,"aggregateReader"),this.targets=ee,this.selects=ve.Select,this.scriptVisualBinding=ve.ScriptVisualBinding,this.perfId=Te||"",this.stats={id:Te||void 0,primary:0,secondary:0},this.aggregateReader=Xe,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}createColumns(ee,ve,Te){var He=this.columnMetadata(ve,ee.length,Te);ee.push(He);var rt=this.tryCreatingDynamicFormatColumnMetadata(ve,ee.length,He);return rt&&ee.push(rt),He}columnMetadata(ee,ve,Te){e.fF.assertValue(ee,"selectIndex"),e.fF.assertAnyValue(Te,"suppressAggregates");var Xe=this.selects[ee];e.fF.assertValue(Xe,"select");var He={displayName:"",index:ee};if(Xe.Format&&(He.format=Xe.Format),He.type=o.A1.describeDataType(Xe.Type,Xe.DataCategory),Xe.Kind===s.hk.Measure&&(He.isMeasure=!0),!Te){var qe=this.aggregateReader.compute(Xe,ve);qe&&(He.aggregates=qe)}var rt=Xe.GroupKeys;if(rt){var me=He.identityExprs=[];for(var Ee of rt){var fe=this.convertKey(Ee);me.push(fe)}}return this.selectIndexToColumnIndexMap[ee]=ve,He}tryCreatingDynamicFormatColumnMetadata(ee,ve,Te,Xe){var He=this.selects[ee];if(He.DynamicFormat&&He.DynamicFormat.Format){var qe={displayName:"",isMeasure:!0};Te.formatSource={formatString:qe};var rt={Kind:s.hk.Measure,Subtotal:_.map(He.SubtotalDynamicFormat,Ee=>Ee&&Ee.Format)};if(!Xe){var me=this.aggregateReader.compute(rt,ve);me&&(qe.aggregates=me)}return this.actionHistory|=2,qe}}readIdentity(ee,ve,Te){e.fF.assertValue(ee,"axisGroupings"),e.fF.assertValue(Te,"depth");for(var He,Xe=this.readKeys(ee,Te),qe=ee[Te].Keys,rt=0,me=qe.length;rt<me;rt++){var Ee=qe[rt],Re=o.A1.findAndParseCalculationToSQExpr(ve.Calculations,Ee.Calc||this.selects[Ee.Select].Value),re=(0,d.Dg)(Xe[rt],Re);He=(0,d.xD)(He,re)}return(0,h.TZ)(He)}readKeys(ee,ve){e.fF.assertValue(ee,"axisGroupings"),e.fF.assertValue(ve,"depth");var Te=this.getAxisCache(ee),Xe=Te.exprs[ve];if(void 0===Xe){Xe=Te.exprs[ve]=[];for(var He=ee[ve].Keys,qe=0,rt=He.length;qe<rt;qe++)Xe.push(this.convertKey(He[qe]))}return Xe}includes(ee){return e.fF.assertValue(ee,"kind"),(0,b.yE)(this.targets,ee)}getAxisCache(ee){e.fF.assertValue(ee,"axisGroupings");for(var ve=this.cacheItems,Te=0,Xe=ve.length;Te<Xe;Te++){var He=ve[Te];if(He.axisGroupings===ee)return He}var qe={axisGroupings:ee,exprs:[]};return ve.push(qe),qe}convertKey(ee){e.fF.assertValue(ee,"key");var ve=ee.Source;return(0,d.Oh)((0,d.nw)((0,s._H)(ve),ve.Entity||ve.EntitySet),ve.Property)}}class ke{constructor(ee,ve){e.fF.assert(()=>null!=ee.Select||null!=ee.ScriptVisualBinding,"descriptor"),e.fF.assertValue(ve,"dataShape"),this.dataShape=ve}compute(ee,ve,Te){e.fF.assertValue(ve,"columnIndex");var Xe=this.cache;if(Xe){var He=Xe[ve];if(He)return He}if(ee){Xe||(this.cache=Xe={});var qe=this.dataShape,rt=at(ee,qe.Calculations,qe.PrimaryHierarchy,0);return Te&&!rt&&(rt={}),Xe[ve]=rt,rt}}updateAggregates(ee,ve,Te,Xe){e.fF.assertValue(ee,"select"),e.fF.assertValue(ve,"columnIndex"),e.fF.assertValue(Te,"name"),e.fF.assertAnyValue(Xe,"value");var He=this.compute(ee,ve,!0);if(He)return He[Te]=Xe,He}}function at(ze,ee,ve,Te){e.fF.assertValue(ze,"select"),e.fF.assertAnyValue(ee,"calculations"),e.fF.assertAnyValue(ve,"allMembers"),e.fF.assertValue(Te,"depth");var Xe=!_.isEmpty(ve)&&ue.getFirstInstanceCalcs(ve[0]);if(!_.isEmpty(ee)||!_.isEmpty(Xe)){var He;if(!_.isEmpty(Xe)&&ze.Subtotal){var qe=ze.Subtotal[Te];if(qe){var rt=o.A1.findAndParseCalculation(Xe,qe);void 0!==rt&&(He||(He={}),He.subtotal=rt)}}if(!_.isEmpty(ee)){if(ze.Max){var me=ze.Max[Te];if(me){var Ee=o.A1.findAndParseCalculation(ee,me);void 0!==Ee&&(He||(He={}),He.max=Ee)}}if(ze.Min){var fe=ze.Min[Te];if(fe){var Re=o.A1.findAndParseCalculation(ee,fe);void 0!==Re&&(He||(He={}),He.min=Re)}}if(ze.Count){var re=ze.Count[Te];if(re){var se=o.A1.findAndParseCalculation(ee,re);void 0!==se&&(He||(He={}),He.count=se)}}var Ae=ze.Aggregates;if(Ae)for(var ce of Ae){var Me=ce.Aggregate,$e=ce.Ids[Te];if($e){var st=o.A1.findAndParseCalculation(ee,$e);if(void 0!==st){var pt=Me.Percentile;if(pt){var wt={k:pt.K,value:st};pt.Exclusive&&(wt.exclusive=pt.Exclusive),He||(He={});var Pt=He.percentiles;Pt||(Pt=He.percentiles=[]),Pt.push(wt)}else Me.Average?(He||(He={}),He.average=st):Me.Median&&(He||(He={}),He.median=st)}}}if(0===Te){var At=ze.Value;if(At){var Ut=o.A1.findAndParseCalculation(ee,At);void 0!==Ut&&(He||(He={}),He.single=Ut)}}}return He}}class tt{static create(ee,ve){for(var Te=ee.values,Xe=ve.selects,He=!1,qe={},rt=0,me=0,Ee=Xe.length;rt<Ee;rt++){var fe=Xe[rt];if(fe){if(fe.Kind!==s.hk.Measure){me++;continue}var re=void 0,se=void 0;if(Te&&(se=Te[me])){if(re=[],void 0===se.min&&re.push(new o.nc),void 0===se.max&&re.push(new o._8),0===re.length){me++;continue}}else re=[new o.nc,new o._8];qe[me]=re,He=!0,me++,fe.DynamicFormat&&fe.DynamicFormat.Format&&me++}}if(He)return new tt(ee,ve.aggregateReader,ve.selects,qe)}constructor(ee,ve,Te,Xe){e.fF.assertValue(ee,"node"),e.fF.assertValue(ve,"aggregateReader"),e.fF.assertValue(Xe,"aggregators"),this.node=ee,this.aggregateReader=ve,this.selects=Te,this.aggregators=Xe}add(ee,ve){var Te=this.aggregators[ee];if(Te)for(var Xe=0,He=Te.length;Xe<He;Xe++)Te[Xe].update(ve)}complete(ee){e.fF.assertValue(ee,"columns");for(var ve=this.aggregators,Te=this.node,Xe=this.aggregateReader,He=0,qe=0,rt=this.selects.length;He<rt;He++){var me=this.selects[He];if(me){var Ee=ve[qe];if(!Ee){qe++;continue}for(var fe=0,Re=Ee.length;fe<Re;fe++){var re=Ee[fe],se=re.value();if(void 0!==se){var Ae=re.name;q(Te,qe)[Ae]=se,ee[qe].aggregates=Xe.updateAggregates(me,qe,Ae,se)}}qe++,me&&me.DynamicFormat&&me.DynamicFormat.Format&&qe++}}}}function ut(ze){if(e.fF.assertAnyValue(ze,"dsr"),2===ze.Version)return!0}function ct(ze){return e.fF.assertAnyValue(ze,"dsr"),ze.MinorVersion}function Ne(ze,ee,ve,Te,Xe,He){if(e.fF.assertValue(ee,"arg"),!ee)return null;var qe;ee.data&&(ee=ee.data),He&&He.isRunning()&&(qe=He.createChildActivity({name:"Parse Query Result"}));var rt={},me=ee,Ee=(0,u.z)();_.isString(ee)&&(rt.dsrLength=ee.length,rt.jsonParse=(0,t.zb)(()=>{me=JSON.parse(ee)}),qe&&qe.setProperty("metrics",{jsonParse:rt.jsonParse}));var fe=function(ze,ee,ve,Te,Xe,He,qe,rt,me,Ee,fe,Re,re,se,Ae){if(!ve)return null;var ce,Me;if(rt||(rt={}),4&ze&&(ze|=8),ut(ve)){if(Me="dsr2-read",performance&&performance.mark&&performance.mark(Me+"-start"),rt.mode="V2",1!==_.size(ve.DS))return null;var $e=(0,V.Ei)(ee),st=(0,F.KI)(ve,$e);ce=function(ze,ee,ve,Te,Xe){var He={columns:ze.createDataViewMetadataColumns()},qe={dataView:{metadata:He}};if(function(ze,ee){ze.reset();var ve=ze.dataShapes();e.fF.assert(()=>1===ve.count(),"DSR has multiple DataShapes"),ve.next(),ve.complete()||(ee.dataView.metadata.segment={},ee.restartToken=ve.restartTokens())}(ee,qe),ze.includes(2)){var rt,me=(0,t.zb)(()=>{rt=function(ze,ee,ve,Te){return new f(ze,ee,ve,Te).run()}(ze,ee,He,Xe),rt&&(qe.dataView.matrix=rt,ee.lockCache())});rt&&(ve.matrix=me)}if(ze.includes(1)){var Ee,fe=(0,t.zb)(()=>{Ee=function(ze,ee,ve,Te){if(l.isCompatible(ze))return(new l).run(ze,ee,ve)}(ze,ee,He),Ee&&(qe.dataView.categorical=Ee,ee.lockCache())});Ee&&(ve.categorical=fe)}if(ze.includes(8)){var Re,re=(0,t.zb)(()=>{Re=function(ze,ee,ve){return new M(ze,ee,ve).run()}(ze,ee,He),Re&&(qe.dataView.table=Re,ee.lockCache())});Re&&(ve.table=re)}if(ze.includes(16)){var se,Ae=(0,t.zb)(()=>{se=function(ze,ee){return new w(ze,ee).run()}(ze,ee),se&&(qe.dataView.tree=se,ee.lockCache())});se&&(ve.tree=Ae)}if(ze.includes(4)){var ce,Me=(0,t.zb)(()=>{ce=function(ze,ee){if(P.isCompatible(ze))return new P(ze,ee).run()}(ze,ee),ce&&(qe.dataView.single=ce)});ce&&(ve.single=Me)}return qe}(new g(ze,ee,$e,se,st.dataShapes()),st,rt,0,se),st.reset();var wt=st.dataShapes(),Pt=wt.next();if(e.fF.assert(()=>Pt,"There must be a DataShape"),wt.limitsExceeded()){ce.warnings||(ce.warnings=[]);var At=new x.x(ee,function(ze){for(var ee=ze.limits(),ve=ee.count(),Te=new Array(ve),Xe=0;Xe<ve;Xe++)ee.next(),Te[Xe]={Id:ee.id()};return Te}(wt),function(ze){for(var ee=new Array(ze.calcCount()),ve=0;ze.nextCalc();ve++)ee[ve]={Id:ze.calcId(),Value:ze.calcValue()};return ee}(wt));ce.warnings.push(At),z(ce.dataView,At.limits)}(function(ze,ee){var ve=ze.messages();if(ve)for(;ve.next();)N.py[ve.code()]&&ve.severity()===(0,N.sK)(0)&&(ee.warnings||(ee.warnings=[]),ee.warnings.push(ve.dsrMessage()))})(wt,ce),ce.dataView&&!_.isEmpty(He)&&((0,C.dj)(ce.dataView,He),ce.disallowPersisting=!0)}else Me="dsr1-read",performance&&performance.mark&&performance.mark(Me+"-start"),rt.mode="V1Old",ce=function(ze,ee,ve,Te,Xe,He,qe){if(e.fF.assertValue(ze,"targets"),e.fF.assertAnyValue(ee,"descriptor"),e.fF.assertValue(ve,"dsr"),e.fF.assertAnyValue(He,"clientSideFilters"),!function(ze){return ze&&1===_.size(ze.DataShapes)}(ve))return null;var rt=ve.DataShapes[0];if(rt["odata.error"]){var Ee=new R.Ow(rt["odata.error"]);return Xe&&(Ee.requestId=Xe),{error:Ee}}var Re=new te(ze,ee,qe,new ke(ee,rt)),re=function(ze){if(e.fF.assertValue(ze,"context"),null!=ze.scriptVisualBinding)return new De(ze);for(var ee=0,ve=0,Te=ze.selects,Xe=0,He=Te.length;Xe<He;Xe++){var qe=Te[Xe];qe&&(null!=qe.Depth&&(ee=Math.max(ee,qe.Depth+1)),null!=qe.SecondaryDepth&&(ve=Math.max(ve,qe.SecondaryDepth+1)))}return ve>=1&&1===ee?new _e(ze):new ue(ze)}(Re).read(ee.Expressions,rt,Te),se={dataView:re};if(rt.RestartTokens&&(se.restartToken=rt.RestartTokens),rt.DataLimitsExceeded&&rt.DataLimitsExceeded.length>0){se.warnings||(se.warnings=[]);var Ae=new x.x(ee,rt.DataLimitsExceeded,rt.Calculations);se.warnings.push(Ae),z(re,Ae.limits)}if(rt.DataShapeMessages&&rt.DataShapeMessages.length>0)for(var ce of rt.DataShapeMessages)N.py[ce.Code]&&ce.Severity===(0,N.sK)(0)&&(se.warnings||(se.warnings=[]),se.warnings.push(new N.lp(ce)));return se.dataView&&!_.isEmpty(He)&&((0,C.dj)(se.dataView,He),se.disallowPersisting=!0),e.fF.log("DSR.stats",Re.stats),se}(ze,ee,ve,rt,Xe,He,qe);return ce&&(ce.timestamp=fe,ce.fromCache=Re,re&&!ce.fromCache&&(ce.performanceActivities=W(re.Events,Ae&&Ae.getProperty("rootId")))),performance&&(performance.mark&&performance.mark(Me+"-end"),performance.measure&&performance.measure(Me,Me+"-start",Me+"-end")),rt.total=(0,u.z)()-Ee,me&&me.logEvent(y.h1,{jsonparse:rt.jsonParse,categorical:rt.categorical,table:rt.table,tree:rt.tree,matrix:rt.matrix,single:rt.single,script:rt.script,total:rt.total,mode:rt.mode,targetDataView:ze,dsrLength:rt.dsrLength,id:qe}),ce}(ze,me.descriptor,me.dsr,0,me.requestId,me.clientSideFilters,Xe,rt,Te,Ee,me.timestamp,me.fromCache,me.metrics,ve.scopedAggregates,He);if(ve?.queryContext){var Re=me.queryContext;Re&&(fe.queryContext=Re)}return qe&&qe.resolve(),fe}function Le(ze){if(e.fF.assertAnyValue(ze,"dataViewSource"),!ze)return!1;var ee=ze.data;return _.isString(ee)&&(ee=(0,a.K)(ee)),!_.isEmpty(ee)&&function(ze){if(ze)if(ut(ze)){for(var ee=(0,F.KI)(ze,void 0).dataShapes();ee.next();)if(ee.hasRestartTokens())return!0}else{var ve=ze.DataShapes;for(var Te of ve)if(!_.isEmpty(Te.RestartTokens))return!0}return!1}(ee.dsr)}},776703:function(Ce,k,r){r.d(k,{PE:function(){return o},xV:function(){return d}});var a=r(939123),e=r(864237),u=r(347933),t=r(397129),C=r(585742);class o{constructor(s,p,l,m,b){this.addVisualIdToQueryDataAsHttpBodyId=b,this.preferredMaxBatchesConfigured=s>0,this.maxBatches=this.preferredMaxBatchesConfigured?s:4,this.queryExecuteCallback=p,this.pending=[],this.timeoutService=l,this.telemetryV2Enabled=m,this.useHttp2QueryDataEnabled=e.M.browserSupportsHttp2()}enqueue(s){if(!function(n,s){var p=s.options;if(1===p.executionType){a.fF.assertValue(p.queryId,"queryId");var l=_.findIndex(n,m=>m.options.queryId===p.queryId);if(l>-1)return a.fF.assert(()=>n[l].execution.rejected(),"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,s))return this.pending.push(s),this.currentBatchDeferred||(this.currentBatchDeferred=s.options.telemetryV2Enabled?new u.GG(!0):$.Deferred(),this.timeoutService.setTimeout(-1,this.telemetryV2Enabled).promise.then(()=>{var l=this.createBatches();this.clearPending(),this.queryExecuteCallback(l),this.currentBatchDeferred.resolve(),this.currentBatchDeferred=void 0})),s.options.telemetryV2Enabled?this.currentBatchDeferred.promise:this.currentBatchDeferred.promise()}clearPending(){this.pending=[]}setMaxBatches(s){this.maxBatches=s,this.preferredMaxBatchesConfigured=s>0}createBatches(){var s=[],p=this.sortQueriesByDataSource(),l=this.maxBatches,m=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(p,v=>_.some(v.dataSources,f=>f.isLimitedParallelQueryModel))||(l=20,m=!0)),p.length>=l)for(var V=0,g=p.length;V<g;++V)s.push(this.createBatchFromDataSourceGroup(p[V]));else s=this.splitDataSourcesIntoBatches(p,l);return m&&_.forEach(s,v=>v.useSynchronous=!0),s}sortQueriesByDataSource(){var s;s=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,m=>(m=>m?.applicationContext?.Sources?.[0]?.VisualId)(m.options)):{"":this.pending};var l=[];return _.forEach(s,m=>{var b=[];_.forEach(m,V=>{if(!(0,C.I3)(n=V)||!n.execution.rejected()){var g=this.findDataSourceGroup(V.options.dataSources,b,V.options.cacheResponseOnServer);g?g.queuedExecutions.push(V):b.push({dataSources:V.options.dataSources,queuedExecutions:[V],cacheResponseOnServer:V.options.cacheResponseOnServer,cacheOptions:V.options.cacheOptions})}var n}),l.push(...b)}),l}findDataSourceGroup(s,p,l){for(var m=0,b=p.length;m<b;++m){var V=p[m];if((0,t.fS)(s,V.dataSources)&&V.cacheResponseOnServer===l)return V}return null}createBatchFromDataSourceGroup(s){for(var p=[],l=[],m=[],b=s.queuedExecutions,V=[],g=[],v=function(){var P=b[f],D=b[f].options,M=b[f].enqueueActivity;(0,C.I3)(P)?(p.push(D),m.push(P.deferred),M&&V.push(M),b[f].queryActivity&&g.push(b[f].queryActivity)):(a.fF.assert(()=>1===D.executionType,"Only CancelQuery executions are not rejectable."),l.push(D))},f=0,S=b.length;f<S;++f)v();return{dataSources:s.dataSources,queryOptions:p,cancelQueryOptions:l,promises:m,cacheOptions:s.cacheOptions,cacheResponseOnServer:s.cacheResponseOnServer,enqueueActivities:V,queryActivities:g}}splitDataSourcesIntoBatches(s,p){for(var l=[],m=0,b=s.length;m<b;++m)l.push(this.createBatchFromDataSourceGroup(s[m]));return this.splitBatches(l,p)}splitBatches(s,p){for(var l=s.slice();l.length<p;){for(var m=void 0,b=0,V=l.length;b<V;++b){var g=l[b];g.queryOptions.length>1&&(!m||m.queryOptions.length<g.queryOptions.length)&&(m=g)}if(!m)return l;l.push(this.splitBatch(m)),m=null}return l}splitBatch(s){var p=s.queryOptions.length,l=s.queryOptions.splice(p/2),m=s.promises.splice(p/2),b=s.enqueueActivities.splice(p/2),V=s.queryActivities.splice(p/2),g=s.cancelQueryOptions.length,v=[];return g&&(v=s.cancelQueryOptions.splice(g/2)),{dataSources:s.dataSources,queryOptions:l,promises:m,cacheOptions:s.cacheOptions,cacheResponseOnServer:s.cacheResponseOnServer,cancelQueryOptions:v,enqueueActivities:b,queryActivities:V}}}function d(n,s,p,l,m){return{queryOptions:_.map(n,b=>({command:b,dataSources:s})),cancelQueryOptions:[],cacheOptions:p,dataSources:s,cacheResponseOnServer:l,promises:[],enqueueActivities:[],queryActivities:[],useSynchronous:m}}},585742:function(Ce,k,r){r.d(k,{I3:function(){return i},K4:function(){return t},qe:function(){return e},u5:function(){return u}});var a=r(939123);function e(o,c,h){o.useMwcTokenAuthorization=!0,o.authorizationHeaderOverride=c,o.headers["x-ms-root-activity-id"]=o.headers.RequestId,o.headers["x-ms-parent-activity-id"]=o.headers.RequestId,o.headers["x-ms-workload-resource-moniker"]=h}function u(o,c,h){var d=_.map(o.queryOptions,m=>{var b=m.command,g={Query:b,CacheKey:m.cacheResponseOnServer?JSON.stringify(b):void 0,CacheOptions:o.cacheOptions,QueryId:m.queryId};return m.applicationContext&&(g.ApplicationContext=m.applicationContext),1===m.requestPriority&&(g.RequestPriority=1),g}),n=_.map(o.cancelQueryOptions,m=>({QueryId:m.queryId})),s=function(o){return a.fF.assertNonEmpty(o,"dataSources"),a.fF.assert(()=>1===o.length,"dataSources.length === 1"),_.head(o)}(o.dataSources),p={version:C,queries:d,cancelQueries:n,modelId:s.modelId,userPreferredLocale:c.getUserPreferredLocale()};if(h&&h.impersonating){var l=h.getImpersonationState();l.modelId===p.modelId&&_.extend(p,l)}return p}function t(o){return _.some(o.queries,c=>_.some(c.Query.Commands,h=>h.SemanticQueryDataShapeCommand?.Extension))}var C="1.0.0";function i(o){return null!=o&&void 0!==o.deferred&&void 0!==o.execution}},27819:function(Ce,k,r){r.d(k,{N8:function(){return a},_H:function(){return e},hk:function(){return u}});var a=void 0;function e(t){return t.Schema||a}var u=function(t){return t[t.None=0]="None",t[t.Group=1]="Group",t[t.Measure=2]="Measure",t}({})},200053:function(Ce,k,r){r.d(k,{$z:function(){return e},cm:function(){return c}});var a=r(939123);function e(h,d){!function(h,d,n){if(a.fF.assertValue(d,"visitor"),h){d.visitDescriptor(h,n);var s=h.Select;if(s&&s.length)for(var p=0,l=s.length;p<l;p++)d.visitSelect(s[p],n);var m=h.Expressions;m&&function(h,d,n){a.fF.assertValue(h,"expressions"),d.visitExpressions(h,n),a.fF.assertValue(h.Primary,"Primary"),C(h.Primary,d,n);var s=h.Secondary;s&&C(s,d,n)}(m,d,n)}}(h,d,void 0)}function C(h,d,n){a.fF.assertValue(h,"axis"),d.visitDataShapeExpressionsAxis(h,n);var s=h.Groupings;a.fF.assertValue(s,"groupings");for(var p=0,l=s.length;p<l;p++)y(s[p],d,n)}function y(h,d,n){a.fF.assertValue(h,"grouping"),d.visitDataShapeExpressionsAxisGrouping(h,n);var s=h.Keys;a.fF.assertValue(s,"keys");for(var p=0,l=s.length;p<l;p++)i(s[p],d,n)}function i(h,d,n){a.fF.assertValue(h,"groupingKey"),d.visitDataShapeExpressionsAxisGroupingKey(h,n),a.fF.assertValue(h.Source,"Source"),d.visitConceptualPropertyReference(h.Source,n)}class o{visitDescriptor(d,n){}visitSelect(d,n){}visitExpressions(d,n){}visitDataShapeExpressionsAxis(d,n){}visitDataShapeExpressionsAxisGrouping(d,n){}visitDataShapeExpressionsAxisGroupingKey(d,n){}visitConceptualPropertyReference(d,n){}}class c extends o{}},812886:function(Ce,k,r){r.d(k,{Q:function(){return t}});var a=r(722709),e=r(939123),u=r(27819);class t{constructor(y,i){e.fF.assertValue(y,"metadata"),e.fF.assertValue(y.Select,"metadata.Select"),e.fF.assertValue(i,"binding"),i.ScriptVisualBinding||(e.fF.assertValue(i.Select,"binding.Select"),e.fF.assert(()=>y.Select.length<=i.Select.length,"Metadata should have the same number or fewer select items as Binding.")),this._metadata=y,this._binding=i}getSelectRestatements(){return this.getRestatements()}getGroupRestatements(){return this.getRestatements(u.hk.Group)}getMeasureRestatements(){return this.getRestatements(u.hk.Measure)}getFilterRestatements(){var y=this._metadata.Filters;if(_.isEmpty(y))return null;for(var i=[],o=0,c=y.length;o<c;o++){var h=y[o];i.push(h?h.Restatement:"")}return(0,a.rm)(i)}getRestatements(y){var i=this._metadata,o=this._binding,c=[];if(!o.ScriptVisualBinding)for(var h=0,d=i.Select.length;h<d;h++){var n=o.Select[h];n&&(void 0===y||n.Kind===y)&&c.push(i.Select[h].Restatement||"")}return(0,a.rm)(c)}}},923443:function(Ce,k,r){r.d(k,{Zl:function(){return ue},cd:function(){return ct},Jz:function(){return ze}});var a=r(953474),e=r(257738),u=r(722709),t=r(939123),C=r(434143),y=r(569276),i=r(988206),o=r(847912),c=r(709302),h=r(438905),d=r(377176),n=r(528836),s=r(269556),p=r(388637);function l(Re){t.fF.assertValue(Re,"mapping"),Re.categorical&&function(Re){if(t.fF.assertValue(Re,"categorical"),!Re.dataReductionAlgorithm){Re.categories&&v(Re.categories);var re=Re.values;re&&re.group&&function(Re){t.fF.assertValue(Re,"mapping"),t.fF.assertValue(Re.group,"mapping.group"),Re.group.dataReductionAlgorithm||(Re.group.dataReductionAlgorithm={top:{}})}(re)}}(Re.categorical),Re.table&&function(Re){t.fF.assertValue(Re,"table"),Re.rows&&v(Re.rows)}(Re.table),Re.matrix&&function(Re){t.fF.assertValue(Re,"matrix"),Re.rows&&v(Re.rows),Re.columns&&v(Re.columns)}(Re.matrix)}function v(Re){t.fF.assertValue(Re,"mapping"),!Re.dataReductionAlgorithm&&!function(Re){var re=Re.select;return!!re&&_.some(re,se=>!!se.dataReductionAlgorithm)}(Re)&&(Re.dataReductionAlgorithm={top:{}})}function P(Re){t.fF.assertValue(Re,"mappings");for(var re=Re.length,se=0;se<re;se++)l(Re[se])}var D=r(109562),M=r(743395);function E(Re,re){if(t.fF.assertValue(Re,"expansionState"),t.fF.assert(()=>re>=0,"lastActiveLevelIndex >= 0"),!_.isEmpty(Re.levels)&&0!==re){t.fF.assertValue(Re.root,"expansionState.root");var se=x(Re.root,-1,re,Re.levels);if(se){for(var Ae=new Array(se.depth),ce=new D.cL(null),Me=0;Me<se.depth;Me++)Ae[Me]=w(Re.levels[Me],ce);var $e=[];return M.ib.serializeFrom(ce,$e),{From:$e,Levels:Ae,Instances:se.instance}}}}function w(Re,re){return t.fF.assertValue(Re,"level"),{Expressions:_.map(Re.identityKeys,ce=>{var Me=d.cX.rewrite(ce,re,re);return M.ib.serializeExprWithRef(Me)}),Default:Re.isCollapsed?0:1}}function x(Re,re,se,Ae){t.fF.assertValue(Re,"node");var ce=-1===re,Me=re+1===se,$e=!ce&&!!Ae[re].isCollapsed;if(Re.isToggled||!($e||Me||_.isEmpty(Re.children))){var wt,st=!ce&&!$e&&Re.isToggled,Pt=0;if(!Me&&!_.isEmpty(Re.children)&&!st)for(var At of(wt=[],Re.children)){t.fF.assertNonEmpty(At.identityValues,"child.identityValues");var Ut=x(At,re+1,se,Ae);Ut&&(Pt=Math.max(Pt,Ut.depth+1),wt.push(Ut.instance))}if(Re.isToggled||!_.isEmpty(wt)){var Kt={};return _.isEmpty(Re.identityValues)||(Kt.Values=_.map(Re.identityValues,Qt=>M.ib.serializeExpr(Qt))),_.isEmpty(wt)||(Kt.Children=wt),{depth:Pt,instance:Kt}}}}function N(Re){if(Re&&Re.root){var re=L(Re.root),se=B(re),Ae=new D.cL(null);t.fF.assert(()=>se<=_.size(Re.levels),"Missing levels in window expansion state");var ce=_.take(Re.levels,se),Me=_.map(ce,st=>function(Re,re){t.fF.assertValue(Re,"Level must be defined");var se=_.map(Re.identityKeys,Ae=>{var ce=d.cX.rewrite(Ae,re,re);return M.ib.serializeExprWithRef(ce)});return{Expressions:se,Default:0}}(st,Ae)),$e=[];return M.ib.serializeFrom(Ae,$e),{From:$e,Levels:Me,WindowInstances:re}}}function L(Re){return t.fF.assertValue(Re,"Window expansion instance is not defined"),{Values:_.map(Re.identityValues,re=>M.ib.serializeExpr(re)),WindowExpansionInstanceWindowValue:_.map(Re.windowValues,re=>({Values:_.map(re.restartValues,se=>M.ib.serializeExpr(se)),WindowStartKind:re.windowKind})),Children:_.map(Re.children,re=>L(re))}}function B(Re){return!Re||_.isEmpty(Re.Children)?0:Math.max(..._.map(Re.Children,re=>B(re)))+1}var W=r(149184);function T(Re,re){t.fF.assertValue(Re,"item"),t.fF.assertValue(re,"newExpr"),Re.query=Re.query.addSelect(re);var se=Re.query.select(),Ae=(0,W.p)(se,re),ce=se[Ae],Me=Re.additionalProjections;return Me||(Me=Re.additionalProjections=[]),Me.push({queryName:ce.name,selector:null}),{index:Ae,expr:re,queryName:ce.name}}class U{constructor(){this.queryReferencesByRole={}}static findActive(re){var se=new U;return(0,y.oF)(re,se),se.queryReferencesByRole}visitRole(re){var se=re.items;_.isEmpty(re.activeItems)||(se=_.filter(se,Ae=>_.includes(re.activeItems,Ae.queryName))),this.queryReferencesByRole[re.role]=_.map(se,Ae=>Ae.queryName)}}var z=r(162125),j=r(397129);function H(Re,re,se){var Ae=[],ce=Re.select(),Me=ce.withName(re)?.expr;t.fF.assertValue(Me,"Attempting to duplicate a non-existing Select");var $e=Re.addSelect(Me),st=$e.select();t.fF.assert(()=>st.length===ce.length+1,"Expected a Select to have ben added");var pt=st.length-1,wt=st[pt];t.fF.assert(()=>!ce.withName(wt.name),"this code assumes that the newly added select is always the last element in updatedSelectClause");var Pt=re,At=wt.name;return Ae.push({selectExprAdded:{selectIndex:pt,namedSQExpr:wt}}),void 0!==se&&Ae.push({projectionQueryRefChanged:{role:se,oldQueryRef:Pt,newInternalQueryRef:At}}),{rewriteRecords:Ae,newQuery:$e,newQueryName:At}}function Z(Re,re,se,Ae){if(Re.queryName!==re.queryName)return!1;var ce=(0,p.P6)(Re.selector.data,se,Ae),Me=(0,p.P6)(re.selector.data,se,Ae),$e=_.xor(ce,Me);return!_.isEmpty($e)}function ne(Re,re,se,Ae){var ce=se.queryName,Me=Re[ce];Me||(Me=Re[ce]={categoryAndValueGroup:[],categoryOnly:[]});var $e={roleName:re,roleItem:se};Ae?Me.categoryAndValueGroup.push($e):Me.categoryOnly.push($e)}function le(Re,re){t.fF.assertValue(Re,"roles"),t.fF.assertValue(re,"role");var se={for:{in:re}};for(var Ae of Re)if((0,j.fS)(Ae,se))return;Re.push(se)}var he=r(26026);class Se{conflictsWith(re){if(this.getQueryName()!==re.getQueryName())return!1;var se=_.xor(this.getScopeRefs(),re.getScopeRefs());return!_.isEmpty(se)}}class Ke extends Se{constructor(re,se,Ae){super(),this.additionalProjection=re;var Me=re.aggregates&&_.isEmpty(re.selector?.data)?[(0,he.Ue)()]:re.selector?.data;this.scopeRefs=(0,p.P6)(Me,se,Ae)}getQueryName(){return this.additionalProjection.queryName}getScopeRefs(){return this.scopeRefs}updateQueryName(re){this.additionalProjection.queryName=re}getRoleName(){}}class Ge extends Se{constructor(re,se,Ae){super(),this.roleItem=re,this.roleName=se,this.scopeRefs=Ae}getQueryName(){return this.roleItem.queryName}getScopeRefs(){return this.scopeRefs}getRoleName(){return this.roleName}updateQueryName(re){this.roleItem.queryName=re}}function je(Re,re){var se=re.queryRewrites||[],ce=H(re.query,Re.getQueryName(),Re.getRoleName?.());return Re.updateQueryName(ce.newQueryName),se.push(...ce.rewriteRecords),{query:ce.newQuery,queryRewrites:se,mappings:re.mappings,additionalProjections:re.additionalProjections}}class Pe{constructor(re){this.expectedContext=re,this.scopeRefs=[],this.queryRefsByRole={}}visitRole(re,se){if(se===this.expectedContext){var Ae=(0,i.Xw)(re),ce=this.queryRefsByRole[re.role]=[];for(var Me of Ae)this.scopeRefs.push(Me.queryName),ce.push(Me.queryName)}}}class Ve{constructor(re,se){this.scopeRefs=re,this.expectedContext=se,this.rolesMeasures=[]}visitRole(re,se){if(se===this.expectedContext){var Ae=(0,i.Xw)(re);for(var ce of Ae)this.rolesMeasures.push(new Ge(ce,re.role,this.scopeRefs))}}}var Ze=r(32227),Ue=r(960196);class Je{constructor(re){this.selects=re,this.referencedItems=new Set}withRestartToken(re){return this}withPrimaryWindowExpansion(re){return this}withDataVolume(re){return this}withIncludeEmptyGroups(re){return this}withHighlightFilter(re){return this}withGroupBy(re){return this}withPrimaryGrouping(re,se,Ae,ce,Me,$e){return re=this.filterItems(re,se,$e),_.isEmpty(re)||(this.rows=this.rows??[],Me&&(st=_.last(this.rows)),st||(st=this.createAxisGroup(),this.rows.push(st)),this.updateAxisGroup(st,re)),this;var st}withPrimaryGroupingNestedByRole(re,se,Ae,ce,Me,$e,st){return this.isRoleSupportHierachryGrouping(st)?this.withPrimaryGroupingNested(re,se,Ae,ce,$e):this.withPrimaryGrouping(re,se,Ae,ce,Me,$e)}isRoleSupportHierachryGrouping(re){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(re)}withPrimaryExpansion(re){return this}withPrimarySynchronization(re){return this}withPrimaryGroupingNested(re,se,Ae,ce,Me){return re=this.filterItems(re,se,Me),_.isEmpty(re)||_.each(re,$e=>this.withPrimaryGrouping([$e],se,Ae,ce,!1,Me)),this}withSecondaryGrouping(re,se,Ae,ce,Me){if(re=this.filterItems(re,se,Me),_.isEmpty(re))return this;this.columns=this.columns??[];var $e=this.createAxisGroup();return this.columns.push($e),this.updateAxisGroup($e,re),this}withSecondaryGroupingNestedByRole(re,se,Ae,ce,Me,$e){return this.isRoleSupportHierachryGrouping($e)?this.withSecondaryGroupingNested(re,se,Ae,ce,Me):this.withSecondaryGrouping(re,se,Ae,ce,Me)}withSecondaryExpansion(re){return this}withSecondaryGroupingNested(re,se,Ae,ce,Me){return re=this.filterItems(re,se,Me),_.isEmpty(re)||_.each(re,$e=>this.withSecondaryGrouping([$e],se,Ae,ce,Me)),this}withCurrentInnermostGrouping(re,se,Ae){return this}withCurrentInnermostPrimaryGrouping(re,se,Ae,ce){return this}withPrimaryDataReduction(re){return this}withScopedDataReduction(re,se){return this}withSecondaryDataReduction(re){return this}withIntersectionDataReduction(re){return this}withTopLevelAggregates(re){return this}withAdditionalProjections(re){return this}withRolesWithHierarchicalGroupingSupport(re){return t.fF.assertAnyValue(re,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(re)||(this.rolesWithHierarchicalGroupingSupport=re),this}toQueryShape(re){var se=[],Ae=this.createAxis("rows",this.rows);Ae&&se.push(Ae);var ce=this.createAxis("columns",this.columns);return ce&&se.push(ce),_.isEmpty(se)?void 0:se}createAxis(re,se){if(this.removeEmptyAxisGroups(se),!_.isEmpty(se))return{Name:re,Groups:se}}removeEmptyAxisGroups(re){_.isEmpty(re)||_.remove(re,se=>_.isEmpty(se.Keys))}createAxisGroup(){return{Keys:[],Subtotal:!0}}updateAxisGroup(re,se){for(var Ae of se)if(!this.referencedItems.has(Ae.queryName)){var ce=(0,u.rC)(this.selects,Ae.queryName);(0,Ue.k)(ce.expr)||(this.referencedItems.add(Ae.queryName),re.Keys.push(M.ib.serializeExprWithRef(ce.expr)))}}filterItems(re,se,Ae){if(t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(se,"activeProjection"),_.isEmpty(se)||_.isEmpty(re))return re;var ce=re.findIndex($e=>$e.queryName===se[0]);return re.slice(ce)||(Ae?[]:re)}}var De=r(987885);function ue(Re={}){return new te(M.ib,Re)}class te{constructor(re,se){t.fF.assertValue(re,"serializer"),this.serializer=re,this.featureSwitches=se}execute(re){var se=this.executeForQueryOnlyImpl(re);if(!se||!se.dataShapeBinding&&se.mergedQueries&&se.mergedQueries.mapping&&2===se.mergedQueries.mapping.updateType)return{command:void 0};var Ae=se.mergedQueries,ce=se.dataShapeBinding,Me=se.query;this.adjustIntersectionDataReduction(ce,Ae.mapping,Me,re.highVolumeOverride),_.isEmpty(Me.groupBy())||this.applyDataReductionForGroupByQuery(ce,Me);var $e=se.mergedQueries&&se.mergedQueries.mapping&&1===se.mergedQueries.mapping.updateType&&_.isEmpty(re.additionalProjections);return{command:this.createDataQuery(Me,se.queryExtensionSchema,re.dataSourceVariables,ce,se.compiledDataViewMappings,re.dataWindow,re.executionMetricsKinds,re.anchorTime,se.visualShape),splits:Ae.splits,queryRewrites:se.queryRewrites,deferred:$e,isPivoted:ce?.isPivoted,resolvedQuery:Me}}executeForQueryOnly(re){var se=this.executeForQueryOnlyImpl(re);return se&&se.query}applySubquerySortOrder(re,se){var Ae=re.from(),ce=_.pickBy(Ae.getSubquerySources(),(rr,Xt)=>null!=rr.subquery.top()&&rr.inheritsSorting);if(_.isEmpty(ce))return re;var Me=function(Re,re){var se=[],Ae=Re.select();return re?.Primary?.Groupings.forEach(ce=>{ce.Projections.forEach(Me=>{var $e=Ae[Me].expr;(0,Ue.k)($e)||se.push($e)})}),re?.Secondary?.Groupings.forEach(ce=>{ce.Projections.forEach(Me=>{var $e=Ae[Me].expr;(0,Ue.k)($e)||se.push($e)})}),se}(re,se),$e=!1;for(var st in ce){var pt=ce[st].subquery,wt=pt.select(),Pt=pt.orderBy()||[],At=function(rr){var Xt=_.findIndex(wt,et=>(0,e.fS)(et.expr,rr,!1,!0));if(Xt>-1&&!_.some(Pt,et=>(0,e.fS)(et.expr,rr,!1,!0))){var cr=wt.splice(Xt,1)[0];Pt.push({expr:cr.expr,direction:1}),$e=!0}};for(var Ut of Me)At(Ut);var Kt=function(rr){!(0,Ue.k)(rr.expr)&&!_.some(Pt,Xt=>(0,e.fS)(Xt.expr,rr.expr,!1,!0))&&(Pt.push({expr:rr.expr,direction:1}),$e=!0)};for(var Qt of wt)Kt(Qt);pt=pt.createModified({orderBy:Pt}),$e&&(Ae.remove(st),Ae.ensureSource(new D.vd(pt,!0),st))}return $e?re.createModified({from:Ae}):re}produceIdentities(re,se){var Ae=new Ze.H;return re.accept(Ae,se)}executeForQueryOnlyImpl(re){t.fF.assertValue(re,"options");var wt,se=(0,De.Go)(re.mappings),{query:Ae,mappings:ce,queryRewrites:Me,additionalProjections:$e}=this.prepareQuery(re.query,se,re.additionalProjections),st=ze(Ae),pt=(0,z.lr)(se,st);P(re.mappings),re.highVolumeOverride&&(wt=6),pt.mapping.categorical&&function(Re,re){var Ae=new class{constructor(Me){this.indicesByName=Me}visitRole(Me,$e){if(!_.isEmpty(Me.items)){var st;for(var pt of Me.items)pt.scalarKeyInfo&&null!=pt.scalarKeyInfo.scalarKeyQueryName&&(t.fF.assert(()=>null==st,"Only a single role item with a scalar key is supported."),st=pt.scalarKeyInfo.scalarKeyQueryName);st&&(t.fF.assert(()=>null==this.primaryScalarKey,"Only a single scalar key is supported."),this.primaryScalarKey=this.indicesByName[st])}}}(re);(0,y.oF)(Re,Ae),null!=Ae.primaryScalarKey&&(0,y.oF)(Re,{visitRole:()=>{},visitReduction:ce=>{ce.binnedLineSample&&(ce.binnedLineSample.primaryScalarKey=Ae.primaryScalarKey)}})}(pt.mapping,st);var At,Qt,Pt=function(Re,re,se,Ae,ce,Me,$e,st,pt,wt,Pt,At,Ut,Kt,Qt,rr){var et,Xt=Me;if(Me)for(var cr of qe([se],Ae))Xt=Xt.rewrite(cr);return Me&&(et=[Re.serializeFilter(Xt)]),function(Re,re,se,Ae,ce,Me,$e,st,pt,wt,Pt,At,Ut,Kt,Qt,rr){return ct(()=>new He(Re,se,Pt,Kt,Qt),Re,re,se,Ae,ce,Me,$e,st,pt,wt,At,Ut,rr)}(re,se,Ae,ce,et,$e,st,pt,wt,Re,Pt,At,Ut,Kt,Qt,rr)}(this.serializer,st,pt.mapping,Ae.select(),$e,re.highlightFilter,re.restartToken,Ae.groupBy(),wt,re.expansionStates,re.keepProjectionOrder,re.noDefaultProjections,re.windowExpansion,this.featureSwitches,re.projectVisualCalculationContext,re.projectVisualCalculationContext?re.rolesWithHierarchicalGroupingSupport:[]);if((0,o.AR)(Pt,ce,pt.mapping,Ae.select(),3,wt),this.queryHasMeasureFilter(Ae)&&Pt&&(this.processTargetsForMeasureFilters(Ae,ce,Pt),Ae=this.adjustQueryMeasureFilters(Ae,Pt)),this.featureSwitches?.visualTopN&&Pt&&(Ae=this.applySubquerySortOrder(Ae,Pt)),Ae.hasVisualCalculations()){var Ut,Kt=re.visualShapeMappings;_.isEmpty(Kt)?Ut=pt.mapping:(P(Kt),Ut=Kt[0]),At=function(Re,re,se,Ae,ce,Me,$e,st,pt,wt,Pt,At){return ct(()=>new Je(Ae),re,se,Ae,ce,[],Me,$e,st,pt,Re,wt,Pt,At)}(this.serializer,st,Ut,Ae.select(),$e,re.restartToken,Ae.groupBy(),wt,re.expansionStates,re.noDefaultProjections,re.windowExpansion,re.rolesWithHierarchicalGroupingSupport)}if(re.queryExtensionLookup){var rr=re.queryExtensionLookup(Ae,Me);Ae=rr.query,Qt=rr.extensions,Me=rr.queryRewrites}return{query:Ae,queryExtensionSchema:Qt,mergedQueries:pt,dataShapeBinding:Pt,compiledDataViewMappings:ce,queryRewrites:Me,visualShape:At}}hasAmbiguousEqualitySemantics(re){return t.fF.assertValue(re,"value"),(0,e.fS)(re,(0,n.O7)(!1))||(0,e.fS)(re,(0,n.cA)(0))}prepareQuery(re,se,Ae){for(var ce of(t.fF.assertValue(re,"query"),t.fF.assertValue(se,"mappings"),t.fF.assertAnyValue(Ae,"additionalProjections"),qe(se,re.select())))re=re.rewrite(ce);var Me=this.rewriteQuery(re,se,Ae);return Me.query=function(Re){t.fF.assertValue(Re,"query");for(var se,re=Re.select(),Ae=re.length-1;Ae>=0;Ae--)(0,a.VC)(re[Ae].expr)&&(re.splice(Ae,1),se=!0);return se?Re.select(re):Re}(Me.query),Me}rewriteQuery(re,se,Ae){t.fF.assertValue(se,"mappings");var ce={query:re,mappings:se,additionalProjections:Ae};return function(Re,re=!1){t.fF.assertValue(Re,"rewrittenQuery");var se=[],Ae=function(Re){if(t.fF.assertNonEmpty(Re,"mappings"),!(Re.length>1)&&Re[0].matrix){var re=Re[0].matrix,se=new Pe("MatrixRowsGroup");(0,y.Ay)(re.rows,se);var Ae=new Pe("MatrixColumnsGroup");(0,y.yL)(re.columns,Ae);var ce=[...se.scopeRefs,...Ae.scopeRefs],Me=new Ve(ce,"MatrixIntersection");(0,y.hw)(re.values,Me);var $e=new Ve(se.scopeRefs,"MatrixRowsScopedValue");return(0,y.Ay)(re.rows,$e),{groupingRefsByRole:{...se.queryRefsByRole,...Ae.queryRefsByRole},roleItemsInfo:[...Me.rolesMeasures,...$e.rolesMeasures]}}t.fF.assert(()=>Re.length<=1||null==Re[0].matrix&&null==Re[1].matrix,"Not expected having two mappings with matrix")}(Re.mappings);if(!Ae)return Re;if(se.push(...Ae.roleItemsInfo),re&&!_.isEmpty(Re.additionalProjections)){var ce=Re.query.select();for(var Me of Re.additionalProjections)se.push(new Ke(Me,ce,Ae.groupingRefsByRole))}return _.isEmpty(se)||(Re=function(Re,re){for(var se=0;se<Re.length;se++)for(var Ae=Re[se],ce=0;ce<se;ce++)Ae.conflictsWith(Re[ce])&&(re=je(Ae,re));return re}(se,Re)),Re}(ce=function(Re){t.fF.assertValue(Re,"item");var re=Re.mappings;if(1!==re.length)return Re;var se=function(Re){var re,se;if(t.fF.assertValue(Re,"mapping"),(0,y.oF)(Re,{visitRole:Ae=>{if(Ae.aggregates&&!_.isEmpty(Ae.items)){for(var ce of(re||(re={},se=[]),Ae.items))re[ce.queryName]=Ae.aggregates;se.push(Ae)}}}),re)return{queryNames:re,roles:se}}(re[0]);if(!se)return Re;var Ae=Re.queryRewrites;return Ae||(Ae=Re.queryRewrites=[]),function(Re,re,se){t.fF.assertValue(Re,"item"),t.fF.assertValue(re,"aggregatedQueryNames"),t.fF.assertValue(se,"queryRewrites");var Ae=Re.query.select();for(var ce in re){var Me=Ae.withName(ce).expr,$e=re[ce],st={};$e.min&&(st.min=T(Re,(0,n.m_)(Me,3))),$e.max&&(st.max=T(Re,(0,n.m_)(Me,4))),se.push({aggregatesAdded:{originalQueryRef:ce,aggregates:st}})}}(Re,se.queryNames,Ae),function(Re){t.fF.assertValue(Re,"aggregatedColumns");var re=Re.queryNames;for(var se of Re.roles)t.fF.assertValue(se.items,"role.items"),_.remove(se.items,Ae=>re[Ae.queryName])}(se),Re}(ce=function(Re){t.fF.assertValue(Re,"item");var re=Re.mappings.length;if(1===re)return Re;if(re>1){var se=function(Re){var{query:re,mappings:se,additionalProjections:Ae,queryRewrites:ce}=Re;t.fF.assertValue(re,"query"),t.fF.assertNonEmpty(se,"mappings");var At,Me=[],$e=[],st={by:null,select:[]},pt={categories:{select:Me},values:{group:st,select:$e}},wt={},Pt=function(){if(!Ut.categorical)return{v:void 0};var Nt=Ut.categorical;(function(Re,re,se,Ae,ce){var $e,Me=Re.values;Me&&((0,y.Sr)(Re.categories,{visitRole:st=>{le(se,st)}}),(0,y.vS)(Me,{visitRole:st=>{if(ce.by=st,st.items)for(var pt of st.items)ne(re,st.role,pt,!0),$e=!0}}),(0,y.fl)(Me,{visitRole:(st,pt)=>{if(le("CategoricalValueGroup"===pt?ce.select:Ae,st),st.items)for(var Pt of st.items)ne(re,st.role,Pt,$e)}}))})(Nt,wt,Me,$e,st),t.fF.assert(()=>null==pt.dataVolume||null==Nt.dataVolume||Nt.dataVolume===pt.dataVolume,"If multiple dataVolumes are applied, they must match identically.  Otherwise, only the first dataVolume is taken."),null!=Nt.dataVolume&&null==pt.dataVolume&&(pt.dataVolume=Nt.dataVolume)};for(var Ut of se)if(At=Pt())return At.v;var Kt=ce?[...ce]:[],Qt=re;for(var rr in wt){var Xt=wt[rr];if(!_.isEmpty(Xt.categoryAndValueGroup)&&!_.isEmpty(Xt.categoryOnly))for(var cr of Xt.categoryAndValueGroup){var et=cr.roleItem,ht=H(Qt,et.queryName,cr.roleName);et.queryName=ht.newQueryName,Qt=ht.newQuery,Kt.push(...ht.rewriteRecords)}}return{query:Qt,mappings:[{metadata:se[0].metadata,categorical:pt}],queryRewrites:_.isEmpty(Kt)?void 0:Kt,additionalProjections:Ae}}(Re);return se=function(Re){if(_.isEmpty(Re.additionalProjections))return Re;var{query:re,mappings:se,queryRewrites:Ae}=Re,ce=[...Re.additionalProjections];t.fF.assertValue(re,"query"),t.fF.assert(()=>1===se.length,"Mappings should have been merged already");for(var Me=U.findActive(se[0]),$e=Ae?[...Ae]:[],st=re,pt=0;pt<ce.length-1;pt++)for(var wt=ce[pt],Pt=pt+1;Pt<ce.length;Pt++){var At=ce[Pt];if(Z(wt,At,st.select(),Me)){var Ut=H(st,At.queryName);st=Ut.newQuery,$e.push(...Ut.rewriteRecords??[]),ce[Pt]={...At,queryName:Ut.newQueryName}}}return{query:st,mappings:se,queryRewrites:_.isEmpty($e)?void 0:$e,additionalProjections:ce}}(se),se}}(ce)),!0)}adjustIntersectionDataReduction(re,se,Ae,ce){if(se.categorical){var Me=se.categorical;if(Me.dataReductionAlgorithm)if(re.DataReduction&&re.DataReduction.Intersection)t.fF.assert(()=>!(re.Secondary&&!re.Primary),"Should never have only a Secondary axis"),re.Primary&&!re.Secondary&&(t.fF.assert(()=>!re.DataReduction.Primary,"Should not have both Primary and Intersection data reduction"),re.DataReduction.Primary=re.DataReduction.Intersection,re.DataReduction.Intersection=void 0);else{var $e=re.Primary&&(!re.DataReduction||!re.DataReduction.Primary),st=re.Secondary&&(!re.DataReduction||!re.DataReduction.Secondary);if(!$e&&!st)return;re.DataReduction||(re.DataReduction={DataVolume:Me.dataVolume||(ce?6:3)}),$e&&(re.DataReduction.Primary=(0,C.P)(Me.dataReductionAlgorithm,Ae.select())),st&&(re.DataReduction.Secondary=(0,C.P)(Me.dataReductionAlgorithm,Ae.select()))}}}applyDataReductionForGroupByQuery(re,se){re.DataReduction={},re.DataReduction.Primary=(0,C.P)({top:{count:1e3}},se.select())}generateScriptVisualCommand(re,se){t.fF.assertValue(re,"dataViewMappings");var Ae=(0,c.Hc)(re);if(Ae||(Ae=(0,c.QB)(re)),!Ae)return null;var ce={Version:0,Script:Ae.source,RenderingEngine:Ae.provider,ScriptOutputType:Ae.outputType};se&&se.height&&se.width&&(ce.ViewportWidthPx=se.width,ce.ViewportHeightPx=se.height);var Me=(0,c.oy)(re);return Me&&Me.script.scriptInput&&(ce.ScriptInput=Me.script.scriptInput),{ScriptVisualCommand:ce}}queryHasMeasureFilter(re){for(var se of re.where())if(1===(0,h._)(se.condition))return!0;return!1}removeExprFromTargetExprs(re,se){for(var Ae of re){var ce=Ae.target;if(null!=ce)for(var Me=0,$e=ce.length;Me<$e;Me++)(0,e.fS)(ce[Me],se)&&ce.splice(Me,1)}}processTargetsForMeasureFilters(re,se,Ae){t.fF.assertValue(re,"query"),t.fF.assertValue(se,"mappings"),t.fF.assertAnyValue(Ae,"binding");var ce=this.getProjectedSelectIndexMap(Ae);for(var Me of se)(0,y.oF)(Me,{visitRole:$e=>{var st=$e.activeItems,pt=$e.items;if(st&&!_.isEmpty(st)&&!_.isEmpty(pt))for(var wt=_.findIndex(pt,rr=>_.includes(st,rr.queryName)),Pt=0;Pt<wt;Pt++){var At=pt[Pt].queryName,Ut=re.select(),Kt=(0,u.g2)(Ut,At);if(!ce[Kt]){var Qt=Ut[Kt].expr;this.removeExprFromTargetExprs(re.where(),Qt)}}}})}adjustQueryMeasureFilters(re,se){var Ae=re.where(),ce=[],Me=[];if(_.isEmpty(se.Primary.Groupings)||_.isEmpty(se.Primary.Groupings[0].Projections)||!_.isEmpty(se.Secondary))return re;var $e=re.select(),st=se.Primary.Groupings[0].Projections;for(var pt of st)if(!(0,Ue.k)($e[pt].expr))return re;for(var Pt of Ae)_.isEmpty(Pt.target)?Me.push(Pt):ce.push(Pt);if(_.isEmpty(ce))return re;var At=re.createModified({where:Me}),Ut=d.yl.fromMeasureFilters(re,ce,se);return At.addSemanticFilter(Ut)}getProjectedSelectIndexMap(re){return t.fF.assertAnyValue(re,"binding"),re?_.chain([re.Primary,re.Secondary]).filter(Ae=>Ae&&!_.isEmpty(Ae.Groupings)).map(Ae=>Ae.Groupings).flatten().filter(Ae=>!_.isEmpty(Ae.Projections)).map(Ae=>Ae.Projections).flatten().reduce((Ae,ce)=>(Ae[ce]=!0,Ae),{}).value():{}}createDataQuery(re,se,Ae,ce,Me,$e,st,pt,wt){var Pt={Query:this.serializer.serializeQuery(re),Binding:ce,AnchorTime:pt};se&&(Pt.Extension=se),Ae&&(Pt.DataSourceVariables=Ae),st&&(Pt.ExecutionMetricsKind=st);var Ut={Commands:[{SemanticQueryDataShapeCommand:Pt}]},Kt=this.generateScriptVisualCommand(Me,$e);return Kt&&Ut.Commands.push(Kt),_.isEmpty(wt)||(Pt.Query.VisualShape=wt),Ut}}function ct(Re,re,se,Ae,ce,Me,$e,st,pt,wt,Pt,At,Ut,Kt){t.fF.assertValue(re,"indicesByName"),t.fF.assertValue(se,"mapping"),t.fF.assertValue(Ae,"querySelects"),t.fF.assertAnyValue(ce,"additionalProjections"),t.fF.assertAnyValue(Me,"highlightFilter"),t.fF.assertAnyValue($e,"restartToken"),t.fF.assertAnyValue(st,"queryGroupBy"),t.fF.assertAnyValue(pt,"highVolumeOverride"),t.fF.assertAnyValue(wt,"expansionStates"),t.fF.assertAnyValue(Pt,"serializer");var Qt=Re();if(Qt.withRestartToken($e).withHighlightFilter(Me).withAdditionalProjections(ce).withRolesWithHierarchicalGroupingSupport(Kt),se.table?Qt=Qt.withGroupBy(st):t.fF.assert(()=>_.isEmpty(st),"GroupBy should only be used with table mapping."),2!==se.updateType)if(se.categorical)!function(Re,re,se){t.fF.assertValue(Re,"builder"),t.fF.assertValue(re,"mapping"),(0,y.Sr)(re.categories,{visitRole:Ae=>{Re.withPrimaryGroupingNestedByRole(Ae.items,Ae.activeItems,Ae.showAll,Ae.subtotalType,!0,se,Ae.role)},visitReduction:Ae=>{Re.withPrimaryDataReduction(Ae)}}),(0,y.vS)(re.values,{visitRole:Ae=>{Re.withSecondaryGroupingNestedByRole(Ae.items,Ae.activeItems,Ae.showAll,Ae.subtotalType,se,Ae.role)},visitReduction:Ae=>{Re.withSecondaryDataReduction(Ae)}}),(0,y.fl)(re.values,{visitRole:(Ae,ce)=>{Re.withCurrentInnermostPrimaryGrouping(Ae.items,Ae.showAll,Ae.subtotalType,"CategoricalValueGroup"!==ce)}}),Re.withIntersectionDataReduction(re.dataReductionAlgorithm).withDataVolume(re.dataVolume).withIncludeEmptyGroups(re.includeEmptyGroups)}(Qt,se.categorical,At);else if(se.table)!function(Re,re){t.fF.assertValue(Re,"builder"),t.fF.assertValue(re,"mapping"),(0,y.vV)(re,{visitRole:se=>{Re.withPrimaryGroupingNestedByRole(se.items,se.activeItems,se.showAll,se.subtotalType,!0,!1,se.role)},visitReduction:se=>{Re.withPrimaryDataReduction(se)}}),Re.withDataVolume(re.dataVolume)}(Qt,se.table);else if(se.matrix)!function(Re,re,se,Ae,ce){t.fF.assertValue(Re,"builder"),t.fF.assertValue(re,"mapping");var Me=new Ie(Re,Ae);(0,y.Ay)(re.rows,Me),t.fF.assert(()=>!se||se.length<=1,"Expected max one expansion state");var $e=function(Re,re,se,Ae,ce){if(null!=Re&&(t.fF.assertValue(Re,"items"),t.fF.assertAnyValue(re,"activeProjections"),!(_.isEmpty(Ae)||_.isEmpty(re)&&ce))){var Me=_.find(Ae,pt=>_.isEqual(pt.roles,se));if(t.fF.assertValue(Me,"Expansion state should have been found since only 1 is supported"),!_.isEmpty(Me.levels))return Re=_.uniqBy(Re,pt=>pt.queryName),re=_.uniq(re),E(Me,(_.isEmpty(re)?Re.length:re.length)-1)}}(Me.primaryRoleItems,Me.primaryActiveRoleItems,Me.primaryRoles,se,Ae);$e&&Re.withPrimaryExpansion($e),ce&&Re.withPrimaryWindowExpansion(ce),(0,y.yL)(re.columns,{visitRole:st=>{Re.withSecondaryGroupingNested(st.items,st.activeItems,st.showAll,st.subtotalType,Ae)},visitReduction:st=>{Re.withSecondaryDataReduction(st)}}),(0,y.hw)(re.values,{visitRole:st=>{Re.withCurrentInnermostGrouping(st.items,st.showAll,st.subtotalType)}}),Re.withDataVolume(re.dataVolume),Re.withIncludeEmptyGroups(re.includeEmptyGroups)}(Qt,se.matrix,wt,At,Ut);else if(se.tree)!function(Re,re,se){t.fF.assertValue(Re,"builder"),t.fF.assertValue(re,"mapping"),(0,y.Dt)(re.nodes,{visitRole:Ae=>{Re.withPrimaryGroupingNested(Ae.items,Ae.activeItems,Ae.showAll,Ae.subtotalType,se)},visitReduction:Ae=>{Re.withPrimaryDataReduction(Ae)}}),(0,y.nA)(re.values,{visitRole:Ae=>{Re.withCurrentInnermostPrimaryGrouping(Ae.items,Ae.showAll,Ae.subtotalType)}}),Re.withDataVolume(re.dataVolume)}(Qt,se.tree,At);else if(se.scriptResult)return ct(Re,re,se.scriptResult.dataInput,Ae,ce);return pt&&Qt.withDataVolume(pt),Qt.withTopLevelAggregates(se.scopedAggregates),Qt.toQueryShape(se)}class Ie{constructor(re,se){this.inComposite=!1,this.startedCompositeNest=!1,this.builder=re,this.noDefaultProjections=se}visitRole(re,se){if("MatrixRowsScopedValue"===se)this.builder.withCurrentInnermostPrimaryGrouping(re.items,re.showAll,re.subtotalType,!0);else if(this.inComposite){var Ae=this.startedCompositeNest;this.startedCompositeNest=!0,this.builder.withPrimaryGroupingNestedByRole(re.items,re.activeItems,re.showAll,re.subtotalType,Ae,this.noDefaultProjections,re.role)}else this.builder.withPrimaryGroupingNested(re.items,re.activeItems,re.showAll,re.subtotalType,this.noDefaultProjections);this.primaryRoleItems||(this.primaryRoleItems=[]),this.primaryRoles||(this.primaryRoles=[]),this.primaryRoles.push(re.role),this.primaryRoleItems.push(...re.items||[]),_.isEmpty(re.activeItems)||(this.primaryActiveRoleItems||(this.primaryActiveRoleItems=[]),this.primaryActiveRoleItems.push(...re.activeItems||[]))}visitReduction(re){this.builder.withPrimaryDataReduction(re)}enterComposite(re){this.inComposite=!0,this.startedCompositeNest=!1,this.compositeGroupingIndexStart=this.builder.primaryGroupingCount}exitComposite(re){if(this.inComposite=!1,this.startedCompositeNest=!1,re.dataReductionAlgorithm||re.synchronized){var se=this.compositeGroupingIndexStart,Ae=this.builder.primaryGroupingCount;if(se<Ae){var ce=_.range(se,Ae);re.synchronized&&this.builder.withPrimarySynchronization({Groupings:ce}),re.dataReductionAlgorithm&&this.builder.withScopedDataReduction(re.dataReductionAlgorithm,{Primary:ce})}}}}function ze(Re){t.fF.assertValue(Re,"query");for(var re={},se=Re.select(),Ae=Re.groupBy(),ce=0,Me=se.length;ce<Me;ce++)re[se[ce].name]=ce;for(var $e=0,st=Ae.length;$e<st;$e++)re[Ae[$e].name]=$e;return re}function ee(Re,re){if(t.fF.assertValue(Re,"projectionIdx"),t.fF.assertAnyValue(re,"axis"),re)for(var se of re.Groupings)if(_.includes(se.Projections,Re))return!0}function Te(Re){t.fF.assertValue(Re,"percentile");var re={K:Re.k};return Re.exclusive&&(re.Exclusive=Re.exclusive),{Percentile:re}}class He{get primaryGroupingCount(){return this.primary&&this.primary.Groupings&&this.primary.Groupings.length||0}constructor(re,se,Ae,ce,Me){this.projectVisualCalculationContext=Me,t.fF.assertValue(re,"indicesByName"),t.fF.assertValue(se,"querySelects"),this.indicesByName=re,this.querySelects=se,this.reduction={DataVolume:3},this.joinPredicateBehaviors=[],this.insertProjection=Ae?u.Gz:u.yg,this.featureSwitches=ce||{},this.hiddenProjections=[]}withRestartToken(re){return t.fF.assertAnyValue(re,"restartToken"),this.restartToken=re,this}withPrimaryWindowExpansion(re){return t.fF.assertAnyValue(re,"windowExpansion"),this.reduction.Primary&&this.reduction.Primary.TopNPerLevel&&(this.reduction.Primary.TopNPerLevel.WindowExpansion=N(re)),this}withDataVolume(re){return t.fF.assertAnyValue(re,"dataVolume"),null==re||(this.reduction.DataVolume=re),this}withIncludeEmptyGroups(re){return t.fF.assertAnyValue(re,"value"),this.includeEmptyGroups=re,this}withHighlightFilter(re){return t.fF.assertAnyValue(re,"value"),this.highlightFilter=re,this}withGroupBy(re){return t.fF.assertAnyValue(re,"queryGroupBy"),_.isEmpty(re)||(this.groupByNames=_.map(re,se=>se.name)),this}withPrimaryGrouping(re,se,Ae,ce,Me,$e){if(t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(se,"activeProjection"),t.fF.assertAnyValue(Ae,"showAll"),t.fF.assertAnyValue(ce,"roleSubtotalType"),t.fF.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),re=this.filterItems(re,se,$e),_.isEmpty(re))return this;var st;this.primary?Me?st=_.last(this.primary.Groupings):this.primary.Groupings.push(st={Projections:[]}):this.primary={Groupings:[st={Projections:[]}]},this.updateGrouping(st,re,Ae,ce);var pt=this.getAggregatesForRoleItems(re);return this.applyTopLevelAggregates(pt),this}withPrimaryExpansion(re){return t.fF.assertAnyValue(re,"expansion"),this.ensurePrimaryAxis(),this.primary.Expansion=re,this}withPrimarySynchronization(re){return t.fF.assertValue(re,"synchronization"),this.ensurePrimaryAxis(),this.primary.Synchronization||(this.primary.Synchronization=[]),this.primary.Synchronization.push(re),this}ensurePrimaryAxis(){this.primary||(this.primary={Groupings:[]})}ensureSecondaryAxis(){this.secondary||(this.secondary={Groupings:[]})}withPrimaryGroupingNested(re,se,Ae,ce,Me){return t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(se,"activeProjection"),t.fF.assertAnyValue(Ae,"showAll"),t.fF.assertAnyValue(ce,"roleSubtotalType"),t.fF.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),re=this.filterItems(re,se,Me),_.isEmpty(re)?this:(this.primary||(this.primary={Groupings:[]}),this.withNested(this.primary.Groupings,re,Ae,ce))}withSecondaryGrouping(re,se,Ae,ce,Me){if(t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(se,"activeProjection"),t.fF.assertAnyValue(Ae,"showAll"),t.fF.assertAnyValue(ce,"roleSubtotalType"),re=this.filterItems(re,se,Me),_.isEmpty(re))return this;var $e;if(this.primary){var st=_.last(this.primary.Groupings);this.containsAll(st,re)?$e=st:(this.secondary||(this.secondary={Groupings:[]}),this.secondary.Groupings.push($e={Projections:[]}))}else this.primary={Groupings:[$e={Projections:[]}]},this.pivotedSecondaryToPrimary=!0;this.updateGrouping($e,re,Ae,ce);var pt=this.getAggregatesForRoleItems(re);return this.applyTopLevelAggregates(pt),this}withSecondaryExpansion(re){return t.fF.assertAnyValue(re,"expansion"),this.ensureSecondaryAxis(),this.secondary.Expansion=re,this}withSecondaryGroupingNested(re,se,Ae,ce,Me){return t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(Ae,"showAll"),t.fF.assertAnyValue(ce,"roleSubtotalType"),re=this.filterItems(re,se,Me),_.isEmpty(re)?this:(this.primary?(this.secondary||(this.secondary={Groupings:[]}),$e=this.secondary.Groupings):(this.primary={Groupings:$e=[]},this.pivotedSecondaryToPrimary=!0),this.withNested($e,re,Ae,ce));var $e}withCurrentInnermostGrouping(re,se,Ae){return t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(se,"showAll"),t.fF.assertAnyValue(Ae,"roleSubtotalType"),re=this.filterItems(re,null,!1),_.isEmpty(re)||(this.secondary&&(ce=_.last(this.secondary.Groupings)),this.addValuesToGrouping(re,se,Ae,ce)),this;var ce}withCurrentInnermostPrimaryGrouping(re,se,Ae,ce){if(t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(se,"showAll"),t.fF.assertAnyValue(Ae,"roleSubtotalType"),re=this.filterItems(re,null,!1),_.isEmpty(re))return this;if(this.addValuesToGrouping(re,se,Ae),ce)for(var Me of(this.primaryOnlyProjections=this.primaryOnlyProjections||[],re))this.primaryOnlyProjections.push(this.indicesByName[Me.queryName]);return this}addValuesToGrouping(re,se,Ae,ce){ce||(ce=this.ensureInnermostPrimaryGrouping()),this.updateGrouping(ce,re,se,Ae);var Me=this.getAggregatesForRoleItems(re);this.applyTopLevelAggregates(Me)}ensureInnermostPrimaryGrouping(){var re;return this.primary?re=_.last(this.primary.Groupings):this.primary={Groupings:[re={Projections:[]}]},re}withPrimaryDataReduction(re){return re&&this.primary?(this.reduction.Primary=(0,C.P)(re,this.querySelects),this):this}withScopedDataReduction(re,se){return re?(this.reduction.Scoped||(this.reduction.Scoped=[]),this.reduction.Scoped.push({Scope:se,Algorithm:(0,C.P)(re,this.querySelects)}),this):this}withSecondaryDataReduction(re){if(this.pivotedSecondaryToPrimary)return this.withPrimaryDataReduction(re);if(!re||!this.secondary)return this;if(this.reduction.Scoped&&!_.isEmpty(this.secondary.Groupings)){var Ae=_.range(0,this.secondary.Groupings.length);return this.withScopedDataReduction(re,{Secondary:Ae}),this}return this.reduction.Secondary=(0,C.P)(re,this.querySelects),this}withIntersectionDataReduction(re){return re?this.reduction.Primary||this.reduction.Secondary?(t.fF.assertFail("Should not have both Intersection and Primary or Secondary data reduction algorithm."),this):re.binnedLineSample?(this.reduction.Intersection=(0,C.P)(re,this.querySelects),this):this:this}withTopLevelAggregates(re){if(!this.featureSwitches.scopedAggregates)return this;if(_.isEmpty(re))return this;var Ae=this.convertDataViewMappingAggregate(re,Me=>this.toAggregateScope(Me,this.primary.Groupings,0)),ce=this.getDataShapeBindingAggregates(Ae);return this.applyTopLevelAggregates(ce),this}toAggregateScope(re,se,Ae){t.fF.assertValue(re,"scopeAsQueryNames"),t.fF.assertValue(se,"primaryGroupings");var ce=0,Me=this.querySelects;for(var $e of se){if(!_.isEmpty($e.ShowItemsWithNoData))return;var wt,st=$e.Projections,pt=function(){var At=Me[Pt];if((0,Ue.k)(At.expr))return 0;var Ut=At.name;return re.some(Kt=>Kt===Ut)?void 0:ce>Ae?{v:{PrimaryDepth:ce}}:{v:void 0}};for(var Pt of st)if(0!==(wt=pt())&&wt)return wt.v;ce++}if(ce>Ae)return{PrimaryDepth:ce}}updateScopeAggregatesForGroupings(re,se){if(this.featureSwitches.scopedAggregates&&se&&re){var ce=0;for(var Me of se){var $e=Me.aggregates&&Me.aggregates.filter(i.u5);if(!_.isEmpty($e)){var st=this.convertDataViewMappingAggregate($e,wt=>this.toAggregateScope(wt,re,ce+1)),pt=this.getDataShapeBindingAggregates(st);_.isEmpty(pt)||(re[ce].Aggregates=pt),ce++}}}}getDataShapeBindingAggregates(...re){var se={};for(var Ae of re)_.forEach(Ae,(ce,Me)=>{var $e=se[Me]=se[Me]||[],st=function(wt){$e.some(Pt=>_.isEqual(Pt,wt))||$e.push(wt)};for(var pt of ce)st(pt)});return _.map(se,(ce,Me)=>({Select:+Me,Aggregations:ce}))}updateGrouping(re,se,Ae,ce){t.fF.assertValue(re,"grouping"),t.fF.assertNonEmpty(se,"items"),t.fF.assertAnyValue(Ae,"showAll"),t.fF.assertAnyValue(ce,"roleSubtotalType"),this.addProjections(re.Projections,se);var Me=this.indicesByName;if(Ae)for(var $e of(re.ShowItemsWithNoData||(re.ShowItemsWithNoData=[]),se))this.insertProjection(re.ShowItemsWithNoData,Me[$e.queryName]);for(var st=se[0].subtotalType,pt=1,wt=se.length;pt<wt;pt++)if(se[pt].subtotalType!==st){st=void 0;break}var Pt=function(Re){switch(Re){case 1:return 1;case 2:return 2;case 0:return}}(st??ce);null!=Pt?re.Subtotal=Pt:this.projectVisualCalculationContext&&(re.Subtotal=2);var At=this.groupByNames;At&&(re.GroupBy=_.map(At,Ut=>Me[Ut]))}withNested(re,se,Ae,ce){for(var Me of(t.fF.assertValue(re,"groupings"),t.fF.assertValue(se,"items"),t.fF.assertAnyValue(Ae,"showAll"),t.fF.assertAnyValue(ce,"roleSubtotalType"),se)){var $e={Projections:[]};this.updateGrouping($e,[Me],Ae,ce),re.push($e)}this.updateScopeAggregatesForGroupings(re,se);var st=this.getAggregatesForRoleItems(se);return this.applyTopLevelAggregates(st),this}filterItems(re,se,Ae){if(t.fF.assertAnyValue(re,"items"),t.fF.assertAnyValue(se,"activeProjection"),!_.isEmpty(re)){re=_.uniqBy(re,At=>At.queryName);var Me,ce=this.indicesByName;se&&(Me=[]);for(var $e=0,st=re.length;$e<st;$e++){var pt=re[$e],wt=null,Pt=se&&!_.isEmpty(se)&&!_.includes(se,pt.queryName);null==ce[pt.queryName]?wt=$e-1:(Pt||this.isReferenced(pt))&&(wt=$e),null==wt?Me&&Me.push(pt):Me||(Me=wt<0?[]:(0,u.w6)(re,0,wt))}return Me||(Ae?[]:re)}}isReferenced(re){t.fF.assertValue(re,"item");var se=this.indicesByName[re.queryName];return ee(se,this.primary)||ee(se,this.secondary)||_.includes(this.projections,se)}containsAll(re,se){t.fF.assertValue(re,"grouping"),t.fF.assertValue(se,"items");var Ae=re.Projections,ce=this.indicesByName;for(var Me of se)if(!_.includes(Ae,ce[Me.queryName]))return!1;return!0}addProjections(re,se){t.fF.assertValue(re,"projections"),t.fF.assertValue(se,"items");var Ae=this.indicesByName;for(var ce of se){var Me=Ae[ce.queryName];ce.hidden&&this.hiddenProjections.push({QueryReference:{ExpressionName:ce.queryName}}),this.insertProjection(re,Me),this.addJoinPredicateBehavior(Me,ce.joinPredicate)}}addJoinPredicateBehavior(re,se){this.joinPredicateBehaviors[re]?void 0===se&&!this.joinPredicateBehaviors[re].isFinalized&&(this.joinPredicateBehaviors[re].behavior=se):this.joinPredicateBehaviors[re]={behavior:se}}withRolesWithHierarchicalGroupingSupport(re){return t.fF.assertAnyValue(re,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(re)||(this.rolesWithHierarchicalGroupingSupport=re),this}withPrimaryGroupingNestedByRole(re,se,Ae,ce,Me,$e,st){return this.isRoleSupportHierachryGrouping(st)?this.withPrimaryGroupingNested(re,se,Ae,ce,$e):this.withPrimaryGrouping(re,se,Ae,ce,Me,$e)}isRoleSupportHierachryGrouping(re){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(re)}withSecondaryGroupingNestedByRole(re,se,Ae,ce,Me,$e){var st=_.filter(re,pt=>!pt.hidden);return this.isRoleSupportHierachryGrouping($e)?this.withSecondaryGroupingNested(st,se,Ae,ce,Me):this.withSecondaryGrouping(st,se,Ae,ce,Me)}withAdditionalProjections(re){return t.fF.assertAnyValue(re,"additionalProjections"),_.isEmpty(re)||(this.additionalProjections=re),this}applyAdditional(re){var se=this,Ae=this.querySelects,ce=this.additionalProjections,Me=U.findActive(re);if(!_.isEmpty(ce)){var $e=this.primary,st=this.secondary,pt=this.projections,wt=function(){var Ut=(0,p.P6)(At.selector?.data,Ae,Me);t.fF.assert(()=>void 0!==Ut,"scopeRefs !== undefined");var Kt=se.indicesByName[At.queryName],Qt=se.convertProjectionAggregates(Kt,At.aggregates);if(Qt&&se.applyTopLevelAggregates([Qt]),null===Ut)return At.aggregates||(pt||(se.projections=pt=[]),se.insertProjection(pt,Kt),se.addJoinPredicateBehavior(Kt,At.joinPredicate)),0;var rr=_.map(Ut,bt=>se.indicesByName[bt]),Xt=st&&!_.isEmpty(st.Groupings),cr=!!re.categorical&&Xt&&se.featureSwitches.categoricalSecondaryCF,et=cr?st:$e,ht=cr?$e:st,Nt=rr.length,Lt=$e&&se.addAdditional(Kt,rr,et);Lt&&Xt&&et===$e&&se.addSuppressedProjection(_.last(st.Groupings),Kt);var Qe=rr.length;Lt||(Lt=Xt&&se.addAdditional(Kt,rr,ht))&&ht===$e&&Nt===Qe&&se.addSuppressedProjection(_.last(st.Groupings),Kt),Lt&&se.addJoinPredicateBehavior(Kt,At.joinPredicate)};for(var At of ce)wt()}}addAdditional(re,se,Ae){t.fF.assertValue(re,"projectionIdx"),t.fF.assertNonEmpty(se,"remainingScopeRefs"),t.fF.assertValue(Ae,"axis"),t.fF.assertNonEmpty(Ae.Groupings,"groupings");for(var $e,ce=Ae.Groupings,Me=!1,st=0;st<ce.length;st++)if($e=ce[st],Me)this.addSuppressedProjection($e,re);else if(_.remove(se,pt=>_.includes($e.Projections,pt)),0===se.length){if(!this.isProjectingOnNonLeafGrouping(st,Ae))return this.insertProjection(_.last(ce).Projections,re),!0;this.insertProjection($e.Projections,re),Me=!0}return Me}isProjectingOnNonLeafGrouping(re,se){t.fF.assertValue(se,"axis"),t.fF.assertNonEmpty(se.Groupings,"groupings"),t.fF.assert(()=>re>=0&&re<se.Groupings.length,"out-of-bound projection target");var ce=se.Groupings.length;return!(re===ce-1||2!==ce||!se.Synchronization)}addSuppressedProjection(re,se){this.projectVisualCalculationContext&&this.featureSwitches.visualCalculationOnComboChart?this.joinPredicateBehaviors[se]={behavior:0,isFinalized:!0}:(t.fF.assertValue(re,"grouping"),re.SuppressedProjections||(re.SuppressedProjections=[]),this.insertProjection(re.SuppressedProjections,se))}applyTopLevelAggregates(re){_.isEmpty(re)||(this.aggregates||(this.aggregates=[]),this.aggregates.push(...re))}getAggregatesForRoleItems(re){var se=[];for(var Ae of re)Ae.aggregates&&se.push(this.convertDataViewMappingAggregate(Ae.aggregates,Ae.queryName));if(!_.isEmpty(se))return this.getDataShapeBindingAggregates(...se)}convertDataViewMappingAggregate(re,se){var ce,Me,Ae=this;_.isFunction(se)?t.fF.assertValue(Me=se,"Need `getAggregateScope` when aggregates are scoped"):ce=this.indicesByName[se];var $e={},st=function(Pt){var At,Ut;if((0,i.u5)(Pt)){if(!(Me&&(At=Pt.queryName?Ae.indicesByName[Pt.queryName]:ce,Ut=Pt.scope&&Me(Pt.scope))))return 0}else At=ce;t.fF.assertValue(At,"aggregate must provide a queryName or a defaultQueryName must be provided");var Kt=$e[At]=$e[At]||[],Qt=!!Ut||void 0;t.fF.assert(()=>Pt.min||Pt.max||Pt.average,"Aggregates must aggregate"),Pt.min&&Kt.push({Scope:Ut,RespectInstanceFilters:Qt,Min:{}}),Pt.max&&Kt.push({Scope:Ut,RespectInstanceFilters:Qt,Max:{}}),Pt.average&&Kt.push({Scope:Ut,RespectInstanceFilters:Qt,Average:{}})};for(var wt of re)st(wt);return _.isEmpty($e)?void 0:$e}convertProjectionAggregates(re,se){if(t.fF.assertValue(re,"projectionIdx"),t.fF.assertAnyValue(se,"aggregates"),se){var Ae=[],ce={Select:re,Aggregations:Ae};if(se.min&&Ae.push({Min:{}}),se.max&&Ae.push({Max:{}}),se.average&&Ae.push({Average:{}}),se.median&&Ae.push({Median:{}}),se.percentiles)for(var Me of se.percentiles)Ae.push(Te(Me));return t.fF.assert(()=>!_.isEmpty(ce.Aggregations),"Some aggregates should be added to the query if projectionAggregates will be added to the data shape binding."),ce}}suppressProjectionsIfNeeded(){if(!_.isEmpty(this.primaryOnlyProjections)&&this.secondary){var re=_.last(this.secondary.Groupings);for(var se of this.primaryOnlyProjections)this.addSuppressedProjection(re,se)}}toQueryShape(re){this.applyAdditional(re),this.suppressProjectionsIfNeeded();var se=this.primary,Ae=this.projections;if(!se){if(!Ae)return;se={Groupings:[{Projections:Ae}]},Ae=null}var ce=this.restartToken;if(ce){var Me=!1;if(this.reduction.Primary&&this.reduction.Primary.Window&&(this.reduction.Primary.Window.RestartTokens=ce,Me=!0),this.reduction.Scoped){for(var $e of this.reduction.Scoped)$e.Algorithm.Window&&(t.fF.assert(()=>!Me,"Only 1 scoped window is allowed at this time"),$e.Algorithm.Window.RestartTokens=ce,$e.Algorithm.Window.RestartMatchingBehavior=1,Me=!0);t.fF.assert(()=>Me,"A restartToken was present but it wasn't assigned to any window.")}}var st={Primary:se};this.secondary&&(st.Secondary=this.secondary),Ae&&(st.Projections=Ae),(this.reduction.Primary||this.reduction.Secondary||this.reduction.Intersection||this.reduction.Scoped)&&(st.DataReduction=this.reduction),this.includeEmptyGroups&&(st.IncludeEmptyGroups=this.includeEmptyGroups);var pt=this.aggregates;pt&&(st.Aggregates=pt);for(var wt=[],Pt=0;Pt<this.joinPredicateBehaviors.length;Pt++)if(this.joinPredicateBehaviors[Pt]&&0===this.joinPredicateBehaviors[Pt].behavior){var At=this.querySelects[Pt]?.expr;(!At||!(0,a.jX)(At))&&wt.push(Pt)}return _.isEmpty(wt)||(st.SuppressedJoinPredicates=wt),!this.projectVisualCalculationContext&&!_.isEmpty(this.hiddenProjections)&&(st.HiddenProjections=this.hiddenProjections),st.Version=1,this.highlightFilter&&(st.Highlights=this.highlightFilter),this.pivotedSecondaryToPrimary&&(st.isPivoted=this.pivotedSecondaryToPrimary),st}}function qe(Re,re){return[new me,new fe(Re,re),new Ee]}class me extends s.b{visitScopedEval(re){return _.isEmpty(re.scope)?re:(0,n.ed)(re.expression,_.filter(re.scope,se=>!(0,a.DB)(se)))}}class Ee extends s.b{visitGroupRef(re){return new n.Wh(re.source,re.ref)}}class fe extends s.b{constructor(re,se){super(),this.mappings=re,this.selects=se}visitScopedEval(re){var se=this,Ae=[],ce=!1;for(var Me of re.scope)if((0,a.yL)(Me))for(var $e of(ce=!0,this.mappings)){var pt=U.findActive($e)[Me.role];if(pt){var wt=function(At){var Ut=_.find(se.selects,Kt=>Kt.name===At);Ut&&Ae.push(Ut.expr)};for(var Pt of pt)wt(Pt)}}else Ae.push(Me);return ce?(0,n.ed)(re.expression,_.uniqBy(Ae,At=>M.ib.serializeExpr(At))):re}}},492156:function(Ce,k,r){r.d(k,{KI:function(){return o}});var a=r(939123),e=r(528836),u=r(999634),t=r(580661),C=r(154690),y=r(721084);class i{constructor(D){this.elements=D,this.currentIndex=-1}reset(D){this.currentIndex=-1,D&&(a.fF.assert(()=>this.elements!==D,"Resetting with same elements"),this.elements=D)}count(){return _.size(this.elements)}current(){return a.fF.assert(()=>this.currentIndex>=0,"Invalid Iterator index"),this.elements[this.currentIndex]}done(){return this.currentIndex===_.size(this.elements)-1}next(){return!this.done()&&(this.currentIndex++,!0)}index(){return this.currentIndex}}function o(P,D){return new c(P,D)}class c{constructor(D,M){this.dsrParserContext=M,a.fF.assertValue(D,"dsr"),a.fF.assertAnyValue(M,"dsrParserContext"),this.parser=new n(D.DS,this.dsrParserContext)}dataShapes(){return this.parser}reset(){this.parser.reset()}lockCache(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)}}class h{constructor(D){this.calculationContainerKind=D,this.nullValuesHandler=new g,this.repeatedValuesHandler=new v}initialize(D,M){this.lastContainerCalculations=M,this.repeatedValuesHandler.initialize(D&&D.R,M),this.nullValuesHandler.initialize(D&&D.\u00d8)}getCurrentCalc(D,M,E,w){return a.fF.assert(()=>D>=0,"unexpected position input"),E?void 0!==(x=this.repeatedValuesHandler.tryRead(D))?x:void 0!==(x=this.nullValuesHandler.tryRead(D))?(this.lastContainerCalculations[D]=null,x):(M?M.next()&&(x=M.current(),this.lastContainerCalculations[D]=x):(a.fF.assert(()=>!!w,"Unexpected calcId"),void 0===(x=E[w])&&(x=null),this.lastContainerCalculations[D]=x),x):(a.fF.assert(()=>3===this.calculationContainerKind,"Unexpected Empty DataShape/DataMemberInstance as calc container"),null);var x}}class d{constructor(D,M,E){this.context=D,this.calcMetadataCacheKey=E,this.baseCalculationParser=new h(M)}setCalculations(D){a.fF.assertAnyValue(D,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=D;var M=this.context;if(M){var E=this.calcMetadataCacheKey,w=D.S;w&&(this.metadata=w,E&&!M.locked&&(M.memberInstanceCalcMetadataCache[E]=w),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(w.length))),M.instancesCalcCache[E]&&(this.lastContainerCalculations=M.instancesCalcCache[E]),this.baseCalculationParser.initialize(D,this.lastContainerCalculations);var x=D.C;(w=this.getCalcMetadata())?this.calcMetadataIt=new i(w):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(x)>0?new i(x):void 0}}restartCalcs(){a.fF.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),a.fF.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue}nextCalc(){var D=!1,M=this.calcMetadataIt;return M&&((D=M.next()||D)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(M.index(),this.calcIt,this.calculationContainer,this.calcId())),M.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),D||!1}calcId(){return this.metadata[this.calcMetadataIt.index()].N}getCalcMetadata(){var D=this.metadata;return D||(D=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),D}calcValue(){var D=this.metadata[this.calcMetadataIt.index()],M=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,D.DN,D.T);return void 0===M&&(M=(0,u.Yt)(this.dsrCalcValue,D.T)),M}calcValueAsExpr(){a.fF.assert(()=>void 0!==this.dsrCalcValue,"Unexpected parsedCalcValue");var D=this.calcMetadataIt.current(),M=this.calcValue(),E=this.context.valueDictionaryHandler.getCalcValueExpr(M,this.dsrCalcValue,D.DN,D.T);return E||(E=(0,u.HL)(M,this.dsrCalcValue,D.T)),E}calcCount(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0}}class n extends d{constructor(D,M,E){super(M,1),this.parserContext=M,this.rootDataShape=E,a.fF.assertValue(D,"dataShapes"),a.fF.assertAnyValue(M,"parserContext"),this.it=new i(D)}reset(){this.it.reset()}index(){return this.it.index()}count(){return this.it.count()}next(){this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var D=this.it.next();if(D){var M=this.it.current();this.setCalculations(M),this.context&&(this.context.valueDictionaryHandler=new y.cd(M.ValueDicts||this.rootDataShape?.ValueDicts))}return D}id(){return this.it.current().N}nestedDataShapes(){var D=this;a.fF.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var M=this.it.current(),E=M.DS;if(!_.isArray(E)||E.length<1)return{};var w={},x=function(L){var B=_.find(E,I=>I.N===L.dataShapeId);a.fF.assertValue(B,"No DataShape with ID "+L.dataShapeId),B&&(w[B.N]=new n([B],L.context,D.rootDataShape||M))};for(var N of this.context.primarySynchronizedGroups)x(N);return w}primaryHierarchy(){if(a.fF.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var D=this.it.current().PH;this.primaryHierarchyParser=D&&new l(D,this.parserContext,0,0)}return this.primaryHierarchyParser}secondaryHierarchy(){if(a.fF.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var D=this.it.current().SH;this.secondaryHierarchyParser=D&&new l(D,this.parserContext,1,0)}return this.secondaryHierarchyParser}messages(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new p(this.it.current().Msg)),this.messageParser}hasRestartTokens(){return _.size(this.restartTokens())>0}restartTokens(){var D=this.it.current(),M=D.DW;return _.isEmpty(M)?D.RT:(a.fF.assert(()=>1===M.length,"Multiple data windows are not yet handled"),M[0].RT)}complete(){var D=this.it.current(),M=D.DW;return _.isEmpty(M)?D.IC:(a.fF.assert(()=>1===M.length,"Multiple data windows are not yet handled"),M[0].IC)}hasAllData(){return this.it.current().HAD}limitsExceeded(){return _.size(this.it.current().DLEx)>0}limits(){return this.limitsParser||(this.limitsParser=new s(this.it.current().DLEx)),this.limitsParser}}class s{constructor(D){a.fF.assertValue(D,"limits"),this.it=new i(D)}next(){return this.it.next()}id(){return this.it.current().N}count(){return this.it.count()}}class p{constructor(D){a.fF.assertValue(D,"dataShapeMessage"),this.it=new i(D)}next(){return this.it.next()}code(){return this.it.current().Code}severity(){return this.it.current().Severity}dsrMessage(){return new C.lp(this.it.current())}}class l{constructor(D,M,E,w){this.context=M,this.hierarchy=E,this.depth=w,a.fF.assertValue(D,"dataMembers"),this.it=new i(D)}count(){return this.it.count()}reset(){this.it.reset(),this.dataMemberId=void 0}next(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var D=this.it.next();if(D){var M=this.dataMemberIdCache();if(_.size(M)>0){var E=this.it.current();for(var w of M[this.depth])E[w]&&(this.dataMemberId=w)}if(void 0===this.dataMemberId){var x=Object.keys(this.it.current());1===_.size(x)?this.dataMemberId=x[0]:a.fF.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return D}id(){return this.dataMemberId}dataMemberIdCache(){return 0===this.hierarchy?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache}instances(){if(!this.instancesParser){var D=this.it.current()[this.dataMemberId];this.instancesParser=D&&new m(D,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser}}class m extends d{constructor(D,M,E,w,x){super(M,2,E),this.parentDataMemberId=E,this.hierarchy=w,this.depth=x,a.fF.assertValue(D,"instances"),this.it=new i(D)}next(){var D=this.it.next();if(D){var M=this.it.current();!this.context.locked&&!M.M&&1===this.hierarchy&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(M),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,a.fF.assert(()=>1!==this.hierarchy||!M.Intersections,"secondary hierarchy should not have any intersections")}return D}count(){return this.it.count()}currentIndex(){return this.it.index()}intersections(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var D=this.it.current().X;return this.intersectionParser=D&&new b(D,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser}restartFlagKind(){return this.it.current().RF}restartKind(){return this.it.current().RK}members(){if(!this.dataMemberIt){var D=this.it.current().M;this.dataMemberIt=D&&new l(D,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt}}class b{constructor(D,M,E){this.context=M,this.parentDataMemberId=E,a.fF.assertValue(D,"intersections"),this.it=new i(null),this.reset(D),this.baseCalculationParser=new h(3),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var w=M.dataMemberIdToMetadata[E];this.primaryMemberIsGroupMember=1===w.kind,this.primaryDataMemberDepth=w.depth,a.fF.assertValue(M.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=M.intersectionCalcMetadataCache[E],!this.calcMetadataCache&&!M.locked&&(this.calcMetadataCache=M.intersectionCalcMetadataCache[E]=new Array(this.expectedIntersectionCount))}reset(D){this.it.reset(D),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=D.length>0}next(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var D=this.it.next();return D&&this.initialize(this.it.current()),D}var M;return this.hasIntersectionElements&&((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((M=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=M.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)?(M||(M=this.it.current()),this.initialize(M),!0):(this.initialize(),!0)}setIntersectionId(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]}resetCalcIt(D){var M=D&&D.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=M?new i(M):void 0}initialize(D){if(a.fF.assert(()=>this.logicalIntersectionIndex>=0,"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(D),D){var M=D.S;if(M&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=M.length),a.fF.assert(()=>null==this.calcMetadataCache[this.logicalIntersectionIndex],"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=M;var E=this.context.calcIdToCalcMetadata;for(var w of M)E[w.N]=M}}this.calculationContainer=D;var x=this.context.lastIntersectionCalcCache[this.intersectionId];!x&&this.intersectionId&&(x=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(D,x);var N=this.getCalcMetadata();N&&(this.currentCalcMetadata=N,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))}restartCalcs(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc}nextCalc(){var D=++this.currentCalcIndex;return D<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(D,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)}calcId(){return this.currentCalcMetadata[this.currentCalcIndex].N}getCalcMetadata(){a.fF.assert(()=>this.logicalIntersectionIndex>=0,"getCalcMetadata can return metadata only for valid logical intersection");var D=this.calcMetadataCache[this.logicalIntersectionIndex];if(!D&&!this.context.locked){var M=this.getExpectedCalcId();M&&(D=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[M])}return D}getExpectedCalcId(){if(0!==this.intersectionMeasureCount){var D=this.context,M=D.dataMemberIdToMetadata[D.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],x=D.selects[this.currentCalcIndex<0?D.intersectionMeasureToSelectIndex[0]:D.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(1===M.kind&&this.primaryMemberIsGroupMember)return x.Value;if(x.Subtotal){var N=t.A1.computeAggIdx(this.primaryDataMemberDepth,M.depth,D.maxPrimaryDepth,D.maxSecondaryDepth);return x.Subtotal.length>N&&x.Subtotal[N]}}}calcValue(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null}parseCalcValue(D){var M=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],E=this.context.valueDictionaryHandler.getCalcValue(D,M.DN,M.T);return void 0===E&&(E=(0,u.Yt)(D,M.T)),E}calcValueAsExpr(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var D=this.calcValue();return null===D?(0,e.IF)():this.parseCalcValueExpr(this.it.current()[this.calcId()],D)}return(0,e.IF)()}parseCalcValueExpr(D,M){var E=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],w=this.context.valueDictionaryHandler.getCalcValueExpr(M,D,E.DN,E.T);return void 0===w&&(w=(0,u.HL)(M,D,E.T)),w}calcCount(){return this.calcIt?this.calcIt.count():0}}var V=(()=>{class P{initialize(M){this.value=M,this.overflowValue=M>P.MaxSignedNumberFor32Bits?function(P){var D=P.toString(2),M=D.substr(0,D.length-f);return parseInt(M,2)}(M):0}hasBitAtPosition(M){if(a.fF.assert(()=>M>=0,"expected positive integer for position"),M>52)return!1;if(this.value>0){var E=0,w=this.value;return M<31?E=1<<M:(E=1<<M-31,w=this.overflowValue),(w&E)>0}}}return P.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,P})();class g{constructor(){this.bitSequenceHandler=new V}initialize(D){this.bitSequenceHandler.initialize(D)}tryRead(D){if(this.bitSequenceHandler.hasBitAtPosition(D))return null}}class v{constructor(){this.bitSequenceHandler=new V}initialize(D,M){this.bitSequenceHandler.initialize(D),this.lastContainerCalculations=M}tryRead(D){if(this.bitSequenceHandler.hasBitAtPosition(D))return this.lastContainerCalculations[D]}}var f=31},32227:function(Ce,k,r){r.d(k,{H:function(){return t}});var a=r(939123),e=r(528836),u=r(693713);class t extends u.Ml{visitColumnRef(y,i){if(y.hasGroupOnKeys(i)){var o=y.getConceptualProperty(i),c=y.getTargetEntity();return _.map(o.column.keys,h=>(0,e.Oh)(c,h.name))}return[y]}visitHierarchyLevel(y,i){var o=y.arg.getTargetEntity();if(!o)return[y];if(y.arg instanceof e.jE){var c,h=o.schema,d=y.arg;if(d.arg instanceof e.c7){var n=d.arg,s=i.schema(h).findTargetEntityOfVariation(o.entity,n.property,n.name);if(!s)return[y];c=(0,e.nw)(h,s.name)}else c=o,a.fF.assert(()=>d.arg instanceof e.PN,".visitHierarchyLevel hierarchy should not contain anything other entity/variation source");var p=i.schema(h).findHierarchyLevel(c.entity,d.hierarchy,y.level);return this.visitColumnRef((0,e.Oh)(c,p.column.name),i)}return[y]}visitGroupRef(y,i){return this.visitColumnRef(y,i)}visitDefault(y){return a.fF.assertFail("SelectToIdentityExpressionsVisitor should not have any other expressions to visit"),[y]}}},231384:function(Ce,k,r){r.d(k,{r:function(){return u}});var a=r(939123),e="noQueryName";class u{constructor(C,y,i,o){this.deepestNodeLevelInPath=-1,this.measures=y||[],this.dataMap=C||null,this.nodeIsCollapsed=i??null,this.nodeIndexes=o??[]}withCategory(C,y,i=!1){var o,c;return C&&C.source&&C.identity&&C.identity[y]&&(o=C.identity[y],c=C.source.queryName||e),this.addItemToDataMap(c,o),this}withSeries(C,y,i=!1){var o,c;return C&&C.source&&y&&(o=y.identity,c=C.source.queryName||e),this.addItemToDataMap(c,o),this}withMeasure(C){return this.measures.push(C),this}withMatrixNode(C,y,i=!1){if(!C)return this;var o,c,{isCollapsed:h,level:d,nodeIndex:n}=C;return C.identity&&y&&y[d]&&y[d].sources&&y[d].sources[0]&&(o=C.identity,c=y[d].sources[0].queryName||e),this.addItemToDataMap(c,o,h,d,n),this}withTable(C,y,i=!1){var o,c;return C&&C.identity&&null!=y&&(c=(o=C.identity[y])?JSON.stringify(o):e),this.addItemToDataMap(c,o),this}equals(C){var y=C;return!!(this.compareMeasures(this.measures,y.measures)&&this.compareMetadata(this.getSelector(),y.getSelector())&&this.compareMetadata(y.getSelector(),this.getSelector()))}createSelectionId(C){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this}getKey(){return this.key}includes(C,y=!1){var i=C;return!!(!this.dataMap&&this.compareMeasures(this.measures,i.measures)||this.dataMap&&i.dataMap&&this.compareMetadata(this.getSelector(),i.getSelector()))}hasIdentity(){return!!this.dataMap}compareMeasures(C,y){if(C.length!==y.length)return!1;for(var i of y)if(-1===C.indexOf(i))return!1;return!0}compareMetadata(C,y){if(!C.data&&y.data||C.data&&!y.data)return!1;if(!C.data&&!y.data)return!0;var o,i=function(h){if(!y.data.some(d=>JSON.stringify(d)===JSON.stringify(h)))return{v:!1}};for(var c of C.data)if(o=i(c))return o.v;return!0}addItemToDataMap(C,y,i,o,c){if(y){this.dataMap||(this.dataMap={});var h=this.dataMap,d=h[C];if(null==d)return h[C]=[y],null!=i&&null!=o&&o>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=i,this.deepestNodeLevelInPath=o),void(null!=c&&this.nodeIndexes.push(c));d.push(y)}}getSelector(){var C=this,y={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){y.data=[];var i=function(c){a.fF.assert(()=>C.dataMap[c].length<=1,"dataMap can only have one selector per column"),y.data.push(C.dataMap[c][0])};for(var o in this.dataMap)i(o)}return y}getSelectorsByColumn(){return null}}},999634:function(Ce,k,r){r.d(k,{H2:function(){return c},HL:function(){return s},K0:function(){return d},Yt:function(){return n},bE:function(){return h}});var a=r(69578),e=r(939123),u=r(405427),t=r(528836),C=r(931145),y=/''/g,i="base64'",o=/\.000'$/;function c(m){return p(m)}function h(m){return p(m,!0)}function d(m){return m&&_.startsWith(m,i)?m.substring(i.length,m.length-1):null}function n(m,b){if(e.fF.assert(()=>void 0!==m,"Undefined dsrValue indicates a DSR parsing bug"),null===m)return null;switch(b){case 4:return e.fF.assert(()=>"string"==typeof m||"number"==typeof m,`Expected only string or number values for type ${b}`),"number"==typeof m?m:parseInt(m,10);case 2:case 3:return e.fF.assert(()=>"string"==typeof m||"number"==typeof m,`Expected only string or number values for type ${b}`),"number"==typeof m?m:l(m);case 7:case 6:if(e.fF.assert(()=>"string"==typeof m||"number"==typeof m,`Expected only string or number values for type ${b}`),"number"==typeof m){e.fF.assert(()=>m>=0,`Expected positive miliseconds since UNIX epoch for type ${b}`);var V=new Date(m),g=new Date(V.getUTCFullYear(),V.getUTCMonth(),V.getUTCDate(),V.getUTCHours(),V.getUTCMinutes(),V.getUTCSeconds(),V.getUTCMilliseconds()),v=new Date(V.getTime()+6e4*g.getTimezoneOffset());return v.epochTimeStamp=m,v}var f=(0,a.Kk)(m);return f&&(0,u.Fg)(f);case 1:return e.fF.assert(()=>"string"==typeof m,`Expected only string values for type ${b}`),m;case 5:return e.fF.assert(()=>"number"==typeof m||"boolean"==typeof m,`Expected number or boolean values for type ${b}`),"number"==typeof m?1===m:m;case 13:return e.fF.assert(()=>"string"==typeof m||"boolean"==typeof m,`Expected only string or boolean values for type ${b}`),p(m);default:e.fF.assertFail(`unsupported dsrValue for type ${b}`)}}function s(m,b,V){if(null===m)return(0,t.IF)();switch(V){case 4:return"number"==typeof b?(0,t.cA)(+m):(0,t.f7)(260,+m,b.toString());case 2:return"number"==typeof b?(0,t.gH)(+m):(0,t.f7)(258,+m,b.toString());case 3:return"number"==typeof b?(0,t.tx)(+m):(0,t.f7)(259,+m,b.toString());case 7:case 6:return"number"==typeof b?new t.jz(C.Ge.fromExtendedType(519),m):(0,t.f7)(519,m,b.toString());case 1:return(0,t.fL)(m.toString());case 5:return(0,t.O7)(!!m);case 13:return p(b,!0);default:e.fF.assertFail(`unsupported dsrValue for type ${V}`)}}function p(m,b){var V=typeof m;if("string"===V){if(_.endsWith(m,"L")){var g=parseInt(m,10);return b?(0,t.cA)(g,m):g}if(_.endsWith(m,"D")){var v=l(m);return b?(0,t.tx)(v,m):v}if(_.endsWith(m,"M")){var f=l(m);return b?(0,t.gH)(f,m):f}if(_.endsWith(m,"'")){if("'"===m.charAt(0)){var S=m.substring(1,m.length-1).replace(y,"'");return b?(0,t.fL)(S,m):S}if(0===m.indexOf("datetime'")){var P=m.replace(o,"'"),D=m.substring(9,P.length-1),M=(0,a.Kk)(D);return b?(0,t.CQ)(M,P):M}}if("null"===m)return b?(0,t.IF)():null;if("true"===m)return!b||(0,t.O7)(!0);if("false"===m)return!!b&&(0,t.O7)(!1)}return"boolean"===V?b?(0,t.O7)(m):m:null===m?b?(0,t.IF)():null:m}function l(m){var b=parseFloat(m);return isNaN(b)?parseFloat(m.replace("INF","Infinity")):b}},568485:function(Ce,k,r){r.d(k,{P:function(){return u},p:function(){return e}});var a=r(939123);function e(t){switch(t){case 0:return"Null";case 1:return"Text";case 2:return"Decimal";case 3:return"Double";case 4:return"Integer";case 5:return"Boolean";case 6:return"Date";case 7:return"DateTime";case 8:return"DateTimeZone";case 9:return"Time";case 10:return"Duration";case 11:return"Binary";case 12:return"None";case 13:return"Variant";case 14:return"Json";default:throw a.fF.assertNever(t)}}function u(t){switch(t){case"Null":return 0;case"Text":return 1;case"Decimal":return 2;case"Double":return 3;case"Integer":return 4;case"Boolean":return 5;case"Date":return 6;case"DateTime":return 7;case"DateTimeZone":return 8;case"Time":return 9;case"Duration":return 10;case"Binary":return 11;case"None":return 12;case"Variant":return 13;case"Json":return 14;default:throw a.fF.assertNever(t)}}},673107:function(Ce,k,r){r.d(k,{Db:function(){return h},Tq:function(){return d},Ui:function(){return n},dq:function(){return c},if:function(){return s},vH:function(){return o}});var a=r(953474),e=r(939123),u=r(564619),t=r(895127),C=r(528836),y=r(269556),i=r(517273);function o(g){e.fF.assertValue(g,"changes");for(var v=[],f=0,S=g.length;f<S;f++){var P=g[f];P.measureMove&&v.push(c(P.measureMove)),P.entityRename&&v.push(h(P.entityRename)),P.propertyRename&&v.push(d(P.propertyRename)),P.hierarchyLevelRename&&v.push(n(P.hierarchyLevelRename))}return v}function c(g){return e.fF.assertValue(g,"measureMove"),new l(g)}function h(g){return e.fF.assertValue(g,"entityRename"),new p(g)}function d(g){return e.fF.assertValue(g,"propertyRename"),new m(g)}function n(g){return e.fF.assertValue(g,"hierarchyLevelRename"),new b(g)}function s(g){return e.fF.assertValue(g,"setSchemaMeasure"),new V(g)}class p extends y.b{constructor(v){e.fF.assertValue(v,"change"),super(),this.change=v}visitColumnRef(v){if(e.fF.assertValue(v,"expr"),(0,a.Lk)(v.source)||(0,a.jv)(v.source)){var f=v.source.accept(this);return f!==v.source?new C.Wh(f,v.ref):v}return v}visitEntity(v){var f=this.change;return v.schema===f.schema&&v.entity===f.before?new C.PN(v.schema,f.after,v.variable):v}visitSubqueryRef(v){if(e.fF.assertValue(v,"expr"),v.query){var f=v.query.rewrite(this);return f!==v.query?new C.wb(f):v}return v}}class l extends y.b{constructor(v){e.fF.assertValue(v,"change"),super(),this.change=v}visitMeasureRef(v){var f=this.change,S=(0,u.Um)((0,t.Q)(v));if(e.fF.assertValue(S,"fieldPattern"),S.schema===f.schema&&S.entity===f.source&&v.ref===f.property){var P=new C.PN(S.schema,f.destination);return new C.UY(P,f.property)}return v}visitSubqueryRef(v){if(v.query){var f=v.query.rewrite(this);return f!==v.query?new C.wb(f):v}return v}}class m extends y.b{constructor(v){e.fF.assertValue(v,"change"),super(),this.change=v}visitColumnRef(v){if(e.fF.assertValue(v,"expr"),(0,a.jv)(v.source)){var f=v.source.accept(this);return f!==v.source?new C.Wh(f,v.ref):v}if((0,a.PA)(v.source))return v;var S=this.change;return this.matches(S,v)?new C.Wh(v.source,S.after):v}visitMeasureRef(v){var f=this.change;return this.matches(f,v)?new C.UY(v.source,f.after):v}visitGroupRef(v){var f=v,S=this.change;this.matches(S,v)&&(f=new C.qg(S.after,v.source,v.groupedExprs));var P=_.map(v.groupedExprs,D=>D.accept(this));return i.m.sequenceEqual(P,v.groupedExprs)||(f=new C.qg(f.ref,f.source,P)),f}visitHierarchy(v){e.fF.assertValue(v,"expr"),e.fF.assertValue(v.arg,"expr.arg");var f=v.arg.accept(this);if(f!==v.arg)return new C.jE(f,v.hierarchy);var S=this.change;return this.hierarchyMatches(S,v)?new C.jE(v.arg,S.after):v}visitPropertyVariationSource(v){e.fF.assertValue(v,"expr");var f=this.change;return this.variationMatches(f,v)?new C.c7(v.arg,v.name,f.after):v}visitSubqueryRef(v){if(e.fF.assertValue(v,"expr"),v.query){var f=v.query.rewrite(this);return f!==v.query?new C.wb(f):v}return v}variationMatches(v,f){e.fF.assertValue(v,"change"),e.fF.assertValue(f,"expr");var S=f.arg;return e.fF.assert(()=>S instanceof C.PN,"entityExpr"),S.schema===v.schema&&S.entity===v.entity&&f.property===v.before}hierarchyMatches(v,f){e.fF.assertValue(v,"change"),e.fF.assertValue(f,"expr");var S=f.arg;if((0,a.Lk)(S))return"Hierarchy"===v.objectType&&S.schema===v.schema&&S.entity===v.entity&&f.hierarchy===v.before}matches(v,f){e.fF.assertValue(v,"change"),e.fF.assertValue(f,"expr");var S=(0,u.Um)((0,t.Q)(f));return e.fF.assertValue(S,"fieldPattern"),S.schema===v.schema&&S.entity===v.entity&&f.ref===v.before}}class b extends y.b{constructor(v){e.fF.assertValue(v,"change"),super(),this.change=v}visitHierarchyLevel(v){e.fF.assertValue(v,"expr"),e.fF.assertValue(v.arg,"expr.arg");var f=this.change;return this.matches(f,v)?new C.vD(v.arg,f.after):v}matches(v,f){e.fF.assertValue(v,"change"),e.fF.assertValue(f,"expr");var S=(0,t.Q)(f);if(e.fF.assertValue(S,"fieldPattern"),!S.columnHierarchyLevelVariation){var P=(0,u.Um)(S);e.fF.assertValue(P,"fieldEntityPattern");var D=f.arg;return e.fF.assertValue(D,"hierarchyExpr"),P.schema===v.schema&&P.entity===v.entity&&D.hierarchy===v.hierarchy&&f.level===v.before}}}class V extends y.b{constructor(v){e.fF.assertValue(v,"change"),super(),this.change=v}visitMeasureRef(v){var f=this.change,S=(0,u.Um)((0,t.Q)(v));if(e.fF.assertValue(S,"fieldPattern"),S.schema!==f.schema&&S.entity===f.entity&&v.ref===f.name){var P=new C.PN(f.schema,f.entity);return new C.UY(P,f.name)}return v}}},719965:function(Ce,k,r){r.d(k,{L:function(){return a}});var a=function(e){return e[e.Version0=0]="Version0",e[e.Version1=1]="Version1",e[e.Version2=2]="Version2",e}({})},661526:function(Ce,k,r){r.d(k,{r:function(){return d}});var a=r(883803),e=r(939123),u=r(992124),t=r(265230),C=r(89354),y=r(21545),i=r(540665),h=r(737466);function d(p,l,m,b,V){return new n(p,l,m,b,V)}class n{constructor(l,m,b,V,g){this.stopCommunicationHandlers=[],this.resumeCommunicationHandlers=[],e.fF.assertValue(l,"promiseFactory"),e.fF.assertValue(m,"dataReaderProvider"),e.fF.assertValue(b,"featureSwitchService"),this.promiseFactory=l,this.dataReaderProvider=m,this.featureSwitchService=b,this.telemetryService=V,this.validator=g,this.individualConceptualSchemaCache={},this.mergedConceptualSchemaCache={}}get(l,m){var b=this;e.fF.assertNonEmpty(l,"dataSources");var V=this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.telemetryV2;if(!l)return this.promiseFactory.reject({clientError:{code:"DataSourcesUndefined"}},V);var g=this.generateSchemaKey(l),v=this.mergedConceptualSchemaCache[g];if(this.isSchemaPaused(v))return this.promiseFactory.reject(this.getPauseReason(v),V);if(v&&v.promise)return m&&m.setProperty("isConceptualSchemaCached",!0),h.b$.ensurePromiseError(v.promise,"ConceptualSchemaProxy.execute {{status}}");var f=this.promiseFactory.defer(V),S={deferred:f,promise:f.promise};this.mergedConceptualSchemaCache[g]=S,S.promise.then(()=>delete S.deferred,()=>delete this.mergedConceptualSchemaCache[g]);var P=[],D=s(l),M=function(){var x=D[w],N=b.generateSchemaKey(x),L=b.individualConceptualSchemaCache[N];if(b.isSchemaPaused(L))return P.push(b.promiseFactory.reject(b.getPauseReason(L),V)),0;if(L)return P.push(L.promise),0;var B=b.promiseFactory.defer(V),I=B.promise;P.push(I),b.individualConceptualSchemaCache[N]={deferred:B,promise:I},I.finally(()=>{b.individualConceptualSchemaCache[N]&&delete b.individualConceptualSchemaCache[N].deferred}).catch(_.noop);var W=b.dataReaderProvider.schemaReader(w);if(!W)return e.fF.assertFail(`No schema reader exists for data source type: ${w}`),B.reject({clientError:{code:"SchemaReaderUndefined"}}),0;W.execute({dataSources:x}).then(O=>b.onSuccess(W,O,N,B),O=>b.onError(W,O,N,B))};for(var w in D)M();return this.promiseFactory.all(P,V).then(x=>{var N=C.l.merge(x);this.validator&&this.validator.validate(N),S.result=N,f.resolve(N)}).catch(x=>{f.reject(x)}),h.b$.ensurePromiseError(S.promise,"ConceptualSchemaProxy.execute {{status}}")}getWithWireContract(l){return l&&_.uniqBy(l,m=>(0,y.wx)(m)).length>1?(e.fF.assertFail("Cannot look up wire contract data across multiple data source types"),this.promiseFactory.reject()):this.get(l).then(m=>{var b=this.individualConceptualSchemaCache[this.generateSchemaKey(l)];if(b)return{data:b.data,contract:m}})}getLatestCapabilities(l,m){var b=s(l);for(var V in b){var v=this.generateSchemaKey(b[V]),f=this.individualConceptualSchemaCache[v];if(f&&f.result){var S=f.result.schema(m);if(S)return S.capabilities}}}clearCache(l,m){if(!m)return this.rejectPendingDeferred(l),this.individualConceptualSchemaCache={},void(this.mergedConceptualSchemaCache={});var b=s(m);for(var V in b){var g=b[V],v=this.generateSchemaKey(g),f=JSON.stringify(_.map(g,S=>S.id));this.telemetryService.logEvent(i.I7,{datasetIds:f,requestId:l&&l.requestId,reason:l&&l.clientError.code}),this.forSchemasContainingKey(this.individualConceptualSchemaCache,v,S=>{this.rejectPendingDeferred(l,S),delete this.individualConceptualSchemaCache[S]}),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,v,S=>{delete this.mergedConceptualSchemaCache[S]})}}stopCommunication(l,m){var b,V,g={clientError:l};if(m){var v=s(m);for(var f in v)b=this.generateSchemaKey(v[f]),(V=this.individualConceptualSchemaCache[b])||(this.individualConceptualSchemaCache[b]=V={}),V.pauseReason=g,this.rejectPendingDeferred(g,b)}else this.pauseAllSchemasReason=g||{clientError:null},this.rejectPendingDeferred(g);for(var D of this.stopCommunicationHandlers)D()}resumeCommunication(l){var m;for(var b of(l?m=_.map(s(l),v=>this.generateSchemaKey(v)):(this.pauseAllSchemasReason=void 0,m=Object.keys(this.individualConceptualSchemaCache)),m))this.isSchemaPaused(this.individualConceptualSchemaCache[b])&&(delete this.individualConceptualSchemaCache[b],this.forSchemasContainingKey(this.mergedConceptualSchemaCache,b,v=>delete this.mergedConceptualSchemaCache[v]));for(var g of this.resumeCommunicationHandlers)g()}registerStopCommunicationHandlers(l){return this.stopCommunicationHandlers.push(l),()=>_.pull(this.stopCommunicationHandlers,l)}registerResumeCommunicationHandlers(l){return this.resumeCommunicationHandlers.push(l),()=>_.pull(this.resumeCommunicationHandlers,l)}isEmpty(l){var m=this;return(0,a.Z)(function*(){var b=yield m.get(l);return _.every(b.schemas,V=>_.isEmpty(V.entities)||m.isSystemEntity(V.entities))})()}isSystemEntity(l){return _.every(l,m=>(0,t.yE)(m.visibility,4)||(0,t.yE)(m.visibility,2))}isSchemaPaused(l){return!!this.pauseAllSchemasReason||l&&!l.promise}getPauseReason(l){return l&&l.pauseReason?l.pauseReason:this.pauseAllSchemasReason}rejectPendingDeferred(l,m){var b,V;for(var g in m?(b={})[m]=null:b=this.individualConceptualSchemaCache,b)(V=this.individualConceptualSchemaCache[g])&&(V.deferred&&V.deferred.reject(l),delete V.promise,delete V.deferred,this.forSchemasContainingKey(this.mergedConceptualSchemaCache,g,(v,f)=>{f.deferred&&f.deferred.reject(l),delete f.promise,delete f.deferred}))}onSuccess(l,m,b,V){var g=l.transform(m);if(g.error)this.onErrorCore(g,b,V);else{var v=this.individualConceptualSchemaCache[b];v&&(v.result=g.schema,v.data=m.data);var f=this.tryGetAdditionalIndividualCacheKey(b,g);f&&(this.individualConceptualSchemaCache[f]=v),V.resolve(g.schema)}}onError(l,m,b,V){var g=l.transform(m);this.onErrorCore(g,b,V)}onErrorCore(l,m,b){delete this.individualConceptualSchemaCache[m],l.error&&l.error.serviceError&&(l.error.clientError=new u.sI(l.error.serviceError),l.error.clientError.requestId=l.error.requestId),b.reject(l.error),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,m,V=>{delete this.mergedConceptualSchemaCache[V]})}tryGetAdditionalIndividualCacheKey(l,m){var b=m.schema.schemas;if(b){e.fF.assert(()=>1===b.length,"schemas should be length 1");var V=b[0];if(V.cubeName){var g=JSON.parse(l);e.fF.assert(()=>1===g.length,"key is length 1");var v=g[0];if(e.fF.assert(()=>V.name===v.name,"names should be same"),!v.perspectiveId)return v.perspectiveId=V.cubeName,this.generateSchemaKey([v])}}}forSchemasContainingKey(l,m,b){var V=JSON.parse(m);for(var g of V)for(var v in l){var f=JSON.parse(v);for(var S of f)g.id===S.id&&g.name===S.name&&g.type===S.type&&b(v,l[v])}}generateSchemaKey(l){return e.fF.assertValue(l,"dataSources"),JSON.stringify(_.chain(l).map(m=>({id:m.id,name:m.name,type:(0,y.wx)(m),perspectiveId:m.perspectiveId})).orderBy(["type","name","id","perspectiveId"]).value())}}function s(p){return _.groupBy(p,l=>(0,y.wx)(l))}},370728:function(Ce,k,r){r.d(k,{Az:function(){return h},Fu:function(){return o},M2:function(){return c}});var a=r(334169),e=r(288487),u=r(504156),t=r(939123),C=r(397129),y=r(540665),i=r(845856);function o(l,m){return!(!l.query||!m.query)&&l.type===m.type&&l.kinds===m.kinds&&l.perfId===m.perfId&&l.query.allowResultFromClientCache===m.query.allowResultFromClientCache&&l.query.allowClientSideFilters===m.query.allowClientSideFilters&&l.query.cacheResponseOnServer===m.query.cacheResponseOnServer&&l.query.ignoreViewportForCache===m.query.ignoreViewportForCache&&(0,C.fS)(l.query.cacheOptions,m.query.cacheOptions)&&(0,C.fS)(l.query.command,m.query.command)&&(0,C.fS)(l.query.dataSources,m.query.dataSources)}function c(l,m,b){return new n(l,m,b)}var h=(l,m,b,V)=>new s(l,m,b);class n{constructor(m,b,V){this.promiseFactory=m,this.dataReaderProvider=b,this.dataReaders={},this.telemetryService=V}execute(m){return t.fF.assertValue(m,"options"),this.getReader(m.type).execute(m.query,m.kinds,m.perfId)}getReader(m){var b=this.dataReaders[m];if(b)return b;var V=this.dataReaderProvider.reader(m);return t.fF.assertValue(V,`Could not find data reader for type: ${m}`),this.dataReaders[m]=new p(m,V,this.promiseFactory,this.telemetryService)}stopCommunication(m){this.getReader(m).stopCommunication()}resumeCommunication(m){this.getReader(m).resumeCommunication()}clearCache(m,b){this.getReader(m).clearCache(b)}rewriteCacheEntries(m,b,V){this.getReader(m).rewriteCacheEntries(b,V)}setLocalCacheResult(m,b){return this.getReader(m.type).setLocalCacheResult(m.query,b)}}class s{constructor(m,b,V){this.proxy=m,this.promiseFactory=b,this.timeoutService=V}execute(m){var b=this.lastExecute;if(b&&b.promise.pending()){if(o(m,b.query)){var V=(0,a.U)(b.deferred);return V.matchesLastExecuteQuery=!0,V}this.lastExecute.ended=!0,this.lastExecute.promise.reject(new e.hC("NewQuery"))}var g=m&&m.query&&m.query.telemetryV2Enabled,v=this.promiseFactory.defer(g),f=(0,a.U)(v),S=this.lastExecute={query:m,deferred:v,promise:f,ended:!1};if(!this.queuedExecution){this.queuedExecution=!0;var P=0,D=()=>{this.queuedExecution=!1;var E=this.lastExecute;if(E&&!E.ended){var w=this.proxy.execute(E.query);w.then(x=>{E.ended?E.deferred.reject():E.deferred.resolve(x)},x=>{if(x instanceof u.XV){if(P<3)return++P,void D();i.f.information("Async query returned not-found three times - giving up")}E.deferred.reject(x)}),E.promise.catch(x=>w.reject(x))}};this.timeoutService.setTimeout(!0===m.isColdLoad?-1:0,g).promise.then(D).catch(()=>{})}return f.finally(()=>{S.ended=!0,S===this.lastExecute&&(this.lastExecute=void 0)}).catch(()=>{}),f}cancelQuery(m){var b=this.lastExecute;b&&b.promise.pending()&&(b.ended=!0,b.promise.reject("PausedQuery"===m?new e.xs:new e.hC(m)))}}class p{constructor(m,b,V,g){t.fF.assertAnyValue(m,"pluginName"),t.fF.assertValue(b,"reader"),t.fF.assertValue(V,"promiseFactory"),t.fF.assertValue(g,"telemetryService"),this.name=m,this.reader=b,this.promiseFactory=V,this.telemetryService=g}execute(m,b,V){t.fF.assertValue(m,"options"),t.fF.assertAnyValue(V,"perfId");var g=this.promiseFactory.defer(m.telemetryV2Enabled),v=this.reader;if(v.execute){var f=v.execute(m,V);f.then(P=>{if(P){var D=this.transform(P,b,V,m.performanceActivity),M=D.error;if(D.performanceActivities&&M&&(M.performanceActivities=D.performanceActivities),M)return g.reject(M),void this.telemetryService.logEvent(y.zT,{requestId:P.requestId,isError:!0,errorSource:"PowerBI",errorCode:M.code});g.resolve({dataReaderResult:D,dataViewSource:{data:P}})}else g.reject(new u.C6),this.telemetryService.logEvent(y.zT,{isError:!0,errorSource:"PowerBI",errorCode:"DataProxy_EmptyData"})},P=>{g.reject(P),(!P||!P.ignorable)&&this.telemetryService.logEvent(y.zT,{requestId:P?.requestId,isError:!0,errorSource:"PowerBI",errorCode:P?P.code:"DataProxy_ProviderError"})}).catch(P=>{g.reject(P)});var S=(0,a.U)(g);return S.catch(P=>{P=P||new u._W,f.reject(P)}),S}return m.command?g.resolve({dataReaderResult:this.transform(m.command,b,V)}):g.reject(),(0,a.U)(g)}stopCommunication(){var m=this.reader;m.stopCommunication&&m.stopCommunication()}resumeCommunication(){var m=this.reader;m.resumeCommunication&&m.resumeCommunication()}clearCache(m){var b=this.reader.cache;b&&b.clear(m)}rewriteCacheEntries(m,b){var V=this.reader.cache;V&&V.rewrite(m,b)}setLocalCacheResult(m,b){var V=this.reader;V.setLocalCacheResult&&V.setLocalCacheResult(m,b)}transform(m,b,V,g){var v=this.reader;if(v.transform)return v.transform(m,b||31,V,g);var f={metadata:{columns:[]}};return f[this.name]=m,{dataView:f}}}},504156:function(Ce,k,r){r.d(k,{C6:function(){return C},Kd:function(){return t},XV:function(){return i},_W:function(){return y},cp:function(){return o},qc:function(){return u}});var a=r(992330),e=r(288487);class u{constructor(h){this.innerError=h,this.code="QueryPipelineError",this.eventFactory=a.mN,this.ignorable=!!h?.ignorable}getDetails(h){return{message:"",displayableErrorInfo:[]}}}class t{get code(){return"FailedRealTimeUpdate"}get ignorable(){return!1}getDetails(h){return{message:h.get("Realtime_UpdateFailedValue"),displayableErrorInfo:[{errorInfoKey:h.get("Realtime_UpdateFailedKey"),errorInfoValue:h.get("Realtime_UpdateFailedValue")}],debugErrorInfo:[{errorInfoKey:e.zd,errorInfoValue:this.code}]}}}class C{get code(){return"EmptyData"}get ignorable(){return!1}getDetails(h){return{message:h.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:h.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:h.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:e.zd,errorInfoValue:this.code}]}}}class y{get code(){return"InvalidDataResponse"}get ignorable(){return!1}getDetails(h){return{message:h.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:h.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:h.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:e.zd,errorInfoValue:this.code}]}}}var i=(()=>{class c{get code(){return c.Code}get ignorable(){return!1}getDetails(d){return{message:d.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:d.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:d.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:e.zd,errorInfoValue:this.code}]}}}return c.Code="AsyncResultNotFound",c})(),o=(()=>{class c{get code(){return i.Code}get ignorable(){return!1}getDetails(d){return{message:d.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:d.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:d.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:e.zd,errorInfoValue:this.code}]}}}return c.Code="AsyncResultTimedOut",c})()},651014:function(Ce,k,r){r.d(k,{ON:function(){return d},Om:function(){return i},aU:function(){return n}});var a=r(939123),e=r(265230),u=r(132640),t=r(992104),C=r(571619),y=r(359155);class i{static getDataPointsDescription(m,b){if(m&&!_.isEmpty(b)){var V=this.getDataViewKind(m),g=[];for(var v of b){var f=this.query([m],v,V,[],!0),S=(0,u.tV)(v);g.push({selector:S,values:f})}return g}}static getDataViewKind(m){var b=0;if(m.matrix)b=2;else if(m.table)b=8;else{if(!m.categorical)return void a.fF.assertFail("DataViewQueryEngine for this call doesnt support dataView other than categorical/table/matrix");b=1}return b}static query(m,b,V,g,v){if(_.isEmpty(m)||!b)return[];var S,f=(0,u.gU)(b);if(_.some(f,L=>!(0,u.yN)(L)))return[];S=g&&!v?g:b.metadata;var P=[];if((0,e.yE)(V,8))for(var D of m){var M=new h(b,S,v);s(D.table,M),P.push(...M.valueDetails||[])}else if((0,e.yE)(V,1))for(var E of m){var w=new o(b,S,v);n(E,w),P.push(...w.valueDetails||[])}else if((0,e.yE)(V,2))for(var x of m){var N=new c(b);p(x.matrix,N),P.push(...N.valueDetails||[])}return P}}class o{constructor(m,b,V){this.ignoreQueryName=V,this.requestedValues=b,this.identities=(0,u.gU)(m),this.valueDetails=[]}visitCategoryColumns(m,b){var V=this;if(!_.isEmpty(m)){var g=function(f){if(V.ignoreQueryName||_.includes(V.requestedValues,f.source.queryName))for(var S=0;S<f.identity.length;S++){var P=f.identity[S];if(_.includes(V.identities,P)){var D=_.find(b.columns,M=>M.index===f.source.index);V.valueDetails.push({identity:P,value:f.values[S],expr:D.expr,formattedValue:(0,y.WU)(f.values[S],f.source.format)});break}}};for(var v of m)g(v)}}visitValueColumnGroups(m,b){if(!_.isEmpty(m)&&b&&(this.ignoreQueryName||_.includes(this.requestedValues,b.queryName)))for(var V of m)if(_.includes(this.identities,V.identity))return void this.valueDetails.push({value:V.name,formattedValue:(0,y.WU)(V.name,b.format),expr:b.expr,identity:V.identity})}visitValueColumn(m){return!!_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,m.source.queryName)}visitValue(m,b,V,g,v){d(this.identities,b.data)||this.valueDetails.push({expr:V.expr,value:m,formattedValue:(0,y.WU)(m,V.format),identity:_.head(b.data)})}}class c{constructor(m){this.valueDetails=[],this.identitiesToSearch=(0,u.gU)(m)}visitHierarchy(m){for(var b=m.root;b&&b.children&&this.identitiesToSearch.length>0;)b=this.searchNode(b,m.levels)}searchNode(m,b){for(var V of this.identitiesToSearch)for(var g of m.children)if(g.identity===V){var v=g.levelValues,f=b[g.level||0];if(!_.isEmpty(v))for(var S of v){var P=f.sources[S.levelSourceIndex||0];this.valueDetails.push({expr:P.expr,identity:V,value:S.value,formattedValue:(0,y.WU)(S.value,P.format)})}return _.remove(this.identitiesToSearch,V),g}}}class h{constructor(m,b,V){this.ignoreQueryName=V,this.requestedValues=b,this.identities=(0,u.gU)(m),this.valueDetails=[],this.requestedColumnsIndices=[]}visitColumn(m,b){(this.ignoreQueryName||m.isMeasure&&(_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,m.queryName)))&&this.requestedColumnsIndices.push(b)}visitRow(m,b){if(a.fF.assertAnyValue(m.rows[b],"A row for this rowIndex does not exist"),!m.identity||!d(this.identities,[m.identity[b]]))for(var g of this.requestedColumnsIndices){var v=m.rows[b][g],f=m.columns[g];this.valueDetails.push({expr:f.expr,value:v,formattedValue:(0,y.WU)(v,f.format),identity:m.identity&&m.identity[b]})}}}function d(l,m){if(l){var V,b=function(v){if(!_.some(m,f=>(0,C.fS)(v,f)))return{v:!0}};for(var g of l)if(V=b(g))return V.v}return!1}function n(l,m){var b=l.categorical;if(a.fF.assertAnyValue(m,"visitor should be defined"),b&&!_.isEmpty(b.values)){var V=(0,t.zq)(b);m.visitCategoryColumns(V,l.metadata);var g=_.head(b.categories),v=g&&_.clone(g.identity),f=b.values.grouped();for(var S of(m.visitValueColumnGroups(f,b.values.source),f)){var P=S.identity;for(var D of S.values)if(m.visitValueColumn(D))for(var M=Object.keys(D.values),E=0;E<M.length;E++){var x=D.values[M[E]],L={data:v?[v[E]]:[],metadata:D.source.queryName};P&&L.data.push(P),m.visitValue(x,L,D.source,b.categories,E)}}}}function s(l,m){if(a.fF.assertAnyValue(m,"visitor should be defined"),l&&!_.isEmpty(l.rows)){for(var b=l.columns,V=0;V<b.length;V++)m.visitColumn(b[V],V);for(var g=0;g<l.rows.length;g++)m.visitRow(l,g)}}function p(l,m){l.rows&&m.visitHierarchy(l.rows),l.columns&&m.visitHierarchy(l.columns)}},470446:function(Ce,k,r){r.d(k,{D:function(){return t},m:function(){return u}});var a=r(571619),e=r(743395);function u(C){return{scopeId:e.ib.serializeExpr(C.expr)}}function t(C){if(C.scopeId){var y=e.ib.deserializeExpr(C.scopeId);if(y)return(0,a.TZ)(y)}}},73794:function(Ce,k,r){r.d(k,{m8:function(){return h},mc:function(){return d},qC:function(){return y},vB:function(){return i}});var a=r(939123),e=r(438043),u=r(124463),t=r(931145),C={get:V=>V,getOptional:V=>V,format:V=>V};function y(V,g){a.fF.assertValue(V,"objectDescriptors");var v={};for(var f in V)v[f]=o(V[f],g||C);return v}function i(V){a.fF.assertValue(V,"wireObjectDescriptors");var g={};for(var v in V)g[v]=c(V[v]);return g}function o(V,g){if(V){var v={properties:{}};for(var f in V.displayName&&(v.displayName=(0,e.G)(V.displayName,g)),V.description&&(v.description=(0,e.G)(V.description,g)),V.properties)v.properties[f]=h(V.properties[f],g);return v}}function c(V){var g={properties:{}};for(var v in V.displayName&&(g.displayName=(0,e.V)(V.displayName)),V.description&&(g.description=(0,e.V)(V.description)),V.properties)g.properties[v]=d(V.properties[v]);return g}function h(V,g){var v={type:n(V.type,g)};return V.rule&&(v.rule=V.rule),V.displayName&&(v.displayName=(0,e.G)(V.displayName,g)),V.description&&(v.description=(0,e.G)(V.description,g)),V.placeHolderText&&(v.placeHolderText=(0,e.G)(V.placeHolderText,g)),v}function d(V){var g={type:s(V.type)};return V.displayName&&(g.displayName=(0,e.V)(V.displayName)),V.description&&(g.description=(0,e.V)(V.description)),V.placeHolderText&&(g.placeHolderText=(0,e.V)(V.placeHolderText)),V.rule&&(g.rule=V.rule),g}function n(V,g){var v=t.Ge.fromDescriptor(V);return v&&v.enum?{enumeration:l(v.enum,g)}:v?.flagsEnum?{flagsEnumeration:l(v.flagsEnum,g)}:V}function s(V){return t.Ge.fromDescriptor(V)?function(V){var g;if(V.enumeration)g={enumeration:m(V.enumeration)};else if(V.flagsEnumeration)g={flagsEnumeration:m(V.flagsEnumeration)};else for(var f in g={},V)g[f]=V[f];return g}(V):V}function l(V,g){return _.map(V.members(),v=>function(V,g){return{displayName:(0,e.G)(V.displayName,g),value:V.value}}(v,g))}function m(V){return(0,u.i)(V)}},792375:function(Ce,k,r){r.d(k,{PU:function(){return je},wN:function(){return q},kO:function(){return H},OT:function(){return Te},L1:function(){return le},UU:function(){return G},JF:function(){return he},iz:function(){return Q},kg:function(){return Ge},un:function(){return W},CA:function(){return F},kS:function(){return T},B6:function(){return ee},W7:function(){return me},xF:function(){return be},Vg:function(){return ve},UZ:function(){return Ye},OR:function(){return J},U9:function(){return ze},bI:function(){return Z},kW:function(){return Xe}});var a=r(542666),e=r(722709),u=r(939123),t=r(845856),C=r(305438),y=r(132640),i=r(969143),o=r(393789),c=r(791108),h=r(670808),d=r(26026),n=r(377176),s=r(528836),p=r(197799),l=r(982583),m=r(939349),b=r(776073),V=r(379712),g=r(931145),v=r(470446);function f(et){var ht=et.kind;if(!ht)return!1;switch(ht){case"AnnotationTemplate":case"Icon":case"ExprList":case"ErrorRange":case"ItemLocation":return!0;default:u.fF.assertNever(ht)}return!1}var z,D=r(731859),M=r(233427),E=r(743395),w=g.Ge.fromDescriptor({bool:!0}),x=g.Ge.fromDescriptor({numeric:!0}),N=g.Ge.fromDescriptor({integer:!0}),L=g.Ge.fromDescriptor({text:!0}),B={fill:{solid:{color:!0}}};function W(et,ht){var Nt=et&&et[ht];if(Nt){for(var Lt,Qe=0,bt=Nt.length;Qe<bt;Qe++){var Rt=Nt[Qe];if(null==Rt.selector){Lt=Rt;break}}if(Lt)return Lt.properties}}function F(et){return et&&"ExprContext"===et.propertyDefinitionKind}function T(et){return _.isArray(et)&&!!et[0].dataMap}function H(et,ht,Nt,Lt="objects"){if(null!=et)if(!_.isEmpty(et)||(0,a.Jx)(et)){var Qe=ht();if(Qe)Nt[Lt]=q(et,Qe);else{var Rt,bt=!1;Object.defineProperty(Nt,Lt,{enumerable:!0,get:()=>(bt||(bt=!0,Rt=q(et,ht())),Rt),set:Gt=>{bt=!0,Rt=Gt}})}}else Nt[Lt]={};else Nt[Lt]=void 0}function q(et,ht){if(u.fF.assertAnyValue(et,"input"),u.fF.assertAnyValue(ht,"descriptors"),et){!z&&!ht&&(z=!0,t.f.error("deserializeObjects called with no descriptors - ",!0));var Nt={};for(var Lt in et){var Qe=void 0;if(!ht||(Qe=ht[Lt]))for(var bt=et[Lt],Rt=Nt[Lt]=[],Gt=0,ir=bt.length;Gt<ir;Gt++)Rt.push(ne(bt[Gt],Qe,!ht))}return Nt}}function G(et){if(et)return _.map(et,le)}function J(et){if(et)return _.map(et,Ye)}function Z(et){if(et)return{category:et.categoryString,underlyingType:et.extendedType}}function Q(et){if(et)return new g.Ge(et.underlyingType,et.category)}function ne(et,ht,Nt){if(u.fF.assertAnyValue(et,"input"),u.fF.assertAnyValue(ht,"descriptor"),et){var Lt={properties:we(et.properties,ht?ht.properties:null,Nt)},Qe=le(et.selector);return Qe&&(Lt.selector=Qe),Lt}}function le(et){if(u.fF.assertAnyValue(et,"input"),null===et)return null;if(et){var ht={};return et.data&&(ht.data=_.chain(et.data).map(Nt=>ye(Nt)).filter(Nt=>null!=Nt).value()),et.metadata&&(ht.metadata=et.metadata),et.id&&(ht.id=et.id),void 0!==et.highlightMatching&&(ht.highlightMatching=et.highlightMatching),null!=et.order&&(ht.order=et.order),ht}}function he(et){if(u.fF.assertAnyValue(et,"input"),et){var ht={};if(et.dataMap)for(var Nt in ht.dataMap={},et.dataMap)ht.dataMap[Nt]=_.chain(et.dataMap[Nt]).map(Lt=>ye(Lt)).filter(Lt=>null!=Lt).value();return et.metadata&&(ht.metadata=et.metadata),et.id&&(ht.id=et.id),ht}}function Se(et,ht,Nt){et.decomposedIdentities&&(ht.decomposedIdentities=Nt(et.decomposedIdentities)),et.queryNames&&(ht.queryNames=et.queryNames),et.queryNameMap&&(ht.queryNameMap=et.queryNameMap),et.metadata&&(ht.metadata=et.metadata),et.id&&(ht.id=et.id)}function Ge(et){if(et)return _.map(et,ht=>({objectName:ht.objectName,selectorsByColumn:he(ht.selectorsByColumn)}))}function ye(et){return u.fF.assertValue(et,"input"),et.scopeId?(0,v.D)(et):et.wildcard?(0,h.ms)(_.map(et.wildcard,E.ib.deserializeExpr)):et.roles?(0,o.Yp)(et.roles):et.total?(0,c.ms)(_.map(et.total,E.ib.deserializeExpr)):et.dataViewWildcard?(0,d.Ue)(et.dataViewWildcard.matchingOption):void 0}function we(et,ht,Nt){if(u.fF.assertAnyValue(et,"input"),u.fF.assertAnyValue(ht,"propertyDescriptors"),et){var Lt={};for(var Qe in et){var bt=je(et[Qe],ht?ht[Qe]:null,Nt);void 0!==bt&&(Lt[Qe]=bt)}return Lt}}function je(et,ht,Nt){if(u.fF.assertAnyValue(et,"input"),u.fF.assertAnyValue(ht,"propertyDescriptor"),ht){var Lt=Xt(ht.type);return F(et)?{propertyDefinitionKind:"ExprWithContext",value:de(et.value,Lt.value),context:Ze(et.context)}:function(et,ht){return!!ht.value}(0,Lt)?de(et,Lt.value):Pe(et,Lt.structural)}if(Nt&&et){if(F(et))return{propertyDefinitionKind:"ExprWithContext",value:E.ib.deserializeExpr(et.value.expr),context:Ze(et.context)};var Qe=et;if(Qe.expr)return E.ib.deserializeExpr(Qe.expr);if(Qe.solid)return Pe(Qe,B);if(Qe.filter)return E.ib.deserializeFilter(Qe.filter);if(f(Qe))return Ve(Qe)}}function de(et,ht){if(u.fF.assertValue(ht,"type"),void 0!==ht.primitiveType&&et?.expr)return E.ib.deserializeExpr(et.expr)}function Pe(et,ht){if(u.fF.assertValue(ht,"type"),ht.fill&&ht.fill.solid&&ht.fill.solid.color&&et)return et.solid&&et.solid.color?{solid:{color:de(et.solid.color,g.Ge.fromPrimitiveTypeAndCategory(1))}}:void 0;if(ht.fillRule){var Qe=cr(et,de);if(Qe)return Qe}var bt=et;return ht.filter&&bt&&bt.filter?E.ib.deserializeFilter(bt.filter):ht.image&&bt&&bt.image?function(et){u.fF.assertValue(et,"input");var ht={name:de(et.name,L),url:de(et.url,g.Ge.fromDescriptor(p.z))};return et.scaling&&(ht.scaling=de(et.scaling,L)),ht}(bt.image):ht.geoJson&&bt&&bt.geoJson?function(et){return u.fF.assertValue(et,"input"),{type:de(et.type,L),name:de(et.name,L),content:de(et.content,L)}}(bt.geoJson):ht.paragraphs&&et?function(et){return u.fF.assertValue(et,"input"),_.map(et,ht=>{var Nt={textRuns:_.map(ht.textRuns,Lt=>(0,m.Y0)(Lt)?ue(Lt):(0,m.Zm)(Lt)?function(et){var ht={cases:_.map(et.cases,Nt=>{var Lt={pattern:de(Nt.pattern,L),textRuns:_.map(Nt.textRuns,Qe=>ue(Qe))};return Lt}),defaultCase:{textRuns:_.map(et.defaultCase.textRuns,Nt=>ue(Nt))},expression:ke(et.expression)};return ht}(Lt):void 0)};return ht.horizontalTextAlignment&&(Nt.horizontalTextAlignment=ht.horizontalTextAlignment),ht.listType&&(Nt.listType=ht.listType),ht.indent&&(Nt.indent=ht.indent),Nt})}(et):ht.queryTransform&&et?function(et){return u.fF.assertValue(et,"input"),{algorithm:et.algorithm,parameters:_.map(et.parameters,Nt=>({name:Nt.Name,expr:E.ib.deserializeExpr(Nt)}))}}(et):ht.dataBars&&et?function(et){return u.fF.assertValue(et,"input"),{minValue:et.minValue?de(et.minValue,x):void 0,maxValue:et.maxValue?de(et.maxValue,x):void 0,positiveColor:Pe(et.positiveColor,B),negativeColor:Pe(et.negativeColor,B),axisColor:Pe(et.axisColor,B),reverseDirection:de(et.reverseDirection,w),hideText:de(et.hideText,w),totalMatchingOption:et.totalMatchingOption?de(et.totalMatchingOption,N):void 0}}(et):ht.qnaVisualLink&&et?function(et){u.fF.assertValue(et,"input");var ht={};return et.suggestedUtterances&&(ht.suggestedUtterances=_.map(et.suggestedUtterances,Nt=>({utterance:Nt.Utterance}))),_.isEmpty(ht)?void 0:ht}(et):f(et)?Ve(et,ht):void u.fF.assertFail("Deserializing a structural type failed")}function Ve(et,ht){u.fF.assertValue(et,"input");var Nt=et.kind;switch(Nt){case"AnnotationTemplate":return(!ht||ht.annotationTemplate)&&function(et){if(u.fF.assertValue(et,"input"),function(et){return"callout"===et.annotationType}(et)){var ht=et,Nt={kind:"AnnotationTemplate",annotationType:"callout",text:E.ib.deserializeExpr(ht.text.expr)};return null!=ht.offsetX&&(Nt.offsetX=E.ib.deserializeExpr(ht.offsetX.expr)),null!=ht.offsetY&&(Nt.offsetY=E.ib.deserializeExpr(ht.offsetY.expr)),null!=ht.width&&(Nt.width=E.ib.deserializeExpr(ht.width.expr)),null!=ht.height&&(Nt.height=E.ib.deserializeExpr(ht.height.expr)),null!=ht.lastEditUTCTimestamp&&(Nt.lastEditUTCTimestamp=E.ib.deserializeExpr(ht.lastEditUTCTimestamp.expr)),Nt}var Lt=et,Qe={kind:"AnnotationTemplate",annotationType:"highlight",color:E.ib.deserializeExpr(Lt.color.expr)};return null!=Lt.backgroundColor&&(Qe.backgroundColor=E.ib.deserializeExpr(Lt.backgroundColor.expr)),null!=Lt.emphasizeText&&(Qe.emphasizeText=E.ib.deserializeExpr(Lt.emphasizeText.expr)),Qe}(et);case"Icon":return(!ht||ht.icon)&&function(et){u.fF.assertValue(et,"input");var ht={kind:"Icon"};return et.layout&&(ht.layout=de(et.layout,L)),et.verticalAlignment&&(ht.verticalAlignment=de(et.verticalAlignment,w)),et.value&&(ht.value=de(et.value,L)),ht}(et);case"ExprList":return(!ht||ht.exprList||ht.selectedValues)&&function(et){u.fF.assertValue(et,"input");var ht={exprs:[],kind:"ExprList"};return ht.exprs=_.map(et.exprs,Nt=>E.ib.deserializeExpr(Nt.expr)),ht}(et);case"ErrorRange":return(!ht||ht.errorRange)&&function(et){u.fF.assertValue(et,"input");var ht={kind:"ErrorRange"};if(et.explicit){var Nt=et.explicit;ht.explicit={isRelative:E.ib.deserializeExpr(Nt.isRelative.expr)},Nt.lowerBound&&(ht.explicit.lowerBound=E.ib.deserializeExpr(Nt.lowerBound.expr)),Nt.upperBound&&(ht.explicit.upperBound=E.ib.deserializeExpr(Nt.upperBound.expr))}else if(et.symmetricalExplicit)ht.symmetricalExplicit={delta:E.ib.deserializeExpr(et.symmetricalExplicit.delta.expr)};else if(et.standardDeviation){var Qe=et.standardDeviation;ht.standardDeviation={value:E.ib.deserializeExpr(Qe.value.expr),multiplier:E.ib.deserializeExpr(Qe.multiplier.expr)}}else if(et.percentage){var bt=et.percentage;ht.percentage={lowerBoundDelta:E.ib.deserializeExpr(bt.lowerBoundDelta.expr),upperBoundDelta:E.ib.deserializeExpr(bt.upperBoundDelta.expr)}}else if(et.percentile){var Rt=et.percentile;u.fF.assertValue(Rt.lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),u.fF.assertValue(Rt.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),ht.percentile={lowerBound:E.ib.deserializeExpr(Rt.lowerBound.expr),upperBound:E.ib.deserializeExpr(Rt.upperBound.expr)}}return ht}(et);case"ItemLocation":return(!ht||ht.itemLocation)&&function(et){var ht;if(u.fF.assertValue(et,"input"),et.byReference&&(ht={kind:"ItemLocation",byReference:{itemId:de(et.byReference.itemId,L)}},null!=et.byReference.workspaceId&&(ht.byReference.workspaceId=de(et.byReference.workspaceId,L)),null!=et.byReference.folderId&&(ht.byReference.folderId=de(et.byReference.folderId,L))),ht&&et.metadata){ht.metadata={};var Lt=et.metadata.dataFunction;Lt&&(ht.metadata.dataFunction={name:Lt.name,autoRefresh:Lt.autoRefresh,parameters:Lt.parameters.map(Qe=>{switch(Qe.type){case"SlicerParameter":return{...Qe};case"ValueParameter":return{...Qe,value:E.ib.deserializeExpr(Qe.value.expr)}}})})}return ht}(et);default:u.fF.assertNever(Nt)}}function Ze(et){u.fF.assertValue(et,"input");var ht={};return _.isEmpty(et.filterContext)||(ht.filterContext=_.map(et.filterContext,Nt=>({filter:E.ib.deserializeFilter(Nt.filter),metadata:Nt.metadata?(0,M.hE)(Nt.metadata):void 0}))),ht}function ue(et){var ht={value:_e(et.value)};return et.textStyle&&(ht.textStyle=et.textStyle),et.url&&(ht.url=et.url),et.mentionEmail&&(ht.mentionEmail=et.mentionEmail),ht}function _e(et){var ht;if(_.isString(et))ht=et;else if(!(ht=de(et,L))){var Nt=et;(0,V.U)(Nt)&&(ht=Nt)}return ht}function ke(et){var ht;if(!(ht=de(et,L))){var Nt=et;(0,V.U)(Nt)&&(ht=Nt)}return ht}function be(et,ht,Nt,Lt){if(u.fF.assertAnyValue(et,"contract"),u.fF.assertAnyValue(ht,"descriptors"),et){var Qe={};for(var bt in et){var Rt=void 0;if(!ht||(Rt=ht[bt]))for(var Gt=et[bt],ir=Qe[bt]=[],Ht=0,vr=Gt.length;Ht<vr;Ht++)ir.push(Ie(Gt[Ht],Rt,!ht,Nt,Lt))}return Qe}}function Ie(et,ht,Nt,Lt,Qe){if(u.fF.assertAnyValue(et,"contract"),u.fF.assertAnyValue(ht,"descriptor"),et){var bt=function(et,ht,Nt,Lt,Qe){if(u.fF.assertAnyValue(et,"contract"),u.fF.assertAnyValue(ht,"descriptors"),et){var bt={};for(var Rt in et){var Gt=ht?ht[Rt]:null;if(!(Qe&&Gt?.transient||!Nt&&!Gt)){var ir=me(et[Rt],Gt,Nt,Lt);void 0===ir?u.fF.assertFail("DataViewObjectSerializer: failed to serialize property: "+Rt+" due to malformed property value."):bt[Rt]=ir}}return bt}}(et.properties,ht?ht.properties:null,Nt,Lt,Qe);if(bt){var Rt={properties:bt},Gt=Ye(et.selector);return Gt&&(Rt.selector=Gt),Rt}}}function Ye(et){if(u.fF.assertAnyValue(et,"contract"),null===et)return null;if(et){var ht={};return et.data&&(ht.data=_.chain(et.data).map(Nt=>He(Nt)).filter(Nt=>null!=Nt).value()),et.metadata&&(ht.metadata=et.metadata),et.id&&(ht.id=et.id),void 0!==et.highlightMatching&&(ht.highlightMatching=et.highlightMatching),null!=et.order&&(ht.order=et.order),ht}}function ze(et){if(u.fF.assertAnyValue(et,"contract"),et){var ht={};if(et.dataMap)for(var Nt in ht.dataMap={},et.dataMap){var Lt=(0,e.rY)(et.dataMap[Nt]);ht.dataMap[Nt]=_.chain(Lt).map(Qe=>He(Qe)).filter(Qe=>null!=Qe).value()}return et.metadata&&(ht.metadata=et.metadata),et.id&&(ht.id=et.id),ht}}function ee(et){if(u.fF.assertAnyValue(et,"contract"),et){var ht={};return Se(et,ht,D.Rs),ht}}function ve(et,ht){return ht?ee((0,C.od)(et)):_.map(et,Lt=>ze(Lt))}function Te(et){if(function(et){return!_.isArray(et)&&!!et.decomposedIdentities}(et)){var ht=function(et){if(u.fF.assertAnyValue(et,"input"),et){var ht={};return Se(et,ht,D.H9),ht}}(et);return(0,C.k4)(ht)}return _.map(et,Nt=>he(Nt))}function Xe(et){if(et)return _.map(et,ht=>({objectName:ht.objectName,selectorsByColumn:ze(ht.selectorsByColumn)}))}function He(et){return u.fF.assertValue(et,"contract"),(0,y.yN)(et)&&et.expr?(0,v.m)(et):(0,y.QV)(et)&&et.exprs?{wildcard:_.map(et.exprs,ht=>E.ib.serializeExpr(ht))}:(0,y.j9)(et)&&et.roles?{roles:et.roles}:(0,y.tQ)(et)&&et.exprs?{total:_.map(et.exprs,ht=>E.ib.serializeExpr(ht))}:(0,y.qm)(et)?{dataViewWildcard:qe(et)}:void u.fF.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function qe(et){return{matchingOption:et.matchingOption}}function me(et,ht,Nt,Lt){if(u.fF.assertAnyValue(et,"contract"),u.fF.assertAnyValue(ht,"descriptor"),ht){var Qe=Xt(ht.type);return(0,i.er)(et)?{propertyDefinitionKind:"ExprContext",value:Ee(et.value,Qe.value),context:re(et.context,Lt)}:Qe.value?Ee(et,Qe.value):fe(et,Qe.structural)}if(Nt&&et){if((0,i.er)(et))return{propertyDefinitionKind:"ExprContext",value:{expr:E.ib.serializeExpr(et.value)},context:re(et.context,Lt)};if(et instanceof s.Il)return{expr:E.ib.serializeExpr(et)};if(et instanceof n.yl)return{filter:E.ib.serializeFilter(et)};var bt=et;if((0,b.dS)(bt))return Re(bt);if(bt.solid)return fe(et,B)}}function Ee(et,ht){if(u.fF.assertValue(ht,"type"),void 0!==ht?.primitiveType&&et instanceof s.Il)return{expr:E.ib.serializeExpr(et,!0)}}function fe(et,ht){if(u.fF.assertValue(ht,"type"),et){if((0,b.dS)(et))return Re(et,ht);if(ht.fill&&ht.fill.solid&&ht.fill.solid.color)return{solid:{color:Ee(et.solid.color,L)}};if(ht.fillRule){var Qe=cr(et,Ee);if(Qe)return Qe}if(ht.filter)return{filter:E.ib.serializeFilter(et)};if(ht.image)return{image:se(et)};if(ht.geoJson)return{geoJson:Ae(et)};if(ht.paragraphs)return function(et){return u.fF.assertValue(et,"definition"),_.map(et,ht=>{var Nt={textRuns:_.map(ht.textRuns,Lt=>(0,m.IM)(Lt)?Me(Lt):(0,m.Kt)(Lt)?{cases:_.map(Lt.cases,bt=>({pattern:Ee(bt.pattern,L),textRuns:_.map(bt.textRuns,Gt=>Me(Gt))})),defaultCase:{textRuns:_.map(Lt.defaultCase.textRuns,bt=>Me(bt))},expression:st(Lt.expression)}:void 0)};return ht.horizontalTextAlignment&&(Nt.horizontalTextAlignment=ht.horizontalTextAlignment),ht.listType&&(Nt.listType=ht.listType),ht.indent&&(Nt.indent=ht.indent),Nt})}(et);if(ht.queryTransform)return function(et){return{algorithm:et.algorithm,parameters:_.map(et.parameters,ht=>{var Nt=E.ib.serializeExpr(ht.expr);return Nt.Name=ht.name,Nt})}}(et);if(ht.dataBars)return function(et){return{minValue:Ee(et.minValue,x),maxValue:Ee(et.maxValue,x),positiveColor:fe(et.positiveColor,B),negativeColor:fe(et.negativeColor,B),axisColor:fe(et.axisColor,B),reverseDirection:Ee(et.reverseDirection,w),hideText:Ee(et.hideText,w),totalMatchingOption:Ee(et.totalMatchingOption,N)}}(et);if(ht.qnaVisualLink)return function(et){u.fF.assertValue(et,"input");var ht={};if(et.suggestedUtterances){ht.suggestedUtterances=_.map(et.suggestedUtterances,Lt=>({Version:"1.0",Utterance:Lt.utterance}))}return _.isEmpty(ht)?void 0:ht}(et);u.fF.assertFail("Serializing a structural type failed")}}function Re(et,ht){var Nt=et.kind;switch(Nt){case"AnnotationTemplate":return(!ht||ht.annotationTemplate)&&function(et){if(u.fF.assertValue(et,"input"),(0,l.lP)(et)){var ht=et,Nt={kind:"AnnotationTemplate",annotationType:"callout",text:Ee(ht.text,L)};return null!=ht.offsetX&&(Nt.offsetX=Ee(ht.offsetX,x)),null!=ht.offsetY&&(Nt.offsetY=Ee(ht.offsetY,x)),null!=ht.width&&(Nt.width=Ee(ht.width,x)),null!=ht.height&&(Nt.height=Ee(ht.height,x)),null!=ht.lastEditUTCTimestamp&&(Nt.lastEditUTCTimestamp=Ee(ht.lastEditUTCTimestamp,x)),Nt}var Lt=et,Qe={kind:"AnnotationTemplate",annotationType:"highlight",color:Ee(Lt.color,L)};return null!=Lt.backgroundColor&&(Qe.backgroundColor=Ee(Lt.backgroundColor,L)),null!=Lt.emphasizeText&&(Qe.emphasizeText=Ee(Lt.emphasizeText,w)),Qe}(et);case"Icon":return(!ht||ht.icon)&&function(et){var ht={kind:"Icon"};return et.layout&&(ht.layout=Ee(et.layout,L)),et.verticalAlignment&&(ht.verticalAlignment=Ee(et.verticalAlignment,w)),et.value&&(ht.value=Ee(et.value,L)),ht}(et);case"ExprList":return(!ht||ht.exprList||ht.selectedValues)&&function(et){u.fF.assertValue(et,"input");var ht={exprs:[],kind:"ExprList"};return ht.exprs=_.map(et.exprs,Nt=>Ee(Nt,L)),ht}(et);case"ErrorRange":return(!ht||ht.errorRange)&&function(et){u.fF.assertValue(et,"input");var ht={kind:"ErrorRange"};if(et.explicit){var Nt=et.explicit;ht.explicit={isRelative:Ee(Nt.isRelative,w)},Nt.lowerBound&&(ht.explicit.lowerBound=Ee(Nt.lowerBound,x)),Nt.upperBound&&(ht.explicit.upperBound=Ee(Nt.upperBound,x))}else if(et.symmetricalExplicit)ht.symmetricalExplicit={delta:Ee(et.symmetricalExplicit.delta,x)};else if(et.standardDeviation){var Qe=et.standardDeviation;ht.standardDeviation={value:Ee(Qe.value,x),multiplier:Ee(Qe.multiplier,x)}}else if(et.percentage){var bt=et.percentage;ht.percentage={lowerBoundDelta:Ee(bt.lowerBoundDelta,x),upperBoundDelta:Ee(bt.upperBoundDelta,x)}}else if(et.percentile){var Rt=et.percentile;ht.percentile={lowerBound:Ee(Rt.lowerBound,x),upperBound:Ee(Rt.upperBound,x)}}return ht}(et);case"ItemLocation":return function(et){var ht;if(u.fF.assertValue(et,"input"),et.byReference){var Nt=et.byReference;ht={kind:"ItemLocation",byReference:{itemId:Ee(Nt.itemId,L)}},null!=Nt.workspaceId&&(ht.byReference.workspaceId=Ee(Nt.workspaceId,L)),null!=Nt.folderId&&(ht.byReference.folderId=Ee(Nt.folderId,L))}if(ht){var Lt=et.metadata;if(Lt){ht.metadata={};var Qe=Lt.dataFunction;Qe&&(ht.metadata.dataFunction={name:Qe.name,autoRefresh:Qe.autoRefresh,parameters:Qe.parameters.map(bt=>{switch(bt.type){case"SlicerParameter":return{...bt};case"ValueParameter":var Rt;switch(bt.dataType){case"boolean":Rt=w;break;case"number":Rt=x;break;case"string":Rt=L}return{...bt,value:Ee(bt.value,Rt)}}})})}}return ht}(et);default:u.fF.assertNever(Nt)}}function re(et,ht){u.fF.assertValue(et,"contract");var Nt={};return _.isEmpty(et.filterContext)||(Nt.filterContext=_.map(et.filterContext,Lt=>({filter:E.ib.serializeFilter(Lt.filter),metadata:Lt.metadata?(0,M.Qe)(Lt.metadata,ht):void 0}))),Nt}function se(et){u.fF.assertValue(et,"definition");var ht={name:Ee(et.name,L),url:Ee(et.url,g.Ge.fromDescriptor(p.z))};return et.scaling&&(ht.scaling=Ee(et.scaling,L)),ht}function Ae(et){return u.fF.assertValue(et,"definition"),{type:Ee(et.type,L),name:Ee(et.name,L),content:Ee(et.content,L)}}function Me(et){var ht={value:$e(et.value)};return et.textStyle&&(ht.textStyle=et.textStyle),et.url&&(ht.url=et.url),et.mentionEmail&&(ht.mentionEmail=et.mentionEmail),ht}function $e(et){var ht;return et instanceof s.Il?ht=Ee(et,L):_.isString(et)||(0,V.U)(et)?ht=et:u.fF.assertNever(et),ht}function st(et){var ht;return et instanceof s.Il?ht=Ee(et,L):(0,V.U)(et)?ht=et:u.fF.assertNever(et),ht}function Xt(et){u.fF.assertValue(et,"typeDescriptor");var ht=g.Ge.fromDescriptor(et);return 0!==ht.primitiveType?{value:ht}:{structural:et}}function cr(et,ht){if(et.linearGradient2){var Nt=et.linearGradient2,Lt={min:{color:ht(Nt.min.color,g.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:ht(Nt.max.color,g.Ge.fromPrimitiveTypeAndCategory(1))}};return Nt.min.value&&(Lt.min.value=ht(Nt.min.value,g.Ge.fromPrimitiveTypeAndCategory(3))),Nt.max.value&&(Lt.max.value=ht(Nt.max.value,g.Ge.fromPrimitiveTypeAndCategory(3))),Nt.nullColoringStrategy&&(Lt.nullColoringStrategy={strategy:ht(Nt.nullColoringStrategy.strategy,g.Ge.fromPrimitiveTypeAndCategory(1))},Nt.nullColoringStrategy.color&&(Lt.nullColoringStrategy.color=ht(Nt.nullColoringStrategy.color,g.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient2:Lt}}if(et.linearGradient3){var Qe=et.linearGradient3,bt={min:{color:ht(Qe.min.color,g.Ge.fromPrimitiveTypeAndCategory(1))},mid:{color:ht(Qe.mid.color,g.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:ht(Qe.max.color,g.Ge.fromPrimitiveTypeAndCategory(1))}};return Qe.min.value&&(bt.min.value=ht(Qe.min.value,g.Ge.fromPrimitiveTypeAndCategory(3))),Qe.mid.value&&(bt.mid.value=ht(Qe.mid.value,g.Ge.fromPrimitiveTypeAndCategory(3))),Qe.max.value&&(bt.max.value=ht(Qe.max.value,g.Ge.fromPrimitiveTypeAndCategory(3))),Qe.nullColoringStrategy&&(bt.nullColoringStrategy={strategy:ht(Qe.nullColoringStrategy.strategy,g.Ge.fromPrimitiveTypeAndCategory(1))},Qe.nullColoringStrategy.color&&(bt.nullColoringStrategy.color=ht(Qe.nullColoringStrategy.color,g.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient3:bt}}return null}},885825:function(Ce,k,r){r.d(k,{F:function(){return d}});var a=r(939123),e=r(613694),u=r(969143),t=r(129535),C=r(528836),y=r(931145),i=r(792375),c=r(826645),h=r(743395);class d{static deserializeDataViewSelectTransforms(s){return a.fF.assertValue(s,"input"),function(n){if(n)for(var s of n)s.kpiStatusGraphic&&(s.kpi={graphic:s.kpiStatusGraphic})}(s),_.map(s,p=>{var l={displayName:p.displayName,format:p.format,kpi:p.kpi,queryName:p.queryName,roles:p.roles,sort:p.sort,sortOrder:p.sortOrder,type:(0,i.iz)(p.type)};return p.expr&&(l.expr=h.ib.deserializeExpr(p.expr)),p.aggregateSources&&(l.aggregateSources=p.aggregateSources),p.relatedSelects&&(l.relatedSelects=p.relatedSelects),p.relatedObjects&&(l.relatedObjects=p.relatedObjects),l})}static serializeDataViewSelectTransforms(s){return a.fF.assertValue(s,"input"),_.map(s,p=>{var l={displayName:p.displayName,format:p.format,kpi:p.kpi,queryName:p.queryName,roles:p.roles,sort:p.sort,sortOrder:p.sortOrder,type:(0,i.bI)(p.type)};return p.expr&&(l.expr=h.ib.serializeExpr(p.expr)),p.aggregateSources&&(l.aggregateSources=p.aggregateSources),p.relatedSelects&&(l.relatedSelects=p.relatedSelects),p.relatedObjects&&(l.relatedObjects=p.relatedObjects),p.sourceFieldParameters&&(l.sourceFieldParameters=p.sourceFieldParameters),l})}static serializeDataViewTransformActions(s,p){a.fF.assertAnyValue(p,"objectDescriptors");var l={objects:(s=s||{}).objects,projectionOrdering:s.roles&&s.roles.ordering,projectionActiveItems:s.roles&&s.roles.activeItems,splits:s.splits,queryMetadata:null,visualElements:null};return s&&s.objects&&(l.objects=(0,i.xF)(s.objects,p,void 0,!1)),s&&s.selects&&(l.selects=d.serializeDataViewSelectTransforms(s.selects)),s&&!_.isEmpty(s.expansionStates)&&(l.expansionStates=(0,c.hI)(s.expansionStates)),l}static deserializeDataViewTransformActions(s,p){var l=p&&p.objects;a.fF.assertValue(s,"actions"),a.fF.assertAnyValue(l,"objectDescriptors");var m=s.objects?(0,i.wN)(s.objects,l):null,b=d.createTransformActions(s.queryMetadata,s.visualElements,l,m)||{},V=s&&s.projectionActiveItems;return _.isEmpty(V)||this.upgradeActiveItemsIfNeeded(V),b.roles={ordering:s.projectionOrdering,activeItems:V},b.splits=s.splits,s.selects&&(b.selects=d.deserializeDataViewSelectTransforms(s.selects)),s.expansionStates&&(b.expansionStates=(0,c.bX)(s.expansionStates,{supportsMerge:p&&p.expandCollapse&&p.expandCollapse.supportsMerge,canCollapseRoot:p&&p.noDefaultProjections,collapseParentAfterRemovingChildLevel:p&&p.expandCollapse&&p.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(b),b}static isStringArray(s){return _.isString(s[0])}static upgradeActiveItemsIfNeeded(s){for(var p in s){var l=s[p],m=void 0;!_.isEmpty(l)&&this.isStringArray(l)&&(m=_.map(l,V=>({queryRef:V}))),s[p]=m||l}}static upgradeComboChartFromCY16SU04AndPrior(s){a.fF.assertValue(s,"transformActions");var p="Y",m=s.roles&&s.roles.ordering;if(m){var b=m[p]&&1===m[p].length&&_.includes(m.Y2,m[p][0])?m[p][0]:void 0;if(void 0!==b){var V=s.splits&&2===s.splits.length&&!s.splits[0].selects[b]&&s.splits[1].selects[b]?s.splits[0]:void 0;if(V){var g=_.chain(Object.keys(V.selects)).filter(D=>V.selects[D]).map(D=>parseInt(D,10)).maxBy(D=>D).value();if(g!==Number.NEGATIVE_INFINITY&&s.selects&&s.selects.length===g){var f=s.selects[b];if(f&&f.roles[p]&&f.roles.Y2){delete f.roles[p];var P={...f};P.roles={[p]:!0},P.queryName=f.queryName,s.selects[g]=P,s.roles.ordering[p]=[g]}}}}}}static serializeTransformActions(s){return JSON.stringify(s)}static createTransformActions(s,p,l,m){var b=this;if(a.fF.assertAnyValue(s,"queryMetadata"),a.fF.assertAnyValue(p,"visualElements"),a.fF.assertAnyValue(l,"objectDescs"),a.fF.assertAnyValue(m,"objectDefns"),s&&!_.isEmpty(s.Select)||!_.isEmpty(p)||m){var V={};if(s){var g=s.Select;if(g)for(var v=V.selects=[],f=function(){var w=g[S];if(!w)return v.push(null),1;var x=b.toTransformSelect(w,S);if(v.push(x),x.format&&l){a.fF.assert(()=>!!x.queryName,"selectTransform.queryName should be defined (or defaulted).");var N=(0,t.$v)(l);N&&(m||(m={}),(0,u.sO)(m,N,{metadata:x.queryName},(0,C.fL)(x.format)))}},S=0,P=g.length;S<P;S++)f()}if(p){var D=(p=_.unionBy(p,w=>JSON.stringify(w))).length;D>1&&(V.splits=[]);for(var M=0;M<D;M++){var E=p[M];E.Settings&&0===M&&(m=this.upgradeSettingsToObjects(E.Settings,m)),E.DataRoles&&(V.selects||(V.selects=[]),V.roles||(V.roles={ordering:{}}),this.populateDataRoles(E.DataRoles,V.selects,V.roles.ordering)),V.splits&&V.splits.push(this.populateSplit(E.DataRoles))}}return m&&(V.objects=m),V}}static toTransformSelect(s,p){a.fF.assertValue(s,"select");var l={};return s.Restatement&&(l.displayName=s.Restatement),s.Name?l.queryName=s.Name:l.queryName||(l.queryName="$select"+p),s.Format&&(l.format=s.Format),s.Type&&(l.type=this.describeDataType(s.Type,(0,e.lb)(s.DataCategory))),s.kpi&&(l.kpi=s.kpi),s.kpiStatusGraphic&&(l.kpi={graphic:s.kpiStatusGraphic}),l}static describeDataType(s,p){var l=0;switch(s=s||0){case 2048:l=1;break;case 1:l=3;break;case 3:l=4;break;case 4096:l=5;break;case 20:l=6;break;case 4:l=7;break;case 8:l=9;break;case 67:l=4,a.fF.assert(()=>!p||"Year"===p,"Unexpected category for Year type."),p="Year";break;case 35:l=4,a.fF.assert(()=>!p||"Month"===p,"Unexpected category for Month type."),p="Month"}return y.Ge.fromPrimitiveTypeAndCategory(l,p)}static populateDataRoles(s,p,l){a.fF.assertValue(s,"roles"),a.fF.assertValue(p,"selects"),a.fF.assertValue(l,"projectionOrdering");for(var m=0,b=s.length;m<b;m++){var V=s[m],g=V.Projection,v=V.Name,f=p[g];void 0===f&&(this.fillArray(p,g),f=p[g]={});var S=f.roles;void 0===f.roles&&(S=f.roles={}),S[v]=!0;var P=l[v];void 0===P&&(P=l[v]=[]),P.push(g)}}static fillArray(s,p){a.fF.assertValue(s,"selects"),a.fF.assertValue(p,"length");for(var l=s.length;l<p;l++)s[l]={}}static populateSplit(s){a.fF.assertAnyValue(s,"roles");var p={},l={selects:p};if(s)for(var m=0,b=s.length;m<b;m++)p[s[m].Projection]=!0;return l}static upgradeSettingsToObjects(s,p){if(s){var l;for(l in p||(p={}),s){var m=s[l],b=l,V=m,g="general";switch(l){case"hasScalarCategoryAxis":g="categoryAxis",b="axisType",V=(0,C.fL)(m?"Scalar":"Categorical");break;case"Totals":b="totals",V=(0,C.O7)(!!m);break;case"textboxSettings":b="paragraphs",m&&m.paragraphs&&(V=m.paragraphs);break;case"VisualType1":b="visualType1",V=(0,C.fL)(m);break;case"VisualType2":b="visualType2",V=(0,C.fL)(m);break;case"imageVisualSettings":b="imageUrl",m&&m.imageUrl&&(V=(0,C.fL)(m.imageUrl));break;default:continue}this.setObjectDefinition(p,g,b,V)}return p}}static setObjectDefinition(s,p,l,m){a.fF.assertValue(s,"objects"),a.fF.assertValue(p,"objectName"),a.fF.assertValue(l,"propertyName");var b=s[p];void 0===b&&(b=s[p]=[]);var V=b[0];void 0===V&&(V=b[0]={properties:{}}),V.properties[l]=m}}},731859:function(Ce,k,r){r.d(k,{H9:function(){return t},LF:function(){return i},QW:function(){return y},Rs:function(){return c}});var a=r(939123),e=r(743395),u=r(953474);function t(h){var d=[];for(var s of h.values){var p=[];for(var l of s){var m=_.mapValues(l,b=>_.map(b,V=>e.ib.deserializeExpr(V)));p.push(m)}d.push(p)}return{values:d,columns:_.map(h.columns,b=>C(b))}}function C(h){var d={};if(h.left&&h.right)return d.left=C(h.left),d.right=C(h.right),d;if(h.value){var n=e.ib.deserializeExpr(h.value);return(0,u.Lk)(n)||(0,u.kb)(n)||(0,u.t3)(n)||(0,u.iV)(n)?d.value=n:a.fF.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),d}a.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function y(h){if(a.fF.assertAnyValue(h,"input"),h){var d={expressions:_.map(h.expressions,n=>e.ib.deserializeExpr(n))};return h.decomposedIdentities&&(d.decomposedIdentities=t(h.decomposedIdentities)),h.valueMap&&(d.valueMap=h.valueMap),h.jsonFilter&&(d.jsonFilter=h.jsonFilter),d}}function i(h){if(a.fF.assertAnyValue(h,"contract"),h){var d={expressions:_.map(h.expressions,n=>e.ib.serializeExpr(n))};return h.decomposedIdentities&&(d.decomposedIdentities=c(h.decomposedIdentities)),h.valueMap&&(d.valueMap=h.valueMap),h.jsonFilter&&(d.jsonFilter=h.jsonFilter),d}}function o(h){var d={};return h.left&&h.right?(d.left=o(h.left),d.right=o(h.right),d):h.value?(d.value=e.ib.serializeExpr(h.value),d):void a.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function c(h){if(a.fF.assertAnyValue(h,"contract"),h){var d=[];for(var s of h.values){var p=[];for(var l of s){var m=_.mapValues(l,b=>_.map(b,V=>e.ib.serializeExpr(V)));p.push(m)}d.push(p)}return{values:d,columns:_.map(h.columns,b=>o(b))}}}},888426:function(Ce,k,r){r.d(k,{dq:function(){return t},kE:function(){return u},pW:function(){return C},vX:function(){return e}});var a=r(470446);function e(y){if(y&&!(y.length<1)){var i=[];for(var o of y)if(o.identity&&o.identity.expr){var c=(0,a.m)(o.identity);c&&i.push({id:c,displayName:o.displayName})}return i}}function u(y){if(y&&!(y.length<1)){var i=[];for(var o of y)if(o.id){var c=(0,a.D)(o.id);c&&i.push({identity:c,displayName:o.displayName})}return i}}function t(y){if(y&&!(y.length<1)){var i=[];for(var o of y)if(!_.isEmpty(o.identities)){var c=_.map(o.identities,h=>(0,a.m)(h));c&&i.push({identities:c,valueMap:o.valueMap})}return i}}function C(y){if(y&&!(y.length<1)){var i=[];for(var o of y)if(!_.isEmpty(o.identities)){var c=_.map(o.identities,h=>(0,a.D)(h));c&&i.push({identities:c,valueMap:o.valueMap})}return i}}},826645:function(Ce,k,r){r.d(k,{bX:function(){return o},hI:function(){return t}});var a=r(939123),e=r(262730),u=r(743395);function t(d){return _.filter(_.map(d,n=>function(d){if(a.fF.assertValue(d,"expansionState"),a.fF.assertValue(!_.isEmpty(d.roles),"expansionState.roles"),(0,e.of)(d)||(0,e.iA)(d)){var n={roles:d.roles};return _.isEmpty(d.levels)||(a.fF.assertValue(d.root,"expansionState.root"),n.levels=_.map(d.levels,s=>function(d){if(a.fF.assertAnyValue(d,"level"),d){a.fF.assertNonEmpty(d.queryRefs,"level.queryRefs");var n={queryRefs:_.clone(d.queryRefs)};return d.isCollapsed&&(n.isCollapsed=!0),d.identityKeys&&(n.identityKeys=_.map(d.identityKeys,s=>u.ib.serializeExpr(s))),d.isPinned&&(n.isPinned=d.isPinned),d.isLocked&&(n.isLocked=d.isLocked),d.AIInformation&&(n.AIInformation=_.cloneDeep(d.AIInformation)),n}}(s)),n.root=i(d.root)),n}}(n)),n=>n)}function i(d){a.fF.assertValue(d,"node");var n={identityValues:d.identityValues?_.map(d.identityValues,l=>u.ib.serializeExpr(l)):null};if(d.isToggled&&(n.isToggled=!0),!_.isEmpty(d.children)){n.children=[];var s=function(l){a.fF.assert(()=>!_.isEmpty(l.identityValues),"child.identityValues");var m=i(l);n.children.push(m)};for(var p of d.children)s(p)}return n}function o(d,n){if(d){var s=[],p=function(m){if(!m)return 1;a.fF.assert(()=>!_.isEmpty(m.roles),"serializedHierarchy.roles");var b=new e.cb(m.roles,n);_.isEmpty(m.levels)||(a.fF.assertValue(m.root,"serializedHierarchy.root"),b.levels=_.map(m.levels,V=>function(d){var n={queryRefs:_.clone(d.queryRefs),isCollapsed:!!d.isCollapsed,toggledNodes:[],isPinned:d.isPinned,isLocked:d.isLocked,AIInformation:_.cloneDeep(d.AIInformation)};return d.identityKeys&&(n.identityKeys=_.map(d.identityKeys,s=>u.ib.deserializeExpr(s))),n}(V)),b.root=h(m.root,-1,null,b.levels,!!n.canCollapseRoot)),s.push(b)};for(var l of d)p(l);return s}}function h(d,n,s,p,l){a.fF.assertValue(d,"serializedNode");var m={identityValues:d.identityValues?_.map(d.identityValues,V=>u.ib.deserializeExpr(V)):null,parent:s,children:[]};if(d.isToggled&&(m.isToggled=!0,n>=0?p[n].toggledNodes.push(m):a.fF.assert(()=>l,"Collapse to root capability not enabled")),!_.isEmpty(d.children)){var b=n+1;m.children=_.map(d.children,V=>h(V,b,m,p,l))}return m}},233427:function(Ce,k,r){r.d(k,{Qe:function(){return o},R6:function(){return s},_q:function(){return d},hE:function(){return c}});var a=r(939123),e=r(305438),u=r(731859),t=r(888426),C=r(743395);function o(p,l){var m;if(a.fF.assertValue(p,"input"),!_.isEmpty(p.expressions)){if(l){var b=(0,e.s0)(p);m=(0,u.LF)(b)}else m=function(p){if(a.fF.assertValue(p,"input"),!_.isEmpty(p.expressions)){var l={expressions:_.map(p.expressions,m=>C.ib.serializeExpr(m))};return _.isEmpty(p.cachedValueItems)||(l.cachedValueItems=(0,t.dq)(p.cachedValueItems)),p.jsonFilter&&(l.jsonFilter=p.jsonFilter),l}}(p);return m}}function c(p){if(a.fF.assertValue(p,"input"),!_.isEmpty(p.expressions)){if(function(p){return!!p.decomposedIdentities}(p)){var l=(0,u.QW)(p);return(0,e.Ns)(l)}return d(p)}}function d(p){if(a.fF.assertValue(p,"input"),!_.isEmpty(p.expressions)){var l={expressions:_.map(p.expressions,m=>C.ib.deserializeExpr(m))};return _.isEmpty(p.cachedValueItems)||(l.cachedValueItems=(0,t.pW)(p.cachedValueItems)),p.jsonFilter&&(l.jsonFilter=p.jsonFilter),l}}function s(p){return!!p.cachedValueItems}},743395:function(Ce,k,r){r.d(k,{ib:function(){return p}});var a=r(561154),e=r(568485),u=r(69578),t=r(939123),C=r(737466),y=r(438905),i=r(528836),o=r(109562),c=r(999634),h=r(377176);class d{constructor(Ee){t.fF.assertValue(Ee,"from"),this.clauses={from:Ee,select:[]}}addWhere(Ee){t.fF.assertValue(Ee,"filter");var fe=this.clauses;fe.where||(fe.where=[]),fe.where.push(Ee)}addWheres(Ee){t.fF.assertValue(Ee,"filters");var fe=this.clauses;for(var Re of(fe.where||(fe.where=[]),Ee))fe.where.push(Re)}addOrderBy(Ee){t.fF.assertValue(Ee,"sort");var fe=this.clauses;fe.orderBy||(fe.orderBy=[]),fe.orderBy.push(Ee)}addSelect(Ee){t.fF.assertValue(Ee,"select"),this.clauses.select.push(Ee)}addGroupBy(Ee){t.fF.assertValue(Ee,"groupBy");var fe=this.clauses;fe.groupBy||(fe.groupBy=[]),fe.groupBy.push(Ee)}addTransform(Ee){t.fF.assertValue(Ee,"transformItem");var fe=this.clauses;fe.transforms||(fe.transforms=[]),fe.transforms.push(Ee)}setTop(Ee){this.clauses.top=Ee}toQuery(){return h.vQ.createWith(this.clauses,!0)}toFilter(){var Ee=this.clauses;if(t.fF.assert(()=>!Ee.orderBy&&0===Ee.select.length,"toFilter must not have orderBy/select specified."),Ee.from&&Ee.where)return new h.yl(Ee.from,Ee.where)}}var n=r(719965),s=r(267956);class p{static serializeQuery(Ee,fe=!1,Re=!1){t.fF.assertValue(Ee,"query");var re=[],se=Ee.from();this.serializeFrom(se,re);var ce,Ae=this.serializeQueryFilters(Ee.where(),b.create,!1),Me=Ee.transforms();if(!_.isEmpty(Me))for(var $e of(ce=[],Me)){var st=_.map($e.input.parameters,Lt=>b.createNamed(Lt,fe)),pt={Name:$e.name,Algorithm:$e.algorithm,Input:{Parameters:st},Output:void 0};if($e.input.table){var wt=this.serializeTransformTableColumns($e.input.table.columns);pt.Input.Table={Name:$e.input.table.name,Columns:wt}}if($e.output&&$e.output.table){var Pt=this.serializeTransformTableColumns($e.output.table.columns);pt.Output={Table:{Name:$e.output.table.name,Columns:Pt}}}ce.push(pt)}for(var At=this.serializeSortDefinitions(Ee.orderBy(),fe),Ut=[],Kt=Ee.select(),Qt=0,rr=Kt.length;Qt<rr;Qt++)Ut.push(b.createNamed(Kt[Qt],fe,Re));var Xt,cr=Ee.groupBy();if(cr&&cr.length){Xt=[];for(var et=0,ht=cr.length;et<ht;et++)Xt.push(b.createNamed(cr[et],fe))}var Nt={Version:n.L.Version2,From:re,Select:Ut};return Ae&&(Nt.Where=Ae),ce&&(Nt.Transform=ce),At&&(Nt.OrderBy=At),Xt&&(Nt.GroupBy=Xt),Ee.top()&&(Nt.Top=Ee.top()),Nt}static serializeSortDefinitions(Ee,fe){var Re;if(Ee&&Ee.length){Re=[];for(var re=0,se=Ee.length;re<se;re++){var Ae=Ee[re];Re.push({Direction:Ae.direction,Expression:b.create(Ae.expr,fe)})}}return Re}static tryDeserializeQuery(Ee){var fe;try{fe=this.deserializeQuery(Ee)}catch{}if(fe&&!this.isMalformed(fe))return fe}static isMalformed(Ee){for(var fe of Ee.select())if(!fe.expr)return!0;return!1}static serializeQueryFilters(Ee,fe,Re){var re;if(!_.isEmpty(Ee))for(var se of(re=[],Ee)){var Ae={Condition:fe(se.condition,Re)};if(!_.isEmpty(se.target))for(var ce of(Ae.Target=[],se.target))Ae.Target.push(fe(ce,Re));se.annotations&&(Ae.Annotations=se.annotations),re.push(Ae)}return re}static deserializeQuery(Ee){t.fF.assertValue(Ee,"contract");var fe=Ee.Version?Ee.Version:n.L.Version0,Re=fe<n.L.Version1,re=l.from(Ee.From),se=new d(re),Ae=Ee.Where;if(Ae)for(var ce=0,Me=Ae.length;ce<Me;ce++){var $e=l.filter(Ae[ce],re);$e&&(Re&&($e=V.Upgrade(fe,$e)),se.addWhere($e))}var st=Ee.Transform,pt=re;if(!_.isEmpty(st)){var wt={},Pt=re.keys();for(var At of Pt)wt[At]=re.source(At);for(var Ut=0,Kt=st.length;Ut<Kt;Ut++){if(st[Ut].Input&&st[Ut].Input.Table){var Qt=st[Ut].Input.Table.Name;wt[Qt]=new o.SX(void 0,Qt)}if(st[Ut].Output&&st[Ut].Output.Table){var rr=st[Ut].Output.Table.Name;wt[rr]=new o.SX(void 0,rr)}}pt=new o.cL(wt);for(var Xt=0,cr=st.length;Xt<cr;Xt++)se.addTransform(l.transform(st[Xt],pt))}var et=Ee.OrderBy;if(et)for(var ht=0,Nt=et.length;ht<Nt;ht++)se.addOrderBy(l.sort(et[ht],re));for(var Lt=Ee.Select,Qe={},bt=0,Rt=Lt.length;bt<Rt;bt++)se.addSelect(l.select(Lt[bt],Qe,pt));var Gt=Ee.GroupBy;if(Gt)for(var ir={},Ht=0,vr=Gt.length;Ht<vr;Ht++)se.addGroupBy(l.groupBy(Gt[Ht],ir,re));return Ee.Top&&se.setTop(Ee.Top),se.toQuery()}static deserializeSortDefinitions(Ee,fe){return _.isEmpty(Ee)?[]:_.map(Ee,Re=>l.sort(Re,fe))}static serializeFilter(Ee){var fe=[],Re=Ee.from();this.serializeFrom(Re,fe);var re=this.serializeQueryFilters(Ee.where(),b.create,!1);return{Version:n.L.Version2,From:fe,Where:re}}static serializeFrom(Ee,fe){for(var Re=Ee.keys(),re=new m(Ee),se=0,Ae=Re.length;se<Ae;se++)fe.push(Ee.source(Re[se]).accept(re,se))}static deserializeFrom(Ee){return l.from(Ee)}static deserializeFilter(Ee,fe){t.fF.assertValue(Ee,"contract");var Re=Ee.Version?Ee.Version:n.L.Version0,re=Re<n.L.Version1,se=l.from(Ee.From),Ae=new d(se),ce=Ee.Where;if(ce)for(var Me=0,$e=ce.length;Me<$e;Me++){var st=l.filter(ce[Me],se);st?(re&&(st=V.Upgrade(Re,st)),Ae.addWhere(st)):fe&&(_.isEmpty(fe.RemovedIndexes)&&(fe.RemovedIndexes=[]),fe.RemovedIndexes.push(Me))}return Ae.toFilter()}static serializeExpr(Ee,fe=!1){return t.fF.assertValue(Ee,"contract"),b.create(Ee,!0,fe)}static serializeExprWithRef(Ee,fe=!1){return t.fF.assertValue(Ee,"contract"),b.create(Ee,!1,fe)}static deserializeExpr(Ee){return t.fF.assertValue(Ee,"input"),v(Ee)}static deserializeExprWithRef(Ee,fe){return t.fF.assertValue(Ee,"input"),g(Ee,fe)}static serializeTransformTableColumns(Ee){return t.fF.assertValue(Ee,"columns"),_.map(Ee,fe=>{var Re={Expression:b.createNamed(fe.expression)};return fe.role&&(Re.Role=fe.role),Re})}}class l{static from(Ee){t.fF.assertValue(Ee,"contract");var fe={};if(Ee)for(var Re=0,re=Ee.length;Re<re;Re++){var se=Ee[Re];switch(se.Type){case 2:fe[se.Name]=se.Expression.Subquery?new o.vd(p.deserializeQuery(se.Expression.Subquery.Query)):new o.Qo(v(se.Expression));break;case 1:fe[se.Name]=new o.QS(se.Schema,se.Entity);break;default:fe[se.Name]=new o.SX(se.Schema,se.Entity)}}return new o.cL(fe)}static filter(Ee,fe){t.fF.assertValue(Ee,"contract");var Re=fe?g(Ee.Condition,fe):v(Ee.Condition);if(Re){var re={condition:Re};if(Ee.Target)for(var se of(re.target=[],Ee.Target)){var Ae=fe?g(se,fe):v(se);if(!Ae)return;re.target.push(Ae)}return Ee.Annotations&&(re.annotations=Ee.Annotations),re}}static sort(Ee,fe){return t.fF.assertValue(Ee,"contract"),{direction:Ee.Direction,expr:g(Ee.Expression,fe)}}static select(Ee,fe,Re){return l.toNamedQueryExpression(Ee,fe,Re)}static groupBy(Ee,fe,Re){return l.toNamedQueryExpression(Ee,fe,Re)}static transform(Ee,fe){var Re=_.map(Ee.Input.Parameters,ce=>l.toNamedQueryExpression(ce,{},fe)),re={name:Ee.Name,algorithm:Ee.Algorithm,input:{parameters:Re},output:{}};if(Ee.Input.Table){var se=this.deserializeTransformTableColumns(Ee.Input.Table.Columns,fe);re.input.table={name:Ee.Input.Table.Name,columns:se}}if(Ee.Output&&Ee.Output.Table){var Ae=this.deserializeTransformTableColumns(Ee.Output.Table.Columns,fe);re.output.table={name:Ee.Output.Table.Name,columns:Ae}}return re}static toNamedQueryExpression(Ee,fe,Re){t.fF.assertValue(Ee,"contract"),t.fF.assertValue(Re,"from");var re=g(Ee,Re),se=Ee.Name||(0,C.zE)(fe,(0,s.L)(re));fe[se]=!0;var Ae={name:se,expr:re};return Ee.NativeReferenceName&&(Ae.nativeReferenceName=Ee.NativeReferenceName),Ae}static deserializeTransformTableColumns(Ee,fe){t.fF.assertValue(Ee,"columns");var Re={};return _.map(Ee,re=>({role:re.Role,expression:l.toNamedQueryExpression(re.Expression,Re,fe)}))}}class m{constructor(Ee){this.from=Ee}visitEntity(Ee,fe){return{Name:this.from.keys()[fe],Entity:Ee.entity,Schema:Ee.schema,Type:0}}visitPod(Ee,fe){return{Name:this.from.keys()[fe],Entity:Ee.pod,Schema:Ee.schema,Type:1}}visitSubquery(Ee,fe){return{Name:this.from.keys()[fe],Expression:{Subquery:{Query:p.serializeQuery(Ee.subquery)}},Type:2}}visitExpr(Ee,fe){return{Name:this.from.keys()[fe],Expression:p.serializeExpr(Ee.expr),Type:2}}}var b=(()=>{class me{constructor(fe,Re){this.standalone=fe,this.serializeAnnotations=Re}static getInstance(fe,Re){fe||(fe=!1),Re||(Re=!1);var re=[+fe,+Re].reduce((Ae,ce)=>Ae<<1|ce),se=me.instances[re];return se||(se=new me(fe,Re)),se}static create(fe,Re=!1,re=!1){return fe.accept(me.getInstance(Re,re))}static createNamed(fe,Re=!1,re=!1){var se=me.getInstance(Re,re),Ae=fe.expr.accept(se);return fe.name&&(Ae.Name=fe.name),fe.nativeReferenceName&&(Ae.NativeReferenceName=fe.nativeReferenceName),Ae}visitColumnRef(fe){return this.addAnnotations(fe,{Column:{Expression:fe.source.accept(this),Property:fe.ref}})}visitMeasureRef(fe){return this.addAnnotations(fe,{Measure:{Expression:fe.source.accept(this),Property:fe.ref}})}visitNativeMeasure(fe){var Re={Language:fe.language,Expression:fe.expression,DataType:fe.dataType};fe.proposedName&&(Re.ProposedName=fe.proposedName),fe.format&&(Re.Format=fe.format);var re=fe.expressionContentCache;return!re||!re.dependencies&&null==re.unrecognizedIdentifiers?{NativeMeasure:Re}:(Re.ExpressionContentCache={},re.dependencies&&(Re.ExpressionContentCache.Dependencies=this.serializeAll(re.dependencies)),null!=re.unrecognizedIdentifiers&&(Re.ExpressionContentCache.UnrecognizedIdentifiers=re.unrecognizedIdentifiers),this.addAnnotations(fe,{NativeMeasure:Re}))}visitNativeColumn(fe){var Re={Language:fe.language,Expression:fe.expression,DataType:fe.dataType,Source:fe.source.accept(this)};fe.proposedName&&(Re.ProposedName=fe.proposedName),fe.format&&(Re.Format=fe.format);var re=fe.expressionContentCache;return!re||!re.dependencies&&null==re.unrecognizedIdentifiers||(Re.ExpressionContentCache={},re.dependencies&&(Re.ExpressionContentCache.Dependencies=this.serializeAll(re.dependencies)),null!=re.unrecognizedIdentifiers&&(Re.ExpressionContentCache.UnrecognizedIdentifiers=re.unrecognizedIdentifiers)),this.addAnnotations(fe,{NativeColumn:Re})}visitAggr(fe){if(!_.isNil(fe.includeAllTypes))switch(fe.func){case 3:return this.addAnnotations(fe,{Min:{Expression:fe.arg.accept(this),IncludeAllTypes:fe.includeAllTypes}});case 4:return this.addAnnotations(fe,{Max:{Expression:fe.arg.accept(this),IncludeAllTypes:fe.includeAllTypes}})}return this.addAnnotations(fe,{Aggregation:{Expression:fe.arg.accept(this),Function:fe.func}})}visitPercentile(fe){var Re=this.addAnnotations(fe,{Percentile:{Expression:fe.arg.accept(this),K:fe.k}});return fe.exclusive&&(Re.Percentile.Exclusive=fe.exclusive),Re}visitRangePercent(fe){return this.addAnnotations(fe,{RangePercent:{Min:fe.min.accept(this),Max:fe.max.accept(this),Percent:fe.percent}})}visitHierarchy(fe){return this.addAnnotations(fe,{Hierarchy:{Expression:fe.arg.accept(this),Hierarchy:fe.hierarchy}})}visitPropertyVariationSource(fe){var Re=fe.arg.accept(this);return this.addAnnotations(fe,{PropertyVariationSource:{Expression:{SourceRef:Re.SourceRef},Name:fe.name,Property:fe.property}})}visitHierarchyLevel(fe){return this.addAnnotations(fe,{HierarchyLevel:{Expression:fe.arg.accept(this),Level:fe.level}})}visitSelectRef(fe){return t.fF.assert(()=>void 0===fe.attributeKind||null==fe.attributeKind,"Serialization of expr.attributeKind is not supported."),this.addAnnotations(fe,{SelectRef:{ExpressionName:fe.expressionName}})}visitBetween(fe){return this.addAnnotations(fe,{Between:{Expression:fe.arg.accept(this),LowerBound:fe.lower.accept(this),UpperBound:fe.upper.accept(this)}})}visitIn(fe){var Re=this.serializeAll(fe.args),re=fe.values;if(re){for(var se=[],Ae=0,ce=re.length;Ae<ce;Ae++)se.push(this.serializeAll(re[Ae]));return this.addAnnotations(fe,{In:{Expressions:Re,Values:se}})}return this.addAnnotations(fe,{In:{Expressions:this.serializeAll(fe.args),Table:fe.table.accept(this)}})}visitEntity(fe){var Re;return t.fF.assertValue(fe,"expr"),this.standalone?Re={Schema:fe.schema,Entity:fe.entity}:(t.fF.assertValue(fe.variable,"expr.variable"),Re={Source:fe.variable}),this.addAnnotations(fe,{SourceRef:Re})}visitSubqueryRef(fe){return t.fF.assertValue(fe,"expr"),fe.variable&&!fe.query?this.addAnnotations(fe,{SourceRef:{Source:fe.variable}}):this.standalone?this.addAnnotations(fe,{Subquery:{Query:p.serializeQuery(fe.query,!1,this.serializeAnnotations)}}):void t.fF.assertFail("The inlined subquery is only expected to be there in standalone mode.")}visitNamedQueryRef(fe){return this.standalone?this.addAnnotations(fe,{NamedQueryReference:{Name:fe.queryName}}):(t.fF.assertValue(fe.variable,"expr.variable"),this.addAnnotations(fe,{SourceRef:{Source:fe.variable}}))}visitAnd(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{And:{Left:fe.left.accept(this),Right:fe.right.accept(this)}})}visitOr(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{Or:{Left:fe.left.accept(this),Right:fe.right.accept(this)}})}visitCompare(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{Comparison:{ComparisonKind:fe.comparison,Left:fe.left.accept(this),Right:fe.right.accept(this)}})}visitConditional(fe){t.fF.assertValue(fe,"expr");var Re=this.addAnnotations(fe,{Conditional:{Cases:_.map(fe.cases,se=>this.visitCase(se))}}),re=fe.defaultValue;return re&&(Re.Conditional.DefaultValue=re.accept(this)),Re}visitCase(fe){return{Condition:fe.condition.accept(this),Value:fe.value.accept(this)}}visitContains(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{Contains:{Left:fe.left.accept(this),Right:fe.right.accept(this)}})}visitDateAdd(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{DateAdd:{Expression:fe.arg.accept(this),Amount:fe.amount,TimeUnit:fe.unit}})}visitDateSpan(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{DateSpan:{Expression:fe.arg.accept(this),TimeUnit:fe.unit}})}visitExists(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{Exists:{Expression:fe.arg.accept(this)}})}visitNot(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{Not:{Expression:fe.arg.accept(this)}})}visitNow(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{Now:{}})}visitDefaultValue(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{DefaultValue:{}})}visitAnyValue(fe){t.fF.assertValue(fe,"expr");var Re={};return null!=fe.defaultValueOverridesAncestors&&(Re.DefaultValueOverridesAncestors=fe.defaultValueOverridesAncestors),this.addAnnotations(fe,{AnyValue:Re})}visitFillRule(fe){t.fF.assertValue(fe,"expr");var Re={},re=fe.rule;return re.linearGradient2&&(Re.linearGradient2=this.visitLinearGradient2(re.linearGradient2)),re.linearGradient3&&(Re.linearGradient3=this.visitLinearGradient3(re.linearGradient3)),this.addAnnotations(fe,{FillRule:{Input:fe.input.accept(this),FillRule:Re}})}visitLinearGradient2(fe){t.fF.assertValue(fe,"visitLinearGradient2 - gradient");var Re={min:this.visitRuleStop(fe.min),max:this.visitRuleStop(fe.max)},re=this.visitNullColoringStrategy(fe.nullColoringStrategy);return re&&(Re.nullColoringStrategy=re),Re}visitLinearGradient3(fe){t.fF.assertValue(fe,"visitLinearGradient3 - gradient");var Re={min:this.visitRuleStop(fe.min),mid:this.visitRuleStop(fe.mid),max:this.visitRuleStop(fe.max)},re=this.visitNullColoringStrategy(fe.nullColoringStrategy);return re&&(Re.nullColoringStrategy=re),Re}visitRuleStop(fe){t.fF.assertValue(fe,"stop");var Re={color:fe.color.accept(this)};return fe.value&&(Re.value=fe.value.accept(this)),Re}visitNullColoringStrategy(fe){if(fe){t.fF.assertValue(fe.strategy,"visitNullColoringStrategy - input.strategy");var Re={strategy:fe.strategy.accept(this)};return fe.color&&(Re.color=fe.color.accept(this)),Re}}visitThemeDataColor(fe){return this.addAnnotations(fe,{ThemeDataColor:{ColorId:fe.colorId,Percent:fe.percent}})}visitStartsWith(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{StartsWith:{Left:fe.left.accept(this),Right:fe.right.accept(this)}})}visitGroupRef(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{GroupRef:{Expression:fe.source.accept(this),Property:fe.ref,GroupedColumns:_.map(fe.groupedExprs,Re=>Re.accept(this))}})}visitConstant(fe){switch(t.fF.assertValue(fe,"expr"),fe.type.primitiveType){case 5:case 7:case 2:case 4:case 3:case 0:case 1:return this.addAnnotations(fe,{Literal:{Value:fe.valueEncoded}});default:t.fF.assertFail("Unrecognized kind: "+fe.type.primitiveType)}}visitArithmetic(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{Arithmetic:{Left:fe.left.accept(this),Right:fe.right.accept(this),Operator:fe.operator}})}visitFloor(fe){t.fF.assertValue(fe,"expr");var Re=this.addAnnotations(fe,{Floor:{Expression:fe.arg.accept(this),Size:fe.size}});return null!=fe.timeUnit&&(Re.Floor.TimeUnit=fe.timeUnit),Re}visitResourcePackageItem(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{ResourcePackageItem:{PackageName:fe.packageName,PackageType:fe.packageType,ItemName:fe.itemName}})}visitScopedEval(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{ScopedEval:{Expression:fe.expression.accept(this),Scope:this.serializeAll(fe.scope)}})}visitFilteredEval(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{FilteredEval:{Expression:fe.expression.accept(this),Filters:p.serializeQueryFilters(fe.filters,me.create,this.standalone)}})}visitWithRef(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{WithRef:{ExpressionName:fe.expressionName}})}visitTransformTableRef(fe){return this.addAnnotations(fe,{TransformTableRef:{Source:fe.source}})}visitTransformOutputRoleRef(fe){return this.addAnnotations(fe,{TransformOutputRoleRef:{Role:fe.role,Transform:fe.transform}})}visitRoleRef(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{RoleRef:{Role:fe.role}})}visitSummaryValueRef(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{SummaryValueRef:{Name:fe.name}})}visitAllRolesRef(fe){return t.fF.assertValue(fe,"expr"),this.addAnnotations(fe,{AllRolesRef:{}})}visitDiscretize(fe){return this.addAnnotations(fe,{Discretize:{Expression:fe.source.accept(this),Count:fe.count}})}visitMember(fe){return this.addAnnotations(fe,{Member:{Expression:fe.source.accept(this),Member:fe.member}})}visitSparklineData(fe){var Re={SparklineData:{Measure:fe.measure.accept(this),Groupings:this.serializeAll(fe.grouping),PointsPerSparkline:fe.pointsPerSparkline}};return fe.scalarKey&&(Re.SparklineData.ScalarKey=fe.scalarKey.accept(this)),fe.includeMinGroupingInterval&&(Re.SparklineData.IncludeMinGroupingInterval=fe.includeMinGroupingInterval),Re}serializeAll(fe){for(var Re=[],re=0,se=fe.length;re<se;re++)Re.push(fe[re].accept(this));return Re}visitNativeVisualCalc(fe,Re){var re={Language:fe.language,Expression:fe.expression,Name:fe.name};return null!=fe.dataType&&(re.DataType=(0,e.p)(fe.dataType)),this.addAnnotations(fe,{NativeVisualCalculation:re})}visitVisualTopN(fe,Re){return{VisualTopN:{ItemCount:fe.itemCount}}}addAnnotations(fe,Re){if(this.serializeAnnotations){var re=fe.getAnnotations();re&&(Re.Annotations=re)}return Re}}return me.instances=[],me})();class V{static Upgrade(Ee,fe){if(!fe||!fe.condition)return null;var Re=(0,y._)(fe.condition);return Ee===n.L.Version0&&2!==Re?{condition:fe.condition}:fe}}function g(me,Ee){return t.fF.assertValue(me,"contract"),function(me,Ee){if(me.Column){var fe=g(me.Column.Expression,Ee);if(fe)return(0,i.Oh)(fe,me.Column.Property,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Measure){var fe=g(me.Measure.Expression,Ee);if(fe)return(0,i.mv)(fe,me.Measure.Property,me.Annotations)}}(me,Ee)||function(me,Ee){var fe;if(me.NativeMeasure)return me.NativeMeasure.ExpressionContentCache&&(fe={unrecognizedIdentifiers:me.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:f(me.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==me.NativeMeasure.Language&&t.fF.assertFail("QueryNativeMeasure is using unexpected language: "+me.NativeMeasure.Language),(0,i.PB)(me.NativeMeasure.Language,me.NativeMeasure.Expression,me.NativeMeasure.DataType,me.NativeMeasure.ProposedName,fe,me.NativeMeasure.Format,me.Annotations)}(me)||function(me,Ee){if(me.NativeColumn){var fe;if(me.NativeColumn.ExpressionContentCache&&(fe={unrecognizedIdentifiers:me.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:f(me.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==me.NativeColumn.Language)return void t.fF.assertFail("QueryNativeColumn is using unexpected language: "+me.NativeColumn.Language);if(!me.NativeColumn.Source)return void t.fF.assertFail("QueryNativeColumn should have a source");var Re=g(me.NativeColumn.Source,Ee);return(0,i.sl)(me.NativeColumn.Language,me.NativeColumn.Expression,me.NativeColumn.DataType,Re,me.NativeColumn.ProposedName,fe,me.NativeColumn.Format,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.SourceRef){if(!Ee){var se=me.SourceRef;return(0,i.nw)(se.Schema,se.Entity,void 0,me.Annotations)}var Re=me.SourceRef.Source,re=Ee.source(Re);if(re)return(0,o.$r)(re)?(0,i.nw)(re.schema,re.entity,Re,me.Annotations):(0,o.Yg)(re)?(0,i.nw)(re.schema,re.pod,Re):(0,a.y)(re)?(0,i.v5)(Re,me.Annotations):(t.fF.assert(()=>(0,o.Ms)(re),"Expected an ExpressionSource"),re.expr.as(Re))}}(me,Ee)||function(me,Ee){if(me.Aggregation){var fe=g(me.Aggregation.Expression,Ee);if(fe)return(0,i.m_)(fe,me.Aggregation.Function,void 0,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Min){var fe=g(me.Min.Expression,Ee);if(fe)return(0,i.m_)(fe,3,me.Min.IncludeAllTypes,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Max){var fe=g(me.Max.Expression,Ee);if(fe)return(0,i.m_)(fe,4,me.Max.IncludeAllTypes,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.SelectRef)return(0,i.xA)(me.SelectRef.ExpressionName,void 0,me.Annotations)}(me)||function(me,Ee){if(me.Percentile){var fe=g(me.Percentile.Expression,Ee);if(fe)return(0,i.Pe)(fe,me.Percentile.K,me.Percentile.Exclusive||!1,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.RangePercent){var fe=g(me.RangePercent.Min,Ee),Re=g(me.RangePercent.Max,Ee);if(fe&&Re)return(0,i.Mj)(fe,Re,me.RangePercent.Percent,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Arithmetic){var fe=g(me.Arithmetic.Left,Ee),Re=g(me.Arithmetic.Right,Ee);if(fe&&Re)return(0,i.Y8)(fe,Re,me.Arithmetic.Operator,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Floor){var fe=g(me.Floor.Expression,Ee);if(fe)return(0,i.GW)(fe,me.Floor.Size,me.Floor.TimeUnit,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Discretize){var fe=g(me.Discretize.Expression,Ee);if(fe)return(0,i.h5)(fe,me.Discretize.Count,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Member){var fe=g(me.Member.Expression,Ee);if(fe)return(0,i.fP)(fe,me.Member.Member,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Hierarchy){var fe=g(me.Hierarchy.Expression,Ee);if(fe)return(0,i.bT)(fe,me.Hierarchy.Hierarchy,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.HierarchyLevel){var fe=g(me.HierarchyLevel.Expression,Ee);if(fe)return(0,i.os)(fe,me.HierarchyLevel.Level,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.PropertyVariationSource){var fe=g(me.PropertyVariationSource.Expression,Ee);if(fe)return(0,i.yU)(fe,me.PropertyVariationSource.Name,me.PropertyVariationSource.Property,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.And){var fe=g(me.And.Left,Ee),Re=g(me.And.Right,Ee);if(fe&&Re)return(0,i.xD)(fe,Re,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Between){var fe=g(me.Between.Expression,Ee),Re=g(me.Between.LowerBound,Ee),re=g(me.Between.UpperBound,Ee);if(fe&&Re&&re)return(0,i.vX)(fe,Re,re,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.In){if(me.In.Values)return(0,i.Sh)(f(me.In.Expressions,Ee),_.map(me.In.Values,Re=>f(Re,Ee)));var fe=g(me.In.Table,Ee);if(fe)return(0,i.dY)(f(me.In.Expressions,Ee),fe,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Or){var fe=g(me.Or.Left,Ee),Re=g(me.Or.Right,Ee);if(fe&&Re)return(0,i.or)(fe,Re,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Contains){var fe=g(me.Contains.Left,Ee),Re=g(me.Contains.Right,Ee);if(fe&&Re)return(0,i.r3)(fe,Re,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Comparison){var fe=g(me.Comparison.Left,Ee),Re=g(me.Comparison.Right,Ee);if(fe&&Re)return(0,i.qu)(me.Comparison.ComparisonKind,fe,Re,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Conditional){for(var fe=me.Conditional.Cases,Re=fe.length,re=new Array(Re),se=0;se<Re;se++){var Ae=le(fe[se]);if(!Ae){re=void 0;break}re[se]=Ae}if(me.Conditional.DefaultValue){var ce=g(me.Conditional.DefaultValue);if(re&&ce)return(0,i.u7)(re,ce,me.Annotations)}else if(re)return(0,i.u7)(re,void 0,me.Annotations)}}(me)||function(me,Ee){if(me.DateAdd){var fe=g(me.DateAdd.Expression,Ee);if(fe)return(0,i.sO)(me.DateAdd.TimeUnit,me.DateAdd.Amount,fe,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.DateSpan){var fe=g(me.DateSpan.Expression,Ee);if(fe)return(0,i.uQ)(me.DateSpan.TimeUnit,fe,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Exists){var fe=g(me.Exists.Expression,Ee);if(fe)return(0,i.Gg)(fe,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.Not){var fe=g(me.Not.Expression,Ee);if(fe)return(0,i.ff)(fe,me.Annotations)}}(me,Ee)||function(me){if(me.Now)return(0,i.zO)(me.Annotations)}(me)||function(me){if(me.DefaultValue)return(0,i.LS)(me.Annotations)}(me)||function(me){if(me.AnyValue)return(0,i.n7)(me.AnyValue.DefaultValueOverridesAncestors,me.Annotations)}(me)||function(me,Ee){if(me.StartsWith){var fe=g(me.StartsWith.Left,Ee),Re=g(me.StartsWith.Right,Ee);if(fe&&Re)return(0,i.Ny)(fe,Re,me.Annotations)}}(me,Ee)||function(me,Ee){if(me.FillRule){var fe=g(me.FillRule.Input,Ee),Re=me.FillRule,re={},se=Re.FillRule.linearGradient2,Ae=Re.FillRule.linearGradient3;if(se){re.linearGradient2={min:te(se.min,Ee),max:te(se.max,Ee)};var ce=ke(se.nullColoringStrategy,Ee);ce&&(re.linearGradient2.nullColoringStrategy=ce)}else if(Ae){re.linearGradient3={min:te(Ae.min,Ee),mid:te(Ae.mid,Ee),max:te(Ae.max,Ee)};var Me=ke(Ae.nullColoringStrategy,Ee);Me&&(re.linearGradient3.nullColoringStrategy=Me)}return(0,i.x5)(fe,re,me.Annotations)}}(me,Ee)||function(me){if(me.ThemeDataColor)return(0,i.e7)(me.ThemeDataColor.ColorId,me.ThemeDataColor.Percent,me.Annotations)}(me)||function(me,Ee){if(me.ResourcePackageItem)return(0,i.nF)(me.ResourcePackageItem.PackageName,me.ResourcePackageItem.PackageType,me.ResourcePackageItem.ItemName,me.Annotations)}(me)||function(me,Ee){if(me.ScopedEval){var fe=g(me.ScopedEval.Expression,Ee);if(fe)return(0,i.ed)(fe,f(me.ScopedEval.Scope,Ee),me.Annotations)}}(me,Ee)||function(me,Ee){if(me.FilteredEval){var fe=g(me.FilteredEval.Expression,Ee);return(0,i.Xw)(fe,_.map(me.FilteredEval.Filters,Re=>l.filter(Re,Ee)),me.Annotations)}}(me,Ee)||function(me,Ee){if(me.WithRef)return(0,i.Oe)(me.WithRef.ExpressionName,me.Annotations)}(me)||function(me,Ee){if(me.TransformTableRef)return(0,i.GB)(me.TransformTableRef.Source,me.Annotations)}(me)||function(me,Ee){if(me.TransformOutputRoleRef)return(0,i.hu)(me.TransformOutputRoleRef.Role,me.TransformOutputRoleRef.Transform,me.Annotations)}(me)||function(me){if(me.Literal)return(0,c.bE)(me.Literal.Value)}(me)||function(me,Ee){if(me.GroupRef){var fe=g(me.GroupRef.Expression,Ee),Re=_.map(me.GroupRef.GroupedColumns,re=>g(re,Ee));if(fe&&!_.isEmpty(Re))return(0,i.Wp)(me.GroupRef.Property,fe,Re,me.Annotations)}}(me,Ee)||function(me){if(me.RoleRef)return(0,i.Wu)(me.RoleRef.Role,me.Annotations)}(me)||function(me){if(me.AllRolesRef)return(0,i.lI)(me.Annotations)}(me)||function(me){if(me.NamedQueryReference)return(0,i.kD)(me.NamedQueryReference.Name,void 0,me.Annotations)}(me)||function(me){if(me.Subquery)return(0,i.v5)(p.deserializeQuery(me.Subquery.Query),me.Annotations)}(me)||function(me){return function(me){if(me.Boolean)return(0,i.O7)(me.Boolean.Value,me.Annotations)}(me)||tt(me)||function(me){if(me.DateTimeSecond){var Ee=be(me.DateTimeSecond);return(0,i.uQ)(5,(0,i.CQ)(Ee),me.Annotations)}}(me)||tt(me)||function(me){if(me.Decimal)return(0,i.gH)(me.Decimal.Value,void 0,me.Annotations)}(me)||function(me){if(me.Integer)return(0,i.cA)(me.Integer.Value,void 0,me.Annotations)}(me)||function(me){if(me.Null)return(0,i.IF)()}(me)||function(me){if(me.Number)return(0,c.bE)(me.Number.Value)}(me)||function(me){if(me.String)return(0,i.fL)(me.String.Value,void 0,me.Annotations)}(me)}(me)||function(me){if(me.SummaryValueRef)return(0,i.bO)(me.SummaryValueRef.Name,me.Annotations)}(me)||function(me,Ee){var fe=me.SparklineData;if(fe)return(0,i.Zy)(g(fe.Measure,Ee),f(fe.Groupings,Ee),fe.ScalarKey?g(me.SparklineData.ScalarKey,Ee):void 0,fe.PointsPerSparkline,fe.IncludeMinGroupingInterval)}(me,Ee)||function(me,Ee){var fe=me.NativeVisualCalculation;if(fe){var Re=fe.DataType?(0,e.P)(fe.DataType):void 0;return(0,i.YU)(fe.Name,fe.Expression,Re,me.Annotations)}}(me)||function(me,Ee){var fe=me.VisualTopN;if(fe)return(0,i.Fo)(fe.ItemCount)}(me)}function v(me){return g(me,null)}function f(me,Ee){for(var fe=[],Re=0,re=me.length;Re<re;Re++)fe.push(g(me[Re],Ee));return fe}function le(me){if(me){var Ee=g(me.Condition),fe=g(me.Value);if(Ee&&fe)return{condition:Ee,value:fe}}}function te(me,Ee){if(me){var fe={color:g(me.color,Ee)};return me.value&&(fe.value=g(me.value,Ee)),fe}}function ke(me,Ee){if(me){var fe={strategy:g(me.strategy,Ee)};return me.color&&(fe.color=g(me.color,Ee)),fe}}function tt(me){var Ee=me.DateTime||me.Date;if(Ee){var fe=be(Ee);if(fe)return(0,i.CQ)(fe,void 0,me.Annotations)}}function be(me){return t.fF.assertValue(me,"contract"),(0,u.TX)(me.Value)}},879024:function(Ce,k,r){r.d(k,{d:function(){return a}});var a="tabular"},586946:function(Ce,k,r){r.d(k,{Ov:function(){return C},Rk:function(){return y}});var a=r(69578),e=r(939123),u=r(405427),t=r(425659);function C(){return new d}function y(n){var s=[];for(var p in n=o(n))if(n.hasOwnProperty(p)){var l=n[p],m=void 0;if(!l)continue;_.isDate(l)||null!=i(l.toString().substr(0,26))?m={dateTime:!0}:isNaN(+l)?_.isString(l)&&(m={text:!0}):m={numeric:!0},m&&s.push({name:p,type:m})}return s}function i(n){var s=null,p=+n;if(isNaN(p)){var V=(0,a.Kk)(n.toString());V&&(s=(0,u.Fg)(V))}else{var l=new Date;l.setDate(l.getDate()-h);var m=l.getTime();(l=new Date).setDate(l.getDate()+h);var b=l.getTime();p<m&&(p*=1e3),p>m&&p<b&&(s=(0,u.tU)(p))}return s}function o(n){try{return c(n)}catch{e.fF.assertFail("Failed to flatten JSON object")}return n}function c(n,s,p){return s||(s={}),_.isObject(n)?_.forOwn(n,(l,m)=>{c(l,s,p?p+"."+m:m)}):s[p]=n,s}var h=7;class d{constructor(){this.clear()}add(s){e.fF.assertValue(s,"data");var p=this.getKey(s.modelId,s.name);return this.tabularDataMap[p]=s,p}get(s){return e.fF.assertValue(s,"key"),this.tabularDataMap[s]}remove(s){e.fF.assertValue(s,"key"),delete this.tabularDataMap[s]}clear(){this.tabularDataMap={}}getKey(s,p){return e.fF.assertValue(s,"modelId"),e.fF.assertValue(p,"tableName"),s+"_"+p}mergeRows(s,p,l,m){e.fF.assertValue(s,"modelId");var b=this.getKey(s,p),V=this.get(b);if(!V||!V.rowGroups){var g={modelId:s,name:p,rowGroups:l,lastVersion:m,columns:V&&V.columns};return this.constructColumnsMetadataIfNeeded(g),this.fixUpValues(g.rowGroups,g.columns),void this.add(g)}var v=[],f=V.rowGroups||[],S=l||[];for(this.fixUpValues(S,V.columns);!_.isEmpty(f)||!_.isEmpty(S);){var P=_.head(f),D=_.head(S);P&&!D?(this.appendRow(v,P,m),f.shift()):!P&&D?(this.appendRow(v,D,m),S.shift()):P.version<D.version?(this.appendRow(v,P,m),f.shift()):D&&(S.shift(),P.version===D.version&&f.shift(),this.appendRow(v,D,m))}V.rowGroups=v,V.lastVersion=m}constructColumnsMetadataIfNeeded(s){if(e.fF.assertValue(s,"tabularData"),!s.columns){var p=_.last(s.rowGroups);if(p){var l=_.last(p.rows);l&&(s.columns=y(l))}}}fixUpValues(s,p){if(!_.isEmpty(s)){var l={},m={};for(var b of p)l[b.name]=b.type&&b.type.dateTime,m[b.name]=b.type&&b.type.numeric;for(var V of s)if(V.rows)for(var g=0;g<V.rows.length;g++){var v=V.rows[g]=o(V.rows[g]);for(var f in v)if(v.hasOwnProperty(f)){var S=v[f];if(S)if(l[f]){var P=i(S);P&&(v[f]=P)}else if(m[f]){var D=parseFloat(S.toString());isNaN(D)||(v[f]=D)}}}}}appendRow(s,p,l){e.fF.assertValue(s,"rows"),e.fF.assertValue(p,"row"),e.fF.assert(()=>l>0,"Invalid version"),!(l-p.version>t.cm)&&s.push(p)}}},31819:function(Ce,k,r){r.d(k,{Q:function(){return c},q:function(){return h}});var a=r(334169),e=r(939123),u=r(569276),t=r(639981),C=r(571619),y=r(528836),i=r(931145);function c(d){var n=_.indexOf(d,".");return n<0||n>=d.length-1?d:d.substr(n+1)}class h{constructor(n,s){e.fF.assertValue(n,"host"),e.fF.assertValue(s,"tabularData"),this.promiseFactory=n.promiseFactory(),this.tabularDataCache=s,this.columnToIndexMap={}}execute(n){e.fF.assertValue(n,"options");var s=_.head(n.dataSources),l=this.buildDataView(n.command,s.modelId),m=this.promiseFactory.defer();return m.resolve(l),(0,a.w)(m)}transform(n,s,p){return null==n?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:{dataView:n}}buildDataView(n,s){e.fF.assertValue(n,"command"),e.fF.assertValue(s,"modelId");var p=n.mappings[0],l=this.tabularDataCache,m=l.get(l.getKey(s,n.tableName));e.fF.assertValue(m,"tabularData");var b=h.getLastVersion(m)-n.dataWindow;if(m.rowGroups){var V=n&&_.head(n.Commands);if(V){var g=V.SemanticQueryDataShapeCommand;g&&g.Query&&g.Query.Select&&g.Query.Select.map((S,P)=>{this.columnToIndexMap[c(S.Name)]=P})}var v=this.filterTabularDataRowGroups(m.rowGroups,b),f=this.createDataView({rowGroups:v,columns:m.columns,modelId:m.modelId,name:m.name},p);return n.dataWindow&&(f.metadata.objects={categoryAxis:{duration:n.dataWindow}}),f}}filterTabularDataRowGroups(n,s){return e.fF.assertValue(n,"rowGroups"),e.fF.assertValue(s,"cutOff"),_.filter(n,p=>p.version>=s)}createDataView(n,s){e.fF.assertValue(n,"tabularData"),e.fF.assertValue(s,"mapping");var p={metadata:{columns:[]}},l=this.extractColumns(s),m=[];if(s.categorical){var b=this.getCategoricalDataViewInfo(l.categorical,n);p.categorical=b.dataView,_.isEmpty(p.categorical.values)&&(p.categorical.values=void 0),m.push(...b.columns||[])}if(s.table){var V=this.getSingleDataViewInfo(l.table,n);p.single=V.dataView;var g=V.columns[0];null==_.find(m,g)&&m.push(g)}return p.metadata.columns=m,p}getCategoricalDataViewInfo(n,s){e.fF.assertValue(n,"categoricalColumns"),e.fF.assertValue(s,"tabularData");var p=(0,t.h)();if(!_.isEmpty(n.categories)){var l=this.getCategoryColumnOption(n.categories,s);p.withCategory(l)}var m=this.getValueColumnOptions(n.categories,n.values,s);_.isEmpty(n.groupedValues)||n.groupedValues===n.categories?p.withValues({columns:m}):this.addGroupValues(n,s,p,m);var b=p.build();return{dataView:b.categorical,columns:b.metadata.columns}}addGroupValues(n,s,p,l){e.fF.assertValue(n,"categoricalColumns"),e.fF.assertValue(s,"tabularData"),e.fF.assertValue(n.groupedValues,"groupedValues"),e.fF.assertValue(l,"valueColumnOption");var m=c(n.groupedValues),b=this.getCategoryColumnOption(m,s),V=this.extractColumnValues(m,s),g=h.getUniqueValues(V),v=this.getValueToIndicesMap(V),f={},S=n.values;for(var P of S){var D=c(P),M=this.extractColumnValues(D,s);for(var E of g){var w=h.valueToString(E);null==f[w]&&(f[w]=[]);var N=_.at(M,v[w]);f[w].push({values:N})}}var L=_.values(f);_.isEmpty(L)||p.withGroupedValues({groupColumn:b,valueColumns:l,data:L})}getValueToIndicesMap(n){for(var s={},p=0,l=n.length;p<l;p++){var m=h.valueToString(n[p]),b=s[m];b?b.push(p):s[m]=[p]}return s}getSingleDataViewInfo(n,s){e.fF.assertValue(n,"singleColumn"),e.fF.assertValue(s,"tabularData");var p=this.getColumnMetadataAndValues(n,s);return{dataView:{value:p.values[p.values.length-1],column:p.metadataColumn},columns:[p.metadataColumn]}}extractColumns(n){e.fF.assertValue(n,"mapping");var s=(f,S)=>{var P=f.items;if(P)for(var D of P)S.push(D.queryName)},p={},l=n.categorical;if(l){var m=[];(0,u.Sr)(l.categories,{visitRole:f=>{s(f,m)}});var b=[];(0,u.fl)(l.values,{visitRole:f=>{s(f,b)}});var V=[];(0,u.vS)(l.values,{visitRole:f=>{s(f,V)}}),e.fF.assert(()=>V.length<=1,"grouped values length should be <= 1"),e.fF.assert(()=>m.length<=1,"grouped values length should be <= 1"),p.categorical={categories:m[0],groupedValues:V[0],values:b}}var g=n.table;if(g){var v=[];(0,u.vV)(g,{visitRole:f=>{s(f,v)}}),e.fF.assert(()=>1===v.length,"The length of the single column should be one"),p.table=v[0]}return p}getCategoryColumnOption(n,s){e.fF.assertValue(n,"columnNames"),e.fF.assertValue(s,"tabularData");var p=this.getColumnMetadataAndValues(n,s),l=h.getUniqueValues(p.values),m=(0,y.Oh)((0,y.nw)(null,s.name),n),b=_.map(l,V=>(0,C.TZ)((0,y.Dg)(m,(0,y.fL)(V.toString()))));return{source:p.metadataColumn,values:l,identityFrom:{fields:[m],identities:b}}}getValueColumnOptions(n,s,p){e.fF.assertAnyValue(n,"categoryColumnName"),e.fF.assertValue(s,"columnNames"),e.fF.assertValue(p,"tabularData");var l=[];for(var m of s){var b=this.getColumnMetadataAndValues(m,p,n),V=b.values;!n&&!_.isEmpty(V)&&(V=[_.last(V)]);var g={source:b.metadataColumn,values:V,minLocal:_.min(V),maxLocal:_.max(V)};l.push(g)}return l}getColumnMetadataAndValues(n,s,p){e.fF.assertValue(n,"columnName"),e.fF.assertValue(s,"tabularData"),e.fF.assertAnyValue(p,"categoryColumnName");var V,l=s.columns,m=c(n),b=this.columnToIndexMap[m];if(e.fF.assert(()=>b>=0,"The column name should exist in tabular columns"),p){var g=c(p);V=this.extractUniqueColumnValues(m,s,g)}else V=this.extractColumnValues(m,s);var v=_.find(l,S=>S.name===m);return{metadataColumn:h.createMetadataColumn(m,b,i.Ge.fromDescriptor(v.type)),values:V}}extractColumnValues(n,s){e.fF.assertValue(n,"columnName"),e.fF.assertValue(s,"tabularData");var p=s.rowGroups,l=[];for(var m of p)for(var b of m.rows)l.push(b[n]);return l}extractUniqueColumnValues(n,s,p){e.fF.assertValue(n,"columnName"),e.fF.assertValue(s,"tabularData"),e.fF.assertValue(p,"categoryName");var l=s.rowGroups,m={};for(var b of l)for(var V of b.rows)m[h.valueToString(V[p])]=V[n];return _.values(m)}static getLastVersion(n){if(e.fF.assertValue(n,"tabularData"),_.isEmpty(n.rowGroups))return n.lastVersion?n.lastVersion:Number.NEGATIVE_INFINITY;var s=Number.NEGATIVE_INFINITY;if(!n.rowGroups)return s;for(var p of n.rowGroups)p.version>s&&(s=p.version);return s}static createMetadataColumn(n,s,p){e.fF.assertValue(n,"name"),e.fF.assertValue(s,"columnIndex");var l={displayName:n,queryName:n,index:s,isMeasure:!1};return null!=p&&(l.type=p,l.isMeasure=!!p.numeric),l}static getUniqueValues(n){return _.uniqBy(n,s=>h.valueToString(s))}static valueToString(n){return _.isDate(n)?n.getTime().toString():n?n.toString():""}}},960072:function(Ce,k,r){r.d(k,{Z:function(){return t}});var a=r(939123),e=r(517273),u=r(743395);function t(){return new C(u.ib)}class C{constructor(i){a.fF.assertValue(i,"serializer"),this.serializer=i}execute(i){a.fF.assertValue(i,"options");var o=i.query;a.fF.assertValue(o,"query");var h={SemanticQueryDataShapeCommand:{Query:this.serializer.serializeQuery(o),Binding:null}},d=e.m.getActiveTablesNames(o);a.fF.assertValue(1===d.length,"Exactly 1 entity is expected");var n=d[0];return a.fF.assertValue(n,"entity"),{command:{dataWindow:i.dataWindow,tableName:n,mappings:i.mappings,Commands:[h]}}}produceIdentities(i,o){return a.fF.assertFail("TabularDataQueryGenerator.produceIdentities should not get used. "),[i]}}},540665:function(Ce,k,r){r.d(k,{I7:function(){return d},Zq:function(){return e},h1:function(){return l},hh:function(){return C},oj:function(){return c},s7:function(){return i},sS:function(){return o},vP:function(){return u},zT:function(){return s}});var a=r(17933),e="PBI.Data.QueryData",u=a.cx[e]=(0,a.b1)(e),t="PBI.Data.QueryCancellation",C=a.cx[t]=(0,a.b1)(t,{logRatio:1e-4}),y="PBI.Data.ClientCacheHit",i=a.cx[y]=(0,a.b1)(y,{logRatio:1e-4}),o="PBI.Data.GetConceptualSchema",c=a.cx[o]=(0,a.b1)(o),h="PBI.Data.ClearConceptualSchemaCache",d=a.cx[h]=(0,a.b1)(h),n="PBI.Data.ExecuteQuery",s=a.cx[n]=(0,a.b1)(n),p="PBI.Data.DsrToDataView",l=a.cx[p]=(0,a.b1)(p,{logRatio:1e-4})},259452:function(Ce,k,r){r.d(k,{S:function(){return e}});var a=r(804616);function e(){return new u}class u{constructor(){this.plugins=a.Gr}getTransformPlugin(C){if(C)return this.plugins[C]}}},804616:function(Ce,k,r){r.d(k,{Gr:function(){return h},Xp:function(){return e}});var a=r(454865),e="SampleAndDetectAnomaly",t={ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd"},C=_.mapValues(t,d=>"anomalyDetection."+d),y=_.mapValues(t,d=>d+"Role"),h={Forecast:{name:"Forecast",inputRoles:[{name:"X",visualDataRoleMatching:{cartesianKind:0}},{name:"Y",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:"forecast.ForecastValue",algorithmRole:"Forecast",columnName:"forecastValue",kind:a.DW.Measure},{name:"forecast.ConfidenceHighBound",algorithmRole:"UpperBound",columnName:"confidenceHighBound",kind:a.DW.Measure},{name:"forecast.ConfidenceLowBound",algorithmRole:"LowerBound",columnName:"confidenceLowBound",kind:a.DW.Measure}]},KMeansClustering:{name:"KMeansClustering",inputRoles:[{name:"Attribute",visualDataRoleMatching:{matchMeasure:!0,skipJoinPredicateNone:!0}},{name:"Item",visualDataRoleMatching:{matchGrouping:!0}}],outputRoles:[{name:"Series",algorithmRole:"ClusterId",columnName:"clusterId",kind:a.DW.Grouping}]},[e]:{name:e,inputRoles:[{name:"TimeSeriesColumnRole",visualDataRoleMatching:{cartesianKind:0}},{name:"ValueColumnRole",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:C.ExpectedValue,algorithmRole:y.ExpectedValue,columnName:t.ExpectedValue,kind:a.DW.Measure,joinPredicateBehavior:0},{name:C.ExpectedLow,algorithmRole:y.ExpectedLow,columnName:t.ExpectedLow,kind:a.DW.Measure,joinPredicateBehavior:0},{name:C.ExpectedHigh,algorithmRole:y.ExpectedHigh,columnName:t.ExpectedHigh,kind:a.DW.Measure,joinPredicateBehavior:0},{name:C.RawScore,algorithmRole:y.RawScore,columnName:t.RawScore,kind:a.DW.Measure,joinPredicateBehavior:0},{name:C.Anomaly,algorithmRole:y.Anomaly,columnName:t.Anomaly,kind:a.DW.Measure,joinPredicateBehavior:0},{name:C.BatchStart,algorithmRole:y.BatchStart,columnName:t.BatchStart,kind:a.DW.Measure,joinPredicateBehavior:0},{name:C.BatchEnd,algorithmRole:y.BatchEnd,columnName:t.BatchEnd,kind:a.DW.Measure,joinPredicateBehavior:0}]}}},509676:function(Ce,k,r){r.d(k,{tc:function(){return y},cu:function(){return n},X9:function(){return h},GB:function(){return c}});var a=r(711098),e=r(976205),u=r(17933),t="PBI.Settings.EsriSaveModel",C=u.cx[t]=(0,u.b1)(t);function y(m,b,V=!0){return{automaticallyImport:V,sandboxProperties:[2,1,0,3],providers:{blocker:{blockedInCluster:_.stubTrue,blockedInTenant:_.stubTrue,blockedInHost:_.stubFalse},validator:{getErrorDetails:()=>({message:b.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:1,displayableErrorInfo:[],helpLink:a.ep})}},visualTypeOptions:i(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:()=>m.reject(e.VT)},consentPersistencyProvider:{loadConsent:()=>m.reject(e.VT),saveConsent:g=>m.reject(e.VT)}}}}function i(){return{class:e.Jo,titleKey:"ArcGISMapsForPowerBI",watermarkKey:"map"}}function o(m){return{blockedInCluster:()=>!m.featureSwitches.esriEnabled,blockedInTenant:()=>!m.featureSwitches.esriVisualEnabled,blockedInHost:_.stubFalse}}function c(m,b,V,g,v,f,S,P=!0){var D=o(V);return{automaticallyImport:P,sandboxProperties:[2,1,0,3],providers:{blocker:D,validator:p(D,S,g)},visualTypeOptions:i(),registerVisualConsentOptions:d(m,b,v,f)}}function h(m,b,V=!0){var g=o(m);return{automaticallyImport:V,sandboxProperties:[2,1,0,3],providers:{blocker:g,validator:p(g,void 0,b)},visualTypeOptions:i()}}function d(m,b,V,g){return{consentDialogProvider:l(m,b),consentPersistencyProvider:s(m,V,g)}}function n(m,b,V,g,v,f,S=!0,P=!0){var D=o(b),E={automaticallyImport:S,sandboxProperties:[2,1,0,3],providers:{blocker:D,validator:p(D,g,V)},visualTypeOptions:i()};return P&&(E.registerVisualConsentOptions={consentDialogProvider:{showConsentDialog:()=>m.reject("Esri consent dialog is not supported in Mobile scenario.")},consentPersistencyProvider:s(m,v,f)}),E}function s(m,b,V){return{loadConsent:()=>{var g=m.defer();return b.esriVisualEnabled.subscribe(v=>{g.resolve(v)}),g.promise},saveConsent:g=>{var v=V.startEvent(C,{esriEnabled:g});return b.setEsriVisualEnabled(g,v),m.resolve(g)}}}function p(m,b,V){return{getErrorDetails:()=>{var g;if(m.blockedInTenant()?g="SettingsEsri_OrganizationHasDisabled":b&&!b.hasConsent(e.Jo)&&(g="VisualContainer_EsriNotConsented"),g)return{message:V.get(g),errorType:1,displayableErrorInfo:[],helpLink:a.ep}}}}function l(m,b){return{showConsentDialog:()=>{var V=m.defer();return b.openHostDialog({dialogName:"EsriConsentDialog",componentName:"EsriConsentDialog",config:{panelClass:["esri-consent-dialog"],autoFocus:!1}}).then(v=>v.afterClosed().subscribe(f=>V.resolve(f))),V.promise}}}},262046:function(Ce,k,r){r.d(k,{O:function(){return a},T:function(){return e}});var a={name:"saveExploration",type:3},e={name:"saveAsExploration",type:3}},461886:function(Ce,k,r){r.d(k,{d:function(){return e}});var e={type:2,name:"topNFilterOrderByUpdate"}},334930:function(Ce,k,r){r.d(k,{hM:function(){return d},oX:function(){return h}});var a=r(990121),e=r(184437),u=r(159214),t=r(834678),C=r(939123),y=r(969143),i=r(517273),o=r(960196),c=r(955363),h=function(s){return s[s.Card=0]="Card",s[s.Pane=1]="Pane",s}({}),d=(()=>{class s extends c.j{constructor(l,m,b){super(l,{expanded:!1,canToggleSingleSelect:!1,availableTypes:[],type:l.type}),this.localizationService=b,this.isInvalidForMappedColumn=!1,this.id=s.counter++,this.restatement="",this.displayName="",this.containerScope=m,this.howCreated=0,this.isLinkedAsAggregation=!1,this.filterCapabilities=e.l.getFilterCapabilities(l),this.containerType=h.Pane}setServices(l,m,b){C.fF.assertAnyValue(l,"visualHostServices can be null or undefined."),this.visualHostServices=l,this.visualPlugin=m,this.viewModeState=b}isInvalid(){return this.invalid}clearDQPWarning(){this.isInvalidForMappedColumn&&(this.invalid=!1,this.readOnlyState.invalid=!1,this.isInvalidForMappedColumn=!1)}isInvalidCardType(){return this.cardType&&this.cardType.invalid}setContainerType(l){this.containerType=l}get filterContainerType(){return this.containerType}get isVisualFilter(){return this.containerScope&&0===this.containerScope.scopeType}get hasDefaultValue(){return this.defaultValue&&(1===this.howCreated||5===this.howCreated)}get isLinkField(){return 5===this.howCreated&&!this.contract.isTransient}get canToggleLinkAsAggregation(){return this.isLinkField&&!this.isMeasure}get canDeleteManually(){return this.filterCapabilities.canDelete||!!this.readOnlyState.invalid}get canClearManually(){return this.filterCapabilities.canClear}get hasRestatement(){return""!==this.restatement&&null!=this.restatement}get canHideManually(){return this.filterCapabilities.canHide}get canLockManually(){return this.filterCapabilities.canLock}get canRenameManually(){return this.filterCapabilities.canRename}get canSortManually(){return this.filterCapabilities.canSort}get canExpandManually(){return this.filterCapabilities.canEdit&&e.l.canExpandManually(this.contract.howCreated,this.contract.isTransient,this.contract.expression,!this.invalid,this.contract.type)}getFilterContainerScope(){return this.containerScope}setRestatement(l){this.contract.type===this.readOnlyState.type&&(this.restatement=l)}clearRestatement(){this.restatement=""}getRestatement(){return this.restatement}updateFilterCardStyle(l,m){m&&(this.style=e.l.getFilterCardStyle(l&&l.evaluatedObjects,!!this.contract.filter,m,this.filterCardStyleArguments))}get checkboxAndApplyColor(){return this.style&&this.style.checkboxAndApplyColor}get borderColor(){return this.style&&this.style.borderColor}get backgroundColor(){return this.style&&this.style.backgroundColor}get foregroundColor(){return this.style&&this.style.foregroundColor}get inputBoxBorderColor(){return this.style&&this.style.inputBoxBorderColor}get inputBoxBackgroundColor(){return this.style&&this.style.inputBoxBackgroundColor}get inputBoxForegroundColor(){return this.style&&this.style.inputBoxForegroundColor}get fontSize(){return this.style&&this.style.fontSize}get fontFamily(){return this.style&&this.style.fontFamily}get visualContainer(){if(this.isVisualFilter)return this.containerScope.container}isFilterLocked(){return this.contract.isLockedInViewMode}isFilterHidden(){return this.contract.isHiddenInViewMode}isFilterExpanded(){return this.readOnlyState.expanded}updateFilterProperties(l,m,b){if(this.contract.expression){var V=this.contract.expression;this.isMeasure=(0,o.k)(V),this.discourageAggregation=i.m.discourageAggregation(V,l),this.valueType=e.l.getValueType(V,l),this.formatter=e.l.getFormatter(V,l),this.defaultValue=i.m.getDefaultValue(V,l),this.parameterMetadata=i.m.getConceptualParameterMetadata(V,l),5===this.howCreated&&!this.contract.isTransient||this.isMappedToMParameter()&&!this.supportsMultipleValues()?(this.isSingleSelectionRequired=!0,this.disableSelectionModeToggle=!0):this.contract.isTransient&&(this.isSingleSelectionRequired=!1,this.disableSelectionModeToggle=!0)}if(this.contract.objects){var f=(0,y.NA)(this.contract.objects,{objectName:"general",propertyName:"isInvertedSelectionMode"},void 0);this.isInvertedSelectionMode=f&&f.value}var S=this.containerScope.container;this.hasGroupingScope=S&&(0,u.e4)(S,l),this.invalid=!_.isEmpty(e.l.validate(this.contract,l,b)),this.invalid?this.isInvalidForMappedColumn=!1:(this.isInvalidForMappedColumn=this.hasInvalidFiltersForMParameters(this.contract,l),this.invalid=this.isInvalidForMappedColumn),this.disabled=e.l.shouldDisableFilter(this.contract,l,S,b,m)}hasInvalidFiltersForMParameters(l,m){var b=l?.filter?.conditions();if(!b)return!1;for(var V of b)if(!i.m.checkExprForValidMParameters(V,m))return!0;return!1}switchType(l){this.readOnlyState.type=l}canVisualize(){var l=this.contract;return l.expression&&l.type!==a.vA.Passthrough&&!this.isMeasure}updateViewStateCore(l){var m=this.contract;C.fF.assertValue(l.type,"Expected type to be defined for filter contract.");var b=!this.invalid;if(l.disabled=this.disabled,l.expanded=!0===m.expanded&&b,l.invalid=!b,_.some(this.availableTypes,v=>v.type===a.vA.Categorical)&&!l.visual&&m.config){var V=m.config.singleVisual;V&&this.visualHostServices&&this.visualPlugin&&(l.visual={viewport:s.DefaultVisualViewPort,type:t.L.filterSlicer.name,dataTransforms:{objects:V.objects},hostServices:this.visualHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:{}})}l.canToggleSingleSelect=!(5===this.howCreated&&!this.contract.isTransient||this.contract.isTransient||l.disabled||!l.expanded||!l.visual||!l.visual.data)}updateAvailableTypes(){var l=this.localizationService,m=this.readOnlyState.type;if(m!==a.vA.Passthrough){var b=[];m===a.vA.VisualTopN?b.push({type:a.vA.VisualTopN,label:l.get("Data_Limit")}):(function(s,p){return s&&!s.bool&&!p}(this.valueType,this.isLinkField)&&b.push({type:a.vA.Advanced,label:l.get("FilterPane_Advanced")}),this.isMeasure||(b.push({type:a.vA.Categorical,label:l.get("FilterPane_Basic")}),this.valueType&&this.valueType.dateTime&&!this.isMappedToMParameter()&&(b.push({type:a.vA.RelativeDate,label:l.get("FilterPane_RelativeDate")}),b.push({type:a.vA.RelativeTime,label:l.get("FilterPane_RelativeTime")})),this.isVisualFilter&&!this.isMappedToMParameter()&&b.push({type:a.vA.TopN,label:l.get("FilterPane_TopN")}))),this.availableTypes=b,this.hiddenTypes=[],this.updateCardType(m)}else this.availableTypes=[]}updateCardType(l){var m=this.availableTypes;this.readOnlyState.type=l,this.cardType=_.find(m,b=>b.type===l),!this.cardType&&this.hiddenTypes&&this.hiddenTypes.length>0?(this.cardType=_.find(this.hiddenTypes,b=>b.type===l),this.availableTypes.push(this.cardType)):!this.cardType&&this.isMappedToMParameter()&&(this.cardType={type:a.vA.Categorical,label:this.localizationService.get("FilterPane_Basic")})}isSingleSelectDisabled(){return this.disableSelectionModeToggle||!this.viewModeState||0===this.viewModeState.getMode()}getDisplayName(){return this.contract.displayName?this.contract.displayName:this.displayName}updateIsLinkedAsAggregation(l){this.isLinkedAsAggregation=l}getInputPlaceholder(){return this.viewModeState&&this.viewModeState.getConfig().displayOptions.enableMobileFilters?this.localizationService.get("TypeHere"):""}isMappedToMParameter(){return this.parameterMetadata&&1===this.parameterMetadata.kind}supportsMultipleValues(){return!!this.parameterMetadata?.supportsMultipleValues}supportsSelectAll(){return!!this.parameterMetadata?.supportsSelectAll}}return s.DefaultVisualViewPort={width:146,height:180,scale:1},s.counter=0,s})()},105179:function(Ce,k,r){r.d(k,{fw:function(){return V},l7:function(){return g}});var a=r(990121),e=r(184437),u=r(939123),t=r(616113),C=r(79619),y=r(359155),i=r(564619),o=r(895127),c=r(481486),h=r(169076),d=r(219753),n=r(652027),s=r(323408),p=r(970164),m=r(334930),b=r(680497);function V(L,B,I,W,O,F,A,T,R){var U;switch(u.fF.assertValue(L,"contract"),u.fF.assertValue(L.expression||L.filter||L.type===a.vA.Include||L.type===a.vA.Exclude,"field or filter is required; otherwise this must be an empty include/exclude filter"),u.fF.assert(()=>!L.isTransient||!!L.filter,"We assume that if it is a transient filter, it should have semantic filter. If the assumption is wrong, please revisit implementation of getDefaultFilterType."),L.type){case a.vA.TopN:U=M(L,T,W,B,I,A,R);break;case a.vA.VisualTopN:U=function(L,B,I,W,O,F,A){return N(L,a.vA.VisualTopN,B,I,W,O,F,A)}(L,W,B,I,A,T,R);break;case a.vA.Advanced:case a.vA.Categorical:U=D(L,T,W,B,I,A,R);break;case a.vA.RelativeTime:U=w(C.wj.Time,L,T,W,B,I,A,R,!1);break;case a.vA.RelativeDate:U=w(C.wj.Date,L,T,W,B,I,A,R,!1);break;case a.vA.Passthrough:U=P(L,T,W,B,I,R,A);break;case a.vA.Include:case a.vA.Exclude:U=S(L,W,B,I,A);break;default:U=M(L,T,W,B,I,A,R)||w(C.wj.Time,L,T,W,B,I,A,R,!0)||w(C.wj.Date,L,T,W,B,I,A,R,!0)||D(L,T,W,B,I,A,R)||S(L,W,B,I,A)||P(L,T,W,B,I,R,A)}return u.fF.assertValue(U,"Expected to convert contract to FilterViewModel"),u.fF.assertValue(L.type,"Expected filter contract type to be assigned"),U.howCreated=L.howCreated,U.updateFilterProperties(B,O,F),U}function g(L,B,I){var W;if(L.filter){var O=L.filter.conditions();u.fF.assert(()=>1===O.length,"There should be exactly 1 filter expression.");var F=O[0];F&&(W=new p.L(B).fromFilterExpr(F,I,null,L.expression))}return!W&&L.expression&&(W=new s.d(L.expression,B)),W}function v(L,B,I,W,O,F,A){var T=(0,o.Q)(L);return I.getDisplayName(L,B,W,O,0===A?F:void 0,{includeVariationSource:!0})||(T?(0,i._6)(T):void 0)}function f(L,B,I,W,O,F,A){var T=I.getQualifiedDisplayName(L,B,O);return 5===A||6===A||2===A?T=W.format("FilterCard_Transient_Drill",[T]):7===A?T=W.format("FilterCard_Transient_URL",[T]):F&&(T=W.format("FilterCard_Transient",[T])),T}function S(L,B,I,W,O){var F=new n.v(I,W);if(!L.filter)return L.type?new m.hM(L,B,O):void 0;var A=L.filter.conditions();if(!(_.isEmpty(A)||A.length>1)&&(A[0].accept(F),F.dataPoints.length>0)){L.type=F.isExclude?a.vA.Exclude:a.vA.Include;var R=new m.hM(L,B,O);return R.displayName=e.l.getDisplayNameForIncludeExcludeFilters(O,L.type,F.dataPoints.length),R}}function P(L,B,I,W,O,F,A){u.fF.assert(()=>null==L.type||L.type===a.vA.Passthrough,"Filter contract matches FilterType.Passthrough, but has differing type property: "+L.type),null==L.type&&(L.type=a.vA.Passthrough);var T=new m.hM(L,I,A),R=L.restatement;if((!R||""===R)&&L.filter){u.fF.assert(()=>1===_.size(L.filter.where()),"expecting only 1 filter in passthrough filters");var U={includeFieldNamesInFilter:!0};if(R=O.getFilterRestatement(L.filter,W,B,U),T.tooltip=O.getQualifiedFilterRestatement(L.filter,W,B,U),_.isEmpty(R)){var z=(0,c.J)(L.filter);if(!_.isEmpty(z)){var H,q,G,J,j=A.get("ListJoin_Separator");F&&(J=F.columnProperties);var Z=z.fieldsBeingFiltered.map(Se=>{var Ke=F&&F.query&&F.query.defn.selectNameOf(Se);return O.getDisplayName(Se,W,B,Ke,J)}).join(j),Q=z.fieldsBeingFiltered.map(Se=>O.getQualifiedDisplayName(Se,W,B,U)).join(j);if(z.isSubquery&&z.itemCount){u.fF.assert(()=>1===I.scopeType&&5===L.howCreated,"Subqueries are expected to be only within section and drillthrough context.");var ne=(0,y.WU)(z.itemCount);if(z.orderByField){var le=F&&F.query&&F.query.defn.selectNameOf(z.orderByField),he=O.getDisplayName(z.orderByField,W,B,le,J);G=z.isTop?"FilterRestatement_TopNBy_Drillthrough":"FilterRestatement_BottomNBy_Drillthrough",H=[ne,Z,he],q=[ne,Q,he]}}else H=[Z],q=[Q],G=z.isSubquery?"FilterRestatement_Subquery":"FilterRestatement_Columns";R=(0,t.W)(A.get(G),...H||[]),T.tooltip=(0,t.W)(A.get(G),...q||[])}}}return T.setRestatement(R),T}function D(L,B,I,W,O,F,A){var T=g(L,F,W);if(T){L.expression||(L.expression=T.field),u.fF.assert(()=>null==L.type||L.type===a.vA.Categorical||L.type===a.vA.Visual||L.type===a.vA.Advanced,"Filter contract matches FilterType.Advanced, FilterType.Categorical, or FilterType.Visual, but  has differing type property: "+L.type),null==L.type&&(L.filter?L.type=e.l.getFilterType(T.field,T.supportsCategorical):(u.fF.assert(()=>!L.isTransient,"We assume the FilterContainer isTransient to be false when it reaches here. If it is true, getDefaultFilterType API needs to consider isTransient."),L.type=(0,b.NV)(L.expression,W,L.howCreated))),null==L.type&&(L.type=a.vA.Categorical);var z,j,R=L.expression,U=new m.hM(L,I,F);return A&&(z=A.query&&A.query.defn.selectNameOf(R),j=A.columnProperties),U.displayName=v(R,W,O,B,z,j,I.scopeType),U.tooltip=f(R,W,O,F,B,L.isTransient,L.howCreated),U}}function M(L,B,I,W,O,F,A){if(0===I.scopeType&&5!==L.howCreated){var T=(0,d.J_)(L.filter);return T&&x(L,a.vA.TopN,T.fieldBeingFiltered),N(L,a.vA.TopN,I,W,O,F,B,A)}}function w(L,B,I,W,O,F,A,T,R){var U=function(L){switch(L){case C.wj.Time:return a.vA.RelativeTime;case C.wj.Date:return a.vA.RelativeDate;default:return u.fF.assertFail("Unsupported RelativeFilterType"),null}}(L),z=(0,h.pi)(B.filter,L);if(z){if(z.options&&z.options.anchorDate&&R)return;x(B,U,z.field)}return N(B,U,W,O,F,A,I,T)}function x(L,B,I){u.fF.assert(()=>null==L.type||L.type===B,"Filter contract matches FilterType."+B+" but has differing type property: "+L.type),L.type=B,L.expression=I}function N(L,B,I,W,O,F,A,T){if(L.type===B){if(B===a.vA.VisualTopN){var R=new m.hM(L,I,F);return R.displayName=F.get("Data_Limit"),R}if(L.expression){var U=new m.hM(L,I,F),z=T&&T.query?T.query.defn.selectNameOf(L.expression):void 0;return U.displayName=v(L.expression,W,O,A,z,T?T.columnProperties:void 0,I.scopeType),U.tooltip=f(L.expression,W,O,F,A,L.isTransient,L.howCreated),U}}}},740232:function(Ce,k,r){r.d(k,{$l:function(){return t},De:function(){return s},H:function(){return m},Il:function(){return w},Kp:function(){return E},Kx:function(){return G},LG:function(){return M},LQ:function(){return h},Ll:function(){return j},Lu:function(){return ne},Rz:function(){return n},T9:function(){return y},TY:function(){return c},V1:function(){return U},X:function(){return Z},Y:function(){return Q},Y1:function(){return T},Y4:function(){return B},Z0:function(){return l},Zp:function(){return Ke},b4:function(){return F},di:function(){return R},e4:function(){return C},es:function(){return x},f4:function(){return Se},hz:function(){return o},i$:function(){return J},iR:function(){return H},jA:function(){return g},jv:function(){return A},k8:function(){return N},mn:function(){return v},ns:function(){return L},oU:function(){return le},ph:function(){return d},rR:function(){return i},tV:function(){return W},ve:function(){return u},xh:function(){return z},yD:function(){return D}});var u="calloutValue",t="categoryAxis",C="categoryLabels",y="conditionalFormatting",i="dataBars",o="dataPoint",c="dropShadow",h="general",d="gradient",n="labels",s="legend",l="personalizeVisual",m="stylePreset",g="totals",v="valueAxis",D="visualTooltip",M="zoom",E="applyToAllPages",w="color",x="dynamicLabelValue",N="flagsSelection",L="innerPadding",B="numericSelection",W="revertToDefault",F="secShow",A="secShowAxisTitle",T="selection",R="show",U="showAxisTitle",z="showDynamicLabels",j="showGradientLegend",H="slider",G="textarea",J="transparency",Z="x",Q="y",ne="width",le="height",Se="allowBinnedLineSample",Ke="allowOverlappingPointsSample"},928948:function(Ce,k,r){r.d(k,{$j:function(){return S},BB:function(){return c},Co:function(){return M},D5:function(){return i},Dw:function(){return h},K5:function(){return p},LQ:function(){return d},U2:function(){return b},VA:function(){return E},W1:function(){return y},X5:function(){return m},Y9:function(){return s},Yb:function(){return l},aW:function(){return x},hu:function(){return o},jk:function(){return D},kV:function(){return w},qD:function(){return f},xk:function(){return n}});var y=9,i=20,o=10,c=20,h=30,d=300,n=300,s=150,p=150,l=500,m=15,b={x:1,y:1},f=8,S=50,D=558,M=324,E=18,w=180,x=3600},562540:function(Ce,k,r){r.d(k,{H$:function(){return m},MY:function(){return c},Vk:function(){return n},Yk:function(){return C},aV:function(){return l},gI:function(){return h},hH:function(){return o},m$:function(){return i},oD:function(){return p},oS:function(){return d},uH:function(){return s}});var a=r(540932),e=r(187220),u=r(722709),t=r(939123);function C(b,V){var g=(0,a.y)(V),v=(0,a.y)(b);t.fF.assert(()=>g.length===v.length,"permanent section count is out of sync");for(var f=g.length-1;f>=0;f--){var S=g[f],P=v[f];S.id=P.id,S.objectId=P.objectId,y(S.visualContainerGroups,P.visualContainerGroups)}}function y(b,V){for(var g=function(){var f=b[v],S=V[v];f.id=S.id,t.fF.assert(()=>(0,e.q4)(f)===(0,e.q4)(S),"visualContainerGroups items must be in sync"),(0,e.q4)(f)&&(0,e.q4)(S)&&y(f.children,S.children)},v=b.length-1;v>=0;v--)g()}function i(b,V){if(b&&b.sections){var v=_.findIndex(b.sections,f=>f.name===V);if(-1!==v)return v}}function o(b,V){var g;return V&&(g=i(b,V)),null==g&&_.isNumber(b.activeSectionIndex)&&(g=b.activeSectionIndex),(null==g||!_.inRange(g,0,b.sections.length))&&(g=0),g}function c(b,V){return b&&b.sections?_.findIndex(b.sections,f=>f===V):-1}function h(b,V){return b&&b.sections?(0,u.Jq)(b.sections,V):null}function d(b,V){return b&&b.sections?_.findIndex(b.sections,f=>f.id===V):-1}function n(b,V){for(var g=1,v=V.format("Explore_Section_Page",[g.toFixed()]);_.findLastIndex(b,f=>f.displayName===v)>=0;)v=V.format("Explore_Section_Page",[(++g).toFixed()]);return v}function s(b,V){var g=b.sections;for(var v of g)v.displayName||(v.displayName=n(b.sections,V))}function p(b){return _.filter(b,V=>!l(V))}function l(b){return!!(1&b.visibility)}function m(b){return!!(1&b.type)}},684311:function(Ce,k,r){r.d(k,{$o:function(){return u},Y6:function(){return C},u3:function(){return t}});var a=r(743395),e=r(524081);function u(n,s,p){n.addEventListener("drop",l=>{var m=C(l);m&&s(l,m,y(n,l))}),n.addEventListener("dragover",l=>{(function(n){return!function(n){return n.dataTransfer.types.includes("buildfieldwell")}(n)})(l)&&(p&&function(n,s){switch(s){case 0:o(n.previousElementSibling,e.Hq.class),o(n,e.Hq.class),o(n.nextElementSibling,e.Hq.class);break;case 2:o(n.previousElementSibling,e.at.class),o(n,e._r.class),o(n.nextElementSibling,e.Hq.class);break;case 3:o(n.previousElementSibling,e.Hq.class),o(n,e.at.class),o(n.nextElementSibling,e._r.class);break;case 1:o(n.previousElementSibling,e.Hq.class),o(n,e.BN.class),o(n.nextElementSibling,e.Hq.class);break;default:c(n)}}(n,p(y(n,l))),l.preventDefault())}),p&&(n.addEventListener("dragleave",()=>c(n)),n.addEventListener("dragexit",()=>c(n)),n.addEventListener("dragend",()=>c(n)))}function t(n){n.removeAllListeners("drop"),n.removeAllListeners("dragover"),n.removeAllListeners("dragleave"),n.removeAllListeners("dragexit"),n.removeAllListeners("dragend")}function C(n,s=!0){s&&(n.stopPropagation(),n.preventDefault());var p=n.dataTransfer.getData("pbi-tree-node");if(p){var l=JSON.parse(p).fieldExpr;if(l)return a.ib.deserializeExpr(l)}}function y(n,s){var p=n.getBoundingClientRect(),l=0;return(l|=p.top+p.height/2>s.pageY?1:4)|(p.left+p.width/2>s.pageX?8:2)}function o(n,s){!n||n.classList.contains(s)||(n.classList.remove(e.at.class),n.classList.remove(e.Hq.class),n.classList.remove(e._r.class),n.classList.remove(e.BN.class),n.classList.add(s))}function c(n){o(n.previousElementSibling,e.Hq.class),o(n,e.Hq.class),o(n.nextElementSibling,e.Hq.class)}},477305:function(Ce,k,r){function a(e,u){var t=(y,...i)=>u.run(y,e,i),C={getLocalizedString:(y,...i)=>e.getLocalizedString(y,...i||[]),tooltips:()=>e.tooltips(),getSectionsMetadata$:()=>e.getSectionsMetadata$(),getBookmarksMetadata$:()=>e.getBookmarksMetadata$(),getSubSelectionService:()=>e.getSubSelectionService(),alertScreenReader:y=>t(e.alertScreenReader,y),alertWithDebounce:(y,i)=>t(e.alertWithDebounce,y,i),requestFocus:y=>t(e.requestFocus,y),onDragStart:y=>t(e.onDragStart,y),getVisualLinkProperties:()=>t(e.getVisualLinkProperties),canSelect:y=>t(e.canSelect,y),onSelecting:y=>t(e.onSelecting,y),onSelect:y=>t(e.onSelect,y),onSwitchFocusModeState:y=>t(e.onSwitchFocusModeState,y),canExpandCollapse:y=>t(e.canExpandCollapse,y),setNodeExpansionState:y=>t(e.setNodeExpansionState,y),setLevelExpansionState:y=>t(e.setLevelExpansionState,y),onContextMenu:y=>t(e.onContextMenu,y),loadMoreData:()=>t(e.loadMoreData),loadWindow:y=>t(e.loadWindow,y),setShouldDeferData:y=>t(e.setShouldDeferData,y),persistProperties:(y,i)=>t(e.persistProperties,y,i),onCustomSort:y=>t(e.onCustomSort,y),getViewMode:()=>t(e.getViewMode),getEditMode:()=>t(e.getEditMode),setWarnings:y=>t(e.setWarnings,y),getWarnings$:()=>t(e.getWarnings$),setToolbar:(y,i)=>t(e.setToolbar,y,i),shouldRetainSelection:()=>t(e.shouldRetainSelection),geocoder:()=>t(e.geocoder),geolocation:()=>t(e.geolocation),locale:()=>t(e.locale),promiseFactory:()=>t(e.promiseFactory),ignoreDefaultFilter:()=>t(e.ignoreDefaultFilter),getIdentityDisplayNames:y=>t(e.getIdentityDisplayNames,y),setIdentityDisplayNames:y=>t(e.setIdentityDisplayNames,y),dropdown:()=>t(e.dropdown),telemetry:()=>t(e.telemetry),authenticationService:()=>t(e.authenticationService),localStorageService:()=>t(e.localStorageService),eventService:()=>t(e.eventService),licenseManagerService:()=>t(e.licenseManagerService),loader:()=>t(e.loader),getUIComponentFactory:()=>t(e.getUIComponentFactory),applyJsonFilter:(y,i,o,c)=>t(e.applyJsonFilter,y,i,o,c),applyIdentityFilter:(y,i,o,c)=>t(e.applyIdentityFilter,y,i,o,c),launchUrl:y=>t(e.launchUrl,y),instanceId:e.instanceId,refreshHostData:()=>t(e.refreshHostData),decompositionService:()=>t(e.decompositionService),getJSONFilter:(y,i)=>t(e.getJSONFilter,y,i),visualCapabilitiesChanged:()=>t(e.visualCapabilitiesChanged),onHyperlinkClick:(y,i)=>t(e.onHyperlinkClick,y,i),visualTimeSynchronization:()=>t(e.visualTimeSynchronization),setFilterExpressionMetadata:y=>t(e.setFilterExpressionMetadata,y),getFilterExpressionMetadata:()=>t(e.getFilterExpressionMetadata),isVisualEnabled:()=>t(e.isVisualEnabled),isVisualLoading:()=>t(e.isVisualLoading),dataMultiSelectMode:()=>t(e.dataMultiSelectMode),networkAvailability:()=>t(e.networkAvailability),downloadService:()=>t(e.downloadService),setAriaMetadata:y=>t(e.setAriaMetadata,y),artifactService:()=>t(e.artifactService),onNotifyLicense:y=>t(e.onNotifyLicense,y),onClearLicenseNotification:()=>t(e.onClearLicenseNotification),onNotifyFeatureBlocked:y=>t(e.onNotifyFeatureBlocked,y),webAccessService:()=>t(e.webAccessService),drill:y=>t(e.drill,y),getAzureMapToken:()=>t(e.getAzureMapToken),acquireAADTokenService:()=>e.acquireAADTokenService(),localStorageV2Service:()=>e.localStorageV2Service(),aiNarrativesService:()=>t(e.aiNarrativesService),azureMapsEndpoint:()=>e.azureMapsEndpoint(),geocoderIndexedDB:()=>e.geocoderIndexedDB(),triggerUpdate:()=>t(e.triggerUpdate),azureMapsHostEnvironment:()=>e.azureMapsHostEnvironment(),setCanDrill:y=>t(e.setCanDrill,y),dateTimeFormatService:()=>e.dateTimeFormatService(),visualExportService:()=>t(e.visualExportService),visualHostSubSelectionService:()=>e.visualHostSubSelectionService(),...e.setVisualAnnotationsResponse?{setVisualAnnotationsResponse:y=>t(e.setVisualAnnotationsResponse,y)}:{},annotations:()=>e.annotations()};return e.isSelected&&e.isSelected$&&(C.isSelected=()=>e.isSelected(),C.isSelected$=()=>e.isSelected$()),C}r.d(k,{K:function(){return a}})},652027:function(Ce,k,r){r.d(k,{v:function(){return C}});var a=r(184437),e=r(939123),u=r(359155),t=r(693713);class C extends t.vq{constructor(i,o,c){super(),this.schema=i,this.displayName=o,this.metadata=c,this.dataPoints=[],this.isExclude=!1}visitNot(i){this.isExclude=!0,i.arg.accept(this)}visitOr(i){i.left.accept(this),i.right.accept(this)}visitIn(i){var o=this;if(!_.isEmpty(i.values)){var c=[],h=i.args,d=_.map(h,p=>this.displayName.getDisplayName(p,this.schema,null,null,null,{includeVariationSource:!0})),n=function(p){e.fF.assert(()=>h.length===p.length,"Columns can't be different from values");var l=d,m=_.map(p,V=>V.value),b=a.l.findValuesInFilterCache(h,p,o.metadata);b&&(l=_.map(b.columns,V=>o.displayName.getDisplayName(V,o.schema,null,null,null,{includeVariationSource:!0})),m=b.values),c.push({columns:h,values:p,text:C.getDataPointText(l,m)})};for(var s of i.values)n(s);this.dataPoints.push(...c||[])}}static getDataPointText(i,o){var c="";e.fF.assert(()=>i.length>0,"getDataPointText columns cant be empty"),e.fF.assert(()=>i.length===o.length,"getDataPointText columns and values should have the same length");for(var h=0;h<i.length;h++){var n=i[h];c+=(0,u.WU)(o[h])+" ("+n+") + "}return c.slice(0,c.length-3)}}},958640:function(Ce,k,r){r.d(k,{o:function(){return e}});var a=r(704731);function e(t,C,y,i,o,c,h){return new u(t,C,i,o,c,h)}class u{constructor(C,y,i,o,c,h){this.eventBridge=C,this.explorationNavigation=y,this.formFactorProvider=i,this.visibility=o,this.viewModeState=c,this.overlayService=h,this.displayAreaScale=1,this.wallpaperScale=1}setDisplayAreaScaleFactor(C){this.displayAreaScale=C,this.eventBridge.publishToChannel(a.JXP,C)}setWallpaperScaleFactor(C){this.wallpaperScale=C}getDisplayAreaScaleFactor(){return this.displayAreaScale}getWallpaperScaleFactor(){return this.wallpaperScale}getDisplayOption(){if(1===this.formFactorProvider.getCurrentLayout()&&1===this.viewModeState.getMode()||null!=this.canvasZoom)return 3;if(this.visibility.get())return 0;if(null!=this.overrideDisplayOption)return this.overrideDisplayOption;var i=this.explorationNavigation.getCurrentSection();return i?i.size.displayOption:void 0}setDisplayOption(C){var y=this.explorationNavigation.getCurrentSection();y&&(this.canvasZoom=void 0,this.overlayService.hideAllDropdowns(),y.size.displayOption=C)}setCanvasZoom(C){this.overlayService.hideAllDropdowns(),this.canvasZoom=C}getCanvasZoom(){return this.canvasZoom}}},16006:function(Ce,k,r){r.d(k,{V:function(){return s}});var a=r(953474),e=r(704731),u=r(456774),t=r(184437),C=r(416762),y=r(159214),i=r(722709),o=r(939123),c=r(737466),h=r(454865),n=(r(528836),r(562540));function s(){var p=t.l,l=u.UP,b=c.b$;class V{constructor(f,S,P,D,M){this.sourceSection=f,this.sourceVisualContainer=S,this.targetSection=P,this.targetVisualContainer=D,this.navigationState=M}toSnapshot(f){if(f.getCurrentSection()===this.targetSection){var S=f.getCurrentExploration(),P=(0,n.MY)(S,this.sourceSection),D=(0,n.MY)(S,this.targetSection);return{sourceSectionIndex:P,sourceVisualIndex:_.findIndex(this.sourceSection.visualContainers,w=>w===this.sourceVisualContainer),targetSectionIndex:D,targetVisualIndex:_.findIndex(this.targetSection.visualContainers,w=>w===this.targetVisualContainer)}}}static fromSnapshot(f,S){if(f){var P=S.getCurrentExploration(),D=P.sections[f.sourceSectionIndex],M=D.visualContainers[f.sourceVisualIndex],E=P.sections[f.targetSectionIndex],w=E.visualContainers[f.targetVisualIndex];return o.fF.assertValue(D,"sourceSection"),o.fF.assertValue(M,"sourceVisual"),o.fF.assertValue(E,"targetSection"),o.fF.assertValue(w,"targetVisual"),o.fF.assert(()=>S.getCurrentSection()===E,"expected to be on the drill to details section"),new V(D,M,E,w,0)}}}class g{constructor(f,S,P,D,M,E,w,x,N,L){this.conceptualSchemaProxy=f,this.visualAuthoringOperations=S,this.undoRedo=P,this.selectionService=D,this.explorationNavigationService=M,this.explorationSerializer=E,this.visibility=w,this.eventBridge=x,this.filterGenerator=N,this.visualPluginService=L,this.eventBridge.createChannelSubscriptionManager().subscribe(e.wAN,()=>this.onSectionChanged()).subscribe(e.y5h,()=>this.onPopOutModeChanged()).subscribe(e.SVs,(B,I)=>this.clearContext())}drillToDetails(f,S,P,D){if(!_.isEmpty(f)){var M=_.head(f);if(M&&!_.isEmpty(M.metadata)){var E=(0,y.Xf)(S);if(E&&E.defn){if(_.isEmpty(M.dataMap)){if(!E.projections)return;var w=(0,y.d$)(S,this.visualPluginService),x=_(w).filter(I=>I.kind!==h.DW.Measure).map(I=>I.name).value();for(var N in E.projections)if(!_.isEmpty(E.projections[N])&&_.includes(x,N))return}var B,L=E.defn.select().withName(_.head(M.metadata));L&&(0,a.iV)(L.expr)&&(D&&(B=D.keepAlive()),this.conceptualSchemaProxy.get(P).then(I=>{var W=this.visualAuthoringOperations.drillToDetails(b.generateGuid(),I,[L.expr],f,S);W&&(this.addCrossFilters(S,this.explorationNavigationService.getCurrentSection(),W,!1,I),this.drillToDetailsCore(f,S,W),B&&B.resolve())},I=>{B&&B.reject(I)}))}}}}generateDetailsTable(f,S,P,D){var M=this.mockVisualContainer(f),E=this.visualAuthoringOperations.drillToDetails(b.generateGuid(),S,P,null,M,D);if(E)return E.config.singleVisual}clear(){if(this.drillToDetailsContext){o.fF.assert(()=>0===this.drillToDetailsContext.navigationState,"expected to be in show details mode"),this.drillToDetailsContext.navigationState=1;var f=(0,n.MY)(this.explorationNavigationService.getCurrentExploration(),this.drillToDetailsContext.sourceSection);o.fF.assert(()=>f>=0,"source section not found"),this.eventBridge.publishToChannel(e.$4A,{index:f})}}getContext(){return this.drillToDetailsContext}setContext(f){o.fF.assert(()=>null!=f,"attempting to set a null context for drill to details service"),o.fF.assert(()=>null==this.drillToDetailsContext,"overriding existing drill to details context"),o.fF.assert(()=>0===f.navigationState,"drill to details state can only be restored for showing the detail visual"),this.drillToDetailsContext=f}clearContext(){this.drillToDetailsContext=null}hasContext(){return!!this.drillToDetailsContext}getDetailsTableTargetMeasures(f){var S=this.mockVisualContainer(f),P=(0,y.Xf)(S);if(P&&P.defn){var D=(0,y.d$)(S,this.visualPluginService);if(!_.isEmpty(D)){var M=_(D).filter(I=>(I.kind===h.DW.Measure||I.kind===h.DW.GroupingOrMeasure)&&0!==I.joinPredicate).map(I=>I.name).value(),E=[];for(var w of M){var x=P.projections[w];if(!_.isEmpty(x)){var N=x.all();for(var L of N){var B=P.defn.select().withName(L.queryRef);if(B&&(0,a.iV)(B.expr))return[B.expr];B&&(0,a.kb)(B.expr)&&E.push(B.expr)}}}return E}}}mockVisualContainer(f){var S={name:b.generateGuid(),config:{singleVisual:f},layouts:(0,i.UR)(),filters:[]};return S.layouts.push({id:0,position:{x:0,y:0,width:0,height:0}}),S}onSectionChanged(){if(this.drillToDetailsContext){var f=this.explorationNavigationService.getCurrentSection();switch(o.fF.assert(()=>null!=f,"currentSection"),this.drillToDetailsContext.navigationState){case 0:o.fF.assert(()=>f===this.drillToDetailsContext.targetSection,"expected to navigate to target section"),window.setTimeout(()=>{l.selectCanvasItem(this.drillToDetailsContext.targetVisualContainer,this.selectionService),this.visibility.set(this.drillToDetailsContext.targetVisualContainer,1)},0);break;case 1:o.fF.assert(()=>f===this.drillToDetailsContext.sourceSection,"expected to navigate to source section");var S=this.explorationNavigationService.getCurrentExploration(),P=(0,n.MY)(S,this.drillToDetailsContext.targetSection);o.fF.assert(()=>P>=0,"target section not found");var D=(0,n.MY)(S,this.drillToDetailsContext.sourceSection),M=this.drillToDetailsContext.sourceVisualContainer;this.drillToDetailsContext=null,this.eventBridge.publishToChannel(e.F$x,{targetSectionIndex:P}),window.setTimeout(()=>{(0,n.MY)(this.explorationNavigationService.getCurrentExploration(),this.explorationNavigationService.getCurrentSection())===D&&l.selectCanvasItem(M,this.selectionService),this.undoRedo.clear()},0);break;default:o.fF.assertFail("unknown drill to details navigationState")}}}onPopOutModeChanged(){if(this.drillToDetailsContext){var f=this.explorationNavigationService.getCurrentSection();o.fF.assert(()=>null!=f,"currentSection"),f!==this.drillToDetailsContext.sourceSection&&(o.fF.assert(()=>f===this.drillToDetailsContext.targetSection,"expected to be on target section"),this.visibility.get()!==this.drillToDetailsContext.targetVisualContainer&&this.clear())}}drillToDetailsCore(f,S,P){var D=this.explorationNavigationService.getCurrentSection();if(D){var M=this.explorationNavigationService.getAllSections(),E=this.explorationSerializer.serializePage(D,1),w=this.explorationSerializer.deserializePage(E),x={name:"Drill to Details",displayName:"Drill to Details",filters:w.filters,size:w.size,visualContainers:[P],visualContainerGroups:[P],transient:!0};(0,C.gs)(x,M),this.drillToDetailsContext=new V(D,S,x,P,0),this.eventBridge.publishToChannel(e.x1m,x)}}addCrossFilters(f,S,P,D,M){var E=this.filterGenerator.getVisualContainerCrossFilters(S,f,M);if(E.dataFilters)for(var w of E.dataFilters)this.addVisualFilters(P,w,M,!1);if(D)for(var x of(o.fF.assertValue(E.highlightFilters,"highlight filter"),E.highlightFilters))this.addVisualFilters(P,x,M,!1)}addVisualFilters(f,S,P,D){if(S&&S.filter){var M=p.convertFilterData(S,f.filters,0);p.add(f,M)}}}return{create:(v,f,S,P,D,M,E,w,x,N)=>new g(v,N,P,D,M,f,E,w,x,S),createContext:(v,f,S,P,D)=>new V(v,f,S,P,D),snapshotToContext:V.fromSnapshot}}},938135:function(Ce,k,r){r.d(k,{Bo:function(){return t},nR:function(){return e},o4:function(){return a},q7:function(){return u}});var a={type:2,name:"visualCustomCommand"},e={type:2,name:"preparePersonalVisuals"},u={type:2,name:"copyVisualAsImage"},t={type:2,name:"VisualContainerAdded"}},641491:function(Ce,k,r){function a(u,t){return new e(u,t)}r.d(k,{L:function(){return a}});class e{constructor(t,C){var y=!C||C.featureSwitches.contentAuthoringUIEnabled,i=!!t&&!!t.isGuestUser,c=i&&!(C&&C.featureSwitches.elevatedGuestsTenantEnabled),h=!(!t||void 0===t.userLicense)&&"Free"===t.userLicense();this.options={shouldSetFocus:!C||!C.featureSwitches.globalSkipToMainContent,showAppBar:!0,showStatusBar:!1,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!0,showPin:!0,showContextMenu:!0,disablePin:c||!y,disableQueryCacheUpdates:!1},showBackButtonOnAppBar:!1,disablePin:c||!y,disableSharePointEmbed:i,disableSecurePublishToWeb:i||!y,disableQRGeneration:i,disableSaveAs:c||h,disableSwitchMode:c||!y,disableAnalyzeInExcel:i,expandTaskPane:!0,expandVisualizationPane:!0,allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,persistentUserStateEnabled:!1,persistentUserStateThrottlingEnabled:!1,defaultPersonalBookmarkEnabled:!1,disableEditVariables:!0,disableChangeDetectionDialog:!0,showCopyVisualImageButton:!1,allowVisualRecommendations:!!C&&C.featureSwitches.onObject}}setCapabilities(t){_.merge(this.options,t)}getCapabilities(){return this.options}}},945867:function(Ce,k,r){r.d(k,{RH:function(){return I}});var a=r(883803),e=r(101363),u=r(286264);class t{bindEvents(A,T,R){var{paths:U,formatMode:z}=A;if(!_.isEmpty(U))for(var j of U)j&&j.on("contextmenu",()=>this.handleContextMenu(T,z))}renderSelection(A){}handleContextMenu(A,T){var R=(0,u.bt)(),U=d3.event;U.preventDefault(),T||(0,e.n)(U),(0,u.kW)(z=>{A.handleContextMenu(z,R)})}}var C=r(444667),y=r(612646),i=r(566693),o=r(834678),c=r(939123),h=r(542666),d=r(740605),n=r(444290),s=r(484810),p=r(532969),l=r(527799),m=r(816219),b=r(438043),V=r(957586),g=r(735814),M=r(906853),E=r(2185),w=r(454865),x="dataViewer",N=(()=>{class F{constructor(T){this.visualSandbox=T}reloadAdapter(T=!1){if(this.dataViewShowing){if(T)return;this.toggleDataview(!1)}if(!d.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")){this.toggleAutoReload(!1);var U=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247468",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"blockedsite"});return this.container.html(U),this.setCustomizeQuery(),void this.setCapabilities()}var z=d.DU.getData("DEVELOPMENT_SERVER_URL")||"https://localhost:8080/assets/";this.statusLoading||(this.statusLoading=!0,$.get(z+"status").done(j=>{if(j&&(!T||this.lastUpdateStatus!==j)){if(this.lastUpdateStatus=j,"error"===j){var H=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Compile_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Compile_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247735",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"repair"});return this.container.html(H),this.setCustomizeQuery(),void this.setCapabilities()}$.getJSON(z+"pbiviz.json").done(q=>{if(c.fF.assertValue(q.capabilities,"DebugVisual - pbiviz capabilities missing"),c.fF.assertValue(q.visual&&q.visual.guid,"DebugVisual - pbiviz visual guid missing"),q.capabilities&&q.visual&&q.visual.guid&&this.host){this.visualGuid!==q.visual.guid&&(this.visualGuid=q.visual.guid);var G=this.host?.locale();q=G?(0,M.zQ)(q,G):q;var J=(0,g.S)(q,G);(0,E.L)(J),o.L[J.name]=J,this.setCustomizeQuery(J.customizeQuery),this.setCapabilities(J.capabilities),this.loadVisual(J)}})}}).fail(()=>{this.toggleAutoReload(!1);var j=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Server_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Server_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247488",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"error"});this.container.html(j),this.setCustomizeQuery(),this.setCapabilities()}).always(()=>{this.statusLoading=!1}))}loadVisual(T){var R=T.name!==x;this.promiseFactory=this.host?.promiseFactory(),this.visualContainer.attr("class","visual-"+T.name),this.visualContainer.empty(),this.container.empty().append(this.visualContainer),this.adapterPromise&&this.adapterPromise.reject(),this.adapter&&this.adapter.destroy(),this.host&&this.promiseFactory&&(this.adapterPromise=(0,V.z)({visualPlugin:T,promiseFactory:this.promiseFactory,moduleLoader:this.host.loader(),featureSwitches:{sandboxVisualsEnabled:R},visualSandbox:this.visualSandbox,isDebugVisual:!0})).then(z=>{if(this.adapter=z,this.sandbox=this.adapter.sandbox,z.init&&z.init(this.visualInitOptions),z.update&&this.lastUpdateOptions){var j=this.lastUpdateOptions;j.type=w.EP.All,z.update(j)}})}toggleAutoReload(T){this.autoReloadInterval&&!0!==T?(this.autoRefreshBtn.addClass("pbi-glyph-circle-play"),this.autoRefreshBtn.removeClass("pbi-glyph-circle-stop"),this.refreshBtn.show(),clearInterval(this.autoReloadInterval),this.autoReloadInterval=void 0):!this.autoReloadInterval&&!1!==T&&(this.autoRefreshBtn.removeClass("pbi-glyph-circle-play"),this.autoRefreshBtn.addClass("pbi-glyph-circle-stop"),this.refreshBtn.hide(),this.autoReloadInterval=setInterval(()=>this.reloadAdapter(!0),F.autoReloadPollTime))}toggleDataview(T){this.dataViewShowing&&!0!==T?(this.dataViewShowing=!1,this.dataBtn.toggleClass("active",!1),this.reloadAdapter()):!this.dataViewShowing&&!1!==T&&(this.dataViewShowing=!0,this.dataBtn.toggleClass("active",!0),this.loadVisual(o.L[x]))}flatten(T){if(T instanceof Array){for(var R=[],U=0,z=T.length;U<z;U++)R[U]=this.flatten(T[U]);return R}if("object"==typeof T){var H,j={};for(H in T)j[H]=this.flatten(T[H]);return j}return T}createAndClickAnchorTagWithJsonData(T){var R=document.createElement("a");R.href="data:"+T,R.download="dataViews.json",R.click()}exportDataViews(){var T=this.flatten(this.lastUpdateOptions.dataViews),R="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(T));this.createAndClickAnchorTagWithJsonData(R)}createRefreshBtn(){var T=this.host?.getLocalizedString("DebugVisual_Reload_Visual_Button_Title"),R=this.refreshBtn=$(`<i title="${T}" class="controlBtn glyphicon pbi-glyph-refresh"></i>`);return R.on("click",()=>this.reloadAdapter()),R}createAutoRefreshBtn(){var T=this.host?.getLocalizedString("DebugVisual_Toggle_Auto_Reload_Button_Title"),R=this.autoRefreshBtn=$(`<i title="${T}" class="controlBtn glyphicon pbi-glyph-circle-play"></i>`);return R.on("click",()=>this.toggleAutoReload()),R}createDataBtn(){var T=this.host?.getLocalizedString("DebugVisual_Show_Dataview_Button_Title"),R=this.dataBtn=$(`<i title="${T}" class="controlBtn glyphicon pbi-glyph-seedata"></i>`);return R.on("click",()=>this.toggleDataview()),R}createHelpBtn(){var T=this.host?.getLocalizedString("DebugVisual_Help_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2245690" target="_blank"><i title="${T}" class="controlBtn glyphicon pbi-glyph-question"></i></a>`)}createSmilyBtn(){var T=this.host?.getLocalizedString("DebugVisual_Feedback_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2247381" target="_blank"><i title="${T}" class="controlBtn glyphicon pbi-glyph-smiley"></i></a>`)}createExportDataViewsBtn(){var T=this.host?.getLocalizedString("DebugVisual_Export_Data_Button_Title"),R=$(`<i title="${T}" class="controlBtn glyphicon pbi-glyph-export"></i>`);return R.on("click",()=>this.exportDataViews()),R}buildControls(){var T=$('<div class="debugVisual-controlsContainer"></div>');return T.append(this.createRefreshBtn(),this.createAutoRefreshBtn(),this.createDataBtn(),this.createExportDataViewsBtn(),this.createHelpBtn(),this.createSmilyBtn()),T}buildErrorMessage(T){return _.template(F.errorMessageTemplate)(T)}setCapabilities(T=F.defaultCapabilities){_.isEqual(T,o.L.debugVisual?.capabilities)||(o.L.debugVisual.capabilities=T,this.host?.visualCapabilitiesChanged())}setCustomizeQuery(T=(R=>null)){o.L.debugVisual.customizeQuery=T}init(T){this.host=T.host;var R=this.container=$('<div class="debugVisualContainer"></div>'),U=this.visualContainer=$('<div class="visual"></div>');this.dataViewShowing=!1,R.append(U),T.element.append(R),(this.visualInitOptions=T).element=U,this.host.setToolbar(this.buildControls()),this.reloadAdapter()}update(T){if(this.visualContainer){if(T.viewport){this.visualInitOptions.viewport=T.viewport;var U=T.viewport.width;this.visualContainer.height(T.viewport.height).width(U)}this.lastUpdateOptions=T,this.adapter&&this.adapter.update&&this.adapter.update(T)}}enumerateObjectInstances(T){return this.adapter&&this.adapter.enumerateObjectInstances?this.adapter.enumerateObjectInstances(T):[]}enumerateObjectInstancesAsync(T){return this.adapter&&this.adapter.enumerateObjectInstancesAsync?this.adapter.enumerateObjectInstancesAsync(T):this.promiseFactory.resolve(this.enumerateObjectInstances(T))}enumerateObjectRepetitionAsync(){return this.adapter&&this.adapter.enumerateObjectRepetitionAsync?this.adapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve([])}getFormattingModel(){if(this.adapter&&this.adapter.getFormattingModel)return this.adapter.getFormattingModel()}getFormattingModelAsync(){return this.adapter&&this.adapter.getFormattingModelAsync?this.adapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}getSubSelectionStyles(T){if(this.adapter&&this.adapter.getSubSelectionStyles)return this.adapter.getSubSelectionStyles(T)}getSubSelectionStylesAsync(T){return this.adapter&&this.adapter.getSubSelectionStylesAsync?this.adapter.getSubSelectionStylesAsync(T):this.promiseFactory.resolve(this.getSubSelectionStyles(T))}getSubSelectionShortcuts(T,R){if(this.adapter&&this.adapter.getSubSelectionShortcuts)return this.adapter.getSubSelectionShortcuts(T,R)}getSubSelectionShortcutsAsync(T,R){return this.adapter&&this.adapter.getSubSelectionShortcutsAsync?this.adapter.getSubSelectionShortcutsAsync(T,R):this.promiseFactory.resolve(this.getSubSelectionShortcuts(T,R))}getSubSelectables(T){if(this.adapter&&this.adapter.getSubSelectables)return this.adapter.getSubSelectables(T)}getSubSelectablesAsync(T){return this.adapter&&this.adapter.getSubSelectablesAsync?this.adapter.getSubSelectablesAsync(T):this.promiseFactory.resolve(this.getSubSelectables(T))}onClearSelection(){if(this.adapter&&this.adapter.onClearSelection)return this.adapter.onClearSelection()}onRestoreSelection(T){if(this.adapter&&this.adapter.onRestoreSelection)return this.adapter.onRestoreSelection(T)}destroy(){this.adapter&&this.adapter.destroy&&this.adapter.destroy(),this.toggleAutoReload(!1),this.container=null,this.visualContainer=null,this.host.setToolbar(null),this.promiseFactory=null}visualHasMethod(T){return this.adapter?.visualHasMethod(T)}}return F.defaultCapabilities={dataRoles:[{displayName:"Values",name:"Values",kind:w.DW.Measure}],dataViewMappings:[{table:{rows:{for:{in:"Values"}}}}]},F.capabilities=F.defaultCapabilities,F.autoReloadPollTime=300,F.errorMessageTemplate='\n            <div class="errorContainer">\n                <div class="errorMessage">\n                    <div ng-switch="$ctrl.errorInfo.overlayType">\n                        <div class="glyphicon pbi-glyph-<%= type %> glyph-med"></div>\n                    </div>\n                    <div>\n                        <div class="errorSpan"><%= message %></div>\n                        <span class="errorSeeMore"><%= moreMessage %></span>\n                        <a class="errorSeeMore" href="<%= moreLinkHref %>" target="_blank"><%= moreLinkText %></a>\n                    </div>\n                </div>\n            </div>\n        ',F})();(0,m.G)("debugVisual",{name:"debugVisual",watermarkKey:"kpi",titleKey:(0,b.V)("DebugVisual_ToolTip"),capabilities:N.capabilities,create:()=>new N,createES6:()=>Promise.resolve(new N),customizeQuery:F=>{},systemVisual:!0});var L=r(775888),B=r(571594);function I(F,A,T,R,U){return new W(F,T,A,new O(F,R,U))}class W{constructor(A,T,R,U){this.asyncFeatureSwitchService=A,this.resourceLoader=T,this.promiseFactory=R,c.fF.assertValue(A,"asyncFeatureSwitchService"),c.fF.assertValue(R,"promiseFactory"),this.resourceLoader=T,this.promiseFactory=R,this.trustedConvertibleVisualTypes=[],this.customConvertibleVisualTypes=[],this.globalConvertibleVisualTypes=[],this.storage=new s.ZM,this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(z=>(U=U||new O(A),this.getConvertibleCoreVisualTypeNames(z))).then(z=>{for(var j in this.globalConvertibleVisualTypes=z,o.L)this.storage.loadPlugin(j,U.getPlugin(j))})}getConvertibleCoreVisualTypeNames(A){var T=[o.L.barChart.name,o.L.columnChart.name,o.L.clusteredBarChart.name,o.L.clusteredColumnChart.name,o.L.hundredPercentStackedBarChart.name,o.L.hundredPercentStackedColumnChart.name,o.L.lineChart.name,o.L.areaChart.name,o.L.stackedAreaChart.name,o.L.hundredPercentStackedAreaChart.name,o.L.lineStackedColumnComboChart.name,o.L.lineClusteredColumnComboChart.name,o.L.ribbonChart.name,o.L.waterfallChart.name,o.L.funnel.name,o.L.scatterChart.name,o.L.pieChart.name,o.L.donutChart.name,o.L.treemap.name,o.L.map.name,o.L.filledMap.name];A&&A.shapeMapVisualEnabled&&T.push(o.L.shapeMap.name),(!A||!A.hideAzureMapVisual)&&T.push(o.L.azureMap.name),T.push(o.L.gauge.name,o.L.card.name,o.L.multiRowCard.name,o.L.kpi.name,o.L.slicer.name),A&&A.pivotTableVisualEnabled?(T.push(o.L.tableEx.name),T.push(o.L.pivotTable.name)):(T.push(o.L.table.name),T.push(o.L.matrix.name)),A&&A.scriptVisualEnabled&&A.scriptVisualAuthoringEnabled&&(T.push(o.L.scriptVisual.name),T.push(o.L.pythonVisual.name)),A&&A.keyDrivers&&T.push(o.L.keyDriversVisual.name),T.push(o.L.decompositionTreeVisual.name),A&&A.qnaVisual&&T.push(o.L.qnaVisual.name),A&&A.daxTransformEnabled&&!(A.aiNarrativesSingleEntryPoint&&A.aiNarrativesVisual)&&T.push(o.L.textbox.name),A&&A.aiNarrativesVisual&&T.push(o.L.aiNarratives.name),A&&A.scorecardVisual&&T.push(o.L.scorecard.name),A&&A.rdlNativeVisual&&T.push(o.L.rdlVisual.name),A&&A.newCard&&T.push(o.L.cardVisual.name),A&&A.buttonSlicer&&A.buttonSlicerAuthoring&&T.push(o.L.advancedSlicerVisual.name),A&&A.textSlicer&&T.push(o.L.textSlicer.name),A&&A.buttonSlicer&&A.buttonSlicerAuthoring&&A.advancedSlicerTypeList&&T.push(o.L.listSlicer.name),d.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")&&T.push("debugVisual");var U=this.promiseFactory.defer();return U.resolve(T),U.promise}getNonConvertibleCoreVisualTypeNames(){return[o.L.actionButton.name,o.L.bookmarkNavigator.name,o.L.image.name,o.L.textbox.name,o.L.pageNavigator.name,o.L.shape.name]}getVisuals(){return this.storage.getLoadedPlugins()}getConvertibleVisuals(){var A=[];for(var T of this.globalConvertibleVisualTypes)this.storage.hasPlugin(T)&&!_.includes(A,T)&&A.push(T);for(var R of this.trustedConvertibleVisualTypes)this.storage.hasPlugin(R)&&!_.includes(A,R)&&A.push(R);for(var U of this.customConvertibleVisualTypes)this.storage.hasPlugin(U)&&!_.includes(A,U)&&A.push(U);return A.map(z=>this.storage.getLoadedPlugin(z))}getConvertibleVisualsAsync(){var A=this;return(0,a.Z)(function*(){return yield A.ensureBuiltInPlugins(),A.getConvertibleVisuals()})()}getCoreVisualTypes(){var A=[...this.getNonConvertibleCoreVisualTypeNames(),...this.globalConvertibleVisualTypes];return _.uniq(A)}ensureBuiltInPlugins(){return this.initBuiltInPlugins}ensureTrustedVisualPlugins(A){for(var T of((0,s.Os)(this.storage,A),A))this.addTrustedConvertibleVisualType(T.name)}ensurePlugins(A,T){var R=this;c.fF.assertValue(this.promiseFactory,"promiseFactory");var U=[];if(A&&A.length){var z=function(H){if((0,l.JZ)(H)){var q=R.ensurePlugin(H,T).then(()=>R.addCustomConvertibleVisualType(H.name));U.push(q)}};for(var j of A)z(j)}return Promise.allSettled(U)}ensurePlugin(A,T){return(0,s.wl)(this.storage,this.promiseFactory,this.resourceLoader,A,T)}addTrustedConvertibleVisualType(A){this.trustedConvertibleVisualTypes.indexOf(A)<0&&this.trustedConvertibleVisualTypes.push(A)}addCustomConvertibleVisualType(A){this.customConvertibleVisualTypes.indexOf(A)<0&&this.customConvertibleVisualTypes.push(A)}capabilities(A){var T=this.getPlugin(A);return T?T.capabilities:void 0}removeAllCustomVisuals(){for(var A of this.customConvertibleVisualTypes)this.storage.unloadPlugin(A);this.customConvertibleVisualTypes=[]}removePlugin(A){this.getPlugin(A)&&(this.storage.unloadPlugin(A),_.remove(this.customConvertibleVisualTypes,R=>R===A))}getTelemetryHostInformation(){return{name:"Exploration"}}isCustomVisual(A){return(0,n.vh)(this.getPlugin(A),A)}isScriptVisual(A){return(0,n.ww)(this.getPlugin(A))}isScriptVisualQueryable(A){return(0,n.Se)(A,this.asyncFeatureSwitchService.featureSwitches)}isLightWeightRenderingVisual(A){return(0,n.vt)(this.getPlugin(A))}getInteractivityOptions(){return{overflow:"hidden",isVisualInteractive:!0}}getCustomizeConvertTo(A,T){var R=this.getPlugin(T);return R.getCustomizeConvertTo?R.getCustomizeConvertTo(A,T,this.asyncFeatureSwitchService.featureSwitches):void 0}loadPluginByNameIfAny(A){if(!this.getPlugin(A)){if(this.storage.hasPlugin(A))return void this.storage.loadPlugin(A);o.L[A]&&this.storage.loadPlugin(A,o.L[A])}}getPlugin(A){return this.storage.getLoadedPlugin(A)}getStorage(){return this.storage}}class O{constructor(A,T,R){this.featureSwitchService=A,this.mapControlFactory=T,this.visualSandbox=R,c.fF.assertValue(A,"featureSwitchService")}getPlugin(A){var T=this,R=this.featureSwitchService.featureSwitches?_.clone(this.featureSwitchService.featureSwitches):{},U=()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")};switch(A){case o.L.barChart.name:return(0,p.i8)(o.L.barChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,ColumnChartWebBehaviorFactory:q}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:7,isScrollable:!0,dataPointLassoSelect:!0,animator:new j,tooltipsEnabled:!0,behaviorFactory:new H([new q],R),featureSwitches:R})}));case o.L.card.name:return(0,p.i8)(o.L.card,U,R,(0,a.Z)(function*(){var{createCard:z}=yield Promise.all([r.e(11),r.e("cardModule")]).then(r.bind(r,822314));return z({isScrollable:!0,animator:new C.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:R})}));case o.L.cardVisual.name:return(0,p.i8)(o.L.cardVisual,U,R,(0,a.Z)(function*(){var{CardVisual:z}=yield Promise.all([r.e(11),r.e("cardVisual")]).then(r.bind(r,246062));return new z({isScrollable:!0,animator:new C.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:R})}));case o.L.clusteredBarChart.name:return(0,p.i8)(o.L.clusteredBarChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,ColumnChartWebBehaviorFactory:q}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:6,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new q],R),featureSwitches:R})}));case o.L.clusteredColumnChart.name:return(0,p.i8)(o.L.clusteredColumnChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,ColumnChartWebBehaviorFactory:q}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:4,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new q],R),featureSwitches:R})}));case o.L.columnChart.name:return(0,p.i8)(o.L.columnChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,ColumnChartWebBehaviorFactory:q}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:5,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new q],R),featureSwitches:R})}));case o.L.donutChart.name:return(0,p.i8)(o.L.donutChart,()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},R,(0,a.Z)(function*(){var{DonutChart:z,WebDonutChartAnimator:j,DonutChartWebBehavior:H}=yield Promise.all([r.e(11),r.e("donutChart")]).then(r.bind(r,599092));return new z({animator:new j,isScrollable:!0,tooltipsEnabled:!0,behavior:new H})}));case o.L.funnel.name:return(0,p.i8)(o.L.funnel,U,R,(0,a.Z)(function*(){var{FunnelChart:z,WebFunnelAnimator:j,FunnelWebBehavior:H}=yield Promise.all([r.e(11),r.e("funnelChart")]).then(r.bind(r,939957));return new z({animator:new j,behavior:new H,tooltipsEnabled:!0})}));case o.L.gauge.name:return(0,p.i8)(o.L.gauge,U,R,(0,a.Z)(function*(){var{Gauge:z}=yield Promise.all([r.e(11),r.e("gauge")]).then(r.bind(r,761088));return new z({animator:new C.r5,tooltipsEnabled:!0,behavior:new t},R)}));case o.L.kpi.name:return(0,p.i8)(o.L.kpi,U,R,(0,a.Z)(function*(){var{KPIStatusWithHistory:z}=yield Promise.all([r.e(11),r.e("kpiStatusWithHistory")]).then(r.bind(r,845396));return new z({interactivityEnabled:!0,featureSwitches:R})}));case o.L.hundredPercentStackedBarChart.name:return(0,p.i8)(o.L.hundredPercentStackedBarChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,ColumnChartWebBehaviorFactory:q}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:8,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new q],R),featureSwitches:R})}));case o.L.hundredPercentStackedColumnChart.name:return(0,p.i8)(o.L.hundredPercentStackedColumnChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,ColumnChartWebBehaviorFactory:q}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:9,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new q],R),featureSwitches:R})}));case o.L.lineChart.name:return(0,p.i8)(o.L.lineChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:j,LineChartWebBehaviorFactory:H}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:0,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new C.r5,behaviorFactory:new j([new H],R),featureSwitches:R})}));case o.L.areaChart.name:return(0,p.i8)(o.L.areaChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:j,LineChartWebBehaviorFactory:H}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:1,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new C.r5,behaviorFactory:new j([new H],R),featureSwitches:R})}));case o.L.stackedAreaChart.name:return(0,p.i8)(o.L.stackedAreaChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:j,LineChartWebBehaviorFactory:H}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:2,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new C.r5,behaviorFactory:new j([new H],R),featureSwitches:R})}));case o.L.hundredPercentStackedAreaChart.name:return(0,p.i8)(o.L.hundredPercentStackedAreaChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:j,LineChartWebBehaviorFactory:H}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:3,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new C.r5,behaviorFactory:new j([new H],R),featureSwitches:R})}));case o.L.lineClusteredColumnComboChart.name:return(0,p.i8)(o.L.lineClusteredColumnComboChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:q,ColumnChartWebBehaviorFactory:G}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:13,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new G,new q],R),featureSwitches:R})}));case o.L.lineStackedColumnComboChart.name:return(0,p.i8)(o.L.lineStackedColumnComboChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:q,ColumnChartWebBehaviorFactory:G}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:14,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new G,new q],R),featureSwitches:R})}));case o.L.multiRowCard.name:return(0,p.i8)(o.L.multiRowCard,U,R,(0,a.Z)(function*(){var{MultiRowCard:z}=yield Promise.all([r.e(11),r.e("multiRowCard")]).then(r.bind(r,807992)),{MultiRowCardBehavior:j}=yield r.e("multiRowCardBehavior").then(r.bind(r,79130));return new z({interactivityEnabled:!0,behavior:new j})}));case o.L.pieChart.name:return(0,p.i8)(o.L.pieChart,U,R,(0,a.Z)(function*(){var{DonutChart:z,WebDonutChartAnimator:j,DonutChartWebBehavior:H}=yield Promise.all([r.e(11),r.e("donutChart")]).then(r.bind(r,599092));return new z({sliceWidthRatio:0,animator:new j,isScrollable:!0,tooltipsEnabled:!0,behavior:new H})}));case o.L.ribbonChart.name:return(0,p.i8)(o.L.ribbonChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,ColumnChartAnimator:j,CartesianChartBehaviorFactory:H,ColumnChartWebBehaviorFactory:q}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:10,isScrollable:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new H([new q],R),featureSwitches:R})}));case o.L.scatterChart.name:return(0,p.i8)(o.L.scatterChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:j,ScatterChartWebBehaviorFactory:H}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:11,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new C.r5,behaviorFactory:new j([new H],R),featureSwitches:R})}));case o.L.treemap.name:return(0,p.i8)(o.L.treemap,U,R,(0,a.Z)(function*(){var{Treemap:z,TreemapWebBehavior:j}=yield Promise.all([r.e(11),r.e("treemap")]).then(r.bind(r,426446));return new z({animator:new B.L,isScrollable:!0,behavior:new j,tooltipsEnabled:!0,cartesianConditionalFormatting:R.cartesianConditionalFormatting,dataPointLassoSelect:!0})}));case o.L.filterSlicer.name:return(0,p.i8)(o.L.filterSlicer,U,R,(0,a.Z)(function*(){var{Slicer:z}=yield Promise.all([r.e(11),r.e("slicer")]).then(r.bind(r,989243));return new z({lockKeyboardNavigation:!1,featureSwitches:R})}));case o.L.accessibleTable.name:return(0,p.i8)(o.L.accessibleTable,U,R,(0,a.Z)(function*(){var{AccessibleTable:z}=yield r.e("accessibleTable").then(r.bind(r,883280));return new z}));case o.L.waterfallChart.name:return(0,p.i8)(o.L.waterfallChart,U,R,(0,a.Z)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:j,WaterfallChartWebBehaviorFactory:H}=yield Promise.all([r.e(11),r.e("cartesianVisuals")]).then(r.bind(r,433825));return new z({chartType:12,isScrollable:!0,tooltipsEnabled:!0,behaviorFactory:new j([new H],R),featureSwitches:R})}));case o.L.map.name:return(0,p.i8)(o.L.map,U,R,(0,a.Z)(function*(){var{Map:z}=yield Promise.all([r.e(11),r.e("map")]).then(r.bind(r,260567)),{MapBehavior:j}=yield Promise.all([r.e(11),r.e("mapBehaviors")]).then(r.bind(r,630513));return new z({behavior:new j,dataPointLassoSelect:!0,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:T.mapControlFactory})}));case o.L.filledMap.name:return(0,p.i8)(o.L.filledMap,U,R,(0,a.Z)(function*(){var{Map:z}=yield Promise.all([r.e(11),r.e("map")]).then(r.bind(r,260567)),{MapBehavior:j}=yield Promise.all([r.e(11),r.e("mapBehaviors")]).then(r.bind(r,630513));return new z({filledMap:!0,behavior:new j,dataPointLassoSelect:!0,tooltipsEnabled:!0,filledMapDataLabelsEnabled:R&&R.filledMapDataLabelsEnabled,isLegendScrollable:!0,mapControlFactory:T.mapControlFactory})}));case o.L.azureMap.name:return(0,p.i8)(o.L.azureMap,U,R,(0,a.Z)(function*(){var{AzureMap:z}=yield Promise.all([r.e(11),r.e("azureMap")]).then(r.bind(r,960770)),{AzureMapBehavior:j}=yield Promise.all([r.e(11),r.e("azureMapBehaviors")]).then(r.bind(r,817859));return new z({behavior:new j,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:T.mapControlFactory,featureSwitches:R})}));case o.L.shape.name:return(0,p.i8)(o.L.shape,U,R,(0,a.Z)(function*(){var{Shape:z}=yield Promise.all([r.e(11),r.e("shape")]).then(r.bind(r,943562));return new z}));case o.L.actionButton.name:return(0,p.i8)(o.L.actionButton,U,R,(0,a.Z)(function*(){var{ActionButton:z}=yield Promise.all([r.e(11),r.e("actionButton")]).then(r.bind(r,535937));return new z}));case o.L.shapeMap.name:return(0,p.i8)(o.L.shapeMap,U,R,(0,a.Z)(function*(){var{ShapeMap:z}=yield Promise.all([r.e(11),r.e("shapeMap")]).then(r.bind(r,943676)),{ShapeMapBehavior:j}=yield Promise.all([r.e(11),r.e("shapeMapBehaviors")]).then(r.bind(r,529403));return new z({behavior:new j,tooltipsEnabled:!0})}));case o.L.slicer.name:return(0,p.i8)(o.L.slicer,U,R,(0,a.Z)(function*(){var{Slicer:z}=yield Promise.all([r.e(11),r.e("slicer")]).then(r.bind(r,989243));return new z({featureSwitches:R,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0})}));case o.L.advancedSlicerVisual.name:return(0,p.i8)(o.L.advancedSlicerVisual,U,R,(0,a.Z)(function*(){var{createAdvancedSlicer:z}=yield Promise.all([r.e(11),r.e("advancedSlicer")]).then(r.bind(r,90154));return z({featureSwitches:R,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0})}));case o.L.textSlicer.name:return(0,p.i8)(o.L.textSlicer,U,R,(0,a.Z)(function*(){var{TextSlicer:z}=yield r.e("textSlicer").then(r.bind(r,313535));return new z}));case o.L.listSlicer.name:return(0,p.i8)(o.L.listSlicer,U,R,(0,a.Z)(function*(){var{createAdvancedSlicer:z}=yield Promise.all([r.e(11),r.e("advancedSlicer")]).then(r.bind(r,90154));return z({featureSwitches:R,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0,slicerType:L.y.List})}));case o.L.matrix.name:return(0,p.i8)(o.L.matrix,U,R,(0,a.Z)(function*(){var{Matrix:z}=yield Promise.all([r.e(11),r.e("matrix")]).then(r.bind(r,199498));return new z}));case o.L.table.name:return(0,p.i8)(o.L.table,U,R,(0,a.Z)(function*(){var{Table:z}=yield Promise.all([r.e(11),r.e("table")]).then(r.bind(r,770827));return new z}));case o.L.pivotTable.name:return(0,p.i8)(o.L.pivotTable,U,R,(0,a.Z)(function*(){var{PivotTable:z}=yield Promise.all([r.e(11),r.e("pivotTable")]).then(r.bind(r,99957));return new z((0,y.DH)(),R)}));case o.L.tableEx.name:return(0,p.i8)(o.L.tableEx,U,R,(0,a.Z)(function*(){var{TableEx:z}=yield Promise.all([r.e(11),r.e("tableEx")]).then(r.bind(r,311968));return new z((0,i.DH)(),R)}));case o.L.scriptVisual.name:return(0,p.i8)(o.L.scriptVisual,U,R,(0,a.Z)(function*(){var{ScriptVisual:z}=yield r.e("scriptVisual").then(r.bind(r,7863));return new z}));case o.L.pythonVisual.name:return(0,p.i8)(o.L.pythonVisual,U,R,(0,a.Z)(function*(){var{ScriptVisual:z}=yield r.e("scriptVisual").then(r.bind(r,7863));return new z}));case o.L.debugVisual?.name:return(0,p.i8)(o.L.debugVisual,U,R,(0,a.Z)(function*(){return new N(T.visualSandbox)}));case o.L.textbox.name:return(0,p.i8)(o.L.textbox,U,R,(0,a.Z)(function*(){var{Textbox:z}=yield Promise.all([r.e(11),r.e("textbox")]).then(r.bind(r,93798));return new z({supportsNarrativeExpressions:R.daxTransformEnabled,supportsFormattingChangeIndication:!0})}));case o.L.keyDriversVisual.name:return(0,p.i8)(o.L.keyDriversVisual,z=>z.module.createAnalysisVisual(),R,void 0);case o.L.decompositionTreeVisual.name:return(0,p.i8)(o.L.decompositionTreeVisual,U,R,(0,a.Z)(function*(){var{DecompositionTree:z}=yield Promise.all([r.e(11),r.e("decompositionTree")]).then(r.bind(r,132340));return new z}));case o.L.qnaVisual.name:return(0,p.i8)(o.L.qnaVisual,z=>z.module.createQnaVisual(),R,void 0);case o.L.aiNarratives.name:return(0,p.i8)(o.L.aiNarratives,U,R,(0,a.Z)(function*(){var{AINarratives:z}=yield Promise.all([r.e(11),r.e("aiNarratives")]).then(r.bind(r,747358));return new z}));default:return(0,h.ED)(o.L[A])}}}},428409:function(Ce,k,r){function a(){return new e(150,150)}r.d(k,{Z:function(){return a}});class e{constructor(t,C){this.emptySpaceMinWidth=t,this.emptySpaceMinHeight=C}getEmptySpaces(t,C){var y=this.getNonOverlapingRects(t,C),i=this.filterWithMinimumWidth(y),o=[];for(var c of i){var h=this.extendRect(c,y);h.height>=this.emptySpaceMinHeight&&o.push(h)}return o}getNonOverlapingRects(t,C){if(!C.length)return[];var y=[t];for(var i of C){var o=[];for(var c of y)o=o.concat(this.splitRectangleOnIntersection(c,i));y=o}return y}getIntersectingRectangle(t,C){var y=Math.max(t.x,C.x),i=Math.min(t.x+t.width,C.x+C.width),o=Math.max(t.y,C.y),c=Math.min(t.y+t.height,C.y+C.height);return y<=i&&o<=c?{x:y,y:o,width:i-y,height:c-o}:null}extendRect(t,C){var i,y=!1;for(var o of C)if(o!==t){var c=!1,h=!1;if(this.doIntersect(o,t)&&(c=o.y+o.height===t.y,h=o.y===t.y+t.height),!(o.width<t.width))if(h){var d={x:t.x,y:t.y,width:t.width,height:t.height+o.height},n=this.getIntersectingRectangle(d,o);n&&n.width===d.width&&(y=!0,i=d)}else if(c){var s={x:t.x,y:o.y,width:t.width,height:t.height+o.height},p=this.getIntersectingRectangle(s,o);p&&p.width===s.width&&(y=!0,i=s)}}return y?this.extendRect(i,C):t}doIntersect(t,C){return!(C.x>t.x+t.width||C.x+C.width<t.x||C.y>t.y+t.height||C.y+C.height<t.y)}filterWithArea(t){var C=[];for(var y of t)y.width>0&&y.height>0&&C.push(y);return C}filterWithMinimumWidth(t){var C=[];for(var y of t)y.width>=this.emptySpaceMinWidth&&C.push(y);return C}splitRectangleOnIntersection(t,C){var y=this.getIntersectingRectangle(t,C);return y?this.filterWithArea([{x:t.x,y:t.y,width:t.width,height:y.y-t.y},{x:t.x,y:y.y+y.height,width:t.width,height:t.y+t.height-(y.y+y.height)},{x:t.x,y:y.y,width:y.x-t.x,height:y.height},{x:y.x+y.width,y:y.y,width:t.x+t.width-(y.x+y.width),height:y.height}]):[t]}}},428402:function(Ce,k,r){r.d(k,{d:function(){return n}});var a=r(883803),e=r(939123),u=r(438043),t=r(564619),C=r(895127),y=r(960196),i=r(751934);class o{constructor(l,m,b,...V){e.fF.assertValue(m,"nameResourceKey"),e.fF.assertValue(b,"locService"),this.kind=l,this.name=b.format(m,V)}}class c extends o{constructor(l){super(void 0,"ShowValueAs_Calculation_None",l)}}class h extends o{constructor(l){super(0,"ShowValueAs_Calculation_PercentOfGrandTotal",l)}}class d extends o{constructor(l,m,b){super(1,"ShowValueAs_Calculation_PercentOfRoleTotal",l,b),this.roles=m}}function n(p,l,m,b,V){return new s(p,m,b,V)}class s{constructor(l,m,b,V){this.localizationService=l,this.telemetryService=m,this.visualAuthoring=b,this.visualPlugin=V}createShowValueAsMenuItems(l,m,b){e.fF.assertValue(l,"expr"),e.fF.assertValue(m,"schema"),e.fF.assertValue(b,"visualType");var V=(0,t.J1)((0,C.Q)(l));if(!m.schema(V).capabilities.supportsScopedEval)return[];var g=[];if(this.aggregateSupportsShowValueAs(l,m)){var v=new c(this.localizationService);g.push(this.showValueAsMenuItemBuilder(v));var f=new h(this.localizationService);g.push(this.showValueAsMenuItemBuilder(f));var S=this.visualPlugin.capabilities(b),P=S&&S.dataRoleTotals;if(!_.isEmpty(P))for(var D of P){var M=new d(this.localizationService,D.roles,(0,u.G)(D.displayName,this.localizationService));g.push(this.showValueAsMenuItemBuilder(M))}}return g}applyShowValueAs(l,m,b){var V=this;return(0,a.Z)(function*(){e.fF.assertValue(l,"context"),e.fF.assertValue(m,"original"),e.fF.assertValue(b,"target"),(yield V.visualAuthoring.applyShowValueAs(l,m,b))&&V.telemetryService.logEvent(i.iZX,{original:V.showValueAsKindToTelemetryId(m.kind),target:V.showValueAsKindToTelemetryId(b.kind)})})()}showValueAsMenuItemBuilder(l){var m={type:0};return m.key={action:32,showValueAs:l},m.text=l.name,m}aggregateSupportsShowValueAs(l,m){var b=l.getMetadata(m);return b&&b.type&&b.type.numeric&&(0,y.k)(l)}showValueAsKindToTelemetryId(l){switch(l){case void 0:return"None";case 0:return"PercentOfGrandTotal";case 1:return"PercentOfRoleTotal"}e.fF.assertFail("Could not convert showValueAsKind "+l+" to a telemetry ID")}}},893466:function(Ce,k,r){r.d(k,{R:function(){return t}});var a=r(651014),e=r(692699),u=r(159214);function t(y,i){return new C(y,i)}class C{constructor(i,o){this.visualContainer=i,this.visualPluginOps=o}getSelectedValues(i){if(i.valueDetails){var o=this.filterThroughValueDetails(i.valueDetails,i.metadata);return this.amendIdentityToValueDetails(i,o)}var h=(0,e.s)(this.visualContainer.contract),d=(0,u.Xf)(this.visualContainer.contract),n=this.visualPluginOps.dataViewKinds(h,d);return a.Om.query(this.getDataViews(),i,n)}filterThroughValueDetails(i,o){return o?_.filter(i,c=>_.includes(o,c.queryName)):i}amendIdentityToValueDetails(i,o){var c=[];for(var h of o)c.push({queryName:h.queryName,identity:h.identity||i.dataMap&&_.values(i.dataMap)[0][0],expr:h.expr,value:h.value,formattedValue:h.formattedValue});return c}getDataViews(){var i=this.visualContainer&&this.visualContainer.getRunningVisual();return i&&i.getDataViews()}}},674119:function(Ce,k,r){r.d(k,{e:function(){return c},q:function(){return h}});var a=r(374630),e=r(914877),u=r(691876),t=r(12857),C=r(939123),y=r(359155),i=r(678023),o={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};class c{static initialize(n){C.fF.assertValue(n,"localize"),!c.initialized&&(c.initialized=!0,(0,y.X0)(c.createLocaleOptions(n)),t.I.localizationOptions=c.createTooltipLocaleOptions(n),(0,i.iZ)(c.createDataViewTransformLocalizationOptions(n)))}static createLocaleOptions(n){return C.fF.assertValue(n,"localize"),{null:n.get("NullValue"),true:n.get("BooleanTrue"),false:n.get("BooleanFalse"),NaN:n.get("NaNValue"),infinity:n.get("InfinityValue"),negativeInfinity:n.get("NegativeInfinityValue"),beautify:s=>c.beautify(n,s),describe:s=>c.describeUnit(n,s),restatementComma:n.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),restatementCompoundAnd:n.get("FilterRestatement_CompoundAnd"),restatementCompoundOr:n.get("Generic_Or")}}static createTooltipLocaleOptions(n){return{highlightedValueDisplayName:n.get(t.I.highlightedValueDisplayNameResourceKey)}}static createDataViewTransformLocalizationOptions(n){return{quarterPrefix:n.get(u.mG)}}constructor(n){this.services=n,this.instanceId=void 0}getLocalizedString(n,...s){return this.services.localizationService.format(n,...s||[])}requestFocus(n){a.IK.focus(n)}alertScreenReader(n){}alertWithDebounce(n,s){this.services.screenReaderService&&this.services.screenReaderService.alertWithDebounce(n,s)}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(){}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(n){return!!this.services.canExpandCollapse&&this.services.canExpandCollapse(n)}setNodeExpansionState(n){}setLevelExpansionState(n){}setCanDrill(n){}onContextMenu(){}loadMoreData(){}loadWindow(n){}setShouldDeferData(){}persistProperties(n){}onCustomSort(n){}getViewMode(){return 0}getEditMode(){return 0}setWarnings(n){}getWarnings$(){}setToolbar(n){}shouldRetainSelection(){return!1}geocoder(){return this.services.geocoder}geolocation(){return this.services.geolocation}locale(){return(0,e.uD)()}promiseFactory(){return this.services.promiseFactory}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(n){}setIdentityDisplayNames(n){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}decompositionService(){}dropdown(){}tooltips(){return this.services.visualHostTooltipService}telemetry(){}authenticationService(){return this.services.authenticationService}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}drill(n){}loader(){return this.services.moduleLoader}getUIComponentFactory(){}applyJsonFilter(n,s,p,l){}applyIdentityFilter(n,s,p,l){}launchUrl(n){}refreshHostData(){}getJSONFilter(n,s){return this.promiseFactory().reject()}onHyperlinkClick(n,s){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return 0}networkAvailability(){}downloadService(){}setAriaMetadata(n){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}visualExportService(){}onNotifyLicense(n){this.services.onNotifyLicense&&this.services.onNotifyLicense(n)}onClearLicenseNotification(){this.services.onClearLicenseNotification&&this.services.onClearLicenseNotification()}onNotifyFeatureBlocked(n){this.services.onNotifyFeatureBlocked&&this.services.onNotifyFeatureBlocked(n)}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){return this.services.getAzureMapToken()}azureMapsEndpoint(){return this.services.azureMapsEndpoint}geocoderIndexedDB(){return this.services.geocoderIndexedDB}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualHostSubSelectionService(){}setVisualAnnotationsResponse(n){}annotations(){}static beautify(n,s){var p=o[s];return p?((0,y.J6)(p),n.getOptional(p)||s):s}static describeUnit(n,s){var p=-1===s?"Auto":s.toString(),l=n.getOptional("DisplayUnitSystem_E"+p+"_Title"),m=s<=0?"{0}":n.getOptional("DisplayUnitSystem_E"+p+"_LabelFormat");if(l||m)return{title:l,format:m}}}function h(d){return new c(d)}},332847:function(Ce,k,r){r.d(k,{w:function(){return s}});var a=r(883803),e=r(878510),u=r(159214),t=r(939123),C=r(969143),y=r(129535),i=r(377176),c=(r(528836),r(269556)),h=r(257738),d=r(688574),n=r(900222);function s(){var p=y.MD,l=i.yl,b=c.b;class g{constructor(P,D,M,E,w,x,N,L,B){this.explorationStateManager=P,this.explorationNavigation=D,this.explorationSerializer=M,this.featureSwitchService=E,this.visualPlugin=w,this.conceptualSchemaProxy=x,this.dataSources=N,this.displayNameService=L,this.visualAuthoringOperations=B}generateUniqueGroupName(P,D,M){var w,E=this.getVisualSyncField(D);w=E?this.displayNameService.getDisplayName(E,P,this.visualPlugin.capabilities(D.visualType)):"Group",t.fF.assert(()=>!_.isEmpty(w),"expected preferred name for group");for(var x=w,N=1;x in M;)x=w+N++;return x}syncFilterState(P,D){var M=this;return(0,a.Z)(function*(){var E=P.config.singleVisual;if(M.canSyncVisual(E)&&E.syncGroup){var w=M.getOtherSectionsInSyncGroup(E);if(!_.isEmpty(w)){var x=yield M.conceptualSchemaProxy.get(M.dataSources.get()),N=M.explorationStateManager.captureFilterState(E);D=D&&E.syncGroup.filterChanges;var L=M.visualPlugin.capabilities(E.visualType),B={clearUnmatchedData:!1,suppressActiveSection:!0,suppressDisplay:!0,targetVisualNames:[]},I=p(L.objects),W=I&&(0,C.NA)(N.objects.merge,I,null),O=[];for(var F of w)for(var A of((0,u.Dl)(F.section),F.visualContainers)){var T=D&&M.syncFilters(A,P.filters),R=N;if(W){var U=(0,C.NA)(A.config.singleVisual.objects,I,null),z=M.replaceSemanticFilterField(P.config.singleVisual.query,W,A.config.singleVisual.query,U,x,E.visualType);if(W&&!z){T&&M.visualAuthoringOperations.notifyVisualContainers([A]);continue}z!==W&&((R=(0,e.Ay)(R,M.visualPlugin,M.featureSwitchService)).cachedFilterDisplayItems=void 0,R.filterExpressionMetadata=void 0,(0,C.sO)(R.objects.merge,I,null,z))}B.targetVisualNames.push(A.name),O.push({visual:A,state:R,impacted:T})}_.isEmpty(O)||M.explorationStateManager.applyFilterState(O,x)}}})()}syncVisualFiltersState(P,D=!0){t.fF.assertValue(P,"syncVisualFilterState - sourceVisual should be defined"),t.fF.assertValue(P.config,"syncVisualFilterState - sourceVisual config should be defined");var M=P.config.singleVisual,E=[];if(this.canSyncVisual(M)&&M.syncGroup.filterChanges){var w=this.getOtherSectionsInSyncGroup(M);for(var x of w)if(!_.isEmpty(x.visualContainers))for(var N of x.visualContainers)this.syncFilters(N,P.filters)&&E.push(N);D&&this.visualAuthoringOperations.notifyVisualContainers(E)}}syncFilters(P,D){var M=_.isEmpty(D);if(P.config.singleVisual.syncGroup.filterChanges){if(M&&!_.isEmpty(P.filters))return P.filters=[],!0;if(!M){var E=this.explorationSerializer.deserializeFilterCollection(this.explorationSerializer.serializeFilterCollection(D),[],!0);return P.filters=E,!0}}return!1}getVisualsAffectByFieldChanges(P){var D=P.config.singleVisual;return this.canSyncVisual(D)&&D.syncGroup.fieldChanges?_.filter(this.getOtherVisualsInSyncGroup(D),M=>M.config.singleVisual.syncGroup.fieldChanges):[]}canSyncVisual(P){if(!P.syncGroup)return!1;var D=this.visualPlugin.capabilities(P.visualType),M=D&&D.supportsSynchronizingFilterState;return t.fF.assert(()=>M,"Visual has a sync group, but does not support syncing"),M}getOtherVisualsInSyncGroup(P){return this.getVisualsInSectionsSyncGroup(this.getOtherSectionsInSyncGroup(P))}getVisualsInSectionsSyncGroup(P){var D=[];for(var M of P)D.push(...M.visualContainers||[]);return D}getOtherSectionsInSyncGroup(P){if(!P.syncGroup)return[];if(!P.syncGroup.groupName)return t.fF.assertFail("expected non-empty group name"),[];var D=this.explorationNavigation.getCurrentExploration(),M=[];for(var E of D.sections){var w=_.filter(E.visualContainers,x=>{var N=x.config.singleVisual;return N!==P&&N.syncGroup&&N.syncGroup.groupName===P.syncGroup.groupName&&N.visualType===P.visualType});_.isEmpty(w)||M.push({section:E,visualContainers:w})}return M}getVisualSyncField(P){var D=P.query.defn.select();return t.fF.assertValue(D,"fields can't be null"),0===D.length?(t.fF.assertFail("Expected sync group visual to have at least one field"),null):D[0].expr}replaceSemanticFilterField(P,D,M,E,w,x){if(!D)return D;var N=P.defn.select(),L=M.defn.select();if((x===d.D.advancedSlicerVisual||x===d.D.listSlicer)&&(N=N.filter(T=>P.getRoleNameForExpr(T.expr)===n.CT.value),L=L.filter(T=>M.getRoleNameForExpr(T.expr)===n.CT.value)),N.length===L.length){if(N.length>1)return _.differenceWith(N,L,(T,R)=>(0,h.fS)(T.expr,R.expr)).length?void 0:D;if(1!==N.length)return void t.fF.assertFail("Expected single select in source and target queries");if((0,h.fS)(N[0].expr,L[0].expr))return D;var I=v.extract(D);if(!I)return void t.fF.assertFail("could not extract a single field from the source filter expression");if(!E){var W=D.conditions();if(1!==W.length)return void t.fF.assertFail("expected single condition");var O=L[0].expr.getKeyColumns(w);if(1!==O.length)return void t.fF.assertFail("can only sync slicers on single-key columns when syncing across different fields");var F=f.replaceCondition(W[0],I,O[0]);return l.fromSQExpr(F)}var A=v.extract(E);return A?f.replace(D,I,A):void t.fF.assertFail("expected incoming and target fields for SemanticFilter rewrite")}}}class v extends b{constructor(){super()}static extract(P){var D=new v;return P.rewrite(D),D.foundSingleField&&D.fieldExpr}visitHierarchyLevel(P){return this.setFieldExpr(P),P}visitColumnRef(P){return this.setFieldExpr(P),P}setFieldExpr(P){if(!this.fieldExpr)return this.fieldExpr=P,void(this.foundSingleField=!0);(0,h.fS)(this.fieldExpr,P)||(this.foundSingleField=!1,t.fF.assertFail("found multiple fields in SemanticFilter"))}}class f extends c.b{constructor(P,D){super(),this.before=P,this.after=D}static replace(P,D,M){if((0,h.fS)(D,M))return P;var E=new f(D,M);return P.rewrite(E)}static replaceCondition(P,D,M){if((0,h.fS)(D,M))return P;var E=new f(D,M);return P.accept(E)}visitColumnRef(P){if((0,h.fS)(P,this.before))return this.after}}return{create:function(S,P,D,M,E,w,x,N,L){return new g(S,P,D,M,E,w,x,N,L)}}}},751934:function(Ce,k,r){r.d(k,{$8Z:function(){return Ra},$9b:function(){return rr},$FE:function(){return C},$Zr:function(){return Ie},$xe:function(){return It},A2J:function(){return ae},AS5:function(){return ja},Aog:function(){return we},BKg:function(){return Na},CDV:function(){return Q},Dbt:function(){return Y},EOb:function(){return Oa},EuU:function(){return Va},FQA:function(){return $t},F_y:function(){return Vt},GDm:function(){return Wa},Gk2:function(){return De},H95:function(){return lt},Hbu:function(){return xr},HgC:function(){return N},Hn8:function(){return ot},Htt:function(){return We},Hvk:function(){return ht},Im5:function(){return Br},JBw:function(){return Mt},JH8:function(){return bt},Jab:function(){return Ta},K2L:function(){return Ca},KC9:function(){return W},LMe:function(){return Ur},LPp:function(){return br},Lfd:function(){return re},Ly$:function(){return J},LyQ:function(){return zt},MMo:function(){return kr},Mjo:function(){return fe},Nsy:function(){return Nr},Og1:function(){return s},OvK:function(){return pa},Piu:function(){return Ge},Pro:function(){return ar},Q5S:function(){return c},QBi:function(){return ct},Qkf:function(){return tr},RU3:function(){return Se},RfG:function(){return Ia},SuX:function(){return Ht},T7R:function(){return Lt},Tei:function(){return oe},V1H:function(){return de},V3X:function(){return Ue},WZm:function(){return Hr},X7L:function(){return M},X9Z:function(){return Vr},XON:function(){return Sr},XfB:function(){return hr},YBT:function(){return _e},_rP:function(){return Ve},a6h:function(){return B},amt:function(){return xt},b3D:function(){return pe},bCE:function(){return qr},d19:function(){return Gt},eru:function(){return cr},f5P:function(){return _t},fbs:function(){return dt},fg8:function(){return T},gEB:function(){return Jt},gOc:function(){return l},hbA:function(){return xa},heC:function(){return i},iZX:function(){return ke},ig4:function(){return it},j5C:function(){return le},jOG:function(){return F},jkG:function(){return Aa},jvW:function(){return Rr},knl:function(){return me},l$8:function(){return d},lJ4:function(){return j},l_t:function(){return Be},lm7:function(){return na},lri:function(){return Sa},mC$:function(){return g},m_M:function(){return yt},my7:function(){return f},o3C:function(){return ka},q1S:function(){return Xe},rJV:function(){return _r},spf:function(){return U},uEy:function(){return b},u_F:function(){return qe},vLR:function(){return w},zae:function(){return pr},zb_:function(){return P},zu$:function(){return q}});var a=r(17933),e="PBI.EX.NewExploration",t=(a.cx[e]=(0,a.b1)(e),"PBI.EX.RefreshReport"),C=a.cx[t]=(0,a.b1)(t),y="PBI.EX.SaveExploration",i=a.cx[y]=(0,a.b1)(y),o="PBI.EX.InteractionVisualConversion",c=a.cx[o]=(0,a.b1)(o),h="PBI.EX.InteractionExpand",d=a.cx[h]=(0,a.b1)(h,{logExpAssignment:!0}),n="PBI.EX.InteractionDrill",s=a.cx[n]=(0,a.b1)(n,{logExpAssignment:!0}),p="PBI.EX.DrillToDetails",l=a.cx[p]=(0,a.b1)(p,{logExpAssignment:!0}),m="PBI.EX.AddFilter",b=a.cx[m]=(0,a.b1)(m),V="PBI.EX.ClearFilter",g=a.cx[V]=(0,a.b1)(V,{logExpAssignment:!0}),v="PBI.EX.RemoveFilter",f=a.cx[v]=(0,a.b1)(v),S="PBI.EX.HideFilter",P=a.cx[S]=(0,a.b1)(S),D="PBI.EX.LockFilter",M=a.cx[D]=(0,a.b1)(D),E="PBI.EX.TogglePaneExpanded",w=a.cx[E]=(0,a.b1)(E),x="PBI.EX.ToggleFilterCardExpanded",N=a.cx[x]=(0,a.b1)(x),L="PBI.EX.ToggleFilterCardSort",B=a.cx[L]=(0,a.b1)(L),I="PBI.EX.FilterPaneAdvancedFilterApplied",W=a.cx[I]=(0,a.b1)(I),O="PBI.EX.FilterPaneTopNFilterApplied",F=a.cx[O]=(0,a.b1)(O),A="PBI.EX.FilterPaneRelativeDateFilterApplied",T=a.cx[A]=(0,a.b1)(A),R="PBI.EX.FilterPaneRelativeTimeFilterApplied",U=a.cx[R]=(0,a.b1)(R),z="PBI.EX.FilterPaneBasicFilterChanged",j=a.cx[z]=(0,a.b1)(z,{logExpAssignment:!0}),H="PBI.EX.FilterPaneFilterDefaultRestored",q=a.cx[H]=(0,a.b1)(H),G="PBI.EX.FilterPaneFilterCleared",J=a.cx[G]=(0,a.b1)(G,{logExpAssignment:!0}),Z="PBI.EX.FilterPaneFilterDeleted",Q=a.cx[Z]=(0,a.b1)(Z),ne="PBI.EX.FilterPaneInteraction",le=a.cx[ne]=(0,a.b1)(ne,{logExpAssignment:!0}),he="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneExpansion",Se=a.cx[he]=(0,a.b1)(he,{logExpAssignment:!0}),Ke="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneVisibility",Ge=a.cx[Ke]=(0,a.b1)(Ke),ye="PBI.EX.ImprovedFilterExperience.ShowRestatement",we=a.cx[ye]=(0,a.b1)(ye,{logExpAssignment:!0}),je="PBI.EX.LoadFilterError",de=a.cx[je]=(0,a.b1)(je),Pe="PBI.EX.CreateVisual",Ve=a.cx[Pe]=(0,a.b1)(Pe,{logExpAssignment:!0}),Ze="PBI.EX.AddField",Ue=a.cx[Ze]=(0,a.b1)(Ze),Je="PBI.EX.ResolveParameters",De=a.cx[Je]=(0,a.b1)(Je,{logRatio:.001}),ue="PBI.EX.SwitchQueryParameter",_e=a.cx[ue]=(0,a.b1)(ue),te="PBI.EX.ChangeQuickCalc",ke=a.cx[te]=(0,a.b1)(te),at="PBI.EX.SetConditionalFormatting",ut=(a.cx[at]=(0,a.b1)(at),"PBI.EX.SetDataBars"),ct=a.cx[ut]=(0,a.b1)(ut),Ne="PBI.EX.ExplorationRefresh",ae=a.cx[Ne]=(0,a.b1)(Ne),Le="PBI.EX.SnapshotEmbedCreate",be=(a.cx[Le]=(0,a.b1)(Le),"PBI.EX.PublicEmbedCreate"),Ie=a.cx[be]=(0,a.b1)(be),Ye="PBI.EX.SnapshotEmbedDelete",ee=(a.cx[Ye]=(0,a.b1)(Ye),"PBI.EX.SnapshotEmbedUpdate"),Te=(a.cx[ee]=(0,a.b1)(ee),"PBI.EX.ImportCustomViz"),Xe=a.cx[Te]=(0,a.b1)(Te),He="PBI.EX.CdnVisualOverride",qe=a.cx[He]=(0,a.b1)(He),rt="PBI.EX.DeleteCustomViz",me=a.cx[rt]=(0,a.b1)(rt),Ee="PBI.EX.EnableCustomViz",fe=a.cx[Ee]=(0,a.b1)(Ee),Re="PBI.EX.VisualRelationshipOverride",re=a.cx[Re]=(0,a.b1)(Re),se="PBI.EX.CodePaneUserRunScript",ce=(a.cx[se]=(0,a.b1)(se),"PBI.EX.CodePaneUserEditScriptWithExternalIDE"),$e=(a.cx[ce]=(0,a.b1)(ce),"PBI.EX.CodePaneUserOpenOptionsDialog"),pt=(a.cx[$e]=(0,a.b1)($e),"PBI.EX.CodePaneLaunchExternalIDEFailed"),Pt=(a.cx[pt]=(0,a.b1)(pt),"PBI.EX.CodePaneLaunchExternalIDESucceeded"),Ut=(a.cx[Pt]=(0,a.b1)(Pt),"PBI.EX.CodePaneShowWarning"),Qt=(a.cx[Ut]=(0,a.b1)(Ut),"PBI.EX.ExportVisualData"),rr=a.cx[Qt]=(0,a.b1)(Qt,{logExpAssignment:!0}),Xt="PBI.EX.LoadReportWithScriptVis",cr=a.cx[Xt]=(0,a.b1)(Xt),et="PBI.ExploreHost.ChangeReportPage",ht=a.cx[et]=(0,a.b1)(et),Nt="PBI.EX.RemoveMobileCanvasVisuals",Lt=a.cx[Nt]=(0,a.b1)(Nt),Qe="PBI.EX.AddMobileCanvasVisual",bt=a.cx[Qe]=(0,a.b1)(Qe),Rt="PBI.EX.ChangeMobileVisualPosition",Gt=a.cx[Rt]=(0,a.b1)(Rt),ir="PBI.EX.LoadReportContainer",Ht=a.cx[ir]=(0,a.b1)(ir),vr="PBI.EX.LoadReportContainerDatasetMissing",_r=a.cx[vr]=(0,a.b1)(vr),Fr="PBI.EX.InitExploration",Ur=a.cx[Fr]=(0,a.b1)(Fr),Pr="PBI.EX.LoadExplorationVisuals",Sr=a.cx[Pr]=(0,a.b1)(Pr,{defaultTimeoutSec:60,logExpAssignment:!0}),Or="PBI.EX.VisualContainerChanged",xr=a.cx[Or]=(0,a.b1)(Or,{logRatio:0}),zr="PBI.EX.RenderExplorationVisual",pr=a.cx[zr]=(0,a.b1)(zr,{logRatio:.01}),jr="PBI.EX.FetchExploration",Rr=a.cx[jr]=(0,a.b1)(jr),Kr="PBI.EX.ChangeCanvasLayout",Vt=a.cx[Kr]=(0,a.b1)(Kr),Dt="PBI.EX.Clustering.AddClustering",Ct=(a.cx[Dt]=(0,a.b1)(Dt),"PBI.EX.Clustering.EditClustering"),lr=(a.cx[Ct]=(0,a.b1)(Ct),"PBI.EX.QuickMeasures.OpenDialog"),dr=(a.cx[lr]=(0,a.b1)(lr),"PBI.EX.QuickMeasures.DialogResult"),ur=(a.cx[dr]=(0,a.b1)(dr),"PBI.EX.QuickMeasures.OnMeasureChange"),Et=(a.cx[ur]=(0,a.b1)(ur),"PBI.EX.Drillthrough.GotoTarget"),It=a.cx[Et]=(0,a.b1)(Et,{logExpAssignment:!0}),kt="PBI.EX.Drillthrough.FilterUpdate",Jt=a.cx[kt]=(0,a.b1)(kt),er="PBI.EX.RefreshHostData",it=a.cx[er]=(0,a.b1)(er),K="PBI.EX.BookmarkAdd",Y=a.cx[K]=(0,a.b1)(K),xe="PBI.EX.BookmarkUpdate",yt=a.cx[xe]=(0,a.b1)(xe),Tt="PBI.EX.BookmarkDelete",$t=a.cx[Tt]=(0,a.b1)(Tt),qt="PBI.EX.BookmarkPlay",hr=a.cx[qt]=(0,a.b1)(qt),gr="PBI.EX.BookmarkApply",br=a.cx[gr]=(0,a.b1)(gr),Wr="PBI.EX.Bookmark.LoadError",Hr=a.cx[Wr]=(0,a.b1)(Wr),Cr="PBI.EX.CopyPasteSyncGroup",Be=a.cx[Cr]=(0,a.b1)(Cr),nt="PBI.EX.CustomDateTableValidationResult",dt=a.cx[nt]=(0,a.b1)(nt),mt="PBI.EX.UpdateActiveSection",ot=a.cx[mt]=(0,a.b1)(mt,{defaultTimeoutSec:10}),ie="PBI.EX.VisualContainerApplyUpdate",We=a.cx[ie]=(0,a.b1)(ie,{logRatio:0}),Oe="PBI.EX.VisualDataChanged",lt=a.cx[Oe]=(0,a.b1)(Oe,{logRatio:0}),gt="PBI.EX.ApplySlicer",_t=a.cx[gt]=(0,a.b1)(gt,{logExpAssignment:!0}),Ft="PBI.EX.ApplyAllClicked",xt=a.cx[Ft]=(0,a.b1)(Ft),Wt="PBI.EX.SelectDataPoint",tr=a.cx[Wt]=(0,a.b1)(Wt,{logExpAssignment:!0}),Yt="PBI.EX.RefreshSingleVisual",ar=a.cx[Yt]=(0,a.b1)(Yt),sr="PBI.EX.PerformanceAnalyzerRefreshReport",Vr=a.cx[sr]=(0,a.b1)(sr),Tr="PBI.EX.PerformanceAnalyzerExportLogs",Br=a.cx[Tr]=(0,a.b1)(Tr),Lr="PBI.EX.PerformanceAnalyzerCopyQueries",kr=a.cx[Lr]=(0,a.b1)(Lr),Ar="PBI.EX.PerformanceAnalyzerRunDaxyQuery",Nr=a.cx[Ar]=(0,a.b1)(Ar),Dr="PBI.EX.PerformanceAnalyzerStopRecording",qr=a.cx[Dr]=(0,a.b1)(Dr),Gr="PBI.EX.ThemeDialogClosed",ea=(a.cx[Gr]=(0,a.b1)(Gr),"PBI.Settings.FavoriteResourcePackages"),pa=a.cx[ea]=(0,a.b1)(ea),ia="PBI.Settings.VisualPane",oe=a.cx[ia]=(0,a.b1)(ia),Fe="PBI.Settings.OutOfBoxVisuals",pe=a.cx[Fe]=(0,a.b1)(Fe),vt="PBI.EX.DrillthroughButtonClicked",Mt=a.cx[vt]=(0,a.b1)(vt),Ot="PBI.EX.SmallMultiplesFirstField",zt=a.cx[Ot]=(0,a.b1)(Ot),Jr="PBI.EX.AnalyticsLoadSchemaError",na=a.cx[Jr]=(0,a.b1)(Jr),fa="PBI.EX.ExecuteActionCommands",Va=a.cx[fa]=(0,a.b1)(fa),Ua="PBI.EX.UndefinedTooltipStyleInActionBar",Wa=a.cx[Ua]=(0,a.b1)(Ua),wa="PBI.EX.ActionBarShown",ja=a.cx[wa]=(0,a.b1)(wa),Fa="PBI.EX.ScanModeKeyPressed",Ca=a.cx[Fa]=(0,a.b1)(Fa),ha="PBI.EX.GetInsightsMenuCommand",Ta=a.cx[ha]=(0,a.b1)(ha),Ea="PBI.Sparklines.Delete",Na=a.cx[Ea]=(0,a.b1)(Ea),oa="PBI.CopyVisualImage.EntryPoint",xa=a.cx[oa]=(0,a.b1)(oa),la="PBI.EX.FontsReadyVisualUpdateTriggered",Aa=a.cx[la]=(0,a.b1)(la,{logRatio:.01}),Da="PBI.Reflex.OpenTriggerActionFromVisual",Ia=a.cx[Da]=(0,a.b1)(Da),va="PBI.Reflex.ReflexOpenConfigPaneFromVisualToolbar",Ra=a.cx[va]=(0,a.b1)(va),Pa="PBI.Reflex.ReflexOpenConfigPaneFromVisualContext",Sa=a.cx[Pa]=(0,a.b1)(Pa),Ma="PBI.Reflex.ReflexOpenConfigPaneFromVisualFollow",ka=a.cx[Ma]=(0,a.b1)(Ma),ta="PBI.EX.ScreenShotExportDiscrepancy",Oa=a.cx[ta]=(0,a.b1)(ta)},879131:function(Ce,k,r){r.d(k,{s:function(){return m}});var a=r(347293),e=r(877206),u=r(704731),t=r(666058),C=r(147597),y=r(134840),i=r(547586),o=r(939123),c=r(845856),h=r(856632),d=r(969143),n=r(51651),s=r(928948),p=r(953474),l=r(257738),m=(()=>{class b{static setScrollWidth(g){this.scrollWidth=g}static fitToWidth(g,v,f,S,P,D=!1,M){null!=g.canvasOptions.overrideSectionAlignment&&(M=g.canvasOptions.overrideSectionAlignment);var E=v.get(0).getBoundingClientRect(),x=this.findParentElement(v,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),N=v.find(".displayAreaViewport").get(0).getBoundingClientRect();if(E.width>N.width){var L=E.width-N.width;null!=this.scrollWidth&&Math.abs(this.scrollWidth-L)>.01&&c.f.error(`Multiple scroll bar widths detected, ${this.scrollWidth} -> ${L}`),this.scrollWidth=L}var B=P.getConfig(),I=2*a.UL,W=E.width-I,O=E.height-I,F=this.getFitToWidthScaledSize(g,W,S),A=v.find(this.DisplayAreaNameSelector.selector),T=1===g.viewModel.canvasLayout;F.height<=O&&!T?(g.canvasViewStyle=2,v.css(i.hK,i.fw).css(i.Rg,i.fw),this.positionElement(A,N,F,M,!0,B.displayOptions.includeMobileBottomPadding)):(F=this.getFitToWidthScaledSize(g,W=E.width-(I=B.displayOptions.scaleBackgroundImageToWidth?a.UL/2+(this.scrollWidth||0):3*a.UL/2+(this.scrollWidth||8)),S,T?a.U+a.KB:0),g.canvasViewStyle=1,v.css(i.hK,i.fw).css(i.Rg,i.K),this.clearElementPosition(A));var R=W/g.viewModel.width,z=this.getWallpaperScale(x,g.viewModel.width,g.viewModel.height,g.canvasOptions.scrollbarOffset,0);if(f.setDisplayAreaScaleFactor(R),f.setWallpaperScaleFactor(z),this.updateCanvasSize(g,F.width,F.height),A.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(g)),this.setElementSize(A,F),!D&&!B.displayOptions.preserveScrollPositionOnResize){var j=!1,H=g.fitToWidthScrollPosition;if(H){var q=g.viewModel&&g.viewModel.contract;q&&q.name===H.sectionName&&q.size&&q.size.width===H.sectionSize.width&&q.size.height===H.sectionSize.height&&(j=!0,v[0].scrollTo({top:H.relativeScroll*R,left:0,behavior:"instant"})),j||(g.fitToWidthScrollPosition=void 0)}j||v[0].scrollTo({top:0,left:0,behavior:"instant"})}}static getWallpaperScale(g,v,f,S,P,D,M){if(0===P)return(g.width-S)/v;var w=f;return D&&M&&(w=D.getConfig().displayOptions.hideTileMenu?g.height:g.height-M),w/f}static getFitToWidthScaledSize(g,v,f,S=0){var P=v/g.viewModel.width,D=v,M=g.viewModel.height*P+f;if(g.adjustScaleForLayout){var E=g.adjustScaleForLayout({x:P,y:P});if(E.x!==P||E.y!==P){var w=Math.min(E.x,E.y),x=w/P;D*=x,M=(M-f)*x+f,P=w}}return S>0&&(M+=S),{width:D,height:M}}static fitToPage(g,v,f,S,P,D){var M=S.getConfig();null!=g.canvasOptions.overrideSectionAlignment&&(D=g.canvasOptions.overrideSectionAlignment);var w=this.findParentElement(v,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),x=g.outerViewport.width/g.viewModel.width,N=this.getFitToPageScaleY(g,S,P),L=Math.min(x,N),I=this.getWallpaperScale(w,g.viewModel.width,g.viewModel.height,g.canvasOptions.scrollbarOffset,L===x?0:1,S,P);if(g.adjustScaleForLayout){var W=g.adjustScaleForLayout({x:L,y:L});(W.x!==L||W.y!==L)&&(L=Math.min(W.x,W.y))}f.setDisplayAreaScaleFactor(L),f.setWallpaperScaleFactor(I),M.displayOptions.preserveScrollPositionOnResize||v.scrollTop(0).scrollLeft(0);var O=g.viewModel.width*L,F=g.viewModel.height*L+P;g.canvasViewStyle=0,g.canvasViewStyle|=4,v.css(i.hK,i.fw).css(i.Rg,i.fw),this.updateCanvasSize(g,O,F);var A=v.find(this.DisplayAreaNameSelector.selector);A.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(g));var T={width:O,height:F};this.setElementSize(A,T),this.positionElement(A,g.outerViewport,T,D,!1)}static getFitToPageScaleY(g,v,f){var P=v.getConfig().displayOptions.hideTileMenu?g.outerViewport.height:g.outerViewport.height-f;return(P-=this.getCanvasOutlineSize(g,v))/g.viewModel.height}static findParentElement(g,v){if(g)return g.hasClass(v.class)?g:this.findParentElement(g.parent(),v)}static getVerticalAlignmentSetting(g,v,f){var S=g.viewModel&&g.viewModel.contract&&g.viewModel.contract.evaluatedObjects&&g.viewModel.contract.evaluatedObjects.displayArea&&g.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment&&g.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment.toString();if(S)return e.ab[S];var P=f.getCurrentExploration(),D=P&&P.evaluatedObjects&&P.evaluatedObjects.section&&P.evaluatedObjects.section.verticalAlignment&&P.evaluatedObjects.section.verticalAlignment.toString();return D?e.ab[D]:void 0}static positionElement(g,v,f,S,P,D){var E=null!=v.height&&null!=f.height?(v.height-(D?a.U:0)-f.height)/2:void 0,w=null!=v.width&&null!=f.width?(v.width-f.width)/2:void 0,x={position:"absolute",left:null!=w?`${w}px`:""};S===e.ab.Top?_.extend(x,{top:null!=E?`${P?a.UL:0}px`:""}):_.extend(x,{top:null!=E?`${E}px`:""}),g.css(x)}static setElementSize(g,v){g.css({height:`${v.height}px`,width:`${v.width}px`})}static clearElementPosition(g){g.css({position:"",top:"",left:""})}static clearElementSize(g){g.css({height:"",width:""})}static fitToScreen(g,v,f,S){var P=v.find(this.DisplayAreaNameSelector.selector);this.clearElementPosition(P),this.clearElementSize(P),g.canvasViewStyle=8,f.setDisplayAreaScaleFactor(1),f.setWallpaperScaleFactor(1),this.updateCanvasSize(g,g.outerViewport.width,g.outerViewport.height),v.css(i.hK,i.fw).css(i.Rg,i.fw),P.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(g))}static getCanvasActualSize(g,v,f){var S=b.getAutoLayoutVisualVCHeader(v,f),P=g.size;return{height:P.height+S,width:P.width}}static displayInActualSize(g,v,f,S,P,D,M=1){null!=g.canvasOptions.overrideSectionAlignment&&(D=g.canvasOptions.overrideSectionAlignment);var E=v.find(this.DisplayAreaNameSelector.selector),w=g.isCanvasBackdropVisible();g.canvasViewStyle=0;var x=g.viewModel.width*M,N=g.viewModel.height*M+P,L={width:w?s.Co:x,height:w?s.jk:N};L.width>g.outerViewport.width?(g.canvasViewStyle|=512,v.css(i.hK,i.At)):(g.canvasViewStyle|=256,v.css(i.hK,i.fw)),L.height>g.outerViewport.height?(g.canvasViewStyle|=128,v.css(i.Rg,i.At)):(g.canvasViewStyle|=64,v.css(i.Rg,i.fw));var B=g.canvasViewStyle;this.positionElement(E,g.outerViewport,{width:256&B?L.width:void 0,height:64&B?L.height:void 0},D,!0),g.canvasViewStyle|=256&B&&64&B?32:16,this.setElementSize(E,L),S.setDisplayAreaScaleFactor(M),S.setWallpaperScaleFactor(M),this.updateCanvasSize(g,x,N);var W=this.convertDisplayOptionToStyle(g);E.attr("class",this.DisplayAreaNameSelector.class+" "+W),w&&(o.fF.assertValue(f,"canvasBackdrop should exist (hasBackdrop() returned true)"),f.attr("class",this.CanvasBackdropSelector.class+" "+W))}static displayInActualSizeTopLeft(g,v,f,S){var P=v.find(this.DisplayAreaNameSelector.selector);g.canvasViewStyle=0,g.canvasViewStyle|=512,g.canvasViewStyle|=128,g.canvasViewStyle|=16,v.css(i.hK,g.viewModel.width>=g.outerViewport.width?i.At:i.fw),v.css(i.Rg,g.viewModel.height>=g.outerViewport.height?i.At:i.fw),f.setDisplayAreaScaleFactor(1),f.setWallpaperScaleFactor(1);var D=g.viewModel.width,M=g.viewModel.height+S;P.css({width:D+"px",height:M+"px"}),this.updateCanvasSize(g,D,M),P.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(g))}static updateCanvasSize(g,v,f){var S={width:v,height:f};S.width>0&&S.height>0&&(g.size=S)}static updateAndApplyBackground(g,v,f,S,P,D,M,E,w,x,N,L,B){o.fF.assertValue(E,"promiseFactory");var A,T,R,U,z,I=x.getConfig(),W=I.displayOptions.hideOutspaceFormatting,O=1===x.getMode()&&!v.isCanvasBackdropVisible(),F=!!B.get();switch(g){case 1:R=v.outspace=v.outspace||{},T="outspace",A=v.outspaceBackground,U=(0,a.e3)(),z=w.getCurrentLayoutCapabilities().canShowCanvasOutspace();break;case 2:R=v.background=v.background||{},T="background",A=v.canvasBackground,U=(0,a.tL)(),z=w.getCurrentLayoutCapabilities().canShowCanvasBackground();break;default:o.fF.assertNever(g)}if(z){o.fF.assertValue(R,"canvasDisplayUtil.updateAndApplyBackground - backgroundContract should exist.");var j=S&&S[T],H=R.image;F?(R.color=a.tb,R.transparency=0,R.image=null):j?(R.color=(0,h.y)(j,"color",a.tb),R.transparency=(0,h.N)(j,"transparency",a.nW),R.image=j.image):this.setDefaultBackgroundProperties(R,U);var q=R.image;q?.name!==H?.name&&v.backgroundImageChanging?.(g);var J=(0,d.my)(v.viewModel.contract.objects,T,null),Z=J&&J.properties.image;Z&&(0,p.MI)(Z.url)?this.setImageFromPackage(v,A,R,q,Z.url,J,D,M,E,L,O,N,W,g,F):this.setImage(A,R,q,q?q.url:"",F,L,O,N,W,g,v)}else this.setDefaultBackgroundProperties(R,U),this.setImage(A,U,null,"",F,L,O,N,W,g,v);2===g&&f.css(x&&I.displayOptions.extendBackgroundToWholeCanvas?{"background-color":(0,t.cD)(R.color,(100-R.transparency)/100)}:{"background-color":""})}static setDefaultBackgroundProperties(g,v){g.color=v.color,g.image=v.image,g.transparency=v.transparency}static setImage(g,v,f,S,P,D,M,E,w,x,N){var L=f&&f.scaling,B=P?1:(100-v.transparency)/100,I=f&&S||"";if(I!==(g.imageSource||"")&&(g.imageSource=I,N.backgroundImageChanged?.(x)),g.imageFitClass=L,g.imageStyle=L===y.C.normal?{transform:"scale("+D.getWallpaperScaleFactor()+")"}:{},g.backgroundStyle||(g.backgroundStyle={}),g.backgroundStyle.opacity=B,g.backgroundStyle["background-color"]=w&&1===x?"transparent":(0,t.cD)(v.color),2===x){var O=C.v.getThemeColor(E,"foregroundNeutralSecondary");g.displayAreaStyle||(g.displayAreaStyle={}),g.displayAreaStyle["box-shadow"]=w?"0 0 0":`0 0 10px rgba(200,200,200,${B})`,g.displayAreaStyle.outline=M&&B<=.5?`2px dotted ${O}`:"none",g.imageStyle=L===y.C.normal?{transform:"scale("+D.getDisplayAreaScaleFactor()+")"}:{}}}static setImageFromPackage(g,v,f,S,P,D,M,E,w,x,N,L,B=!1,I,W){o.fF.assertValue(w,"promiseFactory");var O=E.getCurrentExploration();if(O){var F=g.viewModel.contract;(0,n.yl)(P,O.resourcePackages,M,w).then(A=>{var T=D.properties.image;F===g.viewModel.contract&&T&&(0,l.fS)(T.url,P)&&this.setImage(v,f,S,A.value||"",W,x,N,L,B,I,g)})}}static setDisplayAreaBackground(g,v,f){if(v&&v.outspace)g.canvasBackground.displayAreaStyle&&delete g.canvasBackground.displayAreaStyle["background-color"];else{g.canvasBackground.displayAreaStyle||(g.canvasBackground.displayAreaStyle={});var P=C.v.getThemeColor(f,"background");g.canvasBackground.displayAreaStyle["background-color"]=P}}static convertDisplayOptionToStyle(g){var v="";return g.useResponsiveLayout&&(v+=" responsive"),g.disableAnimations&&(v+=" disableAnimations"),!(8&~g.canvasViewStyle)&&(v+=" fitToScreen"),!(4&~g.canvasViewStyle)&&(v+=" fitToPage"),!(1&~g.canvasViewStyle)&&(v+=" fitToWidthOrigin"),!(2&~g.canvasViewStyle)&&(v+=" fitToWidthCentered"),!(256&~g.canvasViewStyle)&&(v+=" actualSizeAlignCenter"),!(512&~g.canvasViewStyle)&&(v+=" actualSizeAlignLeft"),!(64&~g.canvasViewStyle)&&(v+=" actualSizeAlignMiddle"),!(128&~g.canvasViewStyle)&&(v+=" actualSizeAlignTop"),!(32&~g.canvasViewStyle)&&(v+=" actualSizeCentered"),!(16&~g.canvasViewStyle)&&(v+=" actualSizeOrigin"),v.trim()}static getAutoLayoutVisualVCHeader(g,v){return v&&v.getCapabilities().visualContainerOptions.useStylableHeader||g&&g.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()?0:s.BB}static getCanvasOutlineSize(g,v){if(1===v.getMode()){var f=g.background&&g.background.transparency;if(f&&f>=s.$j)return s.qD}return 0}static applyFitOption(g,v,f,S,P,D){if(g.viewModel&&g.viewModel.contract){var M=v.find(this.DisplayAreaContainerNameSelector.selector),E=this.findParentElement(v,this.ExploreCanvasSelector).find(this.CanvasBackdropSelector.selector),w=f.canvasScale.getDisplayOption();2!==w&&(g.fitToWidthScrollPosition=void 0);var x=g.viewModel.contract.name,N=g.lastApplyFitContext;N&&(w!==N.displayOption||x!==N.sectionName)&&M[0].scrollTo({top:0,left:0,behavior:"instant"}),g.lastApplyFitContext={displayOption:w,sectionName:x};var L=this.getAutoLayoutVisualVCHeader(f.formFactor,f.explorationCapabilities);switch(w){case 2:this.fitToWidth(g,M,f.canvasScale,L,f.viewModeState,D,S);break;case 1:this.fitToPage(g,M,f.canvasScale,f.viewModeState,L,S);break;case 3:this.displayInActualSize(g,M,E,f.canvasScale,L,S,P);break;case 4:this.displayInActualSizeTopLeft(g,M,f.canvasScale,L);break;default:this.fitToScreen(g,M,f.canvasScale,L)}f.eventBridge.publishToChannel(u.ubE)}}static storeOverflowValuesAndChange(g,v){this.currentOverflowXCSSValue=g.css(i.hK),this.currentOverflowYCSSValue=g.css(i.Rg),g.css(i.hK,v),g.css(i.Rg,v)}static restoreOverflowValues(g){g.css(i.hK,this.currentOverflowXCSSValue),g.css(i.Rg,this.currentOverflowYCSSValue)}static visualPositionToRect(g){return{left:g.x,top:g.y,width:g.width,height:g.height}}static rectToVisualPosition(g){return{x:g.left,y:g.top,width:g.width,height:g.height}}static isCortanaPageSize(g){return!1}}return b.DisplayAreaNameSelector=(0,i.CH)("displayArea"),b.DisplayAreaContainerNameSelector=(0,i.CH)("displayAreaContainer"),b.VisualContainerHostSelector=(0,i.CH)("visualContainerHost"),b.OutspaceContainerSelector=(0,i.CH)("outspaceContainer"),b.OutspaceImageSelector=(0,i.CH)("outspaceImage"),b.VisualBackgroundContainerSelector=(0,i.CH)("visualBackgroundContainer"),b.VisualBackgroundImageSelector=(0,i.CH)("visualBackgroundImage"),b.DefaultVisualPosition={x:100,y:100,width:300,height:300},b.CanvasBackdropSelector=(0,i.CH)("canvasBackdrop"),b.ExploreCanvasSelector=(0,i.CH)("exploreCanvas"),b.currentOverflowXCSSValue="",b.currentOverflowYCSSValue="",b})()},185527:function(Ce,k,r){r.d(k,{L0:function(){return y},vW:function(){return C},x_:function(){return o},zo:function(){return t},zq:function(){return i}});var a=r(953474),e=r(969143),u=r(740232);function t(c,h,d){var n=d&&d[c],s=u.di;if(n)return n.hasOwnProperty(s)&&!n[s];var p=(0,e.NA)(h,{objectName:c,propertyName:s},null);return void 0!==p&&(0,a.VC)(p)&&!p.value}function C(c,h,d){var n={x:c.x*h.x,y:c.y*h.y,z:c.z,width:c.width*h.x,height:c.height*h.y,angle:c.angle,tabOrder:c.tabOrder};if(!0===d){var s=Math.round(n.x),p=Math.round(n.y),l=Math.round(n.x+n.width),m=Math.round(n.y+n.height);n={x:s,y:p,z:n.z,width:l-s,height:m-p,angle:c.angle,tabOrder:c.tabOrder}}return n}function y(c,h){return{x:c.x/h.x,y:c.y/h.y,z:c.z,width:c.width/h.x,height:c.height/h.y,angle:c.angle,tabOrder:c.tabOrder}}function i(c,h){return{left:c.left*h.x,top:c.top*h.y,width:c.width*h.x,height:c.height*h.y}}function o(c,h){return{left:c.left/h.x,top:c.top/h.y,width:c.width/h.x,height:c.height/h.y}}},208473:function(Ce,k,r){r.d(k,{Dg:function(){return Ve},F2:function(){return W},FK:function(){return D},JQ:function(){return J},Mt:function(){return G},N$:function(){return x},P:function(){return Ke},SQ:function(){return O},V3:function(){return P},Vg:function(){return F},Xf:function(){return R},Xt:function(){return Ue},bo:function(){return Se},bt:function(){return Pe},cV:function(){return Ze},e2:function(){return L},eR:function(){return M},gO:function(){return I},lJ:function(){return de},lN:function(){return Q},nG:function(){return w},yz:function(){return E},zT:function(){return j}});var a=r(883803),e=r(347293),u=r(990121),t=r(187220),C=r(248169),y=r(456774),i=r(117768),o=r(258762),c=r(159214),h=r(692699),d=r(13036),n=r(722709),s=r(939123),p=r(542666),l=r(864237),m=r(969143),b=r(678023),V=r(751934),g=r(399338),v=r(652251),f=r(247853),S="root";function P(Je,De){var ue=y.UP.getSelectedCanvasItems(De);return M(Je.visualContainerGroups,ue)}function D(Je,De){for(var ue of Je)if(ue.contract===De)return ue}function M(Je,De){var ue={};for(var _e of De)ue[_e.name]=!0;var te=[];(0,v.Iw)(Je,at=>{ue[at.name]&&te.push(at)});var ke=at=>_.findIndex(De,tt=>tt.name===at.name);return te.sort((at,tt)=>ke(at)-ke(tt)),te}function E(Je,De){s.fF.assert(()=>Je.length===De.length,"lists of viewModels and contracts should be the same length");var ue=function(te){var ke=(0,d.sE)(te.name,De);if(!ke)return s.fF.assertValue(ke,"contract with the same name should exist"),1;(0,v.q4)(te)&&(0,t.q4)(ke)&&(te.contract!==ke&&(s.fF.assert(()=>te.contract.name===ke.name,"should be the same contract with same name"),te.contract=ke),E(te.children,ke.children))};for(var _e of Je)ue(_e)}function w(Je,De){if(De.parentGroup)for(var ue=De.parentGroup;ue;){var _e=ue.position;Je.left+=_e.x,Je.top+=_e.y,ue=ue.parentGroup}return Je}function x(Je){var De=0;if(_.isEmpty(Je))return De;if(Je[0].parentGroup)for(var ue=Je[0].parentGroup;ue;)De++,ue=ue.parentGroup;return N(Je,De)}function N(Je,De){var ue=++De;for(var _e of Je)(0,t.q4)(_e)&&(ue=Math.max(N(_e.children,De),ue));return ue}function L(Je,De,ue,_e,te){_e.hideAllDropdowns(),(0,f.n)(Je);var ke=l.M.isCtrlOrMeta(Je),at=y.UP.isCanvasItemSelected(De.contract,ue);if(ke&&at&&y.UP.getSelectedCanvasItems(ue).length>1)y.UP.unselectCanvasItem(De.contract,ue);else{if(!te){var tt=W(De);return tt.parentGroup&&tt.parentGroup.isSelected&&y.UP.unselectCanvasItem(tt.parentGroup.contract,ue),y.UP.selectCanvasItem(tt.contract,ue,(0,l.D)(Je)),void function(Je,De){return $(Je).parents(`[name="${De}"]:first`)[0]}(Je.currentTarget,tt.contract.name)?.focus()}y.UP.selectCanvasItem(De.contract,ue,(0,l.D)(Je))}}function I(Je,De,ue){if(Je.parentGroup)if(De){var te=W(Je);te!==Je&&(0,c.vz)(De,te.name,ue)}else for(var _e=Je.parentGroup;_e;)(0,c.vz)(De,_e.name,ue),_e=_e.parentGroup}function W(Je,De=!1){for(var ue=Je.parentGroup,_e=Je;ue;){if(ue.isSelected||ue.isChildSelected){De&&ue.isSelected&&(_e=ue);break}_e=ue,ue=ue.parentGroup}return _e}function O(Je,De){y.UP.isCanvasItemSelected(Je,De)||y.UP.selectCanvasItem(Je,De)}function F(Je,De,ue,_e=!0){var te=[];return H(De.getSelectedElements(),_e,at=>{if((0,t.q4)(at))te.push(Je.serializeVisualContainerGroup(at));else{var tt=function(Je,De){return Je.filters?function(Je,De){var ue=(0,n.UU)(Je.filters,_e=>function(Je,De){var ue=Je.filter;if((Je.type===u.vA.Include||Je.type===u.vA.Exclude)&&ue){var _e=ue.rewrite(De);if(_e!==ue)return(0,p.ED)(Je,te=>te.filter=_e)}return Je}(_e,De));return ue!==Je.filters?(0,p.ED)(Je,_e=>_e.filters=ue):Je}(Je,new o.L(De)):Je}(at,ue);te.push(Je.serializeVisualContainer(tt))}}),te}function R(Je,De,ue,_e,te,ke){var at=Je.objects,tt=te.getVisualObjects(_e,ue,void 0,De);tt&&(at=(0,m.d9)(at||{}),(0,m.l7)(at,tt));var ut=te.getVisualStyle(_e),ct=(0,b.G3)(at,De,ut,ke.featureSwitches);Je.evaluatedObjects=ct.dataViewObjects}function j(Je,De,ue=!0){var _e={};return H(Je.getSelectedElements(),ue,at=>(at=>{(0,t.Vz)(at)&&(0,i.WP)(at.config.singleVisual.objects,void 0,De,_e)})(at)),_e}function H(Je,De,ue){if(!_.isEmpty(Je)){var _e=De&&[];for(var te of Je){var ke=te.canvasItem;ke&&(De&&(0,t.q4)(ke)?_e.push(ke):ue(ke))}De&&!_.isEmpty(_e)&&(0,t.Iw)(_e,at=>ue(at))}}function G(Je,De,ue,_e,te,ke,at,tt,ut,ct){return _.first(J([Je],De,ue,_e,te,ke,at,tt,ut,ct))}function J(Je,De,ue,_e,te,ke,at,tt,ut,ct){if(Je){var Ne={},ae=!!at,Le=ue.size,X=ct?ue.visualContainerGroups:ue.visualContainers,be=_.flatMap(De.sections,Re=>ct?Re.visualContainerGroups:Re.visualContainers),Ie=[],Ye=te.getCurrentLayout();(0,t.Iw)(X,Re=>{if(null==Re.parentGroup){var re=Re.layouts.withId(Ye);Ie.push(re.position)}}),(0,t.Iw)(be,Re=>{Ne[Re.name]=!0});var ze=_e.deserializeCanvasItems(Je,!0,ct,()=>{var Re=(0,c.vr)(Ne);return s.fF.assert(()=>!Ne[Re],"New name already exists"),Ne[Re]=!0,Re});if(ze){var{visualContainerGroups:ee,visualContainers:ve}=ze,Te=function(Je,De,ue,_e){var te=Ke(Je,De),ke=_.orderBy(ue,at=>at.config.layouts[De].position.z,["asc"]);return ke.reduce((at,tt)=>{var{name:ut,parentGroupName:ct}=tt.config;return{...at,[ut]:ct&&_e?null:te++}},{})}(X,Ye,Je,ct),Xe=function(Je,De,ue){var _e=function(Je,De){var ue=0,_e=0;if(_.isEmpty(Je))return{pos:ue,neg:_e};for(var te of Je){var ke=te.layouts.withId(De),at=ke&&ke.position,tt=at&&null!=at.tabOrder?at.tabOrder:void 0;null!=tt&&(ue=Math.max(ue,tt),_e=Math.min(_e,tt))}return{pos:ue+1,neg:_e-1}}(Je,De),te=_.orderBy(ue,ke=>ke.config.layouts[De].position.tabOrder,["asc"]);return te.reduce((ke,at)=>{var{name:tt,layouts:ut}=at.config,Ne=ut[De].position;return{...ke,[tt]:null!=Ne.tabOrder?Ne.tabOrder>=0?_e.pos++:_e.neg--:null}},{})}(ue.visualContainers,Ye,Je),He=(0,n.UR)(),qe=[],rt=Re=>{var{layouts:re,parentGroup:se,prevName:Ae}=Re,ce=null!=se,Me=re.withId(Ye),$e=Me.position;if(s.fF.assert(()=>ct||(0,t.Vz)(Re),"Should not be processing groups when grouping is disabled"),(!ce||!ct)&&(Ae&&!_.isNil(Te[Ae])&&($e.z=Te[Ae]),qe.push(Re)),Ae&&!_.isNil(Xe[Ae])&&null!=$e.tabOrder&&(0,t.Vz)(Re)&&($e.tabOrder=Xe[Ae]),!ce){for(;2!==Z($e,Le)&&he($e,Ie);)$e.x+=10,$e.y+=10;Ie.push($e)}if(Re.layouts=(0,n.Br)([Me]),ae&&(0,t.Vz)(Re)){var st=(0,g.Dz)(De,ue,Re,Ye);He.push(st)}};if(ct)(0,t.Iw)(ee,Re=>rt(Re));else for(var me of ve)rt(me);if(ue.visualContainers.push(...ve||[]),ae&&at.visualContainers.push(...He||[]),ct){if(ue.visualContainerGroups=(0,d.IH)(ue.visualContainerGroups,...ee||[]),ae){var Ee=(0,g.C)(ee,He,Ye);at.visualContainerGroups=(0,d.IH)(at.visualContainerGroups,...Ee||[])}}else ue.visualContainerGroups=(0,d.IH)(ue.visualContainerGroups,...ve||[]),ae&&(at.visualContainerGroups=(0,d.IH)(at.visualContainerGroups,...He||[]));if(ke.publishVisualContainerAddedEvent(),tt&&y.UP.selectCanvasItems(qe,tt,!0),ut)for(var fe of qe)(0,t.Vz)(fe)&&ut.applyFilterOutput(fe);return qe}}}function Z(Je,De){var ue=De.width||0,_e=De.height||0,te=0;return Je.x+Je.width>ue&&(Je.x=Math.max(ue-Je.width,0),te++),Je.y+Je.height>_e&&(Je.y=Math.max(_e-Je.height,0),te++),te}function Q(Je,De,ue,_e,te,ke){return ne.apply(this,arguments)}function ne(){return(ne=(0,a.Z)(function*(Je,De,ue,_e,te,ke){var at;return at=Je.expr?yield te.addVisualContainer({expr:Je.expr,visualType:Je.visualType,targetRole:Je.targetRole,dataSources:_e,allowAggregate:Je.allowAggregate??!0,shouldSummarize:Je.shouldSummarize,startAuthoringAfterAddition:Je.startAuthoringAfterAddition},De,ue):te.addEmptyVisualContainer(De,ue,Je.visualType,Je.position,Je.shouldSummarize,void 0,void 0,Je.startAuthoringAfterAddition),ke.logEvent(V._rP,{source:le(Je.telemetrySource),visualType:(0,h.s)(at),visualName:at.name}),at})).apply(this,arguments)}function le(Je){switch(Je){case 0:return"CheckboxTickedInFieldList";case 3:return"DraggedToFieldWell";case 1:return"DraggedToCanvas";case 2:return"VisualTypeIconClicked";case 4:return"InsertVisualButton";case 5:return"WhatIfParameterControl";case 8:return"QnaAppBar";case 6:return"QnaDoubleClick";case 7:return"QnaKeyboardShortcut";case 9:return"FieldParameterControl";case 10:return"CanvasBackgroundContextMenu";case 11:return"AssistedCreation";case 12:return"Copilot";default:s.fF.assertFail("Unexpected enum value, update the VisualCreationSource to visualcontainer.VisualCreationType mapping")}}function he(Je,De){return s.fF.assertValue(Je,"position"),_.some(De,ue=>Je.x===ue.x&&Je.y===ue.y)}function Se(Je,De,ue){return{height:0,width:0,x:0,y:0,z:Ke(Je,De),tabOrder:je(ue,!0,De)}}function Ke(Je,De){return _.isEmpty(Je)?0:_.chain(Je).map(_e=>{var te=_e.layouts.withId(De),ke=te&&te.position;return ke&&ke.z||0}).max().value()+1}function je(Je,De,ue){if(!Je||_.isEmpty(Je.visualContainers))return 0;var _e=De?C.yM:C.ox;return _.forEach(Je.visualContainers,te=>{var ke=te.layouts.withId(ue),at=ke&&ke.position;if(at&&at.tabOrder){var tt=at.tabOrder;_e=De?Math.max(_e,tt):Math.min(_e,tt)}}),_e+(De?1:-1)}function de(Je,De,ue){for(var _e=0,te=0,ke=0,at=0,tt=null,ut=0,ct=0,Ne=ue.length;ct<Ne;ct++){ut=ct;var ae=ue[ct];if(ae===Je){var Le=ae.parentGroup,X=Le&&Le.layouts.withId(De);Le=X?Le:void 0,tt=(0,c.hP)(Pe(ae,De),De,Le);break}}if(tt){for(var be of(ue.splice(ut,1),ue)){var Ie=be.parentGroup,Ye=Ie&&Ie.layouts.withId(De);Ie=Ye?Ie:void 0;var ze=(0,c.hP)(Pe(be,De),De,Ie),ee=tt.x-ze.x;_e=_e<ee?ee:_e,te=te<(ee=ze.y+ze.height-(tt.y+tt.height))?ee:te,ke=ke<(ee=tt.y-ze.y)?ee:ke,at=at<(ee=ze.x+ze.width-(tt.x+tt.width))?ee:at}return{top:0-(ke>0?ke/tt.height:0),left:0-(_e>0?_e/tt.width:0),bottom:1+(te>0?te/tt.height:0),right:1+(at>0?at/tt.width:0)}}}function Pe(Je,De){var ue=Je.layouts.withId(De);return s.fF.assertValue(ue,"Can't find a visual layout for the current form factor."),ue&&ue.position}function Ve(Je){var De=y.UP.getSelectedCanvasItems(Je),ue={};for(var _e of De){var te=_e.parentGroup?_e.parentGroup.name:S;ue[te]=ue[te]||[],ue[te].push(_e)}return ue}function Ze(Je,De){return _.filter(Je,_e=>{var te=Pe(_e,0).tabOrder;return De?void 0===te||te>=0:te&&te<0})}function Ue(Je){var De=Je.getCurrentSection();return De&&De.evaluatedObjects&&De.evaluatedObjects.outspacePane&&De.evaluatedObjects.outspacePane.width||e.vg}},183976:function(Ce,k,r){r.d(k,{CZ:function(){return n},IA:function(){return c},MM:function(){return p},QZ:function(){return h},XB:function(){return d},_1:function(){return s},vX:function(){return C},xK:function(){return y},yY:function(){return i},zB:function(){return o}});var a=r(345969),e=r(939123),u=r(528836),t=r(140294);function C(l){return{solid:{color:y(l,(0,a.d9)())}}}function y(l,m){e.fF.assertValue(m,"gradientSettings");var V,v,f,b={color:(0,u.$_)(m.minColor,"minColor")},g=m.minValue;if(null!=g&&(V=(0,u.tx)(g)),m.diverging){v={color:(0,u.$_)(m.midColor,"midColor")};var S=m.midValue;null!=S&&(f=(0,u.tx)(S))}var D,P={color:(0,u.$_)(m.maxColor,"maxColor")},M=m.maxValue;null!=M&&(D=(0,u.tx)(M));var N,E=m.nullStrategy,w=m.nullColor,x={};return N=m.diverging?x.linearGradient3={min:b,mid:v,max:P}:x.linearGradient2={min:b,max:P},V&&(N.min.value=V),f&&(N.mid.value=f),D&&(N.max.value=D),E&&(N.nullColoringStrategy={strategy:(0,u.fL)(E)},E===t.Sx&&(N.nullColoringStrategy.color=(0,u.$_)(w,"nullColor"))),(0,u.x5)(l,x)}function i(l,m,b){var V;switch(b){case"number":V={condition:(0,u.qu)(3,l,(0,u.tx)(0)),value:(0,u.fL)(m)};break;case"text":V={condition:(0,u.qu)(0,l,(0,u.fL)("")),value:(0,u.fL)(m)};break;default:e.fF.assertNever(b)}return{solid:{color:(0,u.u7)([V])}}}var o="CircleHigh",c="Before",h="Top";function d(l,m="number"){switch(m){case"number":return{kind:"Icon",value:(0,u.u7)([n(l,67,100,!0,(0,u.fL)("CircleHigh")),n(l,33,67,!1,(0,u.fL)("SignMedium")),n(l,0,33,!1,(0,u.fL)("SignLow"))]),layout:(0,u.fL)(c),verticalAlignment:(0,u.fL)(h)};case"text":return{kind:"Icon",value:(0,u.u7)([s(l,(0,u.fL)("CircleHigh")),s(l,(0,u.fL)("SignMedium")),s(l,(0,u.fL)("SignLow"))]),layout:(0,u.fL)(c),verticalAlignment:(0,u.fL)(h)};default:e.fF.assertNever(m)}}function n(l,m,b,V,g){var v,f;return m>0&&(v=(0,u.qu)(2,l,u.LE.overRangeOf(l,m/100))),b<100&&(f=(0,u.qu)(V?4:3,l,u.LE.overRangeOf(l,b/100))),{condition:v&&f?(0,u.xD)(v,f):v||f,value:g}}function s(l,m){return{condition:(0,u.qu)(0,l,(0,u.fL)("")),value:m}}function p(l,m,b,V,g){var v,f;return null!==m&&(v=(0,u.qu)(2,l,(0,u.tx)(m))),null!==b&&(f=(0,u.qu)(V?4:3,l,(0,u.tx)(b))),{condition:v&&f?(0,u.xD)(v,f):v||f,value:g}}},578374:function(Ce,k,r){r.d(k,{L6:function(){return c},aI:function(){return o},ac:function(){return n},dw:function(){return p},uz:function(){return d}});var a=r(977849),e=r(270862),u=r(939123),t=r(528836),C=r(180084),y=r(931145),i={totalMatchingOption:1,reverseDirection:!1,hideText:!1};function o(m,b){return u.fF.assertValue(m,"visual"),u.fF.assertValue(b,"repetition"),c(s(m.objects,b))}function c(m){if(!m)return i;var b,V=m.minValue;V&&(b=V.value);var g,v=m.maxValue;v&&(g=v.value);var f=1,S=m.totalMatchingOption;return S&&(f=S.value),{minValue:b,maxValue:g,positiveColor:h(m.positiveColor),negativeColor:h(m.negativeColor),axisColor:h(m.axisColor),reverseDirection:m.reverseDirection.value,hideText:m.hideText.value,totalMatchingOption:f}}function h(m){var b=m.solid.color;return(0,e.A7)(b.value)?{solid:{color:b.value}}:null}function d(){return n(i,y.Ge.fromPrimitiveTypeAndCategory(12))}function n(m,b){var V,g,v;return u.fF.assertValue(m,"dataBars"),u.fF.assertValue(b,"valueType"),void 0!==m.minValue&&(V=l(m.minValue,b)),void 0!==m.maxValue&&(g=l(m.maxValue,b)),void 0!==m.totalMatchingOption&&(v=(0,t.cA)(m.totalMatchingOption)),{minValue:V,maxValue:g,positiveColor:(0,C.EV)(m.positiveColor&&m.positiveColor.solid.color,"maxColor"),negativeColor:(0,C.EV)(m.negativeColor&&m.negativeColor.solid.color,"minColor"),axisColor:(0,C.EV)(m.axisColor&&m.axisColor.solid.color,"foreground"),reverseDirection:(0,t.O7)(m.reverseDirection),hideText:(0,t.O7)(m.hideText),totalMatchingOption:v}}function s(m,b){return u.fF.assertValue(b,"objectRepetition"),(0,a.OT)(m,b)}function p(m,b){return u.fF.assertValue(b,"objectRepetition"),void 0!==s(m,b)}function l(m,b){if(u.fF.assert(()=>b.integer||b.numeric,"databars only supports numeric SQExprs"),b.integer){var V=Math.round(m);return(0,t.cA)(V)}return 2===b.primitiveType?(0,t.gH)(m):(u.fF.assert(()=>259===b.extendedType,"Unexpected data type."),(0,t.tx)(m))}},2059:function(Ce,k,r){r.d(k,{O6:function(){return t},UX:function(){return C},fe:function(){return u},jx:function(){return e}});var a={BlockedCustomVisual:1,ScriptVisualsNotEnabled:1,UnapprovedCustomVisual:1,CvApiVersionNotSupported:1,AzureMapUserNotSignedIn:1,AzureMapNoEndpoint:1,AzureMapDisabledLocalCache:1};function e(y){if(!y)return!1;var i=y.displayableErrorInfo;return!_.isEmpty(i)&&!_.isEmpty(i[0].errorInfoKey)&&!_.isEmpty(i[0].errorInfoValue)}function u(y){return y in a?a[y]:0}function t(y){return 1===u(y)}function C(y,i){var o=[],c=y.message,h=i;if(e(y)&&(h=y.displayableErrorInfo[0].errorInfoKey,c=y.displayableErrorInfo[0].errorInfoValue,y.displayableErrorInfo.length>1))for(var d=1;d<y.displayableErrorInfo.length;d++)o.push(y.displayableErrorInfo[d]);return{title:h,message:c,displayableErrorInfo:o,debugErrorInfo:y.debugErrorInfo,source:y.source,hideErrorHelperText:y.hideErrorHelperText}}},247853:function(Ce,k,r){function a(u){if(u){var y=(u.originalEvent??u).handled;return void 0!==y&&!0===y}}function e(u){u&&((u.originalEvent??u).handled=!0)}r.d(k,{n:function(){return e},q:function(){return a}})},132101:function(Ce,k,r){r.d(k,{O:function(){return y},Q3:function(){return t},QR:function(){return C},UO:function(){return c},_A:function(){return i},ku:function(){return o}});var a=r(990121),e=r(939123),u=r(751934);function t(h,d,n,s){var p=_.filter(n.filters,l=>5===l.howCreated);h.logChildEvent(s&&s.event,u.gEB,{type:d,countOfCurrentPageDrillthroughFilters:p.length})}function C(h){var d;switch(h&&(d=h.kind),d){case 0:return"Entity";case 2:return"ColumnRef";case 3:return"MeasureRef";case 4:return"Aggregation";case 5:return"PropertyVariationSource";case 6:return"Hierarchy";case 7:return"HierarchyLevel";case 46:return"Sparkline";case 47:return"VisualCalculation";default:return"Other"}}function y(h){switch(h){case a.vA.Advanced:return"Advanced";case a.vA.Categorical:return"Categorical";case a.vA.Passthrough:return"Passthrough";case a.vA.Range:return"Range";case a.vA.Visual:return"Visual";case a.vA.VisualTopN:return"VisualTopN";default:e.fF.assert(()=>!0,"unknown filterType "+h)}}function i(h){switch(h){case 2:return"Exploration";case 1:return"Section";case 0:return"Visual";default:e.fF.assert(()=>!0,"unknown filterScopeType "+h)}}function o(h){switch(h){case 0:return"View";case 1:return"Edit"}}function c(h){switch(h){case 1:return"Ascending";case 2:return"Descending";case 3:return"Custom"}}},574931:function(Ce,k,r){r.d(k,{CH:function(){return g},HD:function(){return f},JH:function(){return E},JN:function(){return l},PJ:function(){return b},Rh:function(){return M},Z:function(){return s},eW:function(){return p},jU:function(){return L},ku:function(){return D},pg:function(){return B},uE:function(){return S}});var a=r(883803),e=r(704731),u=r(456774),t=r(184437),C=r(894146),y=r(224015),i=r(159214),o=r(98448),c=r(939123),h=r(737466),d=r(399338),n=r(105179);function s(I,W,O,F,A,T){if(2===I.scope.scopeType&&(c.fF.assertValue(O,"no exploration on report filter change"),(0,i.oU)(O)),1===I.changeType||2===I.changeType&&!function(I,W){for(var O of W)if(O.contract===I)return!0;return!1}(I.filter,W)){var R=(0,i.cj)(T,F.visualPlugin),U=(0,n.fw)(I.filter,A,F.displayNameService,I.scope,F.visualPlugin,F.aggrOps,F.localizationService,R,T&&T.config.singleVisual);f(U,F.explorationNavigation),0===I.scope.scopeType&&I.scope.container!==T||(W.push(U),g(W,A,F.dataSources,F.visualAuthoring))}else 0===I.changeType&&_.remove(W,z=>z.contract===I.filter);!function(I,W){var O=I.explorationNavigation,F=O.getCurrentExploration(),A=O.getCurrentSection(),T=W.scope.scopeType,R=u.UP.getSelectedVisual(I.selection),U=(0,y.R2)(T,F,A,R,I.scriptVisuals);if(!_.isEmpty(U)){var z=W.changeType.toString();I.telemetryService.logChildEvent(W.parentActivity&&W.parentActivity.event,o.bD,{action:z,visualIds:JSON.stringify(U)})}}(F,I)}function p(I,W,O,F,A,T,R,U,z){return I.displayName?I.displayName:(0,n.fw)(I,O,A,W,R,F,T,U,z).displayName}function l(I,W){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)(function*(I,W){var O=I.explorationNavigation.getCurrentSection(),F=[];if(!O)return F;var A=yield b(I.dataSources,I.conceptualSchemaProxy);return g(F=(0,d.yU)({scopeType:1,container:O},A,I.displayNameService,I.visualPlugin,I.aggrOps,I.localizationService,null,W),A,I.dataSources,I.visualAuthoring,!1),function(I,W){if(!_.isEmpty(I))for(var O of I)f(O,W)}(F,I.explorationNavigation),F})).apply(this,arguments)}function b(I,W){return V.apply(this,arguments)}function V(){return(V=(0,a.Z)(function*(I,W){var O=I.get();if(O)return yield W.get(O)})).apply(this,arguments)}function g(I,W,O,F,A=!0){if(!_.isEmpty(I)){var T=O.get();F.addConfigToCategoricalFilters(I,W,T,A)}}function f(I,W){var O=W.getCurrentExploration(),F=W.getCurrentSection();if(F){var A=(0,C.Iv)(O,F.name);if(A&&!_.isEmpty(A.parameters)){var T=_.find(A.parameters,R=>R.boundFilter===I.contract.name);T&&I.updateIsLinkedAsAggregation(!!T.asAggregation)}}}function S(I,W,O,F,A,T,R,U){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)(function*(I,W,O,F,A,T,R,U){if(A){var z={scopeType:I,container:W},j=F.get();return O?yield T.addDrillthroughFilter(A,z,j,R):yield T.addFilter(A,z,j,U)}})).apply(this,arguments)}function D(I,W,O,F,A,T){var R=_.find(O.filters,z=>z.name===I);return!!R&&F.removeFilter(R,{scopeType:W,container:O},A,T)}function M(I,W,O,F){if(!_.isEmpty(O)&&(10===F.changeType||1===F.changeType||2===F.changeType||0===F.changeType)){var A=x(F.scope.scopeType,5===F.filter.howCreated);for(var T of O)if(!(A<x(W,5===T.howCreated))&&t.l.isCategoricalFilter(T.contract.type)&&T.contract!==F.filter){var U={filter:T.contract,changeType:4,scope:T.getFilterContainerScope(),parentActivity:F.parentActivity};I.eventBridge.publishToChannel(e.Tuj,U)}}}function E(I,W,O){if(!W||/^\s*$/.test(W))return!1;var F=I.contract.displayName||I.displayName;return _.isEmpty(F)&&(F=I.getRestatement()),!(0,h.ms)(F,W)}function x(I,W){return 0===I?0:1!==I||W?1===I?2:2===I?3:-1:1}function L(I,W=1,O=!0){if(!_.isEmpty(I))switch(W){case 1:I.sort(d.L2);break;case 2:I.sort(d.L2).reverse();break;case 3:O&&I.sort(d.n5)}}function B(I,W,O){if(_.isEmpty(I))return[];var[F,A]=null==O?[[],I]:_.partition(I,T=>O(T));return L(A,W),L(F,W,!1),_.concat(A,F).map(T=>T.contract)}},522212:function(Ce,k,r){function a(e){var u=$(document.activeElement);return u.is(e)||u.closest(e).length>0}r.d(k,{y:function(){return a}})},759143:function(Ce,k,r){r.d(k,{Iq:function(){return o},MO:function(){return n},Y9:function(){return h},b:function(){return i},p$:function(){return c}});var a=r(347293),e=r(404447),u=r(894146),t=r(359155),C=r(943856),y=r(879131),i={[e.t.Dynamic]:{displayOption:0,width:a.Z9,height:a.LU},[e.t.Standard]:{displayOption:1,width:a.Z9,height:a.LU},[e.t.Widescreen]:{displayOption:1,width:a.$z,height:a.az},[e.t.Cortana]:{displayOption:3,width:a.yL,height:a.QZ},[e.t.Letter]:{displayOption:1,width:a.lr,height:a.to},[e.t.Tooltip]:{displayOption:1,width:a.R6,height:a.h8},[e.t.Custom]:{displayOption:3,width:a.Z9,height:a.LU}};function o(p,l){var m=[];for(var b of p)m.push({...b,value:`${b.value}`,displayName:(0,C.Gf)(b.displayName,l),label:b.label?(0,C.Gf)(b.label,l):null});return m}function c(p=!1){var l=(0,t.p$)(p),m=[];for(var b of l)m.push({displayName:b.title,value:b.value.toString()});return m}function h(p,l){return function(p,l,m){if(0===p.displayOption)return e.t.Dynamic;if(p.width===a.Z9&&p.height===a.LU)return e.t.Standard;if(p.width===a.$z&&p.height===a.az)return e.t.Widescreen;if(y.s.isCortanaPageSize(p)){var b=(0,u.Ae)(l,m.name);return-1!==b&&l.pods[b].cortanaEnabled?e.t.Cortana:e.t.Custom}return p.width===a.lr&&p.height===a.to?e.t.Letter:function(p){return p.width===a.R6&&p.height===a.h8}(p)?e.t.Tooltip:e.t.Custom}(p,l.getCurrentExploration(),l.getCurrentSection())}function n(p){return i[p]}},58128:function(Ce,k,r){r.d(k,{EI:function(){return y},Gy:function(){return C},e6:function(){return t}});var a=r(257738),e=r(953474),u=r(159214);function t(i){return _.some((0,u.oJ)(i),o=>(0,e.tO)(o.expr))}function C(i,o,c){var h=(0,u.oJ)(o);if(!_.isEmpty(h)){var d=(0,u.Xf)(o),n=function(){var p=s.expr;if((0,e.tO)(p)){var l=p.measure,m=d.getRoleNameForExpr(p),b=_.chain(d.tryGetExprs(m)).map((V,g)=>({expr:V,index:g})).filter(V=>(0,a.fS)(V.expr,p)).map(V=>V.index).value();_.forEach(b,V=>c.replaceField(i,l,m,V,o))}};for(var s of h)n()}}function y(i,o){return{groupingType:(h=>{if(h)return h.dateTime||h.temporal?"Date":h.numeric?"Numeric":"Categorical"})(i.grouping[0].getMetadata(o)?.type),measureType:(0,e.iV)(i.measure)?"Aggregate":"Measure"}}},342830:function(Ce,k,r){r.d(k,{LR:function(){return l},vC:function(){return d},yY:function(){return h}});var a=r(883803),e=r(971586),u=r(471848),t=r(187220),C=r(138038),y=r(939123),i=r(454865),o=r(185527),c=r(181012);function h(m,b,V,g,v,f){if(m&&b){var S=m.getAdapter();S&&g&&S.update({viewport:b,suppressAnimations:!0,dataViews:m.getDataViews(),type:V,resizeMode:f,viewMode:g.getViewMode(),editMode:v})}}function d(m,b,V,g,v,f,S,P,D,M){var x,E=new e.t(1),w={getType:()=>m.type,setType:x=>m.type=x,getViewport:()=>m.viewport,setViewport:(x,N)=>{m.viewport=x,N&&h(w,x,i.EP.Resize,b,V)},getData:()=>m.data,getAdapter:()=>m.visual,getDataViews:()=>m.dataViews,setDataViews:x=>m.dataViews=x,getDataTransforms:()=>m.dataTransforms,setThemeCollection:x=>m.themeCollection=x,getIsInFocus:()=>m.isInFocus,setIsInFocus:x=>m.isInFocus=x,setData:(x,N,L)=>{m.data=x,m.dataAppliedEvent&&(m.dataAppliedEvent.reject(),m.dataAppliedEvent=void 0),m.performanceActivity&&(m.performanceActivity.cancel(!0),m.performanceActivity=void 0),m.dataAppliedEvent=N,m.performanceActivity=L},setDataTransforms:x=>m.dataTransforms=x,setPendingSelection:x=>m.pendingSelection=x,hasPendingSelection:()=>!!m.pendingSelection,setAdditionalObjectUpdates:x=>m.additionalObjectUpdates=x,setIsDisabled:x=>m.isDisabled=x,getIsDisabled:()=>m.isDisabled,setIsDisabledIfUncertified:x=>m.isDisabledIfUncertified=x,getIsDisabledIfUncertified:()=>m.isDisabledIfUncertified,setReportId:x=>m.reportId=x,getErrorInfo:()=>m.errorInfo,getErrorInfo$:()=>E.asObservable(),setErrorInfo:x=>{m.errorInfo=x,E.next(x)},getWarnings:()=>s(m),getWarnings$:()=>b?b.getWarnings$():(0,u.of)({}),setWarnings:(x,N,L)=>p(m,x,N,L),getDataBoundObjectWarnings:()=>m.dataBoundObjectWarnings,resetWarnings:(x=!1)=>{x&&(m.dataBoundObjectWarnings={}),m.warnings=void 0},getHasPendingChanges:()=>m.hasPendingChanges,setHasPendingChanges:x=>m.hasPendingChanges=x,getHasUnappliedFilterChanges:()=>m.hasUnappliedFilterChanges,setHasUnappliedFilterChanges:x=>m.hasUnappliedFilterChanges=x,getSelectedDatapoints:()=>m.selectedDatapoints,setSelectedDatapoints:(x,N)=>function(m,b,V,g,v){var f=m.visual;y.fF.assert(()=>!b.pendingSelection&&!m.pendingSelection,"There should be no pending selection when setSelectedDatapoints is called"),g&&(f&&f.visualHasMethod&&f.visualHasMethod("onRestoreSelection")?f.onRestoreSelection({selection:V}):(p(m,[new c.z]),v&&v(s(m)))),m.selectedDatapoints=V}(m,g,x,N,S),clearSelectedDatapoints:x=>{m.selectedDatapoints=void 0;var N=m.visual;N&&N.onClearSelection&&N.onClearSelection(),v.selectDataPoint(f,[],void 0,x,1)},getSubSelectionStyles:(x=(0,a.Z)(function*(N){if(D){var L=yield D.getSubSelectionStyles(N);if(L)return L}return yield m.visual?.getSubSelectionStylesAsync?.(N)??m.visual?.getSubSelectionStyles?.(N)}),function(L){return x.apply(this,arguments)}),getSubSelectionShortcuts:function(){var x=(0,a.Z)(function*(N,L){if(D&&!L){var B=D.getSubSelectionShortcuts(N,L);if(B)return B}return yield m.visual?.getSubSelectionShortcutsAsync?.(N,L)??m.visual?.getSubSelectionShortcuts?.(N,L)});return function(L,B){return x.apply(this,arguments)}}(),getSubSelectables:function(){var x=(0,a.Z)(function*(N){var L=[],B=yield m.visual?.getSubSelectablesAsync?.(N)??m.visual?.getSubSelectables?.(N);if(B&&L.push(...B),D){var I=D.getSubSelectables(N);I&&L.push(...I)}return 0!==L.length?L:void 0});return function(L){return x.apply(this,arguments)}}(),onDataViewObjectChanged:(x,N,L)=>{if(L){if(!m.visual||!m.visual.visualHasMethod("onDataViewObjectChanged"))return x;var B=m.visual.onDataViewObjectChanged(x,N);if(B)return B}else if(M){var I=M.onDataViewObjectChanged(x,N);if(I)return I}return[]}};return P&&(w.sortServices=P),w}function s(m){var b,V=m.warnings,g=m.dataBoundObjectWarnings;if(b=V?_.cloneDeep(V):{},!_.isEmpty(g))for(var v in b.visualObjectWarnings||(b.visualObjectWarnings={}),g){var f=b.visualObjectWarnings[v];f?f.push(...g[v]||[]):b.visualObjectWarnings[v]=g[v]}return b}function p(m,b,V,g){if(_.isArray(b)){var v=_.filter(b,E=>!(E instanceof C.L));if(_.isEmpty(v)){m.dataBoundObjectWarnings||(m.dataBoundObjectWarnings={});var f=_.filter(b,E=>E instanceof C.L);for(var S of f){var P=S.propertyId.objectName;if(!V||!(0,o.zo)(P,V,g)){var D={selector:S.selector,warnings:[S]},M=m.dataBoundObjectWarnings[P];M?M.push(D):m.dataBoundObjectWarnings[P]=[D]}}}else y.fF.assert(()=>v.length===b.length,"setWarnings - Received a mix of DataBoundExprWarning and non-DataBoundExprWarning warnings"),m.warnings={warnings:v}}else m.warnings=b}function l(m,b,V){if((0,t.q4)(V))return!1;var g=V?.config.singleVisual;if(g){var v=g.visualType,f=m.capabilities(v);return!(g.query||!b.isQueryVisual(v)||"debugVisual"===v||f&&f.supportsLandingPage)}return!0}},664915:function(Ce,k,r){function a(){return{getFilters:()=>({dataFilter:null,dataFiltersUnmerged:null}),getDataSourceVariables:()=>{},getVisualRelationshipFilterAction:()=>0,selectDataPoint:_.noop,setVisualRelationshipFilterAction:_.noop}}r.d(k,{E:function(){return a}})},158038:function(Ce,k,r){r.d(k,{UM:function(){return S}});var a=r(147597),e=r(862154),u=r(96795),t=r(275043),C=r(356542),y=r(503934),i=r(856632),o=0,c=11,h={size:t.dz.titleFontProperties.size,family:t.dz.titleFontProperties.family},d={size:t.dz.valueFontProperties.size,family:t.dz.valueFontProperties.family},n={size:t.dz.titleFontProperties.size,family:y.Wn.regular.css},s=t.dz.titleFontProperties.color,p=t.dz.valueFontProperties.color,l=t.dz.background.solid.color,m=t.dz.actionFontProperties.color;function S(w,x,N,L){var{actionFontColor:B,backgroundColor:I,titleFontColor:W,valueFontColor:O}=function(w,x,N){var L,B,I,W,O=!(!w||!(w.titleFontColor||w.valueFontColor||w.background));return x&&!O?(L=D(M(w&&w.themedTitleFontColor),a.v.getThemeColor(N,C.fA)),B=D(M(w&&w.themedValueFontColor),a.v.getThemeColor(N,C.fA)),I=D(M(w&&w.themedBackground),a.v.getThemeColor(N,C.U)),W=D(M(w&&w.actionFontColor),a.v.getThemeColor(N,C.fA))):x&&O?(L=D(D(M(w&&w.themedTitleFontColor),M(w&&w.titleFontColor)),s),B=D(D(M(w&&w.themedValueFontColor),M(w&&w.valueFontColor)),p),I=D(D(M(w&&w.themedBackground),M(w&&w.background)),l),W=D(M(w&&w.actionFontColor),L)):(L=D(M(w&&w.titleFontColor),s),B=D(M(w&&w.valueFontColor),p),I=D(M(w&&w.background),l)),{actionFontColor:W,backgroundColor:I,titleFontColor:L,valueFontColor:B}}(L,x,w);void 0===B&&N&&(B=x?m:W);var F=void 0!==B?E(L,x,N,w,n,B):void 0;return{titleFontProperties:E(L,x,N,w,h,W),valueFontProperties:E(L,x,N,w,d,O),actionFontProperties:F,discoverabilityFontProperties:x?_.clone(F):void 0,background:{solid:{color:I}},transparency:L?.transparency??(x?o:t.dz.transparency),hoverColor:a.v.getThemeColor(w,C.Xy),dividerColor:a.v.getThemeColor(w,C.Xy)}}function D(w,x){return void 0===w?x:w}function M(w){if(w){if(null===w.solid)return null;if(w.solid)return w.solid.color}}function E(w,x,N,L,B,I){var A={size:"fontSize",family:"fontFamily",bold:(0,i.N)(w,"bold")?"bold":void 0,italic:(0,i.N)(w,"italic")?"italic":void 0,underline:(0,i.N)(w,"underline")?"underline":void 0},T=x?(0,e.Zi)(w,A,void 0,L,void 0,"label",B):(0,e.XH)(w,A,void 0,void 0,B),R=(0,e.ED)(T,{color:I});return N&&(R=(0,e.ED)(R,{size:u.B.createFromPt(c)})),(0,e.xH)(R)}},633669:function(Ce,k,r){r.d(k,{N:function(){return e}});var a=r(129593);class e{sortEntities(t){}sortProperties(t){t&&t.sort((C,y)=>(0,a.ve)(C.displayName,y.displayName))}}},736844:function(Ce,k,r){r.d(k,{I:function(){return e},c:function(){return a}});class a{constructor(t){this.oldItems=t,this.newItems=[]}add(...t){return!!t&&(t=_.filter(t,C=>!!C),this.newItems.push(...t||[]),!0)}merge(t){t&&(this.newItems=_.filter(this.newItems,t));var C=this.oldItems;return C?C.splice(0,C.length,...this.newItems||[]):_.isEmpty(this.newItems)||(C=this.newItems),C}}class e{constructor(t,C){this.vmLookup=this.getPropertiesDictionary(t),this.renames=this.getRenamesDictionary(t,C)}findVms(t,C,y){var i=this.getKey(t,C,y);return this.vmLookup[this.renames[i]||i]}getPropertiesDictionary(t){var C=_.clone(t.properties);for(var y of t.columnsAndMeasures)C.push(y);for(var i of t.hierarchies)C.push(i);for(var o of t.displayFolders)C.push(o),C.push(...o.getAllChildren()||[]);return C=_.uniq(C),_.groupBy(C,h=>this.getVmKey(h))}getRenamesDictionary(t,C){var y={},i=_.filter(C,n=>n.propertyRename&&n.propertyRename.entity===t.name);for(var o of i){var c=this.getFieldType(o.propertyRename.objectType),h=this.getKey(o.propertyRename.schema,o.propertyRename.before,c);y[this.getKey(o.propertyRename.schema,o.propertyRename.after,c)]=h}return y}getVmKey(t){return this.getKey(t.schemaName,t.name,t.fieldType)}getKey(t,C,y){return C+":"+y+(t?"|"+t:"")}getFieldType(t){switch(t){default:return 0;case"KPI":return 4;case"Hierarchy":return 2;case"Level":return 3}}}},323408:function(Ce,k,r){r.d(k,{d:function(){return C}});var a=r(301199),e=r(939123),u=r(517273),t=r(286065);class C{constructor(i,o){e.fF.assertValue(i,"field"),this.field=i,this.conditions=[],this.operators=[],this.logicalOperator=2,this.logicalAndOperator=0,this.logicalOrOperator=1,this.filterRestatementGenerator=new a.wd(o),this.filterOperatorFactory=new a.Vl(o)}toSQExpr(i){var o=this.field,c=o.getMetadata(i);if(e.fF.assertAnyValue(c,"metadata"),c){var h=c.type,d=u.m.hasMappedMParameter(o,i);return(0,t.d_)(o,h,this.conditions,this.logicalOperator,d)}}getRestatement(i){return this.filterRestatementGenerator.fromCondition(this.conditions,this.logicalOperator,i)}areConditionsValid(i,o){var c=this.conditions;if(_.isEmpty(c))return!1;for(var h=0,d=c.length;h<d;h++){var n=c[h];if(null!=n.operator&&0!==n.operator){if((!i||n.value&&n.value.hasValue)&&((0,a.AJ)(n.operator)&&n.value&&!n.value.hasValue||o&&!this.isConditionValid(o,n)))return!1}else if(h<d-1)return!1}return!0}loadOperators(i,o,c){var h=this.filterOperatorFactory.tryGetExprFilterOperators(this.field,i,o,c);h.hasError||(this.operators=h.operators)}ensureConditions(i,o){var c=this.operators,h=0;this.conditions||(this.conditions=[]),_.isEmpty(this.conditions)&&!_.isEmpty(c)&&this.conditions.push(new a.gP(c[0].value));var d=2;if(i){h=o?1:2,d=o?2:1;var n=!this.filterOperatorFactory.isOperatorForColumnMappedToMParameter(this.conditions[0].operator);(0===this.logicalOperator||n||this.conditions.length>1&&!o)&&(this.conditions=[new a.gP(9)],this.logicalOperator=h)}for(;this.conditions.length<d;)this.conditions.push(a.gP.empty()),this.logicalOperator=h}isConditionValid(i,o){return(0,t.Ek)(this.field,i,o)}}},286065:function(Ce,k,r){r.d(k,{Ek:function(){return i},d_:function(){return y}});var a=r(184437),e=r(939123),u=r(528836),t=r(334673),C=/[0-9]*\.?[0-9]+%/;function y(h,d,n,s=0,p=!1){var m,l=new c(h,d,s,p);for(var b of n)null==b.operator||0===b.operator||(m=b.accept(l));return m}function i(h,d,n){if(!d)return!1;var s=a.l.getValueType(h,d);if(!s)return!1;var p=new c(h,s,void 0);return null!=n.accept(p)}class c{constructor(d,n,s,p=!1){this.propertyExpr=d,this.dataType=n,this.logicalOperator=s,this.isMappedToMParameter=p}visit(d){var n=this.expandExpr(d);return n&&(this.result?0===this.logicalOperator?this.result=(0,u.xD)(this.result,n):1===this.logicalOperator?this.result=(0,u.or)(this.result,n):e.fF.assertFail("Logical operator is not set for multiple conditions."):this.result=n),this.result}expandExpr(d){var n,s=11!==d.operator&&12!==d.operator&&13!==d.operator&&14!==d.operator;if(s&&(n=this.getValueExpr(d)),n||!s)switch(d.operator){case 9:return(0,u.qu)(0,this.propertyExpr,n);case 10:return(0,u.ff)((0,u.qu)(0,this.propertyExpr,n));case 11:return(0,u.qu)(0,this.propertyExpr,(0,u.IF)());case 12:return(0,u.ff)((0,u.qu)(0,this.propertyExpr,(0,u.IF)()));case 5:return(0,u.r3)(this.propertyExpr,n);case 6:return(0,u.ff)((0,u.r3)(this.propertyExpr,n));case 7:return(0,u.Ny)(this.propertyExpr,n);case 8:return(0,u.ff)((0,u.Ny)(this.propertyExpr,n));case 3:return(0,u.qu)(1,this.propertyExpr,n);case 4:return(0,u.qu)(2,this.propertyExpr,n);case 1:return(0,u.qu)(3,this.propertyExpr,n);case 2:return(0,u.qu)(4,this.propertyExpr,n);case 13:return(0,u.qu)(0,this.propertyExpr,(0,u.fL)(""));case 14:return(0,u.ff)((0,u.qu)(0,this.propertyExpr,(0,u.fL)("")));default:e.fF.assertFail("Not valid filter operator type.")}}getValueExpr(d){return function(h,d,n=!1){if(h.value){var s=h.value.stringValue;if((d.integer||d.numeric)&&s){var p=t.dx.parseFloat(s);return isNaN(p)?void 0:(s.match(C)&&(p/=100),2===d.primitiveType?(0,u.gH)(p):_.isInteger(p)?(0,u.cA)(p):(0,u.tx)(p))}if(d.text&&s)return(0,u.fL)(s);if(d.dateTime){var l=h.value.dateValue;if(l)return n?(0,u.CQ)(l):(0,u.uQ)(5,(0,u.CQ)(l))}}}(d,this.dataType,this.isMappedToMParameter)}}},272125:function(Ce,k,r){r.d(k,{C:function(){return e}});var a=r(119412);function e(t,C,y,i,o,c){return{parentContract:t,visual:{viewport:c?y:a.j.adjustViewport(t.detailVisualLayout,y,i),themeCollection:C,allowInvalidDataView:!0,hostServices:null,visualName:t.name+"-detail"},hasData:!1}}},322563:function(Ce,k,r){r.d(k,{U:function(){return e},y:function(){return u}});var a=r(928948),e={phoneWidth:a.Co,phoneHeight:a.aW,phoneGridLayout:{columnCount:a.VA,rowCount:a.kV,newVisualCellCount:{width:6,height:6}}};class u{constructor(C,y=0){this.selectedVisualOriginalPosition=-1,this.contract=C,this.canvasLayout=y}get width(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.width:e.phoneWidth}get height(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.height:e.phoneHeight}}},350437:function(Ce,k,r){r.d(k,{Jg:function(){return l},N6:function(){return n},NJ:function(){return m},P_:function(){return o},Tl:function(){return d},UZ:function(){return b},Wx:function(){return i},_u:function(){return p},e:function(){return c},lb:function(){return s},wf:function(){return V}});var a=r(953474),e=r(939123),u=r(265230),t=r(564619),C=r(895127),y=r(132126),i=(g,v,f)=>{var S=v?"_paneColorRefresh":"",P=g.fieldType;if(1===P)return"fieldListFolder"+S;if(5===P)return"none";if(2===P)return"fieldListHierarchy"+S;if(6===P)return"fieldListMeasure"+S;if(1===g.contract.queryable)return"fieldListError"+S;if(1===g.kind)return g.contract.measure&&g.contract.measure.kpi&&4===g.fieldType?"fieldListKpi"+S:g.contract.measure&&g.contract.measure.changeDetectionMetadata?"fieldListChangeDetection"+S:"fieldListMeasure"+S;if(void 0!==g.contract.type&&void 0!==g.contract.type.geography)return"fieldListGeoData"+S;if(0===g.kind){var D=g.contract.column;if(D){if(D.parameterMetadata)return"fieldListParameter"+S;if(D.groupingMetadata)return"fieldListGroup"+S;if(D.calculated)return g.type&&g.type.numeric?"fieldListNumericCalculatedColumn"+S:"fieldListCalculatedColumn"+S;if(!_.isEmpty(D.variations)&&g.type.dateTime)return"fieldListCalendar"+S}if(g.idOnEntityKey)return"fieldListIdentity"+S}return g.type&&g.type.numeric&&1!==g.defaultAggregate&&f?"fieldListNumeric"+S:"none"},o=(()=>{class g{get name(){return this.contract.name}get canEdit(){return this.contract.capabilities.canEdit&&!this.disableEditing}get canCreateColumn(){return this.canEdit&&!1!==this.contract.capabilities.supportsCalculatedColumns}constructor(f){e.fF.assertValue(f,"contract"),this.contract=f,this.showCheckboxes=!0,this.entities=[]}findEntity(f){return _.find(this.entities,S=>S.name===f)}findFields(f,S,P){var D=this.findEntity(f);if(D)return D.findFields(S,P)}findHierarchies(f,S,P){var D=this.findEntity(f);if(D)return D.findHierarchies(S,P)}findKpis(f,S,P){var D=this.findEntity(f);if(D)return D.findKpis(S,P)}findKpiMeasures(f,S,P){var D=this.findEntity(f);if(D)return D.findKpiMeasures(S,P)}findItems(f){var S=[];if((0,a.Im)(f)||(0,a.tO)(f))return S;var P=(0,C.Q)(f),D=(0,t.pV)(P);if(P){var M=P.hierarchyLevel||P.hierarchyLevelAggr;if(M){e.fF.assert(()=>1===_.size(D),"hierarchy level should only have 1 underlying entity");var E=this.findHierarchies(D[0].entity,M.name,M.schema);if(E)for(var w of E)for(var x of(S.push(w),w.hierarchyLevels))x.name===M.level&&S.push(x)}else if(P.columnHierarchyLevelVariation){var N=P.columnHierarchyLevelVariation.source.name;e.fF.assert(()=>1===_.size(D),"variations should only have 1 underlying entity");var L=this.findFields(D[0].entity,N,D[0].schema);if(!L)return S;for(var B of L){S.push(B);var I=B.properties;if(I)for(var W of I)if(W instanceof l&&W.name===P.columnHierarchyLevelVariation.level.name)for(var O of(S.push(W),W.hierarchyLevels))O.name===P.columnHierarchyLevelVariation.level.level&&S.push(O)}}else{var F=(0,t.gz)(P);e.fF.assert(()=>!F||_.size(D)===_.size(F),"There should be equal number of properties and entities");for(var A=0;A<D.length;A++){var T=D[A],R=F?.[A],U=this.findFields(T.entity,R,T.schema)||this.findKpiMeasures(T.entity,R,T.schema);if(U)for(var z of U)S.push(z)}}}return S}static getUniqueId(){return g._uid++}}return g._uid=0,g})();class c{get name(){return this.contract.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return this.contract.errorMessage}get calculated(){return this.contract.calculated}get iconClassName(){return 1===this.contract.queryable?"fieldListError":this.calculated?"fieldListEntityCalculated":this.isMeasureGroup?"fieldListMeasureGroup":void 0}get hidden(){return(0,u.yE)(this.contract.visibility,1)&&_.every(this.properties,v=>!v.isExtension||v.hidden)}set hidden(v){this.contract.visibility=v?(0,u.mB)(this.contract.visibility,1):(0,u.AS)(this.contract.visibility,1)}get canEdit(){return this.contractSchema.capabilities.canEdit&&!this.schema.disableEditing&&!(0,y.jX)(this.contract)}get private(){return(0,u.yE)(this.contract.visibility,4)}get showAsVariationsOnly(){return(0,u.yE)(this.contract.visibility,2)}get showHidden(){return this.schema.showHidden}get canRefresh(){return this.canEdit&&this.contract.capabilities.canRefresh}get canHaveMeasures(){return this.contract.capabilities.canHaveMeasures}get canEditEntity(){return this.canEdit&&!this.calculated&&this.contract.capabilities.canEditSource}get canDelete(){return this.canEdit&&this.contract.capabilities.canDelete}get canRename(){return this.canEdit&&this.contract.capabilities.canRename}constructor(v,f,S){this.hasCheckedProperties=!1,e.fF.assertValue(v,"contract"),e.fF.assertValue(f,"contractSchema"),e.fF.assertValue(S,"schema"),this.contract=v,this.contractSchema=f,this.schema=S,this.properties=[],this.columnsAndMeasures=[],this.hierarchies=[],this.displayFolders=[]}findFields(v,f){return this.findFieldsByType(v,f,0)}findKpis(v,f){return this.findFieldsByType(v,f,4)}findKpiMeasures(v,f){return this.findFieldsByType(v,f,5)}findHierarchies(v,f){return this.findFieldsByType(v,f,2)}findFieldsByType(v,f,S){var P=[];for(var D of(2===S?P.push(..._.filter(this.hierarchies,E=>E.name===v&&E.schema.name===f)):P.push(..._.filter(this.properties,E=>E.name===v&&E.fieldType===S&&E.schemaName===f)),this.displayFolders))for(var M of _.filter(D.getAllChildren(),E=>E.name===v&&E.fieldType===S))P.indexOf(M)<0&&P.push(M);if(!_.isEmpty(P))return P}get userEntity(){return!(this.private||this.showAsVariationsOnly)}}class h{get children(){return this._children}set children(v){this._children=v}get name(){return this.contract.name}get schemaName(){return this.schema.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return null}get visible(){return!this.parent||this.parent.expanded&&this.parent.visible}get hidden(){return this.contract.hidden}set hidden(v){this.contract.hidden=v}get showHidden(){return this.entity.showHidden}get canEdit(){return!this.variation&&this.schema.capabilities.canEdit&&!this.entity.schema.disableEditing}get disableDragging(){return this.entity.schema.disableDragging}get disableSelectionOnFocus(){return this.entity.schema.disableSelectionOnFocus}get showCheckboxes(){return this.entity.schema.showCheckboxes}get isExtension(){return!1}constructor(v,f,S){this.hasCheckedChildren=!1,e.fF.assertValue(v,"contract"),e.fF.assertValue(f,"schema"),e.fF.assertValue(S,"entity"),this.contract=v,this.schema=f,this.entity=S,this.id=o.getUniqueId()}}class d extends h{get kind(){return this.contract.kind}get defaultAggregate(){return this.contract.column?this.contract.column.defaultAggregate:null}get type(){return this.contract.type}get idOnEntityKey(){return!!this.contract.column&&this.contract.column.idOnEntityKey}get errorMessage(){return this.contract.errorMessage}get canDelete(){return this.canEdit&&!1!==this.contract.canDelete}get canAddToFilter(){return!this.contract.measure||!this.schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns}get properties(){return this.children}constructor(v,f,S,P,D){super(v,f,S),this.children=[],this.originalEntity=P,this.variation=D,this.expanded=!1,this.draggable=!this.disableDragging,this.fieldType=0}clone(){return new d(this.contract,this.schema,this.entity)}}class n extends h{get defaultAggregate(){return 3}get isExtension(){return!1}constructor(v,f,S){e.fF.assertValue(v,"contract"),e.fF.assertValue(f,"schema"),e.fF.assertValue(S,"entity"),super(v,f,S),this.fieldType=6}clone(){return new n(this.contract,this.schema,this.entity)}}class s extends d{get defaultAggregate(){return 2}get idOnEntityKey(){return!1}get isExtension(){return!0}constructor(v,f,S){super(v,f,S)}clone(){return new s(this.contract,this.schema,this.entity)}}class p extends d{constructor(v,f,S,P,D,M){e.fF.assertValue(v,"contract"),e.fF.assertValue(S,"parent"),e.fF.assertValue(P,"entity"),super(v.column,f,P),this.originalEntity=D,this.variation=M,this.hierarchyLevelContract=v,this.parent=S,this.fieldType=3}get hidden(){return this.parent.hidden}get name(){return this.hierarchyLevelContract.name}get displayName(){return this.displayNameOverride||this.hierarchyLevelContract.displayName}get description(){return this.hierarchyLevelContract.description}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.hierarchyLevelContract.canDelete}clone(v){return new p(this.hierarchyLevelContract,this.schema,v||this.parent,this.entity)}}class l extends h{get properties(){return this.hierarchyLevels}get children(){return this.hierarchyLevels}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.contract.canDelete}constructor(v,f,S,P,D){super(v,f,S),this.expanded=!1,this.hierarchyLevels=[],this.originalEntity=P,this.variation=D,this.draggable=!this.disableDragging,this.fieldType=2}findLevel(v,f){return _.find(this.hierarchyLevels,S=>S.name===v)}clone(){var v=new l(this.contract,this.schema,this.entity);return v.hierarchyLevels=_.map(this.hierarchyLevels,f=>f.clone(v)),v}}class m extends h{get kind(){return this.contract.kind}get properties(){return this.kpiMeasures}get children(){return this.kpiMeasures}constructor(v,f,S){super(v,f,S),this.expanded=!1,this.kpiMeasures=[],this.fieldType=4}clone(){var v=new m(this.contract,this.schema,this.entity);return v.kpiMeasures=_.map(this.kpiMeasures,f=>f.clone(v)),v}}class b extends d{constructor(v,f,S,P,D,M){e.fF.assertValue(v,"contract"),e.fF.assertValue(D,"entity"),e.fF.assertValue(S,"kpiType"),e.fF.assertValue(P,"kpiParent"),e.fF.assertValue(M,"locOptions"),super(v,f,D),this.kpiType=S,this.parent=P,this.locOptions=M,this.draggable=!this.disableDragging,this.fieldType=5}get displayName(){var v;switch(this.kpiType){case 2:v=this.locOptions.KpiValueDisplayName;break;case 1:v=this.locOptions.KpiGoalDisplayName;break;case 0:v=this.locOptions.KpiStatusDisplayName;break;case 3:v=this.locOptions.KpiTrendDisplayName;break;default:e.fF.assertFail("Unknown KpiType")}return this.displayNameOverride||v||this.contract.displayName}clone(v){return new b(this.contract,this.schema,this.kpiType,v||this.parent,this.entity,this.locOptions)}}class V extends h{get hidden(){return!_.some(this.children,v=>!v.hidden)}set hidden(v){e.fF.assertFail("Should never hide display folder directly")}constructor(v,f,S,P,D){for(var M of(super(v,P,D),this.expanded=!1,this.parent=S,this.children=f,this.fieldType=1,f))M.parent=this}clone(){e.fF.assertFail("NotImplemented")}getAllChildren(){var v=[];for(var f of this.children)v.push(f),1===f.fieldType&&v.push(...f.getAllChildren()||[]);return v}}},724901:function(Ce,k,r){r.d(k,{pF:function(){return t}});var a=r(347293),e=r(633669),u=r(736844);function t(i,o,c,h){var d=new u.c(i.displayFolders),n=_.keyBy(i.displayFolders,b=>b.name);if(!_.isEmpty(c))for(var s of c){var p=function(b){var V=o.indexOf(o.filter(g=>g.name===b.name)[0]);V>=0?o[V]=C(o[V],b):o=o.concat(b)};for(var l of s.entity.displayFolders)p(l)}if(!_.isEmpty(o))for(var m of o)d.add(y(i,void 0,m,n,h));i.displayFolders=d.merge(),i.properties.push(...i.displayFolders||[])}function C(i,o){if(o){if(o===i)return i;var c=new Set(_.map(i.properties,p=>p.name));for(var h of o.properties)c.has(h.name)||i.properties.push(h);for(var d of o.hierarchies)i.hierarchies.push(d);var n=function(p){var l=i.displayFolders.indexOf(i.displayFolders.filter(m=>m.name===p.name)[0]);l>=0?i.displayFolders[l]=C(i.displayFolders[l],p):i.displayFolders.push(p)};for(var s of o.displayFolders)n(s)}return i}function y(i,o,c,h,d){var n=h[c.name];if(n){n.contract=c;var s=new u.c(n.children);if(c.properties){var p=_.filter(n.children,x=>1!==x.fieldType&&2!==x.fieldType),l=_.keyBy(p,x=>x.name);for(var m of c.properties){var b=l[m.name];b||((b=(_.head(i.findFields(m.name,n.schemaName))||_.head(i.findFields(m.name,a.eM))||_.head(i.findKpis(m.name,n.schemaName))).clone()).parent=n),s.add(b)}}if(c.hierarchies){var g=_.filter(n.children,x=>2===x.fieldType),v=_.keyBy(g,x=>x.name);for(var f of c.hierarchies){var S=v[f.name];S||((S=_.head(i.findHierarchies(f.name,n.schemaName)).clone()).parent=n),s.add(S)}}if(c.displayFolders){var D=_.filter(n.children,x=>1===x.fieldType),M=_.keyBy(D,x=>x.name);for(var E of c.displayFolders)s.add(y(i,n,E,M,d))}n.children=s.merge(),(new e.N).sortProperties(n.children)}else n=d.convertConceptualDisplayFolder(c,i.contractSchema,o,i);return n}},577895:function(Ce,k,r){r.d(k,{o:function(){return y}});var a=r(939123),e=r(350437),u=r(724901),t=r(129593),C=r(132126);function y(o,c,h=!1){return new i(o,c,h)}class i{constructor(c,h,d=!1){this.withRowCounts=!1,a.fF.assertValue(c,"localizationService"),a.fF.assertValue(h,"featureSwitchService"),this.localizationService=c,this.withRowCounts=d}createModel(c,h,d,n){a.fF.assertValue(c,"federatedSchema");var s,p=c.schemas,l=(0,t.nX)(p);for(var m of p=(0,t.uU)(p))s=this.convertConceptualSchema(m,s,l,h,d,n);return s}convertConceptualSchema(c,h,d,n,s,p){(h=h||new e.P_(c)).disableDragging=s;var l=_.filter(c.entities,b=>!(0,C.p1)(b)||(0,C.jX)(b)),m=_.map(l,b=>this.convertConceptualEntity(b,c,h,d));return h.entities.push(...m||[]),h.disableEditing=n,h.disableSelectionOnFocus=p,h}convertConceptualEntity(c,h,d,n){var V,s=new e.e(c,h,d);if(s.properties=[],c.properties&&!(0,C.p1)(c))for(var p of c.properties)if(p.measure&&p.measure.kpi){var l=this.convertConceptualKpi(p,h,s);s.columnsAndMeasures.push(l),s.properties.push(l)}else if(!p.kpiValue){var m=this.convertConceptualProperty(p,h,s);s.columnsAndMeasures.push(m),s.properties.push(m)}if(s.isMeasureGroup=(0,t.fn)(c.properties),s.expanded=!1,c.hierarchies&&c.hierarchies.length>0)for(var b of(s.hierarchies=_.map(c.hierarchies,M=>this.convertConceptualHierarchy(M,h,s)),s.hierarchies))s.properties.push(b);if(n){var g=(0,C.U)(h.name,c.name);if(V=n.entities[g])for(var v of V)for(var f of v.entity.properties){var S=this.convertConceptualExtensionMeasure(f,v.schema,s);s.properties.push(S)}}if((0,u.pF)(s,c.displayFolders,V,this),(0,t.MM)(s.properties),(0,t.jM)(s.properties,s.displayFolders),(0,t.CU)(s),(0,t.WF)(s),this.withRowCounts&&0===c.visibility&&!h.capabilities.discourageQueryAggregateUsage){var D=this.createConceptualRowCount(h,s);s.properties.unshift(D)}return s}convertConceptualDisplayFolder(c,h,d,n){var s={},p={};for(var l of n.properties)3===l.fieldType||2===l.fieldType?p[l.name]=l:s[l.name]=l;return this.convertConceptualDisplayFolderCore(c,h,d,s,p,n)}convertConceptualDisplayFolderCore(c,h,d,n,s,p){var l=[];for(var m of c.properties)if(m){var b=n[m.name];b&&l.push(b.clone())}for(var V of c.hierarchies)if(V){var g=s[V.name];g&&l.push(g.clone())}var v=new e.wf(c,l,d,h,p);for(var f of c.displayFolders)v.children.push(this.convertConceptualDisplayFolderCore(f,h,v,n,s,p));return(0,t.MM)(v.children),v}convertConceptualHierarchy(c,h,d,n,s){var p=new e.Jg(c,h,d,n,s);for(var l of(p.hierarchyLevels=[],c.levels))p.hierarchyLevels.push(this.convertConceptualHierarchyLevel(l,h,p));return p}convertConceptualHierarchyLevel(c,h,d){return new e._u(c,h,d,d.entity,d.originalEntity,d.variation)}convertConceptualProperty(c,h,d){var n=new e.Tl(c,h,d);for(var s of(0,t.Xj)(c))n.children.push(this.convertConceptualVariationHierarchy(s,h,n));return n}convertConceptualVariationHierarchy(c,h,d){var n=this.convertConceptualHierarchy(c.defaultHierarchy,h,d.entity,c.navigationProperty.targetEntity,c.name);return n.parent=d,n}convertConceptualExtensionMeasure(c,h,d){return new e.lb(c,h,d)}convertConceptualKpi(c,h,d){var n=new e.NJ(c,h,d),s={};s.KpiValueDisplayName=this.localizationService.get("KpiValueFieldListDisplayName"),s.KpiStatusDisplayName=this.localizationService.get("KpiStatusFieldListDisplayName"),s.KpiGoalDisplayName=this.localizationService.get("KpiGoalFieldListDisplayName"),s.KpiTrendDisplayName=this.localizationService.get("KpiTrendFieldListDisplayName");var p=c.measure.kpi,l=p.goal,m=p.status,b=p.trend;return n.kpiMeasures=[],n.kpiMeasures.push(this.convertConceptualKpiMeasure(c,h,2,n,d,s)),l&&n.kpiMeasures.push(this.convertConceptualKpiMeasure(l,h,1,n,d,s)),m&&n.kpiMeasures.push(this.convertConceptualKpiMeasure(m,h,0,n,d,s)),b&&n.kpiMeasures.push(this.convertConceptualKpiMeasure(b,h,3,n,d,s)),n}convertConceptualKpiMeasure(c,h,d,n,s,p){return new e.UZ(c,h,d,n,s,p)}createConceptualRowCount(c,h){var d={name:h.name,displayName:this.localizationService.get("QuickExplore_RowCount"),canDelete:!1,hidden:!1};return new e.N6(d,c,h)}}},509270:function(Ce,k,r){r.d(k,{hi:function(){return d}});var a=r(633669),e=r(939123),u=r(350437),t=r(724901),C=r(129593),y=r(132126),c=r(736844);class h{constructor(s,p,l,m,b,V){this.factory=s,this.sorter=p,this.disableEditing=l,this.disableDragging=m,this.disableSelectionOnFocus=b,this.schemaChanges=V?V.changes:[]}mergeFieldList(s,p){return(!s||!p)&&(s={schema:void 0,isLoaded:!1}),p&&_.some(p.schemas)&&(s.schema=this.mergeSchemas(s,p),s.isLoaded=!0),s}mergeSchemas(s,p){var l=s.schema;if(l){var m=(0,C.nX)(p.schemas),b=(0,C.uU)(p.schemas);l.contract=_.find(b,S=>!(0,y.p1)(S));var V=new c.c(l.entities);for(var g of b)for(var v of g.entities)if(!(0,y.p1)(v)||(0,y.jX)(v)){var f=this.mergeEntity(l,g,v,m);g===l.contract&&V.add(...f||[])}l.entities=V.merge(),this.sorter.sortEntities(l.entities)}else l=this.factory.createModel(p,this.disableEditing,this.disableDragging,this.disableSelectionOnFocus);return l}mergeEntity(s,p,l,m){e.fF.assertValue(l,"entity");var b=this.findEntityVm(s,l);if(b){b.contract=l,b.contractSchema=p;var V=new c.c(b.properties),g=new c.c(b.columnsAndMeasures),v=new c.c(b.hierarchies),f=new c.I(b,this.schemaChanges);if(!(0,y.p1)(l))for(var S of l.properties){var P=this.mergePropertyMeasureOrKpi(b,p,S,f);V.add(...P||[]),g.add(...P||[])}for(var D of l.hierarchies){var M=this.mergeHierarchy(b,p,D,f);V.add(...M||[]),v.add(...M||[])}var E=m.entities[(0,y.U)(p.name,l.name)];if(E)for(var w of E)for(var x of w.entity.properties){var N=this.mergeExtensionMeasure(b,w.schema,x,f);V.add(...N||[]),g.add(...N||[])}b.columnsAndMeasures=g.merge(L=>!L.parent),b.hierarchies=v.merge(L=>!L.parent),b.properties=V.merge(L=>!L.parent),(0,t.pF)(b,l.displayFolders,E,this.factory),this.sorter.sortProperties(b.properties),(0,C.jM)(b.properties,b.displayFolders),(0,C.CU)(b),(0,C.WF)(b)}else b=this.factory.convertConceptualEntity(l,p,s,m);return[b]}findEntityVm(s,p){var l=p.name,m=_.find(this.schemaChanges,V=>V.entityRename&&V.entityRename.after===p.name);m&&(l=m.entityRename.before);var b=s.findEntity(l);return b&&(0,y.jX)(b.contract)!==(0,y.jX)(p)?null:b}mergePropertyMeasureOrKpi(s,p,l,m){if(!(0,y.p1)(l)){if(e.fF.assertValue(n=l,"contract"),n.measure&&n.measure.kpi)return this.mergeKpi(s,p,l,m);if(!function(n){return e.fF.assertValue(n,"contract"),!!n.kpiValue}(l))return this.mergeProperty(s,p,l,m)}var n}mergeProperty(s,p,l,m){var b=m.findVms(p.name,l.name,0);if(b=_.filter(b,f=>!f.isExtension),_.isEmpty(b))b=[this.factory.convertConceptualProperty(l,p,s)];else for(var V of b){V.contract=l,V.schema=p;var g=new c.c(V.children);for(var v of(0,C.Xj)(l))g.add(this.mergeVariationHierarchy(V,p,v));V.children=g.merge()}return b}mergeVariationHierarchy(s,p,l){var m=_.find(s.children,b=>b instanceof u.Jg&&b.variation===l.name);return m?this.updateHierarchyVm(s.entity,m,l.defaultHierarchy,p):m=this.factory.convertConceptualVariationHierarchy(l,p,s),m}mergeExtensionMeasure(s,p,l,m){var b=m.findVms(p.name,l.name,0);return b=_.filter(b,V=>V.isExtension),_.isEmpty(b)?b=[this.factory.convertConceptualExtensionMeasure(l,p,s)]:_.forEach(b,V=>{V.contract=l,V.schema=p}),b}mergeKpi(s,p,l,m){var b=m.findVms(p.name,l.name,4);if(_.isEmpty(b))b=[this.factory.convertConceptualKpi(l,p,s)];else for(var V of b){V.contract=l,V.schema=p;var g=new c.c(V.kpiMeasures);g.add(this.mergeKpiMeasure(p,V,l,2)),l.measure.kpi.goal&&g.add(this.mergeKpiMeasure(p,V,l.measure.kpi.goal,1)),l.measure.kpi.status&&g.add(this.mergeKpiMeasure(p,V,l.measure.kpi.status,0)),l.measure.kpi.trend&&g.add(this.mergeKpiMeasure(p,V,l.measure.kpi.trend,3)),V.kpiMeasures=_.some(g,v=>null===v)?this.factory.convertConceptualKpi(l,p,s).kpiMeasures:g.merge()}return b}mergeKpiMeasure(s,p,l,m){var b=_.find(p.kpiMeasures,V=>V.kpiType===m);return b?(b.contract=l,b.schema=s,b):null}mergeHierarchy(s,p,l,m){var b=m.findVms(p.name,l.name,2);if(_.isEmpty(b)){var V=this.factory.convertConceptualHierarchy(l,p,s);_.some(this.schemaChanges,v=>v.hierarchyCreate&&v.hierarchyCreate.entity===s.name&&v.hierarchyCreate.name===V.name)&&(V.expanded=!0),b=[V]}else for(var g of b)this.updateHierarchyVm(s,g,l,p);return b}updateHierarchyVm(s,p,l,m){p.contract=l,p.schema=m;var b=_.keyBy(p.hierarchyLevels,f=>f.name),V=new c.c(p.hierarchyLevels);for(var g of l.levels){var v=this.mergeHierarchyLevel(s,p,m,g,b);V.add(v)}p.hierarchyLevels=V.merge()}mergeHierarchyLevel(s,p,l,m,b){var V=this.findHierarchyLevel(s,p,l,m,b);return V?(V.contract=m.column,V.hierarchyLevelContract=m,V.schema=l):V=this.factory.convertConceptualHierarchyLevel(m,l,p),V}findHierarchyLevel(s,p,l,m,b){var V=m.name,g=_.find(this.schemaChanges,v=>v.hierarchyLevelRename&&v.hierarchyLevelRename.entity===s.contract.name&&v.hierarchyLevelRename.hierarchy===p.contract.name&&v.hierarchyLevelRename.after===V);return g&&(V=g.hierarchyLevelRename.before),b[V]}}function d(n,s,p,l,m,b,V){return new h(p,new a.N,m,b,V,l).mergeFieldList(n,s)}},129593:function(Ce,k,r){r.d(k,{CU:function(){return s},MM:function(){return c},WF:function(){return i},Xj:function(){return b},fn:function(){return t},jM:function(){return d},nX:function(){return C},uU:function(){return y},ve:function(){return h}});var a=r(939123),e=r(350437),u=r(132126);function t(V){return _.find(V,g=>!g.hidden)&&!_.find(V,g=>!g.hidden&&1!==g.kind&&2!==g.kind)}function C(V){var g={entities:{}};for(var v of V)if((0,u.p1)(v)){var f=v.extends;for(var S of v.entities)if((0,u.p1)(S)){var P={schema:v,entity:S},D=(0,u.U)(f,S.name),M=g.entities[D];M?M.push(P):g.entities[D]=M=[P]}}return g}function y(V){var g=_.filter(V,f=>!(0,u.p1)(f)),v=_.filter(V,f=>(0,u.p1)(f));return _.union(g,v)}function i(V){var g=V.properties,v=[];for(var f of g)o(v,f);V.properties=v}function o(V,g){if(a.fF.assertValue(V,"properties"),a.fF.assertValue(g,"property"),V.push(g),(g instanceof e.NJ||g instanceof e.Jg||g instanceof e.Tl)&&!_.isEmpty(g.properties))for(var v of g.properties)o(V,v)}function c(V){V&&V.sort((g,v)=>h(g.displayName,v.displayName))}function h(V,g){return V=(V||"").toLocaleUpperCase(),g=(g||"").toLocaleUpperCase(),V.localeCompare(g)}function d(V,g){if(!_.isEmpty(V)){var v={};n(g,v),_.remove(V,f=>1!==f.fieldType&&v[f.name])}}function n(V,g){if(!_.isEmpty(V)){var v=[];for(var f of V)for(var S of f.children)1===S.fieldType?v.push(S):g[S.name]=S;n(v,g)}}function s(V){var g=[];p(V.properties,g),V.properties=g}function p(V,g){for(var v of V)g.push(v),1===v.fieldType&&p(v.children,g)}function b(V){var g=[];if(V.column&&V.column.variations)for(var v of V.column.variations){var f=v.navigationProperty.targetEntity,S=v.defaultHierarchy;f&&f.hierarchies&&S&&!S.hidden&&g.push(v)}return g}},132126:function(Ce,k,r){function a(t,C){return JSON.stringify({e:C})}function e(t){return t.hasOwnProperty("extends")}function u(t){return t.isAbandoned}r.d(k,{U:function(){return a},jX:function(){return u},p1:function(){return e}})},453628:function(Ce,k,r){r.d(k,{Hh:function(){return V},op:function(){return S}});var a=r(953474),e=r(154227),u=r(758242),t=r(159214),C=r(977849),y=r(939123),i=r(454865),o=r(438043),c=r(564619),h=r(895127),d=r(693365),n=r(528836),s=r(246135),p=r(517273),l=r(906741),m=r(960196);function V(M,E,w,x,N,L,B,I,W,O){var F=new g(M,N,L,E,w,x,B,I,W,O);return(0,c.Vn)((0,h.Q)(M),F)}class g{constructor(E,w,x,N,L,B,I,W,O,F){this.sqExpr=E,this.dataRoleKind=w,this.requiredTypes=x,this.schema=N,this.aggrOps=L,this.hasHierarchyLevels=B,this.localizationService=I,this.property=W,this.forceAggregateItems=O,this.aggregatesConstraint=F}visitEntity(E){return this.createMenuItems(this.sqExpr)}visitColumn(E){return this.createMenuItems(this.sqExpr)}visitColumnAggr(E){return this.createMenuItems(this.sqExpr)}visitGroupingColumn(E){return this.createMenuItems(this.sqExpr)}visitGroupingColumnAggr(E){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyVariation(E){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyLevelVariation(E){return this.createMenuItems(this.sqExpr)}visitColumnSubquery(E){return[]}visitColumnAggrSubquery(E){return[]}visitColumnTransformRef(E){return[]}visitEntityAggr(E){return this.createMenuItems(this.sqExpr)}visitHierarchy(E){return this.createMenuItems(this.sqExpr)}visitHierarchyLevel(E){return this.createMenuItems(this.sqExpr)}visitHierarchyLevelAggr(E){return this.createMenuItems(this.sqExpr)}visitMeasure(E){return[]}visitPercentOfGrandTotal(E){var w=(0,d.og)(E.baseExpr);return this.createMenuItemsForPercentOfTotal(w)}visitPercentOfRoleTotal(E){var w=(0,d.og)(E.baseExpr);return this.createMenuItemsForPercentOfTotal(w)}visitPercentile(E){return[]}visitSelectRef(E){return[]}visitFilteredEval(E){var w=(0,d.og)(E.baseExpr);return this.createMenuItems(w)}visitArithmetic(E){return[]}visitConstant(E){return y.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),[]}visitSparklineData(E){return[]}visitNativeVisualCalc(E){return[]}createMenuItemsForPercentOfTotal(E){var w=(0,s.n)(E,this.schema).getMetadata(this.schema);if(!w)return[];var x=w.type;return this.createMenuItems(E,x.text||x.dateTime||x.duration?[3,4]:[])}createMenuItems(E,w=[]){var x=[];if(!this.hasHierarchyLevels&&_.isEmpty(E.validate(this.schema,this.aggrOps))&&!p.m.discourageAggregation(E,this.schema)){var L=this.dataRoleKind===i.DW.GroupingOrMeasure,B=this.dataRoleKind!==i.DW.Grouping||this.forceAggregateItems?this.aggrOps.getSupportedAggregates(E,this.schema,this.requiredTypes):[];for(var I of(_.isEmpty(this.aggregatesConstraint)||(B=_.intersection(B,this.aggregatesConstraint)),B=_.difference(B,w),(L&&!function(M,E){var w=M.getConceptualProperty(E);return w&&1===w.kind}(E,this.schema)&&!function(M,E){var w=(0,h.Q)(M,E);return!(!w||!w.entityAggr)}(E,this.schema)||this.forceAggregateItems&&!_.isEmpty(B))&&x.push(this.createRemoveAggregateMenuItem()),B))x.push(this.createAggregateMenuItem(I))}return x}createAggregateMenuItem(E){var w={type:0};w.key={action:4,aggregate:E};var x=(0,s.n)(this.sqExpr,this.schema).getMetadata(this.schema),N=(0,e.z)(E,x);return w.text=this.localizationService.get("Aggregate_"+N),w}createRemoveAggregateMenuItem(){var E={type:0,key:{action:2}};return E.text=this.localizationService.get("FieldWell_RemoveAggregate"),E}visitTransformOutputRoleRef(E){return[]}}class v{constructor(E,w,x,N,L,B,I,W,O,F,A,T,R,U,z){if(this.property=E,this.bucket=w,this.buckets=x,this.dataRole=N,this.forceAggregateItems=L,this.schema=B,this.aggrOps=I,this.visual=W,this.featureSwitchService=O,this.groupingDesignStateService=F,this.showValueAsService=A,this.localizationService=T,this.visualContainer=R,this.visualCalcEagerService=U,this.explorationCapabilitiesService=z,this.supportedOperations=this.property.supportedOperations??67108863,this.menuItems=[],!(1&~this.supportedOperations)&&this.menuItems.push(this.createDeleteMenuItem()),this.property.interactivityOptions.isEditableField&&!(32768&~this.supportedOperations)&&this.menuItems.push(this.createRenameMenuItem()),!(524288&~this.supportedOperations)){var j=(0,t.II)(this.visualContainer);!j&&this.bucket.properties.length>1&&this.menuItems.push(this.createMoveGroupMenuItem()),!j&&this.buckets.length>1&&this.menuItems.push(this.createMoveToGroupMenuItem())}this.createConditionalFormattingOptions()}createConditionalFormattingOptions(){_.isEmpty(this.property.conditionalFormattingRepetitions)||!this.visual||(this.conditionalFormattingOptions=this.property.conditionalFormattingRepetitions.map(E=>({repetition:E,propertyDefinition:(0,C.OT)(this.visual.objects,E)})))}visitEntity(E){return y.fF.assertFail("Did not expect FieldExprEntityPattern in field well"),this.menuItems}visitColumn(E){var w=this.property.expr;return!(4096&~this.supportedOperations)&&this.addConditionalFormattingMenuItems(w),!(4&~this.supportedOperations)&&this.addAggregateMenuItems(),!(16&~this.supportedOperations)&&this.addShowValueAsMenuItem(E.schema),!(64&~this.supportedOperations)&&this.addQuickCalcMenuItem(E.schema),!(8&~this.supportedOperations)&&this.addShowAllMenuItem(w),!(2048&~this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),!(128&~this.supportedOperations)&&this.addVariationsMenuItems(E),!(256&~this.supportedOperations)&&this.addGroupsMenuItems(E),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems}visitColumnAggr(E){var w=this.property.expr;return!(2097152&~this.supportedOperations)&&this.addSparklineMenuItem(E.schema),!(4096&~this.supportedOperations)&&this.addConditionalFormattingMenuItems(w),!(4&~this.supportedOperations)&&this.addAggregateMenuItems(),!(16&~this.supportedOperations)&&this.addShowValueAsMenuItem(E.schema),!(64&~this.supportedOperations)&&this.addQuickCalcMenuItem(E.schema),!(8&~this.supportedOperations)&&this.addShowAllMenuItem(w),!(2048&~this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),!(128&~this.supportedOperations)&&this.addVariationsMenuItems(E),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems}visitGroupingColumn(E){var w=this.property.expr;return this.addConditionalFormattingMenuItems(w),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(E.schema),this.addQuickCalcMenuItem(E.schema),this.addShowAllMenuItem(w),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(E),this.addGroupsMenuItems(E),this.menuItems}visitGroupingColumnAggr(E){var w=this.property.expr;return this.addSparklineMenuItem(E.schema),this.addConditionalFormattingMenuItems(w),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(E.schema),this.addQuickCalcMenuItem(E.schema),this.addShowAllMenuItem(w),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(E),this.menuItems}visitColumnHierarchyVariation(E){return y.fF.assertFail("Did not expect columnHierarchyVariation in field well for now"),this.menuItems}visitColumnHierarchyLevelVariation(E){var w=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(E.source.schema),this.addQuickCalcMenuItem(E.source.schema),this.addShowAllMenuItem(w),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems}visitColumnSubquery(E){return y.fF.assertFail("Should not be called"),this.menuItems}visitColumnAggrSubquery(E){return y.fF.assertFail("Should not be called"),this.menuItems}visitColumnTransformRef(E){return y.fF.assertFail("Should not be called"),this.menuItems}visitEntityAggr(E){var w=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(E.schema),this.addQuickCalcMenuItem(E.schema),this.addShowAllMenuItem(w),this.menuItems}visitHierarchy(E){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(E.schema),this.addShowAllMenuItem(_.head(this.property.hierarchyLevels).expr),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems}visitHierarchyLevel(E){var w=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(E.schema),this.addQuickCalcMenuItem(E.schema),this.addShowAllMenuItem(w),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems}visitHierarchyLevelAggr(E){var w=this.property.expr;return this.addSparklineMenuItem(E.schema),this.addConditionalFormattingMenuItems(w),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(E.schema),this.addQuickCalcMenuItem(E.schema),this.addShowAllMenuItem(w),this.menuItems}visitMeasure(E){var w=this.property.expr;return this.addSparklineMenuItem(E.schema),this.addConditionalFormattingMenuItems(w),this.addShowValueAsMenuItem(E.schema),this.addQuickCalcMenuItem(E.schema),this.addShowAllMenuItem(w),this.menuItems}visitPercentile(E){return this.addConditionalFormattingMenuItems(this.property.expr),this.menuItems}visitSelectRef(E){return[]}visitTransformOutputRoleRef(E){return[]}visitPercentOfGrandTotal(E){return this.addPercentTotalMenuItems(E.baseExpr)}visitPercentOfRoleTotal(E){return this.addPercentTotalMenuItems(E.baseExpr)}visitFilteredEval(E){return this.addFilteredEvalMenuItems()}visitArithmetic(E){return this.menuItems}visitNativeVisualCalc(E){return this.featureSwitchService.featureSwitches.conditionalFormattingVisualCalculation&&this.addConditionalFormattingMenuItems(this.property.expr),this.addEditVisualCalcMenuItems(),this.menuItems}visitConstant(E){return y.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),this.menuItems}visitSparklineData(E){return this.addEditSparklineMenuItem(),this.menuItems}isFieldParameterOperations(){return!(16777216&~this.supportedOperations&&8388608&~this.supportedOperations)}addEditVisualCalcMenuItems(){(0,a.jX)(this.property.expr)&&this.visualCalcEagerService.isVisualCalcAuthoringEnabled()&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createEditCalculationMenuItem()))}createEditCalculationMenuItem(){var E={type:0,key:{action:33554432}},w=this.visual.query;if(null!=w){var x=w.projections[this.property.role],L=x.convertFieldIndexToProjectionIndex(this.property.startIndex),B=x.all()[L];E.disabled=this.explorationCapabilitiesService?.getCapabilities()?.disableVisualCalcAuthoring||this.visualCalcEagerService.shouldDisableEditing(B.queryRef,this.visualContainer)}return E.text=this.localizationService.get("FieldWell_EditVisualCalculation"),E}addFieldParameterMenuItems(){this.property.expr.getConceptualProperty(this.schema)&&(this.menuItems.push(this.createSeparatorMenuItem()),16777216&~this.supportedOperations?!(8388608&~this.supportedOperations)&&this.menuItems.push(this.createParameterToColumn()):this.menuItems.push(this.createColumnToParameter()))}addFilteredEvalMenuItems(){return this.addAggregateMenuItems(),this.menuItems}addPercentTotalMenuItems(E){var w=(0,d.og)(E);this.addConditionalFormattingMenuItems(w),this.addAggregateMenuItems(),this.addShowValueAsMenuItem((0,c.J1)(E)),this.addShowAllMenuItem(w),this.addHierarchiesMenuItems(this.property.hierarchyLevels);var x=(0,c.$s)(E);return x&&this.addVariationsMenuItems(x),this.menuItems}addAggregateMenuItems(){var E=V(this.property.expr,this.schema,this.aggrOps,!_.isEmpty(this.property.hierarchyLevels),this.dataRole.kind,this.dataRole.requiredTypes,this.localizationService,this.property,this.forceAggregateItems);_.isEmpty(E)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(...E||[]))}addConditionalFormattingMenuItems(E){_.isEmpty(this.conditionalFormattingOptions)||E.getMetadata(this.schema)&&((0,t._9)(this.visual.query)||(this.menuItems.push(this.createSeparatorMenuItem()),this.addSetConditionalFormattingMenuItem(),this.addRemoveConditionalFormattingMenuItem()))}addSetConditionalFormattingMenuItem(){if(!_.isEmpty(this.conditionalFormattingOptions)){var E={type:0};E.text=this.localizationService.get("FieldWell_ConditionalFormatting"),this.menuItems.push(E);var w=E.children=[];for(var x of this.conditionalFormattingOptions)w.push(this.createConditionalFormattingMenuItem(x.repetition.propertyDescriptor.displayName,4096,x))}}addRemoveConditionalFormattingMenuItem(){if(!_.isEmpty(this.conditionalFormattingOptions)){var E={type:0};if(E.text=this.localizationService.get("FieldWell_RemoveConditionalFormatting"),this.menuItems.push(E),!_.some(this.conditionalFormattingOptions,B=>null!=B.propertyDefinition))return void(E.disabled=!0);var x=E.children=[];for(var N of(x.push(this.createConditionalFormattingMenuItem((0,o.V)("All"),8192)),this.conditionalFormattingOptions)){var L=this.createConditionalFormattingMenuItem(N.repetition.propertyDescriptor.displayName,16384,N);L.disabled=null==N.propertyDefinition,x.push(L)}}}createConditionalFormattingMenuItem(E,w,x){var N={type:0};return N.key={action:w,conditionalFormattingOptions:x},N.text=(0,o.G)(E,this.localizationService),N}addShowAllMenuItem(E){var w=(0,m.k)(E);if(!(0,t._9)(this.visual.query)&&(this.dataRole.kind===i.DW.Grouping||this.dataRole.kind===i.DW.GroupingOrMeasure&&!w)){this.menuItems.push(this.createSeparatorMenuItem());var x=this.createShowAllMenuItem();this.visualContainer&&(0,t.ZB)([this.visualContainer])&&(x.tooltip=this.localizationService.get("FieldWell_ShowAll_DisabledTooltip_For_VC_Hidden"),x.disabled=!0),this.menuItems.push(x)}}addHierarchiesMenuItems(E){if(!_.isEmpty(E)){var w=_.head(E),x=(0,l.wA)(this.schema,w.expr.arg);x instanceof Array&&x.length===E.length||this.bucket.supportsMultipleItems&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createRestoreHierarchyMenuItem()))}}addShowValueAsMenuItem(E){if(_.isEmpty(this.property.hierarchyLevels)&&this.property.expr.getConceptualProperty(this.schema)){var w=this.schema.schema(E),x=w&&w.capabilities.supportsScopedEval;if(!(0,t._9)(this.visual.query)&&x&&this.dataRole.kind!==i.DW.Grouping){var L=this.showValueAsService.createShowValueAsMenuItems(this.property.expr,this.schema,this.visual.visualType);_.isEmpty(L)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createShowValueAsMenuItem(L)))}}}addQuickCalcMenuItem(E){if(this.property.expr.getConceptualProperty(this.schema)){var w=this.schema.schema(E);(w&&w.capabilities.canEdit&&!w.isExtensionSchema||this.canAuthorReportMeasuresOnSchema(w))&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createQuickCalcMenuItem()))}}canAuthorReportMeasuresOnSchema(E){return E.capabilities.isExtendable||E.isExtensionSchema}addSparklineMenuItem(E){if(this.featureSwitchService.featureSwitches.sparklines&&this.dataRole.supportsSparklines){var w=this.schema.schema(E);if(w&&w.capabilities.supportsSparklineData){this.menuItems.push(this.createSeparatorMenuItem());var x={type:0,key:{action:2097152}};x.text=this.localizationService.get("Sparkline_AddOption"),this.updateDisableAndTooltipForVisualCalcScenarios(x,"Sparkline_AddOption_Disabled_For_VCEM","Sparkline_AddOption_Disabled_For_VC_Hidden"),this.menuItems.push(x)}}}addEditSparklineMenuItem(){if(this.featureSwitchService.featureSwitches.sparklines){this.menuItems.push(this.createSeparatorMenuItem());var E={type:0,key:{action:4194304}};E.text=this.localizationService.get("Sparkline_EditOption"),this.menuItems.push(E)}}addVariationsMenuItems(E){var w=(0,d.tg)(E),x=w.getConceptualProperty(this.schema);if(x){var N=x.column;if(N&&!_.isEmpty(N.variations)){var L=(0,n.nw)(E.schema,E.entity),B=this.createVariationMenuItem(x.displayName,w),I=[];for(var W of N.variations)if(W.navigationProperty&&W.navigationProperty.targetEntity){var O=W.navigationProperty.targetEntity;if(this.dataRole.kind!==i.DW.Measure){var F=_.filter(O.hierarchies,H=>!H.hidden);for(var A of F){var T=(0,n.bT)((0,n.yU)(L,W.name,x.name),A.name);I.push(this.createVariationMenuItem(A.name,T))}}var R=(0,n.nw)(L.schema,O.name),U=_.filter(O.properties,H=>!H.hidden);for(var z of U){var j=(0,n.Oh)(R,z.name);I.push(this.createVariationMenuItem(z.displayName,j))}}_.isEmpty(I)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(B),this.menuItems.push(...I||[]))}}}addGroupsMenuItems(E){var w=this.schema.schema(E.schema);if(!1!==(w&&w.capabilities.canEdit&&w.capabilities.supportsGrouping)){var N=this.featureSwitchService.featureSwitches.enableGroupAuthoring,L=[],B=this.property.expr.getConceptualProperty(this.schema);N&&((0,u.X0)(this.schema,this.property.expr)&&!(this.property.hierarchyLevels&&this.property.hierarchyLevels.length>0)&&L.push(this.createGroupsMenuItem()),(0,u.yl)(E.entity,B,this.groupingDesignStateService)&&L.push(this.createEditGroupsMenuItem())),(0,u.P2)(E.entity,B,this.groupingDesignStateService)&&L.push(this.createEditClusteringMenuItem()),L.length>0&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(...L||[]))}}createShowValueAsMenuItem(E){var w={type:0,key:{action:16}};return w.text=this.localizationService.get("FieldWell_ShowValueAs"),w.children=E,w}createQuickCalcMenuItem(){var E={type:0,key:{action:64}};return E.text=this.localizationService.get("QuickCalc_NewMeasure"),E}createGroupsMenuItem(){var E={type:0,key:{action:256}};return E.text=this.localizationService.get("ContextMenuItem_CreateGroups"),E}createEditGroupsMenuItem(){var E={type:0};return E.text=this.localizationService.get("ContextMenuItem_EditGroups"),E.key={action:512},E}createEditClusteringMenuItem(){var E={type:0};return E.text=this.localizationService.get("Clustering_EditClusters"),E.key={action:1024},E}createRestoreHierarchyMenuItem(){var E={type:0};return E.text=this.localizationService.get("FieldWell_RestoreHierarchy"),E.key={action:2048},E}createVariationMenuItem(E,w){var x={type:0};return x.text=E,x.key={action:128,variationExpr:w},x}createShowAllMenuItem(){var E={type:0,key:{action:8}};return E.text=this.localizationService.get("FieldWell_ShowAll"),E}createDeleteMenuItem(){var E={type:0,key:{action:1}};return E.text=this.localizationService.get("FieldWell_Remove"),E}createSeparatorMenuItem(){return{type:1}}createRenameMenuItem(){var E={type:0,key:{action:32768}};return E.text=this.localizationService.get("FieldWell_RenameForThisVisual"),E}createParameterToColumn(){var E={type:0,key:{action:8388608}};return E.text=this.localizationService.get("FieldParameter_ConvertParameterToColumn"),E}createColumnToParameter(){var E={type:0,key:{action:16777216}};return E.text=this.localizationService.get("FieldParameter_ConvertColumnToParameter"),this.updateDisableAndTooltipForVisualCalcScenarios(E,"FieldParameter_ConvertColumnToParameter_Disabled_For_VCEM","FieldParameter_ConvertColumnToParameter_Disabled_For_VC_Hidden"),E}updateDisableAndTooltipForVisualCalcScenarios(E,w,x){var N=16===this.visualContainer?.visibility,L=(0,t.ZB)([this.visualContainer]);E.disabled=N||L,N?E.tooltip=this.localizationService.get(w):L&&(E.tooltip=this.localizationService.get(x))}createMoveToBucketsMenuItem(){var E=[];for(var w of this.buckets)if(!this.bucket.equals(w)){var x={type:0};x.text=w.displayName,x.key={action:262144,moveFieldBucketOptions:{role:w.role,targetIndex:w.properties?w.properties.length:0,displayName:w.displayName}},x.disabled=w.disabled,E.push(x)}return E}createMoveToGroupMenuItem(){var E={type:0,key:{action:524288}};return E.text=this.localizationService.get("ItemAction_MoveTo"),E.children=this.createMoveToBucketsMenuItem(),E}createMoveUpMenuItem(){var E={type:0};E.text=this.localizationService.get("ItemAction_Move_Up");var w={action:65536},x=this.findFieldPropertyIndexInBucket();if(x<=0)E.disabled=!0;else{var N=this.bucket.properties[x-1];w.moveFieldPropertyOptions={role:N.role,startIndex:N.startIndex,hierarchyLevelsLength:N.hierarchyLevels?N.hierarchyLevels.length:0}}return E.key=w,E}createMoveDownMenuItem(){var E={type:0};E.text=this.localizationService.get("ItemAction_Move_Down");var w={action:131072},x=this.findFieldPropertyIndexInBucket();if(x>=this.bucket.properties.length-1)E.disabled=!0;else{var N=this.bucket.properties[x+1];w.moveFieldPropertyOptions={role:N.role,startIndex:N.startIndex,hierarchyLevelsLength:N.hierarchyLevels?N.hierarchyLevels.length:0}}return E.key=w,E}createMoveToTopMenuItem(){var E={type:0};E.text=this.localizationService.get("ItemAction_Move_Top");var w={action:65536},x=this.bucket.properties[0];return this.property.equals(x)?E.disabled=!0:w.moveFieldPropertyOptions={role:x.role,startIndex:x.startIndex,hierarchyLevelsLength:x.hierarchyLevels?x.hierarchyLevels.length:0},E.key=w,E}createMoveToBottomMenuItem(){var E={type:0};E.text=this.localizationService.get("ItemAction_Move_Bottom");var w={action:131072},x=this.bucket.properties[this.bucket.properties.length-1];return this.property.equals(x)?E.disabled=!0:w.moveFieldPropertyOptions={role:x.role,startIndex:x.startIndex,hierarchyLevelsLength:x.hierarchyLevels?x.hierarchyLevels.length:0},E.key=w,E}findFieldPropertyIndexInBucket(){return _.findIndex(this.bucket.properties,E=>this.property.equals(E))}createMoveGroupMenuItem(){var E={type:0,key:{action:524288}};return E.text=this.localizationService.get("ItemAction_Move"),E.children=[this.createMoveUpMenuItem(),this.createMoveDownMenuItem(),this.createMoveToTopMenuItem(),this.createMoveToBottomMenuItem()],E}}function S(M,E,w,x,N,L,B,I,W,O,F,A,T,R,U){return{items:(0,c.Vn)((0,h.Q)(M.expr),new v(M,E,w,x,N,L,B,I,W,O,F,A,T,R,U))}}},970164:function(Ce,k,r){r.d(k,{L:function(){return c}});var a=r(953474),e=r(257738),u=r(301199),t=r(528836),C=r(693713),y=r(323408),i=r(32227);class c{constructor(n){this.localizationService=n}fromFilterExpr(n,s,p,l){return n.accept(new h(this.localizationService,s,p,l))}}class h extends C.vq{constructor(n,s,p,l){super(),this.localizationService=n,this.schema=s,this.supportsCategorical=!0,this.context={isNegative:!1,allowNot:!0,logicalOperator:2},this.formatter=p,this.field=l,this.fieldToIdentityVisitor=new i.H}visitColumnRef(n){if(null==this.field||(0,e.fS)(this.field,n))return this.createFilterCard(n);if(null!==this.field&&this.field instanceof t.vD&&this.schema){var s=this.field.accept(this.fieldToIdentityVisitor,this.schema);if(!_.isEmpty(s)&&1===s.length&&(0,e.fS)(s[0],n))return this.createFilterCard(n)}}visitGroupRef(n){if(null==this.field||(0,e.fS)(this.field,n))return this.createFilterCard(n)}visitMeasureRef(n){return this.createFilterCard(n)}visitAggr(n){return this.createFilterCard(n)}visitArithmetic(n){return this.createFilterCard(n)}visitHierarchyLevel(n){return this.supportsCategorical=!1,this.createFilterCard(n)}visitEntity(n){return this.createFilterCard(n)}visitIn(n){if(!n.table&&n.args&&1===n.args.length){n.args[0].accept(this);var s=this.filter;if(null==s&&null!=this.field)return this.createFilterCard(this.field);var p=this.context;for(var l of n.values)p.condition=new u.gP(p.isNegative?10:9),l[0].accept(this),s.conditions.push(p.condition);if(2!==s.logicalOperator)return;return s.logicalOperator=p.isNegative?0:1,s}}visitBetween(n){this.supportsCategorical=!1,n.arg.accept(this);var s=this.filter,p=this.context;if(p.condition=new u.gP(p.isNegative?1:4),n.lower.accept(this)&&(s.conditions.push(p.condition),p.condition=new u.gP(p.isNegative?3:2),n.upper.accept(this)&&(s.conditions.push(p.condition),2===s.logicalOperator)))return s.logicalOperator=0,s}visitAnd(n){this.supportsCategorical=!1;var s=this.context,p=s.isNegative?1:0;if(2===s.logicalOperator)s.logicalOperator=p;else if(s.logicalOperator!==p)return;if(n.left.accept(this)&&n.right.accept(this))return this.filter}visitOr(n){var s=this.context,p=s.isNegative?0:1;if(2===s.logicalOperator)s.logicalOperator=p;else if(s.logicalOperator!==p)return;if(n.left.accept(this)&&n.right.accept(this))return this.filter}visitCompare(n){var s=this.context,p=this.getFilterOperator(n,s.isNegative);if(void 0!==p&&0!==p){s.condition=new u.gP(this.getFilterOperator(n,s.isNegative));var l=s.allowNot;if(s.allowNot=!1,n.left.accept(this)&&n.right.accept(this)&&(n.right instanceof t.jz||n.right instanceof t.AC)){var m=this.filter;return m.conditions.push(this.context.condition),m.conditions.length>1&&2===m.logicalOperator&&(m.logicalOperator=0),s.allowNot=l,s.condition=null,m}}}visitNot(n){var s=this.context,p=n.arg;if((p instanceof t.wU||p instanceof t.Xg||p instanceof t.I6||s.allowNot&&(p instanceof t.uV||p instanceof t.Cc||p instanceof t.ev||p instanceof t.fw||p instanceof t.v3))&&(s.isNegative=!s.isNegative,n.arg.accept(this)))return s.isNegative=!s.isNegative,this.filter}visitConstant(n){if(this.context.condition)return 0!==n.type.primitiveType&&(this.context.condition.value=new u.pQ(n.value,this.formatter)),this.filter}visitDateSpan(n){if(this.supportsCategorical=!1,5===n.unit||0===n.unit){var s=this.context,p=s.allowNot;s.allowNot=!1;var l=n.arg.accept(this);return s.allowNot=p,l}}visitContains(n){this.supportsCategorical=!1;var s=this.context;s.condition=new u.gP(s.isNegative?6:5);var p=s.allowNot;if(s.allowNot=!1,n.left.accept(this)&&n.right.accept(this)){var l=this.filter;return l.conditions.push(this.context.condition),s.allowNot=p,l}}visitStartsWith(n){this.supportsCategorical=!1;var s=this.context;s.condition=new u.gP(s.isNegative?8:7);var p=s.allowNot;if(s.allowNot=!1,n.left.accept(this)&&n.right.accept(this)){var l=this.filter;return l.conditions.push(this.context.condition),s.allowNot=p,l}}getFilterOperator(n,s){switch(this.supportsCategorical=this.supportsCategorical&&0===n.comparison,n.comparison){case 3:return s?4:1;case 4:return s?3:2;case 1:return s?2:3;case 2:return s?1:4;case 0:return(0,a.uR)(n.right)?s?12:11:(0,a.AW)(n.right)&&""===n.right.value?s?14:13:s?10:9}}createFilterCard(n){return this.filter||(this.filter=new y.d(n,this.localizationService),this.filter.supportsCategorical=this.supportsCategorical,this.filter.logicalOperator=this.context.logicalOperator),this.filter}}},955363:function(Ce,k,r){r.d(k,{j:function(){return e}});var a=r(939123);class e{constructor(t,C){a.fF.assertValue(t,"contract"),a.fF.assertValue(C,"state"),this._contract=t,this._state=C}get contract(){return this._contract}get readOnlyState(){return this._state}updateViewState(){this.updateViewStateCore(this._state)}updateViewStateCore(t){}}},399338:function(Ce,k,r){r.d(k,{vi:function(){return B},T8:function(){return I},Iu:function(){return D},Dz:function(){return A},_r:function(){return O},C:function(){return W},oj:function(){return F},hx:function(){return P},VR:function(){return M},zv:function(){return T},yU:function(){return U},gk:function(){return E},g4:function(){return z},Jm:function(){return R},Ee:function(){return w},lD:function(){return N},EK:function(){return x},CL:function(){return g},L2:function(){return j},n5:function(){return H}});var a=r(187220),e=r(184437),u=r(159214),t=r(599543),C=r(722709),y=r(939123),i=r(737466),o=r(105179),c=r(879413);function d(q,G,J){return{key:G,text:(0,c.h1)(J).get(q),type:0}}function n(q){return function(q){return{items:[d("Duplicate",0,q),d("Rename",1,q),d("Delete",2,q),d("Hide",3,q),d("Menu_MoveLeft",4,q),d("Menu_MoveRight",5,q),d("Menu_MoveFront",6,q),d("Menu_MoveEnd",7,q)]}}(q)}var s=r(322563),p=r(474270),l=r(652251),m=r(119478),b=r(943856),V=r(257738);function g(q,G,J){var Z=!0,Q=G&&G.featureSwitches.userFavoriteResourcePackagesEnabled&&q.custom&&J.isFavoritePublicCustomVisual(q.name),ne=G&&G.featureSwitches.userFavoriteResourcePackagesEnabled&&q.custom&&q.favoriteId||Q,le=G&&G.featureSwitches.userFavoriteResourcePackagesEnabled&&q.custom&&!q.favoriteId&&!Q,he=G&&G.featureSwitches.tenantOutOfBoxVisualsEnabled&&q.custom&&q.isOutOfBox,Se=G&&G.featureSwitches.personalVisualizationPaneEnabled&&J.isUnpinnedVisual(q.name);return(q.custom&&!he&&le||Se&&!ne)&&(Z=!1),Z}class v{constructor(G){this.sections=[],this.activeSection=m.G.Fields,this.previousSection=m.G.Fields,this.pagePaneSections=[],this.activePageSection=m.W.Fields,this.previousPageSection=m.W.Fields,this.title="Format",this.icon="PBIFormat",this.visualPluginFilter=(J,Z,Q)=>g(J,Z,Q),this.nonPersonalVisualizationPaneFilter=(J,Z,Q)=>!g(J,Z,Q),this.showCloseButton=G}get activeSectionIndex(){var G=_.findIndex(this.sections,J=>J.sectionType===this.activeSection);return-1!==G?G:0}get activePageSectionIndex(){var G=_.findIndex(this.pagePaneSections,J=>J.sectionType===this.activePageSection);return-1!==G?G:0}}var f="-",S="\\"+f;function P(){return{exploration:null,options:null,taskPane:{title:"Data",icon:"PBIData"},visualizationPane:w(),sectionStatus:{currentSectionNumber:-1,isEditing:!1},isNavPaneCollapsed:!0,performancePane:M("PerformanceAnalyzerPane_Title","PBIPerformanceAnalyzer","PerformanceAnalyzerPane_Close"),bookmarksPane:M("ExplorationBookmarksPane_Title","AudioBookmark","ExplorationBookmarksPane_Close"),canvasItemsPane:M("ExplorationCanvasItemsPane_Title","LaunchSelectionPane","ExplorationCanvasItemsPane_Close"),syncGroupPane:M("SyncGroupPane_Title","PBISyncSlicer","SyncGroupPane_Close"),insightsPane:M("Insights_TitleKey","PBIAnomalyExplain","InsightsPane_Close"),reflexPane:M("Reflex_Config_Title",void 0,"Reflex_Pane_Close"),quickExplorePane:M("Summarize"),quickMeasuresPane:M("QuickMeasure","PBINewQuickMeasure","QuickMeasuresPane_Close"),buildPane:M("Permission_Explore","PBIBuild"),suggestSkittlePane:M("Suggest_A_Visual","suggestLightningBolt"),chartElementsSkittlePane:M("Skittles_ChartElements_Title","PBIAddToChart"),assistedCreationPane:M("AssistedCreation_Pane_Title","addchartplaceholder","AssistedCreation_Pane_Close"),copilotPane:M("CopilotPaneEntryPoint_Title","Copilot"),customizePane:M("Customize","powermap_newtour")}}function D(q,G){return{contract:q,selected:!1,displayName:q.displayName,menuItems:n(G)}}function M(q,G,J){return{title:q,icon:G,closePaneLabel:J}}function E(){return{title:"Data",icon:"PBIData"}}function w(q=!1){return new v(q)}function x(q,G,J,Z,Q,ne){return N(_.filter(q,he=>he.custom),G,J,Z,Q,ne)}function N(q,G,J,Z,Q,ne){var le=[];for(var he of q)Z&&!Z(he,G,J)||le.push((0,b.s_)(he,G,J,Q,ne));return le}function L(q,G,J){J.hostServices={getFilters:(Z,Q)=>Z.calculateVisualContainerFilter(q,G,J.contract,Q),getDataSourceVariables:()=>q.dataSourceVariables,getVisualRelationshipFilterAction:(Z,Q,ne)=>Q.relationshipFilterAction(G,Z,J.contract,ne,!1),selectDataPoint:(Z,Q,ne,le,he,Se)=>{Z.setFilterOnSelectData(q,Q,G,J.contract,ne,le,he,Se)},setVisualRelationshipFilterAction:(Z,Q,ne,le)=>le.setVisualRelationship(G,Z,Q,ne)}}function B(q,G,J,Z,Q){y.fF.assertValue(q,"contract");var he,ne=_.map(q.sections,Ge=>D(Ge,Q)),le=q.sections;if(le&&le.length>0){var Se=void 0!==J?J:0;if(Se<le.length){he=I(q,le[Se],G,Z);for(var Ke=le.length-1;Ke>=0;--Ke)ne[Ke].selected=Ke===Se}}return{contract:q,sections:ne,exploreCanvas:he}}function I(q,G,J,Z){y.fF.assertValue(G,"section");var Q=new s.y(G,J);if(G.visualContainers&&(Q.visualContainers=(0,C.Br)(_(G.visualContainers).map(he=>F(he,J,Z)).filter(he=>!!he).value()),Q.visualContainerGroups=1===J?[...Q.visualContainers]:W(G.visualContainerGroups,Q.visualContainers,J,Z),!_.isEmpty(Q.visualContainers))){var ne=Q.visualContainers;for(var le of ne)L(q,G,le)}return Q}function W(q,G,J,Z){var Q=[],ne=function(he){if((0,a.Vz)(he)){var Se=_.find(G,Ge=>Ge.contract===he);Se&&Q.push(Se)}else{var Ke=O(he,W(he.children,G,J,Z));Ke&&Q.push(Ke)}};for(var le of q)ne(le);return Q}function O(q,G,J=0){if(y.fF.assertValue(q,"contract"),q.layouts.withId(J)){var Q=new l.IT(q,J,G);for(var ne of G)ne.parentGroup=Q;return Q}}function F(q,G=0,J){y.fF.assertValue(q,"contract");var Z=new t.Y,Q=q.layouts.withId(G);if(Q){var ne=Q.position;return Z.position({y:ne.y,x:ne.x}),Z.zIndex(ne.z||0),Z.viewport({height:ne.height,width:ne.width}),new p.C(q,Z,G,J)}}function A(q,G,J,Z){var Q=F(J,Z);if(Q)return L(q,G,Q),Q}function T(q,G=!0){return{isVisualVisible:!1,reportFilters:G?[]:null,pageFilters:[],drillthroughFilters:[],visualFilters:[],activeFilterPane:void 0,addFilterLabel:q.get("FieldDropZone_AddFields"),addDrillthroughFilterLabel:q.get("FieldDropZone_DrillthroughLink_Watermark")}}function R(q,G,J,Z,Q,ne,le,he,Se){y.fF.assertValue(G,"visualContainer"),y.fF.assertValue(J,"schema");var Ke=G.filters?.filter(De=>null!=De)||[],Ge=[],ye={container:G,scopeType:0},we=(0,u.i4)(G,ne,J,he),je=(0,u.uy)(q,G,le,J),de=De=>(0,o.fw)(De,J,Z,ye,Q,he,Se,(0,u.cj)(G,Q),G.config.singleVisual),Pe=function(De){var ue=de(De);if(Ge.push(ue),we){if(De.expression&&!_.isEmpty(De.expression.validate(J,he)))return 1;var te=_.findIndex(we,ke=>(0,V.fS)(ke.expression,De.expression));-1===te?0===De.howCreated&&(ue.howCreated=De.howCreated=1):(1===De.howCreated&&(ue.howCreated=De.howCreated=0),2!==De.howCreated&&we.splice(te,1))}};for(var Ve of Ke)Pe(Ve);var Ze=je=je||[];if(Ze=Ze.concat(we=we||[]),_.isEmpty(ye.container.filters)&&(ye.container.filters=[]),ye.container.filters.push(...we||[]),Ze)for(var Ue of Ze){var Je=de(Ue);Je.howCreated=Ue.howCreated,Ge.push(Je)}return Ge.sort(j),Ge}function U(q,G,J,Z,Q,ne,le,he){var Se=[];if(!q||!q.container||!q.container.filters)return Se;for(var Ke of q.container.filters)if(null==he||Ke.howCreated===he){Ke.name||(Ke.name=e.l.getNextFilterName(q.container.filters));var Ge=(0,o.fw)(Ke,G,J,q,Z,Q,ne,le,null);Se.push(Ge)}return Se.sort(j),Se}function z(q){return _.map(q,J=>(0,i.ko)(J,f,S)).join(f)}function j(q,G){var J=q.getDisplayName()?-1:1,Z=G.getDisplayName()?-1:1;if(J!==Z)return J-Z;var Q=q.getDisplayName()||q.getRestatement()||"",ne=G.getDisplayName()||G.getRestatement()||"";return Q.localeCompare(ne)}function H(q,G){var J=void 0===q.contract.ordinal?1:-1,Z=void 0===G.contract.ordinal?1:-1;return-1===J&&-1===Z?q.contract.ordinal-G.contract.ordinal:J-Z}},943856:function(Ce,k,r){r.d(k,{Gf:function(){return y},YL:function(){return h},s_:function(){return i},tl:function(){return o}});var a=r(360007),e=r(879413),u=r(834678),t=r(298180),C=r(438043);function y(d,n){return n=(0,e.h1)(n),(0,C.G)(d,n)}function i(d,n,s,p,l){var m=(l=(0,e.h1)(l)).get("AddToFavorites_ContextMenu"),b=l.get("RemoveFromFavorites_ContextMenu"),V=l.get("AboutVisualDialog_About"),g={plugin:d,enabled:!0,active:!1,menuItems:[]},v=o(d,p,l,n);g.class=v.class,g.title=v.title,v.watermarkKey&&(d.watermarkKey=v.watermarkKey);var f=n&&n.featureSwitches.userFavoriteResourcePackagesEnabled&&d.custom&&s.isFavoritePublicCustomVisual(d.name),S=n&&n.featureSwitches.userFavoriteResourcePackagesEnabled&&d.custom&&d.favoriteId||f,P=n&&n.featureSwitches.userFavoriteResourcePackagesEnabled&&d.custom&&!d.favoriteId&&!f,D=n&&n.featureSwitches.tenantOutOfBoxVisualsEnabled&&d.custom&&d.isOutOfBox,M=n&&n.featureSwitches.personalVisualizationPaneEnabled&&s.isUnpinnedVisual(d.name),E=n&&n.featureSwitches.personalVisualizationPaneEnabled&&!s.isUnpinnedVisual(d.name),w=null;d.custom&&S?w=c(b,4):d.custom&&!D&&P?w=c(m,3):M?w=c(m,7):(!d.custom||D)&&E&&(w=c(b,6)),w&&g.menuItems.push(w);var x=c(V,5);return g.menuItems.push(x),g.tooltipConfig={tooltipTitle:g.title,tooltipShowOnFocus:!0},g}function o(d,n,s,p){var l=h(d.name,d.titleKey,n,s,p),m=d.custom?d.displayName||d.name.match(/([A-z\s]+)/g)[0]:void 0;return l?(m&&(l.title=m),l):{class:d.class,title:m??d.name}}function c(d,n){return{text:d,hasGlyph:!1,labelClass:"visualContextMenu itemLabel",action:n,type:a.w.Item,checked:!1,hrefTarget:t.bS}}function h(d,n,s,p,l){var m=y(n,p=(0,e.h1)(p));switch(d){case u.L.table.name:case u.L.tableEx.name:return{class:"table",title:m};case u.L.matrix.name:case u.L.pivotTable.name:return{class:"matrix",title:m};case u.L.scatterChart.name:return{class:"scatter",title:m};case u.L.barChart.name:return{class:"columnHoriz",title:m};case u.L.clusteredBarChart.name:return{class:"clusteredBarHoriz",title:m};case u.L.hundredPercentStackedBarChart.name:return{class:"column100Horiz",title:m};case u.L.ribbonChart.name:return{class:"ribbon",title:m};case u.L.columnChart.name:return{class:"columnVert",title:m};case u.L.clusteredColumnChart.name:return{class:"clusteredBarVert",title:m};case u.L.hundredPercentStackedColumnChart.name:return{class:"column100Vert",title:m};case u.L.realTimeLineChart.name:case u.L.lineChart.name:return{class:"line",title:m};case u.L.areaChart.name:return{class:"area",title:m};case u.L.stackedAreaChart.name:return{class:"stackedArea",title:m};case u.L.hundredPercentStackedAreaChart.name:return{class:"stacked100AreaChart",title:m};case u.L.lineClusteredColumnComboChart.name:return{class:"lineClusteredColumnCombo",title:m};case u.L.lineStackedColumnComboChart.name:return{class:"lineStackedColumnCombo",title:m};case u.L.pieChart.name:return{class:"pie",title:m};case u.L.treemap.name:return{class:"tree",title:m};case u.L.map.name:return{class:"map",title:m};case u.L.filledMap.name:return{class:"filledMap",title:m};case u.L.azureMap.name:return{class:"azureMap",title:m};case u.L.shapeMap.name:return{class:"shapeMap",title:m};case u.L.funnel.name:return{class:"funnel",title:m};case u.L.gauge.name:return{class:"gauge",title:m};case u.L.multiRowCard.name:return{class:"card",title:m};case u.L.card.name:return{class:"calloutCard",title:m};case u.L.cardVisual.name:return{class:"cardVisual",title:m};case u.L.waterfallChart.name:return{class:"waterfall",title:m};case u.L.slicer.name:return{class:"slicerVert",title:m};case u.L.advancedSlicerVisual.name:return{class:"buttonSlicer",title:m};case u.L.textSlicer.name:return{class:"textSlicer",title:m};case u.L.listSlicer.name:return{class:"listSlicer",title:m};case u.L.donutChart.name:return{class:"donut",title:m};case u.L.kpi.name:return{class:"kpi",title:m};case u.L.scriptVisual.name:return{class:"rScriptImageVisual",title:m};case u.L.pythonVisual.name:return{class:"pythonImageVisual",title:m};case u.L.debugVisual?.name:return{class:"debugger",title:m};case u.L.textbox.name:return{class:"smartNarratives",title:m};case u.L.basicShape.name:case u.L.shape.name:case u.L.actionButton.name:case u.L.image.name:return{class:null,title:m};case u.L.keyDriversVisual.name:return{class:"keyDrivers",title:m};case u.L.qnaVisual.name:return{class:"qna",title:m};case u.L.decompositionTreeVisual.name:return{class:"decompositionTree",title:m};case u.L.scorecard.name:return{class:"scorecard",title:m};case u.L.rdlVisual.name:return{class:"rdlVisual",title:l?.featureSwitches.operationalReportStringTest?y((0,C.V)("Operational_Report"),p):m};case u.L.aiNarratives.name:return{class:"aiNarratives",title:m};default:if(s&&s.isTrustedVisual(d)){var b=s.getVisualTypeOptions(d);if(b)return{class:b.class,title:b.titleKey?p.get(b.titleKey):d,watermarkKey:b.watermarkKey}}return}}},606142:function(Ce,k,r){r.d(k,{$Z:function(){return u}});var a=r(666058),e=r(29498);class u{constructor(c,h){this.featureSwitchService=h,c&&(this.color=c.color.solid.color,this.visible=c.show,this.radius=c.radius,this.width=c.width)}thickness(){return this.featureSwitchService.featureSwitches.visualBorderWidth?this.width??e.GC:e.GC}getNumericPaddingFromBorder(){return i(this.radius)}getBorderStyle(){if(this.visible){var c=(0,a.Et)(this.color,1);return`${this.thickness()}px `+t+" "+c}}getPaddingFromBorder(){var c=i(this.radius);if(this.visible)return`${c}px`}getBorderRadius(){if(this.visible)return`${this.radius||e.FJ}px`}}var t="solid",y=Math.sin(Math.PI/180*45);function i(o){return Math.ceil(o-o*y)}},474270:function(Ce,k,r){r.d(k,{C:function(){return F}});var a=r(772954),e=r(522212),u=r(748843),t=r(221435),C=r(295046),y=r(692699),i=r(159214),o=r(599543),c=r(147597),h=r(862154),d=r(834678),n=r(29709),s=r(270862),p=r(547586),l=r(939123),m=r(542666),b=r(100120),V=r(864237),g=r(900768),v=r(530177),f=r(454865),S=r(856632),P=r(129535),D=r(928948),M=r(477305),E=r(185527),w=r(342830),x=r(955363),N=r(943856),B={key:void 0,defaultValue:!0,forceVisible:{1:!0}},I={visualInformationButton:{...B,key:"showVisualInformationButton"},visualWarningButton:{...B,key:"showVisualWarningButton"},visualErrorButton:{...B,key:"showVisualErrorButton"},drillRoleSelector:{...B,key:"showDrillRoleSelector"},drillUpButton:{...B,key:"showDrillUpButton"},drillToggleButton:{...B,key:"showDrillToggleButton"},drillDownLevelButton:{...B,key:"showDrillDownLevelButton"},drillDownExpandButton:{...B,key:"showDrillDownExpandButton"},pinButton:{...B,key:"showPinButton"},filterRestatementButton:{...B,key:"showFilterRestatementButton"},focusModeButton:{...B,key:"showFocusModeButton"},copyVisualImageButton:{...B,key:"showCopyVisualImageButton"},seeDataLayoutToggleButton:{...B,key:"showSeeDataLayoutToggleButton"},optionsMenu:{...B,key:"showOptionsMenu"},commentButton:{...B,key:"showCommentButton"},tooltipButton:{key:"showTooltipButton",defaultValue:!1},personalizeVisualButton:{...B,key:"showPersonalizeVisualButton"},smartNarrativeButton:{key:"showSmartNarrativeButton",defaultValue:!1},setAlertButton:{key:"showSetAlertButton",defaultValue:!0},followVisualButton:{key:"showFollowVisualButton",defaultValue:!1}},O=function(A){return A[A.Uninitialized=0]="Uninitialized",A[A.Initialized=1]="Initialized",A}({}),F=(()=>{class A extends x.j{constructor(R,U,z,j){super(R,{footerStyle:null,headerBackgroundStyle:null,headerForegroundStyle:null,headerItemContainerStyle:null,popOutBarSubtitle:"",popOutBarTitle:"",position:null,style:U,titleStyle:null,visualViewportStyle:null,visualStyle:null,subTitleStyle:null,visualsDividerStyle:null,visualTitleAreaStyle:null}),this.uiScale=D.U2,this.warningsSubject=new a.X([]),this.warnings$=this.warningsSubject.asObservable(),this.currentCanvasLayout=z,this.currentEditMode=0,this.visualTitleWrapped=[],this.visualSubTitleWrapped=[],this.currentZone=j,this.servicesState=O.Uninitialized}resolveDataAppliedEvent(){this.visual.dataAppliedEvent&&this.visual.dataAppliedEvent.resolve()}getRunningVisual(){return this.runningVisual}get errorInfo(){return this.runningVisual&&this.runningVisual.getErrorInfo()}set errorInfo(R){var U=this.getRunningVisual();U&&U.setErrorInfo(R)}get visualPausedWarning(){return this.visualPausedWarningModel}set visualPausedWarning(R){this.visualPausedWarningModel=R,this.regenerateWarnings();var U=this.getRunningVisual();U&&U.setHasPendingChanges(void 0!==R)}get featureNotSupportedWarning(){return this.featureNotSupportedWarningModel}set featureNotSupportedWarning(R){this.featureNotSupportedWarningModel=R,this.regenerateWarnings()}setThemeCollection(R){this.themeCollection=R,this.runningVisual&&this.runningVisual.setThemeCollection(R)}startResize(){this.originalPosition=this.position}getVisualType(){return(0,y.s)(this.contract)}static getVisualBodyOffset(R,U){return A.useStylableHeader(U)||R.canShowVisualContainerHeaderInset()?{top:0,height:0,width:0,left:0}:{top:this.VisualContainerHeaderHeight,height:-this.VisualContainerHeaderHeight,width:0,left:0}}get id(){return this.contract.id}get name(){return this.contract.name}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(R){this.contract.layouts.withId(this.currentCanvasLayout).position=R}getScaledPosition(R=!0){return this.convertToScaledPosition(this.position,R)}get editMode(){return this.currentEditMode}get headerTitleMaxLines(){return this.isTitleWrappingEnabled?3:1}get headerSubTitleMaxLines(){return this.isSubTitleWrappingEnabled?3:1}setEditMode(R){this.currentEditMode=R,(0,w.yY)(this.runningVisual,this.runningVisual.getViewport(),f.EP.ViewMode,this.visualHostServices,this.editMode)}get isPositioned(){var R=this.position;return 0!==R.width&&0!==R.height}get isPoppedOut(){var R=this.contract.visibility;return null!=R&&0!==R&&4!==R&&32!==R}get bringToFront(){var R=this.contract.config.singleVisual.evaluatedObjects;return!R||!R.general||!R.general.keepLayerOrder}get isHidden(){return(0,t.xj)(this.contract.config.singleVisual)}get isTitleWrappingEnabled(){return this.visualTitle&&!!this.visualTitle.titleWrap}get isSubTitleWrappingEnabled(){return this.visualSubTitle&&!!this.visualSubTitle.titleWrap}visualTitleAreaVisible(){var R=this.contract.config.singleVisual,U=R.evaluatedObjects&&R.evaluatedObjects.title,z=this.visualPlugin&&this.visualPlugin.capabilities(R.visualType);return!(0,u.xj)(U,z&&z.suppressDefaultTitle)&&!this.isPoppedOut}visualTitleVisible(){if(this.isPoppedOut)return!1;var R=this.contract.config.singleVisual;if(!R)return!1;var U=this.visualPlugin&&this.visualPlugin.capabilities(R.visualType);if(!U)return!1;var z=this.visualTitle;return!(!z||!1===z.show||void 0===z.show&&U.suppressDefaultTitle||!z.text)}visualSubTitleVisible(){if(!this.featureSwitchService?.featureSwitches.vcPadding||this.isPoppedOut)return!1;var R=this.contract.config.singleVisual;if(!R)return!1;var U=this.visualPlugin&&this.visualPlugin.capabilities(R.visualType);if(!U)return!1;var z=this.visualTitle;if(!z)return!1;var j=this.visualSubTitle;return!(!j||!1===z.show||void 0===z.show&&U.suppressDefaultTitle||!j.show||!j.text)}visualDividerVisible(){var R=this.contract.config.singleVisual,U=R.evaluatedObjects&&R.evaluatedObjects.divider,z=R.evaluatedObjects&&R.evaluatedObjects.title,j=this.visualPlugin&&this.visualPlugin.capabilities(R.visualType);return!(!this.featureSwitchService?.featureSwitches.vcPadding||!U||(0,u.Qy)(U)||(0,u.xj)(z,j&&j.suppressDefaultTitle)||this.isPoppedOut)}supportsKeyboardNavigation(){var U=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);return U&&U.supportsKeyboardFocus}get supportsCustomPadding(){return this.featureSwitchService?.featureSwitches.vcPadding}setServices(R,U,z,j,H,q,G,J,Z,Q,ne,le,he,Se,Ke,Ge,ye,we,je,de,Pe,Ve){l.fF.assertValue(R,"visualHostServices"),l.fF.assertValue(U,"visualPlugin"),l.fF.assertValue(z,"visualPluginOps"),this.visualHostServices=(0,M.K)(R,he),this.auxiliaryVisualHostServices=(0,M.K)(Ve??R,he),this.visualAdapterHostServices=we,this.visualPlugin=U,this.visualPluginOps=z,this.viewModeState=j,this.formFactor=H,this.visibility=q,this.runningVisuals=G,this.explorationCapabilities=ye,this.visualAuthoring=Z,this.filterGenerator=ne,this.themeService=le,this.showClientWarnings=Se,this.sortServices=Ke,this.selectionServices=Ge,this.dataViewServices=je,this.servicesState=O.Initialized,this.bodyScaleChanged=de,this.featureSwitchService=J,this.localizationService=Q,this.pauseQueriesService=Pe}setSelected(R){this.isSelected=R}handleKeyDown(R){var U=function(A){switch(A.keyCode){case 122:return A.altKey&&A.shiftKey?0:void 0;case 70:return V.M.isCtrlOrMeta(A)?1:void 0}}(R);switch(U){case 0:this.visibility.set(this.contract,8);break;case 1:this.toggleVisualSearch(R)}if(this.shouldHandleKeydown(R)){if(this.isTextboxVisual()){var j=this.getTextboxVisual();return j&&j.focus()}if(this.isContractQnaVisual()){var H=this.getQnaVisual();if(H)return H.focus()}}}toggleVisualSearch(R){if(this.contract&&this.contract.config&&this.contract.config.singleVisual){var z=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);z&&this.filterGenerator.tryGetSelfFilterEnabledProperty(z)&&(this.visualAuthoring.toggleSlicerVisualSearch(this.contract,this.filterGenerator,this.visualPlugin),R.preventDefault(),R.stopPropagation())}}shouldHandleKeydown(R){if(!this.runningVisual||0===this.viewModeState.getMode())return!1;var U=R.keyCode;if((0,g.Wl)(U)||(0,g.SF)(U)||27===U||9===U||18===U||13===U||V.M.isCtrlOrMeta(R))return!1;var z=this.contract.toolbar&&this.contract.toolbar.element;return!(z&&(0,e.y)(z))}setVisualTitle(R){this.visualTitle=R;var U="";R&&(_.isEmpty(this.readOnlyState.popOutBarSubtitle)&&R.titleComponents&&R.titleComponents.subtitle?(this.readOnlyState.popOutBarSubtitle=R.titleComponents.subtitle,R.titleComponents&&R.titleComponents.title?U=R.titleComponents.title:R.text&&(U=R.text)):R.text?U=R.text:R.titleComponents&&R.titleComponents.title&&(U=R.titleComponents.title)),this.readOnlyState.popOutBarTitle=U}setVisualSubTitle(R){this.visualSubTitle=R;var U="";R&&R.text&&(U=R.text),this.readOnlyState.popOutBarSubtitle=U}setTooltip(){var R=(0,y.s)(this.contract),U=this.getVisualLinkTypeLabel(R)||"",z=this.visualPlugin?.capabilities(R)?.ariaRole,j=this.visualPlugin&&this.visualPlugin.getPlugin(R);if(j){var H=this.ariaMetadata&&this.ariaMetadata.subtitleDisplayNameGetter,q=H?` ${(0,N.Gf)(H,this.localizationService)}`:"";R=(0,N.s_)(j,void 0,void 0,void 0,this.localizationService).title+q}var J=this.visualTitle,Z=void 0!==J?.text&&`${J.text} `||"",Q=this.visualSubTitle,ne=void 0!==Q?.text&&`${Q.text} `||"",le=this.contract.config.singleVisual,he=le.evaluatedObjects&&le.evaluatedObjects.general&&le.evaluatedObjects.general.altText?` ${le.evaluatedObjects.general.altText}`:"";this.tooltip=`${Z}${U}${R}${he}`,this.ariaLabel=`${Z}${ne}${U}${he}`,this.ariaRole="group",this.ariaRoleDescription=z??R,this.ariaRoleDescription&&"table"===this.ariaRoleDescription.trim().toLowerCase()&&(this.ariaRoleDescription="")}getVisualLinkTypeLabel(R){var U=this.visualPlugin&&this.visualPlugin.capabilities(R);if(U&&U.supportsVisualLink){var z=this.contract.config.singleVisual,j=z.evaluatedObjects&&z.evaluatedObjects.visualLink;if(j&&j.show){var H=(0,t.oL)(j),q=_.find(C.Zg.members(),G=>G.value===H).displayName;return`${(0,N.Gf)(q,this.localizationService)} `}}}setHeaderTooltip(){var R=this.contract.config.singleVisual,U=R.evaluatedObjects&&R.evaluatedObjects.visualHeader,z=R.evaluatedObjects&&R.evaluatedObjects.visualHeaderTooltip;this.headerTooltip=U&&U.showTooltipButton&&z?z:void 0}redrawVisual(){this.runningVisual&&(0,w.yY)(this.runningVisual,this.runningVisual.getViewport(),f.EP.Resize,this.visualHostServices,this.editMode)}updateVisualViewportForUserResize(R){var U=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),z=this.runningVisual;this.enableVisualScaling?(R.width/=this.uiScale.x,this.visualBorder&&(R.width-=2*this.visualBorder.thickness()),this.useStylableHeader()||(R.height-=A.VisualContainerHeaderHeight),R.height/=this.uiScale.y,this.visualBorder&&(R.height-=2*this.visualBorder.thickness())):this.useStylableHeader()||(R.height-=A.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(R.height-=A.VisualContainerFooterHeight),this.visualViewport=this.getVisualViewport(R.width,R.height,1,U),z&&(this.viewportResized=!0,(0,w.yY)(z,this.visualViewport,f.EP.Resize,this.visualHostServices,this.editMode,1)),this.applyVisualViewportStyle(this.readOnlyState,R),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(this.readOnlyState,R.width);var H=this.overridePosition||this.convertToScaledPosition(this.position);this.applyTitleStyle(this.readOnlyState,H.width,U),this.applyVisualTitleAreaStyle(this.readOnlyState),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(this.readOnlyState,H.width,U),this.applyDividerStyle(this.readOnlyState,U))}shouldUseCache(){return(0,i.dw)(this.contract,this.options.disableQueryCacheUpdates)}adjustForVisualContainerHeader(R,U,z){(!this.formFactor||!this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset())&&(z&&(R.y+=U),R.height-=U)}convertToScaledPosition(R,U=!0){var z=this.viewModeState&&this.viewModeState.getConfig().displayOptions.disablePixelValueRounding,j=(0,E.vW)(R,this.uiScale,!z);return this.adjustForVisualContainerHeader(j,this.useStylableHeader()?0:-A.VisualContainerHeaderHeight,U),j}reset(){var R=this.visual;R&&(R.data=void 0,R.dataTransforms=void 0,R.hostServices=n.o4,R.visualAdapterHostServices={getNextDataSegment:()=>new Promise((U,z)=>z(new Error("Visual reset"))),startProgressBar:_.noop,stopProgressBar:_.noop}),this.runningVisuals&&this.runningVisuals.removeVisual(this.contract),this.runningVisual=void 0,this.showClientWarnings=void 0,this.visualHostServices=void 0,this.visualAdapterHostServices=void 0,this.lastBodyScale=void 0,this.bodyScaleChanged=void 0}updateViewStateCore(R){if(this.servicesState===O.Initialized){var U=this.viewModeState&&this.viewModeState.getConfig(),z=U&&U.displayOptions,j=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),H=this.contract,q=this.position,G=this.overridePosition||this.convertToScaledPosition(q),J=(0,m.ED)(G),Z=!this.useStylableHeader()||this.isPoppedOut;if(this.enableVisualScaling?this.overridePosition?(Z&&(J.height-=A.VisualContainerHeaderHeight),J.height/=this.uiScale.y,J.width/=this.uiScale.x):(J=(0,m.ED)(q),this.formFactor&&this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()&&Z&&(J.height-=A.VisualContainerHeaderHeight/this.uiScale.y)):Z&&(J.height-=A.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(J.height-=A.VisualContainerFooterHeight),this.isPoppedOut&&(!z||!z.hideInFocusBar)){var ne=A.PopOutBarHeight;this.enableVisualScaling&&(ne/=this.uiScale.y),J.height-=ne}this.hasDetailVisual=this.showDetailVisual()||this.showVisualCalcEditor();var le=this.contract.detailVisualLayout??1;this.showDetailHorizontal=this.hasDetailVisual&&1===le,this.showDetailVertical=this.hasDetailVisual&&2===le,this.visualViewport=this.getVisualViewport(J.width,J.height,this.uiScale.x,j);var he=H.config.singleVisual;if(R.isFilterVisual=!1,he){this.showWatermark=!1,this.canPin=!0;var Se=he.visualType,Ke=this.visualPlugin&&this.visualPlugin.capabilities(Se);if(Ke&&(R.isFilterVisual=null!=(0,P.MD)(Ke.objects)),he.query){var Ge=he.query.defn;if(Ge){var ye=Ge.orderBy();R.actualSortDirection=ye&&ye.length?ye[0].direction:void 0}}else this.visualPluginOps&&this.visualPluginOps.isQueryVisual(Se)&&"debugVisual"!==Se&&(this.canPin=!1,this.showWatermark=!(this.showVisualCalcEditor()||this.viewModeState&&Ke&&Ke.supportsLandingPage&&(1===this.viewModeState.getMode()||Ke.supportsEmptyDataView)));this.updateVisualDefinition(this.visualViewport),this.visual&&(!this.runningVisuals.getVisual(this.contract)||!this.runningVisual)&&(this.runningVisual=(0,w.vC)(this.visual,this.visualHostServices,this.editMode,this.contract.config.singleVisual,this.hostServices,this.filterGenerator,this.showClientWarnings,this.sortServices,this.selectionServices,this.dataViewServices),this.runningVisuals.setVisual(this.contract,this.runningVisual)),this.setViewport(R,this.visualViewport)}R.position={...G,z:null!=this.zIndexOverride?this.zIndexOverride:q.z||0,angle:q.angle||0},this.applyTitleStyle(R,G.width,j),this.applyVisualTitleAreaStyle(R),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(R,G.width,j),this.applyDividerStyle(R,j)),this.applyVisualViewportStyle(this.readOnlyState,J),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(R,J.width),this.applyHeaderStyle(R),this.setHeaderItemVisibility(R),this.setTooltip(),this.setHeaderTooltip(),H&&H.postProcessing&&this.configureInitializationSpinner(H.postProcessing),this.bodyScaleChanged&&this.uiScale.x!==this.lastBodyScale&&this.bodyScaleChanged(),this.lastBodyScale=this.uiScale.x}}isHeaderItemVisible(R){return!this.readOnlyState.itemVisibility||this.readOnlyState.itemVisibility[R]}isDeprecationWarningVisible(){return 1===this.viewModeState.getMode()&&void 0!==this.customVisualDeprecatedWarningInfo}isWarningVisible(){return this.isHeaderItemVisible("visualWarningButton")&&void 0!==this.warningInfo}isErrorVisible(){return this.isHeaderItemVisible("visualErrorButton")&&void 0!==this.transformWarningInfo}isInfoVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.visualInfo}isInfoVersionsVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.versionsInfo}isHeaderTooltipVisible(){return this.isHeaderItemVisible("tooltipButton")}isAnyIconVisible(){return this.isDeprecationWarningVisible()||this.isWarningVisible()||this.isErrorVisible()||this.isInfoVersionsVisible()||this.isInfoVisible()||this.isHeaderTooltipVisible()}anyHeaderItemVisible(R){if(R)for(var U of R)if(this.isHeaderItemVisible(U))return!0;return!1}isTextboxVisual(){return this.contract.config.singleVisual.visualType===d.L.textbox.name}getTextboxVisual(){return l.fF.assert(()=>this.isTextboxVisual(),"Should not try to get textbox visual for non-textbox visual"),this.tryGetUnwrappedVisual()}isContractAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.contract.config.singleVisual.visualType)}isDefinitionAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.visual&&this.visual.type)}isContractQnaVisual(){return this.visualPluginOps.isQnaVisual(this.contract.config.singleVisual.visualType)}getQnaVisual(){return l.fF.assert(()=>this.isContractQnaVisual(),"Should not try to get qna visual for non-qna visual"),this.tryGetUnwrappedVisual()}isDefinitionQnaVisual(){return this.visualPluginOps.isQnaVisual(this.visual&&this.visual.type)}setInitialLoadTelemetryParent(R){l.fF.assertValue(this.visual,"this.visual must be defined to set initialization parent activity"),this.visual.initialLoadActivity=R}regenerateWarnings(){this.warningsSubject.next(this.getVisualWarnings())}tryGetUnwrappedVisual(){var R=this.runningVisual?.getAdapter();return R?R.unwrap?R.unwrap():R:void 0}setHeaderItemVisibility(R){var U=R.itemVisibility;U||(U=R.itemVisibility={});var z=this.viewModeState&&this.viewModeState.getMode(),j=this.contract.config.singleVisual,H=this.useStylableHeader()?j.evaluatedObjects&&j.evaluatedObjects.visualHeader:void 0;for(var q in I){var{key:G,defaultValue:J,forceVisible:Z}=I[q],Q=void 0;if(Z&&void 0!==Z[z])Q=Z[z];else{var ne=H&&H[G];Q=void 0!==ne?ne:J}U[q]=Q}}applyHeaderStyle(R){var U=this.contract.config.singleVisual,z=this.useStylableHeader()?U.evaluatedObjects&&U.evaluatedObjects.visualHeader:void 0;this.applyItemContainerStyle(R,z),this.applyHeaderBackgroundStyle(R,z),this.applyHeaderForegroundStyle(R,z)}applyItemContainerStyle(R,U){var z={"background-color":"","border-color":""};if(this.useStylableHeader()&&U&&(U.background||null!=U.transparency||null!=U.border)){var j=U.background&&U.background.solid?(0,s.WV)(U.background.solid.color):{R:255,G:255,B:255},H=U.border&&U.border.solid?(0,s.WV)(U.border.solid.color):j;null!=U.transparency?H.A=j.A=1-U.transparency/100:(null==j.A&&(j.A=1),null==H.A&&(H.A=1)),z["background-color"]=(0,s.U8)(j),z["border-color"]=(0,s.U8)(H)}R.headerItemContainerStyle||(R.headerItemContainerStyle=new o.Y),R.headerItemContainerStyle.addAttributes(z),R.headerItemContainerStyle.apply()}applyHeaderBackgroundStyle(R,U){var z={"background-color":""};if(this.useStylableHeader()&&U&&(U.background||null!=U.transparency)){var j=U.background&&U.background.solid?(0,s.WV)(U.background.solid.color):A.VisualHeaderBackgroundColor;null!=U.transparency?j.A=1-U.transparency/100:null==j.A&&(j.A=1-A.VisualHeaderTransparency/100),z["background-color"]=(0,s.U8)(j);var H=this.themeService?.getVisualStyle(this.themeCollection);H&&(z[":hover"]=c.v.getThemeColor(H,"backgroundNeutral"))}R.headerBackgroundStyle||(R.headerBackgroundStyle=new o.Y),R.headerBackgroundStyle.addAttributes(z),R.headerBackgroundStyle.apply()}applyHeaderForegroundStyle(R,U){var z={color:""};this.useStylableHeader()&&U&&U.foreground&&U.foreground.solid&&(z.color=U.foreground.solid.color),R.headerForegroundStyle||(R.headerForegroundStyle=new o.Y),R.headerForegroundStyle.addAttributes(z),R.headerForegroundStyle.apply()}applyVisualBodyStyle(R){R.visualStyle||(R.visualStyle=new o.Y);var U=this.themeService?.getVisualStyle(this.themeCollection);U?.isHighContrast&&this.visualDropShadow&&(this.visualDropShadow.color=c.v.getThemeColor(U,"foreground"));var j=this.visualBorder&&this.visualBorder.getPaddingFromBorder();if(this.featureSwitchService?.featureSwitches.vcPadding){var H=this.getVisualBodyPadding();j=`${H.top}px ${H.right}px ${H.bottom}px ${H.left}px`}var q=this.shouldAppyBoxShadow(),G=(0,i.O$)(this.visualBackground&&this.visualBackground.colorRGB,this.visualBorder&&this.visualBorder.getBorderStyle(),this.visualBorder&&this.visualBorder.getBorderRadius(),j,q&&this.visualDropShadow&&this.visualDropShadow.getBoxShadow());R.visualStyle.addAttributes(G),R.visualStyle.apply()}shouldAppyBoxShadow(){var R=this.contract.visibility;if(null==R)return!0;switch(R){case 0:return!0;case 1:case 2:case 8:case 4:case 16:case 32:return!1;default:return l.fF.assertFail(`Unhandled visibility: ${R}`),!1}}applyVisualViewportStyle(R,U){R.visualViewportStyle||(R.visualViewportStyle=new o.Y);var z=(0,i._L)(U,this.enableVisualScaling?this.uiScale.x:void 0);R.visualViewportStyle.addAttributes(z),R.visualViewportStyle.apply()}applyFooterStyle(R,U){if(this.isFooterVisible&&this.isFooterVisible()){var z={};R.footerStyle||(R.footerStyle=new o.Y),z.transform="scale("+(this.enableVisualScaling?this.uiScale.x:1)+")",z.width=U,R.footerStyle.addAttributes(z),R.footerStyle.apply()}}applyTitleStyle(R,U,z){var j={};if(this.visualTitleVisible()){this.featureSwitchService?.featureSwitches.vcPadding&&(j[p.YY]=this.getSpacing(i.hs.Title)),j[p.B1]=p.l6;var H=this.contract.config.singleVisual,q=H.evaluatedObjects&&H.evaluatedObjects.title||{},G=this.getTitleFontProperties(q,z);j[p.t0]=`${G.size.pt}pt`||"",j[p.Mq]=`${G.family}`||"",j[p.dj]=`${G.color}`||"",j[p.Z7]=q.alignment?q.alignment:"",j[p.CB]=q.background&&q.background.solid&&q.background.solid.color||"",j[p.ei]=(this.isTitleWrappingEnabled?this.visualTitleWrapped.length:1)*(0,i.X)(G),this.insetHeaderSize?this.isTitleWrappingEnabled||(j[p.kP]=(U-this.insetHeaderSize.width)/this.uiScale.x):j[p.kP]=null,j[p.ps]=q.bold?p.en:"",j[p.Ji]=q.italic?p.BF:"",j[p.QX]=q.underline?p.f0:"";var Q=!this.visualTitle?.isPlaceholderText;j[p.mA]=Q?"none":"1px dashed black",j[p.LR]=Q?"0":"1px",j[p.Ux]=Q?"0":"1px",j[p.wF]=Q?"default":"text"}else j[p.B1]=p.fw;R.titleStyle||(R.titleStyle=new o.Y),R.titleStyle.addAttributes(j),R.titleStyle.apply()}applySubTitleStyle(R,U,z){var j={};if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){j[p.YY]=this.getSpacing(i.hs.SubTitle),j[p.B1]=p.l6;var H=this.contract.config.singleVisual,q=H.evaluatedObjects&&H.evaluatedObjects.subTitle||{},G=this.getSubTitleFontProperties(q,z);j[p.t0]=`${G.size.pt}pt`||"",j[p.Mq]=`${G.family}`||"",j[p.dj]=`${G.color}`||"",j[p.Z7]=q.alignment?q.alignment:"",j[p.ei]=(this.isSubTitleWrappingEnabled?this.visualSubTitleWrapped.length:1)*(0,i.X)(G),this.insetHeaderSize?this.isSubTitleWrappingEnabled||(j[p.kP]=(U-this.insetHeaderSize.width)/this.uiScale.x):j[p.kP]=null,j[p.ps]=q.bold?p.en:"",j[p.Ji]=q.italic?p.BF:"",j[p.QX]=q.underline?p.f0:"";var Q=!this.visualSubTitle?.isPlaceholderText;j[p.mA]=Q?"none":"1px dashed black",j[p.LR]=Q?"none":"2px",j[p.Ux]=Q?"0":"1px",j[p.wF]=Q?"default":"text"}else j[p.B1]=p.fw;R.subTitleStyle||(R.subTitleStyle=new o.Y),R.subTitleStyle.addAttributes(j),R.subTitleStyle.apply()}applyDividerStyle(R,U){var z={};if(this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){z[p.YY]=this.getSpacing(i.hs.Divider),z[p.B1]=p.l6;var H=this.contract.config.singleVisual,q=H.evaluatedObjects&&H.evaluatedObjects.divider;if(z[p.VM]=`${q.width||1}px ${q.style||"Solid"} ${q.color&&q.color.solid&&q.color.solid.color||U.colorPalette.foregroundNeutralSecondary.value}`,!1!==q.ignorePadding){var ne=this.getVisualBodyPadding();z[p.Sd]=`-${ne.left||0}px`,z[p.Uy]=`-${ne.right||0}px`}else z[p.Sd]="",z[p.Uy]=""}else z[p.B1]=p.fw;R.visualsDividerStyle||(R.visualsDividerStyle=new o.Y),R.visualsDividerStyle.addAttributes(z),R.visualsDividerStyle.apply()}applyVisualTitleAreaStyle(R){var U={};if(this.visualTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var z=this.contract.config.singleVisual,j=z.evaluatedObjects&&z.evaluatedObjects.title||{};U[p.CB]=j.background&&j.background.solid&&j.background.solid.color||"";var H=this.getVisualBodyPadding();U[p.LR]=`-${H.top||0}px`,U[p.j4]=`${H.top||0}px`,U[p.Sd]=`-${H.left||0}px`,U[p.Ux]=`${H.left||0}px`,U[p.Uy]=`-${H.right||0}px`,U[p.By]=`${H.right||0}px`}else U[p.CB]="",U[p.LR]="",U[p.j4]="",U[p.Sd]="",U[p.Ux]="",U[p.Uy]="",U[p.By]="";R.visualTitleAreaStyle||(R.visualTitleAreaStyle=new o.Y),R.visualTitleAreaStyle.addAttributes(U),R.visualTitleAreaStyle.apply()}getSpacing(R){var U=this.contract.config.singleVisual;return(0,i.h4)(R,U.evaluatedObjects&&U.evaluatedObjects.spacing)}getVisualBodyPadding(){l.fF.assertValue(this.featureSwitchService.featureSwitches.vcPadding,"this helper method should only be called if vcPadding FS is on");var R=this.contract.config.singleVisual;return(0,i.NY)(this.visualPadding,R.evaluatedObjects?.padding,this.visualBorder&&this.visualBorder.getNumericPaddingFromBorder())}updateVisualDefinition(R){var U=this.contract.config.singleVisual,z=U.visualType;if(l.fF.assertAnyValue(U,"VisualContainer.updateVisualDefinition singleVisual should be defined."),this.visual){var j=this.visual;j.type!==U.visualType?(j.data=null,this.visualHostServices?.onClearLicenseNotification()):this.showWatermark&&this.visualHostServices?.onClearLicenseNotification(),l.fF.assert(()=>j.visualName===this.contract.name,"visualName"),j.type=z,j.stylePresetName=U.evaluatedObjects&&U.evaluatedObjects.stylePreset&&U.evaluatedObjects.stylePreset.name,j.hostServices=this.visualHostServices,j.visualAdapterHostServices=this.visualAdapterHostServices,j.orderIndependentSelectorMatching=U.queryOptions&&U.queryOptions.keepProjectionOrder,this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(z)),this.visual.visualHasData=!!U.query,this.visual.currentZone=this.currentZone}else this.visualHostServices&&(this.visual={viewport:R,type:z,visualName:this.contract.name,dataTransforms:{objects:U.objects},hostServices:this.visualHostServices,visualAdapterHostServices:this.visualAdapterHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0,isVisualInteractive:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:this.themeCollection,orderIndependentSelectorMatching:U.queryOptions&&U.queryOptions.keepProjectionOrder},this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(z)),this.visual.visualHasData=!!U.query)}setViewport(R,U){this.runningVisual&&this.setVisualViewport(this.runningVisual,U)}setVisualViewport(R,U){if(R&&U){var z=this.viewportResized;this.viewportResized=void 0;var j,H=this.enableVisualScaling?this.uiScale.x:1;(z||!(j=R.getViewport())||j.height!==U.height||j.width!==U.width||j.scale!==H)&&R.setViewport({...U,scale:H},z)}}getVisualViewport(R,U,z,j){var H=this.contract.config.singleVisual,q=0;this.visualBorder&&this.visualBorder.visible&&(q=this.visualBorder.getNumericPaddingFromBorder());var G=this.isPaddingDisabled?2*q:2*(q+A.VisualContainerDefaultPadding),J=this.isPaddingDisabled?2*q:2*(q+A.VisualContainerDefaultPadding);if(this.featureSwitchService?.featureSwitches.vcPadding){var Z=this.getVisualBodyPadding();G=Z.left+Z.right,J=Z.top+Z.bottom}var Q=0,ne=0,le=0,he=0,Se=R-G;if(this.visualTitleVisible()){var Ke=this.getTitleFontProperties(this.visualTitle,j);this.updateVisualTitleWrapping(Se,Ke),ne=(0,i.X)(Ke),ne*=this.visualTitleWrapped.length||1,this.featureSwitchService?.featureSwitches.vcPadding&&(ne+=this.getSpacing(i.hs.Title)),this.visualTitle?.isPlaceholderText&&(ne+=3)}if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var Ge=this.getSubTitleFontProperties(this.visualSubTitle,j);this.updateSubVisualTitleWrapping(Se,Ge),le=(0,i.X)(Ge),le*=this.visualSubTitleWrapped.length||1,le+=this.getSpacing(i.hs.SubTitle),this.visualSubTitle?.isPlaceholderText&&(ne+=4)}this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding&&(Q=(H.evaluatedObjects&&H.evaluatedObjects.divider).width??0,Q+=this.getSpacing(i.hs.Divider)),this.visualPausedWarning&&(he+=A.VisualBannerHeight),this.featureNotSupportedWarning&&1===this.viewModeState.getMode()&&(he+=A.VisualBannerHeight);var we=U-J-ne-he-le-Q;this.featureSwitchService.featureSwitches.visualBorderWidth&&this.visualBorder?.visible&&null!=this.visualBorder.width&&(Se-=2*this.visualBorder.width,we-=2*this.visualBorder.width);var je=this.viewModeState&&this.viewModeState.getConfig().displayOptions.showDetailVisualOnFullScreen;return this.hasDetailVisual&&!je&&(1===(this.contract.detailVisualLayout||1)?(we-=J,we/=2):(Se-=G,Se/=2)),{width:Math.max(Se,0),height:Math.max(we,0),scale:z}}getTitleFontProperties(R,U){var z=(0,S.N)(R,"bold"),j=(0,S.N)(R,"italic"),H=(0,S.N)(R,"underline"),q={color:"fontColor",family:"fontFamily",size:"fontSize"};z&&(q.bold="bold"),j&&(q.italic="italic"),H&&(q.underline="underline");var G=c.v.create(U);return(0,h.Zi)(R,q,G,U,void 0,i.Hf,i.o8)}getSubTitleFontProperties(R,U){var z=(0,S.N)(R,"bold"),j=(0,S.N)(R,"italic"),H=(0,S.N)(R,"underline"),q={color:"fontColor",family:"fontFamily",size:"fontSize"};z&&(q.bold="bold"),j&&(q.italic="italic"),H&&(q.underline="underline");var G=c.v.create(U);return(0,h.Zi)(R,q,G,U,i.uz,i.Zq,i.o8)}updateVisualTitleWrapping(R,U){if(this.visualTitle&&this.visualTitle.text){var z=(0,h.qk)(U),j=new o.Y;if(j.addAttributes({width:R}),j.addAttributes({fontSize:`${U.size.px}px`}),j.addAttributes({fontWeight:`${U.weight}`}),1===this.headerTitleMaxLines)return void(this.visualTitleWrapped=[{text:this.visualTitle.text.trim(),style:j}]);var H=(0,v.ql)(this.visualTitle.text,z,b.b.measureSvgTextWidth,R,this.headerTitleMaxLines,null,!0);this.visualTitleWrapped=H.map(q=>({text:q.trim(),style:j}))}}updateSubVisualTitleWrapping(R,U){if(this.visualSubTitle&&this.visualSubTitle.text){var z=(0,h.qk)(U),j=new o.Y;if(j.addAttributes({width:R}),j.addAttributes({fontSize:`${U.size.px}px`}),j.addAttributes({fontWeight:`${U.weight}`}),1===this.headerSubTitleMaxLines)return void(this.visualSubTitleWrapped=[{text:this.visualSubTitle.text.trim(),style:j}]);var H=(0,v.ql)(this.visualSubTitle.text,z,b.b.measureSvgTextWidth,R,this.headerSubTitleMaxLines,null,!0);this.visualSubTitleWrapped=H.map(q=>({text:q.trim(),style:j}))}}showDetailVisual(){return 2===this.contract.visibility||8===this.contract.visibility}showVisualCalcEditor(){return 16===this.contract.visibility}useStylableHeader(){return A.useStylableHeader(this.explorationCapabilities)}static useStylableHeader(R){return R&&R.getCapabilities().visualContainerOptions.useStylableHeader}configureInitializationSpinner(R){this.showInitializationSpinner=!0,R.catch(U=>{}).finally(()=>{this.showInitializationSpinner=!1,this.contract.postProcessing=void 0})}getVisualWarnings(){var R=[],U=this.viewModeState&&1===this.viewModeState.getMode();return this.visualPausedWarning&&R.push({id:"visualPaused",viewModel:this.visualPausedWarning,message:this.visualPausedWarning.iconTooltip,canShowVisualWarning:!0,buttonClick:z=>{this.pauseQueriesService?.refreshVisuals(z),this.visualPausedWarning=void 0}}),this.featureNotSupportedWarning&&R.push({id:"featureNotSupported",viewModel:this.featureNotSupportedWarning,message:this.featureNotSupportedWarning.iconTooltip,canShowVisualWarning:U,hideBanner:()=>{this.featureNotSupportedWarning=void 0}}),R}}return A.VisualContainerHeaderHeight=20,A.VisualContainerFooterHeight=34,A.VisualContainerDefaultPadding=5,A.PopOutBarHeight=40,A.HeaderInTitleScaleThreshold=.9,A.VisualBannerHeight=38,A.VisualBannerPaddingTopPopOutMode=3,A.VisualHeaderBackgroundColor={R:255,G:255,B:255},A.VisualHeaderTransparency=0,A})()},652251:function(Ce,k,r){r.d(k,{IT:function(){return y},Iw:function(){return i},Vz:function(){return c},q4:function(){return o}});var a=r(159214),e=r(599543),u=r(542666),t=r(928948),C=r(185527);class y{constructor(d,n,s){this.contract=d,this.currentCanvasLayout=n,this.children=s,this.uiScale=t.U2}setSelected(d){this.isSelected=d}get id(){return this.contract.id}get name(){return this.contract.name}get isHidden(){return this.contract.isHidden}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(d){this.contract.layouts.withId(this.currentCanvasLayout).position=d}get isPositioned(){var d=this.position;return 0!==d.width&&0!==d.height}startResize(){for(var d of(this.originalPosition=this.position,this.children))d.startResize()}getScaledPosition(){return this.scaledPosition||this.convertToScaledPosition(this.position)}convertToScaledPosition(d){return(0,C.vW)(d,this.uiScale,!0)}updateViewportForUserResize(d){var n=this.convertToScaledPosition({...d,x:0,y:0});this.updateStyle(n)}updateViewState(){this.scaledPosition=this.convertToScaledPosition(this.position);var d=(0,u.ED)(this.scaledPosition);this.updateStyle(d),this.setTooltip()}updateStyle(d){this.applyStyle||(this.applyStyle=new e.Y);var n=(0,a._L)(d,void 0);this.applyStyle.addAttributes(n);var s=(0,a.O$)(this.background&&this.background.colorRGB,this.border&&this.border.getBorderStyle(),this.border&&this.border.getBorderRadius(),this.border&&this.border.getPaddingFromBorder());this.applyStyle.addAttributes(s),this.applyStyle.apply()}setTooltip(){this.tooltip=this.contract.evaluatedObjects?.general?.altText?.toString()}clone(){var d=new y(this.contract,this.currentCanvasLayout,this.children);return _.assign(d,this)}}function i(h,d,n){var s=n&&n.visibleOnly;for(var p of h)s&&p.isHidden||(d(p),o(p)&&i(p.children,d,n))}function o(h){return!!h.children}function c(h){return!h.children}},434470:function(Ce,k,r){r.d(k,{u:function(){return t}});var a=r(186359),e=r(551137),u=r(666058);class t{constructor(y){y&&(this.visible=y.show,this.position=y.position,this.color=y.color.solid.color,this.preset=y.preset,this.transparency=y.transparency,this.shadowSpread=y.shadowSpread,this.shadowBlur=y.shadowBlur,this.angle=y.angle,this.shadowDistance=y.shadowDistance)}getBoxShadow(){if(this.visible){if(this.preset!==a.$g){var y=(0,e.X2)(this.preset,this.position);if(y)for(var i in y)this[i]=y[i]}var o=this.position===a.$S?"inset ":"",c=(0,u.TD)(this.transparency),h=Math.PI/180*this.angle;return o+Math.cos(h)*this.shadowDistance+"px "+Math.sin(h)*this.shadowDistance+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+(0,u.cD)(this.color,c)}return""}}},119478:function(Ce,k,r){r.d(k,{G:function(){return a},W:function(){return e}});var a=function(u){return u[u.Fields=0]="Fields",u[u.Format=1]="Format",u[u.Analytics=2]="Analytics",u}({}),e=function(u){return u[u.Fields=0]="Fields",u[u.Format=1]="Format",u}({})},347293:function(Ce,k,r){r.d(k,{$U:function(){return H},$V:function(){return F},$z:function(){return J},A6:function(){return h},AA:function(){return E},B8:function(){return n},D6:function(){return B},Db:function(){return L},Dd:function(){return b},HI:function(){return y},HX:function(){return A},Hd:function(){return O},JM:function(){return R},JW:function(){return N},KB:function(){return we},Kc:function(){return U},Kh:function(){return d},LN:function(){return P},LU:function(){return p},N8:function(){return u},NC:function(){return v},Q$:function(){return c},QZ:function(){return ne},R6:function(){return Se},RR:function(){return q},SC:function(){return I},SY:function(){return o},U:function(){return ye},UL:function(){return Ge},Xj:function(){return w},Z9:function(){return s},ZF:function(){return z},az:function(){return Z},bJ:function(){return C},bN:function(){return e},bm:function(){return T},d1:function(){return j},e3:function(){return Pe},eM:function(){return t},h8:function(){return Ke},h9:function(){return W},hH:function(){return m},jb:function(){return S},kw:function(){return M},lr:function(){return le},mC:function(){return f},nW:function(){return G},oK:function(){return je},rw:function(){return i},tL:function(){return de},tb:function(){return l},to:function(){return he},vg:function(){return D},yJ:function(){return g},yL:function(){return Q},yX:function(){return V},zH:function(){return x}});var a=r(27819),e=-1,u=a.N8,t="extension",C=!0,y="page",i="report",o="group",c=12,h=12,d="x_position",n="y_position",s=960,p=720,l="#FFFFFF",m="#EAEAEA",b=0,V=0,g="#000000",v="#ffffff",f="#117865",S="#ffffff",P="#BDBDBD",D=200,M=32,E=180,w=420,x=!0,N="#C8C8C8",L=12,B=10,I=9,W="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",O=0,F=0,A=!0,T="#C8C8C8",R=9,U="Available",z="Applied",j="#C8C6C4",H="#FFFFFF",q="#252423",G=0,J=1280,Z=720,Q=296,ne=592,le=816,he=1056,Se=320,Ke=240,Ge=10,ye=60,we=40,je="PT30M";function de(){return{color:l,transparency:G}}function Pe(){return{color:m,transparency:b}}},729507:function(Ce,k,r){r.d(k,{Dy:function(){return t},kj:function(){return e},wO:function(){return u}});var a=r(124463),e="CDM",u="APR",t=(0,a.i)([{value:u,displayName:C=>C.get("PageRefresh_APR")},{value:e,displayName:C=>C.get("ChangeDetection")}])},349205:function(Ce,k,r){r.d(k,{J:function(){return a},U:function(){return e}});class a{static isValidBookmark(t){return t&&(a.isBookmarkGroup(t)||a.isStateBookmark(t))}static isBookmarkGroup(t){return void 0!==t.children}static isStateBookmark(t){return!a.isBookmarkGroup(t)}static isWebBookmark(t){return void 0!==t.type}}var e=function(u){return u.Add="AddBookmark",u.Apply="ApplyBookmark",u.Remove="RemoveBookmark",u.Move="MoveBookmark",u.Update="UpdateBookmark",u.Rename="RenameBookmark",u.Group="GroupBookmarks",u.Ungroup="UngroupBookmarks",u}({})},153260:function(Ce,k,r){r.d(k,{$$:function(){return d},$g:function(){return h},CD:function(){return o},kB:function(){return n},p1:function(){return c},yd:function(){return i}});var a=r(21545),e=r(531905),u=r(230373),t=r(722709),C=r(939123),y=r(347293);function i(s=[]){return(0,t.z8)((0,t.Br)(s))}function o(s){var p=y.N8;return{type:e.nKy,id:s.id,name:p,dsr:{schemaName:p,vsName:s.vsName,dbName:s.dbName,modelId:s.id,isQueryCachingEnabled:s.capacityObjectId&&void 0===s.queryCachingState?void 0:2===s.queryCachingState,lastRefreshTime:s.lastRefreshTime,isLimitedParallelQueryModel:s.datasetHost===u.GY.ASOnPrem}}}function c(s){return _.includes(Object.keys(s),"extends")}function h(s,p){if(C.fF.assertAnyValue(s,"dataSources"),C.fF.assertAnyValue(p,"query"),!_.isEmpty(s)){var l=(0,a.fV)(p);return n(_.isEmpty(l)?s:_.filter(s,b=>_.includes(l,b.name)))}}function d(s,p){if(C.fF.assertAnyValue(s,"dataSources"),C.fF.assertAnyValue(p,"query"),!_.isEmpty(s)){var l=(0,a.fV)(p);return _.isEmpty(l)?_.filter(s,m=>!c(m)):_.chain(s).filter(m=>_.includes(l,m.name)).map(m=>c(m)?_.find(s,b=>b.name===m.extends):m).uniq().value()}}function n(s){return _.map(s,p=>p[(0,a.wx)(p)])}},571627:function(Ce,k,r){r.d(k,{W:function(){return t},u:function(){return u}});var a=r(438043),e=r(877206),u=function(C){return C[C.Unspecified=0]="Unspecified",C[C.QnaSuggestQuestions=1]="QnaSuggestQuestions",C[C.VisualColumnRenameTerms=2]="VisualColumnRenameTerms",C}({}),t={outspacePane:{displayName:(0,a.V)("Exploration_FilterPane"),properties:{expanded:{type:{bool:!0}},visible:{type:{bool:!0}}}},section:{displayName:(0,a.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{type:{enumeration:e.Dy}}}}}},990121:function(Ce,k,r){r.d(k,{LP:function(){return a},XW:function(){return e},vA:function(){return u}});var a="filter",e={general:{properties:{requireSingleSelect:{type:{bool:!0}},isInvertedSelectionMode:{type:{bool:!0}}}}},u=function(t){return t[t.Categorical=0]="Categorical",t[t.Range=1]="Range",t[t.Advanced=2]="Advanced",t[t.Passthrough=3]="Passthrough",t[t.Visual=4]="Visual",t[t.TopN=5]="TopN",t[t.Include=6]="Include",t[t.Exclude=7]="Exclude",t[t.RelativeDate=8]="RelativeDate",t[t.Tuple=9]="Tuple",t[t.RelativeTime=10]="RelativeTime",t[t.VisualTopN=11]="VisualTopN",t}({})},518299:function(Ce,k,r){r.d(k,{w:function(){return a}});var a=function(e){return e[e.Self=1]="Self",e[e.Slicer=2]="Slicer",e}({})},540932:function(Ce,k,r){r.d(k,{C:function(){return C},SectionProps:function(){return i},y:function(){return y}});var a=r(438043),e=r(729507),u=r(877206),t=r(404447),C={pageInformation:{displayName:(0,a.V)("PagePropertyPane_PageInformation"),properties:{pageInformationName:{displayName:(0,a.V)("Name"),type:{text:!0}},pageInformationQnaPodEnabled:{displayName:(0,a.V)("Generic_Qna"),type:{bool:!0}},pageInformationAltName:{displayName:(0,a.V)("PagePropertyPane_PageInformation_AltName_Placeholder"),type:{formatting:{altText:!0}}},pageInformationType:{displayName:(0,a.V)("Allow_As_Tooltip"),type:{bool:!0}}}},pageSize:{displayName:(0,a.V)("Canvas_Settings"),properties:{pageSizeTypes:{displayName:(0,a.V)("Type"),type:{enumeration:t.D}},pageSizeWidth:{displayName:(0,a.V)("PagePropertyPane_PageSizeWidth"),type:{numeric:!0}},pageSizeHeight:{displayName:(0,a.V)("PagePropertyPane_PageSizeHeight"),type:{numeric:!0}}}},background:{displayName:(0,a.V)("PagePropertyPane_PageBackground"),properties:{color:{displayName:(0,a.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,a.V)("Transparency"),type:{numeric:!0}}}},displayArea:{displayName:(0,a.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{displayName:(0,a.V)("Visual_Alignment_Vertical"),type:{enumeration:u.Dy}}}},outspace:{displayName:(0,a.V)("PagePropertyPane_Outspace"),properties:{color:{displayName:(0,a.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,a.V)("Transparency"),type:{numeric:!0}}}},outspacePane:{displayName:(0,a.V)("Exploration_FilterPane"),properties:{backgroundColor:{displayName:(0,a.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_OutspacePane_BackgroundColorTooltip")},transparency:{displayName:(0,a.V)("Transparency"),type:{numeric:!0},description:(0,a.V)("PagePropertyPane_OutspacePane_BackgroundTransparencyTooltip")},foregroundColor:{displayName:(0,a.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_OutspacePane_ForegroundColorTooltip")},titleSize:{displayName:(0,a.V)("Visual_AxisTitleTextSize"),type:{integer:!0},description:(0,a.V)("PagePropertyPane_OutspacePane_TitleSizeTooltip")},searchTextSize:{displayName:(0,a.V)("PagePropertyPane_OutspacePane_SearchTextSize"),type:{integer:!0},description:(0,a.V)("PagePropertyPane_OutspacePane_SearchTextSizeTooltip")},headerSize:{displayName:(0,a.V)("PagePropertyPane_OutspacePane_HeaderSize"),type:{integer:!0},description:(0,a.V)("PagePropertyPane_OutspacePane_HeaderSizeTooltip")},fontFamily:{displayName:(0,a.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,a.V)("PagePropertyPane_OutspacePane_FontFamilyTooltip")},border:{displayName:(0,a.V)("Visual_Border"),type:{bool:!0},description:(0,a.V)("PagePropertyPane_OutspacePane_LeftBorderTooltip")},borderColor:{displayName:(0,a.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_OutspacePane_BorderColorTooltip")},checkboxAndApplyColor:{displayName:(0,a.V)("Checkbox_Apply_Color_Title"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("Checkbox_Apply_Color_Description")},inputBoxColor:{displayName:(0,a.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_OutspacePane_InputBoxColorTooltip")},width:{displayName:(0,a.V)("PagePropertyPane_PageSizeWidth"),type:{integer:!0}}}},filterCard:{displayName:(0,a.V)("PagePropertyPane_FilterCards"),properties:{backgroundColor:{displayName:(0,a.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_FilterCards_BackgroundColorTooltip")},transparency:{displayName:(0,a.V)("Transparency"),type:{integer:!0},description:(0,a.V)("PagePropertyPane_FilterCards_BackgroundTransparencyTooltip")},border:{displayName:(0,a.V)("Visual_Border"),type:{bool:!0},description:(0,a.V)("PagePropertyPane_FilterCards_BorderTooltip")},borderColor:{displayName:(0,a.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_FilterCards_BorderColorTooltip")},foregroundColor:{displayName:(0,a.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_FilterCards_ForegroundColorTooltip")},textSize:{displayName:(0,a.V)("Visual_TextSize"),type:{integer:!0},description:(0,a.V)("PagePropertyPane_FilterCards_TextSizeTooltip")},fontFamily:{displayName:(0,a.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,a.V)("PagePropertyPane_FilterCards_FontFamilyTooltip")},inputBoxColor:{displayName:(0,a.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,a.V)("PagePropertyPane_FilterCards_InputBoxColorTooltip")}}},pageRefresh:{displayName:(0,a.V)("PageRefresh"),properties:{show:{displayName:(0,a.V)("Show"),type:{bool:!0}},refreshType:{displayName:(0,a.V)("AutoPageRefreshType"),type:{enumeration:e.Dy}},duration:{displayName:(0,a.V)("AutoPageRefreshInterval"),type:{duration:!0}},dialogLauncher:{displayName:(0,a.V)("AutoPageRefreshInterval"),type:{}},measure:{displayName:(0,a.V)("NewMeasureName"),type:{readOnlyText:!0}},checkEvery:{displayName:(0,a.V)("CheckEvery"),type:{readOnlyText:!0}}}},personalizeVisual:{displayName:(0,a.V)("VisualHeader_ShowPersonalizeVisualButton"),properties:{show:{displayName:(0,a.V)("Show"),type:{bool:!0}},perspectiveRef:{displayName:(0,a.V)("PersonalizeVisual_PerspectivePropertyName"),type:{reference:{perspective:!0}}},applyToAllPages:{displayName:(0,a.V)("PagePropertyPane_ApplyToAllPages"),type:{applyToAllPages:!0}}}}};function y(o){return _.filter(o,c=>!c.transient)}var i={pageInformation:{pageInformationName:{objectName:"pageInformation",propertyName:"pageInformationName"},pageInformationQnaPodEnabled:{objectName:"pageInformation",propertyName:"pageInformationQnaPodEnabled"},pageInformationAltName:{objectName:"pageInformation",propertyName:"pageInformationAltName"},pageInformationType:{objectName:"pageInformation",propertyName:"pageInformationType"},pageInformationDrillthroughKeepAllFilters:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughKeepAllFilters"},pageInformationDrillthroughCrossReportEnabled:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughCrossReportEnabled"},pageInformationDrillthroughFields:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughFields"},pageInformationDrillthroughLinkFieldsLinkTypes:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughLinkFieldsLinkTypes"}},pageSize:{pageSizeTypes:{objectName:"pageSize",propertyName:"pageSizeTypes"},pageSizeWidth:{objectName:"pageSize",propertyName:"pageSizeWidth"},pageSizeHeight:{objectName:"pageSize",propertyName:"pageSizeHeight"}},background:{color:{objectName:"background",propertyName:"color"},image:{objectName:"background",propertyName:"image"},transparency:{objectName:"background",propertyName:"transparency"}},displayArea:{verticalAlignment:{objectName:"displayArea",propertyName:"verticalAlignment"}},outspace:{color:{objectName:"outspace",propertyName:"color"},image:{objectName:"outspace",propertyName:"image"},transparency:{objectName:"outspace",propertyName:"transparency"}},outspacePane:{backgroundColor:{objectName:"outspacePane",propertyName:"backgroundColor"},transparency:{objectName:"outspacePane",propertyName:"transparency"},foregroundColor:{objectName:"outspacePane",propertyName:"foregroundColor"},titleSize:{objectName:"outspacePane",propertyName:"titleSize"},searchTextSize:{objectName:"outspacePane",propertyName:"searchTextSize"},headerSize:{objectName:"outspacePane",propertyName:"headerSize"},fontFamily:{objectName:"outspacePane",propertyName:"fontFamily"},border:{objectName:"outspacePane",propertyName:"border"},borderColor:{objectName:"outspacePane",propertyName:"borderColor"},checkboxAndApplyColor:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},inputBoxColor:{objectName:"outspacePane",propertyName:"inputBoxColor"},width:{objectName:"outspacePane",propertyName:"width"}},filterCard:{backgroundColor:{objectName:"filterCard",propertyName:"backgroundColor"},transparency:{objectName:"filterCard",propertyName:"transparency"},border:{objectName:"filterCard",propertyName:"border"},borderColor:{objectName:"filterCard",propertyName:"borderColor"},foregroundColor:{objectName:"filterCard",propertyName:"foregroundColor"},textSize:{objectName:"filterCard",propertyName:"textSize"},fontFamily:{objectName:"filterCard",propertyName:"fontFamily"},inputBoxColor:{objectName:"filterCard",propertyName:"inputBoxColor"}},pageRefresh:{show:{objectName:"pageRefresh",propertyName:"show"},refreshType:{objectName:"pageRefresh",propertyName:"refreshType"},duration:{objectName:"pageRefresh",propertyName:"duration"},dialogLauncher:{objectName:"pageRefresh",propertyName:"dialogLauncher"},measure:{objectName:"pageRefresh",propertyName:"measure"},checkEvery:{objectName:"pageRefresh",propertyName:"checkEvery"}},personalizeVisual:{show:{objectName:"personalizeVisual",propertyName:"show"},perspectiveRef:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},applyToAllPages:{objectName:"personalizeVisual",propertyName:"applyToAllPages"}}}},877206:function(Ce,k,r){r.d(k,{Dy:function(){return C},XN:function(){return t},ab:function(){return e},we:function(){return u}});var a=r(124463),e=function(y){return y[y.Top=0]="Top",y[y.Middle=1]="Middle",y}({}),u="Top",t="Middle",C=(0,a.i)([{value:u,displayName:y=>y.get("Top")},{value:t,displayName:y=>y.get("Middle")}])},404447:function(Ce,k,r){r.d(k,{D:function(){return u},t:function(){return e}});var a=r(124463),e={Dynamic:"Dynamic",Standard:"Standard",Widescreen:"Widescreen",Cortana:"Cortana",Letter:"Letter",Tooltip:"Tooltip",Custom:"Custom"},u=(0,a.i)([{value:e.Widescreen,displayName:t=>t.get("PagePropertyPane_PageSizeType_Widescreen")},{value:e.Standard,displayName:t=>t.get("PagePropertyPane_PageSizeType_Standard")},{value:e.Letter,displayName:t=>t.get("PagePropertyPane_PageSizeType_Letter")},{value:e.Tooltip,displayName:t=>t.get("Tooltip")},{value:e.Custom,displayName:t=>t.get("Custom")}])},748843:function(Ce,k,r){r.d(k,{Dy:function(){return C},Qy:function(){return h},Xg:function(){return c},Xz:function(){return t},d9:function(){return n},gA:function(){return u},pJ:function(){return i},xj:function(){return o},y5:function(){return s}});var a=r(969143),e=r(124463),u="Default",t="Canvas",C=(0,e.i)([{value:u,displayName:p=>p.get("Default")},{value:t,displayName:p=>p.get("ReportPage")}]),i="___AUTO___";function o(p,l=!1){var m=p?.show;return!1===m||void 0===m&&l}function c(p){var l=p?.show;return!l}function h(p){return!!p&&!p.show}function n(p){if(p){var l={visualType:p.visualType};p.syncGroup&&(l.syncGroup=_.cloneDeep(p.syncGroup)),p.columnProperties&&(l.columnProperties=_.cloneDeep(p.columnProperties)),p.query&&(l.query=p.query.clone()),p.queryOptions&&(l.queryOptions=_.cloneDeep(p.queryOptions)),p.objects&&(l.objects=(0,a.d9)(p.objects)),p.vcObjects&&(l.vcObjects=(0,a.d9)(p.vcObjects)),function(p,l){p.mobileObjects&&(l.mobileObjects=(0,a.d9)(p.mobileObjects)),p.mobileVcObjects&&(l.mobileVcObjects=(0,a.d9)(p.mobileVcObjects))}(p,l),p.hasDefaultSort&&(l.hasDefaultSort=p.hasDefaultSort);var m=p.conversionSourceContext;return m&&(l.conversionSourceContext={visualType:m.visualType,query:m.query&&m.query.clone(),syncGroup:m.syncGroup}),p.display&&(l.display=_.cloneDeep(p.display)),p.autoSelectVisualType&&(l.autoSelectVisualType=p.autoSelectVisualType),l.hasUsedSmallMultiples=p.hasUsedSmallMultiples,l}}function s(p,l){if(!p)return l.resolve();var m=p.getAdapter();return m?m.enumerateObjectRepetitionAsync?m.enumerateObjectRepetitionAsync():m.enumerateObjectRepetition?l.resolve(m.enumerateObjectRepetition()):l.resolve():l.resolve()}},221435:function(Ce,k,r){r.d(k,{F:function(){return v},XW:function(){return S},Zk:function(){return E},d7:function(){return f},d9:function(){return D},fU:function(){return P},iZ:function(){return x},k8:function(){return l},oL:function(){return d},s_:function(){return w},wv:function(){return g},xj:function(){return M}});var a=r(939123),e=r(160590),u=r(823313),t=r(438043),C=r(124463),y=r(430945),i=r(748843),o=r(523543),c=r(295046),h=r(186359);function d(N){return N.type||c.eJ}var p="Heading3",l="Heading4",V=(0,C.i)([{value:"Normal",displayName:N=>N.get("Normal")},{value:"Heading2",displayName:N=>N.get("Heading_2")},{value:p,displayName:N=>N.get("Heading_3")},{value:l,displayName:N=>N.get("Heading_4")},{value:"Heading5",displayName:N=>N.get("Heading_5")},{value:"Heading6",displayName:N=>N.get("Heading_6")}]),g=p,v="none",f={singleVisual:{visualType:"uninitializedVisual"}};(0,u._)(f);var S={title:{displayName:(0,t.V)("Visual_Title"),description:(0,t.V)("Visual_TitleDescription"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,t.V)("Visual_Title_Text"),description:(0,t.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,t.V)("Visual_Title_Heading_Attribute"),description:(0,t.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:V}},titleWrap:{displayName:(0,t.V)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,t.V)("Visual_FontColor"),description:(0,t.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},background:{displayName:(0,t.V)("Background_Color"),description:(0,t.V)("Visual_Title_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},alignment:{displayName:(0,t.V)("Visual_Title_Alignment"),description:(0,t.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,t.V)("Visual_TextSize"),description:(0,t.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,t.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,t.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,t.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,t.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},subTitle:{displayName:(0,t.V)("Visual_SubTitle"),description:(0,t.V)("Visual_SubTitle_Description"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,t.V)("Visual_Title_Text"),description:(0,t.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,t.V)("Visual_Title_Heading_Attribute"),description:(0,t.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:V}},titleWrap:{displayName:(0,t.V)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,t.V)("Visual_FontColor"),description:(0,t.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},alignment:{displayName:(0,t.V)("Visual_Title_Alignment"),description:(0,t.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,t.V)("Visual_TextSize"),description:(0,t.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,t.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,t.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,t.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,t.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},divider:{displayName:(0,t.V)("Visual_Divider"),properties:{...(0,y.uH)({strokeShow:"show",strokeColor:"color",strokePattern:"style",strokeWidth:"width"}),ignorePadding:{displayName:(0,t.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}}}},spacing:{properties:{customizeSpacing:{displayName:(0,t.V)("Visual_Spacing_Customize"),type:{bool:!0}},verticalSpacing:{displayName:(0,t.V)("Visual_Spacing_Vertical"),type:{numeric:!0}},spaceBelowTitle:{displayName:(0,t.V)("Visual_Spacing_Below_Title"),type:{numeric:!0}},spaceBelowSubTitle:{displayName:(0,t.V)("Visual_Spacing_Below_SubTitle"),type:{numeric:!0}},spaceBelowTitleArea:{displayName:(0,t.V)("Visual_Spacing_Below_TitleArea"),type:{numeric:!0}}}},background:{displayName:(0,t.V)("Visual_Background"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,t.V)("Generic_Color"),description:(0,t.V)("Visual_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,t.V)("Transparency"),description:(0,t.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},padding:{displayName:(0,t.V)("Visual_Padding"),properties:{top:{displayName:(0,t.V)("Visual_PaddingTop"),type:{numeric:!0}},bottom:{displayName:(0,t.V)("Visual_PaddingBottom"),type:{numeric:!0}},left:{displayName:(0,t.V)("Visual_PaddingLeft"),type:{numeric:!0}},right:{displayName:(0,t.V)("Visual_PaddingRight"),type:{numeric:!0}}}},lockAspect:{displayName:(0,t.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,t.V)("Visual_General_Properties"),properties:{x:{displayName:(0,t.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,t.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,t.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,t.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,t.V)("Visual_General_Properties_Description"),placeHolderText:(0,t.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}},allowBinnedLineSample:{displayName:(0,t.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},allowOverlappingPointsSample:{displayName:(0,t.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},keepLayerOrder:{displayName:(0,t.V)("Visual_General_KeepLayerOrder"),description:(0,t.V)("Visual_General_KeepLayerOrderDescription"),type:{bool:!0}}}},border:{displayName:(0,t.V)("Visual_Border"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,t.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},radius:{displayName:(0,t.V)("Visual_Radius"),type:{numeric:!0}},width:{displayName:(0,t.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},dropShadow:{displayName:(0,t.V)("Visual_DropShadow"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},preset:{displayName:(0,t.V)("Visual_DropShadow_Preset"),type:{enumeration:h.Sk}},position:{displayName:(0,t.V)("Visual_DropShadow_Position"),type:{enumeration:h.Ly}},color:{displayName:(0,t.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,t.V)("Transparency"),type:{numeric:!0}},shadowSpread:{displayName:(0,t.V)("Visual_BubbleSize"),type:{numeric:!0}},shadowBlur:{displayName:(0,t.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},angle:{displayName:(0,t.V)("Visual_Angle"),type:{numeric:!0}},shadowDistance:{displayName:(0,t.V)("Distance"),type:{numeric:!0}}}},visualLink:{displayName:(0,t.V)("Visual_VisualLink"),suppressFormatPainterCopy:!0,properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,t.V)("Type"),description:(0,t.V)("Visual_VisualLink_Type_Description"),type:{enumeration:c.Zg}},bookmark:{displayName:(0,t.V)("Generic_Bookmark"),description:(0,t.V)("Visual_VisualLink_Bookmark_Description"),type:{reference:{bookmark:!0}}},disabledTooltip:{displayName:(0,t.V)("Disabled_Tooltip"),type:{text:!0}},drillthroughSection:{displayName:(0,t.V)("Destination"),description:(0,t.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},enabledTooltip:{displayName:(0,t.V)("Enabled_Tooltip"),type:{text:!0}},qna:{type:{qnaVisualLink:!0}},suppressDefaultTooltip:{displayName:(0,t.V)("Visual_SuppressDefaultTooltips"),type:{bool:!0}},showDefaultTooltip:{displayName:(0,t.V)("Visual_ShowTooltips"),type:{bool:!0}},navigationSection:{displayName:(0,t.V)("Destination"),description:(0,t.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},tooltip:{displayName:(0,t.V)("Tooltip"),description:(0,t.V)("Visual_VisualLink_Tooltip_Description"),type:{text:!0}},tooltipPlaceholderText:{displayName:(0,t.V)("Tooltip_PlaceHolderText"),type:{text:!0}},webUrl:{displayName:(0,t.V)("Web_Url"),type:{misc:{webUrl:!0}}},dataFunction:{displayName:(0,t.V)("Data_Function"),type:{itemLocation:{metadata:{dataFunction:!0}}}}}},visualTooltip:{displayName:(0,t.V)("Tooltip"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,t.V)("Type"),description:(0,t.V)("Visual_Tooltip_Type_Description"),type:{enumeration:i.Dy}},section:{displayName:(0,t.V)("Page"),description:(0,t.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},titleFontColor:{displayName:(0,t.V)("Visual_Label_FontColor"),description:(0,t.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},valueFontColor:{displayName:(0,t.V)("Visual_Value_FontColor"),description:(0,t.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,t.V)("Visual_TextSize"),description:(0,t.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,t.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,t.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,t.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,t.V)("Visual_FontFamily"),description:(0,t.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},background:{displayName:(0,t.V)("Background_Color"),description:(0,t.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,t.V)("Transparency"),description:(0,t.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},actionFontColor:{displayName:(0,t.V)("Visual_Action_FontColor"),description:(0,t.V)("Visual_Action_FontColor_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedTitleFontColor:{displayName:(0,t.V)("Visual_Label_FontColor"),description:(0,t.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,t.V)("Background_Color"),description:(0,t.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},themedValueFontColor:{displayName:(0,t.V)("Visual_Value_FontColor"),description:(0,t.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}}}},stylePreset:{displayName:(0,t.V)("Visual_Table_StylePreset_SliceTitle"),properties:{name:{displayName:(0,t.V)("Visual_Table_StylePreset_SliceTitle"),type:{formatting:{stylePreset:!0}}}}},visualHeader:{displayName:(0,t.V)("Visual_Header"),description:(0,t.V)("VisualHeader_Toggle_Description"),properties:{show:{displayName:(0,t.V)("Visual_Show"),type:{bool:!0}},background:{displayName:(0,t.V)("Background_Color"),description:(0,t.V)("VisualHeader_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},border:{displayName:(0,t.V)("Visual_Border"),description:(0,t.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,t.V)("Transparency"),description:(0,t.V)("VisualHeader_Background_TransparencyDescription"),type:{numeric:!0}},foreground:{displayName:(0,t.V)("VisualHeader_Foreground_Color"),description:(0,t.V)("VisualHeader_Foreground_ColorDescription"),type:{fill:{solid:{color:!0}}}},showVisualInformationButton:{displayName:(0,t.V)("VisualHeader_ShowVisualInformationButton"),description:(0,t.V)("VisualHeader_ShowVisualInformationButton_Description"),type:{bool:!0}},showVisualWarningButton:{displayName:(0,t.V)("VisualHeader_ShowVisualWarningButton"),description:(0,t.V)("VisualHeader_ShowVisualWarningButton_Description"),type:{bool:!0}},showVisualErrorButton:{displayName:(0,t.V)("VisualHeader_ShowVisualErrorButton"),description:(0,t.V)("VisualHeader_ShowVisualErrorButton_Description"),type:{bool:!0}},showDrillRoleSelector:{displayName:(0,t.V)("VisualHeader_ShowDrillRoleSelector"),description:(0,t.V)("VisualHeader_ShowDrillRoleSelector_Description"),type:{bool:!0}},showDrillUpButton:{displayName:(0,t.V)("VisualHeader_ShowDrillUpButton"),description:(0,t.V)("VisualHeader_ShowDrillUpButton_Description"),type:{bool:!0}},showDrillToggleButton:{displayName:(0,t.V)("VisualHeader_ShowDrillToggleButton"),description:(0,t.V)("VisualHeader_ShowDrillToggleButton_Description"),type:{bool:!0}},showDrillDownLevelButton:{displayName:(0,t.V)("VisualHeader_ShowDrillDownLevelButton"),description:(0,t.V)("VisualHeader_ShowDrillDownLevelButton_Description"),type:{bool:!0}},showDrillDownExpandButton:{displayName:(0,t.V)("VisualHeader_ShowDrillDownExpandButton"),description:(0,t.V)("VisualHeader_ShowDrillDownExpandButton_Description"),type:{bool:!0}},showPinButton:{displayName:(0,t.V)("VisualHeader_ShowPinButton"),description:(0,t.V)("VisualHeader_ShowPinButton_Description"),type:{bool:!0}},showFilterRestatementButton:{displayName:(0,t.V)("VisualHeader_ShowFilterRestatementButton"),description:(0,t.V)("VisualHeader_ShowFilterRestatementButton_Description"),type:{bool:!0}},showFocusModeButton:{displayName:(0,t.V)("VisualHeader_ShowFocusModeButton"),description:(0,t.V)("VisualHeader_ShowFocusModeButton_Description"),type:{bool:!0}},showCopyVisualImageButton:{displayName:(0,t.V)("VisualHeader_ShowCopyVisualImageButton"),description:(0,t.V)("VisualHeader_ShowCopyVisualImageButton_Description"),type:{bool:!0}},showSeeDataLayoutToggleButton:{displayName:(0,t.V)("VisualHeader_ShowSeeDataLayoutToggleButton"),description:(0,t.V)("VisualHeader_ShowSeeDataLayoutToggleButton_Description"),type:{bool:!0}},showOptionsMenu:{displayName:(0,t.V)("VisualHeader_ShowOptionsMenu"),description:(0,t.V)("VisualHeader_ShowOptionsMenu_Description"),type:{bool:!0}},showCommentButton:{displayName:(0,t.V)("VisualHeader_ShowCommentButton"),description:(0,t.V)("VisualHeader_ShowCommentButton_Description"),type:{bool:!0}},showTooltipButton:{displayName:(0,t.V)("VisualHeader_ShowVisualHeaderTooltip"),description:(0,t.V)("VisualHeader_ShowVisualHeaderTooltip_Description"),type:{bool:!0}},showPersonalizeVisualButton:{displayName:(0,t.V)("VisualHeader_ShowPersonalizeVisualButton"),description:(0,t.V)("VisualHeader_ShowPersonalizeVisualButton_Description"),type:{bool:!0}},showSmartNarrativeButton:{displayName:(0,t.V)("SmartNarratives_ToolTip"),description:(0,t.V)("VisualHeader_ShowSmartNarrativeButton_Description"),type:{bool:!0}},showSetAlertButton:{displayName:(0,t.V)("VisualHeader_SetAlertButton"),description:(0,t.V)("VisualHeader_SetAlertButton_Description"),type:{bool:!0}},showFollowVisualButton:{displayName:(0,t.V)("VisualHeader_FollowVisualButton"),description:(0,t.V)("VisualHeader_FollowVisualButton_Description"),type:{bool:!0}}}},visualHeaderTooltip:{displayName:(0,t.V)("VisualHeaderTooltip"),properties:{type:{displayName:(0,t.V)("Type"),type:{enumeration:o.Dy}},section:{displayName:(0,t.V)("Page"),description:(0,t.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},text:{displayName:(0,t.V)("VisualHeaderTooltip_Text"),description:(0,t.V)("VisualHeaderTooltip_Text_Description"),type:{text:!0}},titleFontColor:{displayName:(0,t.V)("Generic_Color"),description:(0,t.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,t.V)("Visual_TextSize"),description:(0,t.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,t.V)("Visual_FontFamily"),description:(0,t.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},bold:{displayName:(0,t.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,t.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,t.V)("Underline"),type:{bool:!0}},background:{displayName:(0,t.V)("Background_Color"),description:(0,t.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,t.V)("Transparency"),description:(0,t.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},themedTitleFontColor:{displayName:(0,t.V)("Generic_Color"),description:(0,t.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,t.V)("Background_Color"),description:(0,t.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}}}}},P=(0,e.wZ)(S);function D(N,L){if(N){var B=L.serializeVisualContainer(N);return L.deserializeCanvasItem(B,!0)}}function M(N){return!!N.display&&"hidden"===N.display.mode}function E(N,L){N.display=L?{mode:"hidden"}:void 0}function w(N){if(N.visualContainer)return N.visualContainer.config.singleVisual.visualType;a.fF.assertFail("PinData has no visualType")}function x(N){return 16===N}},926406:function(Ce,k,r){r.d(k,{$m:function(){return u},C7:function(){return t},Zk:function(){return i},fU:function(){return C},hC:function(){return o},xj:function(){return y}});var a=r(160590),e=r(438043),u="visualContainerGroup",t={background:{displayName:(0,e.V)("Visual_Background"),properties:{show:{displayName:(0,e.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,e.V)("Generic_Color"),description:(0,e.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,e.V)("Transparency"),description:(0,e.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},lockAspect:{displayName:(0,e.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,e.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,e.V)("Visual_General_Properties"),properties:{x:{displayName:(0,e.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,e.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,e.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,e.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,e.V)("Visual_General_Properties_Description"),placeHolderText:(0,e.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}}}}},C=(0,a.wZ)(t);function y(c){return c.isHidden}function i(c,h){c.isHidden=h}function o(c,h){c.displayName=h}},187220:function(Ce,k,r){r.d(k,{Iw:function(){return u},Vz:function(){return i},q4:function(){return y},rQ:function(){return C}});var a=r(221435),e=r(926406);function u(c,h,d){return t(!1,d&&d.visibleOnly,c,h)}function t(c,h,d,n){for(var s of d){var p=c||o(s);h&&p||(n(s,p),y(s)&&t(p,h,s.children,n))}}function C(c){var h=[],d=[];for(var n of c)i(n)?h.push(n):d.push(n);return[h,d]}function y(c){return!!c.children}function i(c){return!c.children}function o(c){return y(c)?(0,e.xj)(c):(0,a.xj)(c.config.singleVisual)}},186359:function(Ce,k,r){r.d(k,{$S:function(){return s},$g:function(){return e},C2:function(){return h},Fi:function(){return C},Jn:function(){return d},Ly:function(){return l},PE:function(){return o},Sk:function(){return p},XQ:function(){return n},cS:function(){return i},f:function(){return t},qf:function(){return c},tF:function(){return u},uf:function(){return y}});var a=r(124463),e="Custom",u="Top",t="TopLeft",C="TopRight",y="Center",i="CenterLeft",o="CenterRight",c="Bottom",h="BottomLeft",d="BottomRight",n="Outer",s="Inner",p=(0,a.i)([{value:d,displayName:m=>m.get("Visual_LabelPosition_BottomRight")},{value:c,displayName:m=>m.get("Bottom")},{value:h,displayName:m=>m.get("Visual_LabelPosition_BottomLeft")},{value:o,displayName:m=>m.get("Visual_TextAlignment_Right")},{value:y,displayName:m=>m.get("Visual_TextAlignment_Center")},{value:i,displayName:m=>m.get("Visual_TextAlignment_Left")},{value:C,displayName:m=>m.get("Visual_LabelPosition_TopRight")},{value:u,displayName:m=>m.get("Top")},{value:t,displayName:m=>m.get("Visual_LabelPosition_TopLeft")},{value:e,displayName:m=>m.get("Custom")}]),l=(0,a.i)([{value:n,displayName:m=>m.get("Visual_DonutLabelPosition_Outside")},{value:s,displayName:m=>m.get("Visual_DonutLabelPosition_Inside")}])},523543:function(Ce,k,r){r.d(k,{Dy:function(){return C},Xz:function(){return t},xv:function(){return u}});var a=r(124463),e=r(748843),u=e.gA,t=e.Xz,C=(0,a.i)([{value:e.gA,displayName:y=>y.get("Text")},{value:t,displayName:y=>y.get("ReportPage")}])},295046:function(Ce,k,r){r.d(k,{Ol:function(){return t},Qi:function(){return n},Sk:function(){return h},WM:function(){return c},ZS:function(){return i},Zg:function(){return d},cy:function(){return o},d8:function(){return C},eJ:function(){return e},rp:function(){return u},sv:function(){return y},z1:function(){return s}});var a=r(124463),e="Back",u="Bookmark",t="Drillthrough",C="PageNavigation",y="Qna",i="WebUrl",o="ApplyAllSlicers",c="ClearAllSlicers",h="DataFunction",d=(0,a.i)([{value:e,displayName:p=>p.get("Generic_Back")},{value:u,displayName:p=>p.get("Generic_Bookmark")},{value:t,displayName:p=>p.get("Drillthrough")},{value:C,displayName:p=>p.get("PageNavigation")},{value:y,displayName:p=>p.get("Generic_Qna")},{value:i,displayName:p=>p.get("Web_Url")},{value:o,displayName:p=>p.get("ReportAppBar_ApplyAllSlicers")},{value:c,displayName:p=>p.get("ReportAppBar_ClearAllSlicers")},{value:h,displayName:p=>p.get("Data_Function")}]),n="",s=""},505875:function(Ce,k,r){r.d(k,{g:function(){return b}});var a=r(804616),e=r(722709),u=r(939123),t=r(737466),C=r(262730),y=r(79964),i=r(871423),o=r(528836),c=r(944159),h=r(428963),d=r(10013),n=r(280766),s=r(246135),p=r(707526),l=r(257738),m=r(953474);class b{constructor(g,v,f,S=!1){for(var P in this.defn=g,this.projections=v,this.expansionStates=f||[],this._isDrillDisabled=S,v)_.isEmpty(v[P].activeProjectionRefs)||this.ensureActiveItems(P)}get isDrillDisabled(){return this._isDrillDisabled}ensureExpansionState(g,v){u.fF.assertNonEmpty(g,"roles");var f=(0,C.Vt)(this.expansionStates,g);if(!f){u.fF.assert(()=>!this._isDrillDisabled,"should not ensure expansion state when drill is disabled"),f=new C.cb(g,v);var S=this.getRolesUniqueProjectionRefs(g),P=this.getRolesUniqueActiveProjectionsRefs(g,v.canCollapseRoot);f.updateLevels(S,P.length),this.expansionStates.push(f)}return u.fF.assert(()=>!!f.supportsMerge==!!v.supportsMerge),f}add(g,v,f){u.fF.assertValue(g,"expr"),f=f||{};var{exprName:S,fieldIndex:P,parameter:D,indexInParameter:M,nativeReferenceName:E,isHidden:w}=f,x=this.defn.selectNameOf(g),N=!!x;x||(x=this.addSelect(g,S,E)),this.getRoleProjections(v)||(this.projections[v]=new y.NQ([]));var L={queryRef:x};w&&(L.hidden=w);var B=0,I=this.projections[v];if(D){var W=M??D.length??0;I.addProjection(L,{parameter:D,indexInParameter:W}),B=I.getParameterProjectionIndex(D,W),this.addNewQueryRefToActiveProjectionRefsIfNeeded(v,x,B)}else{var F=I.all();null==P||P>F.length?(I.addProjection(L),B=F.length-1):(I.addProjection(L,{fieldIndex:P}),B=I.getColumnProjectionIndex(P),this.addNewQueryRefToActiveProjectionRefsIfNeeded(v,x,B))}return this.updateExpansionStates(v,(T,R)=>T.addLevel(x,R+B)),N&&this.resetHiddenState(x),B}toggleHidden(g){for(var v in this.projections)this.projections[v].toggleHidden(g)}resetAllHidden(){for(var g in this.projections)this.projections[g].resetAllHiddenState()}addParameter(g,v,f){u.fF.assertValue(g,"expr"),this.getRoleProjections(v)||(this.projections[v]=new y.NQ([]));var S=this.projections[v];return null==f&&(f=S.getFieldCount()),S.addFieldParameter({expr:g,index:f,length:void 0}),f}removeParameterBySQExpr(g){var v=this.projections;for(var f in v){var S=v[f],P=S.findParameterBySQExpr(g);_.isEmpty(P)||S.removeFieldParameters(P)}}removeParameter(g){var v=!1,f=this.projections;for(var S in f)v=this.removeParameterByRoleName(g,S)||v;return v}removeParameterByRoleName(g,v){var f=this.projections[v];return f?.removeFieldParameters([g])}getParameterByFieldIndex(g,v){var f=this.projections[v];return f?.getParameterByFieldIndex(g)}getResolveParameterResultsByRole(){var g={},v=this.projections;if(v)for(var f in v){var S=this.getQueryFieldParametersByRole(f);if(!_.isEmpty(S)){var P=g[f]=[];for(var D of S){var E=v[f].getParameterProjections(D).map(w=>({expr:this.defn.select().withName(w.queryRef).expr,alias:void 0}));P.push({parameter:D,result:E})}}}return g}removeExpr(g,v,f,S){if(v){for(var P=this.defn.select(),D=!1,M=P.length-1;M>=0;--M){var E=P[M].expr;if(b.areEqualIgnoringAggregate(E,g,f)){if(!this.removeAllProjectionsForExpr(E,S))return!1;D=!0}}return D}return this.removeAllProjectionsForExpr(g,S)}getQueryRefByProjectionIndex(g,v){var f=this.projections[g];if(f){var S=f.getQueryRefs();if(v<S.length)return S[v]}}getQueryRef(g,v){u.fF.assert(()=>v&&(void 0!==v.fieldIndex||void 0!==v.parameter&&void 0!==v.indexInParameter),"Index or parameter should be defined");var f=v.fieldIndex,S=v.parameter,P=v.indexInParameter,D=(0,y.cY)(this.projections,g);if(D)return S?D.getParameterProjections(S)[P].queryRef:f>=D.getFieldCount()?void 0:D.getColumnProjection(f).queryRef}removeProjection(g,v){u.fF.assert(()=>v&&(void 0!==v.fieldIndex||void 0!==v.parameter&&void 0!==v.indexInParameter),"Index or parameter should be defined"),u.fF.assertValue(this.projections[g],"expected projections to be defined for given role");var f=v.fieldIndex,S=v.parameter,P=v.indexInParameter,D=this.getQueryRef(g,v);if(!D)return!1;var M=this.defn.select().withName(D);if(!M)return!1;var N,L,E=M.expr,w=this.projections[g],x=w.all();S?(N={parameter:S,indexInParameter:P},L=w.getParameterProjectionIndex(S,P)):(N={fieldIndex:f},L=w.getColumnProjectionIndex(f)),w.removeProjection(N);var B=this.projections[g].activeProjectionRefs;_.pull(B,D);var I=_.isEmpty(x);return I&&_.isEmpty(w.getFieldParameters())?delete this.projections[g]:!I&&B&&0===B.length&&B.push(x[Math.max(0,L-1)].queryRef),this.updateExpansionStates(g,(W,O)=>W.removeLevel(O+L)),this.isUsed(D)||this.removeExpr(E,!1),!0}moveProjection(g,v,f,S){if(v===f||v<0||f<0)return!1;var P,D=this.projections[g];D&&(P=D.all());var M=D.convertFieldIndexToProjectionIndex(f),E=D.convertFieldIndexToProjectionIndex(v),w=D.convertFieldIndexToProjectionIndex(f+S);if(!P||w>P.length)return!1;var x=this.projections[g].activeProjectionRefs,N=D.moveFields(v,f,S),L=M;if(f>v&&(L=w),x)if(L<x.length){var B=_.take(P,D.convertFieldIndexToProjectionIndex(f+1));this.projections[g].activeProjectionRefs=_.map(B,W=>W.queryRef)}else if(E<x.length){for(var I of N)_.pull(x,I.queryRef);0===x.length&&x.push(P[0].queryRef)}return this.updateExpansionStates(g,(W,O)=>W.moveLevels(O+E,O+M,S)),!0}setAggregate(g,v,f,S){return this.updateExpression(g,v,P=>(0,h.k)(P,f),S)}removeAggregate(g,v,f,S){return this.updateExpression(g,v,P=>(0,s.n)(P,f),S)}setPercentOfGrandTotal(g,v,f){return this.updateExpression(g,v,P=>(0,c.F)(P),f)}removePercentOfGrandTotal(g,v,f){return this.updateExpression(g,v,P=>(0,p.H)(P),f)}setPercentOfRoleTotal(g,v,f){return this.updateExpression(v,f,P=>(0,n.z)(P,g))}removePercentOfRoleTotal(g,v){return this.updateExpression(g,v,S=>(0,d.E)(S))}updateVisualCalculation(g,v,f,S,P){var D=this.getQueryRef(v,{fieldIndex:g}),M=this.defn.select().withName(D);return!(!M||!(0,m.jX)(M.expr)||!this.updateExpression(v,g,E=>(0,o.eu)(E,S,f,P)))}orderBy(g){u.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.orderBy(g)}removeOrderBy(g){u.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.removeOrderBy(g)}removeUnusedOrderBy(){u.fF.assertValue(this.defn,"this.defn");var g=this.defn,v=g.orderBy();for(var f of v){var S=f.expr;g.selectNameOf(S)||(this.defn=g.removeOrderBy(S))}}addTransform(g,v,f){u.fF.assertValue(g,"transformPlugin"),u.fF.assertAnyValue(v,"parameters"),u.fF.assertValue(this.defn,"this.defn"),u.fF.assertValue(g,"transformPlugin");var S={},P=this.defn.transforms();for(var D of P)S[D.name]=!0;var M=(0,t.zE)(S,g.name);this.defn=this.defn.transforms(P.concat([{algorithm:g.name,name:M,input:{parameters:v},output:void 0}]));var w=g.name===a.Gr.KMeansClustering.name&&f.grouping&&f.grouping.cluster;for(var x of g.outputRoles){var N=x.name;w&&(N=f.grouping.cluster.clusteringRole),this.add((0,o.hu)(x.algorithmRole),N,{exprName:x.columnName?x.columnName:x.algorithmRole})}return M}removeTransform(g,v){u.fF.assertValue(g,"transformPlugin"),u.fF.assertValue(v,"transformName"),u.fF.assertValue(this.defn,"this.defn");var f=_.find(this.defn.transforms(),P=>P.name===v);if(f){for(var S of g.outputRoles)this.removeExpr((0,o.hu)(S.algorithmRole),!1);this.defn=this.defn.removeTransform(f)}}updateTransform(g,v){u.fF.assertValue(g,"transformName"),u.fF.assertAnyValue(v,"parameters"),u.fF.assertValue(this.defn,"this.defn");var f=_.find(this.defn.transforms(),S=>S.name===g);f&&(f.input.parameters=v)}clone(){return new b(this.defn,(0,y.d9)(this.projections),(0,C.d9)(this.expansionStates),this._isDrillDisabled)}equals(g){return!!(0,l.C6)(this.defn,g.defn)&&_.isEqual(this.projections,g.projections)&&_.isEqual(this.expansionStates,g.expansionStates)&&this._isDrillDisabled===g.isDrillDisabled}ensureDrillableRoles(g){u.fF.assert(()=>!!g,"ensureDrillableRoles drillableRoleNames");var v=[];for(var f of g)this.ensureActiveItems(f)&&v.push(f);return v}ensureActiveItems(g,v=!1){var f=this.projections[g];if(!f)return!1;var S=f.all();if(!_.isEmpty(S)){if(this._isDrillDisabled)return!1;if(v||_.isEmpty(f.activeProjectionRefs))return f.activeProjectionRefs=[S[0].queryRef],!0}return!1}changeDrillStateValue(g,v,f){for(var S of g){var P=this.projections[S];if(P)if(v)P.activeProjectionRefs=void 0;else{var D=_.uniqBy(P.all(),w=>w.queryRef),M=_.uniq(P.activeProjectionRefs),E=f?.[S];(E||D.length||M.length)&&(P.activeProjectionRefs=E??(M[0]?[M[0]]:[D[0].queryRef]))}}v&&(this.expansionStates=[]),this._isDrillDisabled=v}toggleShowAll(g){var v=this.projections[g];v&&(v.showAll=!v.showAll)}hasShowAll(){return!_.isEmpty(this.projections)&&_.some(this.projections,g=>g.showAll)}roleContainsExpr(g,v){var f=this.projections[g],S=f&&f.all();if(_.isEmpty(S))return!1;var P=this.defn.select();for(var D of P)for(var M of S)if(M.queryRef===D.name&&(0,l.fS)(v,D.expr))return!0;return!1}getRoleNameForExpr(g){var v=this.projections;for(var f in v){var S=this.tryGetExprs(f);if(S&&S.length>0)for(var P of S)if((0,l.fS)(g,P))return f;var D=v[f].getFieldParameters();if(!_.isEmpty(D))for(var M of D)if((0,l.fS)(M.expr,g))return f}}tryGetNamedExpr(g,v){var f=(0,y.cY)(this.projections,g);if(f){var S=f.convertFieldIndexToProjectionIndex(v),P=f.all()[S];return(0,i.SA)(this.defn,P)}}tryGetExpr(g,v){var f=this.tryGetNamedExpr(g,v);return f?.expr}tryGetExprs(g){var v=(0,i.XP)(this.defn,this.projections,g);if(void 0!==v)return _.map(v,f=>f.expr)}tryGetFieldExprs(g){return(0,i.r)(this.defn,this.projections,g)}getUniqueQueryRefs(){var g=_.values(this.projections);return _.chain(g).map(v=>v.getQueryRefs()).flatten().uniq().value()}getUniqueQueryFields(){var g=_.keys(this.projections);return _.chain(g).map(v=>this.tryGetFieldExprs(v)).flatten().uniqWith(b.isEqualQueryFields).value()}getHiddenUniqueQueryFields(){return this.getUniqueQueryFields().filter(g=>!!g.isHidden)}hasProjections(){return _.values(this.projections).some(v=>v.all().length>0)}currentDrillMode(g){var v=this.getRoleProjections(g);if(!_.isEmpty(v)){var f=this.projections[g];if(f){var S=f.activeProjectionRefs;if(!_.isEmpty(S)){if(S.length>1)return 2;if(S[0]!==v[0].queryRef)return 3}}}}addSelect(g,v,f){var S=this.defn;this.defn=S=S.addSelect(g,v,f);var P=S.select(),D=P.length-1;return u.fF.assert(()=>(0,l.fS)(g,P[D].expr,!1,!0),"Failed to find new expr in the query."),P[D].name}static isEqualQueryFields(g,v){return g.isFieldParameter||v.isFieldParameter||void 0===g.queryName||void 0===v.queryName?g.isFieldParameter===v.isFieldParameter&&(0,l.fS)(g.expr,v.expr):g.queryName===v.queryName}updateExpansionStates(g,v){if(!_.isEmpty(this.expansionStates)){_.remove(this.expansionStates,M=>!M.supportsMerge);var f=(0,C.D5)(this.expansionStates,g);if(f)if(_.isEmpty(this.projections[g])||_.isEmpty(this.projections[g].all()))_.remove(this.expansionStates,M=>M===f);else{var S=_.takeWhile(f.roles,M=>M!==g),P=this.getRolesUniqueActiveProjectionsRefs(S,f.canCollapseRoot).length;v(f,P);var D=f.getVisibleDescendentsDepth(f.root,-1);this.setActiveProjections(f.roles,D)}}}resetHiddenState(g){for(var v in this.projections)this.projections[v].resetHiddenState(g)}removeAllProjectionsForExpr(g,v){var f=this,S=this.defn,P=S.selectNameOf(g);if(!P)return!1;_.remove(this.expansionStates,w=>!w.supportsMerge);var D=this.projections,M=function(w){var x=(0,C.D5)(f.expansionStates,w),N=D[w],L=N.all(),B=x&&_.takeWhile(x.roles,G=>G!==w),I=B&&f.getRolesUniqueActiveProjectionsRefs(B,x&&x.canCollapseRoot).length;if(v){var W=f.getQueryFieldParametersByRole(w),O=_.filter(W,G=>(0,l.fS)(G.expr,v));for(var F of O)for(var A=F.length-1;A>=0;A--){var T={indexInParameter:A,parameter:F},R=N.getParameterProjectionIndex(F,A);L[R]?.queryRef===P&&(N.removeProjection(T),f.updateActiveProjectionRefAndExpansionState(w,P,I,R))}}else for(var U=L.length-1;U>=0;U--){var z=N.convertProjectionIndexToFieldIndex(U),j=N.getColumnProjection(z);j?.queryRef===P&&(N.removeProjection({fieldIndex:z}),f.updateActiveProjectionRefAndExpansionState(w,P,I,U))}if(0!==L.length&&x){var q=x.getVisibleDescendentsDepth(x.root,-1);f.setActiveProjections(x.roles,q)}};for(var E in D)M(E);return this.isUsed(P)||(this.defn=S.removeSelect(g).removeOrderBy(g)),!0}updateActiveProjectionRefAndExpansionState(g,v,f,S){var D=this.projections[g],M=D.all(),E=(0,C.D5)(this.expansionStates,g),w=D.activeProjectionRefs;_.pull(w,v),w&&_.isEmpty(w)&&!_.isEmpty(M)&&w.push(M[Math.max(0,S-1)].queryRef),E&&E.removeLevel(f+S)}updateExpression(g,v,f,S){var P=this.projections[g],D=P?P.all():void 0;if(!D)return!1;var M=P.convertFieldIndexToProjectionIndex(v);if(M>=D.length)return!1;var E=this.defn,w=D[M].queryRef,x=E.select(),N=(0,e.g2)(x,w),L=x[N].expr,B=f(L),I=E.selectNameOf(B);return I?(P.updateQueryRef(M,I),this.isUsed(w)||(this.defn=E.removeSelect(L)),!0):(this.getUsageCount(w)>1?P.updateQueryRef(M,this.addSelect(B,void 0,S)):this.defn=E.setSelectAt(N,B,S),!0)}isUsed(g){return this.getUsageCount(g)>0}getUsageCount(g){var v=0,f=this.projections;for(var S in f){var P=f[S].all();v+=_.filter(P,D=>D.queryRef===g).length}return v}getRoleProjections(g){u.fF.assertValue(g,"roleName");var v=(0,y.cY)(this.projections,g);if(v)return v.all()}addNewQueryRefToActiveProjectionRefsIfNeeded(g,v,f){var S=this.getRoleProjections(g),P=this.projections[g].activeProjectionRefs;P&&(P.length>1&&f<P.length?P.splice(f,0,v):1===P.length&&0===f&&S.length>1&&S[1].queryRef===P[0]&&P.splice(0,1,v))}getRolesProjectionRefs(g){var v=[];for(var f of g){var S=this.projections[f];if(S){var P=_.map(S.all(),D=>D.queryRef);v.push(...P||[])}}return v}getRolesUniqueProjectionRefs(g){return _.uniq(this.getRolesProjectionRefs(g))}getQueryFieldParametersByRole(g){if(!_.isEmpty(this.projections)){var v=this.projections[g];return v?v.getFieldParameters():[]}}getParameterProjectionExprs(g){var v=[],f=this.projections;for(var S in f){var P=f[S],D=P.findParameterBySQExpr(g);for(var M of D){var w=P.getParameterProjections(M).map(N=>this.defn.select().withName(N.queryRef).expr);v.push({exprs:w,parameter:M})}}return v}getVisualCalcExpressions(){return this.defn.select().filter(g=>(0,m.jX)(g.expr))}getQueryFieldParameters(){if(_.isEmpty(this.projections))return[];var g=[];for(var v in this.projections){var f=this.projections[v];f&&g.push(...f.getFieldParameters())}return g}hasQueryFieldParameters(){return!_.isEmpty(this.getQueryFieldParameters())}hasVisualCalcExpressions(){return this.defn.select().some(g=>(0,m.jX)(g.expr))}hasOnlyVisualCalculations(){return this.defn.select().every(g=>(0,m.jX)(g.expr))}hasSparklineExpressions(){return this.defn.select().some(g=>(0,m.tO)(g.expr))}hasHiddenProjections(){for(var g in this.projections){var v=this.getRoleProjections(g);if(_.some(v,f=>f.hidden))return!0}return!1}resetExpansionStates(){this.expansionStates=[]}getRolesActiveProjectionsRefs(g,v,f=!1){var E,S=this,P=[],D=v||_.some(g,x=>this.projections[x]&&!_.isEmpty(this.projections[x].activeProjectionRefs)),M=function(){var x=S.projections[w];if(!x)return 0;var N=D?x.activeProjectionRefs:x.getQueryRefs();if(!N)return 0;if(f){var L=_.map(x.projected(),W=>W.queryRef),B=_.filter(N,W=>L.includes(W));P.push(...B)}else P.push(...N);var I=x.all();return I.length!==N.length&&_.uniqBy(I,W=>W.queryRef).length!==_.uniq(N).length?1:void 0};for(var w of g)if(0!==(E=M())&&1===E)break;return P}getRolesUniqueActiveProjectionsRefs(g,v){return _.uniq(this.getRolesActiveProjectionsRefs(g,v))}static areEqualIgnoringAggregate(g,v,f){return(0,l.fS)((0,s.n)(g,f),(0,s.n)(v,f))}setActiveProjections(g,v){if(u.fF.assertNonEmpty(g,"roles"),!this._isDrillDisabled){var f=this.projections;u.fF.assertValue(f,"projections");var S=(0,C.Vt)(this.expansionStates,g);for(var P of(S&&S.pinLevels(v),g))if(v>0){var D=f[P]&&f[P].all();u.fF.assertValue(D,"roleProjections");var w,M=_.uniqBy(D,x=>x.queryRef);w=v>=M.length?M:_.take(M,v),f[P].activeProjectionRefs=_.map(w,x=>x.queryRef),v-=w.length}else f[P]&&(f[P].activeProjectionRefs=[])}}hasVisibleProjections(){if(!this.hasProjections())return!1;for(var g in this.projections){var v=this.getRoleProjections(g);if(_.some(v,f=>!f.hidden))return!0}return!1}}},655130:function(Ce,k,r){function a(e){switch(e){case 0:return"Default";case 1:return"DataFilter";case 2:return"HighlightFilter";case 3:return"NoFilter"}}r.d(k,{B:function(){return a}})},901578:function(Ce,k,r){r.d(k,{Hg:function(){return i}});var a=r(722709),e=r(397129);function u(o,c){var h=function(o,c){var h=[],d=[],n=o.visualContainers.slice();for(var s of c.visualContainers)if(void 0===s.id)h.push(s);else{var p=(0,a.Jq)(n,s.id);if(p){var l=n.indexOf(p);n.splice(l,1),(0,e.fS)(p,s)||d.push(s)}else h.push(s)}return{added:h,updated:d,removed:n}}(o,c);return{added:h.added,updated:h.updated,removed:h.removed,page:c,originalPage:o}}function i(o,c){var h=function(o,c){for(var h=[],d=[],n=o.slice(),s=0,p=c.length;s<p;s++){var l=c[s];if(void 0===l.id)h.push(l);else{var m=(0,a.Jq)(n,l.id);if(m){var b=n.indexOf(m);n.splice(b,1);var V=u(m,l);d.push(V)}else h.push(l)}}return{added:h,updated:d,removed:n}}(o.sections,c.sections),d=function(o,c){var h=[],d=[],n=c||[],s=o?o.slice():[];for(var p of n)if(void 0===p.id)h.push(p);else{var l=p.id,m=_.findIndex(s,b=>b.id===l);m>=0?(d.push({updatedPod:p,originalPod:s[m]}),s.splice(m,1)):h.push(p)}return{added:h,removed:s,updated:d}}(o.pods,c.pods);return{pages:h,pods:d}}},788605:function(Ce,k,r){r.d(k,{G:function(){return a}});var a={withData:!0,excludeHighContrastTheme:!0,forSave:!0}},248169:function(Ce,k,r){r.d(k,{NO:function(){return o},R$:function(){return i},RT:function(){return C},Wp:function(){return t},oZ:function(){return y},ox:function(){return e},yM:function(){return u}});var a=r(939123),e=-1,u=0,t=-1e7,C=1e7,y=1e3,i=5;function o(){return new c}class c{getContainerListOrders(d,n){var s={};for(var p of d)s[p.name]=n(p);return s}getSortedContainerNames(d,n){var s=n?"asc":"desc";return _.chain(d).keys().orderBy(p=>d[p],s).value()}settingListOrder(d,n,s,p){for(var l of n)d[l]=s,s+=p;return s}checkIfExtremitiesSurpassed(d,n,s){var p,l,m,b;return s?(p=u,l=C,m=n[_.head(d)]<p,b=n[_.last(d)]>l):(p=e,l=t,m=n[_.head(d)]>p,b=n[_.last(d)]<l),!(!m&&!b)}shouldNormalizeListOrder(d,n){var p,s=this.getSortedContainerNames(d,n);if(this.checkIfExtremitiesSurpassed(s,d,n)||_.some(d,g=>void 0===g))return!0;for(var l of s){var m=d[l];if(null!=p){var b=m>=0==p>=0;if(Math.abs(m-p)<i&&b)return!0}p=m}return!1}normalizeListOrder(d,n){var s=this.getSortedContainerNames(d,n),p=n?C-u:t-e,l=n?Math.min(p/s.length,y):Math.max(p/s.length,-y);a.fF.assert(()=>Math.abs(l)>=i,"Too many visuals to normalize list orders");var m=n?u:e,b={};return m=this.settingListOrder(b,s,m,l),b}}},420351:function(Ce,k,r){r.d(k,{i:function(){return n}});var a=r(953474),e=r(257738),u=r(939123),t=r(265230),C=r(454865),y=r(119412),i=r(379342),o=r(692699),c=r(159214),h=r(704731),d=r(688574);function n(p,l,m,b){return new s(p,l,m,b)}class s{constructor(l,m,b,V){this.eventBridge=l,this.visualPlugin=m,this.visualPluginOps=b,this.runningVisualService=V}getSupportedDrillDirections(l,m){var b=this.getProjections(l);if(!b)return 0;var V=l.config.singleVisual,g=this.visualPlugin.capabilities(V.visualType);if(!g||g.drilldown&&g.drilldown.suppresDrillOperations)return 0;var v=(0,i.WO)(g,!!V.query?.isDrillDisabled),f=m?v.filter(x=>x===m):v,S=0;for(var P of f){var D=b[P];if(D&&D.activeProjectionRefs){var M=D.all();if(1===M.length)continue;var E=D.activeProjectionRefs,w=this.findActiveProjectionIndexInQueryCollection(M,E);!_.isEmpty(E)&&w+E.length!==M.length&&(this.canDrillDownLevel(l,2,P)&&(S|=2),this.canDrillDownLevel(l,3,P)&&(S|=4)),!_.isEmpty(D.activeProjectionRefs)&&(0!==w||E.length>1)&&(S|=1)}}return S}setDrillMode(l,m){l&&l.drillMode!==m&&(l.drillMode=m,this.raiseDrillModeChanged(l,m))}canSeeData(l){if(!(l&&l.config&&l.config.singleVisual&&l.config.singleVisual.query))return!1;var m=(0,o.s)(l),b=this.runningVisualService.getVisual(l);return!(b&&b.getErrorInfo())&&y.j.supportsVisualDetails(m,this.visualPlugin,this.visualPluginOps)}canDrillToDetails(l,m){if(!l)return!1;var b=(0,c.Xf)(l);if(!b)return!1;var V=(0,o.s)(l);if(V===d.D.lineChart||V===d.D.areaChart||V===d.D.stackedAreaChart||V===d.D.hundredPercentStackedAreaChart)return!1;var g=(0,c.cj)(l,this.visualPlugin);if(!g||!1===g.supportsSelection)return!1;var v=_((0,c.oJ)(l)).filter(x=>(0,a.iV)(x.expr)).map(x=>x.name).value();if(_.isEmpty(v)||!_.isEmpty(m)&&!_.includes(v,_.head(_.head(m).metadata)))return!1;var f=g.dataRoles;if(_.isEmpty(f))return!1;var S=_(f).filter(x=>x.kind===C.DW.Measure&&0!==x.joinPredicate).map(x=>x.name).value(),P=0;for(var D of S){var M=b.projections[D];if(!_.isEmpty(M)){if(++P>1)return!1;var E=M.all();if(_.some(E,x=>!_.includes(v,x.queryRef)))return!1}}return 0!==P}canDrillByDirection(l,m,b){if(!l)return!1;var V=this.runningVisualService.getVisual(l);if(V&&V.getErrorInfo())return!1;var v=this.getSupportedDrillDirections(l,b);return!!v&&(0,t.yE)(v,m)}canDrillthrough(l){return!!l}isDrillModeEnabled(l,m){return!!l&&l.drillMode===m}drillToLastLevel(l){if(null!=l&&null!=l.config.singleVisual.query){var m=l.config.singleVisual,b=this.visualPlugin.capabilities(m.visualType),V=(0,i.WO)(b,!!m.query?.isDrillDisabled);if(!_.isEmpty(V)){var g=function(){if(v){var f=m.query.projections[v];if(null!=f){var S=f.getLastActiveQueryReference();if(null!=S){var P=f.getQueryRefs(),D=P.indexOf(S);u.fF.assert(()=>-1!==D,"last active query ref must be valid in projection");for(var M=D+1;M<P.length;M++)f.addActiveQueryReference(P[M])}}}};for(var v of V)g()}}}canDrillDownLevel(l,m,b){u.fF.assert(()=>1!==m,"Incompatible drill direction");var V=(0,c.Xf)(l);if(!V)return!1;var g=(0,c.cj)(l,this.visualPlugin);if(!g||g.drilldown&&g.drilldown.suppresDrillOperations||!b)return!1;var v=V.projections[b],f=v.getLastActiveQueryReference();if(!f)return!1;for(var D,S=_.findIndex(v.all(),E=>E.queryRef===f),P=function(){var E=v.all()[M],w=V.defn.select().withName(E.queryRef)?.expr;if(u.fF.assert(()=>!!w,"Projection is not in the select"),w&&0===_.filter(l.filters,x=>(u.fF.assertValue(x,`canDrillDownLevel: visualContainer with name ${l.name} contains blank value in .filters`),null!=x&&2===x.howCreated&&(0,e.fS)(w,x.expression))).length)return{v:V.currentDrillMode(b)===m}},M=0;M<S;M++)if(D=P())return D.v;return 3!==m||!_.find(V.expansionStates,E=>_.find(E.roles,w=>w===b)&&E.isStateModified())}getProjections(l){return l&&l.config&&l.config.singleVisual&&l.config.singleVisual.query&&l.config.singleVisual.query.projections}findActiveProjectionIndexInQueryCollection(l,m){if(!_.isEmpty(m))for(var b=0;b<l.length;b++){for(var V=b,g=0;g<m.length&&V<l.length&&m[g]===l[V].queryRef;)g++,V++;if(g===m.length)return b}return-1}raiseDrillModeChanged(l,m){u.fF.assertValue(l,"visualContainer"),u.fF.assertValue(m,"drillMode"),this.eventBridge.publishToChannel(h.tbw,{visualContainer:l})}}},704731:function(Ce,k,r){r.d(k,{$$f:function(){return ur},$4A:function(){return xr},$Bd:function(){return S},$cv:function(){return O},AGj:function(){return Je},AJY:function(){return me},AKi:function(){return A},Ah$:function(){return q},Ak9:function(){return ir},AuF:function(){return nt},BmV:function(){return Rt},C98:function(){return Hr},CCe:function(){return v},CVC:function(){return vr},Cvt:function(){return ce},D1A:function(){return Ke},DRd:function(){return Yt},DSN:function(){return he},Diu:function(){return Gt},EBW:function(){return Y},EHv:function(){return Le},F$x:function(){return Ur},FRm:function(){return s},GQv:function(){return jr},Gru:function(){return Ze},Gtn:function(){return St},H8N:function(){return Te},HGU:function(){return Re},HOc:function(){return re},ICs:function(){return le},IQ6:function(){return V},IVK:function(){return Ct},JAC:function(){return Et},JEb:function(){return ht},JOk:function(){return Ve},JXP:function(){return Ie},K7E:function(){return It},KCT:function(){return Or},KD7:function(){return D},KcO:function(){return it},LE3:function(){return u},Lx_:function(){return Vt},MEZ:function(){return Ue},Mp3:function(){return Xe},MuO:function(){return gt},NPq:function(){return xe},OKC:function(){return tt},OOb:function(){return ze},OPn:function(){return te},Of1:function(){return Ge},Oij:function(){return d},Orc:function(){return At},P6l:function(){return lr},PNq:function(){return x},PbX:function(){return yt},Pkb:function(){return X},QvS:function(){return ue},R4M:function(){return ke},RVE:function(){return Q},RVt:function(){return W},RW6:function(){return be},Rif:function(){return L},SVs:function(){return t},TN0:function(){return Bt},TTT:function(){return fe},TWs:function(){return Ae},Td8:function(){return Se},TrJ:function(){return Wr},Tuj:function(){return h},Tyr:function(){return Me},U8y:function(){return f},UAI:function(){return o},UBn:function(){return a},UKs:function(){return We},UMW:function(){return T},UbK:function(){return rr},Udu:function(){return De},Un:function(){return st},UoE:function(){return ie},UpY:function(){return g},UqZ:function(){return zr},V0C:function(){return Tt},Vrk:function(){return er},VuV:function(){return p},WJC:function(){return i},WR7:function(){return N},Woo:function(){return mt},Wqo:function(){return K},Wu9:function(){return we},YUD:function(){return _e},YXt:function(){return at},_$U:function(){return ae},aco:function(){return b},acr:function(){return hr},add:function(){return fr},aoT:function(){return dt},bE6:function(){return n},bSZ:function(){return ft},bnO:function(){return ot},cY_:function(){return tr},cyb:function(){return rt},d8V:function(){return c},doP:function(){return w},eDj:function(){return et},eE4:function(){return ar},f8w:function(){return kt},gG5:function(){return dr},gsN:function(){return lt},gsv:function(){return Kt},ieg:function(){return Ee},ilH:function(){return Pe},j3G:function(){return wt},jCS:function(){return G},jsX:function(){return ve},lio:function(){return z},m3l:function(){return ye},mB3:function(){return Cr},mIo:function(){return pt},mSO:function(){return Z},miB:function(){return Nt},mke:function(){return l},msw:function(){return qt},nY5:function(){return pr},oRp:function(){return C},ooc:function(){return y},ow8:function(){return I},pSw:function(){return gr},qHu:function(){return Ye},qTM:function(){return M},qTk:function(){return de},qwl:function(){return J},r8B:function(){return bt},rlN:function(){return Xt},rvf:function(){return cr},sEi:function(){return ee},sPA:function(){return Pr},t4l:function(){return B},tRg:function(){return P},tYc:function(){return ne},tbw:function(){return F},uB4:function(){return je},uL6:function(){return Rr},ubE:function(){return Dt},uff:function(){return $t},up$:function(){return Ne},urK:function(){return Be},v3I:function(){return Ht},vBx:function(){return Fr},wAN:function(){return j},wCO:function(){return Oe},wW:function(){return e},weO:function(){return Qe},wiL:function(){return $e},wrl:function(){return yr},x1m:function(){return Sr},x4H:function(){return Wt},y5h:function(){return qe},yVh:function(){return se},yhh:function(){return Pt},z99:function(){return E},zYm:function(){return H},zdm:function(){return ut},zgs:function(){return ct}});var a=function(sr){return sr[sr.Unknown=0]="Unknown",sr[sr.Swipe=1]="Swipe",sr}({}),e={type:4,name:"modelChangeApplyingUpdate"},u={type:1,name:"explorationLoaded"},t={type:1,name:"explorationUnloaded"},C={type:3,name:"explorationContainerReady"},y={type:1,name:"explorationSlowDataSourceSettingsLoaded"},i={type:1,name:"explorationSettingsLoaded"},o={type:1,name:"updateNavButtonEvent"},c={type:2,name:"userActionTriggered"},h={type:2,name:"filterContainerChanged"},d={type:1,name:"applyAllBufferedFilterCardChange"},n={type:1,name:"applyAllClicked"},s={type:1,name:"applyAllSlicersClicked"},p={type:1,name:"explorationFiltersContainerChanged"},l={type:1,name:"sectionFiltersContainerChanged"},b={type:1,name:"formFactorChanged"},V={type:1,name:"canvasLayoutChanged"},g={type:0,name:"modelChanging"},v={type:0,name:"modelChanged"},f={type:2,name:"visualRelationshipsModeChanged"},S={type:0,name:"schemaItemActivationChanged"},P={type:2,name:"selectionChanged"},D={type:2,name:"visualTypeChanged"},M={type:2,name:"visualLinkButtonClicked"},E={type:2,name:"dataPointsSelected"},w={type:2,name:"dataHyperlinkClicked"},x={type:2,name:"visualClicked"},N={type:1,name:"undoRedoStackUpdated"},L={type:1,name:"undoRedoStackCleared"},B={type:1,name:"onReportChanged"},I={type:4,name:"onReportChanged"},W={type:1,name:"clipboardDataUpdated"},O={type:2,name:"dataSelectionChanged"},F={type:2,name:"drillModeChanged"},A={type:3,name:"refreshExploration"},T={type:2,name:"clearAnnotations"},z={type:1,name:"sectionLayoutRemoved"},j={type:1,name:"canvasChanged"},H={type:2,name:"visualContainerParentActivityLinkingDone"},q={type:2,name:"fieldWellFieldRemoved"},G={type:2,name:"visualContainerChanged"},J={type:2,name:"fieldParametersApplied"},Z={type:2,name:"visualContainerAdded"},Q={type:2,name:"cancelVisualQuery"},ne={type:2,name:"triggerDataRefresh"},le={type:2,name:"visualContainerGroupChanged"},he={type:2,name:"visualContainerGroupRendered"},Se={type:2,name:"visualContainerDataRenderingStarted"},Ke={type:2,name:"visualContainerDataRendered"},Ge={type:2,name:"canvasItemContainerPositionChanged"},ye={type:2,name:"visualContainerLoadingStarted"},we={type:2,name:"visualContainerLoadingStopped"},je={type:2,name:"visualContainerQueryExecutionEnded"},de={type:2,name:"updateVisualMatrix"},Pe={type:2,name:"visualConversion"},Ve={type:3,name:"focusExplorationEvent"},Ze={type:4,name:"explorationInitializeEvent"},Ue={type:2,name:"focusVisualContainerEvent"},Je={type:2,name:"canvasSizeChanged"},De={type:2,name:"visualPluginsChanged"},ue={type:2,name:"addCustomVisual"},_e={type:2,name:"deleteCustomVisual"},te={type:0,name:"modelingContextChanged"},ke={type:2,name:"changeViewMode"},at={type:2,name:"requestViewModeChange"},tt={type:2,name:"editModeChanged"},ut={type:2,name:"getClusters"},ct={type:2,name:"toggleSortVisualContainer"},Ne={type:2,name:"toggleSortDirectionVisualContainer"},ae={type:1,name:"saveEventViaCtrlS"},Le={type:1,name:"highContrastModeChanged"},X={type:1,name:"canvasDisplayChanged"},be={type:1,name:"canvasZoomChanged"},Ie={type:1,name:"canvasZoomScaleUpdated"},Ye={type:1,name:"canvasDimensionChanged"},ze={type:3,name:"explorationObjectsLoaded"},ee={type:3,name:"explorationObjectsChanged"},ve={type:1,name:"sectionObjectsEvaluated"},Te={type:1,name:"sectionObjectsChanged"},Xe={type:3,name:"showDataSourceVariablesDialog"},qe={type:2,name:"visibilityChanged"},rt={type:2,name:"canvasItemHiddenChanged"},me={type:1,name:"align"},Ee={type:1,name:"deleteSectionInitiated"},fe={type:1,name:"sectionNameChanged"},Re={type:1,name:"sectionDeleted"},re={type:1,name:"renameSection"},se={type:1,name:"sectionChanged"},Ae={type:1,name:"podParameterChanged"},ce={type:2,name:"missingTableRelationship"},Me={type:1,name:"addVisualContainer"},$e={type:3,name:"addCustomVisualToCanvas"},st={type:2,name:"deleteVisualContainer"},pt={type:1,name:"addInsightContainer"},wt={type:1,name:"addQnaContainer"},Pt={type:1,name:"showQnaPopoutEventArgs"},At={name:"canvasPinched",type:1},Kt={type:1,name:"arrangeVisualsOrder"},rr={type:1,name:"createBasicShape"},Xt={type:1,name:"createShape"},cr={type:1,name:"createActionButton"},et={type:1,name:"createPageNavigator"},ht={type:1,name:"createTextbox"},Nt={type:1,name:"importVisual"},Qe={type:1,name:"installVisual"},bt={type:1,name:"downloadVisual"},Rt={type:2,name:"newQueryCacheResultAvailable"},Gt={type:2,name:"exportVisualData"},ir={type:1,name:"exportVisualDataFromPane"},Ht={type:2,name:"addCommentVisual"},vr={type:2,name:"shareToTeamsVisual"},Fr={type:1,name:"createSection"},Ur={type:1,name:"deleteSection"},Pr={type:1,name:"duplicateSection"},Sr={type:1,name:"insertSection"},Or={type:1,name:"reorderSection"},xr={type:1,name:"switchSection"},zr={type:3,name:"explorationNextPage"},pr={type:3,name:"explorationPreviousPage"},jr={type:3,name:"startExplorationContainerLoading"},Rr={type:3,name:"stopExplorationContainerLoading"},Vt={type:2,name:"showEnableScriptVisualsDialog"},Dt={type:1,name:"canvasResized"},St={type:4,name:"openReportFinished"},Ct={type:4,name:"openReportLoadingScreenHidden"},Bt={type:4,name:"visualQueryThrottled"},lr={type:4,name:"datasetNotFound"},yr={type:4,name:"ShowVisuals"},dr={type:1,name:"bookmarkApplied"},fr={type:1,name:"exploreCanvasVisualRendered"},ur={type:2,name:"ReportVisualError"},ft={type:4,name:"ReportVisualError"},Et={type:3,name:"visualThumbnailDoubleClicked"},It={type:2,name:"removeVisualContainerFromLayout"},kt={type:1,name:"pauseQueriesChanged"},er={type:2,name:"deleteCustomVisuals"},it={type:4,name:"resetPersistentUserState"},K={type:1,name:"resetUserStateKeyPressedEvent"},Y={type:4,name:"resetUserStateEvent"},xe={type:3,name:"reloadPersistenState"},yt={type:1,name:"togglePaneVisibility"},Tt={type:2,name:"visualDrillFilterOtherVisualsSettingChanged"},$t={type:0,name:"emulationChanged"},qt={type:3,name:"showOtherBookmarks"},hr={type:2,name:"parentExpandCollapseAction"},gr={type:3,name:"bookmarkViewStateChanged"},Wr={type:0,name:"exportDataEnded"},Hr={type:2,name:"visualContainerControllerLinked"},Cr={type:4,name:"insightsInFocusPaneClose"},Be={type:4,name:"insightSelected"},nt={type:4,name:"getRelatedInsights"},dt={type:4,name:"viewInsightInFocus"},mt={type:0,name:"autoPageRefreshTriggered"},ot={type:2,name:"drillthroughActionTriggered"},ie={type:4,name:"anchorTimeUpdated"},We={type:4,name:"visualCancelLoadEvent"},Oe={type:2,name:"shareVisual"},lt={type:2,name:"shareVisualToPPT"},gt={type:2,name:"reflexAlert"},Wt={type:2,name:"findAnomalies"},tr={type:2,name:"forecast"},Yt={type:2,name:"toggleDataTable"};function ar(sr,Vr){return sr.visualContainer===Vr}},501189:function(Ce,k,r){r.d(k,{A:function(){return i}});var a=r(479517),e=r(939123),u=r(262730),t=r(132640),C=r(692699),y=r(159214);function i(c,h){return e.fF.assertValue(c,"visualPlugin"),e.fF.assertValue(h,"featureSwitch"),new o(c)}class o{constructor(h){this.visualPlugin=h}getExpandCollapseRoles(h){(0,a.wS)(h,"visual should have a value");var d=this.visualPlugin.capabilities((0,C.s)(h));if(d&&d.expandCollapse&&!_.isEmpty(d.expandCollapse.roles)){var n=(0,y.Xf)(h);if(!n?.isDrillDisabled)return d.expandCollapse.roles}}isSupported(h,d,n){if(!d||!h||!h.supportsInstanceFilters)return!1;var s=(0,y.Xf)(d);return!(!s||!_.isEmpty(n)&&_.some(n,p=>3===s.currentDrillMode(p))||s.isDrillDisabled)}isEnabled(h,d){if((0,a.wS)(h,"visual should have a value"),_.isEmpty(d))return!1;var n=this.getExpandCollapseRoles(h);return!(_.isEmpty(n)||_.some(d,s=>-1===_.indexOf(n,s)))}getMaximumExpansionDepth(h,d){if(this.isEnabled(h,d)){var n=(0,y.Xf)(h);if(n){var s=n.getRolesProjectionRefs(d);return e.fF.assertValue(s,"getRolesProjectionRefs should have returned an array"),s.length}}}getAllowedActions(h,d,n){var s=(0,y.Xf)(h);if(s&&this.isEnabled(h,d)&&!_.isEmpty(n)&&1===n.length){var p=n[0];if(p&&p.dataMap&&!_.isEmpty(p.dataMap)){var l=(0,t.CT)((0,t.tV)(p));if(!_.isEmpty(l)){var m=s.getRolesUniqueProjectionRefs(d),b=s.getRolesUniqueActiveProjectionsRefs(d,this.canCollapseRoot(h)),V=b.length===m.length,g=_.some(d,E=>3===s.currentDrillMode(E));if(1===m.length||g)return{};var v=this.getSelectorRefs(p);if(!_.some(v,E=>!_.includes(b,E))){var f=l.length,S=f===m.length,P=f===b.length,D=(0,u.Vt)(s.expansionStates,d);if(D){var M=D.getNodeLevelState(l,D.root,0);return e.fF.assertValue(M,"getNodeLevelState returned undefined"),{expandNode:!S&&!!M.isNodeCollapsed,collapseNode:!P&&!M.isNodeCollapsed,expandLevel:!S&&(M.levelHasToggledNodes||!!M.isNodeCollapsed),collapseLevel:!P&&(M.levelHasToggledNodes||!M.isNodeCollapsed),expandHierarchy:!V||!D.isHierarchyExpanded(),collapseHierarchy:!D.isWholeLevelCollapsed(0)}}return{expandNode:!S&&P,collapseNode:!P,expandLevel:!S&&P,collapseLevel:!P,expandHierarchy:!V,collapseHierarchy:b.length>1}}}}}}getSelectorRefs(h){if(!h||!h.dataMap||_.isEmpty(h.dataMap))return[];var d=[];for(var n in h.dataMap)d.push(n);return d}expandNode(h,d,n){var s=this.setNodeState(h,d,n,!1);if(s){var p=this.ensureExpansionState(h,d),l=this.getSelectorRefs(n);e.fF.assert(()=>this.canCollapseRoot(h)||!_.isEmpty(l),"selectorRefs must not be empty when root node cannot be collapsed");var b=p.getVisibleDescendentsDepth(s,l.length-1),V=(0,y.Xf)(h);V&&b>V.getRolesUniqueActiveProjectionsRefs(d,this.canCollapseRoot(h)).length&&this.setActiveProjections(h,d,b)}}collapseNode(h,d,n){this.setNodeState(h,d,n,!0);var s=this.ensureExpansionState(h,d),p=s.getVisibleDescendentsDepth(s.root,-1);this.setActiveProjections(h,d,p)}expandLevel(h,d,n,s=!1){var p=this.ensureExpansionState(h,d);this.setLevelState(h,d,n,!1,s);var l=p.getVisibleDescendentsDepth(p.root,-1);this.setActiveProjections(h,d,l)}collapseLevel(h,d,n,s=!1){this.setLevelState(h,d,n,!0,s),this.setActiveProjections(h,d,n+1)}expandAll(h,d){this.setAllLevelsState(h,d,!1);var n=this.ensureExpansionState(h,d);this.setActiveProjections(h,d,n.levels.length)}collapseAll(h,d){this.setAllLevelsState(h,d,!0),this.setActiveProjections(h,d,this.canCollapseRoot(h)?0:1)}pinLevels(h,d,n){this.ensureExpansionState(h,d).pinLevels(n)}unpinLevels(h,d,n){this.ensureExpansionState(h,d).unpinLevels(n)}lockLevels(h,d,n){this.ensureExpansionState(h,d).lockLevels(n)}unlockLevels(h,d,n){this.ensureExpansionState(h,d).unlockLevels(n)}setAILevelInformation(h,d,n,s,p){var l=this.ensureExpansionState(h,d);e.fF.assert(()=>_.isEqual(l.levels[n].queryRefs,s),`Level at index ${n} does not match expected query refs`),l.setAILevelInformation(n,p)}getAILevelInformation(h,d,n){var s=(0,y.Xf)(h);return(0,u.DX)(s.expansionStates,d,n)}clearAILevelsInformation(h,d){for(var n=this.ensureExpansionState(h,d),s=0;s<_.size(n.levels);s++)n.setAILevelInformation(s,void 0)}setNodeState(h,d,n,s){var p=this.ensureExpansionState(h,d);e.fF.assertValue(p,"expansionState"),e.fF.assertValue(n,"selector");var l=this.getSelectorRefs(n);if(!_.isEmpty(l)||this.canCollapseRoot(h))return e.fF.assert(()=>l.length<=p.levels.length,"attempt to expand a node from an inactive level"),p.setNodeState((0,t.tV)(n),s);e.fF.assertFail("Collapse to root capability is not enabled")}setLevelState(h,d,n,s,p){var l=this.ensureExpansionState(h,d);if(e.fF.assertValue(l,"expansionState"),e.fF.assertNonEmpty(l.levels,"expansionState.levels"),p)for(var m=0;m<n;m++)e.fF.assertValue(l.levels[m],`expandCollapseService.setLevelState - level for index ${m} doesn't exist`),l.setLevelState(m,!1);l.setLevelState(n,s)}setAllLevelsState(h,d,n){var s=this.ensureExpansionState(h,d);e.fF.assertValue(s,"expansionState"),e.fF.assertNonEmpty(s.levels,"expansionState.levels"),this.canCollapseRoot(h)&&s.setLevelState(-1,n);for(var p=s.levels,l=0;l<p.length-1;l++)s.setLevelState(l,n)}ensureExpansionState(h,d){e.fF.assertValue(h,"VisualContainer"),e.fF.assert(()=>this.isEnabled(h,d),"Expand/Collapse is not enabled");var n=(0,y.Xf)(h);e.fF.assertValue(n,"VisualQuery");var s=this.visualPlugin.capabilities((0,C.s)(h)),p=s&&s.expandCollapse&&s.expandCollapse.supportsMerge,l=s&&s.expandCollapse&&s.expandCollapse.collapseParentAfterRemovingChildLevel,m=this.canCollapseRoot(h),b=n.ensureExpansionState(d,{supportsMerge:p,canCollapseRoot:m,collapseParentAfterRemovingChildLevel:l});return e.fF.assertValue(b,"expansionState"),e.fF.assertNonEmpty(b.levels,"expansionState.levels"),b}canCollapseRoot(h){var d=this.visualPlugin.capabilities((0,C.s)(h));return!(!d||!d.noDefaultProjections)}setActiveProjections(h,d,n){e.fF.assertValue(h,"visualContainer"),e.fF.assertNonEmpty(d,"roles"),this.canCollapseRoot(h)||e.fF.assert(()=>n>0,"totalUniqueActiveProjectionsCount");var s=(0,y.Xf)(h);e.fF.assertValue(s,"query"),s.setActiveProjections(d,n)}}},368684:function(Ce,k,r){r.d(k,{F:function(){return C}});var a=r(939123),e=r(67688),u=r(243364),t=r(704731);function C(o,c,h,d,n,s,p,l){return new y(o,c,h,d,n,s,p,l)}class y{constructor(c,h,d,n,s,p,l,m){this.state=c,this.navigation=h,this.eventBridge=d,this.visibility=n,this.filterGenerator=s,this.explorationActivity=p,this.telemetryService=l,this.runningVisualService=m,a.fF.assertValue(c,"state"),a.fF.assertValue(h,"navigation"),a.fF.assertValue(d,"eventBridge"),a.fF.assertValue(n,"visibility")}exploration(){return this.navigation.getCurrentExploration()}capture(c,h){var d=this.exploration();if(d)return this.state.capture(d,c,h)}apply(c,h,d,n){var s=this.exploration(),p=this.state.apply(c,s,h,d);return this.applyImpact(p,s,d,n),p}captureFilterState(c){return this.state.captureFilterState(c)}applyFilterState(c,h){if(!_.isEmpty(c)){var d=this.state.applyFilterState(c,h);this.explorationActivity.doActivity(n=>{this.eventBridge.publishToChannel(t.jCS,{affectContainer:s=>_.includes(d.visualContainers,s),parentActivity:n})},n=>this.telemetryService.startChildActivity(n&&n.event,e.bt))}}applyImpact(c,h,d,n){a.fF.assertValue(h,"exploration"),a.fF.assertValue(d,"applyStateOption"),n&&n.setProperty("options",function(o){var c,h,d;return!0===o.suppressDisplay||!1===o.suppressDisplay||null==o.suppressDisplay?c=h=!0===o.suppressDisplay:(c=o.suppressDisplay.outspacePane,h=o.suppressDisplay.visuals),o.defaultPresentationState&&(d=_.mapValues(o.defaultPresentationState,n=>_.mapValues(n,s=>({visualType:s.visualType,autoSelectVisualType:s.autoSelectVisualType,projections:_.map(_.filter(_.map(s.projections,(p,l)=>({exprs:p,role:l})),p=>!_.isEmpty(p.exprs)),p=>p.role)})))),{applyPresentationChanges:o.applyPresentationChanges,clearQueryCaches:o.clearQueryCaches,clearUnmatchedData:o.clearUnmatchedData,defaultPresentationState:d,stopDataQueries:o.stopDataQueries,suppressActiveSection:o.suppressActiveSection,suppressDataSourceVariables:o.suppressDataSourceVariables,suppressData:o.suppressData,suppressOutspacePaneDisplayOptions:c,suppressUnmatchedClearHidden:o.suppressUnmatchedClearHidden,suppressVisualsDisplayOptions:h,targetVisualNames:o.targetVisualNames}}(d)),this.explorationActivity.doActivity(s=>{var p=c.dataSourceVariables,l=[];if(p&&a.fF.assert(()=>!d.suppressDataSourceVariables,"suppressDataSourceVariables"),c.objects&&this.eventBridge.publishToChannel(t.sEi),2===c.filterScope&&(a.fF.assert(()=>!d.suppressData,"suppressData"),this.eventBridge.publishToChannel(t.VuV,{container:h}),p=!0),c.activeSection)a.fF.assert(()=>!d.suppressActiveSection,"suppressActiveSection"),this.navigation.updateActiveSection({targetSectionIndex:h.activeSectionIndex,forceUpdate:!0,parentActivity:s,parentContextActivity:n});else if(1===c.filterScope){a.fF.assert(()=>!d.suppressData,"suppressData");var m=this.navigation.getCurrentSection();this.eventBridge.publishToChannel(t.mke,{container:m}),l=_.union(l,m.visualContainers)}else(0===c.filterScope||!_.isEmpty(c.visualContainers))&&(a.fF.assert(()=>!d.suppressData||!d.suppressDisplay,"suppressData || suppressDisplay"),l=_.union(l,c.visualContainers));var b=[];if(p){this.eventBridge.publishToChannel(t.jCS,{affectContainer:_.stubTrue,parentActivity:s,parentContextActivity:n});var V=this.navigation.getCurrentSection();b.push(...V.visualContainers||[])}else _.isEmpty(l)||(this.eventBridge.publishToChannel(t.jCS,{affectContainer:L=>_.includes(l,L),parentActivity:s,parentContextActivity:n}),b.push(...l||[]));var g=c.visualContainerGroups;if(_.isEmpty(g)||(this.eventBridge.publishToChannel(t.ICs,{affectContainer:L=>_.includes(g,L)}),b.push(...g||[])),!d.suppressDisplay){if(c.visibility)this.visibility.set(c.visibility.visual,c.visibility.mode);else if(d.targetVisualNames){var f=_.filter(h.sections[h.activeSectionIndex].visualContainers,L=>_.includes(d.targetVisualNames,L.name));this.visibility.clearForVisualContainers(f)}else this.visibility.clear();_.isEmpty(b)||this.eventBridge.publishToChannel(t.cyb,{changedItems:b})}if(!d.suppressData){var S=c.pendingHighlights,P=this.navigation.getCurrentSection();if(S)for(var D of(this.filterGenerator.setMultipleFiltersOnSelectData(h,P,S,s,void 0),S)){var M=D.sourceVisualContainer,E=this.runningVisualService.getVisual(M),w=M.config.singleVisual;E?(D.filterExpressionMetadata&&(0,u.XV)(D.selection,D.filterExpressionMetadata),E.setSelectedDatapoints(D.selection,!0)):w.pendingSelection=D.selection}else if(d.targetVisualNames){var x=h.sections[h.activeSectionIndex],N=_.filter(x.visualContainers,L=>_.includes(d.targetVisualNames,L.name));this.filterGenerator.clearCrossHighlightForVisualContainers(x,N,s,void 0)}else this.filterGenerator.clearCrossHighlight(P,s,void 0)}},s=>this.telemetryService.startChildActivity(s&&s.event,e.bt))}}},883949:function(Ce,k,r){r.d(k,{e:function(){return B},O:function(){return N}});var a=r(32227),e=r(722709),u=r(939123),t=r(360216),C=r(262730),y=r(79964),i=r(132640);function o(J,Z){return J===Z||null!=J&&null!=Z&&J.objectName===Z.objectName&&J.propertyName===Z.propertyName}var c=r(969143),h=r(129535),d=r(678023),n=r(871423),s=r(377176),p=r(528836),l=r(269556),m=r(257738),b=r(571627),V=r(990121),g=r(221435),v=r(187220),f=r(505875),S=r(67688),P=r(184437),D=r(379342),M=r(894146),E=r(972163),w=r(159214),x=r(235156);function N(J,Z,Q,ne,le,he,Se,Ke,Ge,ye,we,je){return new q(J,Z,Q,ne,le,he,Se,Ke,Ge,ye,we,je)}function L(J,Z,Q){if(u.fF.assertAnyValue(J,"contracts"),u.fF.assertValue(Z,"filterScopeType"),!_.isEmpty(J)){var ne={};for(var le of J)Q(le)||(F(le)?(ne.transientFilters||(ne.transientFilters=[]),ne.transientFilters.push(B(le))):T(le)&&!_.isEmpty(le.name)?(ne.nameIdentifiedMerges||(ne.nameIdentifiedMerges={}),ne.nameIdentifiedMerges[le.name]=B(le)):A(le)?(ne.exprIdentifiedMerges||(ne.exprIdentifiedMerges=[]),ne.exprIdentifiedMerges.push(B(le))):R(le)?(ne.typeIdentifiedMerges||(ne.typeIdentifiedMerges=[]),ne.typeIdentifiedMerges.push(B(le))):(_.isEmpty(le.name)&&(le.name=P.l.getNextFilterName(J)),ne.nameIdentifiedMerges||(ne.nameIdentifiedMerges={}),ne.nameIdentifiedMerges[le.name]=B(le)));if(!_.isEmpty(ne))return ne}}function B(J){return u.fF.assertValue(J,"filterContainer"),{name:J.name,type:J.type,filter:J.filter,expression:J.expression,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedValueItems:J.cachedValueItems,filterExpressionMetadata:_.cloneDeep(J.filterExpressionMetadata)}}function I(J){return u.fF.assertValue(J,"filterContainerState"),u.fF.assertAnyValue(name,"name"),{name:J.name,type:J.type,filter:J.filter,expression:J.expression,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedValueItems:J.cachedValueItems,filterExpressionMetadata:_.cloneDeep(J.filterExpressionMetadata),displayName:J.displayName}}function W(J,Z){J.filter=Z.filter,J.cachedValueItems=Z.cachedValueItems,J.filterExpressionMetadata=_.cloneDeep(Z.filterExpressionMetadata),J.type=Z.type}function O(J){J.filter=void 0,J.cachedValueItems=void 0,J.filterExpressionMetadata=void 0}function F(J){return!!J.isTransient}function A(J){return!!J.expression}function T(J){return J.isHiddenInViewMode||J.isLockedInViewMode}function R(J){return 3===J.howCreated||4===J.howCreated}var z=new WeakMap;function j(J,Z,Q){return!!Z.filterState||(z.has(Q)?ne=z.get(Q):(ne=(0,h.MD)(Q),z.set(Q,ne)),!!ne&&_.some([ne],J));var ne}function H(J){return _.some([{objectName:"outspacePane",propertyName:"expanded"},{objectName:"outspacePane",propertyName:"visible"}],J)}class q{constructor(Z,Q,ne,le,he,Se,Ke,Ge,ye,we,je,de){this.expandCollapse=Z,this.filterGenerator=Q,this.plugins=ne,this.visualPluginOps=le,this.aggrOps=he,this.featureSwitchService=Se,this.sortService=Ke,this.drillService=Ge,this.telemetryService=je,this.nonDrillthroughIsLinkedAsAggregationCallback=Pe=>(u.fF.assertValue(Pe,"filter"),u.fF.assert(()=>5!==Pe.howCreated,"Only drillthrough filters can be linked as aggregation. This should not be called for drillthrough filters."),!1),this.visualAuthoringCore=(0,x.Vz)(ne,ye,he,Se,we,de)}capture(Z,Q,ne){u.fF.assertValue(Z,"exploration"),u.fF.assert(()=>null!=Z.activeSectionIndex,"exploration.activeSectionIndex != null");var le=Z.sections[Z.activeSectionIndex],he={activeSection:le.name,filters:L(Z.filters,2,this.nonDrillthroughIsLinkedAsAggregationCallback),sections:{}};if(this.featureSwitchService.featureSwitches.dataSourceVariablesOverride&&!ne.suppressDataSourceVariables&&(he.dataSourceVariables=Z.dataSourceVariables),Z.objects&&(he.objects=this.captureExplorationObjects(Z.objects)),ne.captureAllSections)for(var Se of Z.sections)he.sections[Se.name]=this.captureSection(Se,Q,Z,ne.capturePresentation);else he.sections[le.name]=this.captureSection(le,Q,Z,ne.capturePresentation);return he}captureExplorationObjects(Z){return this.captureObjects(b.W,Z,H)}captureFilterState(Z){var Q=this.captureFilterStateObjects(Z.visualType,Z.objects);return{visualType:Z.visualType,objects:Q,cachedFilterDisplayItems:Z.cachedFilterDisplayItems,filterExpressionMetadata:Z.filterExpressionMetadata}}captureSection(Z,Q,ne,le){u.fF.assertValue(Z,"contract");var Se=this.getCrossHighlights(Z);return{filters:L(Z.filters,1,Ge=>(0,M.fF)(ne,Z,Ge)),visualContainers:this.captureVisualContainers(Z.visualContainers,Se,Q,le),visualContainerGroups:this.captureVisualContainerGroups(Z.visualContainerGroups)}}getCrossHighlights(Z){return Z&&Z.crossFilterSource&&Z.crossFilterSource.highlight}captureVisualContainerGroups(Z){var Q;for(var ne of(u.fF.assertValue(Z,"contracts"),Z))if((0,v.q4)(ne)){var le={};if(null!=ne.isHidden&&(le.isHidden=ne.isHidden),!_.isEmpty(ne.children)){var he=this.captureVisualContainerGroups(ne.children);le.children=he}(null!=le.isHidden||null!=le.children)&&((Q=Q||{})[ne.name]=le)}return Q}captureVisualContainers(Z,Q,ne,le){var he=this;u.fF.assertValue(Z,"contracts");var Se={},Ke=function(){u.fF.assertValue(Ge.name,"contract.name");var we,ye=Ge.config.singleVisual;if(!ye)return 1;if(!_.isEmpty(Q)){var je=_.find(Q,Je=>Je.sourceVisualContainer.config.singleVisual===ye&&!_.isEmpty(Je.selection));je&&(we={selection:je.selection,filterExpressionMetadata:je.filterExpressionMetadata?je.filterExpressionMetadata:void 0})}var Pe={filters:L(_.union(Ge.filters,he.getAdditionalVisualFiltersToCapture(Ge,ne)),0,he.nonDrillthroughIsLinkedAsAggregationCallback),singleVisual:{visualType:ye.visualType,objects:he.captureVisualObjects(ye.visualType,ye.objects),cachedFilterDisplayItems:ye.cachedFilterDisplayItems,filterExpressionMetadata:ye.filterExpressionMetadata},highlight:we};null!=ye.autoSelectVisualType&&(Pe.singleVisual.autoSelectVisualType=ye.autoSelectVisualType);var Ve=Ge.visibility;null!=Ve&&0!==Ve&&16!==Ve&&(Pe.visibility=Ve),(0,g.xj)(ye)&&(Pe.singleVisual.hidden=!0);var Ze=ye.query,Ue=le&&ye.presentationChangesApplied;(Ue||Ze&&Ze.hasQueryFieldParameters())&&(Ue&&(Pe.singleVisual.targetType=ye.visualType),null!=ye.autoSelectVisualType&&(Pe.singleVisual.targetAutoSelectVisualType=ye.autoSelectVisualType),Ze&&Ze.projections&&Ze.defn&&(Pe.singleVisual.projections=(0,E.rl)(Ze,Ue))),Ze&&Ze.projections&&he.featureSwitchService.featureSwitches.fieldParameters&&(Pe.singleVisual.parameters=(0,E.xF)(Ze)),Ze&&Ze.defn&&(Pe.singleVisual.orderBy=Ze.defn.orderBy()),Ze&&Ze.projections&&(Pe.singleVisual.activeProjections=he.captureActiveProjections(Ze)),Ze&&Ze.expansionStates&&(Pe.singleVisual.expansionStates=(0,C.d9)(Ze.expansionStates)),Ze&&Ze.isDrillDisabled&&(Pe.singleVisual.isDrillDisabled=Ze.isDrillDisabled),Se[Ge.name]=Pe};for(var Ge of Z)Ke();return Se}captureActiveProjections(Z){var Q,ne=Z.defn.select();for(var le in Z.projections){var Se=Z.projections[le].activeProjectionRefs;if(!_.isEmpty(Se)){var Ke=_.map(Se,Ge=>{var ye=ne.withName(Ge);return ye?ye.expr:null});Q||(Q={}),Q[le]=Ke}}return Q}captureVisualObjects(Z,Q){return this.captureFilterStateObjects(Z,Q)}captureFilterStateObjects(Z,Q){var ne=this.plugins.capabilities(Z);return ne&&ne.objects?this.captureObjects(ne.objects,Q,j):{}}captureObjects(Z,Q,ne){var le={};for(var he in Z){var Se=Z[he];for(var Ke in Se.properties){var Ge=Se.properties[Ke],ye={objectName:he,propertyName:Ke};if(Ge.captureState||ne(ye,Ge,Z)){var we=Q?.[he];if(we)for(var je of we){var de=(0,c.NA)(Q,ye,je.selector);de&&(0,c.sO)(le,ye,je.selector,de)}}}}var Pe={};return _.isEmpty(le)||(Pe.merge=le),Pe}apply(Z,Q,ne,le){u.fF.assertValue(Z,"state"),u.fF.assertValue(Q,"exploration");var he={visualContainers:[],visualContainerGroups:[],issues:[]};for(var Se in le.suppressActiveSection||this.applyActiveSection(Z.activeSection,Q,he),!le.suppressData&&!le.targetVisualNames&&this.applyFilters(Z.filters,Q,2,he,le.clearUnmatchedData,[],void 0,ne,this.nonDrillthroughIsLinkedAsAggregationCallback),Z.objects&&this.applyExplorationObjects(Z.objects,Q,he,le),Z.sections){var Ke=(0,e.rC)(Q.sections,Se);if(Ke){var Ge=Z.sections[Se],ye=!le.suppressActiveSection||this.isActiveSection(Ke.name,Q);this.applySection(Q,Ge,Ke,ne,he,le,ye)}}return he.activeSection&&null!=he.filterScope&&(0,w.Dl)(Q.sections[Q.activeSectionIndex]),le.suppressDataSourceVariables||this.applyDataSourceVariables(Z.dataSourceVariables,Q,he),_.isEmpty(he.issues)||this.telemetryService.logEvent(S.b_,{context:"apply",issues:_.reduce(he.issues,(je,de)=>je|de.type,0)}),he}applyExplorationObjects(Z,Q,ne,le){var he={};Z&&Z.merge&&(he.merge=(0,c.d9)(Z.merge));var Se=Q.objects||{};for(var Ke in he.merge)for(var Ge of he.merge[Ke]){var ye=(0,c.zx)(Se,Ke,Ge.selector);for(var we in Ge.properties){var je=Ge.properties[we];this.shouldApplyExplorationProperty(Ke,le)&&!(0,c.ES)(ye.properties[we],je)&&(ne.objects=!0,ye.properties[we]=je)}}return ne.objects&&!Q.objects&&(Q.objects=Se),ne}isDisplayOptions(Z){return void 0!==Z&&void 0!==Z.outspacePane&&void 0!==Z.visuals}shouldApplyExplorationProperty(Z,Q){return"outspacePane"===Z&&this.isDisplayOptions(Q.suppressDisplay)?!Q.suppressDisplay.outspacePane:!Q.suppressDisplay}applyFilterState(Z,Q){var ne={visualContainers:[],visualContainerGroups:[],issues:[]};for(var le of Z){var he=le.visual,Se=le.state,Ke=he.config.singleVisual,Ge=this.plugins.capabilities(Ke.visualType),ye=le.impacted;(ye=this.applyObjects(Se,Ke,Se.objects,Ge.objects,Q,ne,!1)||ye)&&!_.includes(ne.visualContainers,he)&&ne.visualContainers.push(he)}return _.isEmpty(ne.issues)||this.telemetryService.logEvent(S.b_,{context:"applyFilterState",issues:_.reduce(ne.issues,(we,je)=>we|je.type,0)}),ne}isActiveSection(Z,Q){return Z===Q.sections[Q.activeSectionIndex].name}applyActiveSection(Z,Q,ne){if(u.fF.assertValue(Z,"activeSection"),u.fF.assertValue(Q,"target"),u.fF.assertValue(ne,"impact"),!this.isActiveSection(Z,Q)){var le=(0,e.g2)(Q.sections,Z);le>=0?(Q.activeSectionIndex=le,ne.activeSection=!0):ne.issues.push({type:1})}}applyDataSourceVariables(Z,Q,ne){u.fF.assertValue(Q,"target"),u.fF.assertValue(ne,"impact"),Z?(Q.dataSourceVariables=Z,ne.dataSourceVariables=!0):Q.dataSourceVariables=void 0}applyFilters(Z,Q,ne,le,he,Se,Ke,Ge,ye){var we=!1,je=[],de={nameIdentifiedMerges:_.clone(Z&&Z.nameIdentifiedMerges||{}),exprIdentifiedMerges:[...Z&&Z.exprIdentifiedMerges||[]],typeIdentifiedMerges:[...Z&&Z.typeIdentifiedMerges||[]],transientFilters:[...Z&&Z.transientFilters||[]]};if(we=this.applyRemainingFilters(de,Q,0===ne,le,je,Se,Ke,Ge,ye)||we,he&&Q.filters)for(var Pe=Q.filters.length-1;Pe>=0;Pe--){var Ve=Q.filters[Pe];Ve?Ve.type!==V.vA.Passthrough&&(_.includes(je,Ve)||(2===Ve.howCreated?(Q.filters.splice(Pe,1),this.addImpactCrossDrillSourceUpdate(Ke,Q,0===ne,le)):O(Ve),we=!0)):Q.filters.splice(Pe,1)}return we&&this.setMinimumFilterScope(le,ne),we}applyRemainingFilters(Z,Q,ne,le,he,Se,Ke,Ge,ye){var we=this.applyTransientFilters(Z,Q,he,le);if(we=this.applyMatchingFilterByName(Z,Q,he,le)||we,!_.isEmpty(Z.nameIdentifiedMerges)){for(var je in Z.nameIdentifiedMerges)Z.exprIdentifiedMerges.push(Z.nameIdentifiedMerges[je]);Z.nameIdentifiedMerges={}}we=this.applyMatchingFilterByExpr(Z,Q,ne,he,Ge,ye,le)||we,we=this.applyMatchingFilterByType(Z,Q,he,le)||we;var de=this.applyDrillFilters(Z,Q,he,Se,le);return we=de||we,de&&this.addImpactCrossDrillSourceUpdate(Ke,Q,ne,le),we}addImpactCrossDrillSourceUpdate(Z,Q,ne,le){if(function(J,Z){return!!J&&!!Z}(Q,ne)){u.fF.assertValue(Z,"section");var Se=this.filterGenerator.updateCrossDrillFromVisualContainersOperation(Z,[Q]);le.visualContainers=_.union(le.visualContainers,Se)}else u.fF.assertFail("FiltersContainer of a drill filter should be VisualContainer."),le.issues.push({type:64})}applyMatchingFilterByName(Z,Q,ne,le){if(u.fF.assertAnyValue(Z,"remainingFiltersState"),u.fF.assertValue(Q,"target"),u.fF.assertValue(ne,"appliedTargetFilters"),_.isEmpty(Z)||_.isEmpty(Z.nameIdentifiedMerges)||_.isEmpty(Q.filters))return!1;var he=!1,Se=[],Ke=function(ye){var we=Z.nameIdentifiedMerges[ye];we.name!==ye&&(u.fF.assertFail("mismatched filter names"),le.issues.push({type:4}));var je=_.findIndex(Q.filters,de=>de.howCreated===we.howCreated&&!_.includes(ne,de)&&de.name===ye);-1!==je&&(s.yl.isSameFilter(Q.filters[je].filter,we.filter)||(W(Q.filters[je],we),he=!0),Se.push(ye),ne.push(Q.filters[je]))};for(var Ge in Z.nameIdentifiedMerges)Ke(Ge);return Se.forEach(ye=>{delete Z.nameIdentifiedMerges[ye]}),he}applyMatchingFilterByExpr(Z,Q,ne,le,he,Se,Ke){var Ge=this;if(u.fF.assertAnyValue(Z,"remainingFiltersState"),u.fF.assertValue(Q,"target"),u.fF.assertValue(ne,"isVisualScope"),u.fF.assertValue(le,"appliedTargetFilters"),_.isEmpty(Z)||_.isEmpty(Z.exprIdentifiedMerges))return!1;for(var je,Pe,ye=!1,we=!1,de=[...Z.exprIdentifiedMerges||[]],Ve=function(){var Ze=Pe.howCreated;if(2===Ze)return de.splice(0,1),1;var Ue=_.remove(de,Ne=>Ne===Pe||Ne.howCreated===Ze&&(0,m.fS)(Ne.expression,Pe.expression)),Je=[];if((Q.filters||[]).forEach((Ne,ae)=>{Ne&&Ne.howCreated===Ze&&!_.includes(le,Ne)&&!Se(Ne)&&(0,m.fS)(Ne.expression,Pe.expression)&&(!T(Ne)||Ne.name===Pe.name)&&Je.push(ae)}),_.isEmpty(Je)&&ne&&0===Ze)if(Pe.filter){1!==Ue.length&&(u.fF.assertFail("expecting <= 1 visual-level auto filter for an expression."),Ke.issues.push({type:8})),we||(we=!0,je=(0,w.i4)(Q,Ge.visualPluginOps,he,Ge.aggrOps));var De=_.find(je,Ne=>(0,m.fS)(Ne.expression,Pe.expression));De&&((Q.filters||(Q.filters=[])).push(De),Je.push(Q.filters.length-1))}else _.remove(Z.exprIdentifiedMerges,Pe),_.remove(Ue,Pe);if(Je.length>0){for(var ue=Math.min(Ue.length,Je.length);Ue.length>ue;){var _e=_.findIndex(Ue,Ne=>_.isEmpty(Ne.filter));if(-1===_e)break;Ue.splice(_e,1)}for(var te=0;te<ue;te++){var ke=Je[te];s.yl.isSameFilter(Q.filters[ke].filter,Ue[te].filter)||(W(Q.filters[ke],Ue[te]),ye=!0),le.push(Q.filters[ke])}for(var at=ue;at<Ue.length;at++){var tt=I(Ue[at]);(Q.filters||(Q.filters=[])).push(tt),le.push(tt),ye=!0}for(var ut=ue;ut<Je.length;ut++)O(Q.filters[Je[ut]]),ye=!0;Z.exprIdentifiedMerges=_.difference(Z.exprIdentifiedMerges,Ue)}};Pe=_.head(de);)Ve();return ye}applyDrillFilters(Z,Q,ne,le,he){var Se=!1;if(_.isEmpty(le)||_.isEmpty(Z)||_.isEmpty(Z.exprIdentifiedMerges))return Se;var Ke=[],Ge=function(je){if(2!==je.howCreated)return 0;if(!_.find(le,Ze=>(0,m.fS)(je.expression,Ze)))return he.issues.push({type:32}),0;var Pe=_.find(Q.filters,Ze=>2===Ze.howCreated&&!_.includes(ne,Ze)&&(0,m.fS)(Ze.expression,je.expression));if(Pe)s.yl.isSameFilter(Pe.filter,je.filter)||(W(Pe,je),Se=!0),ne.push(Pe);else{var Ve=I(je);(Q.filters||(Q.filters=[])).push(Ve),ne.push(Ve),Se=!0}Ke.push(je)};for(var we of Z.exprIdentifiedMerges)Ge(we);return Z.exprIdentifiedMerges=_.difference(Z.exprIdentifiedMerges,Ke),Se}applyMatchingFilterByType(Z,Q,ne,le){var he=!1;if(_.isEmpty(Z)||_.isEmpty(Z.typeIdentifiedMerges))return he;var Se=[],Ke=function(ye){3===ye.howCreated||4===ye.howCreated||(u.fF.assertFail("Only include/exclude supported"),le.issues.push({type:16}));var we=_.find(Q.filters,de=>de.howCreated===ye.howCreated&&!_.includes(ne,de));if(we)W(we,ye),ne.push(we);else{var je=I(ye);(Q.filters||(Q.filters=[])).push(je),ne.push(je)}Se.push(ye),he=!0};for(var Ge of Z.typeIdentifiedMerges)Ke(Ge);return Z.typeIdentifiedMerges=_.difference(Z.typeIdentifiedMerges,Se),he}applyTransientFilters(Z,Q,ne,le){var he=!1;if(!_.isEmpty(Z)&&!_.isEmpty(Z.transientFilters)){var Se=function(ye){5===ye.howCreated&&!0===ye.isTransient||(u.fF.assertFail("only drillthrough transient filters are supposed to be in transientMerges"),le.issues.push({type:2}));var we=_.find(Q.filters,de=>de.isTransient&&!_.includes(ne,de)&&s.yl.isSameFilter(de.filter,ye.filter));if(we)W(we,ye),ne.push(we);else{var je=I(ye);(Q.filters||(Q.filters=[])).push(je),ne.push(je)}he=!0};for(var Ke of Z.transientFilters)Se(Ke);Z.transientFilters=[]}var Ge=_.remove(Q.filters,ye=>ye&&ye.isTransient&&!_.includes(ne,ye));return he=he||!_.isEmpty(Ge)}applySection(Z,Q,ne,le,he,Se,Ke){var Ge=this;Se.suppressData||Se.targetVisualNames||this.applyFilters(Q.filters,ne,1,he,Se.clearUnmatchedData,[],ne,le,Ze=>(0,M.fF)(Z,ne,Ze));var we=function(){var Ze=je.name;if(Se.targetVisualNames&&!_.includes(Se.targetVisualNames,Ze))return 1;var Je,Ue=Q.visualContainers&&Q.visualContainers[Ze];if(null!=Ue?(Je=Ge.applyVisualState(Z,Ue,ne,je,le,he,Se,Ke,!0),Ue.highlight&&!Se.suppressData&&Ke&&(u.fF.assert(()=>!_.isEmpty(Ue.highlight.selection),"Selection is empty"),Ge.isSelectionValid(Ue.highlight.selection,je.config.singleVisual,le)&&(null==he.pendingHighlights&&(he.pendingHighlights=[]),u.fF.assert(()=>!Se.suppressData,"suppressData"),he.pendingHighlights.push({selection:Ue.highlight.selection,sourceVisualContainer:je,filterExpressionMetadata:Ue.highlight.filterExpressionMetadata})))):Se.clearUnmatchedData&&(Je=Ge.applyVisualState(Z,{},ne,je,le,he,Se,Ke,!1)),!_.isEmpty(Je)){var ue=_.without(Je,...he.visualContainers||[]);he.visualContainers.push(...ue||[])}};for(var je of ne.visualContainers)we();var de=this.getCrossHighlights(ne);for(var Pe of ne.visualContainerGroups)if((0,v.q4)(Pe)){var Ve=Q.visualContainerGroups&&Q.visualContainerGroups[Pe.name];null!=Ve&&this.applyVisualGroupState(Ve,ne,Pe,he,Se,de)}}applyVisualState(Z,Q,ne,le,he,Se,Ke,Ge,ye){u.fF.assertValue(he,"schema: applying a full visual state should include schema for group-on key checking for filter updates");var we=!1,je=Q.singleVisual;if(!Ke.suppressData){var de=Ke.defaultPresentationState?.[ne.name]?.[le.name],Ve=!1,Ze=!1;if(this.presentationChangesAllowed(Z,Ke,le,je,this.visualPluginOps)){var Ue=this.applyPresentationChanges(le,je,de,je&&je.parameters,he);Ve=Ue.changesApplied,Ze=Ue.parametersRemoved}var Je=!1;this.featureSwitchService.featureSwitches.fieldParameters&&(Je=this.applyParameterStateByRole(he,le,je,Ze));var ue=this.applySort(le.config.singleVisual,je&&je.orderBy,Ke.clearUnmatchedData),ke=this.applyActiveProjectionsAndDrillState(le.config.singleVisual,je&&je.activeProjections,Ke.clearUnmatchedData,je?!!je.isDrillDisabled:!!le.config.singleVisual.query?.isDrillDisabled),at=this.collectValidDrillExprs(le.config.singleVisual),tt=this.applyFilters(Q.filters,le,0,Se,Ke.clearUnmatchedData,at,ne,he,this.nonDrillthroughIsLinkedAsAggregationCallback),ct=this.applyExpansionStates(le,je&&je.expansionStates,Ke.clearUnmatchedData,he,Se),Ne=this.plugins.capabilities(le.config.singleVisual.visualType),Le=!1;Ne&&Ne.objects&&(Le=this.applyObjects(je,le.config.singleVisual,je&&je.objects,Ne.objects,he,Se,Ke.isPersistentState)),we=Le||Ve||ue||ke||tt||ct||Je}var X=[];if(!this.getSuppressDisplayOptions(Ke).visuals){var Ie=Q.visibility;if(null!=Ie&&Ge&&(Se.visibility={visual:le,mode:Ie}),!ye||je){var ze=!1;je?ze=!!je.hidden:Ke.suppressUnmatchedClearHidden&&(ze=(0,g.xj)(le.config.singleVisual)),X.push(...this.applyHidden(ze,le,ne)||[])}}return we&&!_.includes(X,le)&&X.push(le),X}applyPresentationChanges(Z,Q,ne,le,he){var Se=Z.config.singleVisual;if(!Q)return{changesApplied:!1,parametersRemoved:!1};var Ke=!Q.targetType;if(Ke&&!Se.presentationChangesApplied)return{changesApplied:!1,parametersRemoved:!1};var Ge=!1,ye=Ke?ne?.visualType:Q.targetType,we=Ke?ne?.autoSelectVisualType:Q.targetAutoSelectVisualType,je=Ke?ne?.projections:Q.projections;ye&&(Ge=ye!==Se.visualType,Se.visualType=ye),null!=we&&(Ge=Ge||we!==Se.autoSelectVisualType,Se.autoSelectVisualType=we),!Se.query&&je&&(Se.query=new f.g(s.vQ.create(),{},[]));var{query:de}=Se;return je&&de?(this.applyVisualQueryPresentationChanges(de,je,le,Z,he),Se.presentationChangesApplied=!Ke,{changesApplied:!0,parametersRemoved:!0}):(Se.presentationChangesApplied=Ge,{changesApplied:Ge,parametersRemoved:!1})}applyParameterStateByRole(Z,Q,ne,le){var he=this;if(!ne||!ne.parameters)return!1;var Se=Q.config.singleVisual;if(!Se.query&&le)Se.query=new f.g(s.vQ.create(),{},[]);else if(!Se.query)return!1;var Ke=ne.parameters,Ge=Se.query,ye={},we=Ge.getResolveParameterResultsByRole();for(var je in Ke){var de=Ke[je];ye[je]=[];var Pe=Ge.projections[je];if(!Pe&&le&&de.length>0&&(Pe=Ge.projections[je]=new y.NQ([])),Pe)for(var Ve=function(){var De,Je=de[Ze];if(le){var ue=Ge.addParameter(Je.expr,je,Je.index);De=Pe.getParameterByFieldIndex(ue);var _e=we[je];_e||(_e=we[je]=[]),_e.push({parameter:De,result:[]})}else{var te=_.find(ye[je],Ne=>(0,m.fS)(Ne.expr,Je.expr)),ke=te?te.count:0,at=_.sortBy(Pe.findParameterBySQExpr(Je.expr),Ne=>Ne.index);if(ke>=at.length)return 1;De=at[ke],te?te.count++:ye[je].push({expr:Je.expr,count:1})}var ut=_.find(we[je],Ne=>Ne.parameter.index===De.index),ct=he.getProjectionsForParameter(de,Ze,ne.projections,je);ut.result=_.map(ct,Ne=>({expr:Ne,alias:void 0}))},Ze=0;Ze<de.length;Ze++)Ve()}return this.visualAuthoringCore.resolveParameters(Z,Q,we,this.drillService,this.sortService,void 0).queryChange}getProjectionsForParameter(Z,Q,ne,le){var he=[],Se=Z[Q];if(void 0!==Se.length&&Se.length>0)for(var Ke=(0,n.VZ)(Se.index,Z),Ge=Ke;Ge<Ke+Se.length;Ge++)he.push(ne[le][Ge]);return he}applyVisualQueryPresentationChanges(Z,Q,ne,le,he){for(var Se in Z.projections)this.visualAuthoringCore.removeAllParametersAndProjectionsFromRole(Se,le,he,this.drillService,this.sortService);for(var Ke in Q){var Ge=this.getNonParameterExpressions(Q[Ke],ne,Ke),ye=void 0;for(ye=0;ye<Ge.length;ye++){var we=Ge[ye],je=!1;if(Z.projections[Ke])for(var de=Z.tryGetExprs(Ke),Pe=ye;Pe<de.length;Pe++)if((0,m.fS)(de[Pe],we,!0,!0,!0)){je=!0,Pe!==ye&&Z.moveProjection(Ke,Pe,ye,1);break}je||Z.add(we,Ke,{fieldIndex:ye})}if(Z.projections[Ke])for(var Ze=Z.tryGetExprs(Ke).length;Ze>Ge.length&&Ze>0;)Z.removeProjection(Ke,{fieldIndex:--Ze})}for(var Ue in Z.projections){var Je=this.getNonParameterExpressions(Q[Ue],ne,Ue);if(!Je?.length)for(var De=Z.tryGetExprs(Ue).length,ue=0;ue<De;ue++)Z.removeProjection(Ue,{fieldIndex:0})}}getNonParameterExpressions(Z,Q,ne){if(Z){for(var le=[],he=function(Ke){var Ge=Q&&Q[ne];if(Ge&&Ge.length>0&&_.find(Ge,we=>{var je=(0,n.VZ)(we.index,Ge);return void 0!==we.length&&we.length>0&&Ke>=je&&Ke<=je+we.length-1}))return 1;null!==Z[Ke]&&le.push(Z[Ke])},Se=0;Se<Z.length;Se++)he(Se);return le}}applyVisualGroupState(Z,Q,ne,le,he,Se){var Ke=this;if(!he.targetVisualNames||_.includes(he.targetVisualNames,ne.name)){var ye;if(!this.getSuppressDisplayOptions(he).visuals){var je=Z.isHidden;if(null!=je&&je!==ne.isHidden&&(ne.isHidden=je,ye=!0),je&&!_.isEmpty(Se)){var Pe=this.clearCrossHighlightsForGroup(ne,Q,Se);le.visualContainers=_.chain(le.visualContainers).concat(Pe).uniq().value()}}ye&&le.visualContainerGroups.push(ne)}if(!_.isEmpty(Z.children)){var Ve=function(Ue){var Je=Z.children[Ue],De=_.find(ne.children,ue=>ue.name===Ue);if(!Je||!De||!(0,v.q4)(De))return 1;Ke.applyVisualGroupState(Je,Q,De,le,he,Se)};for(var Ze in Z.children)Ve(Ze)}}getSuppressDisplayOptions(Z){var Q=Z.suppressDisplay;return this.isDisplayOptions(Q)?Q:{outspacePane:Q,visuals:Q}}applyFilterExpressionCache(Z,Q,ne){ne?this.clearFilterExpressionCache(Q):(Q.filterExpressionMetadata=Z.filterExpressionMetadata,Q.cachedFilterDisplayItems=Z.cachedFilterDisplayItems)}clearFilterExpressionCache(Z){Z.filterExpressionMetadata=void 0,Z.cachedFilterDisplayItems=void 0}applyHidden(Z,Q,ne){var le=Q.config.singleVisual;if(Z!==(0,g.xj)(le)){(0,g.Zk)(le,Z);var he=[Q];return Z&&(he=_.chain(he).concat(this.clearCrossHighlightsForVisual(Q,ne)).uniq().value()),he}}clearCrossHighlightsForGroup(Z,Q,ne){var he,le=[];return(0,v.Iw)([Z],Ke=>{(0,v.Vz)(Ke)&&_.some(ne,Ge=>Ge.sourceVisualContainer===Ke)&&le.push(Ke)}),_.isEmpty(le)||(he=this.clearCrossHighlightsForVisuals(le,Q)),he||[]}clearCrossHighlightsForVisual(Z,Q){return this.clearCrossHighlightsForVisuals([Z],Q)}clearCrossHighlightsForVisuals(Z,Q){var ne=[...Z||[]];return ne.push(...this.filterGenerator.clearCrossHighlightForVisualContainersOperation(Q,Z)||[]),_.uniq(ne)}collectValidDrillExprs(Z){var Q=Z.query;if(!Q)return[];var ne=Q.defn.select();if(_.isEmpty(ne))return[];var le=[];for(var he in Q.projections){var Se=Q.projections[he],Ge=_.last(Se.activeProjectionRefs||[]);for(var ye of Se.all()){if(Ge&&ye.queryRef===Ge)break;var we=ne.withName(ye.queryRef);u.fF.assertValue(we,"found queryRef with no corresponding select"),we&&le.push(we.expr)}}return le}applyActiveProjectionsAndDrillState(Z,Q,ne,le){var he=Z.query;if(!he)return!1;var Se=he.defn.select(),Ke=this.plugins.capabilities(Z.visualType),Ge=Ke&&Ke.drilldown||{roles:[],suppresDrillOperations:!1},ye=Ge.roles,we=Ge.suppresDrillOperations,je=!1,de={},Pe=function(){if(!_.includes(ye,Ze))return 0;var ke=Q[Ze];u.fF.assertNonEmpty(ke,"activeExprsForRole"),de[Ze]||(de[Ze]=[]);var at=he.projections[Ze];if(!at)return je=!0,0;var tt=at.all();if(_.isEmpty(tt)||ke.length>tt.length)return je=!0,0;if(1!==ke.length||we)for(var Ne=function(Le){u.fF.assert(()=>Le<=tt.length,"existingProjections.length");var X=ke[Le],be=tt[Le],Ie=Se.withName(be.queryRef);if(u.fF.assertValue(Ie,"found queryRef with no corresponding select"),!(0,m.fS)(Ie.expr,X))return je=!0,1;de[Ze].push(be.queryRef)},ae=0;ae<ke.length;ae++)Ne(ae);else{var ut=ke[0],ct=_.find(tt,Le=>{var X=Se.withName(Le.queryRef);return u.fF.assertValue(X,"found queryRef with no corresponding select"),(0,m.fS)(X.expr,ut)});if(!ct)return je=!0,0;de[Ze].push(ct.queryRef)}};for(var Ze in Q)Pe();if(je)for(var Ue in he.projections)de[Ue]=[];var Je=!1;if(he.isDrillDisabled!==le&&(0,D.S1)(Ke))he.changeDrillStateValue(ye,le,de),Je=!0;else for(var De in he.projections)if(_.includes(ye,De)){var ue=he.projections[De],_e=de[De];if(_.isEmpty(_e)&&!le){if(!ne)continue;var te=ue.all();_.isEmpty(te)||(_e=[_.head(te).queryRef])}(0,e.NF)(ue.activeProjectionRefs,_e,(ke,at)=>ke===at)||(ue.activeProjectionRefs=_e,Je=!0)}return Je}applySort(Z,Q,ne){var le=Z.query;if(!le)return!1;var he=le.defn.orderBy()||[];return!(!Q&&!ne||(Q=Q||[],(0,e.NF)(he,Q,m.ll))||(le.orderBy(Q),0))}applyObjects(Z,Q,ne,le,he,Se,Ke){u.fF.assertValue(Q,"singleVisual"),u.fF.assertAnyValue(ne,"contractUpdates"),u.fF.assertAnyValue(he,"schema"),u.fF.assertValue(le,"objectDescs");var Ge={};ne&&(ne.merge&&(Ge.merge=(0,c.d9)(ne.merge)),ne.remove&&(Ge.remove=ne.remove.slice()));var je,ye=Q.objects||{},we=(0,h.MD)(le),de=this.plugins.getPlugin(Q.visualType);this.applyPluginUpdateSemantics(de,Ge,ye,le,Ke),Ge.remove||(Ge.remove=this.getVisualPropertiesToRemove(Q.visualType,ye,Ge.merge));var Pe=this.mergeObjects(Z,Q,Ge.merge,ye,Se,he,we);return je=je||Pe.visualImpacted,Ge.remove=Ge.remove.concat(Pe.removeList),this.removeObjects(Q,ye,Ge.remove,Se,we)||je}updateQueryProjectionsFromExpansionState(Z,Q,ne){var le=this;if(_.isEmpty(Q))return!1;var Se,he=function(Ge){var ye=Ge.getVisibleDescendentsDepth(Ge.root,-1),we=Math.max(_.findLastIndex(Ge.levels,Je=>Je.isPinned)+1,ye),je=Je=>{var De=Ge.roles[Je];return u.fF.assertValue(Z.projections[De],`Invalid role ${De}`),Z.projections[De]&&Z.projections[De].all()},de=Je=>{var _e,De=0,ue=je(0),te=0,ke=function(){if(te===_.size(ue)&&(te=0,++De>=_.size(Ge.roles)||!(ue=je(De))))return 0;var tt=Ge.levels[_e];u.fF.assert(()=>1===_.size(tt.queryRefs),"Composite groups are not supported, expected only one queryRef.");var ut=_.findIndex(ue,ct=>{var Ne=(0,n.SA)(Z.defn,ct)?.expr;return ct.queryRef===_.first(tt.queryRefs)&&le.verifyExpansionIdentities(tt,Ne,ne)},Je?te:0);if(-1===ut)return 0;Je&&te!==ut&&Z.moveProjection(Ge.roles[De],ut,te,1)};for(_e=0;_e<_.size(Ge.levels)&&0!==ke();_e++,te++);return _e};if(!(de(!1)>=we))return{v:!1};_.remove(Z.expansionStates,Je=>_.isEqual(Je.roles,Ge.roles)),de(!0);var Ve=Ge.clone();Z.setActiveProjections(Ve.roles,ye);var Ze=Z.getRolesUniqueProjectionRefs(Ve.roles),Ue=_.findIndex(Ve.levels,Je=>Je.isCollapsed);Ve.updateLevels(Ze,-1===Ue?ye:Ue),Z.expansionStates||(Z.expansionStates=[]),Z.expansionStates.push(Ve)};for(var Ke of Q)if(Se=he(Ke))return Se.v;return!0}applyExpansionStates(Z,Q,ne,le,he){var Se=Z.config.singleVisual,Ke=Se.query;if(!Ke)return!1;if(!Q&&!ne||(0,C.wy)(Ke.expansionStates||[],Q=Q||[]))return!1;var ye=this.plugins.capabilities(Se.visualType);return ye&&ye.expandCollapse&&ye.expandCollapse.restoreProjectionsOrderFromBookmark?this.updateQueryProjectionsFromExpansionState(Ke,Q,le):(Ke.expansionStates=(0,C.d9)(_.filter(Q,je=>{1!==je.roles.length&&(u.fF.assertFail("explorationState.applyExpansionStates -\n                        We currently only support 1 role in the bookmark validation code path,\n                        in the case of this assert triggering update this code to handle multiple roles."),he.issues.push({type:256}));var de=Ke.projections[je.roles[0]],Pe=de&&de.all()||[];return!(!this.expandCollapse.isEnabled(Z,je.roles)||1!==je.roles.length||Pe.length<je.levels.length)&&_.every(je.levels,(Ve,Ze)=>{u.fF.assert(()=>1===Ve.queryRefs.length,"explorationState.applyExpansionStates -\n                            We currently assume there's only 1 queryRef, in the case of composite groups update this code.");var Ue=Pe[Ze],Je=(0,n.SA)(Ke.defn,Ue)?.expr;return Ue.queryRef===Ve.queryRefs[0]&&this.verifyExpansionIdentities(Ve,Je,le)})})),!0)}verifyExpansionIdentities(Z,Q,ne){var le=new a.H;return _.isEmpty(Z.identityKeys)||(0,e.NF)(Z.identityKeys,Q.accept(le,ne),m.fS)}applyPluginUpdateSemantics(Z,Q,ne,le,he){if(Q&&Z&&Z.mergeObjects){var Se=(0,t.Ue)(),Ge=(0,d.G3)(ne,le,Se,this.featureSwitchService.featureSwitches).dataViewObjects,ye=(0,d.G3)(Q.merge||{},le,Se,this.featureSwitchService.featureSwitches),je=Z.mergeObjects({objects:Ge,changes:ye.dataViewObjects,isPersistentState:he});if(je){if(u.fF.assert(()=>null==je.removeObject&&null==je.replace,"Unsupported merge actions"),je.merge)for(var de of(Q.merge={},je.merge))for(var Pe in de.properties){var Ze=(0,c.Lo)(de.properties[Pe],Z.capabilities.objects[de.objectName].properties[Pe].type);(0,c.sO)(Q.merge,{objectName:de.objectName,propertyName:Pe},de.selector,Ze)}if(je.remove)for(var Ue of(Q.remove=[],je.remove))for(var Je in Ue.properties)Q.remove.push({object:Ue.objectName,property:Je,selector:Ue.selector})}}}mergeObjects(Z,Q,ne,le,he,Se,Ke){var Ge={visualImpacted:!1,removeList:[]};if(_.isEmpty(ne))return Ge;for(var ye in ne)for(var we of ne[ye]){var je=(0,c.zx)(le,ye,we.selector);for(var de in we.properties){var Pe=we.properties[de];if(!(0,c.ES)(je.properties[de],Pe)){if(Ke&&o(Ke,{objectName:ye,propertyName:de})){var Ve=!!this.isFilterValid(Pe,Q,Se);if(this.applyFilterExpressionCache(Z,Q,!Ve),!Ve){he.issues.push({type:128}),Ge.removeList.push({object:Ke.objectName,property:Ke.propertyName,selector:null});continue}this.setMinimumFilterScope(he,1)}je.properties[de]=Pe,Ge.visualImpacted=!0,Q.objects||(Q.objects=le)}}}return Ge}removeObjects(Z,Q,ne,le,he){if(_.isEmpty(ne))return!1;var Se=!1;for(var Ke of ne){var ye=Ke.object,we=Ke.property;(0,c.E2)(Q,ye,Ke.selector,we)&&(Se=!0,he&&o(he,{objectName:ye,propertyName:we})&&(this.clearFilterExpressionCache(Z),this.setMinimumFilterScope(le,1)))}return Se}getVisualPropertiesToRemove(Z,Q,ne){var le=this.plugins.capabilities(Z);if(!le||!le.objects)return[];var he=(0,h.MD)(le.objects),Se=[];for(var Ke in le.objects){var Ge=le.objects[Ke];for(var ye in Ge.properties){var we=Ge.properties[ye];if(!we.persistUnmatchedState&&(we.filterState||we.captureState||he&&o(he,{objectName:Ke,propertyName:ye}))){var je=Q?.[Ke];if(!je)continue;for(var Pe of je){var Ve=Pe.selector,Ze=Pe.properties[ye],Ue=(0,c.NA)(ne,{objectName:Ke,propertyName:ye},Ve);Ze&&!Ue&&Se.push({object:Ke,property:ye,selector:Ve})}}}}return Se}isFilterValid(Z,Q,ne){u.fF.assertAnyValue(ne,"if no schema is specified, we will not check for group-on key inclusion in a query");var le=Q.query;if(!le)return!1;var he=new G(le.defn,ne);return Z.rewrite(he),he.valid}isSelectionValid(Z,Q,ne){var le=(0,i.k_)(Z);if(!le)return u.fF.assertFail("Could not create filter from selection"),!1;var Se=new s.Je(p.F0.instance).rewriteFrom(le.from()),Ke=_.map(le.where(),Ge=>({condition:Ge.condition.accept(p.F0.instance)}));return le=new s.yl(Se,Ke),this.isFilterValid(le,Q,ne)}setMinimumFilterScope(Z,Q){Z.filterScope=Z.filterScope?Math.max(Q,Z.filterScope):Q}getAdditionalVisualFiltersToCapture(Z,Q){var ne=[],le=(0,w.i4)(Z,this.visualPluginOps,Q,this.aggrOps)||[],he=function(Ke){_.find(Z.filters,Ge=>(0,m.fS)(Ge.expression,Ke.expression))||ne.push(Ke)};for(var Se of le)he(Se);return ne}presentationChangesAllowed(Z,Q,ne,le,he){if(!Z.settings||!Z.settings.allowInlineExploration||!Q.applyPresentationChanges)return!1;var Se=ne&&ne.config&&ne.config.singleVisual;if(!Se)return!1;var Ge=le&&le.visualType;if(![de=>he.isQnaVisual(de),de=>he.isQueryVisual(de)].some(de=>de(Ge)))return!1;var je=(0,c.NA)(Se&&Se.vcObjects,{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},null);return!(je&&!1===je.value)}}class G extends l.b{constructor(Z,Q){u.fF.assertValue(Z,"query"),u.fF.assertAnyValue(Q,"if no schema is provided, we do not check group-on keys"),super(),this.valid=!0,this.query=Z,this.schema=Q}visitColumnRef(Z){return this.valid=this.valid&&this.exprInSelects(Z),Z}exprInSelects(Z){var Q=_.some(this.query.select(),Se=>(0,m.fS)(Se.expr,Z,!0,!0));if(Q)return!0;if(!this.schema)return Q;var ne=this.query.select();for(var le of ne){var he=le.expr.getKeyColumns(this.schema);if(_.some(he,Se=>(0,m.fS)(Z,Se,!0,!0)))return!0}return!1}}},980812:function(Ce,k,r){r.d(k,{TW:function(){return C}});var a=r(17933),e=r(67688),u=r(416762),t=r(159214);function C(c,h){var d={},n=h.getCurrentSection(),s=h.getCurrentExploration(),p=h.getExplorationTelemetryData();switch(n&&(d={activeSectionId:n.id,sectionGuid:n.objectId,sectionIndex:s&&s.activeSectionIndex},(c.name===e.GD||c.name===e.Ef||c.name===e.z6||c.name===e.OX||c.name===e.jn)&&(d.visualTypesAndCounts=JSON.stringify((0,t.a8)(n)))),p&&(d.modelId=p.modelId,d.reportGuid=p.reportGuid,d.dataCacheMode=p.dataCacheMode,d.datasetHost=p.datasetHost,d.dbName=p.dbName,d.enterpriseCapacitySkuTier=p.enterpriseCapacitySkuTier,d.isDirectQuery=p.isDirectQuery,d.isOnPrem=p.isOnPrem,d.exid=p.exid,d.exsid=p.exsid),c.name){case e.GD:(function(c,h){h&&!_.isEmpty(h.sections)&&(c.areAnySectionQuickExplore=(0,u.sk)(h.sections),c.creationSource=h.creationSource)})(d,s),i(d,n,p);break;case e.Ef:i(d,n,p)}if(!_.isEmpty(d)){var l=c.formatted||(()=>({}));c.formatted=()=>(0,a.lG)(l.apply(c),d)}}function i(c,h,d){h&&(c.usageReportSection=d&&d.isNewUsageMetrics?h.displayName:void 0),d&&(c.isNewUsageMetrics=d.isNewUsageMetrics,c.isUsageMetrics=d.isUsageMetrics)}},586352:function(Ce,k,r){r.d(k,{n:function(){return y}});var a=r(939123),e=r(737466),u=function(o){return o[o.None=0]="None",o[o.DuplicatedName=1]="DuplicatedName",o}({});class C{constructor(c,h){this.federatedConceptualSchema=c,this.localizationService=h}validateExistingMeasureName(c){var h=C.normalizeModelItemName(c.name);for(var d of this.federatedConceptualSchema.schemas)for(var n of d.entities)for(var s of n.properties)if(s!==c&&C.normalizeModelItemName(s.name)===h)return{error:u.DuplicatedName,reason:this.localizationService.format(s.measure?"NameValidationFailedCollisionMeasure":"NameValidationFailedCollisionColumn",[s.name,n.name])};return{error:u.None}}static normalizeModelItemName(c){return(0,e.m5)(c)}}function y(o){return new i(o)}class i{constructor(c){this.localization=c}validate(c){if(c){var h=function(o,c){return new C(o,c)}(c,this.localization);for(var d of c.schemas)if(d.isExtensionSchema){var n=c.schema(d.extends);for(var s of(a.fF.assertValue(n,"mainSchema"),d.entities)){var p=!1;for(var b of(n.entities.withName(s.name)||(p=!0,s.errorMessage=this.localization.get("ReportMeasuresMissingTableErrorMessage"),s.queryable=1,s.isAbandoned=!0),s.properties))if(1===b.kind){var V=h.validateExistingMeasureName(b);V.error===u.DuplicatedName?(b.errorMessage=V.reason,b.queryable=1):p&&(b.errorMessage=this.localization.get("ReportMeasuresMissingTableMeasureErrorMessage"),b.queryable=1)}}}}}}},100677:function(Ce,k,r){r.d(k,{t:function(){return E},X:function(){return w}});var a=r(98448),e=r(939123),u=r(132640),t=r(969143),C=r(129535),y=r(438905),i=r(377176),o=r(953474),c=r(517273),h=r(990121),d=r(518299),n=r(295046),s=r(184437),p=r(224015),l=r(159214),m=r(692699),b=r(239827);class V{constructor(L){this.visualPlugins=L,this.collectedFilters=[]}collectFilters(L,B,I){if(!_.isEmpty(L))for(var W of L)!W||!W.filter&&W.type!==h.vA.VisualTopN||this.collectFilter(W.filter,W,I,B)}collectFiltersForFilterContainer(L,B,I,W){if(L)for(var O of L)!O.filter||O===I||O.type===h.vA.VisualTopN||this.collectFilter(O.filter,O,W,B)}collectFilter(L,B,I,W,O){var F;e.fF.assertAnyValue(L,"filter"),e.fF.assertAnyValue(B,"filterContainer"),e.fF.assertAnyValue(I,"sourceVisualContainer"),L&&(I&&(F=(0,l.cj)(I,this.visualPlugins)),this.collectedFilters.push({filter:L,filterContainer:B,sourceVisualContainer:I,sourceVisualContainerCapabilities:F,scopeType:W,collectedFilterSource:O}))}getCollectedFilters(){return this.collectedFilters}}var g=r(454865),v=r(528836),f=r(269556);class S{constructor(L){e.fF.assertValue(L,"options"),this.options=L}resolveSemanticQuery(L){return L?L.where(this.resolveFilters(L.where()),L.from()):null}resolveFilters(L){return L?_.map(L,B=>this.resolveFilter(B)):null}resolveFilter(L){if(!L)return null;if(L.target)return L;if(L.condition)switch((0,y._)(L.condition)){case 0:return this.resolveColumnFilter(L);case 2:return this.resolveExistsFilter(L);case 1:return this.resolveMeasureFilter(L);case 3:return this.resolveSubqueryFilter(L);default:return void e.fF.assertFail("Unsupported filter kind!")}}resolveColumnFilter(L){return{condition:L.condition,annotations:L.annotations}}resolveMeasureFilter(L){var B=this,I=null;this.options.mappings&&this.options.mappings.measureFilter&&(I=this.options.mappings.measureFilter.targetRoles),(!I||!_.some(I,z=>this.options.queryProjections[z]))&&(I=this.getDefaultMeasureFilterTargetRoles());var W,O,F=L.condition;if(I){for(var A of I){var T=this.options.queryProjections[A];if(T){var R=function(){var z=B.options.select.filter(J=>J.name===U.queryRef);e.fF.assert(()=>!_.isEmpty(z)&&1===z.length,"Expected exactly one projection with the specified name.");var j=z[0].expr,H=z[0].name;e.fF.assert(()=>null!==H,"Expected select name to be populated");var q=j.getMetadata(B.options.schema);q&&1!==q.kind&&(!W||!W[H])&&(O||(O=[],W={}),O.push(j),W[H]=!0)};for(var U of T.all())R()}}e.fF.assertNonEmpty(O,"resolveMeasureFilter we are not supposed to have a filter with empty targets"),F=P.rewrite(F,I)}return{target:O,condition:F,annotations:L.annotations}}resolveExistsFilter(L){return e.fF.assertNonEmpty(L.target,"Exists filters must specify targets."),L}resolveSubqueryFilter(L){return{condition:L.condition,annotations:L.annotations}}getDefaultMeasureFilterTargetRoles(){return(this.options.dataRoles?this.options.dataRoles.filter(B=>B.kind===g.DW.Grouping||B.kind===g.DW.GroupingOrMeasure):[]).map(B=>B.name)}}class P extends f.b{constructor(L){super(),this.filterTargetRoles=L}static rewrite(L,B){e.fF.assertValue(L,"filterCondition"),e.fF.assertValue(B,"filterTargetRoles");var I=new P(B);return L.accept(I)}visitScopedEval(L){var B=_.filter(L.scope,I=>!(0,o.yL)(I)||_.includes(this.filterTargetRoles,I.role));return B.length===L.scope.length?L:new v.kC(L.expression,B)}}var D=r(960196),M=r(688574),E=3500;function w(N,L,B,I,W,O,F,A,T){return new x(N,L,B,I,W,O,F,A)}class x{constructor(L,B,I,W,O,F,A,T){this.eventBridge=L,this.visualPlugins=B,this.aggrOps=I,this.relationshipService=W,this.hostFilters=O,this.telemetryService=F,this.scriptVisuals=A,this.featureSwitchService=T,e.fF.assertValue(this.eventBridge,"eventBridge"),e.fF.assertValue(this.visualPlugins,"visualPlugin"),e.fF.assertValue(this.aggrOps,"aggrOps"),e.fF.assertValue(this.relationshipService,"visualRelationship"),e.fF.assertValue(this.hostFilters,"hostFiltersService"),e.fF.assertValue(this.telemetryService,"telemetryService"),e.fF.assertValue(this.scriptVisuals,"scriptVisuals")}collectVisualContainerFilters(L,B,I){var W=new V(this.visualPlugins);W.collectFilters(I.filters,0,I),B&&(W.collectFilters(B.filters,1),this.collectCrossFilter(W,B,I)),this.collectSelfFilter(W,I,null),L&&W.collectFilters(L.filters,2);var O=this.hostFilters.getSelectedHostFilters();return O&&W.collectFilters(O.filters,1),W.getCollectedFilters()}collectVisualContainerDrillFilters(L){var B=new V(this.visualPlugins),I=_.filter(L.filters,W=>(e.fF.assertValue(W,`collectVisualContainerDrillFilters: visualContainer with name ${L.name} contains blank value in .filters`),null!=W&&2===W.howCreated));return B.collectFilters(I,0,L),B.getCollectedFilters()}addVisualContainerFilters(L,B,I,W,O,F=!1){L.addCollectedFilters(this.collectVisualContainerFilters(B,I,W),!0,this.getShouldApplyFilter(W,O,I,F)),I&&(this.addHighlightFilter(L,I,W,O),this.addCrossDrillFilters(L,I,W,O))}calculateVisualContainerFilter(L,B,I,W,O=!1,F=!1){var A=new b.ME(I);this.addVisualContainerFilters(A,L,B,I,W,O);var T=A.getFilters(F);return T.queryRefsForSingleItemDrillFilters=s.l.getQueryRefsForSingleItemDrillFilters(I,W,this.aggrOps),T}calculateDetailVisualFilter(L,B,I,W,O){var F=new b.ME(I);this.addVisualContainerFilters(F,L,B,I,W),0===O&&(O=1);var A=F.getHighlightFilters();A&&(F.clearHighlightFilters(),F.mergeHighlightFiltersBasedOnRelationship(A,O));var T=F.getFilters();return T.queryRefsForSingleItemDrillFilters=s.l.getQueryRefsForSingleItemDrillFilters(I,W,this.aggrOps),T}clearCrossHighlight(L,B,I){var W=this.clearCrossHighlightOperation(L);(0,l.M2)(this.eventBridge,W,"UserAction_CrossHighlight",B,I)}clearCrossHighlightForVisualContainers(L,B,I,W){var O=this.clearCrossHighlightForVisualContainersOperation(L,B);(0,l.M2)(this.eventBridge,O,"UserAction_CrossHighlight",I,W)}clearCrossHighlightForVisualContainersOperation(L,B){var I=L.crossFilterSource&&L.crossFilterSource.highlight;if(!_.isEmpty(I)){var W=_.chain(I).map(T=>T.sourceVisualContainer).filter(T=>_.includes(B,T)).valueOf(),O=[];for(var F of W){var A=this.setCrossHighlightOperation(null,null,L,3,F);O.push(...A||[])}return _.uniq(O)}}clearFiltersFromVisualContainers(L,B,I,W){var O=L&&L.crossFilterSource,F=O&&O.drill,A=O&&O.highlight,T=[];if(!_.isEmpty(A)&&_.some(B,z=>_.some(A,j=>z===j.sourceVisualContainer))&&(T=this.clearCrossHighlightOperation(L)),!_.isEmpty(F)){var R=this.clearCrossDrillFromVisualContainersOperation(L,B);T=_.union(T,R)}if(this.featureSwitchService.featureSwitches.applyAllSlicersButton){var U=[];_.forEach(B,z=>{var j=(0,l.Qg)(z),H=(0,t.NA)(j,{objectName:"visualLink",propertyName:"type"},void 0);H?.value===n.cy&&U.push(z)}),T=_.union(T,U)}_.some(B,z=>this.supportsFilterOutput(z))?(0,l.M2)(this.eventBridge,L.visualContainers,I,void 0,W):_.isEmpty(T)||(0,l.M2)(this.eventBridge,T,I,void 0,W)}updateCrossHighlightCollectedFilters(L,B,I){var W=L&&L.crossFilterSource&&L.crossFilterSource.highlight;if(W){var O=_.find(W,F=>F.sourceVisualContainer===I);O&&!_.isEmpty(O.selection)&&(O.collectedFilters=this.collectVisualContainerFilters(B,L,I),(0,l.Rr)(this.eventBridge,I))}}calculateFilterContainerInputFilter(L,B,I,W,O){if(I&&B&&O){var F;0===O.scopeType&&(F=O.container);var A=new V(this.visualPlugins);if(L&&A.collectFiltersForFilterContainer(L.filters,2,I),1===O.scopeType){var T=5===I.howCreated?_.filter(B.filters,U=>null!=U&&5===U.howCreated):B.filters;A.collectFiltersForFilterContainer(T,1,I)}else 2!==O.scopeType&&A.collectFiltersForFilterContainer(B.filters,1,I);this.collectSelfFilter(A,null,I),F&&(A.collectFiltersForFilterContainer(F.filters,0,I,F),this.collectCrossFilter(A,B,F));var R=new b.ME(F,I);return R.addCollectedFilters(A.getCollectedFilters(),!1,this.getShouldApplyFilterContainerInputFilter(I,F,W,B)),R.getFilters()}}getVisualContainerCrossFilters(L,B,I){var W=new V(this.visualPlugins);this.collectCrossFilter(W,L,B);var O=new b.ME(B);return O.addCollectedFilters(W.getCollectedFilters(),!1,this.getShouldApplyFilter(B,I,L)),this.addHighlightFilter(O,L,B,I),this.addCrossDrillFilters(O,L,B,I),{dataFilters:O.getCrossFilters()||[],highlightFilters:O.getHighlightFilters()}}checkSelectionLimit(L,B,I,W){var O=this.countSelectedDataPoints(L,B,W),F=I.length;return{existingSelectionLength:O,newSelectionLength:F,allowed:!(O+F>E)}}logRFilterTelemetry(L,B,I,W){var O=(0,p.aG)(B,this.scriptVisuals);_.isEmpty(O)||this.telemetryService.logChildEvent(W&&W.event,L,{filterType:I,visualIds:JSON.stringify(O)})}setCrossHighlightOperation(L,B,I,W,O,F,A){var T=this,R=I.crossFilterSource&&I.crossFilterSource.highlight,U=!1;if(O){U=!0,I.crossFilterSource||(I.crossFilterSource={highlight:[]}),I.crossFilterSource.highlight||(I.crossFilterSource.highlight=[]);var j,z=I.crossFilterSource.highlight;3!==W&&1!==W||!this.newAndPreviousSelectionsSupportMultiVisualSelection(O,z)?(I.crossFilterSource.highlight=z=[],j=0):-1===(j=_.findIndex(z,Q=>Q.sourceVisualContainer===O))&&(j=z.length),null==B?(_.isEmpty(z)||((z=[...z||[]]).splice(j,1),I.crossFilterSource.highlight=z),O=null):z[j]={sourceVisualContainer:O,selection:B,selectorFilter:(0,u.k_)(B),collectedFilters:_.isEmpty(B)?[]:this.collectVisualContainerFilters(L,I,O),filterExpressionMetadata:F},this.logRFilterTelemetry(a.qi,I,"Highlight",A)}else R&&(U=!0,I.crossFilterSource.highlight=void 0);if(U){var H=I.crossFilterSource&&I.crossFilterSource.highlight;if(!_.isEmpty(R)){var q=function(Q){-1===_.findIndex(H,ne=>ne.sourceVisualContainer===Q.sourceVisualContainer)&&(0,l.kK)(T.eventBridge,Q.sourceVisualContainer)};for(var G of R)q(G);var J=function(Q){if(Q.sourceVisualContainer!==O&&-1===_.findIndex(H,le=>le.sourceVisualContainer===Q.sourceVisualContainer))return O=null,1};for(var Z of R)if(J(Z))break}return _.filter(I.visualContainers,Q=>Q!==O)}}newAndPreviousSelectionsSupportMultiVisualSelection(L,B){return e.fF.assertValue(B,"highlights"),!(!this.supportsMultiVisualSelection(L)||1===B.length&&!this.supportsMultiVisualSelection(B[0].sourceVisualContainer))}supportsMultiVisualSelection(L){var B=(0,l.cj)(L,this.visualPlugins);return B&&B.supportsMultiVisualSelection}clearCrossHighlightOperation(L){if(L.crossFilterSource&&L.crossFilterSource.highlight)return this.setCrossHighlightOperation(null,null,L)}clearCrossDrillFromVisualContainersOperation(L,B){if(!_.isEmpty(B)){var I=[];for(var W of B){var O=this.updateCrossDrillFromVisualContainerOperation(L,W,!0);I=_.union(I,O)}return I}}updateCrossDrillFromVisualContainerOperation(L,B,I){e.fF.assert(()=>I||_.includes(L.visualContainers,B),"sourceVisualContainer should be a VisualContainer of the given section.");var F,W=L.crossFilterSource&&L.crossFilterSource.drill,O=!1;if(!I){var A=this.collectVisualContainerDrillFilters(B);_.isEmpty(A)||(F={sourceVisualContainer:B,collectedFilters:A})}var T=_.findIndex(W,R=>R.sourceVisualContainer===B);if(T>=0?(O=!0,F?W[T]=F:W.splice(T,1)):F&&(O=!0,L.crossFilterSource||(L.crossFilterSource={}),(L.crossFilterSource.drill||(L.crossFilterSource.drill=[])).push(F)),O)return _.filter(L.visualContainers,R=>R!==B)}collectSelfFilter(L,B,I){var W;if(e.fF.assertValue(L,"collector"),B){if(W=this.getFilterFromFilterPropertyInVisualContainer(B,T=>this.tryGetSelfFilterProperty(T))){var F=i.yl.clone(W);F.setIgnoreMParameter(),L.collectFilter(F,null,B,0,d.w.Self)}}else if(W=this.getFilterFromFilterPropertyInFilterContainer(I,T=>this.tryGetSelfFilterProperty(T))){var A=i.yl.clone(W);A.setIgnoreMParameter(),L.collectFilter(A,I,null,0,d.w.Self)}}collectCrossFilter(L,B,I){for(var W of(e.fF.assertValue(L,"collector"),e.fF.assertValue(B,"section"),e.fF.assertValue(I,"targetVisualContainer"),B.visualContainers))if(W!==I){var O=this.getFilterFromFilterPropertyInVisualContainer(W,(F,A)=>this.tryGetFilterPropertyIdentifier(F,A));O&&L.collectFilter(O,null,W,0,d.w.Slicer)}}getFilterFromFilterPropertyUtil(L,B,I){var W=I(L,B&&B.visualType);if(W){var O=B.objects;if(O)return(0,t.NA)(O,W,null)}}getFilterFromFilterPropertyInVisualContainer(L,B){e.fF.assertValue(L,"visualContainer must be defined"),e.fF.assertValue(B,"getFilterPropertyIdentifierFunc must be defined");var I=(0,l.cj)(L,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(I,L.config&&L.config.singleVisual,B)}getFilterFromFilterPropertyInFilterContainer(L,B){e.fF.assertValue(L,"visualContainer must be defined"),e.fF.assertValue(B,"getFilterPropertyIdentifierFunc must be defined");var I=(0,l.oE)(L,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(I,L.config&&L.config.singleVisual,B)}addHighlightFilter(L,B,I,W){var O=B.crossFilterSource&&B.crossFilterSource.highlight;if(!_.isEmpty(O)&&(0,m.s)(I)!==M.D.slicer)for(var F of O)if(F.sourceVisualContainer!==I){var A=this.buildHighlightFiltersForRelatedTargets(F,W,B);if(A){var T=this.relationshipService.relationshipFilterAction(B,F.sourceVisualContainer,I,W,!1),R=(0,l.cj)(I,this.visualPlugins);0===T&&(T=this.relationshipService.defaultFilterAction(F.sourceVisualContainer,I)),L.mergeHighlightFiltersBasedOnRelationship(A,T,!R.supportsHighlight)}}}addCrossDrillFilters(L,B,I,W){var O=B.crossFilterSource&&B.crossFilterSource.drill;if(!_.isEmpty(O)){var F=[];for(var A of O){var T=A.sourceVisualContainer;if(this.relationshipService.shouldApplyCrossDrill(B,T,I,W)){var U=new b.ME(T);U.addCollectedFilters(A.collectedFilters,!1,this.getShouldApplyDrillCrossFilter(T,W,B));var z=U.getUnmergedDrillCrossFilter();if(z){var j=function(q){L.addCrossFilter(q);var G=_.find(A.collectedFilters,J=>J.filter===q.filter);e.fF.assertValue(G,"There should be a matching CollectedFilter from the source for the applied cross filter on the target."),G&&F.push(G.filterContainer)};for(var H of z)j(H)}}}return F}}buildHighlightFiltersForRelatedTargets(L,B,I){var W=new b.ME(L.sourceVisualContainer);return L.selectorFilter&&W.setSelectorFilter({filter:L.selectorFilter,filterExpressionMetadata:L.filterExpressionMetadata,type:h.vA.Include}),W.addCollectedFilters(L.collectedFilters,!1,this.getShouldApplyHighlightFilter(L.sourceVisualContainer,B,I)),W.getCrossHighlightFilters()}getShouldApplyFilterContainerInputFilter(L,B,I,W){return(O,F,A)=>this.shouldApplyFilterContainerInputFilter(O,F,A,L,B,I,W)}shouldApplyFilterContainerInputFilter(L,B,I,W,O,F,A){if(e.fF.assertValue(L,"filter"),B===W)return!0;if(!this.shouldApplyFilter(L,B,I,O,F,A))return!1;var T=B&&B.expression;return!(T&&(0,D.k)(T)||_.some(L.conditions(),R=>3===(0,y._)(R)))}getShouldApplyHighlightFilter(L,B,I){return(W,O,F)=>this.shouldApplyHighlightFilter(W,O,F,L,B,I)}getShouldApplyDrillCrossFilter(L,B,I){return(W,O,F)=>this.shouldApplyDrillCrossFilter(W,O,F,L,B,I)}shouldApplyHighlightFilter(L,B,I,W,O,F){return!(!this.shouldApplyFilter(L,B,I,W,O,F)||_.some(L.conditions(),A=>1===(0,y._)(A)))}shouldApplyDrillCrossFilter(L,B,I,W,O,F){return!(!this.shouldApplyFilterForCrossDrill(L,B,I,W,O,F)||_.some(L.conditions(),A=>1===(0,y._)(A)))}getShouldApplyFilter(L,B,I,W=!1){return(O,F,A)=>this.shouldApplyFilter(O,F,A,L,B,I,W)}shouldApplyFilter(L,B,I,W,O,F,A=!1){return this.shouldApplyFilterInternal(L,B,I,W,O,F,A?()=>1:(R,U,z,j,H)=>this.relationshipService.relationshipFilterAction(R,U,z,j,H))}shouldApplyFilterForCrossDrill(L,B,I,W,O,F){return this.shouldApplyFilterInternal(L,B,I,W,O,F,(T,R,U,z,j)=>this.relationshipService.drillRelationshipFilterAction(T,R,U,z))}shouldApplyFilterInternal(L,B,I,W,O,F,A){if(e.fF.assertValue(L,"filter"),_.some(L.where(),H=>H&&(0,o.Hz)(H.condition))||B&&s.l.shouldDisableFilter(B,O,I,this.aggrOps,this.visualPlugins)||!_.isEmpty(L.validate(O,this.aggrOps))&&(!I||I!==W))return!1;if(I&&W&&I!==W){var T=W.config?.singleVisual?.query?.projections;if(3===A(F,I,W,O,c.m.isFilterForFieldParameter(T,L,O)))return!1;var z=I.config.singleVisual.syncGroup,j=W.config.singleVisual.syncGroup;if(z&&j&&z.groupName===j.groupName)return!1}return!0}countSelectedDataPoints(L,B,I){e.fF.assertAnyValue(L,"sourceVisualContainer"),e.fF.assertValue(B,"section");var W=B.crossFilterSource?.highlight;return I?_.chain(W).reduce((O,F)=>O+(F.sourceVisualContainer!==L?F.selection.length:0),0).value():0}setMultipleFiltersOnSelectData(L,B,I,W,O){var F=this.clearCrossHighlightOperation(B);for(var A of I)F=_.union(F,this.setCrossHighlightOperation(L,A.selection,B,3,A.sourceVisualContainer,A.filterExpressionMetadata));(0,l.M2)(this.eventBridge,F,"UserAction_CrossHighlight",W,O)}setFilterOnSelectData(L,B,I,W,O,F,A,T){if(this.supportsFilterOutput(W))this.logRFilterTelemetry(a.qi,I,"Data",O);else{var R=this.setCrossHighlightOperation(L,B,I,A,W,T,O);(0,l.M2)(this.eventBridge,R,"UserAction_CrossHighlight",O,F)}}updateCrossFilterOnDrill(L,B,I){var W=this.updateCrossDrillFromVisualContainerOperation(L,B,!1);(0,l.M2)(this.eventBridge,W,void 0,void 0,I)}updateCrossDrillFromVisualContainers(L,B){var I=this.updateCrossDrillFromVisualContainersOperation(L,B);(0,l.M2)(this.eventBridge,I)}updateCrossDrillFromVisualContainersOperation(L,B){if(!_.isEmpty(B)){var I=[];for(var W of B){var O=this.updateCrossDrillFromVisualContainerOperation(L,W,!1);I=_.union(I,O)}return I}}updateCrossDrillOfSection(L){var B=this.updateCrossDrillOfSectionOperation(L);(0,l.M2)(this.eventBridge,B)}updateCrossDrillOfSectionOperation(L){return this.updateCrossDrillFromVisualContainersOperation(L,L.visualContainers)}getDrillCrossFiltersToApply(L,B,I){var W=new b.ME(B);return this.addCrossDrillFilters(W,L,B,I)}supportsFilterOutput(L){return s.l.supportsFilterOutput((0,l.cj)(L,this.visualPlugins))}tryGetFilterPropertyIdentifier(L,B){return s.l.tryGetFilterPropertyIdentifier(L,B,this.visualPlugins)}tryGetSelfFilterEnabledProperty(L){if(L)return(0,C.H_)(L.objects)}tryGetSelfFilterProperty(L){if(L)return(0,C.Cr)(L.objects)}resolveFilterTargets(L,B,I,W,O){if(!i.vQ.willFiltersAffectQuery(B.defn))return B.defn;var F={dataRoles:I,mappings:W,queryProjections:B.projections,select:B.defn.select(),schema:L},A=new S(F),T=B.defn;return O&&(T=T.addSemanticFilter(O)),A.resolveSemanticQuery(T)}applyFilterOutput(L){this.supportsFilterOutput(L)&&(0,l.Rr)(this.eventBridge,L)}}},239827:function(Ce,k,r){r.d(k,{ME:function(){return f},i3:function(){return g},tA:function(){return b}});var a=r(743395),e=r(722709),u=r(939123),t=r(377176),C=r(257738),y=r(693713),i=r(219753);class c extends y.Ml{constructor(){super(),this.fieldsBeingFiltered=[]}visitCondition(P){return P.accept(this,0)}visitIn(P,D){if(0!==D||!P.args)return!1;for(var M of P.args)if(!M.accept(this,1))return!1;return!(!P.values||P.table)}visitColumnRef(P,D){return 1===D&&(this.fieldsBeingFiltered.push(P),!0)}}var h=r(990121),d=r(518299),n=r(184437),s=r(159214),p=r(438905);function m(S){if(_.isEmpty(S))return!1;for(var P of S)if(_.some(P.filter.where(),D=>3===(0,p._)(D.condition)))return!0;return!1}function b(S,P,D,M,E,w,x){u.fF.assert(()=>!!S||D.type===h.vA.VisualTopN,"Filter required");var N={filter:S,scope:P,filterExpressionMetadata:x};if(D)N.restatement=D.restatement,N.type=D.type,N.isHidden=!!D.isHiddenInViewMode,N.filterExpressionMetadata=D.expression?{expressions:[D.expression]}:void 0,N.displayName=D.displayName,D.cachedValueItems&&N.filterExpressionMetadata?N.filterExpressionMetadata.cachedValueItems=v(D.cachedValueItems,0):D.filterExpressionMetadata&&(N.filterExpressionMetadata=D.filterExpressionMetadata);else if(M&&n.l.supportsFilterOutput(E)&&M.config.singleVisual.query){var L=M.config.singleVisual.query.defn.select(),B=M.config.singleVisual.cachedFilterDisplayItems,I=M.config.singleVisual.filterExpressionMetadata;if(u.fF.assert(()=>null==B||null==I,"We should not have both caches defined at the same time"),L.length>=1&&B&&w===d.w.Slicer)N.filterExpressionMetadata={expressions:[L[0].expr],cachedValueItems:v(B,0)};else if(I)N.filterExpressionMetadata=I;else for(var W of(N.filterExpressionMetadata={expressions:[]},L))N.filterExpressionMetadata.expressions.push(W.expr)}return N}function V(S){if(null!=S){var P={Restatement:S.restatement,type:S.type};return S.expression&&(P.expression=a.ib.serializeExpr(S.expression)),P}}function g(S){if(!_.isEmpty(S)){var P=[];for(var D of S)P.push(V(D));return P}}function v(S,P){var D=[];for(var M of S){var E={identities:[M.identity],valueMap:{}};E.valueMap[P]=M.displayName,D.push(E)}return D}class f{constructor(P,D){if(this.visualContainer=P,this.filterContainer=D,P){var M=(0,s.Xf)(P);M&&(this.visualSemanticQuery=M.defn)}this.needToEnsurePrecedence=!1,this.shouldPruneUnnecessaryFilters=!1}setSelectorFilter(P){u.fF.assertValue(P,"filter"),u.fF.assert(()=>!this.selectorFilter,"should not call setSelectorFilter twice"),this.selectorFilter=P,this.shouldPruneUnnecessaryFilters=!0}addDrillFilter(P){u.fF.assertValue(P,"filter"),this.drillFilters=this.drillFilters||[],this.drillFilters.push(P)}addVisualFilter(P){u.fF.assertValue(P,"filter"),this.visualSemanticQuery&&(P.filter=(0,t.d3)(P.filter,this.visualSemanticQuery)),this.visualFilters=this.visualFilters||[],this.visualFilters.push(P),this.needToEnsurePrecedence=!0,this.shouldPruneUnnecessaryFilters=!0}addVisualTopNFilter(P){u.fF.assertValue(P,"filter"),u.fF.assert(()=>void 0===this.visualTopNFilter,"visualTopNFilter"),this.visualTopNFilter=P}addDrillthroughFilter(P){u.fF.assertValue(P,"filter"),this.drillthroughFilters=this.drillthroughFilters||[],this.drillthroughFilters.push(P),this.needToEnsurePrecedence=!0}addSectionFilter(P){u.fF.assertValue(P,"filter"),this.sectionFilters=this.sectionFilters||[],this.sectionFilters.push(P),this.needToEnsurePrecedence=!0}addReportFilter(P){u.fF.assertValue(P,"filter"),this.reportFilters=this.reportFilters||[],this.reportFilters.push(P),this.needToEnsurePrecedence=!0}addCrossFilter(P){u.fF.assertValue(P,"filter"),this.crossFilters=this.crossFilters||[],this.crossFilters.push(P),this.needToEnsurePrecedence=!0}addHighlight(P){u.fF.assertValue(P,"highlightFilter"),this.highlightFilters=this.highlightFilters||[],this.highlightFilters.push(P)}addCollectedFilters(P,D,M){for(var E of(u.fF.assertValue(P,"collectedFilters"),P)){var w=E.filter,x=E.filterContainer,N=E.sourceVisualContainer;if(x?.type===h.vA.VisualTopN){var L=b(w,E.scopeType,x,N,E.sourceVisualContainerCapabilities,E.collectedFilterSource);this.addVisualTopNFilter(L)}if(!M||M(w,x,N)){var B=x;E.filterContainer&&E.filterContainer===this.filterContainer&&(B=null);var I=b(w,E.scopeType,B,N,E.sourceVisualContainerCapabilities,E.collectedFilterSource);!x||2!==x.howCreated&&0!==x.precedence?E.sourceVisualContainer?E.sourceVisualContainer===this.visualContainer?this.addVisualFilter(I):this.addCrossFilter(I):5===x.howCreated?this.addDrillthroughFilter(I):1===E.scopeType?this.addSectionFilter(I):2===E.scopeType?this.addReportFilter(I):E.filterContainer&&E.filterContainer===this.filterContainer&&this.addVisualFilter(I):this.addDrillFilter(I),D&&x&&(this.metadata=this.metadata||[],this.metadata.push(V(x)))}}}mergeHighlightFiltersBasedOnRelationship(P,D,M){switch(D){case 0:u.fF.assertFail("VisualRelationshipFilterAction.Default should not be passed here. Default should be evaluated already.");case 2:if(!M){_.each(P,E=>this.addHighlight(E));break}case 1:P&&_.each(P,E=>this.addCrossFilter(E));break;case 3:break;default:u.fF.assertFail("Unknown visual relationship filter action")}}getFilters(P){var D=this.getFilterData(P),M=this.highlightFilters&&t.yl.merge(this.highlightFilters.map(E=>E.filter));return{dataFilter:D?t.yl.merge(_.map(D,E=>E.filter)):void 0,dataFiltersUnmerged:this.visualTopNFilter?(D||[]).concat(this.visualTopNFilter):D,highlightFilter:M,highlightFiltersUnmerged:this.highlightFilters,filterMetadata:this.metadata}}getFilterData(P){if(u.fF.assert(()=>!this.selectorFilter,"selectorFilter should only be set when building a cross-highlight filter"),this.pruneUnnecessaryFilters(),P||this.ensurePrecedence(),this.drillFilters||this.sectionFilters||this.reportFilters||this.visualFilters||this.crossFilters||this.drillthroughFilters){var E=this.sectionFilters||[],w=this.drillthroughFilters||[],x=this.reportFilters||[],N=this.crossFilters||[];return(this.drillFilters||[]).concat(this.visualFilters||[]).concat(N).concat(E).concat(w).concat(x)}}getCrossHighlightFilters(){if(this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.selectorFilter||this.visualFilters)return(this.selectorFilter?[this.selectorFilter]:[]).concat(this.visualFilters||[])}getHighlightFilters(){return this.highlightFilters}clearHighlightFilters(){this.highlightFilters=void 0}getUnmergedDrillCrossFilter(){return this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.drillFilters}getCrossFilters(){return this.crossFilters}ensurePrecedence(){this.needToEnsurePrecedence&&(this.visualFilters&&(this.visualFilters=function(S){if(u.fF.assertValue(S,"filterScope"),u.fF.assert(()=>!m(S.sectionFilters),"Page filters are not expected to have the subqueries."),u.fF.assert(()=>!m(S.reportFilters),"Report filters are not expected to have the subqueries."),_.isEmpty(S.visualFilters))return S.visualFilters;var P=!1,D=[];for(var M of S.visualFilters){var w=M.filter.where().filter(I=>0===(0,p._)(I.condition));P=P||m([M]),D.push(...w.map(I=>t.yl.fromSQExpr(I.condition)))}if(!P)return S.visualFilters;var x=[];for(var N of S.visualFilters){var L=N;if(m([N])){var B=N.filter;_.isEmpty(D)||(B=(0,t.RD)(B,D)),_.isEmpty(S.crossFilters)||(B=(0,t.RD)(B,S.crossFilters.map(I=>I.filter))),_.isEmpty(S.sectionFilters)||(B=(0,t.RD)(B,S.sectionFilters.map(I=>I.filter))),_.isEmpty(S.drillThroughFilters)||(B=(0,t.RD)(B,S.drillThroughFilters.map(I=>I.filter))),_.isEmpty(S.reportFilters)||(B=(0,t.RD)(B,S.reportFilters.map(I=>I.filter))),L={filter:B}}x.push(L)}return x}({visualFilters:this.visualFilters,crossFilters:this.crossFilters,reportFilters:this.reportFilters,drillThroughFilters:this.drillthroughFilters,sectionFilters:this.sectionFilters})),this.needToEnsurePrecedence=!1)}pruneUnnecessaryFilters(){this.shouldPruneUnnecessaryFilters&&(this.visualFilters&&this.selectorFilter&&this.visualFilters&&this.selectorFilter&&(this.visualFilters=(0,e.Rl)(this.visualFilters,(P,D)=>(P.filter=function(S,P){if(!P||!S)return S;var D=P.conditions();if(!D||1!==D.length)return S;var M=new c;if(!M.visitCondition(D[0]))return S;for(var N,E=M.fieldsBeingFiltered,w=S.from(),x=S.where(),L=function(){var W=x[B],O=(0,i.J_)(W,w);O&&_.find(E,F=>(0,C.fS)(O.fieldBeingFiltered,F))?N||(N=_.take(x,B)):N&&N.push(W)},B=0,I=x.length;B<I;B++)L();return N?t.yl.fromSQFromAndSQFilters(w,N):S}(P.filter,this.selectorFilter.filter),P.filter.where().length>0))),this.shouldPruneUnnecessaryFilters=!1)}}},725323:function(Ce,k,r){r.d(k,{C:function(){return m},Rw:function(){return p},S6:function(){return d}});var a=r(953474),e=r(939123),u=r(969143),t=r(447666),C=r(221435),y=r(926406),i=r(187220),o=r(456774);function c(b){return"visualContainer"===b.canvasItemType}function h(b){return"group"===b.canvasItemType}function d(b,V,g,v){var f=o.UP.getSelectedCanvasItem(b);if(f){if((0,i.Vz)(f)){var S=f,P=S.config.singleVisual.visualType;if(V.isCustomVisual(P))return;var D=S.config.singleVisual,M=D.vcObjects,E=(0,u.NA)(M,{objectName:"stylePreset",propertyName:"name"},void 0),w=v.getVisualObjects(g,P,E&&(0,a.VC)(E)&&E.value,C.XW);return w&&(M=(0,u.d9)(M||{}),(0,u.l7)(M,w,!0)),{canvasItemType:"visualContainer",visualType:D.visualType,objects:D.objects,vcObjects:M}}return{canvasItemType:"group",objects:f.objects}}}var n=C.XW,s=y.C7;function p(b,V,g){var v=o.UP.getSelectedCanvasItem(b);if(v&&g){if((0,i.Vz)(v)){if(c(g))l(V,g,v);else if(h(g)){var f=v.config.singleVisual;f.vcObjects=m(n,s,g.objects,f.objects)}}else c(g)?(0,i.Iw)([v],S=>{(0,i.Vz)(S)&&l(V,g,S)}):h(g)&&(v.objects=m(s,s,g.objects,v.objects));return v}}function l(b,V,g){var v=g.config.singleVisual,f=b.capabilities(v.visualType),S=b.capabilities(V.visualType);f&&S&&(v.objects=m(f.objects,S.objects,V.objects,v.objects)),v.vcObjects=m(n,n,V.vcObjects,v.vcObjects)}function m(b,V,g,v){if(e.fF.assertValue(b,"formatPainter.copyFormatObjects - sourceDescriptors should exist"),e.fF.assertValue(V,"formatPainter.copyFormatObjects - destinationDescriptors should exist"),e.fF.assertAnyValue(g,"formatPainter.copyFormatObjects - sourceObjects can be undefined"),e.fF.assertAnyValue(v,"formatPainter.copyFormatObjects - destinationObjects can be undefined"),g===v)return v;for(var f in v=v||{},b){var S=b[f],P=V[f];if(P&&!S.suppressFormatPainterCopy&&!P.suppressFormatPainterCopy){var D=g&&g[f],M=v&&v[f];for(var E in S.properties){var w=S.properties[E],x=P.properties[E];if(x&&!w.suppressFormatPainterCopy&&!x.suppressFormatPainterCopy&&_.isEqual(w.type,x.type)){if(M)for(var N of M)(0,t.Ow)(N,E);if(D)for(var L of D)L.properties[E]&&((0,u.zx)(v,f,L.selector).properties[E]=L.properties[E])}}}}return(0,u.u4)(v)}},927839:function(Ce,k,r){r.d(k,{Q:function(){return d}});var a=r(883803),e=r(702981),u=r(982275),t=r(531905),C=r(347293),y=r(729507),i=r(67688),o=r(557436),c=r(704731),h="apr_error_notification_bar";function d(p,l,m,b,V,g,v,f,S,P,D,M){return new s(p,l,m,b,V,g,v,f,S,P,D,M)}var n={autoRefreshEnabled:!0,refreshIntervalSeconds:1};class s{constructor(l,m,b,V,g,v,f,S,P,D,M,E){this.telemetryService=l,this.eventBridge=m,this.explorationNavigation=b,this.dataSourcesService=V,this.conceptualSchemaProxy=g,this.globalEventBridge=v,this.visualTimeSynchronizationService=f,this.notificationBarService=S,this.localizationService=P,this.errorService=D,this.reportRefreshCacheService=M,this.reportRefreshConfigProxy=E,this.visualsLoaded=!1,this.timerExpired=!1,this.isRunning=!1,this.refreshDelayedCount=0,this.refreshPaused=!1,this.subscriptionManager=m.createChannelSubscriptionManager()}subscribeEvents(){null==this.subscriptionManager&&(this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager()),this.subscriptionManager.subscribe(c.yVh,()=>this.onSectionChanged()).subscribe(u.dm,()=>this.onVisualsLoaded()).subscribe(c.jsX,()=>this.onSectionsObjectsEvaluated()).subscribe(c.CCe,()=>this.onModelChanged())}init(l=!0){var m=this;return(0,a.Z)(function*(){m.triggerNotifications=l,yield m.loadPageSettings(),yield m.updateRefreshState(),m.subscribeEvents()})()}destroy(){this.stopRefresh(),this.subscriptionManager?.unsubscribeAll(),this.subscriptionManager=void 0}refreshData(){this.reportRefreshCacheService.tryClearDSRCache()&&this.eventBridge.publishToChannel(c.jCS,{affectContainer:()=>!0})}setRefreshPaused(l){this.refreshPaused=l}getRefreshStats(){return{adminConfig:this.adminConfig,effectiveRefreshInterval:this.effectiveRefreshInterval,lastRefreshTimestamp:this.lastUpdateDate?this.lastUpdateDate.toLocaleTimeString():void 0}}loadAdminSettings(){var l=this;return(0,a.Z)(function*(){if(yield l.isPageRefreshSupported()){if(!l.reportRefreshConfigProxy)return void(l.adminConfig=n);var m=l.explorationNavigation.getCurrentExploration()?.report?.modelId;try{l.adminConfig=yield l.reportRefreshConfigProxy.getAPRConfig(m)}catch(b){return l.telemetryService.logEvent(i.Hl,{modelId:m}),l.sendNotification(l.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0,b,"FailedToGetAPRAdminConfig"),void(l.adminConfig=void 0)}l.adminConfig?l.adminConfig.autoRefreshEnabled||l.sendNotification(l.localizationService.get("AutoPageRefresh_Error_AdminDisabled")):l.sendNotification(l.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0)}})()}loadPageSettings(){var l=this;return(0,a.Z)(function*(){var m,b=l.explorationNavigation.getCurrentSection();if(yield l.isAPREnabledInSection(b)){m=l.refreshIntervalInMilliseconds;var V=(0,o.bW)(b.evaluatedObjects.pageRefresh.duration||C.oK);l.refreshIntervalInMilliseconds=(0,o.A9)(V)}else l.refreshIntervalInMilliseconds=void 0;return l.refreshIntervalInMilliseconds!==m})()}onSectionsObjectsEvaluated(){var l=this;return(0,a.Z)(function*(){var m=yield l.loadPageSettings();l.refreshIntervalInMilliseconds&&m?l.updateRefreshState():!l.refreshIntervalInMilliseconds&&l.isRunning&&l.stopRefresh()})()}onModelChanged(){var l=this;return(0,a.Z)(function*(){var m=yield l.getRefreshInterval();m&&!l.isRunning?l.updateRefreshState():!m&&l.isRunning&&l.stopRefresh()})()}getRefreshInterval(){var l=this;return(0,a.Z)(function*(){if(!(yield l.isPageRefreshSupported()))return null;if(l.refreshIntervalInMilliseconds&&l.adminConfig&&l.adminConfig.autoRefreshEnabled){var m=_.max([l.refreshIntervalInMilliseconds,1e3*l.adminConfig.refreshIntervalSeconds]);return _.min([t.c41,m])}})()}isPageRefreshSupported(){var l=this;return(0,a.Z)(function*(){var m;try{m=yield l.conceptualSchemaProxy.get(l.dataSourcesService.get())}catch{return!1}return _.some(m.schemas,b=>b.capabilities&&b.capabilities.supportsFastRefresh)})()}updateRefreshState(){var l=this;return(0,a.Z)(function*(){l.stopRefresh(),l.isRunning=!0,!l.adminConfig&&null!=l.refreshIntervalInMilliseconds&&(yield l.loadAdminSettings());var m=yield l.getRefreshInterval();null!=m?l.runTimer(m):l.isRunning=!1})()}triggerRefreshUponSectionChange(){var l=this;return(0,a.Z)(function*(){var m=l.explorationNavigation.getCurrentSection();(yield l.isAPREnabledInSection(m))&&l.triggerRefresh()})()}onSectionChanged(){var l=this;return(0,a.Z)(function*(){yield l.triggerRefreshUponSectionChange(),l.lastUpdateDate=void 0,yield l.loadPageSettings(),yield l.updateRefreshState()})()}onVisualsLoaded(){this.visualsLoaded=!0,this.timerExpired&&this.isRunning&&this.onTimerExpired()}stopRefresh(){this.nextUpdateDate=void 0,this.isRunning=!1,this.timerExpired=!1,this.clearTimeoutAndAnimationFrame(),this.notifyReportRefreshStateChanged(),this.notificationBarService.hide(h)}clearTimeoutAndAnimationFrame(){clearTimeout(this.timeoutId),this.timeoutId=void 0,cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0}runTimer(l){this.clearTimeoutAndAnimationFrame(),this.nextUpdateDate=new Date(Date.now()+l),this.notifyReportRefreshStateChanged(),this.timeoutId=setTimeout(()=>{this.timeoutId=void 0,this.animationFrameId=requestAnimationFrame(()=>{this.animationFrameId=void 0,this.onTimerTriggered()})},l)}onTimerTriggered(){var l=this;return(0,a.Z)(function*(){l.timerExpired=!0,l.visualsLoaded?l.onTimerExpired():l.refreshDelayedCount+=1,yield l.loadAdminSettings();var m=yield l.getRefreshInterval();null!=m?l.runTimer(m):l.stopRefresh()})()}triggerRefresh(){var l=this.explorationNavigation.getCurrentSection();this.reportRefreshCacheService.clearClientCache(l),this.visualTimeSynchronizationService.setAnchorTimeToNow(),this.eventBridge.publishToChannel(c.tYc)}calculateEffectiveInterval(){this.effectiveRefreshInterval=this.lastUpdateDate?(new Date).getTime()-this.lastUpdateDate.getTime():void 0}onTimerExpired(){this.refreshPaused||(this.logTriggerRefresh(this.refreshDelayedCount),this.calculateEffectiveInterval(),this.lastUpdateDate=new Date,this.triggerRefresh(),this.timerExpired=!1,this.visualsLoaded=!1,this.refreshDelayedCount=0,this.notifyReportRefreshStateChanged())}logTriggerRefresh(l){var m=this;return(0,a.Z)(function*(){var b=m.explorationNavigation.getCurrentSection(),V=m.explorationNavigation.getCurrentExploration().report,g=m.explorationNavigation.getExplorationTelemetryData(),v="",f=-1,S="",P="-1",D="-1";if(V&&V.model){var M=V.model;v=M.dbName,S=V.objectId,f=M.id}var E=b.objectId,w=yield m.getRefreshInterval();g&&(P=g.exid,D=g.exsid),m.telemetryService.logEvent(e._3,{reportId:S,pageId:E,dbName:v,modelId:f,interval:w,delayCount:l,exid:P,exsid:D})})()}notifyReportRefreshStateChanged(){if(this.triggerNotifications){var l,m=this.explorationNavigation.getCurrentExploration().report;m&&(l=m.objectId),this.globalEventBridge.publishToChannel(u.VF,{reportId:l,nextUpdateDate:this.nextUpdateDate,lastUpdateDate:this.lastUpdateDate})}}sendNotification(l,m=!1,b,V){var g={id:h,message:l,notificationType:1,actions:[]};b&&(g.secondaryLink={action:()=>{this.errorService.error(l,V,{requestId:b.requestId,statusCode:b.status&&b.status.toString()})},displayText:this.localizationService.get("Generic_ShowDetails")}),m&&g.actions.push({action:()=>{this.notificationBarService.hide(h),this.updateRefreshState()},displayText:this.localizationService.get("TryAgain")}),this.notificationBarService.notify(g)}isAPREnabledInSection(l){var m=this;return(0,a.Z)(function*(){return!!(yield m.isPageRefreshSupported())&&l&&l.evaluatedObjects&&l.evaluatedObjects.pageRefresh&&l.evaluatedObjects.pageRefresh.show&&(null==l.evaluatedObjects.pageRefresh.refreshType||l.evaluatedObjects.pageRefresh.refreshType===y.wO)})()}}},532511:function(Ce,k,r){r.d(k,{e:function(){return e}});var a=r(939123);function e(){return new u}class u{constructor(){this.runningVisuals={}}getVisual(C){a.fF.assertValue(C&&C.name,"contract");var y=this.runningVisuals[C.name];if(null!=y&&y.contract===C)return y.visual}setVisual(C,y){a.fF.assertValue(C&&C.name,"contract"),a.fF.assertValue(y,"visual"),this.runningVisuals[C.name]={contract:C,visual:y}}removeVisual(C){a.fF.assertValue(C&&C.name,"contract"),delete this.runningVisuals[C.name]}}},500760:function(Ce,k,r){r.d(k,{s:function(){return t}});var a=r(939123),e=r(224015),u=r(692699);function t(y,i,o,c,h,d){return new C(y,i,o,c,h,d)}class C{constructor(i,o,c,h,d,n){a.fF.assertValue(i,"visualPluginService"),a.fF.assertValue(o,"featureSwitchService"),a.fF.assertValue(c,"localizationService"),a.fF.assertAnyValue(h,"userInfo"),a.fF.assertValue(n,"licenseEnforcementServiceExtend"),this.services={visualPlugin:i,featureSwitchService:o,localizationService:c,userInfo:h,embedModeService:d,licenseServiceExtend:n}}addScriptVisualInfo(i,o){var c=(0,u.s)(i);if(this.services.visualPlugin.isScriptVisual(c)&&i.id){var h={id:i.id,scriptType:(0,e.lX)(c)};o.push(h)}}showEnableScriptVisualDialogIfRequiredAsync(i,o,c){return a.fF.assertFail("Function not implemented for Service - users don't need to approve script visuals on the service"),null}getScriptVisualErrorDetails(i,o){var c,h=this.services.localizationService,d=this.services.featureSwitchService.featureSwitches;if(0!==i||d.scriptVisualEnabled){if(this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed())return d.scriptVisualAnonymousEmbeddingEnabled||(c=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupportedInEmbedReports",i)))),c;var p=this.getUserInfoForErrorDetails();if(p&&p.isViralTenant)c=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupportedForViralTenant",i)));else if(!1===d.rScriptVisualEnabled)c=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsDisabledByAdmin",i)));else{var l=!1,m=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!m&&(l=o&&this.services.licenseServiceExtend.isReportInPremiumCapacity(o)),p&&!1===p.isPremiumUser&&!l?c=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsIsProFeature",i))):p&&void 0===p.isPremiumUser&&void 0===p.isViralTenant&&void 0===o&&(c=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupportedWithThisOperation",i))))}}else c=this.buildErrorDetails(h.get(this.getLocalizationKey("Error_VisualsNotSupported",i)));return c}overrideEmbeddedErrorDetails(i,o){var c=this.services.embedModeService&&(this.services.embedModeService.isSaasOrPaasEmbed()||this.services.embedModeService.isSecurePublishToWeb()),h=this.services&&this.services.localizationService;if(c&&o){var d=o;return d.helpLink="",d.message=h.get(this.getLocalizationKey("Error_VisualsEmbeddedText",i)),d.displayableErrorInfo=[{errorInfoKey:h.get(this.getLocalizationKey("Error_VisualsEmbeddedText",i)),errorInfoValue:h.get(this.getLocalizationKey("Error_VisualsErrorInEmbedReports",i))}],d}}getLocalizationKey(i,o){var c;switch(o){case 0:c="R";break;case 1:c="Py";break;default:c=""}return c+i}shouldBlockScriptVisual(i,o){var c=this.services.featureSwitchService.featureSwitches,h=this.getUserInfoForErrorDetails(),d=this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed(),n=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();switch(i){case 0:if(d)return!c.scriptVisualAnonymousEmbeddingEnabled||!c.scriptVisualEnabled;var s=!1;return this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!n&&(s=o&&this.services.licenseServiceExtend.isReportInPremiumCapacity(o)),!s&&(!c.scriptVisualEnabled||h&&h.isViralTenant||!c.rScriptVisualEnabled||h&&!h.isPremiumUser);case 1:return d?!c.scriptVisualAnonymousEmbeddingEnabled:(this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!n&&(s=o&&this.services.licenseServiceExtend.isReportInPremiumCapacity(o)),!s&&(h&&h.isViralTenant||h&&!h.isPremiumUser))}}canLaunchExternalIDE(){return!1}launchExternalIDE(i){return null}openOptionsDialogAsync(){return null}refreshScriptCustomVisuals(i){a.fF.assertFail("Function not implemented for Service")}triggerDataRefresh(){var i="Visual_Error_RefreshFailed",o=this.services.localizationService.get(i),c=this.services.localizationService.get("Visual_Warning_AutoRefreshNotSupported");return{message:c,displayableErrorInfo:[{errorInfoKey:o,errorInfoValue:c}],helpLink:"https://go.microsoft.com/fwlink/?linkid=2188979",helpLinkType:1,hideDebugInfo:!0,resourceKey:i}}buildErrorDetails(i){return{message:i,displayableErrorInfo:[],helpLink:"https://go.microsoft.com/fwlink/?linkid=829101",errorType:1}}getUserInfoForErrorDetails(){var i=this.services.userInfo,o=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();if(i&&!Array.isArray(i)&&!o)return{isViralTenant:i.userMetadata&&i.userMetadata.tenantMetadata&&0===i.userMetadata.tenantMetadata.tenantType,isPremiumUser:i.isPremiumUser}}}},456774:function(Ce,k,r){r.d(k,{Oz:function(){return o},UP:function(){return C},_g:function(){return i}});var a=r(939123),e=r(187220),u=r(692699),t=r(64997);class C{constructor(){}static getSelectedVisualContainer$(h){return h.selectedElements$.pipe((0,t.U)(d=>{if(1===_.size(d)){var s=d[0].canvasItem;return s&&(0,e.Vz)(s)?s:void 0}}))}static selectCanvasItem(h,d,n=0,s){var p=y.createSelectableCanvasItem(h);d.selectElement(p,n,s)}static unselectCanvasItem(h,d){var n=C.getSelectedCanvasItems(d);_.includes(n,h)&&C.selectCanvasItems(_.without(n,h),d)}static selectSubSelection(h,d,n,s){var p=y.createSubSelectableCanvasItem(d,n);h.selectElement(p,s)}static selectCanvasItems(h,d,n){var s=_.map(h,p=>y.createSelectableCanvasItem(p));d.selectElements(s,0,n)}static isCanvasItemSelected(h,d){var n=C.getSelectedCanvasItems(d);return _.includes(n,h)}static getSelectedCanvasItem(h){return _.first(C.getSelectedCanvasItems(h))}static getSelectedCanvasItems(h){return _.chain(h.getSelectedElements()).map(d=>d.canvasItem).compact().value()}static getSelectedVisualContainers(h){return _.chain(C.getSelectedCanvasItems(h)).filter(d=>(0,e.Vz)(d)).compact().value()}static getSelectedVisualContainerGroups(h){return _.chain(C.getSelectedCanvasItems(h)).filter(d=>(0,e.q4)(d)).compact().value()}static hasMultipleVisualContainerSelection(h){return C.getSelectedCanvasItems(h).length>1}static getSelectedVisual(h){var d=C.getSelectedCanvasItems(h);if(1===d.length){var n=d[0];return(0,e.Vz)(n)?n:void 0}}static getDefaultSelectedVisualInSingleOrMultiCase(h){var d=_.isArray(h)?h:C.getSelectedCanvasItems(h),n=d[0];if(n){var s=(0,u.s)(n);return _.every(d,p=>(0,u.s)(p)===s)?n:void 0}}static clearSubSelections(h){var d=h.getSelectedElements();if(d){var n=C.getSelectedVisualContainers(h),s=[],p=!1;for(var l of d)_.isEmpty(l.subSelections)?s.push(l):(p=!0,s.push(y.createSubSelectableCanvasItem(l.canvasItem,[])));p&&h.selectElements(s,n.length>1?1:0)}return d}}class y{constructor(){}static createSelectableCanvasItem(h){return o.createFromCanvasItem(h)}static createSubSelectableCanvasItem(h,d){return o.createFromSubSelections(h,d)}}class i{constructor(){}static equals(h,d){if(h.length!==d.length)return!1;for(var n=0,s=h.length;n<s;n++)if(!o.equals(h[n],d[n]))return!1;return!0}}class o{get id(){if(this._canvasItem)return this._canvasItem.id}get canvasItem(){return this._canvasItem}get subSelections(){return this._subSelections}static createFromCanvasItem(h){var d=new o;return d._canvasItem=h,d}static createFromSubSelections(h,d){var n=o.createFromCanvasItem(h);return n._subSelections=d,n}static equals(h,d){return(h=h||null)===(d=d||null)||!(!h!=!d||(a.fF.assertValue(h,"left"),a.fF.assertValue(d,"right"),h.id!==d.id||h.canvasItem!==d.canvasItem||!_.isEqual(h.subSelections,d.subSelections)))}}},341016:function(Ce,k,r){r.d(k,{F:function(){return u}});var a=r(534721),e=r(76002);function u(C){return new t(C)}class t{constructor(y){this.downgraders=y,this.objectsDowngrader=(0,e.x)(this.downgraders)}getFinalExplorationVersion(y,i){for(var o of(i=(0,a.Fp)(i,this.getFinalExplorationForObjectsVersion(y,i)),this.downgraders))i=(0,a.Fp)(i,o.getMinDowngradeVersionForContract(y));return i}downgrade(y,i){for(var o of(this.downgradeVisualObjects(y,i),this.downgraders))o.downgrade(y,i)}downgradeVisualObjects(y,i){var o=y&&y.sections;if(o)for(var c of o){var h=c&&c.visualContainers;if(!h)return;for(var d of h){var n=d&&d.config&&d.config.singleVisual;if(n){var s=n.visualType,p=n.vcObjects;p&&this.objectsDowngrader.downgrade(2,p,s,i);var l=n.objects;l&&this.objectsDowngrader.downgrade(1,l,s,i)}}}}getFinalExplorationForObjectsVersion(y,i){var o=y&&y.sections;if(o){for(var c of o){var h=c&&c.visualContainers;if(!h)return;for(var d of h){var n=d&&d.config&&d.config.singleVisual;if(n){var s=n.visualType,p=n.vcObjects;p&&(i=(0,a.Fp)(i,this.objectsDowngrader.getFinalVisualObjectsVersion(2,p,i,s)));var l=n.objects;l&&(i=(0,a.Fp)(i,this.objectsDowngrader.getFinalVisualObjectsVersion(1,l,i,s)))}}}return i}}}},754089:function(Ce,k,r){r.d(k,{bZ:function(){return De}});var a=r(792375),e=r(885825),u=r(888426),t=r(826645),C=r(233427),y=r(743395),i=r(69578),o=r(171520),c=r(200227),h=r(534721),d=r(463822),n=r(230373),s=r(285261),p=r(913615),l=r(900222),m=r(722709),b=r(939123),V=r(542666),g=r(845856),v=r(737466),f=r(616113),S=r(262730),P=r(79964),D=r(969143),M=r(528836),E=r(527799),w=r(446068),x=r(347293),N=r(349205),L=r(153260),B=r(571627),I=r(990121),W=r(540932),O=r(221435),F=r(926406),A=r(187220),T=r(505875),R=r(67688),U=r(379342),z=r(184437),j=r(544279),H=r(159214),q=r(117768),G=r(341016),J=r(878510),Z=r(691519),Q=r(280779),ne=r(46956),le=r(886137),he=r(238112),Se=r(953474),Ke=r(960196),Ge=r(688574),ye=r(282315),we=r(433544),je=r(377714),de=r(161250),Pe=r(651458),Ve="Gradient",Ze="Size";function Ue(Le,X){var be=void 0,Ie=!0;if(!_.isEmpty(Le)){var Ye=new Map;for(var ze of Le){var ee=X(ze),ve=Ye.get(ee);null!=ve?(Ie=!1,Ye.set(ee,ve+1)):Ye.set(ee,1)}Ie||(be=Object.fromEntries(Ye.entries()))}return{allUnique:Ie,itemCounts:be}}function Je(Le,X,be,Ie){var Ye=Object.keys(Ie),ze=0,ee=0,ve=0,Te=0;for(var Xe of Ye){var He=Ie[Xe];ze+=He,He>1?(ee++,Te=Math.max(Te,He)):ve++}Le.logEvent(R.mY,{type:X,deserializationId:be,totalCount:ze,duplicateCount:ee,uniqueCount:ve,maxDuplicateCount:Te})}function De(Le,X,be,Ie,Ye,ze,ee){return new ue(Le,X,be,Ie,Ye,ze,ee)}class ue{constructor(X,be,Ie,Ye,ze,ee,ve){this.visualPlugins=X,this.telemetryService=be,this.featureSwitchService=Ie,this.canvasListOrderNormalizeService=Ye,this.contextActivityService=ze,this.userState=ee,this.explorationUpgrader=(0,ne.$)(Ie),this.explorationDowngrader=(0,G.F)(ve)}deepCopyExploration(X,be){return this.deserializeExploration(this.serializeExploration(X,be),[],!0)}ensureInitialized(){return this.visualPlugins.ensureBuiltInPlugins()}deserializeExploration(X,be,Ie,Ye){var ze;if(X){var qe,{model:ee,counters:ve,getExplorationActivity:Te,logDuplicateTelemetry:Xe}=Ye??{},He=Xe?d.q.generateId():void 0;Te&&(qe=Te.createChildActivity({name:"Upgrade Exploration"}));var rt=this.explorationUpgrader.upgrade(X,be,Ie,ve);if(qe&&(qe.setProperty("upgraderCount",ve?.upgraderCount),qe.resolve()),!rt)return;b.fF.assertValue(rt.config,"ExplorationSerializer.deserializeExploration - explorationConfig should exist");var me=rt.config;if(b.fF.assertValue(me,"ExplorationSerializer.deserializeExploration - explorationConfig couldn't be parsed"),ze={id:rt.id,sections:void 0,dataSources:void 0,reportId:rt.reportId,themeCollection:w.P.cloneThemeCollection(me.themeCollection),bookmarks:[],mwcToken:rt.mwcToken,capacityUri:rt.capacityUri,publicCustomVisuals:rt.publicCustomVisuals,isStoredInBlob:rt.isStoredInBlob},me.tags&&(ze.tags=_.cloneDeep(me.tags)),me.slowDataSourceSettings&&(ze.slowDataSourceSettings=_.cloneDeep(me.slowDataSourceSettings)),me.settings&&(ze.settings=_.cloneDeep(me.settings)),me.objects&&(ze.objects=(0,a.wN)(me.objects,B.W)),me.bookmarks){var Ee=(0,v.zb)(()=>{var Pt=this.deserializeBookmarks(me.bookmarks);if(Xe){var{allUnique:At,itemCounts:Ut}=Ue(Pt,Kt=>Kt.name);At||(b.fF.assertFail("bookmark names must be unique"),Je(this.telemetryService,"BookmarkNames",He,Ut))}ze.bookmarks=Pt});Te&&Te.setProperty("bookmarkDeserializationDuration",Ee)}this.contextActivityService.upsertExplorationProperties({bookmarkCount:ze.bookmarks?ze.bookmarks.length:0}),rt.userState&&(ze.userState=(0,he.U6)(rt.userState,this.userState,this.visualPlugins,this.featureSwitchService,this.telemetryService)),rt.activeWebBookmark&&(ze.activeWebBookmark=(0,he.a5)(rt.activeWebBookmark,Ie,this.visualPlugins,this.featureSwitchService,this.telemetryService));var fe=rt.activeBookmark;if(fe){var Re=ze.bookmarks??[];for(var re of Re)if(!N.J.isBookmarkGroup(re)&&re.name===fe.name){ze.activeBookmark=re;break}}if(rt.sections){var se=_.sortBy(rt.sections,Pt=>void 0!==Pt.ordinal?Pt.ordinal:0),Ae=ze.settings&&ze.settings.useStylableVisualContainerHeader;if(ze.sections=_.map(se,Pt=>this.deserializePage(Pt,{...Ye,enableVisualContainerGrouping:Ae})),Xe){var{allUnique:ce,itemCounts:Me}=Ue(ze.sections,Pt=>Pt.name);ce||(b.fF.assertFail("page names must be unique"),Je(this.telemetryService,"PageNames",He,Me))}if(ze.filters=this.deserializeFilterContainers(rt.filters),ze.dataSources=(0,L.yd)(),rt.resourcePackages&&(ze.resourcePackages=this.deserializeResourcePackages(rt.resourcePackages)),rt.pods&&(ze.pods=_.map(rt.pods,Pt=>this.deserializePod(Pt)),Xe)){var{allUnique:$e,itemCounts:st}=Ue(ze.pods,Pt=>Pt.name);$e||(b.fF.assertFail("pod names must be unique"),Je(this.telemetryService,"PodNames",He,st))}if(_.isNumber(me.activeSectionIndex)&&me.activeSectionIndex<rt.sections.length&&(ze.activeSectionIndex=me.activeSectionIndex),me.modelExtensions&&(ze.modelExtensions=this.deserializeModelExtensions(me.modelExtensions)),ee)if(ee.lastTimeAModelChangeWasDetectedInTheCluster&&!_.isEmpty(ee.onPremModelConnectionString)){var pt=(0,i.cN)(ee.lastTimeAModelChangeWasDetectedInTheCluster);this.updateVisualContainerCachingOptions(ze,pt,Pt=>{Pt.useInitialCachedQuery=!0},Pt=>{Pt.useInitialCachedQuery=!1})}else if(_.isEmpty(ee.onPremModelConnectionString)&&ee.dataCacheMode===n.Vv.Import&&ee.lastRefreshTime){var wt=(0,i.cN)(ee.lastRefreshTime);this.updateVisualContainerCachingOptions(ze,wt,Pt=>{Pt.disableCacheOnServerForInitialLoad=!0},Pt=>{Pt.disableCacheOnServerForInitialLoad=!1})}}rt.report&&(ze.report=(0,V.ED)(rt.report),rt.report.linguisticSchemaId&&(ze.reportHasLinguisticSchema=!0)),null!=me.defaultDrillFilterOtherVisuals&&(ze.defaultDrillFilterOtherVisuals=me.defaultDrillFilterOtherVisuals),me.filterSortOrder&&(ze.filterSortOrder=me.filterSortOrder),me.dataSourceVariables&&(ze.dataSourceVariables=me.dataSourceVariables),me.creationSource&&(ze.creationSource=me.creationSource),ze.linguisticSchemaSyncVersion=this.deserializeLinguisticSchemaSyncVersion(me.linguisticSchemaSyncVersion)}return ze}deserializeLinguisticSchemaSyncVersion(X){return null==X?B.u.Unspecified:(b.fF.assert(()=>X in B.u,"unexpected linguisticSchemaSyncVersion"),X)}updateVisualContainerCachingOptions(X,be,Ie,Ye){for(var ze of X.sections)for(var ee of ze.visualContainers)ee.cachedData&&ee.cachedData.dataUpdatedTime&&ee.cachedData.data&&+ee.cachedData.dataUpdatedTime-+be>=0?Ie(ee):Ye(ee)}deserializeResourcePackages(X){return b.fF.assertValue(X,"contract"),(0,he.sQ)(X.map(be=>be.resourcePackage))}deserializeLinkField(X){b.fF.assertValue(X,"linkField");var be=y.ib.deserializeExpr(X.fieldExpr);return b.fF.assert(()=>(0,Se.kb)(be)&&!1===X.asAggregation||(0,Se.t3)(be)||(0,Se.ez)(be),"invalid linkField"),{asAggregation:X.asAggregation,fieldExpr:be}}deserializePage(X,be){if(X){var Ie={id:X.id,objectId:X.objectId,name:X.name,displayName:X.displayName,visualContainers:void 0,visualContainerGroups:void 0,size:{displayOption:void 0!==X.displayOption?X.displayOption:0,height:X.height||x.LU,width:X.width||x.Z9},filters:this.deserializeFilterContainers(X.filters)};(X.originalHeight||X.originalWidth||X.originalDisplayOption)&&(Ie.originalSize={displayOption:X.originalDisplayOption,height:X.originalHeight,width:X.originalWidth}),X.transient&&(Ie.transient=X.transient);var Ye=X.config;if(Ie.acceptsAllFiltersWhenLinked=Ye.acceptsAllFiltersWhenLinked,Ye.objects&&(Ie.objects=(0,a.wN)(Ye.objects,W.C)),null!=Ye.visibility&&(Ie.visibility=Ye.visibility),null!=Ye.type&&(Ie.type=Ye.type),null!=Ye.filterSortOrder&&(Ie.filterSortOrder=Ye.filterSortOrder),_.isEmpty(Ye.linkFields)||(Ie.linkFields=_.map(Ye.linkFields,qe=>this.deserializeLinkField(qe))),Ye.dynamicConfig&&(Ie.dynamicConfig=this.deserializeDynamicConfig(Ye.dynamicConfig)),X.visualContainers){var{enableVisualContainerGrouping:ze,deserializationId:ee,logDuplicateTelemetry:ve=d.q.generateId()}=be??{},Te=this.deserializeCanvasItems(X.visualContainers,null,ze);if(Te){if(Ie.visualContainers=Te.visualContainers,Ie.visualContainerGroups=Te.visualContainerGroups,ve){var{allUnique:Xe,itemCounts:He}=Ue(Te.visualContainers,qe=>qe.name);Xe||(b.fF.assertFail("VisualContainer names must be unique within a section."),Je(this.telemetryService,"VisualsNamePerPage",ee,He))}}else Ie.visualContainers=[],Ie.visualContainerGroups=[];Ye.relationships&&(Ie.relationships=this.deserializeRelationships(Ye.relationships,Ie.visualContainers))}return Ye.howCreated&&(Ie.howCreated=Ye.howCreated),Ie}}deserializePod(X){if(X)return{id:X.id,name:X.name,boundSection:X.boundSection,parameters:this.deserializePodParameters(X.parameters),cortanaEnabled:X.cortanaEnabled,type:void 0===X.type?0:X.type,referenceScope:void 0===X.referenceScope?0:X.referenceScope,config:this.deserializePodConfig(X.config)}}deserializeRelationships(X,be){if(!_.isEmpty(X)){var Ie;for(var Ye of X){var ze=this.deserializeRelationship(Ye,be);ze&&(Ie||(Ie=[])).push(ze)}return Ie}}deserializeBookmarks(X){if(X)return _.map(X,be=>{if(this.isBookmarkGroup(be)){var Ie={displayName:be.displayName,name:be.name,children:this.deserializeBookmarks(be.children)};return _.each(Ie.children,ee=>ee.parentGroup=Ie),Ie}var ze={displayName:be.displayName,name:be.name,explorationState:(0,J.vB)(be.explorationState,this.visualPlugins,this.featureSwitchService)};return be.options&&(ze.options=this.deserializeBookmarkOptions(be.options)),ze})}deserializeBookmarkOptions(X){return X}deserializeModelExtensions(X){return b.fF.assertAnyValue(X,"model extension wireContracts"),(0,m.z8)(_.map(X,be=>{var Ie={name:be.name,extends:be.extends};return be.entities&&(Ie.entities=this.deserializeModelExtensionEntities(be.entities)),Ie}))}deserializeModelExtensionEntities(X){return b.fF.assertAnyValue(X,"model extension entities wireContracts"),(0,m.z8)(_.map(X,be=>{var Ie;return Ie=be.extends?{name:be.name,extends:be.extends}:{name:be.name},be.measures&&(Ie.measures=this.deserializeModelExtensionMeasures(be.measures)),Ie}))}deserializeModelExtensionMeasures(X){return b.fF.assertAnyValue(X,"model extension measures wireContracts"),(0,m.z8)(_.map(X,be=>{var Ie={name:be.name,dataCategory:be.dataCategory,dataType:be.dataType,expression:be.expression,errorMessage:be.errorMessage,hidden:be.hidden,references:this.deserializeExpressionReferences(be.references),formulaOverride:be.formulaOverride,formatInformation:be.formatInformation,displayFolder:be.displayFolder};return be.annotations&&(Ie.annotations=this.deserializeModelExtensionAnnotations(be.annotations)),be.measureTemplate&&(Ie.measureTemplate={daxTemplateName:be.measureTemplate.daxTemplateName,version:be.measureTemplate.version}),be.description&&(Ie.description=be.description),Ie}))}deserializeExpressionReferences(X){return X?{unrecognizedReferences:!!X.unrecognizedReferences,measures:X.measures||[]}:{unrecognizedReferences:!1,measures:[]}}deserializeModelExtensionAnnotations(X){return b.fF.assertAnyValue(X,"model extension annotations wireContracts"),(0,m.z8)(_.map(X,be=>({name:be.name,value:be.value})))}deserializeDynamicConfig(X){var be;if(X.quickExplore){var Ye=X.quickExplore.visualContainerConfigurations,ze=X.quickExplore.layout;be||(be={}),be.quickExplore={selectedFields:_.map(X.quickExplore.selectedFields,ee=>y.ib.deserializeExpr(ee)),visualContainerConfigurations:_.map(Ye,ee=>({name:ee.name,fields:_.map(ee.fields,ve=>y.ib.deserializeExpr(ve))}))},ze&&(be.quickExplore.layout=this.deserializeQuickExploreLayout(ze))}return be}deserializeQuickExploreLayout(X){if(X.combination){var be={version:X.combination.version};return X.combination.dataTableName&&(be.dataTableName=X.combination.dataTableName),{combination:be}}if(X.related){var Ie={version:X.related.version};return X.related.dataTableName&&(Ie.dataTableName=X.related.dataTableName),{related:Ie}}}deserializeFilterCollection(X,be,Ie){if(X){var Ye=this.explorationUpgrader.upgradeFilterCollection(X,be,Ie);if(Ye)return this.deserializeFilterContainers(Ye.filters)}}deserializeFilterContainer(X){return{name:X.name,type:I.vA[X.type],expression:X.expression?y.ib.deserializeExpr(X.expression):void 0,filter:X.filter&&X.filter.Where?y.ib.deserializeFilter(X.filter):void 0,restatement:X.restatement,cachedValueItems:(0,u.kE)(X.cachedDisplayNames),howCreated:X.howCreated,isLinkedAsAggregation:X.isLinkedAsAggregation,isTransient:X.isTransient,isHiddenInViewMode:X.isHiddenInViewMode,objects:X.objects?(0,a.wN)(X.objects,I.XW):void 0,isLockedInViewMode:X.isLockedInViewMode,filterExpressionMetadata:X.filterExpressionMetadata?(0,C.hE)(X.filterExpressionMetadata):void 0,displayName:X.displayName,ordinal:X.ordinal}}deserializeCanvasItems(X,be,Ie,Ye){if(!_.isEmpty(X)){var ze=[],ee=[],ve={},Te={};for(var Xe of X){b.fF.assertValue(Xe&&Xe.config,"explorationSerializer.deserializePage - vc config should exist");var He=Xe.config,qe=He.name,rt=Ye&&Ye(Xe),me=this.deserializeCanvasItem(Xe,be,rt);Te[qe]=me.name,(0,A.Vz)(me)&&ze.push(me),void 0===He.parentGroupName?ee.push(me):(ve[He.parentGroupName]||(ve[He.parentGroupName]=[]),ve[He.parentGroupName].push(me))}var fe={};for(var Re in ve){var re=Te[Re];re?fe[re]=ve[Re]:ee.push(...ve[Re]||[])}return this.ensureVisualContainerGrouping(ee,fe,Ie),this.ensureNames(ze),Ie?(this.ensureGroupZIndexNormalized(ee),this.featureSwitchService.featureSwitches.accessibilityTopLevelNav?this.ensureGroupTabOrderNormalized(ee,ze):this.ensureListOrderNormalized(ze,!1)):(ee=[...ze||[]],this.ensureListOrderNormalized(ze)),{visualContainerGroups:ee,visualContainers:ze}}}deserializeCanvasItem(X,be,Ie){b.fF.assertValue(X&&X.config,"explorationSerializer.deserializeCanvasItem - vc config should exist");var Ye=X.config;return Ye.singleVisual?this.deserializeVisualContainer(X,be,Ie):Ye.singleVisualGroup?this.deserializeVisualContainerGroup(X,be,Ie):(b.fF.assertFail("explorationSerializer.deserializePage - singleVisual or singleVisualGroup should exist"),void this.telemetryService.logEvent(R.M))}deserializeVisualContainer(X,be,Ie){b.fF.assertValue(X,"input");var Ye=X.config,ze={name:Ie||Ye.name,id:be?void 0:X.id,layouts:(0,m.UR)(),config:{singleVisual:this.deserializeSingleVisual(Ye.singleVisual,X.prototypeQuery)}};null!=X.visibility&&(ze.visibility=X.visibility),null!=X.detailVisualLayout&&(ze.detailVisualLayout=X.detailVisualLayout),Ye.name&&(ze.prevName=Ye.name),Ye.howCreated&&(ze.howCreated=Ye.howCreated),(void 0!==X.dataBinaryBase64Encoded||void 0!==X.query||void 0!==X.dataTransforms)&&(ze.cachedData={data:X.dataBinaryBase64Encoded,query:X.query,transforms:X.dataTransforms,dataUpdatedTime:X.dataUpdatedTime?(0,i.jC)(X.dataUpdatedTime):void 0}),ze.filters=this.deserializeFilterContainers(X.filters);var ee=Ye.singleVisual.drillFilterOtherVisuals;null!=ee&&(ze.drillFilterOtherVisuals=ee);var ve=Ye.singleVisual.filterSortOrder;return null!=ve&&(ze.filterSortOrder=ve),ze.layouts.push(..._.cloneDeep(Ye.layouts)||[]),_.forEach(ze.layouts,Te=>{Te.position&&ct(Te.position)}),ze}deserializeVisualContainerGroup(X,be,Ie){b.fF.assertValue(X,"input");var Ye=X.config,ze=Ye.singleVisualGroup,ee={name:Ie||Ye.name,id:be?void 0:X.id,children:[],displayName:ze.displayName,groupMode:ze.groupMode,layouts:(0,m.UR)(),isHidden:ze.isHidden};return Ye.name&&(ee.prevName=Ye.name),ee.layouts.push(..._.cloneDeep(Ye.layouts)||[]),ze.objects&&(ee.objects=(0,a.wN)(ze.objects,F.C7)),ee}deserializeRelationship(X,be){b.fF.assertValue(X,"input"),b.fF.assertValue(be,"visualContainers");var Ie=(0,m.rC)(be,X.source),Ye=(0,m.rC)(be,X.target);if(b.fF.assertValue(Ie,"source"),b.fF.assertValue(Ye,"target"),0!==X.type&&Ie&&Ye)return{source:Ie,target:Ye,type:X.type}}deserializeFilterContainers(X){if(!(0,f.g)(X)){var be=[],Ie=(0,o.K)(X);return Ie&&(be=Ie.map(Ye=>this.deserializeFilterContainer(Ye))),be}}deserializePodParameters(X){var be=[];if(!(0,f.g)(X)){var Ie=(0,o.K)(X);Ie&&(be=Ie.map(Ye=>this.deserializePodParameter(Ye)))}return be}deserializePodParameter(X){return{name:X.name,boundFilter:X.boundFilter,fieldExpr:X.fieldExpr?y.ib.deserializeExpr(X.fieldExpr):void 0,asAggregation:X.asAggregation,isLegacySingleSelection:X.isLegacySingleSelection}}deserializePodConfig(X){if((0,f.g)(X))return{acceptsFilterContext:0};var be=(0,o.K)(X);return b.fF.assert(()=>void 0!==be,"Incorrect PodConfig contents"),void 0===be.acceptsFilterContext&&(be.acceptsFilterContext=0),be}deserializeVisualQuery(X,be,Ie,Ye,ze,ee,ve){var Te=this.visualPlugins.capabilities(X.visualType),Xe=Te&&Te.expandCollapse&&Te.expandCollapse.supportsMerge,He=Te&&Te.expandCollapse&&Te.expandCollapse.collapseParentAfterRemovingChildLevel,qe=Te&&Te.noDefaultProjections,rt=be.select(),me=_.keyBy(rt,fe=>fe.name),Ee=new T.g(be,this.convertProjections(X.visualType,Ie,rt,me,ze,ee),(0,t.bX)(Ye,{supportsMerge:Xe,canCollapseRoot:qe,collapseParentAfterRemovingChildLevel:He}),ve);this.upgradeVisualQuery(Ee,X.visualType),X.query=Ee}deserializeSingleVisual(X,be){var Ie={visualType:X.visualType||X.visualConfig.visualType};b.fF.assertValue(Ie.visualType,"explorationSerializer.deserializeSingleVisual - visualType should exist"),null!=X.autoSelectVisualType&&(Ie.autoSelectVisualType=X.autoSelectVisualType);var Ye=X.visualConfig?X.visualConfig.projections:void 0,ze=X.projections||{};if(Ye)for(var ee of Ye){var ve=ze[ee.role];ve||(ze[ee.role]=ve=[]),ve.push(ee)}else if(ze&&ze.length>0)for(var Te of(Ye=ze,ze={},Ye)){var Xe=ze[Te.role];Xe||(ze[Te.role]=Xe=[]),Xe.push(Te)}var He=X.prototypeQuery?X.prototypeQuery:be?(0,o.K)(be):null;if(He){var qe=y.ib.deserializeQuery(He);this.deserializeVisualQuery(Ie,qe,ze,X.expansionStates,X.showAllRoles,X.queryFieldParametersByRole,X.isDrillDisabled)}null!=X.display&&(Ie.display=X.display),X.columnProperties&&(Ie.columnProperties=_.cloneDeep(X.columnProperties));var me=X.queryOptions;me&&(Ie.queryOptions=_.cloneDeep(me));var Ee=X.syncGroup;null!=Ee&&(Ie.syncGroup=_.cloneDeep(Ee));var fe=X.hasDefaultSort;return null!=fe&&(Ie.hasDefaultSort=fe),X.objects&&this.addItemLocationObjects(Ie.visualType,X.objects),(0,a.kO)(X.objects,()=>this.visualPlugins.capabilities(Ie.visualType)?.objects,Ie),X.vcObjects&&(Ie.vcObjects=(0,a.wN)(X.vcObjects,O.XW)),this.deserializeMobileState(Ie,X),X.cachedFilterDisplayItems&&(Ie.cachedFilterDisplayItems=(0,u.kE)(X.cachedFilterDisplayItems)),X.filterExpressionMetadata&&(Ie.filterExpressionMetadata=(0,C.hE)(X.filterExpressionMetadata)),Ie}addItemLocationObjects(X,be){var re,Ie=(Re,re)=>{var se=Re[re.objectName];if(null!=se&&1===se.length)return se[0].properties[re.propertyName]};if(X===Ge.D.scorecard){var ze=ye.A.scorecard.scorecardReference,ee=ye.A.scorecard.scorecardId,ve=Ie(be,ee);if(null==ve)return;var Xe=y.ib.deserializeExpr(ve.expr).value,He=(re=_.toLower(_.trim(Xe)),((0,je.HH)(re,!1)?re.split("/scorecards/")[1]:re)??Xe);be[ze.objectName][0].properties[ze.propertyName]={kind:"ItemLocation",byReference:{itemId:{expr:y.ib.serializeExpr((0,M.fL)(He))}}},delete be[ee.objectName][0].properties[ee.propertyName]}if(X===Ge.D.rdlVisual){var qe=we.eH.reportInfo.reference,rt=we.eH.reportInfo.reportId,me=we.eH.reportInfo.workspaceId,Ee=Ie(be,rt),fe=Ie(be,me);if(null==Ee||null==fe)return;be[qe.objectName][0].properties[qe.propertyName]={kind:"ItemLocation",byReference:{itemId:Ee,workspaceId:fe}},delete be[rt.objectName][0].properties[rt.propertyName],delete be[me.objectName][0].properties[me.propertyName]}}deserializeMobileState(X,be){be.mobileVcObjects&&(X.mobileVcObjects=(0,a.wN)(be.mobileVcObjects,O.XW)),be.mobileObjects&&(0,a.kO)(be.mobileObjects,()=>this.visualPlugins.capabilities(X.visualType)?.objects,X,"mobileObjects")}isBookmarkGroup(X){return void 0!==X.children}ensureVisualContainerGrouping(X,be,Ie,Ye){for(var ze of X){if(Ye&&(ze.parentGroup=Ye),!Ie&&(0,A.Vz)(ze)&&ze.parentGroup){var ee=ze.layouts.withId(0),ve=(0,H.hP)(ee.position,0,ze.parentGroup);ee.position=ve,ze.parentGroup=void 0}(0,A.q4)(ze)&&(b.fF.assertValue(be[ze.name],"deserializePage - visual container group must have children"),ze.children=be[ze.name]||[],this.ensureVisualContainerGrouping(ze.children,be,Ie,ze))}}ensureGroupZIndexNormalized(X){if(b.fF.assertValue(X,"visualContainerGroups"),!_.isEmpty(X))for(var be of(this.ensureListOrderNormalizedInternal(X,!0,"z"),X))(0,A.q4)(be)&&this.ensureGroupZIndexNormalized(be.children)}ensureGroupTabOrderNormalized(X,be){if(b.fF.assertValue(X,"visualContainerGroups"),!_.isEmpty(X)){if(_.every(be,Ie=>{var Ye=Ie.layouts.withId(0);return Ye&&Ye.position&&null==Ye.position.tabOrder}))return;this.ensureGroupsHaveTabOrders(X)||this.upgradeTabOrderToHierarchy(X),this.ensureGroupTabOrderNormalizedHelper(X)}}upgradeTabOrderToHierarchy(X){_.map(X,be=>{if((0,A.q4)(be)&&void 0===be.layouts?.withId(0).position?.tabOrder){this.upgradeTabOrderToHierarchy(be.children);var Ie=Number.NEGATIVE_INFINITY;(0,A.Iw)([be],Ye=>{var ze=Ye.layouts?.withId(0).position?.tabOrder;ze&&(Ie=_.max([Ie,ze])),Ie!==Number.NEGATIVE_INFINITY&&(be.layouts.withId(0).position.tabOrder=Ie)})}})}ensureGroupsHaveTabOrders(X){for(var be of X)if((0,A.q4)(be)){var Ie=be.layouts.withId(0);if(void 0===Ie?.position?.tabOrder||!this.ensureGroupsHaveTabOrders(be.children))return!1}return!0}ensureGroupTabOrderNormalizedHelper(X){for(var be of(this.ensureTabOrderNormalized(X,!0),this.ensureTabOrderNormalized(X,!1),X))(0,A.q4)(be)&&this.ensureGroupTabOrderNormalizedHelper(be.children)}ensureListOrderNormalized(X,be=!0){b.fF.assertValue(X,"visualContainers"),!_.isEmpty(X)&&(be&&this.ensureListOrderNormalizedInternal(X,!0,"z"),!_.every(X,Ie=>{var Ye=Ie.layouts.withId(0);return Ye&&Ye.position&&null==Ye.position.tabOrder})&&(this.ensureTabOrderNormalized(X,!0),this.ensureTabOrderNormalized(X,!1)))}ensureTabOrderNormalized(X,be){var Ie=_.filter(X,Ye=>{var ze=this.getListOrderPropertyFunction(Ye,"tabOrder");return be?ze>=0||void 0===ze:ze&&ze<0});this.ensureListOrderNormalizedInternal(Ie,be,"tabOrder")}getListOrderPropertyFunction(X,be){var Ie=X.layouts.withId(0);return Ie&&Ie.position&&Ie.position[be]}setListOrderPropertyFunction(X,be,Ie){var Ye=X.layouts.withId(0);Ye&&Ye.position&&(Ye.position[be]=Ie)}ensureListOrderNormalizedInternal(X,be,Ie){var Ye=this.canvasListOrderNormalizeService.getContainerListOrders(X,ze=>this.getListOrderPropertyFunction(ze,Ie));this.canvasListOrderNormalizeService.shouldNormalizeListOrder(Ye,be)&&(Ye=this.canvasListOrderNormalizeService.normalizeListOrder(Ye,be,ze=>this.getListOrderPropertyFunction(ze,Ie)),this.updateListOrders(X,Ye,Ie))}updateListOrders(X,be,Ie){for(var Ye of X){var ze=be[Ye.name];null!=ze&&ze!==this.getListOrderPropertyFunction(Ye,Ie)&&this.setListOrderPropertyFunction(Ye,Ie,ze)}}ensureNames(X){b.fF.assertValue(X,"items");for(var Ye,be=X.length,Ie={},ze=0;ze<be;ze++){var ee=X[ze].name;_.isEmpty(ee)?Ye=!0:Ie[ee]=!0}if(Ye)for(var ve=0;ve<be;ve++){var Te=X[ve];_.isEmpty(Te.name)&&(Te.name=(0,H.vr)(Ie),Ie[Te.name]=!0)}}convertProjections(X,be,Ie,Ye,ze,ee){b.fF.assertValue(be,"contract"),b.fF.assertValue(Ie,"select");var ve={},Te=_.keys(ee),Xe=_.keys(be),He=_.union(Te,Xe);for(var qe of He){var rt=_.includes(ze,qe);ve[qe]=this.convertProjectionArray(X,be[qe],Ie,qe,Ye,rt,ee?ee[qe]:void 0)}return ve}convertProjectionArray(X,be,Ie,Ye,ze,ee,ve){var Xe,Te=[];if(!_.isEmpty(be))for(var He of be){var qe=this.convertProjection(He,Ie,ze);qe?(He.active&&(Xe=Xe||[]).push(qe.queryRef),Te.push(qe)):this.telemetryService.logTrace(new de.X("Projection without a select detected in deserialization",Pe.U.Error,void 0,void 0,{visualType:X,role:Ye}))}var rt=[];if(!_.isEmpty(ve))for(var me of ve){var Ee={index:me.index,length:me.length,expr:y.ib.deserializeExpr(me.expr)};rt.push(Ee)}return new P.NQ(Te,Xe,ee,rt)}convertProjection(X,be,Ie){b.fF.assertValue(X,"contract");var Ye=X.queryRef;if(_.isNumber(X.queryRef)&&(Ye=be[X.queryRef].name),Ie[Ye]){var ze={queryRef:Ye};return X.hidden&&(ze.hidden=!0),ze}}serializeExploration(X,be){return this.createSerializer().serializeExploration(X,be)}serializeModelExtensions(X){return this.createSerializer().serializeModelExtensions(X)}serializePage(X,be,Ie){return this.createSerializer().serializePage(X,be,Ie)}serializePageShallow(X,be,Ie){return this.createSerializer().serializePageShallow(X,be,Ie)}serializeVisualContainer(X,be){return this.createSerializer().serializeVisualContainer(X,be)}serializeVisualContainerGroup(X){return this.createSerializer().serializeVisualContainerGroup(X)}serializePod(X){return this.createSerializer().serializePod(X)}serializeFilterCollection(X){return this.createSerializer().serializeFilterCollection(X)}serializeResourcePackages(X){return this.createSerializer().serializeResourcePackages(X)}createSerializer(){return new at(this.visualPlugins,this.explorationDowngrader,this.telemetryService,this.featureSwitchService)}upgradeVisualQuery(X,be){if(be===Ge.D.filledMap&&X.projections[Ve]){var Ie=X.projections[Ve],Ye=X.projections[Ze];if(Ye&&Ye.all.length>0)for(var ee=Ye.all().length-1;ee>=0;ee--)X.removeProjection(Ze,{fieldIndex:ee});X.projections[Ze]=Ie,delete X.projections[Ve]}var ve=this.visualPlugins.capabilities(be);if(ve){var Te=(0,U.WO)(ve,X.isDrillDisabled),Xe=X.ensureDrillableRoles(Te);if(!_.isEmpty(Xe)){var He={};for(var qe of Xe){var rt=X.projections[qe],me=0;rt&&(me=_.size(rt.all())),He[qe]=me}this.telemetryService.logEvent(R.Zk,{visualType:be,fixedRoleByProjectionCount:JSON.stringify(He)})}}}upgradeResourcePackage(X){void 0===X.type&&(X.type=0)}getReferencedStaticResources(X){var be={},Ie=X.themeCollection.customTheme,Ye=X.themeCollection.baseTheme;if(this.addItemReference(be,X.resourcePackages,Ie&&Ie.type,Ie&&Ie.name),this.addItemReference(be,X.resourcePackages,Ye&&Ye.type,Ye&&Ye.name),!_.isEmpty(X.sections))for(var ze of X.sections)if((0,q.WP)(ze.objects,W.C,X.resourcePackages,be),!_.isEmpty(ze.visualContainers))for(var ee of ze.visualContainers){var ve=ee.config.singleVisual,Te=ve.objects,Xe=this.visualPlugins.capabilities(ve.visualType);(0,q.WP)(Te,Xe&&Xe.objects,X.resourcePackages,be)}return be}addItemReference(X,be,Ie,Ye){if(Ye&&Ie){var ze=(0,E.Yu)(be,Ie,Ye);if(ze){var ee=(0,E.RJ)(Ie);(0,q.be)(X,ee,Ie,Ye,ze.type)}}}parseExplorationConfigs(X){if(X){var be=this.parseConfig(X);return be.sections=_.map(X.sections,Ie=>this.parsePageConfigs(Ie)),be}}parseConfig(X){var be=_.clone(X);return be.config=(0,o.K)(X.config)||{},be}parsePageConfigs(X){var be=this.parseConfig(X);return be.visualContainers=_.map(X.visualContainers,Ie=>this.parseConfig(Ie)),be}stringifyExplorationConfigs(X){var be=this.stringifyConfig(X);return be.sections=_.map(X.sections,Ie=>this.stringifyPageConfigs(Ie)),be}stringifyConfig(X){var be=_.clone(X);return be.config=JSON.stringify(X.config),be}stringifyPageConfigs(X){var be=this.stringifyConfig(X);return be.visualContainers=_.map(X.visualContainers,Ie=>this.stringifyConfig(Ie)),be}parseFilterCollectionConfig(X){if(X)return this.parseConfig(X)}stringifyFilterCollectionConfig(X){if(X)return this.stringifyConfig(X)}}var _e=le.H3n.v5_37;class at{constructor(X,be,Ie,Ye){this.visualPlugins=X,this.explorationDowngrader=be,this.telemetryService=Ie,this.featureSwitchService=Ye,this.version=_e}serializeExploration(X,be){var Ie=X.sections;(!be||!be.withTransientPages)&&(Ie=(0,W.y)(Ie));var ze,Ye=_.map(Ie,(He,qe)=>this.serializePage(He,qe,be));_.isEmpty(X.pods)||(this.removeInvalidPods(X.sections,X.pods,this.telemetryService),ze=_.map(X.pods,He=>this.serializePod(He)),b.fF.assert(()=>Ue(X.pods,He=>He.name).allUnique,"pod names must be unique"));var ee=this.serializeExplorationShallowWithResourcePackages(X,be);if(ee.sections=Ye,ee.pods=ze,!be||!be.forSave){var ve=X.activeBookmark;if(ve){var Te=ee.config.bookmarks??[];for(var Xe of Te)if(void 0===Xe.children&&Xe.name===ve.name){ee.activeBookmark=Xe;break}}}return be&&be.forSave&&this.explorationDowngrader.downgrade(ee,this.version),b.fF.assert(()=>this.version===ee.config.version,"explorationSerializer.serializeExploration - Version in serializer state should be exactly the same that returned wireContract version."),this.featureSwitchService.featureSwitches.reportSerializationSizeCountTelemetry&&be?.forSave&&this.logSizeAndCountInfo(ee),ee}logSizeAndCountInfo(X){setTimeout(()=>{var be=X.sections,Ie=be.flatMap(Te=>Te.visualContainers),Ye=X.pods,ze=X.config.bookmarks,ee=X.resourcePackages,ve={maxSizeVisual:this.getMaxStringifiedSize(Ie),maxSizePod:Ye?this.getMaxStringifiedSize(Ye):0,maxSizeBookmark:ze?this.getMaxStringifiedSize(ze):0,maxSizeResourcePackage:ee?this.getMaxStringifiedSize(ee):0,totalVisualCount:Ie.length,totalPageCount:be.length,totalPodCount:Ye?.length??0,totalBookmarkCount:ze?.length??0,totalResourcePackageCount:ee?.length??0};this.telemetryService.logEvent(R.Hn,{reportDefinitionVersion:"1.0.0",...ve})})}getMaxStringifiedSize(X){var be=X.map(Ye=>JSON.stringify(Ye).length);return be.length>0?Math.max(...be):0}serializeBookmarks(X,be){if(X){var Ie=Q.Zh,Ye=_.map(X,ze=>{if(N.J.isBookmarkGroup(ze)){var ee={displayName:ze.displayName,name:ze.name,children:this.serializeBookmarks(ze.children,be)};return this.version=(0,h.Fp)(this.version,le.VSH),ee}(0,J.oJ)(ze.explorationState,be);var ve={displayName:ze.displayName,name:ze.name,explorationState:(0,J.qC)(ze.explorationState,this.featureSwitchService)};return Ie=(0,h.Fp)(ve.explorationState.version,Ie),ze.options&&(ve.options=this.serializeBookmarkOptions(ze.options),this.version=(0,h.Fp)(this.version,le.q4D)),ve});switch(Ie){case Q.Zh:this.version=(0,h.Fp)(this.version,le.hGr);break;case Q.U1:this.version=(0,h.Fp)(this.version,le.rAF);break;case Q.aN:this.version=(0,h.Fp)(this.version,le.htK);break;case Q.Aq:this.version=(0,h.Fp)(this.version,le.$tC);break;case Q.Zl:this.version=(0,h.Fp)(this.version,le.fke);break;case Q.XX:this.version=(0,h.Fp)(this.version,le.vqL);break;case Q.uZ:this.version=(0,h.Fp)(this.version,le.UCJ);break;case Q.rb:this.version=(0,h.Fp)(this.version,le.dKN);break;case Q.C7:this.version=(0,h.Fp)(this.version,le.C7j);break;default:b.fF.assertFail("Unknown exploration state version.")}return Ye}}serializeBookmarkOptions(X){return X}serializeExplorationShallowWithResourcePackages(X,be){var Ie=X.activeSectionIndex,Ye=this.createVersionedElementConfig(_e);if(this.version=(0,h.Fp)(this.version,Ye.version),Ye.themeCollection=w.P.cloneThemeCollection(X.themeCollection),_.isNumber(Ie)&&(Ye.activeSectionIndex=Ie),_.isEmpty(X.modelExtensions)||(this.version=(0,h.Fp)(this.version,le.H3n.v3_0),Ye.modelExtensions=this.serializeModelExtensions(X.modelExtensions)),!_.isEmpty(X.bookmarks)){var ze=this.serializeBookmarks(X.bookmarks,X);Ye.bookmarks=ze}be&&be.excludeHighContrastTheme&&delete Ye.themeCollection.highContrastTheme,be&&be.forSave&&delete Ye.themeCollection.transientUserSetTheme;var ee=X.themeCollection.baseTheme;if(ee&&(this.version=(0,h.Fp)(this.version,(0,j.TO)(ee.name))),(0,f.g)(X.dataSourceVariables)||(this.version=(0,h.Fp)(this.version,le.H3n.v4_2),Ye.dataSourceVariables=X.dataSourceVariables),X.tags&&(Ye.tags=X.tags),null!=X.defaultDrillFilterOtherVisuals&&(Ye.defaultDrillFilterOtherVisuals=X.defaultDrillFilterOtherVisuals,X.defaultDrillFilterOtherVisuals&&(this.version=(0,h.Fp)(this.version,le.U$u))),null!=X.filterSortOrder&&(Ye.filterSortOrder=X.filterSortOrder,X.filterSortOrder&&(this.version=(0,h.Fp)(this.version,le.faH))),X.slowDataSourceSettings){var ve=_.cloneDeep(X.slowDataSourceSettings);(ve.isCrossHighlightingDisabled||ve.isFieldWellButtonEnabled||ve.isFilterSelectionsButtonEnabled||ve.isSlicerSelectionsButtonEnabled||ve.isApplyAllButtonEnabled)&&(this.version=(0,h.Fp)(this.version,ve.isApplyAllButtonEnabled?le.m5F:le.qq3)),Ye.slowDataSourceSettings=ve}if(null!=X.linguisticSchemaSyncVersion&&(Ye.linguisticSchemaSyncVersion=X.linguisticSchemaSyncVersion,X.linguisticSchemaSyncVersion!==B.u.Unspecified&&(this.version=(0,h.Fp)(this.version,le.ugh))),X.settings){var Te=_.cloneDeep(X.settings);(Te.isPersistentUserStateDisabled||Te.hideVisualContainerHeader)&&(this.version=(0,h.Fp)(this.version,le.Awj)),Te.useStylableVisualContainerHeader&&(this.version=(0,h.Fp)(this.version,le.qdh)),void 0!==Te.exportDataMode&&0!==Te.exportDataMode&&(this.version=(0,h.Fp)(this.version,le.m7e)),Te.useNewFilterPaneExperience&&(this.version=(0,h.Fp)(this.version,le.z1y)),Te.isReportAnnotationsDisabled&&(this.version=(0,h.Fp)(this.version,le.sE2)),!0===Te.defaultFilterActionIsDataFilter&&(this.version=(0,h.Fp)(this.version,le.iXZ)),Te.useCrossReportDrillthrough&&(this.version=(0,h.Fp)(this.version,le.xSu)),Te.allowChangeFilterTypes&&(this.version=(0,h.Fp)(this.version,le.kdg)),Te.allowInlineExploration&&(this.version=(0,h.Fp)(this.version,le.UCJ)),Te.optOutNewFilterPaneExperience&&(this.version=(0,h.Fp)(this.version,le.YA8)),Te.filterPaneHiddenInEditMode&&(this.version=(0,h.Fp)(this.version,le.UAC)),Te.disableFilterPaneSearch&&(this.version=(0,h.Fp)(this.version,le.np7)),Te.pagesPosition&&(this.version=(0,h.Fp)(this.version,le.IwG)),Te.useEnhancedTooltips&&(this.version=(0,h.Fp)(this.version,le.TQL)),Te.useScaledTooltips&&(this.version=(0,h.Fp)(this.version,le.elY)),Te.allowAutomatedInsightsNotification&&(this.version=(0,h.Fp)(this.version,le.VTu)),Te.useDefaultAggregateDisplayName&&(this.version=(0,h.Fp)(this.version,le.GwY)),Te.pauseQueries&&(this.version=(0,h.Fp)(this.version,le.tCF)),(Te.queryLimitOption||Te.customMemoryLimit||Te.customTimeoutLimit)&&(this.version=(0,h.Fp)(this.version,le.ckf)),Ye.settings=Te}X.objects&&(Ye.objects=this.serializeObjects(X.objects,B.W,"report",be)),be&&be.forSave?(this.version=this.explorationDowngrader.getFinalExplorationVersion(X,this.version),b.fF.assert(()=>!(0,h.lt)(this.version,Ye.version),"explorationSerializer.serializeExplorationShallowWithResourcePackages - Version should be at least as high as version config")):this.version=Z.L;var Xe=this.serializeFilterContainers(X.filters,be);return X.creationSource&&(Ye.creationSource=X.creationSource,this.version=(0,h.Fp)(this.version,le.Eo9)),Ye.version=this.version,{id:X.id,report:X.report,reportId:X.reportId,theme:X.themeCollection.customTheme&&X.themeCollection.customTheme.name,filters:Xe,resourcePackages:this.serializeResourcePackages(X.resourcePackages,be),sections:void 0,config:Ye,layoutOptimization:this.getLayoutOptimizations(X),publicCustomVisuals:X.publicCustomVisuals,isStoredInBlob:X.isStoredInBlob}}serializeLinkField(X){b.fF.assertValue(X,"linkfield");var be=X.fieldExpr;return b.fF.assert(()=>(0,Se.kb)(be)&&!1===X.asAggregation||(0,Se.t3)(be)||(0,Se.ez)(be),"invalid linkField"),{asAggregation:X.asAggregation,fieldExpr:y.ib.serializeExpr(be)}}serializeFilterCollection(X){if(!_.isEmpty(X)){var be=this.createVersionedElementConfig(_e);return{filters:this.serializeFilterContainers(X),config:be}}}serializePage(X,be,Ie){var Ye=this.serializePageShallow(X,be,Ie);if(Ye.visualContainers=[],X.visualContainerGroups)this.serializeVisualContainerTreeToList(X.visualContainerGroups,Ye.visualContainers,Ie);else for(var ze of X.visualContainers)Ye.visualContainers.push(this.serializeVisualContainer(ze,Ie));return Ye}serializeVisualContainerTreeToList(X,be,Ie){var Ye=!1;for(var ze of X)(0,A.q4)(ze)?(Ye||(this.version=(0,h.Fp)(le.F1S.getVersionForVisualContainerGroup(ze),this.version),Ye=!0),be.push(this.serializeVisualContainerGroup(ze)),this.serializeVisualContainerTreeToList(ze.children,be,Ie)):be.push(this.serializeVisualContainer(ze,Ie))}isRegularPageUsingMeasureDrillthrough(X){var be=!1,Ie=!1;return(null==X.type||0===X.type)&&(be=!0===X.acceptsAllFiltersWhenLinked,Ie=_.some(X.filters,Ye=>Ye&&5===Ye.howCreated&&!Ye.isTransient&&(Ye.isLinkedAsAggregation||Ye.expression&&(0,Se.kb)(Ye.expression)))),be||Ie}isMeasureDrillthroughPod(X){var be=!1,Ie=!1;return 1===X.type&&(be=X.config&&0===X.config.acceptsFilterContext,Ie=_.some(X.parameters,Ye=>Ye.asAggregation||Ye.fieldExpr&&(0,Se.kb)(Ye.fieldExpr))),be||Ie}serializePageShallow(X,be,Ie){b.fF.assert(()=>Ue(X.visualContainers,ee=>ee.name).allUnique,"VisualContainer names must be unique within a section.");var Ye={id:X.id,name:X.name,displayName:X.displayName,filters:this.serializeFilterContainers(X.filters,Ie),ordinal:be,visualContainers:void 0,transient:X.transient,objectId:X.objectId,config:{}};X.size&&(Ye.displayOption=X.size.displayOption,Ye.width=X.size.width,Ye.height=X.size.height),Ie&&Ie.forSave&&(X.isNew=void 0),!Ie?.forSave&&X.originalSize&&(Ye.originalDisplayOption=X.originalSize.displayOption,Ye.originalWidth=X.originalSize.width,Ye.originalHeight=X.originalSize.height);var ze=Ye.config;return _.isEmpty(X.relationships)||(ze.relationships=this.serializeRelationships(X.relationships),Ie&&Ie.featureUsage&&(Ie.featureUsage.hasVisualRelationships=!0)),X.objects&&(ze.objects=this.serializeObjects(X.objects,W.C,"page",Ie)),null!=X.visibility&&(ze.visibility=X.visibility,this.version=(0,h.Fp)(this.version,le.ftA)),null!=X.type&&(ze.type=X.type,this.version=(0,h.Fp)(this.version,le.x7c)),null!=X.filterSortOrder&&(ze.filterSortOrder=X.filterSortOrder,this.version=(0,h.Fp)(this.version,le.faH)),ze.acceptsAllFiltersWhenLinked=X.acceptsAllFiltersWhenLinked,this.isRegularPageUsingMeasureDrillthrough(X)&&(this.version=(0,h.Fp)(this.version,le.oq_)),_.isEmpty(X.linkFields)||(ze.linkFields=_.map(X.linkFields,ee=>this.serializeLinkField(ee)),this.version=(0,h.Fp)(this.version,le.x7c)),X.dynamicConfig&&(ze.dynamicConfig=this.serializePageDynamicConfig(X.dynamicConfig),this.version=(0,h.Fp)(this.version,le.Eo9),ze.dynamicConfig.quickExplore?.layout&&(this.version=(0,h.Fp)(this.version,le.KQG))),X.howCreated&&"Default"!==X.howCreated&&(ze.howCreated=X.howCreated,this.version=(0,h.Fp)(this.version,le.q0O)),Ye}serializePod(X){var be=this.serializePodParameters(X.parameters);return this.isMeasureDrillthroughPod(X)&&(this.version=(0,h.Fp)(this.version,le.oq_)),1===X.referenceScope&&(this.version=(0,h.Fp)(this.version,le.xSu)),{id:X.id,name:X.name,boundSection:X.boundSection,parameters:_.isEmpty(be)?void 0:JSON.stringify(be),cortanaEnabled:X.cortanaEnabled?X.cortanaEnabled:void 0,type:0!==X.type?X.type:void 0,referenceScope:0!==X.referenceScope?X.referenceScope:void 0,config:this.serializePodConfig(X.config)}}serializeVisualContainer(X,be){_.forEach(X.layouts,ve=>{ve.position&&ct(ve.position)});var Ie,Ye=this.serializeVisualContainerConfig(X,be),ze=X.layouts&&X.layouts.withId(0);if(ze?(b.fF.assertValue(ze.position,"Master layout should contain a position"),Ie={id:X.id,x:ze.position.x,y:ze.position.y,z:ze.position.z,width:ze.position.width,height:ze.position.height,config:Ye,filters:this.serializeFilterContainers(X.filters)},ze.position.tabOrder&&(Ie.tabOrder=ze.position.tabOrder)):Ie={id:X.id,config:Ye,filters:this.serializeFilterContainers(X.filters)},!_.isEmpty(X.filters)){var ee=this.visualPlugins.capabilities(X.config.singleVisual.visualType);z.l.supportsFilterOutput(ee)&&(this.version=(0,h.Fp)(this.version,le.NsA))}return be&&be.forSave&&(X.isNew=void 0),be&&be.withVisibility&&(null!=X.visibility&&(Ie.visibility=X.visibility),null!=X.detailVisualLayout&&(Ie.detailVisualLayout=X.detailVisualLayout)),be&&X.cachedData&&((be.withQuery||be.withData)&&(Ie.query=X.cachedData.queryObject?JSON.stringify(X.cachedData.queryObject):X.cachedData.query,Ie.dataTransforms=X.cachedData.transformsObject?e.F.serializeTransformActions(X.cachedData.transformsObject):X.cachedData.transforms,Ie.dataUpdatedTime=X.cachedData.dataUpdatedTime?X.cachedData.dataUpdatedTime.toISOString():void 0),be.withData&&(Ie.dataBinaryBase64Encoded=X.cachedData.dataObject?(0,c.nN)(JSON.stringify(X.cachedData.dataObject)):X.cachedData.data)),Ie}serializeVisualContainerGroup(X,be){this.version=(0,h.Fp)(this.version,le.bFC);var Ie={name:X.name,layouts:_.cloneDeep(X.layouts),singleVisualGroup:{displayName:X.displayName,groupMode:X.groupMode,isHidden:X.isHidden}};X.parentGroup&&(Ie.parentGroupName=X.parentGroup.name),X.objects&&(Ie.singleVisualGroup.objects=this.serializeObjects(X.objects,F.C7,F.$m,be));var Ye,ze=X.layouts&&X.layouts.withId(0);return ze?(b.fF.assertValue(ze.position,"Master layout should contain a position"),Ye={id:X.id,x:ze.position.x,y:ze.position.y,z:ze.position.z,width:ze.position.width,height:ze.position.height,config:Ie},this.featureSwitchService.featureSwitches.accessibilityTopLevelNav&&ze.position.tabOrder&&(Ye.tabOrder=ze.position.tabOrder)):Ye={id:X.id,config:Ie},Ye}serializeModelExtensions(X){if(X)return _.map(X,be=>({name:be.name,extends:be.extends,entities:this.serializeModelExtensionEntities(be.entities)}))}serializeRelationship(X){return b.fF.assertValue(X,"relationship"),b.fF.assertValue(X.source.name,"relationship.source.name"),b.fF.assertValue(X.target.name,"relationship.target.name"),{source:X.source.name,target:X.target.name,type:X.type}}serializeVisualContainerConfig(X,be){var Ie=X.config&&X.config.singleVisual;b.fF.assertValue(X.name,"VisualContainer name is missing."),b.fF.assertValue(Ie,"explorationSerializer.serializeVisualContainerConfig - singleVisual should exist"),b.fF.assertValue(Ie.visualType,"explorationSerializer.serializeVisualContainerConfig - visualType should exist");var Ye=Ie.query,ze=Ye?.defn?_.keyBy(Ye.defn.select(),pt=>pt.name):void 0,ee=Ye?Ye.projections:void 0,ve={name:X.name,layouts:_.cloneDeep(X.layouts),singleVisual:{visualType:Ie.visualType,projections:this.serializeQueryProjections(ee,ze,X.name,Ie.visualType),prototypeQuery:Ye?y.ib.serializeQuery(Ye.defn):void 0}};Ye&&Ye.isDrillDisabled&&(this.version=(0,h.Fp)(this.version,le.hCh),ve.singleVisual.isDrillDisabled=Ye.isDrillDisabled),null!=Ie.autoSelectVisualType&&(this.version=(0,h.Fp)(this.version,le.C7j),ve.singleVisual.autoSelectVisualType=Ie.autoSelectVisualType);var Te=this.serializeQueryFieldParameters(ee);if(_.isEmpty(Te)||(this.version=(0,h.Fp)(this.version,le.dKN),ve.singleVisual.queryFieldParametersByRole=Te),_.some(X.layouts,pt=>pt.position&&void 0!==pt.position.tabOrder)&&(this.version=(0,h.Fp)(this.version,le.$gq)),Ye&&(0,S.if)(Ye.expansionStates)){var Xe=(0,t.hI)(Ye.expansionStates);_.isEmpty(Xe)||(ve.singleVisual.expansionStates=Xe,this.version=(0,h.Fp)(this.version,le.RrR))}var He=Ie.columnProperties;if(He&&!_.isEmpty(He)){this.version=(0,h.Fp)(this.version,le.H3n.v3_4);var qe=_.cloneDeep(He),rt=_.pickBy(qe,pt=>null!=pt.formatString);if(!_.isEmpty(rt))for(var me in rt)null==ze?.[me]&&(qe[me].formatString=null);_.some(qe,pt=>null!=pt.formatString)&&(this.version=(0,h.Fp)(this.version,le.h07)),ve.singleVisual.columnProperties=qe}if(Ie.queryOptions&&(null!=Ie.queryOptions.allowBinnedLineSample&&(this.version=(0,h.Fp)(this.version,le.H3n.v3_3)),null!=Ie.queryOptions.allowOverlappingPointsSample&&(this.version=(0,h.Fp)(this.version,le.H3n.v3_5)),null!=Ie.queryOptions.keepProjectionOrder&&(this.version=(0,h.Fp)(this.version,le.H3n.v4_1)),ve.singleVisual.queryOptions=_.cloneDeep(Ie.queryOptions)),Ie.display&&(this.version=(0,h.Fp)(this.version,le.g3O),ve.singleVisual.display=_.cloneDeep(Ie.display)),Ye&&Ye.defn){if(Ie.visualType===Ge.D.slicer){var Ee=Ye.projections;Ee&&Ee[l.CT.value]&&Ee[l.CT.value].all().length>1&&(this.version=(0,h.Fp)(this.version,le.XVx))}(0,H.J6)(Ie)&&(this.version=_.some(le.WWC,pt=>pt===Ie.visualType)?(0,h.Fp)(this.version,le.Xfb):(0,h.Fp)(this.version,le.XRk));var fe=Ye.defn.select();for(var Re of fe)this.version=(0,h.Fp)(this.version,le.F1S.getVersionForSQExpr(Re.expr));this.version=(0,h.Fp)(this.version,le.F1S.getVersionForSortDefinitions(Ye.defn.orderBy()))}var re=this.serializeShowAllRoles(Ye?Ye.projections:void 0);_.isEmpty(re)||(ve.singleVisual.showAllRoles=re,be&&be.featureUsage&&(be.featureUsage.hasShowAllEnabled=!0)),Ie.visualType===Ge.D.ribbonChart&&(this.version=(0,h.Fp)(this.version,le.H3n.v3_5)),Ie.visualType===Ge.D.actionButton&&(this.version=(0,h.Fp)(this.version,le.Kkx)),Ie.visualType===Ge.D.pythonVisual&&(this.version=(0,h.Fp)(this.version,le.H3n.v3_17)),Ie.visualType===Ge.D.keyDriversVisual&&(this.version=(0,h.Fp)(this.version,le.H3n.v4_1),Ie.query&&!_.isEmpty(Ie.query.tryGetExprs(s.qG.details))&&(this.version=(0,h.Fp)(this.version,le.ukM))),Ie.visualType===Ge.D.qnaVisual&&(this.version=(0,h.Fp)(this.version,le.H3n.v5_4)),Ie.visualType===Ge.D.decompositionTreeVisual&&(this.version=(0,h.Fp)(this.version,le.H3n.v5_5)),Ie.visualType===Ge.D.azureMap&&(this.version=(0,h.Fp)(this.version,le.H3n.v5_13)),Ie.visualType===Ge.D.cardVisual&&(this.version=(0,h.Fp)(this.version,le.VRY)),Ie.visualType===Ge.D.shape&&(this.version=(0,h.Fp)(this.version,le.$qz)),Ie.visualType===Ge.D.pageNavigator&&(this.version=(0,h.Fp)(this.version,le.aWu)),Ie.visualType===Ge.D.bookmarkNavigator&&(this.version=(0,h.Fp)(this.version,le.aWu)),Ie.visualType===Ge.D.rdlVisual&&(this.version=(0,h.Fp)(this.version,le.iuU)),Ie.visualType===Ge.D.scorecard&&(this.version=(0,h.Fp)(this.version,le.pj3)),Ie.visualType===Ge.D.aiNarratives&&(this.version=(0,h.Fp)(this.version,le.LlV)),Ie.visualType===Ge.D.advancedSlicerVisual&&(this.version=(0,h.Fp)(this.version,le.tji)),Ie.visualType===Ge.D.hundredPercentStackedAreaChart&&(this.version=(0,h.Fp)(this.version,le.Hg9)),Ie.visualType===Ge.D.listSlicer&&(this.version=(0,h.Fp)(this.version,le.pWD)),Ie.visualType===Ge.D.textSlicer&&(this.version=(0,h.Fp)(this.version,le.pXM)),Ie.syncGroup&&(ve.singleVisual.syncGroup=_.cloneDeep(Ie.syncGroup),this.version=(0,h.Fp)(this.version,le.$IK)),null!=X.drillFilterOtherVisuals&&(ve.singleVisual.drillFilterOtherVisuals=X.drillFilterOtherVisuals,this.version=(0,h.Fp)(this.version,le.U$u)),null!=X.filterSortOrder&&(ve.singleVisual.filterSortOrder=X.filterSortOrder,this.version=(0,h.Fp)(this.version,le.faH)),X.parentGroup&&(ve.parentGroupName=X.parentGroup.name,this.version=(0,h.Fp)(this.version,le.bFC)),X.howCreated&&"Default"!==X.howCreated&&(ve.howCreated=X.howCreated,this.version=(0,h.Fp)(this.version,le.q0O)),Ie.hasDefaultSort&&(ve.singleVisual.hasDefaultSort=Ie.hasDefaultSort);var Le,se=Ye?Ie.query.defn.select():(0,m.bv)();if(Ie.objects){var Ae=this.visualPlugins.capabilities(Ie.visualType),ce=Ae&&Ae.objects;if(ve.singleVisual.objects=this.serializeObjects(Ie.objects,ce,Ie.visualType,be,se),(Le=Ie).visualType===Ge.D.scatterChart&&Le.query&&Le.query.projections.Play&&!_.isEmpty(Le.query.projections.Play.all())){var Me=!1;(0,D.rQ)(Ie.objects,ce,(pt,wt,Pt,At,Ut)=>{"fill"===wt&&"dataPoint"===At&&null!=Pt&&(Me=!0)}),Me&&(this.version=(0,h.Fp)(this.version,le.H3n.v5_1))}this.supportsScalarMarkers(Ie)&&(0,h.lt)(this.version,le.Cc1)&&this.upgradeIfScalarMarkersAreSet(Ie.objects)}var st=Ie.vcObjects;return st&&(ve.singleVisual.vcObjects=this.serializeObjects(st,O.XW,Ie.visualType,be,se)),this.serializeMobileState(Ie,ve.singleVisual,be?.forSave),Ie.cachedFilterDisplayItems&&(ve.singleVisual.cachedFilterDisplayItems=(0,u.vX)(Ie.cachedFilterDisplayItems)),Ie.filterExpressionMetadata&&(ve.singleVisual.filterExpressionMetadata=(0,C.Qe)(Ie.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,h.Fp)(this.version,le.vqL)),this.version<le.jJX&&function(Le){if(Le.visualType!==Ge.D.scatterChart)return!1;var X=p.TL.x,be=Le.query,Ie=be?be.getRolesProjectionRefs([X]):void 0,Ye=_.size(Ie);if(Ye>1)return!0;if(1===Ye){var ze=be.tryGetExpr(X,0);if(ze&&!(0,Ke.k)(ze))return!0}return!1}(Ie)&&(this.version=le.jJX),function(Le){return!!Le&&Le.defn.select().some(X=>(0,Se.jX)(X.expr))}(Ye)&&(this.version=(0,h.Fp)(this.version,le.H_y),Ie&&(Ie.visualType===Ge.D.scatterChart||Ie.visualType===Ge.D.azureMap||Ie.visualType===Ge.D.map||Ie.visualType===Ge.D.filledMap||Ie.visualType===Ge.D.shapeMap)&&(this.version=(0,h.Fp)(this.version,le.FOi)),Ie&&(Ie.visualType===Ge.D.lineStackedColumnComboChart||Ie.visualType===Ge.D.lineClusteredColumnComboChart)&&(this.version=(0,h.Fp)(this.version,le.OY7)),_.some(Ye.getVisualCalcExpressions(),pt=>(0,Se.jX)(pt.expr)&&null!=pt.expr.dataType)&&(this.version=(0,h.Fp)(this.version,le.BGf))),ve}serializeMobileState(X,be,Ie){Ie||(X.mobileVcObjects&&(be.mobileVcObjects=(0,a.xF)(X.mobileVcObjects,O.XW,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Ie)),X.mobileObjects&&(be.mobileObjects=(0,a.xF)(X.mobileObjects,this.visualPlugins.capabilities(X.visualType)?.objects,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Ie)))}serializeObjects(X,be,Ie,Ye,ze){b.fF.assertValue(X,"explorationSerializer.serializeObjects - objects should exist"),b.fF.assertValue(Ie,"explorationSerializer.serializeObjects - visual type, 'page', or 'report' should exist");var ee=(0,a.xF)(X,be,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Ye?.forSave);return ee&&this.removeItemLocationObjects(Ie,ee),this.isAtLatestVersion()||(this.version=(0,h.Fp)(this.version,(0,le.P_5)(X,be,Ie,this.version,ze))),ee}removeItemLocationObjects(X,be){var Ie=(qe,rt)=>{var me=qe[rt.objectName];if(null!=me&&1===me.length)return me[0].properties[rt.propertyName]};if(X===Ge.D.scorecard){var Ye=ye.A.scorecard.scorecardReference,ze=ye.A.scorecard.scorecardId,ee=Ie(be,ye.A.scorecard.scorecardReference);null!=ee&&(delete be[Ye.objectName][0].properties[Ye.propertyName],be[ze.objectName][0].properties[ze.propertyName]=ee.byReference.itemId)}if(X===Ge.D.rdlVisual){var ve=we.eH.reportInfo.reference,Te=we.eH.reportInfo.reportId,Xe=we.eH.reportInfo.workspaceId,He=Ie(be,ve);null!=He&&(delete be[ve.objectName][0].properties[ve.propertyName],be[Te.objectName][0].properties[Te.propertyName]=He.byReference.itemId,be[Xe.objectName][0].properties[Xe.propertyName]=He.byReference.workspaceId)}}isAtLatestVersion(){return this.version===Z.L}serializeShowAllRoles(X){if(b.fF.assertAnyValue(X,"projections"),X){var be=_.pickBy(X,Ie=>!0===Ie.showAll);return _.keys(be)}}serializeQueryProjections(X,be,Ie,Ye){if(b.fF.assertAnyValue(X,"projections"),X){var ze={};for(var ee in X){var ve=X[ee].all(),Te=X[ee].activeProjectionRefs;if(ve.length>0){ze[ee]=[];for(var Xe=0;Xe<ve.length;++Xe){var He=ve[Xe],qe=He.queryRef,rt=_.includes(Te,qe);if(!be||be[qe]){var me={queryRef:qe};rt&&(me.active=!0),He.hidden&&(me.hidden=He.hidden,this.version=(0,h.Fp)(this.version,le.H_y)),ze[ee].push(me)}else this.telemetryService.logTrace(new de.X("Projection without a select detected in serialization",Pe.U.Error,void 0,void 0,{name:Ie,visualType:Ye,role:ee})),X[ee].removeProjection({fieldIndex:Xe}),rt&&(Te=_.clone(Te),_.pull(Te,qe),X[ee].activeProjectionRefs=Te),--Xe}ze[ee].length||delete ze[ee]}}return ze}}serializeQueryFieldParameters(X){if(b.fF.assertAnyValue(X,"projections"),X){var be={};for(var Ie in X){var Ye=X[Ie].getFieldParameters();if(Ye.length>0)for(var ze of(be[Ie]=[],Ye)){var ee={index:ze.index,length:ze.length,expr:y.ib.serializeExpr(ze.expr)};be[Ie].push(ee)}}return be}}serializeModelExtensionEntities(X){if(X)return _.map(X,be=>{var Ie={name:be.name};return be.extends&&(Ie.extends=be.extends),be.measures&&(Ie.measures=this.serializeModelExtensionMeasures(be.measures)),Ie})}serializeExpressionReferences(X){if(X&&(X.unrecognizedReferences||!_.isEmpty(X.measures))){var be={unrecognizedReferences:X.unrecognizedReferences};return _.isEmpty(X.measures)||(be.measures=X.measures),be}}serializeModelExtensionAnnotations(X){if(X)return _.map(X,be=>({name:be.name,value:be.value}))}serializeModelExtensionMeasures(X){if(X)return _.map(X,be=>{var Ie={name:be.name,dataType:be.dataType,dataCategory:be.dataCategory,expression:be.expression,errorMessage:be.errorMessage,hidden:be.hidden,references:this.serializeExpressionReferences(be.references),formulaOverride:be.formulaOverride,formatInformation:be.formatInformation,displayFolder:be.displayFolder};return be.annotations&&(Ie.annotations=this.serializeModelExtensionAnnotations(be.annotations)),be.measureTemplate&&(Ie.measureTemplate={daxTemplateName:be.measureTemplate.daxTemplateName,version:be.measureTemplate.version}),be.description&&(Ie.description=be.description,this.version=(0,h.Fp)(this.version,le.WL3)),Ie})}serializeFilterContainers(X,be){if(X){var Ie=[];for(var Ye of X)if(Ye&&(0!==Ye.howCreated||z.l.isFilterModified(Ye))&&(!Ye.isTransient||be&&be.withTransientFilters)){7===Ye.howCreated&&be&&be.forSave&&(Ye.howCreated=1),5===Ye.howCreated&&(this.version=(0,h.Fp)(this.version,le.H3n.v3_5)),Ye.isHiddenInViewMode&&(this.version=(0,h.Fp)(this.version,le.yfQ)),Ye.isLockedInViewMode&&(this.version=(0,h.Fp)(this.version,le.yfQ)),Ye.displayName&&(this.version=(0,h.Fp)(this.version,le.$Tv)),Ye.ordinal&&(this.version=(0,h.Fp)(this.version,le.faH)),Ye.type===I.vA.RelativeTime&&(this.version=(0,h.Fp)(this.version,le.nue)),Ye.type===I.vA.Advanced&&Ye.filter?.conditions().some(ee=>{var ve=(0,Se.Ym)(ee)?ee.arg:ee;return(0,Se.$Q)(ve)&&(0,Se.AW)(ve.right)&&""===ve.right.value})&&(this.version=(0,h.Fp)(this.version,le.VFg)),Ye.type===I.vA.VisualTopN&&(this.version=(0,h.Fp)(this.version,le._P0)),Ye.filterExpressionMetadata&&!_.isEmpty(Ye.filterExpressionMetadata.expressions)&&!_.isEmpty(Ye.filterExpressionMetadata.cachedValueItems)&&(this.version=_.isEmpty(Ye.filterExpressionMetadata.jsonFilter)?(0,h.Fp)(this.version,le.Upn):(0,h.Fp)(this.version,le.kJo));var ze=Ye.filterExpressionMetadata?(0,C.Qe)(Ye.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;Ie.push({name:Ye.name,expression:Ye.expression?y.ib.serializeExpr(Ye.expression):void 0,filter:Ye.filter?y.ib.serializeFilter(Ye.filter):void 0,type:I.vA[Ye.type],restatement:Ye.restatement,cachedDisplayNames:(0,u.vX)(Ye.cachedValueItems),howCreated:Ye.howCreated,isLinkedAsAggregation:Ye.isLinkedAsAggregation,isTransient:Ye.isTransient,objects:Ye.objects?this.serializeObjects(Ye.objects,I.XW,I.LP,be):void 0,isHiddenInViewMode:Ye.isHiddenInViewMode,isLockedInViewMode:Ye.isLockedInViewMode,filterExpressionMetadata:ze,displayName:Ye.displayName,ordinal:Ye.ordinal})}return JSON.stringify(Ie)}}createVersionedElementConfig(X){return{version:X}}serializeResourcePackages(X,be){if(!_.isEmpty(X))return(0,he.pz)(X,be).map(Ie=>({resourcePackage:Ie}))}getLayoutOptimizations(X){var be=this.getDistinctLayouts(X);return this.getLayoutOptimizationFromLayouts(be)}getLayoutOptimizationFromLayouts(X){var be=0;for(var Ie of X)1===Ie.id&&(be|=1);return be}getDistinctLayouts(X){var be=X.sections,Ie=(0,m.UR)();for(var Ye of be)for(var ze of Ye.visualContainers)for(var ee of ze.layouts)Ie.withId(ee.id)||Ie.push(ee);return Ie}serializePodParameters(X){if(!_.isEmpty(X)){var be=[];for(var Ie of X)be.push({name:Ie.name,boundFilter:Ie.boundFilter,fieldExpr:Ie.fieldExpr?y.ib.serializeExpr(Ie.fieldExpr):void 0,asAggregation:Ie.asAggregation?Ie.asAggregation:void 0,isLegacySingleSelection:Ie.isLegacySingleSelection?Ie.isLegacySingleSelection:void 0});return be}}serializePodConfig(X){return _.isEmpty(X)||0===X.acceptsFilterContext?"{}":JSON.stringify(X)}serializeRelationships(X){if(!_.isEmpty(X)){var be;for(var Ie of X){var Ye=this.serializeRelationship(Ie);Ye&&(be||(be=[])).push(Ye)}return be}}removeInvalidPods(X,be,Ie){var Ye=_.map(X,He=>He.name),ze=_.remove(be,He=>!_.includes(Ye,He.boundSection)),ee=_.size(ze);if(ee>0&&Ie.logEvent(R.Jw,{errorType:"NonExistingBoundSection",count:ee}),!(_.size(be)<=_.size(X))){var ve=_.groupBy(be,He=>He.boundSection),Te=0;_.forEach(ve,He=>{var qe=He.length;if(qe>1){Te++;for(var rt=He[0].boundSection,me=_.findLastIndex(be,fe=>fe.boundSection===rt),Ee=qe-1;Ee>0&&me>=0;)be.splice(me,1),Ee--,me=_.findLastIndex(be,fe=>fe.boundSection===rt,me-1)}}),Te>0&&Ie.logEvent(R.Jw,{errorType:"DuplicateBoundSection",count:Te});var Xe=_.size(be)-_.size(X);Xe>0&&(b.fF.assertFail("Expect the number of pods <= the number of sections after removing pods with NonExistingBoundSection and DuplicateBoundSection"),be=be.slice(0,_.size(X)),Ie.logEvent(R.Jw,{errorType:"ExceedingPodsNumberAfterInitialFix",count:Xe}))}}supportsScalarMarkers(X){return _.some([Ge.D.lineChart,Ge.D.areaChart,Ge.D.stackedAreaChart,Ge.D.hundredPercentStackedAreaChart],Ie=>Ie===X.visualType)}upgradeIfScalarMarkersAreSet(X){var be=(0,D.NA)(X,{objectName:"categoryAxis",propertyName:"axisType"},null);if(be&&"Scalar"===M.jz.getTextValue(be)){var Ie=(0,D.NA)(X,{objectName:"lineStyles",propertyName:"showMarker"},null);Ie&&M.jz.getBooleanValue(Ie)&&(this.version=(0,h.Fp)(this.version,le.Cc1))}}serializePageDynamicConfig(X){var be;if(X.quickExplore){var Ye=X.quickExplore.visualContainerConfigurations,ze=X.quickExplore.layout;be||(be={}),be.quickExplore={selectedFields:_.map(X.quickExplore.selectedFields,ee=>y.ib.serializeExpr(ee)),visualContainerConfigurations:_.map(Ye,ee=>({name:ee.name,fields:_.map(ee.fields,ve=>y.ib.serializeExpr(ve))}))},ze&&(be.quickExplore.layout=this.serializeQuickExploreLayout(ze),this.version=(0,h.Fp)(this.version,le.KQG))}return be}serializeQuickExploreLayout(X){if(X.combination){var be={version:X.combination.version};return X.combination.dataTableName&&(be.dataTableName=X.combination.dataTableName),{combination:be}}if(X.related){var Ie={version:X.related.version};return X.related.dataTableName&&(Ie.dataTableName=X.related.dataTableName),{related:Ie}}}}function ct(Le){null!=Le.x&&null!=Le.y&&null!=Le.width&&null!=Le.height||(g.f.error("deserializeVisualContainer found null in layout position: "+JSON.stringify({x:Le.x,y:Le.y,width:Le.width,height:Le.height})),null==Le.x&&(Le.x=0),null==Le.y&&(Le.y=0),null==Le.width&&(Le.width=0),null==Le.height&&(Le.height=0))}},238112:function(Ce,k,r){r.d(k,{U6:function(){return o},a5:function(){return i},pz:function(){return d},sQ:function(){return c}});var a=r(67688),e=r(871344),u=r(939123),t=r(147771),C=r(616113),y=r(171520);function i(n,s,p,l,m){u.fF.assertValue(n,"webBookmark");var b=(0,t.v)(n,p,l);if(b.errors&&!s)for(var V of b.errors)m.logEvent(a.TH,{type:"WebBookmark",errorCode:V.code,stack:V.stack,message:V.message});return b.contract}function o(n,s,p,l,m){if(!(0,C.g)(n)){var b=(0,y.K)(n);if(b)try{return s.deserialize(b,p,l)}catch(V){return V&&m.logEvent(a.rj,{stack:V.stack,message:V.message}),{explorationState:null}}}}function c(n){u.fF.assertValue(n,"resourcePackageWireContracts");var s=[];for(var p of n)h(p),s.push(p);for(var l=0;l<s.length;++l)if(s[l])for(var m=s.length;--m>l;)s[m]&&s[l].name===s[m].name&&(s[m].id>s[l].id&&(s[l]=s[m]),s.splice(m,1));return s}function h(n){void 0===n.type&&(n.type=0)}function d(n,s){if(!_.isEmpty(n)){var p=[],l=function(){var b=_.find(m.items,f=>f.type===e.Ut.CustomVisualMetadata);if(b&&void 0!==b.content){var V=_.isString(b.content)?(0,y.K)(b.content):b.content;V&&(V.content=void 0,b.content=JSON.stringify(V))}var g=m.items;if(g){var v=["contentBlob","contentBlobUrl","promise"];s&&s.excludeResourceItemContent&&v.push("content"),g=_.map(g,f=>_.omit(f,v))}p.push({id:m.id,name:m.name,type:m.type,items:g,disabled:!!m.disabled})};for(var m of n)l();return p}}},878510:function(Ce,k,r){r.d(k,{oJ:function(){return P},Ay:function(){return D},vB:function(){return M},qC:function(){return R},jp:function(){return j}});var a=r(792375),e=r(888426),u=r(826645),t=r(233427),C=r(743395),y=r(534721),i=r(722709),o=r(939123),c=r(571627),h=r(990121),d=r(221435),n=r(76002),s=r(341016);class l{constructor(J){var Z=(0,s.F)(J).downgraders;this.objectsDowngrader=(0,n.x)(Z)}getFinalExplorationVersion(J,Z){var Q=J&&J.sections;if(Q){for(var ne of Object.keys(Q)){var le=Q[ne];for(var he of Object.keys(le.visualContainers)){var Se=le.visualContainers[he],Ke=Se.singleVisual;if(Ke){var Ge=Ke.visualType,ye=Se.singleVisual?.mobileVcObjects;ye&&(Z=(0,y.Fp)(Z,this.objectsDowngrader.getFinalVisualObjectsVersion(2,ye,Z,Ge)));var we=Se.singleVisual?.mobileObjects;we&&(Z=(0,y.Fp)(Z,this.objectsDowngrader.getFinalVisualObjectsVersion(1,we,Z,Ge)))}}}return Z}}downgrade(J,Z){var Q=J&&J.sections;if(Q)for(var ne of Object.keys(Q)){var le=Q[ne];for(var he of Object.keys(le.visualContainers)){var Ke=le.visualContainers[he].singleVisual;if(Ke){var Ge=Ke.visualType,ye=Ke.mobileVcObjects;ye&&this.objectsDowngrader.downgrade(2,ye,Ge,Z);var we=Ke.mobileObjects;we&&this.objectsDowngrader.downgrade(1,we,Ge,Z)}}}}}var m=r(334467),b=r(989651),V=r(46956);class v{constructor(J){this.objectsUpgrader=(0,b.U)((0,V.$)(J).getVersionUpgraders())}upgrade(J,Z){var Q=J&&J.sections;if(Q){for(var ne of Object.keys(Q)){var le=Q[ne];for(var he of Object.keys(le.visualContainers)){var Ke=le.visualContainers[he].singleVisual;if(Ke){var Ge=Ke.visualType,ye=Ke.mobileVcObjects;ye&&this.objectsUpgrader.upgrade(2,ye,Ge,Z);var we=Ke.mobileObjects;we&&this.objectsUpgrader.upgrade(1,we,Ge,Z)}}}return J}}}var f=r(280779),S=r(886137);function P(G,J){var Z={};for(var Q of J.sections)for(var ne of Q.visualContainers)Z[ne.name]=!0;for(var le in G.sections){var he=G.sections[le];for(var Se in he.visualContainers)Z[Se]||delete he.visualContainers[Se]}}function D(G,J,Z){return B(j(G,null,Z,J),J)}function M(G,J,Z,Q){if(o.fF.assertValue(G,"input"),Q?.runUpgraders){var ne=(0,S.KQq)(G.version),le=function(G){return new v(G)}(Z);G=le.upgrade(G,ne)}var he={activeSection:G.activeSection,filters:E(G.filters),sections:_.mapValues(G.sections,Se=>function(G,J){return o.fF.assertValue(G,"input"),{filters:E(G.filters),visualContainers:_.mapValues(G.visualContainers,Z=>function(G,J){o.fF.assertValue(G,"input");var Z=B(G.singleVisual,J);return{filters:E(G.filters),singleVisual:Z,visibility:G.singleVisual?T(G.singleVisual.display):void 0,highlight:G.highlight?A(G.highlight):void 0}}(Z,J)),visualContainerGroups:G.visualContainerGroups&&_.mapValues(G.visualContainerGroups,L)}}(Se,J))};return G.objects&&(he.objects=O(G.objects,()=>c.W)),G.dataSourceVariables&&(he.dataSourceVariables=G.dataSourceVariables),he}function E(G){if(o.fF.assertAnyValue(G,"input"),G){var J={};return G.byName&&(J.nameIdentifiedMerges=_.mapValues(G.byName,w)),G.byExpr&&(J.exprIdentifiedMerges=_.map(G.byExpr,w)),G.byType&&(J.typeIdentifiedMerges=_.map(G.byType,w)),G.byTransientState&&(J.transientFilters=_.map(G.byTransientState,w)),J}}function w(G){return o.fF.assertValue(G,"input"),{name:G.name,type:h.vA[G.type],filter:G.filter?C.ib.deserializeFilter(G.filter):void 0,expression:G.expression?C.ib.deserializeExpr(G.expression):void 0,restatement:G.restatement,howCreated:G.howCreated,precedence:G.precedence,isTransient:G.isTransient,cachedValueItems:(0,e.kE)(G.cachedDisplayNames),filterExpressionMetadata:G.filterExpressionMetadata?(0,t.hE)(G.filterExpressionMetadata):void 0}}function L(G){return o.fF.assertValue(G,"input"),{isHidden:G.isHidden,children:G.children&&_.mapValues(G.children,J=>L(J))}}function B(G,J){if(o.fF.assertAnyValue(G,"input"),G){var Z={visualType:G.visualType};if(null!=G.isDrillDisabled&&(Z.isDrillDisabled=G.isDrillDisabled),null!=G.autoSelectVisualType&&(Z.autoSelectVisualType=G.autoSelectVisualType),G.objects&&(Z.objects=O(G.objects,()=>G.visualType&&J.capabilities(G.visualType)?.objects)),G.orderBy&&(Z.orderBy=C.ib.deserializeSortDefinitions(G.orderBy,null)),G.targetType&&(Z.targetType=G.targetType),null!=G.targetAutoSelectVisualType&&(Z.targetAutoSelectVisualType=G.targetAutoSelectVisualType),G.activeProjections&&(Z.activeProjections=I(G.activeProjections)),_.isEmpty(G.parameters)||(Z.parameters=function(G){var J;for(var Z in G){var Q=G[Z];_.isEmpty(Q)||(J||(J={}),J[Z]=_.map(Q,ne=>({expr:C.ib.deserializeExpr(ne.expr),index:ne.index,length:ne.length})))}return J}(G.parameters)),G.projections&&(Z.projections=I(G.projections)),G.display&&"hidden"===G.display.mode&&(Z.hidden=!0),G.cachedFilterDisplayItems&&(Z.cachedFilterDisplayItems=(0,e.kE)(G.cachedFilterDisplayItems)),G.filterExpressionMetadata&&(Z.filterExpressionMetadata=(0,t.hE)(G.filterExpressionMetadata)),G.expansionStates){var Q=J.capabilities(G.visualType);Z.expansionStates=(0,u.bX)(G.expansionStates,{supportsMerge:Q&&Q.expandCollapse&&Q.expandCollapse.supportsMerge,canCollapseRoot:Q&&Q.noDefaultProjections,collapseParentAfterRemovingChildLevel:Q&&Q.expandCollapse&&Q.expandCollapse.collapseParentAfterRemovingChildLevel})}if(G.mobileVcObjects&&(Z.mobileVcObjects=(0,a.wN)(G.mobileVcObjects,d.XW)),G.mobileObjects){var Se=J.capabilities(G.visualType);Z.mobileObjects=(0,a.wN)(G.mobileObjects,Se&&Se.objects)}return Z}}function I(G){var J;for(var Z in G){var Q=G[Z];_.isEmpty(Q)||(J||(J={}),J[Z]=_.map(Q,ne=>null===ne?null:C.ib.deserializeExpr(ne)))}return J}function O(G,J){o.fF.assertValue(G,"input");var Z={};return G.merge&&(0,a.kO)(G.merge,J,Z,"merge"),G.remove&&(Z.remove=_.map(G.remove,F)),Z}function F(G){return o.fF.assertValue(G,"input"),{object:G.object,property:G.property,selector:(0,a.L1)(G.selector)}}function A(G){return o.fF.assertValue(G,"input"),{selection:(0,a.OT)(G.selection),filterExpressionMetadata:G.filterExpressionMetadata?(0,t.hE)(G.filterExpressionMetadata):void 0}}function T(G){if(o.fF.assertAnyValue(G,"display"),G&&G.mode)switch(G.mode){case"maximize":switch(G.maximizedOptions&&G.maximizedOptions.dataTable){case"accessible":return 8;case"normal":return 2;default:return 1}case"spotlight":return 4}}function R(G,J,Z,Q,ne){o.fF.assertValue(G,"input");var le=new H(J),he={version:void 0,activeSection:G.activeSection,filters:le.serializeFilters(G.filters),sections:_.mapValues(G.sections,Ge=>le.serializeSection(Ge,Z))};if(G.objects&&(he.objects=le.serializeObjects(G.objects,c.W),le.version=(0,y.Fp)(le.version,f.Aq)),G.dataSourceVariables&&(he.dataSourceVariables=G.dataSourceVariables,le.version=(0,y.Fp)(le.version,f.Zl)),Q?.runDowngraders&&le.version!==m.w){var Se=function(G){return new l(G)}(ne),Ke=(0,S.KQq)(le.version);Ke=Se.getFinalExplorationVersion(G,Ke),Se.downgrade(he,Ke),he.version=(0,S.eGA)(Ke),o.fF.assertValue(he.version,"exploration state version should exist")}return he.version=he.version||le.version,he}function j(G,J,Z,Q){return new H(Z).serializeSingleVisual(G,J,Q)}class H{constructor(J){this.featureSwitchService=J,this.version=f.Zh}serializeFilters(J){if(o.fF.assertAnyValue(J,"input"),J){var Z={};return J.nameIdentifiedMerges&&(Z.byName=_.mapValues(J.nameIdentifiedMerges,Q=>this.serializeFilterContainer(Q))),J.exprIdentifiedMerges&&(Z.byExpr=_.map(J.exprIdentifiedMerges,Q=>this.serializeFilterContainer(Q))),J.typeIdentifiedMerges&&(Z.byType=_.map(J.typeIdentifiedMerges,Q=>this.serializeFilterContainer(Q))),J.transientFilters&&(Z.byTransientState=_.map(J.transientFilters,Q=>this.serializeFilterContainer(Q))),Z}}serializeFilterContainer(J){o.fF.assertValue(J,"input");var Z=J.filterExpressionMetadata?(0,t.Qe)(J.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;return{name:J.name,type:null!=J.type?h.vA[J.type]:void 0,filter:J.filter?C.ib.serializeFilter(J.filter):void 0,expression:J.expression?C.ib.serializeExpr(J.expression):void 0,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedDisplayNames:(0,e.vX)(J.cachedValueItems),filterExpressionMetadata:Z}}serializeSection(J,Z){return o.fF.assertValue(J,"input"),_.chain(J.visualContainers).values().sumBy(Q=>null==Q.highlight?0:1).value()>1&&(this.version=(0,y.Fp)(this.version,f.aN)),{filters:this.serializeFilters(J.filters),visualContainers:_.mapValues(J.visualContainers,Q=>this.serializeVisualContainer(Q,Z)),visualContainerGroups:J.visualContainerGroups&&_.mapValues(J.visualContainerGroups,Q=>this.serializeVisualContainerGroup(Q))}}serializeVisualContainer(J,Z){return o.fF.assertValue(J,"input"),J.highlight&&(this.version=(0,y.Fp)(this.version,f.U1)),{filters:this.serializeFilters(J.filters),singleVisual:this.serializeSingleVisual(J.singleVisual,J.visibility,Z),highlight:J.highlight?this.serializeHighlightState(J.highlight):void 0}}serializeVisualContainerGroup(J){return o.fF.assertValue(J,"input"),{isHidden:J.isHidden,children:J.children&&_.mapValues(J.children,Z=>this.serializeVisualContainerGroup(Z))}}serializeSingleVisual(J,Z,Q){if(o.fF.assertAnyValue(J,"input"),J){var ne={visualType:J.visualType};if(J.isDrillDisabled&&(ne.isDrillDisabled=J.isDrillDisabled,this.version=(0,y.Fp)(this.version,f.hC)),null!=J.autoSelectVisualType&&(ne.autoSelectVisualType=J.autoSelectVisualType,this.version=(0,y.Fp)(this.version,f.C7)),J.objects&&(ne.objects=this.serializeObjects(J.objects,Q?.capabilities(J.visualType)?.objects)),J.orderBy&&(ne.orderBy=C.ib.serializeSortDefinitions(J.orderBy,!0)),J.activeProjections&&(ne.activeProjections=this.serializeActiveProjections(J.activeProjections)),J.targetType&&(ne.targetType=J.targetType,this.version=(0,y.Fp)(this.version,f.uZ)),null!=J.targetAutoSelectVisualType&&(ne.targetAutoSelectVisualType=J.targetAutoSelectVisualType,this.version=(0,y.Fp)(this.version,f.C7)),J.projections&&(ne.projections=this.serializeActiveProjections(J.projections),this.version=(0,y.Fp)(this.version,f.uZ)),_.isEmpty(J.parameters)||(ne.parameters=this.serializeParameters(J.parameters),this.version=(0,y.Fp)(this.version,f.rb)),J.cachedFilterDisplayItems&&(ne.cachedFilterDisplayItems=(0,e.vX)(J.cachedFilterDisplayItems)),J.filterExpressionMetadata&&(ne.filterExpressionMetadata=(0,t.Qe)(J.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,y.Fp)(this.version,f.XX)),J.mobileVcObjects&&(ne.mobileVcObjects=this.serializeMobileObjects(J.mobileVcObjects,d.XW,J.visualType)),J.mobileObjects&&Q){var le=Q.capabilities(J.visualType);ne.mobileObjects=this.serializeMobileObjects(J.mobileObjects,le&&le.objects,J.visualType)}return _.isEmpty(J.expansionStates)||(ne.expansionStates=(0,u.hI)(J.expansionStates)),o.fF.assert(()=>!(J.hidden&&Z),"cannot mix hidden & visibility states"),J.hidden?ne.display={mode:"hidden"}:Z&&(ne.display=function(G){switch(o.fF.assertAnyValue(G,"mode"),G){case 1:return{mode:"maximize"};case 2:return{mode:"maximize",maximizedOptions:{dataTable:"normal"}};case 8:return{mode:"maximize",maximizedOptions:{dataTable:"accessible"}};case 4:return{mode:"spotlight"}}}(Z)),ne}}serializeMobileObjects(J,Z,Q){this.version=(0,y.Fp)(this.version,f.DA);var ne=(0,a.xF)(J,Z,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0);if(this.version===m.w)return ne;var le=(0,S.KQq)(this.version);le=(0,S.P_5)(J,Z,Q,le,(0,i.bv)());var he=(0,S.eGA)(le);return this.version=(0,y.Fp)(this.version,he),ne}serializeActiveProjections(J){var Z;for(var Q in J){var ne=J[Q];_.isEmpty(ne)||(Z||(Z={}),Z[Q]=_.map(ne,le=>null===le?null:C.ib.serializeExpr(le)))}return Z}serializeParameters(J){var Z;for(var Q in J){var ne=J[Q];_.isEmpty(ne)||(Z||(Z={}),Z[Q]=_.map(ne,le=>({expr:C.ib.serializeExpr(le.expr),index:le.index,length:le.length})))}return Z}serializeObjects(J,Z){o.fF.assertValue(J,"input");var Q={};return J.merge&&(Q.merge=(0,a.xF)(J.merge,Z,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0)),J.remove&&(Q.remove=_.map(J.remove,ne=>this.serializeObjectPropSelector(ne))),Q}serializeObjectPropSelector(J){return o.fF.assertValue(J,"input"),{object:J.object,property:J.property,selector:(0,a.UZ)(J.selector)||null}}serializeHighlightState(J){return o.fF.assertValue(J,"input"),J.filterExpressionMetadata&&(this.version=(0,y.Fp)(this.version,f.Aq)),{selection:(0,a.Vg)(J.selection,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),filterExpressionMetadata:J.filterExpressionMetadata?(0,t.Qe)(J.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0}}}},280779:function(Ce,k,r){r.d(k,{$K:function(){return D},$j:function(){return S},AS:function(){return B},Aq:function(){return t},C7:function(){return A},DA:function(){return O},DG:function(){return x},EZ:function(){return R},I8:function(){return b},LL:function(){return d},M5:function(){return s},Ny:function(){return n},RT:function(){return l},Sx:function(){return z},U1:function(){return e},Vb:function(){return P},X2:function(){return f},XS:function(){return v},XX:function(){return y},Zh:function(){return a},Zl:function(){return C},_b:function(){return M},aB:function(){return N},aN:function(){return u},cv:function(){return j},eA:function(){return g},gd:function(){return W},hC:function(){return T},lM:function(){return I},nx:function(){return V},rb:function(){return F},sZ:function(){return w},uZ:function(){return i},ud:function(){return E},ur:function(){return m},vH:function(){return L},wh:function(){return h},xm:function(){return c},z3:function(){return U},zW:function(){return p}});var a="1.0",e="1.1",u="1.2",t="1.3",C="1.4",y="1.5",i="1.6",c="1.8",h="1.9",d="1.10",n="1.11",s="1.12",p="1.13",l="1.14",m="1.15",b="1.16",V="1.17",g="1.18",v="1.19",f="1.20",S="1.21",P="1.22",D="1.23",M="1.24",E="1.25",w="1.26",x="1.27",N="1.28",L="1.29",B="1.30",I="1.31",W="1.32",O=c,F=n,A=m,T=w,R="1.33",U="1.34",z="1.35",j="1.36"},46956:function(Ce,k,r){r.d(k,{$:function(){return dt}});var a=r(171520),e=r(534721),u=r(939123),t=r(989651),C=r(691519),y=r(792375),i=r(743395),o=r(539781),c=r(422919),h=r(345969),d=r(992840),n=r(528836),s=r(886137),p=r(688574);class m{upgrade(ie,We){if(u.fF.assertValue(ie,"exploration"),ie&&(ie.filters=this.upgradeFilterContainers(ie.filters),ie.sections))for(var Oe of ie.sections)if(Oe.filters=this.upgradeFilterContainers(Oe.filters),Oe.visualContainers)for(var lt of Oe.visualContainers){lt.filters=this.upgradeFilterContainers(lt.filters);var gt=lt.config.singleVisual;gt&&(gt.objects=this.upgradeObjects(gt.objects,gt.visualType||gt.visualConfig.visualType,We))}}upgradeVisualObjects(ie,We,Oe,lt){}upgradeFilterCollection(ie){u.fF.assertValue(ie,"filterCollection"),ie&&ie.filters&&(ie.filters=this.upgradeFilterContainers(ie.filters))}getVersion(){return s.H3n.v1_0}upgradeFilterContainers(ie){if(!_.isEmpty(ie)){var We=(0,a.K)(ie);if(We)for(var Oe of We)this.upgradeFilterContainer(Oe);return JSON.stringify(We)}}upgradeFilterContainer(ie){if(!ie.expression&&ie.field){var We=function(ot){var ie=ot.aggregate;if(void 0!==ie){var We=g(ot)||f(ot);if(We)return(0,n.m_)(We,ie)}}(ot=ie.field)||g(ot)||function(ot){var ie=ot.measure;if(ie){var We=f(ot);if(We)return(0,n.mv)(We,ie)}}(ot)||f(ot);We&&(ie.expression=i.ib.serializeExpr(We))}var ot;void 0===ie.howCreated&&(ie.howCreated=ie.autoGenerated?0:1)}upgradeObjects(ie,We,Oe){switch(u.fF.assertAnyValue(ie,"allObjectDefns"),this.dropMalformedSelectors(ie),We){case p.D.filledMap:return this.upgradeObjectsFilledMap(ie);case p.D.card:return this.upgradeObjectsCard(ie);case p.D.donutChart:case p.D.pieChart:return Oe&&(0,e.gt)(Oe,"1.0")?ie:this.upgradeObjectsDonutChart(ie)}return ie}dropMalformedSelectors(ie){if(u.fF.assertAnyValue(ie,"allObjectDefns"),ie)for(var We in ie){var Oe=ie[We];if(Oe)for(var lt=Oe.length-1;lt>=0;lt--){var _t=Oe[lt].selector;_t&&(_t.metadata||delete _t.metadata,_.isEmpty(Object.keys(_t))&&Oe.splice(lt,1))}}}upgradeObjectsFilledMap(ie){u.fF.assertAnyValue(ie,"allObjectDefns");var We="dataPoint",Oe="fillRule";ie||(ie={});var gt,lt=ie[We];for(var _t of(lt||(ie[We]=lt=[]),lt))if(!_t.selector){gt=_t;break}return gt||lt.push(gt={selector:null,properties:{}}),u.fF.assertValue(gt,"targetObjectDefn"),null==gt.properties[Oe]&&(gt.properties[Oe]=(0,y.W7)((0,h.yw)(),(0,c.XN)().objects[We].properties[Oe])),ie}upgradeObjectsCard(ie){u.fF.assertAnyValue(ie,"allObjectDefns");var We="cardTitle";if(ie){var lt=ie[We];lt&&(ie.categoryLabels=lt,delete ie[We])}return ie}upgradeObjectsDonutChart(ie){u.fF.assertAnyValue(ie,"allObjectDefns");var We="categoryLabels",Oe="labels",lt="labelStyle",gt="show";if(ie){var Wt,_t=this.getMetadataOnceObjectDefn(ie,Oe),Ft=this.getPropertyExpr(_t,gt),xt=!!Ft&&i.ib.deserializeExpr(Ft).value,tr=this.getMetadataOnceObjectDefn(ie,We);if(tr){var Yt=this.getPropertyExpr(tr,gt),ar=!!Yt&&i.ib.deserializeExpr(Yt).value;xt&&ar?Wt=d.f3:xt&&!ar?Wt=d.aT:!xt&&ar&&(Wt=d.W3),delete ie[We]}else _t&&_t.properties[lt]||(Wt=xt?d.f3:d.W3);if(null!=Wt){var Vr=(0,o.cw)().objects[Oe].properties;if(!_t){var Tr=ie[Oe];Tr||(ie[Oe]=Tr=[]),(_t=_.find(Tr,Br=>!Br.selector))||Tr.push(_t={properties:{}})}_t.properties[gt]=(0,y.W7)((0,n.O7)(!0),Vr[gt]),_t.properties[lt]=(0,y.W7)((0,n.fL)(Wt),Vr[lt])}return ie}}getMetadataOnceObjectDefn(ie,We){if(ie){var Oe=ie[We];if(!_.isEmpty(Oe))return _.find(Oe,lt=>!lt.selector)}}getPropertyExpr(ie,We){if(ie){var Oe=ie.properties[We];if(Oe)return Oe.expr}}}function g(ot){var ie=ot.column;if(ie){var We=f(ot);if(We)return(0,n.Oh)(We,ie)}}function f(ot){return(0,n.nw)(ot.schema,ot.entity,ot.entityVar)}class P{upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&ie.sections)for(var We of ie.sections)if(We.visualContainers)for(var Oe of We.visualContainers){var lt=Oe.config;lt.layouts||(lt.layouts=[{id:0,position:{x:Oe.x,y:Oe.y,z:Oe.z,width:Oe.width,height:Oe.height}}])}}upgradeFilterCollection(ie){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v2_0}}class M{upgrade(ie){}upgradeFilterCollection(ie){u.fF.assertValue(ie,"filterCollection"),ie&&ie.filters&&(ie.filters=this.upgradeFilterContainers(ie.filters))}upgradeFilterContainers(ie){if(!_.isEmpty(ie)){var We=(0,a.K)(ie);if(We)for(var Oe of We)this.upgradeFilterContainer(Oe);return JSON.stringify(We)}}upgradeFilterContainer(ie){2===ie.howCreated&&!ie.precedence&&(ie.precedence=0)}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v2_2}}var E=r(900222),w=r(279176),x=r(969143);class L{upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&ie.sections)for(var We of ie.sections)if(We.visualContainers)for(var Oe of We.visualContainers){var lt=Oe.config.singleVisual;lt&&(lt.objects=this.upgradeObjects(lt.objects,lt.visualType||lt.visualConfig.visualType))}}upgradeFilterCollection(ie){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v2_3}upgradeObjects(ie,We){return u.fF.assertAnyValue(ie,"allObjectDefns"),We===p.D.slicer?this.upgradeSlicerObjects(ie):ie}upgradeSlicerObjects(ie){u.fF.assertAnyValue(ie,"allObjectDefns");var Oe="mode";ie||(ie={});var lt=(0,x.zx)(ie,"data",null),gt=(0,E.st)().objects.data.properties;return null==lt.properties[Oe]&&(lt.properties[Oe]=(0,y.W7)((0,n.fL)(w.RB),gt[Oe])),ie}}class I{upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&ie.sections)for(var We of ie.sections)if(We.visualContainers)for(var Oe of We.visualContainers){var lt=Oe.config.singleVisual;lt&&(lt.objects=this.upgradeObjects(lt.objects,lt.visualType||lt.visualConfig.visualType))}}upgradeFilterCollection(ie){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v2_5}upgradeObjects(ie,We){return u.fF.assertAnyValue(ie,"allObjectDefns"),We===p.D.gauge?this.upgradeGaugeTarget(ie):ie}upgradeGaugeTarget(ie){u.fF.assertAnyValue(ie,"allObjectDefns"),ie||(ie={});var gt=(0,x.my)(ie,"labels",null);if(!gt)return ie;var _t=(0,x.zx)(ie,"target",null);for(var Ft of["show","labelDisplayUnits","labelPrecision","color"])null!=gt.properties[Ft]&&(_t.properties[Ft]=gt.properties[Ft]);return ie}}class O{upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&ie.sections)for(var We of ie.sections)if(We.visualContainers)for(var Oe of We.visualContainers){var lt=Oe.config.singleVisual;lt&&(lt.objects=this.upgradeObjects(lt.objects,lt.visualType||lt.visualConfig.visualType))}}upgradeFilterCollection(ie){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v3_12_1}upgradeObjects(ie,We){return u.fF.assertAnyValue(ie,"allObjectDefns"),We===p.D.slicer?this.upgradeSlicerObjects(ie):ie}upgradeSlicerObjects(ie){u.fF.assertAnyValue(ie,"allObjectDefns"),ie||(ie={});var lt=(0,x.my)(ie,"general",null),gt=lt&&lt.properties.filter,_t=gt&&gt.filter;if(_t&&this.isAndFilter(_t)){var xt=(0,x.my)(ie,"data",null);if(xt){var Wt=xt.properties.startDate,tr=xt.properties.endDate,Yt=xt.properties.numericStart,ar=xt.properties.numericEnd;(Wt&&!tr||Yt&&!ar)&&this.BetweenToBeforeOrAfterFilter(_t,1),(tr&&!Wt||ar&&!Yt)&&this.BetweenToBeforeOrAfterFilter(_t,0)}}return ie}isAndFilter(ie){if(1===ie.Where.length){var We=ie.Where[0].Condition;if(We&&We.And)return!0}return!1}BetweenToBeforeOrAfterFilter(ie,We){var Oe=ie.Where[0].Condition;return u.fF.assertValue(Oe,"Filter condition cannot be null or undefined."),ie.Where[0].Condition=0===We?Oe.And.Right:Oe.And.Left,ie}}class A{upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&ie.sections)for(var We of ie.sections)if(We.visualContainers)for(var Oe of We.visualContainers){var lt=Oe.config.singleVisual;lt&&this.upgradeSQExprToInt(lt.objects)}}upgradeFilterCollection(){}getVersion(){return s.H3n.v3_14_1}upgradeVisualObjects(ie,We,Oe,lt){}upgradeSQExprToInt(ie){for(var We in u.fF.assertAnyValue(ie,""),ie)if("labels"===We||"bubbles"===We||"categoryLabels"===We)for(var Oe of ie[We])for(var lt in Oe.properties)if("bubbleSize"===lt||"labelDensity"===lt||"backgroundTransparency"===lt){var gt=Oe.properties[lt],_t=gt&&gt.expr&&gt.expr.Literal;_t&&(u.fF.assertValue(_t.Value,"Literal value should exist"),/^'\d+(\.\d+)?'$/.test(_t.Value)&&(_t.Value=this.convertLiteralSQTextIntoNumber(_t.Value)+"L"))}}convertLiteralSQTextIntoNumber(ie){return Math.floor(_.parseInt(ie.substr(1,ie.length-2)))}}class R{constructor(ie){}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&ie.sections)for(var We of ie.sections){var Oe=We.config,lt=(0,a.K)(We.filters)||[];1===Oe.type?this.upgradeTooltipPage(lt,Oe):(0===Oe.type||null==Oe.type)&&this.upgradeRegularPage(lt,Oe),We.filters=JSON.stringify(lt)}}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v3_14}upgradeTooltipPageLinkFields(ie,We){var Oe=_.map(We.linkFields,lt=>({howCreated:5,isTransient:!1,isLinkedAsAggregation:lt.asAggregation,expression:lt.fieldExpr}));ie.push(...Oe||[]),We.linkFields=[]}upgradeTooltipPage(ie,We){We.acceptsAllFiltersWhenLinked=!0,this.upgradeTooltipPageLinkFields(ie,We)}upgradeRegularPage(ie,We){if(We.acceptsAllFiltersWhenLinked=!1,ie)for(var Oe of ie)Oe.isLinkedAsAggregation=!1}}class z{constructor(){}upgrade(ie){var We=this;if(u.fF.assertValue(ie,"exploration"),ie&&ie.sections)for(var Oe of ie.sections)if(Oe.visualContainers){var lt=function(){var _t=gt.config.singleVisual;if(_t){u.fF.assert(()=>void 0===_t.vcObjects,"VC Object can't exist if you are in this version");var Ft={};if(_t.altText&&(Ft.general=[{properties:{altText:We.toExpr((0,n.fL)(_t.altText))}}],delete _t.altText),_t.aspectRatio){var xt=_t.aspectRatio;Ft.lockAspect=[{properties:{show:null!=xt.show?We.toExpr((0,n.O7)(xt.show)):void 0}}],delete _t.aspectRatio}if(_t.background){var Wt=_t.background;Ft.background=[{properties:{color:null!=Wt.color?{solid:{color:We.toExpr((0,n.fL)(Wt.color))}}:void 0,show:null!=Wt.show?We.toExpr((0,n.O7)(Wt.show)):void 0,transparency:null!=Wt.transparency?We.toExpr((0,n.cA)(Wt.transparency)):void 0}}],delete _t.background}if(_t.border){var tr=_t.border;Ft.border=[{properties:{color:null!=tr.color?{solid:{color:We.toExpr((0,n.fL)(tr.color))}}:void 0,show:null!=tr.show?We.toExpr((0,n.O7)(tr.show)):void 0}}],delete _t.border}if(_t.stylePresetName&&(Ft.stylePreset=[{properties:{name:We.toExpr((0,n.fL)(_t.stylePresetName))}}],delete _t.stylePresetName),_t.title){var Yt=_t.title;Yt.show=null!=Yt.hidden?!Yt.hidden:Yt.show,Ft.title=[{properties:{alignment:null!=Yt.alignment?We.toExpr((0,n.fL)(Yt.alignment)):void 0,background:null!=Yt.background?{solid:{color:We.toExpr((0,n.fL)(Yt.background))}}:void 0,fontColor:null!=Yt.fontColor?{solid:{color:We.toExpr((0,n.fL)(Yt.fontColor))}}:void 0,fontFamily:null!=Yt.fontFamily?We.toExpr((0,n.fL)(Yt.fontFamily)):void 0,fontSize:null!=Yt.fontSize?We.toExpr((0,n.cA)(Yt.fontSize)):void 0,show:null!=Yt.show?We.toExpr((0,n.O7)(Yt.show)):void 0,text:null!=Yt.text?We.toExpr((0,n.fL)(Yt.text)):void 0}}],delete _t.title}if(_t.visualLink){var ar=_t.visualLink;Ft.visualLink=[{properties:{bookmark:null!=ar.bookmark?We.toExpr((0,n.fL)(ar.bookmark)):void 0,qna:ar.qna,show:null!=ar.show?We.toExpr((0,n.O7)(ar.show)):void 0,type:null!=ar.type?We.toExpr((0,n.fL)(ar.type)):void 0}}],delete _t.visualLink}if(_t.visualTooltip){var sr=_t.visualTooltip;Ft.visualTooltip=[{properties:{section:null!=sr.section?We.toExpr((0,n.fL)(sr.section)):void 0,type:null!=sr.type?We.toExpr((0,n.fL)(sr.type)):void 0}}],delete _t.visualTooltip}We.clearUndefinedPropertiesVCObjects(Ft),_.isEmpty(Ft)||(_t.vcObjects=Ft)}};for(var gt of Oe.visualContainers)lt()}}toExpr(ie){return{expr:i.ib.serializeExpr(ie)}}clearUndefinedPropertiesVCObjects(ie){for(var We in ie){var Oe=ie[We][0].properties;for(var lt in Oe)Oe[lt]||delete Oe[lt];_.isEmpty(Oe)&&delete ie[We]}}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v3_15}}var j=r(544279);class q{constructor(){}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie){var We={},Oe=ie.config;Oe.themeCollection=We,ie.theme&&(We.customTheme=(0,j.Mi)(ie.theme,1,this.getVersion()),delete ie.theme),Oe.baseTheme&&(We.baseTheme=(0,j.Mi)(Oe.baseTheme,2,this.getVersion()),delete Oe.baseTheme)}}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v3_18}}var G=r(147987),J=r(801749),Z=r(722709),Q=r(616113),ne=r(737466);class he{constructor(){this.podNamePrefix="Pod"}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections)){for(var We of ie.sections)this.upgradeSectionAcceptsAllFiltersWhenLinked(We);var Oe=ie.pods||[],lt={};for(var gt of Oe)lt[gt.name]=!0;for(var _t of ie.sections)this.upgradeSection(_t,Oe,lt);_.isEmpty(Oe)||(ie.pods=Oe)}}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v3_24}upgradeSectionAcceptsAllFiltersWhenLinked(ie){ie.config||(ie.config={}),null==ie.config.acceptsAllFiltersWhenLinked&&(1===ie.config.type?ie.config.acceptsAllFiltersWhenLinked=!0:0===ie.config.type||null==ie.config.type?ie.config.acceptsAllFiltersWhenLinked=!1:u.fF.assertFail("v3_24 VersionUpgrader: Unrecognized section type "+ie.config.type))}upgradeSection(ie,We,Oe){if(ie&&ie.name){var lt=(0,a.K)(ie.filters)||[],gt=_.some(lt,Ft=>5===Ft.howCreated),_t=this.findPodForSectionName(We,ie.name);_t?this.upgradeExistingPod(_t,ie.config,gt):gt&&(_t=this.createPod(We,ie.name,ie.config,Oe)),ie.config&&(ie.config.acceptsAllFiltersWhenLinked=void 0),_t&&(this.upgradeFilters(_t,lt),ie.filters=JSON.stringify(lt))}}upgradeFilters(ie,We){var Oe=[];for(var lt of((0,Q.g)(ie.parameters)||(Oe=(0,a.K)(ie.parameters)),We))if(lt.name&&!lt.isTransient){var gt=5===lt.howCreated,_t=this.findParamForFilterName(Oe,lt.name);_t?(_t.fieldExpr=lt.expression,_t.asAggregation=lt.isLinkedAsAggregation,gt||(_t.isLegacySingleSelection=!0)):gt&&Oe.push({name:"Param_"+lt.name,boundFilter:lt.name,fieldExpr:lt.expression,asAggregation:lt.isLinkedAsAggregation}),lt.isLinkedAsAggregation=void 0}ie.parameters=JSON.stringify(Oe)}upgradeExistingPod(ie,We,Oe){ie.config=this.createPodConfig(We),ie.referenceScope=0,ie.type=Oe?this.determineType(We):0}findParamForFilterName(ie,We){if(u.fF.assertValue(We,"filterName"),!_.isEmpty(ie))return _.find(ie,Oe=>Oe.boundFilter===We)}findPodForSectionName(ie,We){if(u.fF.assertValue(We,"sectionName"),!_.isEmpty(ie))return _.find(ie,Oe=>Oe.boundSection===We)}createPod(ie,We,Oe,lt){u.fF.assertValue(ie,"pods"),u.fF.assertValue(We,"sectionName");var gt={name:(0,ne.zE)(lt,this.podNamePrefix),boundSection:We,type:this.determineType(Oe),referenceScope:0,config:this.createPodConfig(Oe)};return ie.push(gt),lt[gt.name]=!0,u.fF.assert(()=>(0,Z.iv)(ie),"pod names must be unique"),gt}createPodConfig(ie){return JSON.stringify({acceptsFilterContext:!ie||ie.acceptsAllFiltersWhenLinked?0:1})}determineType(ie){return ie&&0!==ie.type&&void 0!==ie.type?ie&&1===ie.type?2:void 0:1}}var Se=r(107057),Ke=r(871344),Ge=r(527799);class we{upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie){var We=ie.resourcePackages||[],Oe=_.find(We,tr=>2===tr.resourcePackage.type),lt=!Oe,gt=(Oe=Oe||{resourcePackage:{id:void 0,items:[],name:(0,Ge.RJ)(2),type:2}}).resourcePackage.items;if(ie.sections)for(var _t of ie.sections)if(_t.visualContainers)for(var Ft of _t.visualContainers){var xt=Ft.config.singleVisual;xt&&this.upgradeSharedResourcePackages(xt.objects,gt)}var Wt=ie.config&&ie.config.baseTheme;Wt&&(_.find(gt,tr=>tr.name===Wt)||gt.push({name:Wt,type:Ke.Ut.BaseTheme,path:`BaseThemes/${Wt}.json`})),lt&&Oe.resourcePackage.items.length>0&&(We.push(Oe),ie.resourcePackages||(ie.resourcePackages=We))}}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v3_6_1}upgradeSharedResourcePackages(ie,We){var Oe=this;for(var lt in u.fF.assertAnyValue(ie,""),u.fF.assertValue(We,"items should exist while upgrading shared resources"),ie)for(var gt of ie[lt]){var _t=function(){var xt=gt.properties[Ft],Wt=xt&&xt.geoJson;if(Wt){var tr=Wt.type.expr,Yt=tr.Literal&&tr.Literal.Value;if(Yt&&Oe.removeQuotes(Yt)===Se.c1){var ar=Oe.removeQuotes(Wt.name.expr.Literal.Value);_.find(We,sr=>sr.name===ar)||We.push({name:ar,type:Ke.Ut.ShapeMap,path:`Shapemaps/${ar}.json`})}}};for(var Ft in gt.properties)_t()}}removeQuotes(ie){return ie.substr(1,ie.length-2)}}var je=r(911114);class Pe{constructor(){this.keyDriverObjectName="keyDrivers",this.selectedNumericAnalysisPropertyName="selectedNumericAnalysis"}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections))for(var We of ie.sections)for(var Oe of We.visualContainers){var lt=Oe.config&&Oe.config.singleVisual;lt&&lt.visualType===p.D.keyDriversVisual&&(lt.objects=this.upgradeKeyDriversVisualObjects(lt.objects))}}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v4_1}upgradeKeyDriversVisualObjects(ie){ie||(ie={});var We=ie[this.keyDriverObjectName];if(We||(We=ie[this.keyDriverObjectName]=[{properties:{}}]),u.fF.assert(()=>1===We.length,"only one keyDrivers object should exist"),!We[0].properties[this.selectedNumericAnalysisPropertyName]){var lt={enumeration:je.dt},gt=(0,n.kQ)(je.Pf,lt);We[0].properties[this.selectedNumericAnalysisPropertyName]=(0,y.W7)(gt,{type:lt})}return ie}}var Ve=r(784375);class Ue{constructor(){}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections))for(var We of ie.sections)for(var Oe of We.visualContainers)(0,Ve.jF)(Oe.config&&Oe.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v4_2}}class De{constructor(){}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections))for(var We of ie.sections)_e(We),te(We)}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v5_1}}var ue=[{objectName:"outspacePane",propertyName:"titleSize"},{objectName:"outspacePane",propertyName:"headerSize"}];function _e(ot){if(ot&&ot.config&&ot.config.objects)for(var ie of ue)(0,Ve.pr)(ot.config.objects,ie)}function te(ot){if(ot&&ot.config&&ot.config.objects&&ot.config.objects.filterCard){var ie=ot.config.objects.filterCard;for(var We of ie){var Oe=We&&We.properties;if(Oe){var lt=Oe.textSize;if(lt){var gt=i.ib.deserializeExpr(lt.expr);Oe.textSize=(0,Ve.Mi)((0,Ve.nc)(gt))}}}}}class at{constructor(){}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections))for(var We of ie.sections)for(var Oe of We.visualContainers)(0,Ve.Rd)(Oe.config&&Oe.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v5_3}}function tt(ot){return new ut(ot)}class ut{constructor(ie){}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections))for(var We of ie.sections)for(var Oe of We.visualContainers){var lt=Oe.config&&Oe.config.singleVisual;if(lt&&lt.objects){var gt=lt&&lt.visualType;"pivotTable"!==gt&&"tableEx"!==gt||this.upgradeTablixProperties(lt.objects,gt)}}}upgradeVisualObjects(ie,We,Oe,lt){}upgradeTablixProperties(ie,We){u.fF.assertValue(ie,"objects");var Oe=ie.values;if(Oe)for(var lt of Oe)this.isValidRoleWildcard(lt.selector,We)&&(!lt.properties||!lt.properties.backColor&&!lt.properties.fontColor||(lt.selector.data=[{dataViewWildcard:{matchingOption:1}}]))}isValidRoleWildcard(ie,We){return!(!ie||_.isEmpty(ie.data)||1!==ie.data.length||_.isEmpty(ie.data[0].roles))&&("tableEx"===We&&_.isEqual(ie.data[0].roles,["Values"])||"pivotTable"===We&&_.isEqual(ie.data[0].roles,["Rows","Columns"]))}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_9}}class Ne{constructor(){}upgrade(ie){this.forAllSectionsAllContainers(ie,[p.D.lineChart,p.D.areaChart,p.D.stackedAreaChart],this.upgradeLineChartDotProperties)}forAllSectionsAllContainers(ie,We,Oe){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections))for(var lt of ie.sections){var gt=function(){var xt=Ft.config&&Ft.config.singleVisual;if(!xt||!xt.objects)return 0;var Wt=xt&&xt.visualType;if(_.findIndex(We,tr=>tr===Wt)<0)return 0;Oe(xt.objects,xt.projections)};for(var Ft of lt.visualContainers)gt()}}upgradeLineChartDotProperties(ie,We){u.fF.assertValue(ie,"objects");var Oe=ie.categoryAxis,lt=ie.dataPoint,gt=ie.lineStyles;if(Oe&&0!==Oe.length){var _t,xt=Oe[0].properties;if(xt&&xt.axisType){if(_t=xt.axisType.expr.Literal.Value.replace(/['"]+/g,""),lt&&"Categorical"===_t&&We&&We.Category&&1===We.Category.length&&We.Category[0]){var tr=We.Category[0].queryRef;if(tr)for(var Yt=function(Br){var Lr=lt[Br].properties;if(u.fF.assert(()=>_.keys(Lr).length<=1,"expected data point object to only have one or no properties"),!Lr||!Lr.fill||_.keys(Lr).length>1)return ar=Br,1;var kr=lt[Br].selector;if(kr&&kr.data&&1===kr.data.length&&kr.data[0]){var Ar=kr.data[0];if(Ar.scopeId&&Ar.scopeId.Comparison&&Ar.scopeId.Comparison.Left&&Ar.scopeId.Comparison.Left.Column){var Nr=Ar.scopeId.Comparison.Left.Column,Dr=Nr.Property;if(Dr&&Nr.Expression&&Nr.Expression.SourceRef){var qr=Nr.Expression.SourceRef.Entity;qr&&`${qr}.${Dr}`===tr&&(lt.splice(Br,1),Br--)}}}ar=Br},ar=0;ar<lt.length;ar++)Yt(ar)}if(gt&&gt.length>0&&"Scalar"===_t)for(var sr of gt)if(!sr.selector){var Vr=sr.properties;if(Vr&&Vr.showMarker){var Tr=Vr.showMarker;"true"===Tr.expr.Literal.Value&&(Tr.expr.Literal.Value="false")}}}}}upgradeFilterCollection(){}upgradeVisualObjects(ie,We,Oe,lt){}getVersion(){return s.H3n.v5_11}}var ae=r(233427),Le=r(731859),X=r(305438);function be(ot){return new Ie(ot)}class Ie{constructor(ie){this.featureSwitchService=ie}upgrade(ie){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization&&(u.fF.assertValue(ie,"exploration"),ie&&!(_.isEmpty(ie.config.bookmarks)&&_.isEmpty(ie.filters)&&_.isEmpty(ie.sections))))for(var We of(_.isEmpty(ie.config.bookmarks)||this.upgradeBookmarks(ie.config.bookmarks),ie.filters&&(ie.filters=this.upgradeFilterContainers(ie.filters)),ie.sections))for(var Oe of We.visualContainers){var lt=Oe.config&&Oe.config.singleVisual;lt&&lt.filterExpressionMetadata&&(0,ae.R6)(lt.filterExpressionMetadata)&&(lt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(lt.filterExpressionMetadata)),Oe.filters&&(Oe.filters=this.upgradeFilterContainers(Oe.filters)),!lt||!lt.objects||(lt&&lt.visualType)!==p.D.textbox||this.upgradeFilterContextProperties(lt.objects)}}upgradeFilterContextProperties(ie){for(var We in u.fF.assertValue(ie,"objects"),ie){var Oe=ie[We];for(var lt of Oe)for(var gt in lt.properties){var _t=lt.properties[gt];if((0,y.CA)(_t)){var Ft=_t.context,xt=Ft&&Ft.filterContext;_.isEmpty(xt)||_.forEach(xt,Wt=>{Wt.metadata&&(0,ae.R6)(Wt.metadata)&&(Wt.metadata=this.upgradeFilterExpressionMetadata(Wt.metadata))})}}}}upgradeBookmarks(ie){for(var We of ie)if(void 0!==We.children)this.upgradeBookmarks(We.children);else{this.upgradeSectionState(We.explorationState.sections);var lt=We.explorationState.filters;lt&&this.upgradeFilters(lt)}}upgradeSectionState(ie){_.forEach(ie,We=>{_.forEach(We.visualContainers,Oe=>{var lt=Oe.highlight;lt&&lt.selection&&(0,y.kS)(lt.selection)&&(lt.selection=this.upgradeSelectorsByColumn(lt.selection)),lt&&lt.filterExpressionMetadata&&(0,ae.R6)(lt.filterExpressionMetadata)&&(lt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(lt.filterExpressionMetadata));var gt=Oe.singleVisual;gt.filterExpressionMetadata&&(0,ae.R6)(gt.filterExpressionMetadata)&&(gt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(gt.filterExpressionMetadata))}),We.filters&&this.upgradeFilters(We.filters)})}upgradeFilters(ie){ie.byName&&_.forEach(ie.byName,We=>{We.filterExpressionMetadata&&(0,ae.R6)(We.filterExpressionMetadata)&&(We.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(We.filterExpressionMetadata))}),ie.byExpr&&this.upgradeFilterContainerState(ie.byExpr),ie.byTransientState&&this.upgradeFilterContainerState(ie.byTransientState),ie.byType&&this.upgradeFilterContainerState(ie.byType)}upgradeFilterContainerState(ie){_.forEach(ie,We=>{We.filterExpressionMetadata&&(0,ae.R6)(We.filterExpressionMetadata)&&(We.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(We.filterExpressionMetadata))})}upgradeSelectorsByColumn(ie){var We=_.map(ie,lt=>(0,y.JF)(lt)),Oe=(0,X.od)(We);return(0,y.B6)(Oe)}upgradeFilterExpressionMetadata(ie){var We=(0,ae._q)(ie),Oe=(0,X.s0)(We);return(0,Le.LF)(Oe)}upgradeFilterCollection(ie){u.fF.assertValue(ie,"filterCollection"),ie&&ie.filters&&(ie.filters=this.upgradeFilterContainers(ie.filters))}upgradeVisualObjects(ie,We,Oe,lt){}upgradeFilterContainers(ie){if(!_.isEmpty(ie)){var We=(0,a.K)(ie);if(We)for(var Oe of We)this.upgradeFilterContainer(Oe);return JSON.stringify(We)}}upgradeFilterContainer(ie){ie.filterExpressionMetadata&&(0,ae.R6)(ie.filterExpressionMetadata)&&(ie.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(ie.filterExpressionMetadata))}getVersion(){return s.H3n.v5_16}}var ee=r(200788);function ve(ot){return new Te(ot)}class Te{constructor(ie){this.featureSwitchService=ie}upgrade(ie){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.buttonTileFormatting&&(u.fF.assertValue(ie,"exploration"),ie&&ie.sections))for(var We of ie.sections)for(var Oe of We.visualContainers){var lt=Oe.config&&Oe.config.singleVisual;if(lt&&"actionButton"===lt.visualType&&lt.objects){var gt=lt.objects;if(gt.text)for(var _t of gt.text){var Ft=_t?.properties;if(Ft){var xt=Ft.padding;if(xt){var Wt,tr;Wt=Ft.horizontalAlignment?Xe(Ft.horizontalAlignment):ee.D.right,tr=Ft.verticalAlignment?Xe(Ft.verticalAlignment):"middle","left"===Wt?_t.properties.leftMargin=xt:"right"===Wt&&(_t.properties.rightMargin=xt),"top"===tr?_t.properties.topMargin=xt:"bottom"===tr&&(_t.properties.bottomMargin=xt),delete _t.properties.padding}}}if(gt.icon)for(var Yt of gt.icon){var ar=Yt?.properties;if(ar){var sr=ar.padding;sr&&(Yt.properties.leftMargin=sr,Yt.properties.rightMargin=sr,Yt.properties.topMargin=sr,Yt.properties.bottomMargin=sr,delete Yt.properties.padding)}}if(gt.outline)for(var Vr of gt.outline){var Tr=Vr?.properties.roundEdge;Tr&&(gt.shape=gt.shape||[],gt.shape.push({properties:{roundEdge:Tr},selector:Vr.selector}),delete Vr.properties.roundEdge)}}}}upgradeVisualObjects(ie,We,Oe,lt){}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_25}}function Xe(ot){return i.ib.deserializeExpr(ot.expr).value}class qe{constructor(){}upgrade(ie){if(u.fF.assertValue(ie,"exploration"),ie&&!_.isEmpty(ie.sections))for(var We of ie.sections)for(var Oe of We.visualContainers){var lt=Oe.config&&Oe.config.singleVisual;lt&&lt.objects&&(lt&&lt.visualType)===p.D.azureMap&&this.upgradeAzureMapProperties(lt.objects)}}upgradeVisualObjects(ie,We,Oe,lt){}upgradeAzureMapProperties(ie){u.fF.assertValue(ie,"objects");var We=ie.heatMapLayer;if(We&&0!==We.length)for(var Oe of We)if(!Oe.selector){var lt=Oe.properties;if(lt&&lt.heatMapOpacity){var _t=Number(i.ib.deserializeExpr(lt.heatMapOpacity.expr).value),Ft=isNaN(_t)?0:100-100*_t;delete lt.heatMapOpacity,lt.mapTransparency=(0,Ve.Mi)((0,n.cA)(Ft))}}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_28}}var me=r(78941);function Ee(ot){return new ce(ot)}var fe=[p.D.tableEx,p.D.pivotTable,p.D.slicer,p.D.filterSlicer,p.D.multiRowCard],Re=[p.D.barChart,p.D.clusteredBarChart,p.D.clusteredColumnChart,p.D.columnChart,p.D.hundredPercentStackedBarChart,p.D.hundredPercentStackedColumnChart,p.D.ribbonChart],re=[p.D.areaChart,p.D.barChart,p.D.clusteredBarChart,p.D.clusteredColumnChart,p.D.columnChart,p.D.hundredPercentStackedBarChart,p.D.hundredPercentStackedColumnChart,p.D.lineChart,p.D.lineClusteredColumnComboChart,p.D.lineStackedColumnComboChart,p.D.ribbonChart,p.D.scatterChart,p.D.stackedAreaChart,p.D.waterfallChart],se=[p.D.lineClusteredColumnComboChart,p.D.lineStackedColumnComboChart],Ae=[p.D.lineChart,p.D.areaChart,p.D.stackedAreaChart,p.D.lineStackedColumnComboChart,p.D.lineClusteredColumnComboChart];class ce{constructor(ie){this.featureSwitchService=ie}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){1===ie&&(_.some(Re,gt=>gt===Oe)&&(this.upgradeCartesianAxisScale(We,"categoryAxis"),this.upgradeCartesianAxisPosition(We,"categoryAxis")),_.some(re,gt=>gt===Oe)&&(this.upgradeCartesianAxisScale(We,"valueAxis"),this.upgradeCartesianAxisPosition(We,"valueAxis")),_.some(se,gt=>gt===Oe)&&this.upgradeCartesianSecAxisScale(We,"valueAxis"),_.some(Ae,gt=>gt===Oe)&&(this.upgradeCartesianSecAxisScale(We,"y2Axis"),this.upgradeDefaultToCircle(We,"legend")),_.some(fe,gt=>gt===Oe)&&this.upgradeOutlineProperties(We,Oe),Oe===p.D.pivotTable&&this.upgradeSubTotalsProperties(We),Oe===p.D.pivotTable&&this.upgradeTotalProperties(We),Oe===p.D.scatterChart&&this.upgradeScatterChartFillPoint(We)),2===ie&&(this.upgradeVisualHeaderTooltip(We),this.featureSwitchService.featureSwitches.showDefaultTooltip&&this.upgradeVisualLink(We))}upgradeCartesianAxisScale(ie,We){this.upgradeAxisScale(ie,We,"axisScale","logAxisScale")}upgradeCartesianSecAxisScale(ie,We){this.upgradeAxisScale(ie,We,"secAxisScale","secLogAxisScale")}upgradeVisualHeaderTooltip(ie){u.fF.assertValue(ie,"objects");var We=ie[wt];if(We&&We.length>0)for(var Oe of We){var lt=Oe.properties;if(lt&&lt[At]&&!lt[Pt]){var gt=lt[At],_t=gt&&Me(gt);_t&&_t!==pt&&(lt[Pt]=(0,Ve.Mi)((0,n.fL)(st)))}}}upgradeSubTotalsProperties(ie){u.fF.assertValue(ie,"objects");var We=ie.subTotals;if(We&&We.length>0)for(var Oe=We.length,lt=0;lt<Oe;lt++){var gt=We[lt],_t=gt.properties,Ft={properties:{}};if(_t&&!gt.selector){for(var xt of $e){var Wt=_t[xt.propertyName];Wt&&(Ft.properties[xt.propertyName]=Wt,delete _t[xt.propertyName])}_.isEmpty(Ft.properties)||(We.push({...Ft,selector:{id:"Column"}}),We.push({...Ft,selector:{id:"Row"}}))}}}upgradeVisualLink(ie){if(this.featureSwitchService.featureSwitches.useModernFormatPane){u.fF.assertValue(ie,"objects");var We=ie[Ut];if(We&&We.length>0)for(var Oe of We){var lt=Oe.properties;if(lt&&lt[Kt]){var gt=lt[Kt],_t=gt&&Me(gt),Ft=(0,Ve.Xv)(_t);lt[Qt]=(0,Ve.Mi)((0,n.O7)(Ft)),delete lt[Kt]}}}}upgradeOutlineProperties(ie,We){u.fF.assertValue(ie,"objects");var Oe=this.getPropertiesToUpgrade(We);for(var lt of Oe){var{objectName:gt,propertyName:_t}=lt,Ft=ie[gt];if(Ft&&0!==Ft.length)for(var xt of Ft){var Wt=xt.properties;if(Wt&&Wt[_t]){var Yt=Me(Wt[_t]),ar=(0,Ve.s8)(Yt);Wt[rr]=(0,Ve.Mi)((0,n.cA)(ar)),delete Wt[_t]}}}}upgradeTotalProperties(ie){u.fF.assertValue(ie,"objects");var We=ie.total;We&&We.length>0&&(ie.rowTotal=_.cloneDeep(We),ie.columnTotal=_.cloneDeep(We),delete ie.total)}getPropertiesToUpgrade(ie){switch(ie){case p.D.tableEx:return Xt;case p.D.pivotTable:return cr;case p.D.slicer:return et;case p.D.filterSlicer:return ht;case p.D.multiRowCard:return Nt;default:return u.fF.assertFail("unexpected visual type"),[]}}upgradeDefaultToCircle(ie,We){var Oe=ie[We],lt="defaultToCircle",gt="legendMarkerRendering";if(Oe&&Oe.length>0){var _t=Oe[0].properties;if(_t&&_t[lt]){var Ft;_t[gt]&&(Ft=Me(_t[gt]));var xt=Me(_t[lt]);Ft!==me._.markerOnly&&Ft||xt?Ft===me._.markerOnly&&xt&&(_t[gt]=(0,Ve.Mi)((0,n.fL)(me._.markerCircleDefault))):_t[gt]=(0,Ve.Mi)((0,n.fL)(me._.markerOnly)),delete _t[lt]}}}upgradeAxisScale(ie,We,Oe,lt){var gt=ie[We];if(gt&&gt.length>0){var _t=gt[0].properties;if(_t&&_t[Oe]){var Ft=Me(_t[Oe]),xt=(0,Ve.Dq)(Ft);_t[lt]=(0,Ve.Mi)((0,n.O7)(xt)),delete _t[Oe]}}}upgradeCartesianAxisPosition(ie,We){u.fF.assertValue(ie,"objects");var Oe=ie[We],lt="position";if(Oe&&Oe.length>0){var _t=Oe[0].properties;if(_t&&_t[lt]){var Ft=Me(_t[lt]),xt=(0,Ve.QK)(Ft);_t.switchAxisPosition=(0,Ve.Mi)((0,n.O7)(xt)),delete _t[lt]}}}upgradeScatterChartFillPoint(ie){u.fF.assertValue(ie,"objects");var We=ie.fillPoint;if(We&&We.length>0)for(var Oe of We)if(!Oe.selector){var lt=Oe.properties;if(lt&&lt.show){var gt=Me(lt.show),_t=(0,Ve.fw)(gt);lt.style=(0,Ve.Mi)((0,n.fL)(_t)),delete lt.show}}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_31}}function Me(ot){return i.ib.deserializeExpr(ot.expr).value}var $e=[{objectName:"subTotals",propertyName:"fontColor"},{objectName:"subTotals",propertyName:"fontFamily"},{objectName:"subTotals",propertyName:"fontSize"},{objectName:"subTotals",propertyName:"bold"},{objectName:"subTotals",propertyName:"italic"},{objectName:"subTotals",propertyName:"underline"},{objectName:"subTotals",propertyName:"backColor"},{objectName:"subTotals",propertyName:"applyToHeaders"}],st="Canvas",pt="none",wt="visualHeaderTooltip",Pt="type",At="section",Ut="visualLink",Kt="suppressDefaultTooltip",Qt="showDefaultTooltip",rr="outlineStyle",Xt=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"total",propertyName:"outline"}],cr=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"rowHeaders",propertyName:"outline"}],et=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],ht=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],Nt=[{objectName:"card",propertyName:"outline"}];function Lt(ot){return new bt(ot)}var Qe=[p.D.areaChart,p.D.lineChart,p.D.lineClusteredColumnComboChart,p.D.lineStackedColumnComboChart,p.D.scatterChart,p.D.stackedAreaChart];class bt{constructor(ie){this.featureSwitchService=ie}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){!this.featureSwitchService||!this.featureSwitchService.featureSwitches||!this.featureSwitchService.featureSwitches.remainingCartesianCategoryLogAxisScale||1===ie&&_.some(Qe,gt=>gt===Oe)&&this.upgradeCartesianAxisScale(We,"categoryAxis")}upgradeCartesianAxisScale(ie,We){this.upgradeAxisScale(ie,We,"axisScale","logAxisScale")}upgradeAxisScale(ie,We,Oe,lt){var gt=ie[We];if(gt&&gt.length>0){var _t=gt[0].properties;if(_t)if(_t[lt]&&_t[Oe])delete _t[Oe];else if(_t[Oe]){var Ft=i.ib.deserializeExpr(_t[Oe].expr).value,xt=(0,Ve.Dq)(Ft);_t[lt]=(0,Ve.Mi)((0,n.O7)(xt)),delete _t[Oe]}}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_33}}function Gt(ot){return new ir(ot)}class ir{constructor(ie){this.featureSwitchService=ie}upgrade(ie){this.featureSwitchService.featureSwitches.onObject&&this.upgradeDrillthroughTargetRegularSections(ie)}upgradeVisualObjects(ie,We,Oe,lt){}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_38}upgradeDrillthroughTargetRegularSections(ie){if(!_.isEmpty(ie?.sections)&&!_.isEmpty(ie.pods)){var We={};for(var Oe of ie.pods){var lt=Oe.boundSection;if(!_.isEmpty(lt)&&!We[lt]&&1===Oe.type&&!(0,Q.g)(Oe.parameters)){var gt=(0,a.K)(Oe.parameters);_.some(gt,Wt=>!!Wt.fieldExpr)&&(We[Oe.boundSection]=!0)}}for(var _t of ie.sections){var Ft=_t.config?.type;(null==Ft||0===Ft)&&We[_t.name]&&(_t.config||(_t.config={}),_t.config.type=2)}}}}var Ht=[p.D.barChart,p.D.clusteredBarChart,p.D.hundredPercentStackedBarChart];class _r{constructor(){}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){if(1===ie&&_.some(Ht,xt=>xt===Oe)){var gt=We.categoryAxis;_.isEmpty(gt)&&(We.categoryAxis=[{properties:{}}],gt=We.categoryAxis);var _t=gt[0].properties,Ft=_t.concatenateLabels;Ft&&Ft.expr?Ft.expr.Literal.Value="true":_t.concatenateLabels=(0,Ve.Mi)((0,n.O7)(!0))}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_42}}var Fr=[p.D.lineChart,p.D.areaChart,p.D.stackedAreaChart,p.D.lineStackedColumnComboChart,p.D.lineClusteredColumnComboChart];class Pr{constructor(){}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){if(1===ie&&_.some(Fr,xt=>xt===Oe)){var gt=We.lineStyles;if(gt&&!_.isEmpty(gt))for(var _t of gt)if(_t){var Ft=_t.properties.stepped;Ft&&Ft.expr&&"true"===Ft.expr.Literal.Value&&(_t.properties.lineChartType=(0,Ve.Mi)((0,n.fL)("step")),delete _t.properties.stepped)}}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_46}}var Sr=r(875757),Or=r(252582);function xr(ot){return new zr(ot)}class zr{constructor(ie){this.featureSwitchService=ie}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){We&&1===ie&&Oe===p.D.azureMap&&this.upgradeAzureMapsVisual(We)}upgradeAzureMapsVisual(ie){var{objectName:We,propertyName:Oe}=Sr.azureMapProps.bubbleLayer.markerRangeType,lt=ie[We];for(var gt of(_.isEmpty(lt)&&(ie[We]=[{properties:{}}],lt=ie[We]),lt))gt?.properties&&(gt.properties[Oe]=(0,Ve.Mi)((0,n.fL)(Or.Dl.deprecated)))}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_48}}class Vt{constructor(){}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){We&&1===ie&&([p.D.barChart,p.D.columnChart,p.D.hundredPercentStackedBarChart,p.D.hundredPercentStackedColumnChart,p.D.ribbonChart,p.D.stackedAreaChart,p.D.lineStackedColumnComboChart,p.D.lineClusteredColumnComboChart].includes(Oe)&&Vt.updatePropertyName({objectName:"categoryAxis",propertyName:"reverseStackOrder"},{objectName:"layout",propertyName:"seriesOrderReversed"},We),[p.D.ribbonChart].includes(Oe)&&(Vt.updatePropertyName({objectName:"ribbonChart",propertyName:"seriesGapRatio"},{objectName:"layout",propertyName:"stackedGapSize"},We),Vt.updatePropertyName({objectName:"ribbonChart",propertyName:"colorBands"},{objectName:"ribbonBands",propertyName:"fillMatchColor"},We),Vt.updatePropertyName({objectName:"ribbonChart",propertyName:"bandsTransparency"},{objectName:"ribbonBands",propertyName:"fillTransparency"},We),Vt.updatePropertyName({objectName:"ribbonChart",propertyName:"showBorder"},{objectName:"ribbonBands",propertyName:"borderShow"},We)))}static updatePropertyName(ie,We,Oe){var lt=Oe[ie.objectName];if(lt&&0!==lt.length)for(var gt of lt){var _t=gt.properties[ie.propertyName];if(_t)return void(Vt.getObject(Oe,We.objectName)[0].properties[We.propertyName]=_t)}}static getObject(ie,We){var Oe=ie[We];return _.isEmpty(Oe)&&(ie[We]=[{properties:{}}],Oe=ie[We]),Oe}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_49}}var St=r(953474),Ct=r(834678),dr_propertyName="dynamicLabelValue";function ft(ot){return new Et(ot)}class Et{constructor(ie){this.featureSwitchService=ie}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){We&&1===ie&&this.featureSwitchService.featureSwitches.labelEnhancementsM0&&([Ct.L.hundredPercentStackedBarChart.name,Ct.L.hundredPercentStackedColumnChart.name].includes(Oe)&&this.update100StackedProperties(We),s.M58.includes(Oe)&&this.updateDynamicLabelProperties(We))}updateDynamicLabelProperties(ie){var We=ie.labels;if(!_.isEmpty(We)&&We.some(ie=>ie.properties.showDynamicLabels||ie.properties[dr_propertyName])){var Oe=We.find(xt=>xt.properties.showDynamicLabels&&!xt.selector),lt=It(Oe?.properties.showDynamicLabels),gt=We.find(xt=>xt.properties[dr_propertyName]&&xt.selector&&!xt.selector.metadata),_t=kt(gt?.properties[dr_propertyName]);lt&&!_t&&Oe&&(Oe.properties.enableValueDataLabel=(0,Ve.Mi)((0,n.O7)(!1))),!lt&&_t&&delete gt?.properties[dr_propertyName],We.some(xt=>xt.selector&&xt.selector.metadata)&&this.updatePropertiesForMultiStaticSeries(We,lt,_t),this.deleteInvalidProperties(We),ie.labels=We.filter(xt=>!_.isEmpty(xt.properties))}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_50}update100StackedProperties(ie){var We=ie.labels;if(We){var Oe=We.find(xt=>!xt.selector&&It(xt?.properties.showDynamicLabels)),lt=We.find(xt=>xt.selector&&!xt.selector.metadata&&kt(xt?.properties[dr_propertyName]));if(Oe&&lt)Oe.properties.enableValueDataLabel=(0,Ve.Mi)((0,n.O7)(!0)),Oe.properties.enableDetailDataLabel=(0,Ve.Mi)((0,n.O7)(!1));else for(var gt of We){gt.properties.enableValueDataLabel=(0,Ve.Mi)((0,n.O7)(!1)),gt.properties.enableDetailDataLabel=(0,Ve.Mi)((0,n.O7)(!0)),gt.properties.detailContentType=(0,Ve.Mi)((0,n.fL)("Percent of total"));var _t={bold:"detailBold",color:"detailColor",fontFamily:"detailFontFamily",fontSize:"detailFontSize",italic:"detailItalic",labelDisplayUnits:"detailLabelDisplayUnits",labelPrecision:"detailLabelPrecision",transparency:"detailTransparency",underline:"detailUnderline"};for(var Ft in _t)gt.properties[Ft]&&(gt.properties[_t[Ft]]=gt.properties[Ft],delete gt.properties[Ft])}}}updatePropertiesForMultiStaticSeries(ie,We,Oe){var lt=this,gt=function(Ft){if(!Ft.selector?.metadata||_.isEmpty(Ft.properties))return 1;var xt;if(Ft.properties.showDynamicLabels){var Wt=It(Ft.properties.showDynamicLabels),tr=ie.find(Yt=>Yt.selector?.metadata&&Yt.selector.metadata===Ft.selector?.metadata&&Yt.properties[dr_propertyName]);tr&&(xt=kt(tr.properties[dr_propertyName])),Wt?lt.updatePropertiesIfSeriesDynamicLabelEnabled(Ft,xt,Oe):!1===Wt&&lt.updatePropertiesIfSeriesDynamicLabelDisabled(Ft,tr,xt,Wt,Oe)}};for(var _t of ie)gt(_t)}updatePropertiesIfSeriesDynamicLabelEnabled(ie,We,Oe){We&&(ie.properties.enableValueDataLabel=(0,Ve.Mi)((0,n.O7)(!0))),(!1===We||!We&&!Oe)&&(ie.properties.enableValueDataLabel=(0,Ve.Mi)((0,n.O7)(!1)))}updatePropertiesIfSeriesDynamicLabelDisabled(ie,We,Oe,lt,gt){Oe&&We&&delete We.properties[dr_propertyName],!Oe&&!gt&&(ie.properties.enableValueDataLabel=(0,Ve.Mi)((0,n.O7)(!0)))}deleteInvalidProperties(ie){if(!_.isEmpty(ie))for(var We of ie)We.properties.showDynamicLabels&&delete We.properties.showDynamicLabels,We.properties[dr_propertyName]&&Jt(We.properties[dr_propertyName])&&delete We.properties[dr_propertyName]}}function It(ot){if(ot?.expr)return i.ib.deserializeExpr(ot.expr).value}function kt(ot){if(!ot?.expr)return!1;var ie=i.ib.deserializeExpr(ot.expr);return(0,St.kb)(ie)||(0,St.iV)(ie)}function Jt(ot){if(!ot?.expr)return!1;var ie=i.ib.deserializeExpr(ot.expr);return(0,St.VC)(ie)}function K(ot){return new Y(ot)}class Y{constructor(ie){this.featureSwitchService=ie}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){var gt=this;if(We&&1===ie){if(this.featureSwitchService.featureSwitches.cardVisualRefUpdate&&Oe===Ct.L.cardVisual.name){var _t=We.referenceLabelDetail;if(_.isEmpty(_t))return;for(var Ft=function(Wt){var tr=_t[Wt];if(_.isEmpty(tr))return xt=Wt,1;if(gt.isValidMetadataOnlySelector(tr.selector)){var Yt=tr.properties?.detailValue;if(Yt){var ar={...tr.selector,data:[{dataViewWildcard:{matchingOption:0}}]},sr=_.find(_t,Vr=>_.isEqual(Vr.selector,ar));sr&&sr.properties?sr.properties.detailValue=Yt:_t.push({properties:{detailValue:Yt},selector:ar}),delete tr.properties.detailValue,_.isEmpty(tr.properties)&&(_t.splice(Wt,1),Wt--)}}xt=Wt},xt=0;xt<_t.length;xt++)Ft(xt)}this.featureSwitchService.featureSwitches.labelEnhancementsM0&&s.M58.includes(Oe)&&this.updateDynamicLabelProperties(We)}}isValidMetadataOnlySelector(ie){return ie&&!_.isEmpty(ie.id)&&!_.isEmpty(ie.metadata)&&_.isEmpty(ie.data)}updateDynamicLabelProperties(ie){var We=ie.labels;if(!_.isEmpty(We)&&We.some(ie=>ie.properties.dynamicLabelValue)){var Oe=We.filter(gt=>gt.properties.dynamicLabelValue&&!gt?.selector?.data);if(!_.isEmpty(Oe))for(var lt of Oe)delete lt?.properties.dynamicLabelValue;ie.labels=We.filter(gt=>!_.isEmpty(gt.properties))}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_51}}class $t{constructor(){}upgrade(ie){this.resolveShadeArea(ie)}upgradeVisualObjects(ie,We,Oe,lt){}resolveShadeArea(ie){var We;if(ie&&!_.isEmpty(ie.sections))for(var Oe of ie.sections){var lt=function(){var Ft=_t?.config?.singleVisual;if(!Ft)return 0;if(![p.D.lineStackedColumnComboChart,p.D.lineClusteredColumnComboChart].includes(Ft?.visualType))return 0;var Wt=Ft.projections?.Y2;if(_.isEmpty(Wt))return 0;var tr=Ft.objects?.lineStyles;if(_.isEmpty(tr))return 0;var Yt,ar={};Wt.forEach(Dr=>{ar[Dr.queryRef]=void 0});var sr=!1,Vr=!1;for(var Tr of tr){var Br=Tr.properties?.shadeArea;Br&&(Tr.properties.areaShow=_.cloneDeep(Br)),Tr.selector?Br&&(ar[Tr.selector.metadata]=Br,sr||(sr="true"===Br?.expr?.Literal?.Value)):(Vr=!0,Br&&(Yt=Br))}if("true"===Yt?.expr?.Literal?.Value||!sr)return 0;for(var kr of(Vr||tr.push({properties:{}}),tr))kr.selector?(kr.properties||(kr.properties={}),kr.properties.areaShow||(kr.properties.areaShow={expr:{Literal:{Value:"false"}}},ar[kr.selector.metadata]=kr.properties.areaShow)):((We=kr.properties).areaShow||(We.areaShow={}),kr.properties.areaShow.expr={Literal:{Value:"true"}});for(var[Ar,Nr]of Object.entries(ar))Nr||tr.push({properties:{areaShow:{expr:{Literal:{Value:"false"}}}},selector:{metadata:Ar}})};for(var _t of Oe.visualContainers)lt()}}upgradeFilterCollection(){}getVersion(){return u.fF.assert(()=>s.H3n.v5_53===s.Hg9,"This upgrader covers both features. If features get different release versions, we should get an error."),s.H3n.v5_53}}function qt(ot){return new hr(ot)}class hr{constructor(ie){this.featureSwitchService=ie}upgrade(ie){}upgradeVisualObjects(ie,We,Oe,lt){if(We&&1===ie){if(this.featureSwitchService.featureSwitches.matrixLayouts&&Oe===Ct.L.pivotTable.name&&(0,Ve.NN)(We),this.featureSwitchService.featureSwitches.cardVisualCFSelector&&Oe===Ct.L.cardVisual.name){var gt={divider:["dividerColor"],referenceLabel:["backgroundColor"],referenceLabelDetail:["detailFontColor","detailBackgroundColor","customFormatString","detailPrecision","showBlankAs"],referenceLabelValue:["valueFontColor","customFormatString","valuePrecision","showBlankAs"],referenceLabelTitle:["titleText","titleFontColor"]};for(var _t of Object.keys(gt)){var Ft=We[_t];if(!_.isEmpty(Ft))for(var xt=0;xt<Ft.length;xt++){var Wt=Ft[xt];if(!_.isEmpty(Wt)&&(ot=Wt.selector)&&!_.isEmpty(ot.metadata)&&_.isEmpty(ot.data)&&Wt.properties){var tr=function(){var ar=Wt.properties[Yt];if(ar&&br(ar)){var sr={...Wt.selector,data:[{dataViewWildcard:{matchingOption:0}}]},Vr=_.find(Ft,Tr=>_.isEqual(Tr.selector,sr));Vr&&Vr.properties?Vr.properties[Yt]=ar:Ft.push({properties:{[Yt]:ar},selector:sr}),delete Wt.properties[Yt],_.isEmpty(Wt.properties)&&(Ft.splice(xt,1),xt--)}};for(var Yt of gt[_t])tr()}}}}Oe===Ct.L.lineChart.name&&hr.upgradeForecastStyles(We)}var ot}static upgradeForecastStyles(ie){var We,Oe,lt,gt,_t=ie.forecast;if(!_.isEmpty(_t))for(var Ft of _t)if(Ft&&Ft.properties){var xt=Number((0,Ve.v)(Ft.properties.transparency));null!=xt&&!isNaN(xt)&&((We=Ft.properties).bandAreaTransparency??(We.bandAreaTransparency=(0,Ve.Mi)((0,n.tx)(xt))),(Oe=Ft.properties).bandLineTransparency??(Oe.bandLineTransparency=(0,Ve.Mi)((0,n.tx)(xt))),delete Ft.properties.transparency);var Wt=(0,Ve.v)(Ft.properties.confidenceBandStyle);null!=Wt&&((lt=Ft.properties).bandAreaShow??(lt.bandAreaShow=(0,Ve.Mi)((0,n.O7)("fill"===Wt||"fillLine"===Wt))),(gt=Ft.properties).bandLineShow??(gt.bandLineShow=(0,Ve.Mi)((0,n.O7)("line"===Wt||"fillLine"===Wt))),delete Ft.properties.confidenceBandStyle)}}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_54}}function br(ot){var ie=ot?.expr||ot?.solid?.color?.expr;if(!ie)return!1;var We=i.ib.deserializeExpr(ie);return null!=We&&!(0,St.VC)(We)&&!(0,St.wt)(We)}function Wr(ot){return new Hr(ot)}class Hr{constructor(ie){this.featureSwitchService=ie}upgrade(ie){if(ie&&!_.isEmpty(ie.sections))for(var We of ie.sections)for(var Oe of We.visualContainers){var lt=Oe.config?.singleVisual;lt&&(0,Ve.Pq)(lt,!0,this.featureSwitchService.featureSwitches.tablixRenderUpgrade)}}upgradeVisualObjects(){}upgradeFilterCollection(){}getVersion(){return s.H3n.v5_56}}var Cr=r(26026);class nt{upgrade(ie,We){}upgradeVisualObjects(ie,We,Oe,lt){if(We&&1===ie&&Oe===p.D.advancedSlicerVisual){var gt=_.find(We.image,Wt=>_.has(Wt.properties,"image")&&_.isEmpty(Wt.selector?.id));if(!gt)return;var _t=(0,y.UZ)({id:"default",data:[(0,Cr.Ue)(1)]}),Ft=_.find(We.image,Wt=>_.isEqual(Wt.selector,_t));if(Ft||(We.image.push({properties:{},selector:_t}),Ft=_.last(We.image)),Ft.properties.image=gt.properties.image,delete gt.properties.image,_.isEmpty(gt.properties)){var xt=_.findIndex(We.image,gt);We.image.splice(xt,1)}}}upgradeFilterCollection(ie){}getVersion(){return s.H3n.v5_58}}function dt(ot){return new mt(ot)}class mt{constructor(ie){var ot;this.versionUpgraders=[new m,new P,new M,new L,new I,new we,new O,(ot=ie,new R(ot)),new A,new z,new q,(0,G.ps)(),(0,J.ps)(ie),new he,new Pe,new Ue,new De,new at,tt(ie),new Ne,be(ie),ve(ie),new qe,Ee(ie),Lt(ie),Gt(ie),new _r,new Pr,xr(ie),new Vt,ft(ie),K(ie),new $t,qt(ie),Wr(ie),new nt],this.objectsUpgrader=(0,t.U)(this.versionUpgraders)}upgrade(ie,We,Oe,lt){if(this.upgradeElement(ie,We,Oe,(_t,Ft,xt)=>_t.upgrade(Ft,xt),lt)){var gt=ie;return this.upgradeVisualObjects(gt,ie.config.version),ie.config.version=C.L,gt}}upgradeFilterCollection(ie,We,Oe){if(this.upgradeElement(ie,We,Oe,(lt,gt)=>lt.upgradeFilterCollection(gt)))return ie.config.version=C.L,ie}getVersionUpgraders(){return this.versionUpgraders}upgradeElement(ie,We,Oe,lt,gt){u.fF.assertValue(ie,"element"),u.fF.assert(()=>We&&_.isEmpty(We),"errors should be defined and empty"),u.fF.assertValue(lt,"runUpgrade");var _t=this.getVersionedElementConfig(ie),Ft=_t.version&&_.isString(_t.version)?_t.version:e.aD;if((0,e.gt)(Ft,C.L)){if(We.push({errorType:0}),!Oe)return}else for(var xt of this.versionUpgraders){var Wt=xt.getVersion();((0,e.lt)(Wt,"2.2")||(0,e.gt)(Wt,Ft))&&(lt(xt,ie,Ft),gt&&gt.upgraderCount++)}return ie}upgradeVisualObjects(ie,We){We=We||e.aD;var Oe=ie&&ie.sections;if(Oe)for(var lt of Oe){var gt=lt&&lt.visualContainers;if(!gt)return;for(var _t of gt){var Ft=_t&&_t.config&&_t.config.singleVisual;if(Ft){var xt=Ft.visualType,Wt=Ft.vcObjects;Wt&&this.objectsUpgrader.upgrade(2,Wt,xt,We);var tr=Ft.objects;tr&&this.objectsUpgrader.upgrade(1,tr,xt,We)}}}}getVersionedElementConfig(ie){return _.isString(ie.config)&&(ie.config=(0,a.K)(ie.config),u.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config shouldn't be a string, it should always be an object,\n                    If this code ever reaches it means that the exploration we are upgrading\n                    hasn't been parsed yet. Please find out where the exploration comes from\n                    and make sure it's parsed before getting sent here.")),ie.config||(ie.config={version:e.aD},u.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config should exist by this point, we somehow persisted/serialized an invalid config.")),ie.config}}},886137:function(Ce,k,r){r.d(k,{$IK:function(){return H},$Tv:function(){return Ie},$gq:function(){return Wr},$qz:function(){return It},$tC:function(){return Ze},Awj:function(){return q},BGf:function(){return si},C7j:function(){return na},Cc1:function(){return Nt},Eo9:function(){return St},F1S:function(){return I},FL3:function(){return de},FOi:function(){return Ya},GwY:function(){return fa},H3n:function(){return N},H_y:function(){return Ja},Hg9:function(){return Ba},IwG:function(){return Sr},KQG:function(){return $t},KQq:function(){return Bi},Kkx:function(){return J},LlV:function(){return Ni},M58:function(){return wr},NsA:function(){return ee},OY7:function(){return Vi},P_5:function(){return Zi},RrR:function(){return je},TQL:function(){return Jt},U$u:function(){return U},UAC:function(){return Kt},UCJ:function(){return Qt},Upn:function(){return ae},VFg:function(){return Ct},VRY:function(){return xi},VSH:function(){return Se},VTu:function(){return mt},WL3:function(){return T},WWC:function(){return Zr},XRk:function(){return Rr},XVx:function(){return Pt},Xfb:function(){return Et},YA8:function(){return Ee},_P0:function(){return ai},aWu:function(){return ot},bFC:function(){return fe},ckf:function(){return Ia},dKN:function(){return aa},eGA:function(){return Li},elY:function(){return Aa},faH:function(){return Le},fke:function(){return Xe},ftA:function(){return z},g3O:function(){return O},gMq:function(){return di},h07:function(){return _i},hCh:function(){return Xa},hGr:function(){return W},htK:function(){return j},iXZ:function(){return _e},iuU:function(){return it},jJX:function(){return ye},kJo:function(){return Hr},kdg:function(){return be},m5F:function(){return et},m7e:function(){return we},np7:function(){return pt},nue:function(){return rr},oq_:function(){return ne},pWD:function(){return Ka},pXM:function(){return Ai},pj3:function(){return gt},q0O:function(){return hi},q4D:function(){return R},qdh:function(){return he},qq3:function(){return F},rAF:function(){return A},sE2:function(){return He},tCF:function(){return Ti},tji:function(){return Ei},ugh:function(){return Xt},ukM:function(){return me},v0X:function(){return Mi},vqL:function(){return st},x7c:function(){return G},xSu:function(){return X},yfQ:function(){return Pe},z1y:function(){return Ue}});var a=r(953474),e=r(525284),u=r(534721),t=r(277216),C=r(282315),y=r(276712),i=r(688574),o=r(16431),c=r(632151),h=r(946056),d=r(3230),n=r(252582),s=r(279176),p=r(375991),l=r(939123),m=r(132640),b=r(366090),V=r(969143),g=r(528836),v=r(693713),f=r(939349),S=r(776073),P=r(748843),D=r(295046),M=r(334467),E=r(691519),w=r(280779),x=r(784375),N={v1_0:"1.0",v2_0:"2.0",v2_2:"2.2",v2_3:"2.3",v2_5:"2.5",v3_0:"3.0",v3_1:"3.1",v3_2:"3.2",v3_3:"3.3",v3_4:"3.4",v3_5:"3.5",v3_6:"3.6",v3_6_1:"3.6.1",v3_7:"3.7",v3_8:"3.8",v3_9:"3.9",v3_10:"3.10",v3_11:"3.11",v3_12:"3.12",v3_12_1:"3.12.1",v3_13:"3.13",v3_14:"3.14",v3_14_1:"3.14.1",v3_15:"3.15",v3_16:"3.16",v3_17:"3.17",v3_18:"3.18",v3_19:"3.19",v3_20:"3.20",v3_21:"3.21",v3_22:"3.22",v3_23:"3.23",v3_24:"3.24",v4_0:"4.0",v4_1:"4.1",v4_2:"4.2",v5_0:"5.0",v5_1:"5.1",v5_2:"5.2",v5_3:"5.3",v5_4:"5.4",v5_5:"5.5",v5_6:"5.6",v5_7:"5.7",v5_8:"5.8",v5_9:"5.9",v5_10:"5.10",v5_11:"5.11",v5_12:"5.12",v5_13:"5.13",v5_14:"5.14",v5_15:"5.15",v5_16:"5.16",v5_17:"5.17",v5_18:"5.18",v5_19:"5.19",v5_20:"5.20",v5_21:"5.21",v5_22:"5.22",v5_23:"5.23",v5_24:"5.24",v5_25:"5.25",v5_26:"5.26",v5_27:"5.27",v5_28:"5.28",v5_29:"5.29",v5_30:"5.30",v5_31:"5.31",v5_32:"5.32",v5_33:"5.33",v5_34:"5.34",v5_35:"5.35",v5_36:"5.36",v5_37:"5.37",v5_38:"5.38",v5_39:"5.39",v5_40:"5.40",v5_41:"5.41",v5_42:"5.42",v5_43:"5.43",v5_44:"5.44",v5_45:"5.45",v5_46:"5.46",v5_47:"5.47",v5_48:"5.48",v5_49:"5.49",v5_50:"5.50",v5_51:"5.51",v5_52:"5.52",v5_53:"5.53",v5_54:"5.54",v5_55:"5.55",v5_56:"5.56",v5_57:"5.57",v5_58:"5.58",v5_59:"5.59",v5_60:"5.60"},L={};L[41]=N.v3_5,L[42]=N.v3_7,L[33]=N.v3_8;class B extends v.PA{constructor(Zt){super(),this.highestVersion=Zt}visitAllRolesRef(Zt){this.highestVersion=(0,u.Fp)(this.highestVersion,N.v5_1),super.visitAllRolesRef(Zt)}visitRangePercent(Zt){this.highestVersion=(0,u.Fp)(this.highestVersion,N.v5_1),super.visitRangePercent(Zt)}visitArithmetic(Zt){(0,a.g5)(Zt.right)||(this.highestVersion=(0,u.Fp)(this.highestVersion,N.v5_15)),super.visitArithmetic(Zt)}visitSparklineData(Zt){this.highestVersion=(0,u.Fp)(this.highestVersion,Wt),super.visitSparklineData(Zt)}}class I{static getVersionForSQExpr(Zt){l.fF.assertValue(Zt,"expr should exist to get its version");var nr=L[Zt.kind]||u.aD,mr=new B(nr);return Zt.accept(mr),mr.highestVersion}static getVersionForSQExprWithDescriptor(Zt,nr){l.fF.assertValue(Zt,"expr should exist to get its version"),l.fF.assertAnyValue(nr,"typeDescriptor can be undefined in an unloaded custom visual");var mr=this.getVersionForSQExpr(Zt);return nr&&nr.fill&&nr.fill.solid&&nr.fill.solid.color&&(mr=(0,u.Fp)(mr,this.getVersionForFillDefinition(Zt))),mr}static getVersionForFillDefinition(Zt){if(l.fF.assertValue(Zt,"expr should exist to get its version"),(0,a.Tu)(Zt)&&Zt.input&&!(0,a.NH)(Zt.input))return Q;if((0,a.Gs)(Zt)){var nr=Ir=>(0,a.$Q)(Ir)&&!(0,a.NH)(Ir.left);if(_.some(Zt.cases,Ir=>Ir.condition.isOrdinalEvaluation()))return Na;if(_.some(Zt.cases,Ir=>(Ir=>!!(nr(Ir)||(0,a.un)(Ir)&&(nr(Ir.left)||nr(Ir.right))))(Ir.condition)))return Q}return(0,a.kb)(Zt)||(0,a.iV)(Zt)?Ke:u.aD}static getVersionForSortDefinitions(Zt){if(!_.isEmpty(Zt))for(var nr of Zt)if((0,a.g5)(nr.expr))return N.v5_23;return u.aD}static getVersionForVisualContainerGroup(Zt){return Zt.objects&&void 0!==Zt.objects.lockAspect?fr:fe}}var W=N.v3_6,O=N.v3_6,F=N.v3_7,A=N.v3_8,T=N.v3_8,R=N.v3_8,U=N.v3_8,z=N.v3_9,j=N.v3_10,H=N.v3_11,q=N.v3_11,G=N.v3_12,J=N.v3_13,Z=N.v3_13,Q=N.v3_14,ne=N.v3_14,le=N.v3_15,he=N.v3_15,Se=N.v3_17,Ke=N.v3_17,ye=N.v3_18,we=N.v3_19,je=N.v3_20,de=N.v3_20,Pe=N.v3_20,Ve=N.v3_20,Ze=N.v3_20,Ue=N.v3_20,De=N.v3_21,ue=N.v3_21,_e=N.v3_22,ke=N.v3_22,at=N.v3_22,tt=N.v3_23,ut=N.v3_23,ct=N.v3_23,Ne=N.v3_23,ae=N.v3_23,Le=N.v3_23,X=N.v3_24,be=N.v3_24,Ie=N.v3_24,Ye=N.v4_0,ze=N.v4_2,ee=N.v4_2,ve=N.v4_2,Te=N.v4_2,Xe=N.v4_2,He=N.v4_2,qe=N.v5_0,rt=N.v5_1,me=N.v5_2,Ee=N.v5_2,fe=N.v5_2,Re=N.v5_3,re=N.v5_3,se=N.v5_3,Ae=N.v5_4,ce=N.v5_5,Me=N.v5_6,$e=N.v5_7,st=N.v5_8,pt=N.v5_8,wt=N.v5_8,Pt=N.v5_8,At=N.v5_8,Ut=N.v5_9,Kt=N.v5_9,Qt=N.v5_9,rr=N.v5_9,Xt=N.v5_9,cr=N.v5_9,et=N.v5_10,ht=N.v5_10,Nt=N.v5_11,Lt=N.v5_11,Qe=N.v5_12,bt=N.v5_12,Rt=N.v5_13,Gt=N.v5_13,ir=N.v5_13,Ht=N.v5_14,vr=N.v5_14,_r=N.v5_14,Ur=N.v5_15,Pr=N.v5_15,Sr=N.v5_15,Or=N.v5_15,xr=N.v5_15,pr=N.v5_16,jr=N.v5_16,Rr=N.v5_16,Kr=N.v5_16,Vt=N.v5_16,Dt=N.v5_16,St=N.v5_17,Ct=N.v5_18,Bt=N.v5_18,lr=N.v5_18,yr=N.v5_19,dr=N.v5_19,fr=N.v5_19,ur=N.v5_19,ft=N.v5_20,Et=N.v5_20,It=N.v5_20,kt=N.v5_20,Jt=N.v5_21,er=N.v5_21,it=N.v5_22,K=N.v5_22,Y=N.v5_22,xe=N.v5_22,yt=N.v5_22,Tt=N.v5_22,$t=N.v5_23,qt=N.v5_23,hr=N.v5_23,gr=N.v5_24,br=N.v5_24,Wr=N.v5_24,Hr=N.v5_24,Cr=N.v5_25,Be=N.v5_25,nt=N.v5_25,dt=N.v5_26,mt=N.v5_26,ot=N.v5_27,ie=N.v5_27,We=N.v5_27,Oe=N.v5_27,lt=N.v5_27,gt=N.v5_27,_t=N.v5_28,Ft=N.v5_28,xt=N.v5_28,Wt=N.v5_28,Yt=N.v5_30,ar=N.v5_30,sr=N.v5_31,Vr=N.v5_31,Tr=N.v5_31,Br=N.v5_31,Lr=N.v5_31,kr=N.v5_31,Ar=N.v5_31,Nr=N.v5_31,Dr=N.v5_31,Gr=N.v5_31,aa=N.v5_32,ea=N.v5_33,pa=N.v5_33,ia=N.v5_33,oe=N.v5_33,Fe=N.v5_34,pe=N.v5_34,vt=N.v5_34,Mt=N.v5_34,Ot=N.v5_34,zt=N.v5_34,Jr=N.v5_35,na=N.v5_36,fa=N.v5_36,Va=N.v5_37,Wa=N.v5_39,wa=N.v5_39,ja=N.v5_40,Fa=N.v5_40,Ca=N.v5_40,ha=N.v5_41,Ta=N.v5_41,Ea=N.v5_41,Na=N.v5_41,oa=N.v5_41,xa=N.v5_42,la=N.v5_42,Aa=N.v5_43,Da=N.v5_44,Ia=N.v5_44,va=N.v5_44,Ra=N.v5_44,Pa=N.v5_46,Sa=N.v5_46,Ma=N.v5_47,ka=N.v5_48,ta=N.v5_49,Oa=N.v5_49,Mr=N.v5_50,Xa=N.v5_50,hi=N.v5_50,ma=N.v5_50,Ja=N.v5_51,za=N.v5_51,ga=N.v5_51,Za=N.v5_52,vi=N.v5_52,Ba=N.v5_53,mi=N.v5_54,sa=N.v5_54,Ya=N.v5_55,qa=N.v5_55,ei=N.v5_56,gi=N.v5_56,ti=N.v5_56,ri=N.v5_56,ai=N.v5_57,_i=N.v5_57,ii=N.v5_57,bi=N.v5_57,ni=N.v5_57,Si=N.v5_58,si=N.v5_58,Ka=N.v5_59,oi=N.v5_59,Vi=N.v5_59,Ci=N.v5_59,li=N.v5_60,ui=E.L,ci=E.L,Ti=E.L,ya=E.L,Ni=E.L,xi=E.L,Ei=E.L,Ai=E.L,Ii=E.L,Ri=E.L,Oi=E.L,Di=[[w.xm,N.v5_29],[w.wh,N.v5_30],[w.LL,N.v5_31],[w.Ny,N.v5_32],[w.M5,N.v5_33],[w.zW,N.v5_34],[w.RT,N.v5_35],[w.ur,N.v5_37],[w.I8,N.v5_39],[w.nx,N.v5_40],[w.eA,N.v5_41],[w.XS,N.v5_42],[w.X2,N.v5_43],[w.X2,N.v5_44],[w.$j,N.v5_45],[w.Vb,N.v5_46],[w.$K,N.v5_47],[w._b,N.v5_48],[w.ud,N.v5_49],[w.sZ,N.v5_50],[w.DG,N.v5_51],[w.aB,N.v5_52],[w.vH,N.v5_53],[w.AS,N.v5_54],[w.lM,N.v5_55],[w.gd,N.v5_56],[w.EZ,N.v5_57],[w.z3,N.v5_58],[w.Sx,N.v5_59],[w.cv,N.v5_60]];function Bi(jt){for(var[Zt,nr]of Di)if(jt===Zt)return nr;return l.fF.assertFail(`No exploration version matching ${jt}`),E.L}function Li(jt){for(var[Zt,nr]of Di)if(jt===nr)return Zt;return l.fF.assertFail(`No exploration state version matching ${jt}`),M.w}var di=["barChart","clusteredBarChart","clusteredColumnChart","columnChart","funnel","hundredPercentStackedBarChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","lineClusteredColumnComboChart","map","filledMap","shapeMap","scatterChart"],ua=[i.D.barChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.ribbonChart],_a=[i.D.clusteredBarChart,i.D.clusteredColumnChart],Ha=[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],ca=[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart],Ui=[i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart],Zr=[...ca],Yr=[..._a,...ua,...Ha],ra=[...Yr,...Zr],Er=[..._a,...ua,...Ha,...ca,i.D.realTimeLineChart,i.D.scatterChart,i.D.waterfallChart],Wi=_.without(Er,i.D.realTimeLineChart,i.D.scatterChart),da=_.without(Er,i.D.realTimeLineChart),ji=[i.D.stackedAreaChart,i.D.columnChart,i.D.clusteredColumnChart,i.D.barChart,i.D.clusteredBarChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart],Pi=[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart],ki=[..._a,...ua,...ca,i.D.lineChart],zi=[i.D.azureMap,i.D.filledMap,i.D.heatMap,i.D.map],wr=[...ua,..._a,...Ha,...ca],Ki=[{property:{objectName:"general",propertyName:"altText"},version:N.v3_1},{property:{objectName:"visualLink",propertyName:"type"},version:N.v3_5},{property:{objectName:"visualLink",propertyName:"type",matchByContents:jt=>jt.value===D.rp},version:W},{property:{objectName:"labels",propertyName:"enableBackground"},version:N.v3_9},{property:{objectName:"labels",propertyName:"backgroundColor"},version:N.v3_9},{property:{objectName:"labels",propertyName:"backgroundTransparency"},version:N.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelEnableBackground"},version:N.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundColor"},version:N.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundTransparency"},version:N.v3_9},{property:{objectName:"dateRange",propertyName:"anchorDate"},version:N.v3_9},{property:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},version:N.v3_9},{property:{objectName:"categoryAxis",propertyName:"innerPadding"},version:N.v3_9},{property:{objectName:"columnFormatting",propertyName:"labelDisplayUnits"},version:N.v3_12},{property:{objectName:"columnFormatting",propertyName:"labelPrecision"},version:N.v3_12},{property:{objectName:"visualTooltip",propertyName:"type",matchByContents:jt=>jt.value===P.Xz},version:G},{property:{objectName:"lineStyles",propertyName:"lineStyle"},version:N.v3_13,types:[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:N.v3_13,types:[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"defaultToCircle"},version:N.v3_13,types:[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"matchLineColor"},version:N.v3_13,types:[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart]},{property:{objectName:"visualLink",propertyName:"type",matchByContents:jt=>jt.value===D.sv},version:Z},{property:{objectName:"labels",propertyName:"funnelLabelStyle"},version:N.v3_14,types:[i.D.funnel]},{property:{objectName:"dataPoint",propertyName:"fillRule",matchByContents:Qa},version:N.v3_15},{property:{objectName:"values",propertyName:"backColor",matchByContents:Qa},version:N.v3_15},{property:{objectName:"values",propertyName:"fontColor",matchByContents:Qa},version:N.v3_15},{property:{objectName:"outspace",propertyName:e.p5},version:le,types:["page"]},{property:{objectName:"visualHeader",propertyName:e.p5},version:he},{property:{objectName:"visualTooltip",propertyName:"show"},version:N.v3_16},{property:{objectName:"categoryAxis",propertyName:"axisType",matchByContents:jt=>jt.value===c.w.categorical},version:ye,types:[i.D.scatterChart]},{property:{objectName:"searchBox",propertyName:e.p5},version:N.v3_19,types:[i.D.slicer]},{property:{objectName:"rowHeaders",propertyName:"showExpandCollapseButtons"},version:je,types:[i.D.pivotTable]},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(jt,Zt)=>Zt&&Zt.data&&1===Zt.data.length&&(0,m.qm)(Zt.data[0])},version:de,types:di},{property:{objectName:"filterCard",propertyName:e.p5},version:Ve,types:["page"]},{property:{objectName:"outspacePane",propertyName:e.p5},version:Ve,types:["page"]},{property:{objectName:"outspacePane",propertyName:"expanded"},version:Ve,types:["report"]},{property:{objectName:"outspacePane",propertyName:"visible"},version:Ve,types:["report"]},{property:{objectName:"visualLink",propertyName:"tooltip"},version:De},{property:{objectName:"general",propertyName:"requireSingleSelect"},version:ue,types:["filter"]},{property:{objectName:"title",propertyName:"titleWrap"},version:ke},{property:{objectName:"border",propertyName:"radius"},version:at},{property:{objectName:"visualLink",propertyName:"webUrl"},version:tt},{property:{objectName:"selection",propertyName:"strictSingleSelect"},version:ut,types:[i.D.slicer]},{property:{objectName:"visualTooltip",propertyName:"fontColor"},version:ct},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:ct},{property:{objectName:"visualTooltip",propertyName:"fontFamily"},version:ct},{property:{objectName:"visualTooltip",propertyName:"background"},version:ct},{property:{objectName:"visualTooltip",propertyName:"transparency"},version:ct},{property:{objectName:"displayArea",propertyName:"verticalAlignment"},version:Ne,types:["page"]},{property:{objectName:"section",propertyName:"verticalAlignment"},version:Ne,types:["report"]},{property:{objectName:"title",propertyName:"text",isExprBound:!0},version:Ye},{property:{objectName:"indicator",propertyName:"fontSize"},version:N.v4_1,types:[i.D.kpi]},{property:{objectName:"labels",propertyName:"labelPosition"},version:N.v4_1,types:[i.D.lineChart]},{property:{objectName:"title",propertyName:"fontColor",matchByContents:(jt,Zt)=>{var mr=jt&&jt.solid&&jt.solid.color;return!((0,a.VC)(mr)||(0,a.wt)(mr))}},version:ze},{property:{objectName:"title",propertyName:"background",matchByContents:(jt,Zt)=>{var mr=jt&&jt.solid&&jt.solid.color;return!((0,a.VC)(mr)||(0,a.wt)(mr))}},version:ze},{property:{objectName:"labels",propertyName:"color",matchByContents:(jt,Zt)=>{var mr=jt&&jt.solid&&jt.solid.color;return!((0,a.VC)(mr)||(0,a.wt)(mr))}},version:ze,types:[i.D.card]},{property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(jt,Zt)=>{var mr=jt&&jt.solid&&jt.solid.color;return!((0,a.VC)(mr)||(0,a.wt)(mr))}},version:ze,types:[i.D.card]},{property:{objectName:"subTotals",propertyName:"rowSubtotalsLabel"},types:[i.D.pivotTable],version:N.v4_2},{property:{objectName:"subTotals",propertyName:"columnSubtotalsLabel"},types:[i.D.pivotTable],version:N.v4_2},{property:{objectName:"subTotals",propertyName:"levelSubtotalLabel"},types:[i.D.pivotTable],version:N.v4_2},{property:{objectName:"total",propertyName:"label"},types:[i.D.tableEx],version:N.v4_2},{property:{objectName:"visualHeader",propertyName:"showTooltipButton"},version:Te},{property:{objectName:"visualHeaderTooltip",propertyName:"section"},version:Te},{property:{objectName:"visualHeaderTooltip",propertyName:"text"},version:Te},{property:{objectName:"visualHeaderTooltip",propertyName:"titleFontColor"},version:Te},{property:{objectName:"visualHeaderTooltip",propertyName:"fontSize"},version:Te},{property:{objectName:"visualHeaderTooltip",propertyName:"fontFamily"},version:Te},{property:{objectName:"visualHeaderTooltip",propertyName:"background"},version:Te},{property:{objectName:"visualHeaderTooltip",propertyName:"transparency"},version:Te},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(jt,Zt)=>!(0,a.VC)(jt&&jt.solid&&jt.solid.color)},version:ve,types:[i.D.gauge]},{property:{objectName:"background",propertyName:"color",matchByContents:(jt,Zt)=>{var mr=jt&&jt.solid&&jt.solid.color;return!((0,a.VC)(mr)||(0,a.wt)(mr))}},version:qe},{property:{objectName:"keyDrivers",propertyName:"allowKeyDriversCounting",matchByContents:jt=>!0===jt.value},version:rt},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"values",propertyName:"icon"},version:N.v5_1},{property:{objectName:"text",propertyName:"fontFamily"},types:[i.D.textbox],version:N.v5_3},{property:{objectName:"text",propertyName:"fontSize"},types:[i.D.textbox],version:N.v5_3},{property:{objectName:"text",propertyName:"color"},types:[i.D.textbox],version:N.v5_3},{property:{objectName:"general",propertyName:"altText",isExprBound:!0},version:re},{property:{objectName:"border",propertyName:"color",isExprBound:!0},version:Re},{property:{objectName:"dataPoint",propertyName:"target",isExprBound:!0},version:se,types:[i.D.gauge]},{property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:se,types:[i.D.gauge]},{property:{objectName:"target",propertyName:"color",isExprBound:!0},version:se,types:[i.D.gauge]},{property:{objectName:"calloutValue",propertyName:"color",isExprBound:!0},version:se,types:[i.D.gauge]},{property:{objectName:"pageRefresh",propertyName:"show"},version:Ae,types:["page"]},{property:{objectName:"pageRefresh",propertyName:"duration"},version:Ae,types:["page"]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:ce,types:[i.D.actionButton]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:ce,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"lineColor",isExprBound:!0},version:ce,types:[i.D.actionButton]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:ce,types:[i.D.actionButton]},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:ce,types:[i.D.actionButton]},{property:{objectName:"visualLink",propertyName:"tooltip",isExprBound:!0},version:ce},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"fontFamily"},version:Me},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"fontColor"},version:Me},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"verticalAlignment"},version:Me},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"horizontalAlignment"},version:Me},{types:[i.D.kpi],property:{objectName:"trendline",propertyName:"transparency"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"goalText"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"fontSize"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"goalFontFamily"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"goalFontColor"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"distanceLabel"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"percentageLabelPrecision"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"titleFontSize"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"distanceFontFamily"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"distanceFontColor"},version:Me},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"direction"},version:Me},{types:[i.D.kpi],property:{objectName:"period",propertyName:"show"},version:Me},{types:[i.D.kpi],property:{objectName:"period",propertyName:"fontSize"},version:Me},{types:[i.D.kpi],property:{objectName:"period",propertyName:"periodFontFamily"},version:Me},{types:[i.D.kpi],property:{objectName:"period",propertyName:"periodFontColor"},version:Me},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"values",propertyName:"webURL"},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.categoryLabels,propertyName:t.hq.categoryLabelFontColor},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.categoryLabels,propertyName:t.hq.categoryLabelFontFamily},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.categoryLabels,propertyName:t.hq.categoryLabelFontSize},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelFontColor},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelFontFamily},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelFontSize},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelDisplayUnits},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataLabels,propertyName:t.hq.dataLabelPrecision},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.dataBarBackgroundColor},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.dataBarWidthPercent},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelHeaderBackgroundColor},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelTitleFontColor},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelTitleFontFamily},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelTitleFontSize},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelSubtitleFontColor},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelSubtitleFontFamily},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.levelSubtitleFontSize},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.levelHeader,propertyName:t.hq.showSubtitles},version:N.v5_6},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.connectorDefaultColor},version:N.v5_6},{types:["page"],property:{objectName:"outspacePane",propertyName:"inputBoxColor"},version:$e},{types:["page"],property:{objectName:"outspacePane",propertyName:"searchTextSize"},version:$e},{types:[i.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection"},version:N.v5_8},{types:[i.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection"},version:N.v5_8},{property:{objectName:"y2Axis",propertyName:"show"},version:At},{property:{objectName:"y2Axis",propertyName:"secAxisLabel"},version:At},{property:{objectName:"y2Axis",propertyName:"secLogAxisScale"},version:At},{property:{objectName:"y2Axis",propertyName:"secStart"},version:At},{property:{objectName:"y2Axis",propertyName:"secEnd"},version:At},{property:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},version:At},{property:{objectName:"y2Axis",propertyName:"secAxisStyle"},version:At},{property:{objectName:"y2Axis",propertyName:"secLabelColor"},version:At},{property:{objectName:"y2Axis",propertyName:"secFontFamily"},version:At},{property:{objectName:"y2Axis",propertyName:"secFontSize"},version:At},{property:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},version:At},{property:{objectName:"y2Axis",propertyName:"secLabelPrecision"},version:At},{property:{objectName:"y2Axis",propertyName:"secTitleColor"},version:At},{property:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},version:At},{property:{objectName:"y2Axis",propertyName:"secTitleFontSize"},version:At},{property:{objectName:"y2Axis",propertyName:"secTitleText"},version:At},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.barsPerLevel},version:wt},{types:["page"],property:{objectName:"pageRefresh",propertyName:"refreshType"},version:Ut},{property:{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},version:Qt},{property:{objectName:"general",propertyName:"isInvertedSelectionMode"},version:cr,types:["filter"]},{types:[i.D.slicer],property:{objectName:"data",propertyName:"mode",matchByContents:jt=>jt.value===s.GV},version:rr},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"backColor",matchByContents:(jt,Zt)=>void 0!==Ga(Zt)},version:N.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"fontColor",matchByContents:(jt,Zt)=>void 0!==Ga(Zt)},version:N.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"icon",matchByContents:(jt,Zt)=>{var nr=Ga(Zt);return void 0!==nr&&1!==nr}},version:N.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"webURL",matchByContents:(jt,Zt)=>{var nr=Ga(Zt);return void 0!==nr&&1!==nr}},version:N.v5_9},{types:[i.D.actionButton],property:{objectName:"fill",propertyName:"image"},version:N.v5_10},{types:[i.D.actionButton],property:{objectName:"visualLink",propertyName:"enabledTooltip",isExprBound:!0},version:N.v5_10},{types:[i.D.actionButton],property:{objectName:"visualLink",propertyName:"disabledTooltip",isExprBound:!0},version:N.v5_10},{types:[i.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection",isExprBound:!0},version:N.v5_10},{types:[i.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection",isExprBound:!0},version:N.v5_10},{types:[i.D.image,i.D.basicShape],property:{objectName:"visualLink",propertyName:"navigationSection"},version:N.v5_10},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"items",propertyName:"steppedLayoutIndentation"},version:N.v5_10},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"items",propertyName:"expandCollapseToggleType"},version:N.v5_10},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"iconSize"},version:ht},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"showIcon"},version:ht},{types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"showAllDataPoints"},version:Nt},{types:[i.D.map,i.D.filledMap,i.D.heatMap],property:{objectName:"dataPoint",propertyName:"transparency"},version:Lt},{types:[i.D.map,i.D.filledMap,i.D.heatMap],property:{objectName:"mapControls",propertyName:"minZoom"},version:Lt},{types:[i.D.map,i.D.filledMap,i.D.heatMap],property:{objectName:"mapControls",propertyName:"maxZoom"},version:Lt},{types:[i.D.map,i.D.filledMap,i.D.heatMap],property:{objectName:"mapStyles",propertyName:"showLabels"},version:Lt},{types:[i.D.filledMap],property:{objectName:"stroke",propertyName:"show"},version:Lt},{types:[i.D.filledMap],property:{objectName:"stroke",propertyName:"strokeColor"},version:Lt},{types:[i.D.filledMap],property:{objectName:"stroke",propertyName:"strokeWidth"},version:Lt},{types:[i.D.textbox],property:{...y.RL.general.paragraphs,matchByContents:(jt,Zt)=>{if((0,S.Fq)(jt))for(var nr of jt)if(nr&&!_.isEmpty(nr.textRuns))for(var mr of nr.textRuns)if((0,f.Kt)(mr))return!0;return!1}},version:Qe},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.defaultClickAction},version:bt},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.responsiveLayout},version:bt},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.tree,propertyName:t.hq.effectiveBarsPerLevel},version:bt},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.dataBarColor},version:bt},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.axisStart},version:bt},{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.dataBars,propertyName:t.hq.axisEnd},version:bt},{types:[i.D.decompositionTreeVisual],property:{objectName:"general",propertyName:"formatString"},version:bt},{types:[i.D.qnaVisual],property:{objectName:"inputBox",propertyName:"warningColor"},version:Gt},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"header",propertyName:"text"},version:ir},{types:[i.D.barChart,i.D.columnChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.scatterChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:Rt},{types:[i.D.qnaVisual],property:{objectName:"inputBox",propertyName:"commitButtonBackgroundColor"},version:Ht},{property:{objectName:"dropShadow",propertyName:"*"},version:vr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},version:_r},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"show"},version:Ur},{property:{objectName:"general",propertyName:"keepLayerOrder"},version:Pr},{property:y.RL.values.expr,types:[i.D.textbox],version:Or},{property:y.RL.values.formatString,types:[i.D.textbox],version:Or},{types:[i.D.areaChart,i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"show"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"color"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelDisplayUnits"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelPrecision"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"enableBackground"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundColor"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundTransparency"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontSize"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontFamily"},version:xr},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart],property:{objectName:"totals",propertyName:"showPositiveAndNegative"},version:xr},{property:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},types:["page"],version:pr},...["show","transform","displayName","markerShape","markerShapeSize","markerColor","confidenceBandStyle","confidenceBandColor","CategoryValue","Value","ExpectedValue","ExpectedLow","ExpectedHigh","BatchStart","BatchEnd","sensitivity","explainBy","isAnomalyHighlighted"].map(jt=>({types:[i.D.lineChart],property:{objectName:"anomalyDetection",propertyName:jt},version:jr})),{types:[i.D.decompositionTreeVisual],property:{objectName:t.I8.insights,propertyName:t.hq.isAINode},version:Vt},{types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart],property:{objectName:"zoom",propertyName:"*"},version:Kr},{types:Yr,property:{objectName:"subheader",propertyName:"fontFamily"},version:Rr},{types:Yr,property:{objectName:"subheader",propertyName:"fontSize"},version:Rr},{types:Yr,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:Rr},{types:Yr,property:{objectName:"subheader",propertyName:"alignment"},version:Rr},{types:Yr,property:{objectName:"subheader",propertyName:"position"},version:Rr},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:Rr},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:Rr},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:Rr},{property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:Dt,types:[i.D.azureMap]},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Bt},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Bt},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Bt},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Bt},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Bt},{types:Yr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Bt},{types:[i.D.map,i.D.filledMap,i.D.heatMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:lr},{types:[i.D.azureMap],property:{objectName:"mapControls",propertyName:"showSelectionControl"},version:dr},{types:Yr,property:{objectName:"subheader",propertyName:"titleWrap"},version:yr},{types:["group"],property:{objectName:"lockAspect",propertyName:"show"},version:fr},{types:[i.D.lineChart],property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:ur},{types:ra,property:{objectName:"smallMultiplesLayout",propertyName:"gridPadding"},version:ft},{types:ra,property:{objectName:"smallMultiplesLayout",propertyName:"advancedPaddingOptions"},version:ft},{types:ra,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingInner"},version:ft},{types:ra,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingOuter"},version:ft},{types:ra,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingInner"},version:ft},{types:ra,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingOuter"},version:ft},{types:Zr,property:{objectName:"subheader",propertyName:"fontFamily"},version:Et},{types:Zr,property:{objectName:"subheader",propertyName:"fontSize"},version:Et},{types:Zr,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:Et},{types:Zr,property:{objectName:"subheader",propertyName:"alignment"},version:Et},{types:Zr,property:{objectName:"subheader",propertyName:"position"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Et},{types:Zr,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Et},{types:Zr,property:{objectName:"subheader",propertyName:"titleWrap"},version:Et},{types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"invertAxis"},version:kt},{types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart,i.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"invertAxis"},version:kt},{types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart],property:{objectName:"y2Axis",propertyName:"secInvertAxis"},version:kt},{types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart],property:{objectName:"valueAxis",propertyName:"secInvertAxis"},version:kt},{property:{objectName:"visualTooltip",propertyName:"actionFontColor"},version:Jt},{property:{objectName:"visualTooltip",propertyName:"themedTitleFontColor"},version:Jt},{property:{objectName:"visualTooltip",propertyName:"themedValueFontColor"},version:Jt},{property:{objectName:"visualTooltip",propertyName:"themedBackground"},version:Jt},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:N.v5_21,types:[i.D.shape]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:N.v5_21,types:[i.D.shape]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:N.v5_21,types:[i.D.shape]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:N.v5_21,types:[i.D.shape]},{property:{objectName:"shadow",propertyName:"color",isExprBound:!0},version:N.v5_21,types:[i.D.shape]},{property:{objectName:"glow",propertyName:"color",isExprBound:!0},version:N.v5_21,types:[i.D.shape]},{types:[i.D.map,i.D.filledMap,i.D.heatMap],property:{objectName:"mapControls",propertyName:"showLassoButton"},version:er},{types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(jt,Zt)=>!Zt||Zt&&Zt.data&&1===Zt.data.length&&(0,m.qm)(Zt.data[0])},version:Y},{types:[i.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:jt=>{if(jt){var nr=jt.name;if(nr)return nr.value===p.G}return!1}},version:K},{property:{objectName:"visualHeaderTooltip",propertyName:"themedTitleFontColor"},version:yt},{property:{objectName:"visualHeaderTooltip",propertyName:"themedBackground"},version:yt},{types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"transparency"},version:Tt},{types:ra,property:{objectName:"subheader",propertyName:"show"},version:xe},{types:ra,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!0},version:N.v5_22},{types:ra,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!0},version:N.v5_22},{types:[i.D.azureMap,i.D.donutChart,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,...Er],property:{objectName:"legend",propertyName:"labelColor",isExprBound:!0},version:qt},{types:[i.D.azureMap,i.D.donutChart,i.D.pieChart,i.D.funnel,i.D.map,i.D.filledMap,i.D.shapeMap,...da],property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:qt},{types:[i.D.donutChart,i.D.pieChart,i.D.funnel,i.D.map,i.D.filledMap,i.D.treemap,...Wi],property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:qt},{types:ji,property:{objectName:"totals",propertyName:"color",isExprBound:!0},version:qt},{types:[i.D.funnel],property:{objectName:"percentBarLabel",propertyName:"color",isExprBound:!0},version:qt},{types:[i.D.funnel],property:{objectName:"categoryAxis",propertyName:"color",isExprBound:!0},version:qt},{types:da,property:{objectName:"categoryAxis",propertyName:"start",isExprBound:!0},version:qt},{types:da,property:{objectName:"categoryAxis",propertyName:"end",isExprBound:!0},version:qt},{types:da,property:{objectName:"categoryAxis",propertyName:"titleColor",isExprBound:!0},version:qt},{types:da,property:{objectName:"categoryAxis",propertyName:"gridlineColor",isExprBound:!0},version:qt},{types:Er,property:{objectName:"categoryAxis",propertyName:"labelColor",isExprBound:!0},version:qt},{types:da,property:{objectName:"valueAxis",propertyName:"start",isExprBound:!0},version:qt},{types:da,property:{objectName:"valueAxis",propertyName:"end",isExprBound:!0},version:qt},{types:da,property:{objectName:"valueAxis",propertyName:"titleColor",isExprBound:!0},version:qt},{types:da,property:{objectName:"valueAxis",propertyName:"gridlineColor",isExprBound:!0},version:qt},{types:Er,property:{objectName:"valueAxis",propertyName:"labelColor",isExprBound:!0},version:qt},{types:Pi,property:{objectName:"valueAxis",propertyName:"secStart",isExprBound:!0},version:qt},{types:Pi,property:{objectName:"valueAxis",propertyName:"secEnd",isExprBound:!0},version:qt},{types:[i.D.areaChart,i.D.lineChart],property:{objectName:"y2Axis",propertyName:"secStart",isExprBound:!0},version:qt},{types:[i.D.areaChart,i.D.lineChart],property:{objectName:"y2Axis",propertyName:"secEnd",isExprBound:!0},version:qt},{types:[i.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"color",isExprBound:!0},version:qt},{types:[i.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"color",isExprBound:!0},version:qt},{types:[i.D.multiRowCard,i.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",isExprBound:!0},version:qt},{types:[i.D.gauge],property:{objectName:"axis",propertyName:"min",isExprBound:!0},version:qt},{types:[i.D.gauge],property:{objectName:"axis",propertyName:"max",isExprBound:!0},version:qt},{types:[i.D.gauge],property:{objectName:"axis",propertyName:"target",isExprBound:!0},version:qt},{types:[i.D.slicer],property:{objectName:"slider",propertyName:"color",isExprBound:!0},version:qt},{types:[i.D.slicer],property:{objectName:"header",propertyName:"fontColor",isExprBound:!0},version:qt},{types:[i.D.slicer],property:{objectName:"header",propertyName:"background",isExprBound:!0},version:qt},{property:{objectName:"visualLink",propertyName:"showDefaultTooltip"},version:hr},{property:{objectName:"shape",propertyName:"arrowheadSize"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"arrowStemWidth"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"chevronAngle"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"parallelogramSlant"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"trapezoidSlant"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"hexagonSlant"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"octagonSnipSize"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleHeight"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailPosition"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailAngle"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"rectangleRoundedCurve"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTop"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerBottom"},version:gr,types:[i.D.shape,i.D.actionButton]},{property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:br,types:[i.D.areaChart,i.D.columnChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart,i.D.ribbonChart,i.D.stackedAreaChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"value",isExprBound:!0},version:br,types:[i.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeRegion"},version:br,types:[i.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeColor"},version:br,types:[i.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeTransparency"},version:br,types:[i.D.lineChart]},{property:{objectName:"title",propertyName:"heading"},version:Wr},{property:{objectName:"text",propertyName:"leftMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"text",propertyName:"rightMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"text",propertyName:"topMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"text",propertyName:"bottomMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"image"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"leftMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"rightMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"topMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"bottomMargin"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"placement"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"icon",propertyName:"iconSize"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"shape",propertyName:"*"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"shadow",propertyName:"*"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"glow",propertyName:"*"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"rotation",propertyName:"*"},version:Cr,types:[i.D.actionButton]},{property:{objectName:"seriesLabels",propertyName:"*"},version:Be,types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart]},{types:[i.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"totalsEnabled"},version:nt},{types:[i.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"*"},version:dt},{types:[i.D.pageNavigator,i.D.bookmarkNavigator],property:{objectName:"background",propertyName:"show"},version:ot},{types:[i.D.pageNavigator,i.D.bookmarkNavigator],property:{objectName:"visualHeader",propertyName:"show"},version:ot},{property:{objectName:"slices",propertyName:"startAngle"},version:lt,types:[i.D.donutChart,i.D.pieChart]},{types:[i.D.donutChart,i.D.pieChart],property:{objectName:"slices",propertyName:"borderWidth"},version:ie},{types:[i.D.donutChart,i.D.pieChart],property:{objectName:"slices",propertyName:"borderColor"},version:ie},{types:[i.D.donutChart,i.D.pieChart],property:{objectName:"slices",propertyName:"explode"},version:ie},{types:[i.D.pieChart],property:{objectName:"slices",propertyName:"innerRadiusRatio"},version:ie},{types:[i.D.azureMap,i.D.donutChart,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,i.D.heatMap,...Er],property:{objectName:"legend",propertyName:"bold"},version:Oe},{types:[i.D.azureMap,i.D.donutChart,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,i.D.heatMap,...Er],property:{objectName:"legend",propertyName:"italic"},version:Oe},{types:[i.D.azureMap,i.D.donutChart,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,i.D.heatMap,...Er],property:{objectName:"legend",propertyName:"underline"},version:Oe},{types:[i.D.funnel,i.D.scatterChart,...Er],property:{objectName:"categoryAxis",propertyName:"bold"},version:Oe},{types:[i.D.funnel,i.D.scatterChart,...Er],property:{objectName:"categoryAxis",propertyName:"italic"},version:Oe},{types:[i.D.funnel,i.D.scatterChart,...Er],property:{objectName:"categoryAxis",propertyName:"underline"},version:Oe},{types:[...Er],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Oe},{types:[...Er],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Oe},{types:[...Er],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Oe},{types:[i.D.scatterChart,...Er],property:{objectName:"valueAxis",propertyName:"bold"},version:Oe},{types:[i.D.scatterChart,...Er],property:{objectName:"valueAxis",propertyName:"italic"},version:Oe},{types:[i.D.scatterChart,...Er],property:{objectName:"valueAxis",propertyName:"underline"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"titleBold"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"secBold"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"secItalic"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"secUnderline"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"secTitleBold"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"secTitleItalic"},version:Oe},{types:[...Er],property:{objectName:"valueAxis",propertyName:"secTitleUnderline"},version:Oe},{types:[...Er],property:{objectName:"y2Axis",propertyName:"secBold"},version:Oe},{types:[...Er],property:{objectName:"y2Axis",propertyName:"secItalic"},version:Oe},{types:[...Er],property:{objectName:"y2Axis",propertyName:"secUnderline"},version:Oe},{types:[...Er],property:{objectName:"y2Axis",propertyName:"secTitleBold"},version:Oe},{types:[...Er],property:{objectName:"y2Axis",propertyName:"secTitleItalic"},version:Oe},{types:[...Er],property:{objectName:"y2Axis",propertyName:"secTitleUnderline"},version:Oe},{types:[i.D.azureMap,i.D.card,i.D.donutChart,i.D.funnel,i.D.gauge,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,...Er],property:{objectName:"labels",propertyName:"bold"},version:Oe},{types:[i.D.azureMap,i.D.card,i.D.donutChart,i.D.funnel,i.D.gauge,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,...Er],property:{objectName:"labels",propertyName:"italic"},version:Oe},{types:[i.D.azureMap,i.D.card,i.D.donutChart,i.D.funnel,i.D.gauge,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,...Er],property:{objectName:"labels",propertyName:"underline"},version:Oe},{types:[...Er],property:{objectName:"seriesLabels",propertyName:"bold"},version:Oe},{types:[...Er],property:{objectName:"seriesLabels",propertyName:"italic"},version:Oe},{types:[...Er],property:{objectName:"seriesLabels",propertyName:"underline"},version:Oe},{types:[i.D.azureMap,i.D.card,i.D.multiRowCard,i.D.donutChart,i.D.scatterChart,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,i.D.heatMap],property:{objectName:"categoryLabels",propertyName:"bold"},version:Oe},{types:[i.D.azureMap,i.D.card,i.D.multiRowCard,i.D.donutChart,i.D.scatterChart,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,i.D.heatMap],property:{objectName:"categoryLabels",propertyName:"italic"},version:Oe},{types:[i.D.azureMap,i.D.card,i.D.multiRowCard,i.D.donutChart,i.D.scatterChart,i.D.pieChart,i.D.map,i.D.filledMap,i.D.shapeMap,i.D.treemap,i.D.heatMap],property:{objectName:"categoryLabels",propertyName:"underline"},version:Oe},{types:[i.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"bold"},version:Oe},{types:[i.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"italic"},version:Oe},{types:[i.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"underline"},version:Oe},{types:[i.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"bold"},version:Oe},{types:[i.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"italic"},version:Oe},{types:[i.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"underline"},version:Oe},{types:[i.D.funnel],property:{objectName:"percentBarLabel",propertyName:"bold"},version:Oe},{types:[i.D.funnel],property:{objectName:"percentBarLabel",propertyName:"italic"},version:Oe},{types:[i.D.funnel],property:{objectName:"percentBarLabel",propertyName:"underline"},version:Oe},{types:[i.D.gauge],property:{objectName:"target",propertyName:"bold"},version:Oe},{types:[i.D.gauge],property:{objectName:"target",propertyName:"italic"},version:Oe},{types:[i.D.gauge],property:{objectName:"target",propertyName:"underline"},version:Oe},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Oe},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Oe},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Oe},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"bold"},version:Oe},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"italic"},version:Oe},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"underline"},version:Oe},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"titleBold"},version:Oe},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"titleItalic"},version:Oe},{types:[i.D.kpi],property:{objectName:"goals",propertyName:"titleUnderline"},version:Oe},{types:[i.D.kpi],property:{objectName:"lastDate",propertyName:"bold"},version:Oe},{types:[i.D.kpi],property:{objectName:"lastDate",propertyName:"italic"},version:Oe},{types:[i.D.kpi],property:{objectName:"lastDate",propertyName:"underline"},version:Oe},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"bold"},version:Oe},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"italic"},version:Oe},{types:[i.D.kpi],property:{objectName:"indicator",propertyName:"underline"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelBold"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelItalic"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelUnderline"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelBold"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelItalic"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelUnderline"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleBold"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleItalic"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleUnderline"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleBold"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleItalic"},version:Oe},{types:[i.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleUnderline"},version:Oe},{types:[...Er],property:{objectName:"subheader",propertyName:"bold"},version:Oe},{types:[...Er],property:{objectName:"subheader",propertyName:"italic"},version:Oe},{types:[...Er],property:{objectName:"subheader",propertyName:"underline"},version:Oe},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"columnHeaders",propertyName:"bold"},version:Oe},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"columnHeaders",propertyName:"italic"},version:Oe},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"columnHeaders",propertyName:"underline"},version:Oe},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"values",propertyName:"bold"},version:Oe},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"values",propertyName:"italic"},version:Oe},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"values",propertyName:"underline"},version:Oe},{types:[i.D.tableEx],property:{objectName:"total",propertyName:"bold"},version:Oe},{types:[i.D.tableEx],property:{objectName:"total",propertyName:"italic"},version:Oe},{types:[i.D.tableEx],property:{objectName:"total",propertyName:"underline"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"rowTotal",propertyName:"bold"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"rowTotal",propertyName:"italic"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"rowTotal",propertyName:"underline"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"columnTotal",propertyName:"bold"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"columnTotal",propertyName:"italic"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"columnTotal",propertyName:"underline"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"bold"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"italic"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"underline"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"subTotals",propertyName:"bold"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"subTotals",propertyName:"italic"},version:Oe},{types:[i.D.pivotTable],property:{objectName:"subTotals",propertyName:"underline"},version:Oe},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"bold"},version:Oe},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"italic"},version:Oe},{types:[i.D.barChart,i.D.columnChart,i.D.lineStackedColumnComboChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.stackedAreaChart],property:{objectName:"totals",propertyName:"underline"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionBold"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionItalic"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionUnderline"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerBold"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerItalic"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerUnderline"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardBold"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardItalic"},version:Oe},{types:[i.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardUnderline"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"header",propertyName:"bold"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"header",propertyName:"italic"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"header",propertyName:"underline"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"items",propertyName:"bold"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"items",propertyName:"italic"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"items",propertyName:"underline"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"date",propertyName:"bold"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"date",propertyName:"italic"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"date",propertyName:"underline"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"bold"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"italic"},version:Oe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"underline"},version:Oe},{property:{objectName:"title",propertyName:"bold"},version:Oe},{property:{objectName:"title",propertyName:"italic"},version:Oe},{property:{objectName:"title",propertyName:"underline"},version:Oe},{property:{objectName:"visualTooltip",propertyName:"bold"},version:Oe},{property:{objectName:"visualTooltip",propertyName:"italic"},version:Oe},{property:{objectName:"visualTooltip",propertyName:"underline"},version:Oe},{types:[i.D.textbox],property:{...y.RL.general.paragraphs,matchByContents:(jt,Zt)=>{if((0,S.Fq)(jt))for(var nr of jt)if(nr&&!_.isEmpty(nr.listType))return!0;return!1}},version:We},{types:[i.D.rdlVisual],property:{objectName:"toolbar",propertyName:"pageNavigation"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"toolbar",propertyName:"useFloatingToolbar"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"toolbar",propertyName:"openReportButton"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"toolbar",propertyName:"position"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"show"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportExcel"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportPDF"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportAccessiblePDF"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportCSV"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportPPTX"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportWord"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportMHTML"},version:Ft},{types:[i.D.rdlVisual],property:{objectName:"export",propertyName:"exportXML"},version:Ft},{property:C.A.scorecard.showCommandBar,types:[i.D.scorecard],version:xt},{types:[i.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"mapTransparency"},version:_t},{types:[i.D.tableEx,i.D.pivotTable],property:{objectName:"sparklines",propertyName:"*"},version:Wt},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"date",propertyName:"hideDatePickerButton"},version:ar},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"items",propertyName:"padding"},version:ar},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"items",propertyName:"accessibilityContrastProperties"},version:ar},{types:[i.D.azureMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Yt},{types:[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart],property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:kr},{types:[i.D.tableEx,i.D.pivotTable],property:{objectName:"grid",propertyName:"outlineStyle"},version:Gr},{types:[i.D.tableEx,i.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineWeight"},version:Gr},{types:[i.D.tableEx,i.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineColor"},version:Gr},{types:[i.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineWeight"},version:Gr},{types:[i.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineColor"},version:Gr},{types:[i.D.tableEx],property:{objectName:"total",propertyName:"outlineWeight"},version:Gr},{types:[i.D.tableEx],property:{objectName:"total",propertyName:"outlineColor"},version:Gr},{types:[i.D.tableEx,i.D.pivotTable],property:{objectName:"values",propertyName:"outlineWeight"},version:Gr},{types:[i.D.tableEx,i.D.pivotTable],property:{objectName:"values",propertyName:"outlineColor"},version:Gr},{property:{objectName:"visualHeaderTooltip",propertyName:"type"},version:Nr},{property:{objectName:"legend",propertyName:"position",matchByContents:(jt,Zt)=>{var mr=jt&&jt.value;return mr===d.tV.TopRight||mr===d.tV.BottomRight}},version:Tr,types:[i.D.areaChart,i.D.azureMap,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.donutChart,i.D.filledMap,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.map,i.D.pieChart,i.D.ribbonChart,i.D.scatterChart,i.D.shapeMap,i.D.stackedAreaChart,i.D.treemap,i.D.waterfallChart]},{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"stylePreset",propertyName:"name",matchByContents:jt=>jt.value===o.pJ},version:pa},{types:[i.D.tableEx],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:ia},{types:[i.D.tableEx],property:{objectName:"accessibility",propertyName:"rowWithReferenceText"},version:oe},{types:[i.D.lineChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart,i.D.barChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.ribbonChart],property:{objectName:"error",propertyName:"*"},version:Fe},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"fontFamily"},version:pe},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:pe},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:pe},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:pe},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"slider",propertyName:"handleBorderColor",isExprBound:!0},version:vt},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"slider",propertyName:"handleFillColor",isExprBound:!0},version:vt},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"slider",propertyName:"secondaryLineColor",isExprBound:!0},version:vt},{types:[i.D.actionButton,i.D.shape,i.D.pageNavigator,i.D.bookmarkNavigator],property:{objectName:"text",propertyName:"italic"},version:Mt},{types:[i.D.actionButton,i.D.shape,i.D.pageNavigator,i.D.bookmarkNavigator],property:{objectName:"text",propertyName:"bold"},version:Mt},{types:[i.D.actionButton,i.D.shape,i.D.pageNavigator,i.D.bookmarkNavigator],property:{objectName:"text",propertyName:"underline"},version:Mt},{property:{objectName:"visualHeaderTooltip",propertyName:"bold"},version:Ot},{property:{objectName:"visualHeaderTooltip",propertyName:"italic"},version:Ot},{property:{objectName:"visualHeaderTooltip",propertyName:"underline"},version:Ot},{types:[i.D.azureMap],property:{objectName:"filledMap",propertyName:"*"},version:zt},{types:[i.D.scatterChart,i.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Jr},{types:[i.D.scatterChart,i.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Jr},{types:[i.D.scatterChart,i.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Jr},{types:[i.D.scatterChart,i.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Jr},{types:[i.D.scatterChart,i.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleBold"},version:Jr},{types:[i.D.scatterChart,i.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Jr},{types:[i.D.waterfallChart,i.D.treemap,i.D.lineChart,i.D.areaChart,i.D.columnChart,i.D.barChart,i.D.pieChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.donutChart,i.D.funnel,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart,i.D.ribbonChart,i.D.stackedAreaChart],property:{objectName:"labels",propertyName:"color",matchByContents:(jt,Zt)=>!_.isEmpty(Zt?.data)},version:Va},{types:[i.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(jt,Zt)=>!_.isEmpty(Zt?.data)},version:Va},{types:[i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineStackedColumnComboChart,i.D.stackedAreaChart,i.D.barChart,i.D.columnChart],property:{objectName:"totals",propertyName:"color",matchByContents:(jt,Zt)=>!_.isEmpty(Zt?.data)},version:Va},{types:[i.D.barChart,i.D.columnChart,i.D.ribbonChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart,i.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},version:Wa},{types:[i.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:jt=>{if(jt){var nr=jt.name;if(nr)return nr.value===p.sp}return!1}},version:wa},{types:[i.D.azureMap],property:{objectName:"categoryLabels",propertyName:"*"},version:ja},{types:[i.D.azureMap],property:{objectName:"mapControls",propertyName:"showLabels"},version:Fa},{types:ra,property:{objectName:"valueAxis",propertyName:"sharedAxis"},version:Ca},{types:ra,property:{objectName:"valueAxis",propertyName:"scaleToFit"},version:Ca},{property:{objectName:"visualHeader",propertyName:"showSmartNarrativeButton"},version:Ta},{types:[i.D.tableEx,i.D.pivotTable],property:{objectName:"grid",propertyName:"imageWidth"},version:ha},{types:[i.D.pageNavigator],property:{objectName:"pages",propertyName:"showByDefault"},version:ha},{types:[i.D.pageNavigator],property:{objectName:"pages",propertyName:"showPage"},version:ha},{types:[i.D.textbox],property:{...y.RL.general.paragraphs,matchByContents:(jt,Zt)=>{if((0,S.Fq)(jt))for(var nr of jt)if(nr&&!_.isEmpty(nr.indent))return!0;return!1}},version:Ea},{types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showByDefault"},version:oa},{types:[i.D.areaChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.stackedAreaChart],property:{objectName:"seriesLabels",propertyName:"showByDefault"},version:oa},{types:[i.D.areaChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.stackedAreaChart],property:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},version:oa},{types:[i.D.lineChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart],property:{objectName:"error",propertyName:"showMarkerByDefault"},version:oa},{types:[i.D.barChart,i.D.hundredPercentStackedBarChart,i.D.clusteredBarChart],property:{objectName:"categoryAxis",propertyName:"concatenateLabels"},version:xa},{property:{objectName:"padding",propertyName:"*"},version:la},{property:{objectName:"subTitle",propertyName:"*"},version:la},{property:{objectName:"divider",propertyName:"*"},version:la},{property:{objectName:"spacing",propertyName:"*"},version:la},{types:zi,property:{objectName:"mapControls",propertyName:"geocodingCulture",matchByContents:jt=>(0,h.xF)(jt.value,h.ST.v2_0)},version:Da},{types:[i.D.barChart,i.D.columnChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.ribbonChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.areaChart,i.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showDynamicLabels"},version:va},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"showDynamicLabels"},version:va},{types:[i.D.gauge],property:{objectName:"calloutValue",propertyName:"dynamicLabelValue"},version:va},{property:{objectName:"visualLink",propertyName:"tooltipPlaceholderText"},version:Ra},{types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart],property:{objectName:"lineStyles",propertyName:"lineChartType"},version:Pa},{types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],property:{objectName:"labels",propertyName:"leaderLines"},version:Sa},{types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],property:{objectName:"labels",propertyName:"minimumOffset"},version:Sa},{types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],property:{objectName:"labels",propertyName:"maximumOffset"},version:Sa},{types:[i.D.scatterChart,i.D.map,i.D.heatMap],property:{objectName:"bubbles",propertyName:"markerRangeType"},version:Ma},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"markerRangeType",matchByContents:jt=>!(jt.value===n.Dl.deprecated)},version:ka},...["fillTransparency","borderShow","borderSize","borderColor","borderColorMatchFill","borderTransparency"].map(jt=>({types:[..._a,...ua,...ca],property:{objectName:"dataPoint",propertyName:jt},version:ta})),{types:[..._a,...ua,...ca,i.D.stackedAreaChart],property:{objectName:"layout",propertyName:"seriesOrderReversed"},version:ta},{types:[..._a,...ua,...ca],property:{objectName:"layout",propertyName:"seriesOrderSorted"},version:ta},{types:[...ua,i.D.lineStackedColumnComboChart],property:{objectName:"layout",propertyName:"stackedGapSize"},version:ta},{types:[i.D.barChart,i.D.columnChart,i.D.ribbonChart,...Ui],property:{objectName:"layout",propertyName:"stackedGapExplodes"},version:ta},{types:[i.D.ribbonChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:ta},{types:[i.D.ribbonChart],property:{objectName:"ribbonBands",propertyName:"*"},version:ta},{types:[i.D.ribbonChart],property:{objectName:"valueAxis",propertyName:"showAxisTitle"},version:ta},{types:[i.D.pivotTable],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:Oa},{types:wr,property:{objectName:"labels",propertyName:"dynamicLabelValue"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleBold"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleColor"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleShowBlankAs"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleContentType"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"enableTitleDataLabel"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleFontFamily"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleFontSize"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleItalic"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"dynamicLabelTitle"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleTransparency"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleCustomFormatString"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"valueCustomFormatString"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleLabelPrecision"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"titleUnderline"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailBold"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailColor"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"dynamicLabelDetail"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"enableDetailDataLabel"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailFontFamily"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailFontSize"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailItalic"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailTransparency"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailUnderline"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailShowBlankAs"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailCustomFormatString"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailLabelPrecision"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"detailContentType"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"enableValueDataLabel"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"showBlankAs"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"transparency"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"wordWrap"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"labelContentLayout"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"optimizeLabelDisplay"},version:Mr},{types:wr,property:{objectName:"labels",propertyName:"labelContainerMaxWidth"},version:Mr},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},version:ma},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},version:ma},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},version:ma},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},version:ma},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},version:ma},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"},version:ma},{types:[i.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},version:ma},{types:[i.D.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},version:za},{types:[i.D.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:jt=>{if(jt){var nr=jt.name;if(nr)return nr.value.endsWith(".wkt")||nr.value.endsWith(".kml")}return!1}},version:za},{types:[i.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"expandCompositeHierarchy"},version:Ja},...["clusteredGapSize","clusteredGapOverlaps","clusteredGapOverlapReverse"].map(jt=>({types:[..._a,i.D.lineClusteredColumnComboChart],property:{objectName:"layout",propertyName:jt},version:ga})),{types:[...ua,i.D.lineStackedColumnComboChart],property:{objectName:"dataPoint",propertyName:"borderOutlineOnly"},version:ga},{types:[i.D.barChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart],property:{objectName:"ribbonBands",propertyName:"*"},version:ga},{types:[i.D.barChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:ga},{types:[i.D.ribbonChart],property:{objectName:"totals",propertyName:"*"},version:ga},{types:[i.D.ribbonChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:ga},{types:wr,property:{objectName:"labels",propertyName:"horizontalAlignment"},version:Za},...["leaderLineColor","leaderLineTransparency","leaderLineWidth"].map(jt=>({types:[i.D.lineChart,i.D.areaChart],property:{objectName:"labels",propertyName:jt},version:Za})),{types:[i.D.pivotTable,i.D.tableEx],property:{objectName:"columnFormatting",propertyName:"dataBars",matchByContents:(jt,Zt)=>null!=(jt&&jt.totalMatchingOption)},version:vi},...["strokeTransparency","interpolationStep","interpolationSmooth","interpolationSmoothParam","areaShow","areaColor","areaMatchStrokeColor"].map(jt=>({types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart],property:{objectName:"lineStyles",propertyName:jt},version:Ba})),{types:ca,property:{objectName:"dataPoint",propertyName:"transparency"},version:Ba},...[{objectName:"general",propertyName:"layout"},{objectName:"rowHeaders",propertyName:"repeatRowHeaders"},{objectName:"blankRows",propertyName:"showBlankRows"},{objectName:"blankRows",propertyName:"blankRowColor"},{objectName:"blankRows",propertyName:"blankRowTransparency"},{objectName:"blankRows",propertyName:"showBorder"},{objectName:"blankRows",propertyName:"borderPosition"},{objectName:"blankRows",propertyName:"borderColor"},{objectName:"blankRows",propertyName:"borderTransparency"},{objectName:"blankRows",propertyName:"borderWidth"}].map(jt=>({types:[i.D.pivotTable],property:{objectName:jt.objectName,propertyName:jt.propertyName},version:mi})),..._.flattenDeep([["width","dashArray","dashCap","autoScale"].map(jt=>({types:[i.D.scatterChart],property:{objectName:"ratioLine",propertyName:jt},version:sa})),["width","strokeTransparency","dashArray","dashCap","autoScale"].map(jt=>({types:[i.D.lineChart],property:{objectName:"forecast",propertyName:jt},version:sa})),["strokeShow","strokeDashArray","strokeDashCap","strokeAutoScale"].map(jt=>({types:[i.D.areaChart,i.D.lineChart,i.D.stackedAreaChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart,i.D.hundredPercentStackedAreaChart],property:{objectName:"lineStyles",propertyName:jt},version:sa})),["leaderLinePattern","leaderLineDashArray","leaderLineDashCap","leaderLineAutoScale"].map(jt=>({property:{objectName:"labels",propertyName:jt},types:[i.D.lineChart,i.D.areaChart],version:sa})),["gridLineTransparency","gridLineShow"].map(jt=>({types:[...ra,i.D.hundredPercentStackedAreaChart],property:{objectName:"smallMultiplesLayout",propertyName:jt},version:sa})),["width","dashArray","dashCap","autoScale"].map(jt=>({types:[i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.scatterChart,i.D.lineChart,i.D.areaChart],property:{objectName:"referenceLine",propertyName:jt},version:sa})),["categoryAxis","valueAxis"].map(jt=>[["gridlineTransparency","gridlineDashArray","gridlineDashCap","gridlineAutoScale"].map(Zt=>({types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.hundredPercentStackedAreaChart,i.D.ribbonChart,i.D.scatterChart,..."valueAxis"===jt?[i.D.waterfallChart]:[]],property:{objectName:jt,propertyName:Zt},version:sa}))]),["trend","xAxisReferenceLine","y1AxisReferenceLine"].map(jt=>[["width","dashArray","dashCap","autoScale"].map(Zt=>({types:[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.hundredPercentStackedAreaChart,i.D.ribbonChart,i.D.scatterChart,...["y1AxisReferenceLine"].includes(jt)?[i.D.waterfallChart]:[]],property:{objectName:jt,propertyName:Zt},version:sa}))]),["bandLineShow","bandLineColor","bandLineTransparency","bandLineWidth","bandLinePattern","bandLineDashArray","bandLineDashCap","bandLineAutoScale","bandLineMatchColor","bandAreaShow","bandAreaMatchColor","bandAreaColor","bandAreaTransparency","matchSeriesInterpolation","interpolation","interpolationStep","interpolationSmooth","interpolationSmoothParam"].map(jt=>({types:[i.D.lineChart],property:{objectName:"forecast",propertyName:jt},version:sa}))]),{property:{objectName:"border",propertyName:"width"},version:qa},{types:[i.D.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:jt=>{if(jt){var nr=jt.name;if(nr)return nr.value.endsWith(".csv")}return!1}},version:ei},{types:[i.D.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl",matchByContents:jt=>!(0,a.VC)(jt)},version:gi},...["bubbleFillColor","bubbleStrokeColor","bubbleStrokeWidth","bubbleStrokeTransparency","polygonFillColor","polygonStrokeColor","polygonStrokeWidth","polygonStrokeTransparency","lineStrokeColor","lineStrokeWidth","lineStrokeTransparency"].map(jt=>({types:[i.D.azureMap],property:{objectName:"referenceLayer",propertyName:jt},version:ti})),...["show","position","color","transparency","width"].map(jt=>({types:[i.D.bookmarkNavigator,i.D.pageNavigator],property:{objectName:"accentBar",propertyName:jt},version:ri})),{types:ki,property:{objectName:"error",propertyName:"markerShow"},version:ii},{property:{objectName:"visualHeader",propertyName:"showSetAlertButton"},version:bi},{property:{objectName:"visualHeader",propertyName:"showFollowVisualButton"},version:ni},{types:[i.D.advancedSlicerVisual],property:{objectName:"image",propertyName:"image",matchByContents:(jt,Zt)=>!_.isEmpty(Zt.id)},version:Si},{types:[i.D.advancedSlicerVisual],property:{objectName:"selectionIcon",propertyName:"*"},version:Ka},...["transparency","rotation","borderShow","borderColor","borderColorMatchFill","borderTransparency","borderWidth"].map(jt=>({types:[i.D.scatterChart,i.D.areaChart,i.D.lineChart,i.D.stackedAreaChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart,i.D.hundredPercentStackedAreaChart],property:{objectName:"markers",propertyName:jt},version:oi})),...["markerTransparency","markerRotation","markerBorderShow","markerBorderColor","markerBorderColorMatchFill","markerBorderTransparency","markerBorderWidth","confidenceBandShow"].map(jt=>({types:[i.D.lineChart],property:{objectName:"anomalyDetection",propertyName:jt},version:oi})),...["bubbleFillOpacity","polygonFillOpacity","unmappedObjectVisibility","unmappedObjectUseCustomColors","unmappedObjectFillColor","unmappedObjectStrokeColor"].map(jt=>({types:[i.D.azureMap],property:{objectName:"referenceLayer",propertyName:jt},version:Ci})),...["color","strokeWidth","strokeTransparency","minZoom","maxZoom"].map(jt=>({types:[i.D.azureMap],property:{objectName:"pathLayer",propertyName:jt},version:li})),{types:[i.D.textbox],property:{...y.RL.general.paragraphs,matchByContents:(jt,Zt)=>{if((0,S.Fq)(jt))for(var nr of jt)if(nr&&!_.isEmpty(nr.textRuns))for(var mr of nr.textRuns)if((0,f.IM)(mr)&&mr.mentionEmail)return!0;return!1}},version:ui},{types:[i.D.scorecard],property:{objectName:"scorecard",propertyName:"displayMode"},version:ci},{types:[i.D.scorecard],property:{objectName:"scorecard",propertyName:"goalIds"},version:ci},{types:[i.D.scorecard],property:{objectName:"visualization",propertyName:e.p5},version:ci},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"show"},version:ya},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"color"},version:ya},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"transparency"},version:ya},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"position"},version:ya},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"size"},version:ya},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"showTooltip"},version:ya},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipText"},version:ya},{types:[i.D.slicer,i.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipLabel"},version:ya},{property:{objectName:"visualLink",propertyName:"dataFunction"},version:Ii},...["tilingMethod","innerPadding","outerPadding"].map(jt=>({types:[i.D.treemap],property:{objectName:"layout",propertyName:jt},version:Ri})),{types:[i.D.advancedSlicerVisual,i.D.listSlicer],property:{objectName:"value",propertyName:"verticalAlignment"},version:Ei},...["callout","highlight"].map(jt=>({property:{objectName:"annotationTemplate",propertyName:jt},version:Oi}))];function Ga(jt){if(jt&&!_.isEmpty(jt.data)&&1===jt.data.length&&(0,m.qm)(jt.data[0]))return jt.data[0].matchingOption}var Hi=["minColor","midColor","maxColor","nullColor"];function Qa(jt){if(jt instanceof g.jz)return!!_.find(Hi,mr=>mr===jt.value);if(jt instanceof Object&&!(jt instanceof Function)){var Zt=Object.keys(jt);for(var nr of Zt)if(Qa(jt[nr]))return!0}return!1}var jt,Zt,nr,Gi=[{currentId:{objectName:"dataPoint",propertyName:"fill"},previousId:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},version:N.v3_19,types:di},{currentId:{objectName:"columnTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"columnTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"columnTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"columnTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"columnTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"columnTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"columnTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"columnTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"rowTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[i.D.pivotTable],version:Dr},{currentId:{objectName:"visualLink",propertyName:"showDefaultTooltip"},previousId:{objectName:"visualLink",propertyName:"suppressDefaultTooltip"},types:[i.D.pivotTable],version:Lr,upgrader:x.Xv,featureSwitch:"showDefaultTooltip"},{currentId:{objectName:"fillPoint",propertyName:"style"},previousId:{objectName:"fillPoint",propertyName:"show"},types:[i.D.scatterChart],version:Br,upgrader:x.fw},{currentId:{objectName:"categoryAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"categoryAxis",propertyName:"position"},types:[i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.ribbonChart],version:Vr,upgrader:x.QK},{currentId:{objectName:"valueAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"valueAxis",propertyName:"position"},version:Vr,types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart,i.D.waterfallChart],upgrader:x.QK},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:sr,types:[i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.ribbonChart,i.D.waterfallChart],upgrader:x.Dq},{currentId:{objectName:"valueAxis",propertyName:"logAxisScale"},previousId:{objectName:"valueAxis",propertyName:"axisScale"},version:sr,types:[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart,i.D.waterfallChart],upgrader:x.Dq},{currentId:{objectName:"y2Axis",propertyName:"secLogAxisScale"},previousId:{objectName:"y2Axis",propertyName:"secAxisScale"},version:sr,types:[i.D.areaChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.stackedAreaChart],upgrader:x.Dq},{currentId:{objectName:"valueAxis",propertyName:"secLogAxisScale"},previousId:{objectName:"valueAxis",propertyName:"secAxisScale"},version:sr,types:[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart],upgrader:x.Dq},{currentId:{objectName:"columnHeaders",propertyName:"outlineStyle"},previousId:{objectName:"columnHeaders",propertyName:"outline"},version:Ar,types:[i.D.pivotTable,i.D.tableEx],upgrader:x.s8},{currentId:{objectName:"rowHeaders",propertyName:"outlineStyle"},previousId:{objectName:"rowHeaders",propertyName:"outline"},version:Ar,types:[i.D.pivotTable,i.D.tableEx],upgrader:x.s8},{currentId:{objectName:"values",propertyName:"outlineStyle"},previousId:{objectName:"values",propertyName:"outline"},version:Ar,types:[i.D.pivotTable,i.D.tableEx],upgrader:x.s8},{currentId:{objectName:"total",propertyName:"outlineStyle"},previousId:{objectName:"total",propertyName:"outline"},version:Ar,types:[i.D.tableEx],upgrader:x.s8},{currentId:{objectName:"grid",propertyName:"outlineStyle"},previousId:{objectName:"grid",propertyName:"outline"},version:Ar,types:[i.D.pivotTable,i.D.tableEx],upgrader:x.s8},{currentId:{objectName:"header",propertyName:"outlineStyle"},previousId:{objectName:"header",propertyName:"outline"},version:Ar,types:[i.D.slicer,i.D.filterSlicer],upgrader:x.s8},{currentId:{objectName:"searchBox",propertyName:"outlineStyle"},previousId:{objectName:"searchBox",propertyName:"outline"},version:Ar,types:[i.D.slicer,i.D.filterSlicer],upgrader:x.s8},{currentId:{objectName:"items",propertyName:"outlineStyle"},previousId:{objectName:"items",propertyName:"outline"},version:Ar,types:[i.D.slicer,i.D.filterSlicer],upgrader:x.s8},{currentId:{objectName:"card",propertyName:"outlineStyle"},previousId:{objectName:"card",propertyName:"outline"},version:Ar,types:[i.D.multiRowCard],upgrader:x.s8},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:ea,types:[i.D.areaChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.scatterChart,i.D.stackedAreaChart],upgrader:x.Dq,featureSwitch:"remainingCartesianCategoryLogAxisScale"},{currentId:{objectName:"lineStyle",propertyName:"stepped"},previousId:{objectName:"lineStyle",propertyName:"lineChartType"},version:N.v5_52,types:[...Ha,...ca],upgrader:x.xx},{currentId:{objectName:"lineStyles",propertyName:"shadeArea"},previousId:{objectName:"lineStyles",propertyName:"areaShow"},version:Ba,types:[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart]}],Mi=(jt=Ki,Zt=Gi,nr=[{property:{objectName:"categoryAxis",propertyName:"fontSize"},version:N.v4_2,upgrader:x.KI},{property:{objectName:"categoryAxis",propertyName:"titleFontSize"},version:N.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"fontSize"},version:N.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"titleFontSize"},version:N.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"secFontSize"},version:N.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"secTitleFontSize"},version:N.v4_2,upgrader:x.KI},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:N.v4_2,upgrader:x.KI},{property:{objectName:"outspacePane",propertyName:"titleSize"},version:N.v5_1,upgrader:x.KI},{property:{objectName:"outspacePane",propertyName:"headerSize"},version:N.v5_1,upgrader:x.KI},{property:{objectName:"filterCard",propertyName:"textSize"},version:N.v5_1,upgrader:x.KI}],l.fF.assert(()=>!_.find(Zt,mr=>_.find(jt,Ir=>(!mr.types||!Ir.types||_.find(mr.types,Qr=>_.find(Ir.types,Xr=>Xr===Qr)))&&Ir.property.objectName===mr.previousId.objectName&&Ir.property.propertyName===mr.previousId.propertyName&&(0,u.lt)(Ir.version,mr.version))),"explorationVersions.generateObjectVersioning - There is a property being renamed which name didn't get updated in addedObjectPropertyVersions\n            This will cause an issue when versioning the added property, so make sure to update the name in addedArray to contain the new name instead of the old one."),{added:function(jt){for(var Zt={},nr=function(Ir){var $r=jt[Ir];if(l.fF.assert(()=>!Ir||!(0,u.lt)($r.version,jt[Ir-1].version),"explorationVersions.generateAddedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the visual object property versions in increasing order of version,\n                we do that to optimize when checking for match in the ObjectPropertyVersionDictionaries"),null!=$r.types)for(var Qr of $r.types)wi(Qr,$r,Zt);else wi(e.p5,$r,Zt)},mr=0;mr<jt.length;mr++)nr(mr);return Zt}(jt),renamed:function(jt){for(var Zt={},nr=function($r){var Qr=jt[$r];if(l.fF.assert(()=>Qr.currentId.objectName!==Qr.previousId.objectName||Qr.currentId.propertyName!==Qr.previousId.propertyName,"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                You can't rename a property to itself!!"),l.fF.assert(()=>!$r||!(0,u.lt)(Qr.version,jt[$r-1].version),"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the renamed visual object property versions in increasing order of version,\n                we do that to create a linked list in case of multiple renames."),null!=Qr.types)for(var Xr of Qr.types)pi(Xr,Qr,Zt);else for(var ba in pi(e.p5,Qr,Zt),Zt)pi(ba,Qr,Zt)},mr=0,Ir=jt.length;mr<Ir;mr++)nr(mr);return Zt}(Zt),updated:nr});function pi(jt,Zt,nr){var mr=nr[jt];nr[jt]||(mr=nr[jt]={});var Ir=Zt.currentId.objectName,$r=mr[Ir];$r||($r=mr[Ir]={});var Qr=Zt.previousId,Xr=(fi,$a)=>{var La=fi&&fi[$a.objectName];return La&&La[$a.propertyName]},ba=Xr(mr,Qr)||Xr(nr[e.p5],Qr);$r[Zt.currentId.propertyName]={...Zt,previous:ba}}function wi(jt,Zt,nr){var mr=nr[jt];nr[jt]||(mr=nr[jt]={});var Ir=Zt.property.objectName,$r=mr[Ir];$r||($r=mr[Ir]={});var Qr=Zt.property.propertyName,Xr=$r[Qr];Xr||(Xr=$r[Qr]=[]),Xr.push(Zt),l.fF.assert(()=>1===Xr.length||!(0,u.lt)(Xr[Xr.length-1].version,Xr[Xr.length-2].version),"explorationVersions.setVersionInObjectPropertyVersionDictionary - objectVersionArray should be in increasing order")}function Zi(jt,Zt,nr,mr,Ir){return(0,V.Vj)({definitions:jt,descriptors:Zt,visitor:($r,Qr,Xr,ba)=>{mr=(0,u.Fp)(I.getVersionForSQExprWithDescriptor($r,ba),mr)}}),(0,V.rQ)(jt,Zt,($r,Qr,Xr,ba,fi)=>{var La=$r[Qr];mr=(0,u.Fp)(mr,(0,e.KB)(Mi.added,La,Xr,nr,ba,Qr,mr,()=>{var Fi=(0,V.NA)(jt,{objectName:ba,propertyName:Qr},Xr);if(Fi){var Yi=(0,b.oA)(Fi,Xr,Ir);if(!_.isEmpty(Yi))return!0}return!1})),(0,V.er)(La)&&(mr=(0,u.Fp)(mr,Or))}),mr}},784375:function(Ce,k,r){r.d(k,{Dq:function(){return p},KI:function(){return v},Mi:function(){return F},NN:function(){return I},Pq:function(){return W},QK:function(){return l},Rd:function(){return S},Xv:function(){return b},fw:function(){return m},jF:function(){return f},nc:function(){return A},pr:function(){return E},s8:function(){return g},v:function(){return U},xx:function(){return V}});var a=r(953474),e=r(743395),u=r(519060),t=r(520628),C=r(320810),y=r(939123),i=r(397129),o=r(528836),c=r(939349),h=r(688574),d=r(337066),n=r(756188);function s(j){return Math.round(100*i.FP.toPoint(j))/100}function p(j){return void 0!==j&&"log"===j}function l(j){return void 0!==j&&"Right"===j}function m(j){return j?u.f.fillOnly:u.f.borderOnly}function b(j){return!j}function V(j){return j?C.Fu.step:C.Fu.linear}function g(j){switch(j){case t.YP:return t.$m.Nil;case t.j0:return t.$m.Top;case t.wI:return t.$m.Bottom;case t.LI:return t.$m.Left;case t.RH:return t.$m.Right;case t.b_:return t.$m.Top|t.$m.Bottom;case t.v3:return t.$m.Left|t.$m.Right;case t.Wi:return t.$m.Top|t.$m.Right|t.$m.Bottom|t.$m.Left;default:return y.fF.assertFail("unexpected outline type"),t.$m.Nil}}function v(j){switch(typeof j){case"string":j=+j;case"number":return y.fF.assert(()=>!isNaN(j),"pxToPt upgrader encountered NaN"),s(j);default:return y.fF.assertFail("pxToPt upgrader encountered non-numerical parameter"),j}}function f(j){j&&(j.objects&&function(j){if(j)for(var H of P)E(j,H)}(j.objects),j.vcObjects&&function(j){if(j){var H=j.visualTooltip&&j.visualTooltip[0]&&j.visualTooltip[0].properties;if(H){var q=H.fontSize;if(q)if(N(q))H.fontSize=A(q);else{var G=e.ib.deserializeExpr(q.expr);H.fontSize=F(A(G))}}}}(j.vcObjects))}function S(j){j&&j.objects&&j.visualType===h.D.textbox&&function(j){if(j){var H=x(j,"general");if(H){var q=H.paragraphs;for(var G of q)for(var J of G.textRuns)if((0,c.IM)(J)&&J.textStyle&&J.textStyle.fontSize){var Z=J.textStyle.fontSize,Q=Z.indexOf("px");if(-1!==Q){var ne=+Z.substr(0,Q);J.textStyle.fontSize=s(ne)+"pt"}}}}}(j.objects)}var P=[{objectName:"valueAxis",propertyName:"fontSize"},{objectName:"valueAxis",propertyName:"titleFontSize"},{objectName:"valueAxis",propertyName:"secFontSize"},{objectName:"valueAxis",propertyName:"secTitleFontSize"},{objectName:"categoryAxis",propertyName:"fontSize"},{objectName:"categoryAxis",propertyName:"titleFontSize"}];function E(j,H){var q=x(j,H.objectName);if(q){var G=q[H.propertyName];if(G)if(N(G))q[H.propertyName]=A(G);else{var J=e.ib.deserializeExpr(G.expr);q[H.propertyName]=F(A(J))}}}function w(j,H){if(j)return j[H]||(j[H]=[]),-1===j[H].findIndex(G=>null==G.selector)&&j[H].push({properties:{}}),x(j,H)}function x(j,H){if(j){var q=j[H];if(q)for(var G of q)if(null==G.selector)return G.properties}}function N(j){return j instanceof o.Il&&(0,a.VC)(j)}function I(j){if(j&&!_.isEmpty(j.rowHeaders)){var G,J,H=x(j,"rowHeaders"),q=H?.stepped;q&&(N(q)?(G=o.jz.getBooleanValue(q),J=!1):(G=U(q),J=!0));var ne,Z=x(j,"subTotals"),Q=Z?.rowSubtotalsPosition;Q&&(ne=N(Q)?o.jz.getTextValue(Q):U(Q)),!0===G?z(j,d.t.Compact,J):!1===G&&(ne===n.we?z(j,d.t.Outline,J):(y.fF.assert(()=>void 0===ne||ne===n.I,"Unexpected rowSubtotalsPosition value"),z(j,d.t.Tabular,J))),void 0!==G&&delete H.stepped,_.isEmpty(H)&&delete j.rowHeaders}}function W(j,H,q){if("table"===j.visualType||"matrix"===j.visualType){if(O(j.objects,"general","textSize","grid"),O(j.objects,"general","autoSizeColumnWidth","columnHeaders"),"table"===j.visualType&&(j.visualType="tableEx",O(j.objects,"general","totals","total")),"matrix"===j.visualType&&q)if(j.objects||(j.objects={}),j.visualType="pivotTable",O(j.objects,"general","columnSubtotals","subTotals"),O(j.objects,"general","rowSubtotals","subTotals"),z(j.objects,d.t.Tabular,H),H)j.projections?.Rows?.forEach(Z=>Z.active=!0);else{var G=j.query?.projections?.Rows?.all().length;null!=G&&j.query.setActiveProjections(["Rows"],G)}if(null!=j.objects?.general){var J=j.objects.general.findIndex(Z=>null==Z.selector);J>=0&&(_.isEmpty(j.objects.general[J].properties)&&j.objects.general.splice(J,1),_.isEmpty(j.objects.general)&&delete j.objects.general)}}}function O(j,H,q,G){var J=x(j,H);null!=J?.[q]&&(w(j,G)[q]=J[q],delete J[q])}function F(j){return{expr:e.ib.serializeExpr(j)}}function A(j){var q=s(j.value);return(0,o.gH)(q)}function U(j){if(j&&"expr"in j)return e.ib.deserializeExpr(j.expr).value}function z(j,H,q){y.fF.assertValue(j,"setMatrixLayout requires object to be defined");var G=w(j,"general"),J=(0,o.fL)(H);G.layout=q?F(J):J}},147987:function(Ce,k,r){r.d(k,{fm:function(){return y},ps:function(){return t},zW:function(){return i}});var a=r(171520),e=r(939123),u=r(886137);function t(){return new C}class C{constructor(){}upgrade(c){if(e.fF.assertValue(c,"exploration"),c)for(var h of c.sections)for(var d of h.visualContainers){var n=d.config.singleVisual;if(n){var s=n.objects;if(!i(n.visualType))continue;y(s);var l=(0,a.K)(d.dataTransforms);l&&(y(l.objects),d.dataTransforms=JSON.stringify(l))}}}upgradeFilterCollection(){}upgradeVisualObjects(c,h,d,n){}getVersion(){return u.H3n.v3_19}}function y(o){var c="dataPoint",h="defaultCategoryColor";if(o&&o[c])for(var n of o[c])null==n.selector&&n.properties[h]&&(n.properties.fill=n.properties[h],delete n.properties[h])}function i(o){return _.includes(u.gMq,o)}},801749:function(Ce,k,r){r.d(k,{Am:function(){return p},ps:function(){return o}});var a=r(792375),e=r(743395),u=r(171520),t=r(939123),C=r(26026),y=r(528836),i=r(886137);function o(v){return new c(v)}class c{constructor(f){this.featureSwitchService=f}upgrade(f){if(t.fF.assertValue(f,"exploration"),f)for(var S of f.sections)for(var P of S.visualContainers){var D=P.config.singleVisual;if(D){var M=D.visualType,E=D.projections;this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(D.objects=h(D.objects,E,M),l(D.objects,E,M,D.prototypeQuery));var w=(0,u.K)(P.dataTransforms);w&&(this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(w.objects=h(w.objects,E,M),l(w.objects,E,M,D.prototypeQuery)),P.dataTransforms=JSON.stringify(w))}}}upgradeFilterCollection(){}upgradeVisualObjects(f,S,P,D){}getVersion(){return i.FL3}}function h(v,f,S){var P=d(S),D=f&&!_.isEmpty(f[P]);return"scatterChart"===S&&D&&null==(0,a.un)(v,"fillPoint")&&(v||(v={}),v.fillPoint=[{properties:{show:{expr:e.ib.serializeExpr((0,y.O7)(!0))}}}]),v}function d(v){switch(v){case"filledMap":return"Size";case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Gradient"}}function n(v){switch(v){case"filledMap":case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Tooltips"}}function s(v,f){return"filledMap"===v&&f&&!_.isEmpty(f.Series)&&!_.isEmpty(f.Size)}function p(v,f,S){var M=d(S);if(M){var E=f?.getQueryRef(M,{fieldIndex:0});if(E){t.fF.assertValue(f.defn,"upgradeGradientOnObjectDef - semantic query should exist");var w=f.defn.select().withName(E);t.fF.assertValue(w,"upgradeGradientOnObjectDef - query named expr should exist");var x=v&&v.dataPoint;if(!_.isEmpty(x))for(var N of x){var L=N.properties.fillRule;if(null==N.selector&&L){if(s(S,f.projections)||x.push({selector:{data:[(0,C.Ue)(1)]},properties:{fill:{solid:{color:(0,y.x5)(w.expr,L)}}}}),x.splice(x.indexOf(N),1),1===f.getUsageCount(E)){var B=f.tryGetExpr(M,0),I=n(S);t.fF.assertValue(I,"tooltips role should exist for visuals with gradient upgrade."),f.add(B,I)}f.removeProjection(M,{fieldIndex:0});break}}}}}function l(v,f,S,P){var M="fillRule",w=d(S);if(w){var x=f&&f[w];if(!_.isEmpty(x)){var N=x[0].queryRef;if(N){var L=_.cloneDeep(_.find(P&&P.Select,R=>R.Name===N));if(L){delete L.Name;var B=L.Aggregation||L.Measure;if(B){var I=B.Expression.Column&&B.Expression.Column.Expression.SourceRef||B.Expression.SourceRef;if(I){var W=_.find(P.From,R=>R.Name===I.Source);if(W){I.Entity=W.Entity,delete I.Source;var O=v&&v.dataPoint;if(!_.isEmpty(O))for(var F of O)if(null==F.selector&&F.properties[M]){if(!s(S,f)){var A=_.cloneDeep(F.properties[M]);O.push({selector:{data:[{dataViewWildcard:{matchingOption:1}}]},properties:{fill:{solid:{color:{expr:{FillRule:{FillRule:g(A),Input:L}}}}}}})}if(O.splice(O.indexOf(F),1),delete f[w],!m(N,f)){var T=n(S);t.fF.assertValue(T,"tooltips role should exist for visuals with gradient upgrade."),f[T]||(f[T]=[]),f[T].push(...x||[])}break}}}}}}}}}function m(v,f){for(var S in f)if(_.some(f[S],D=>D.queryRef===v))return!0;return!1}function b(v){v.color&&(v.color=v.color.expr),v.value&&(v.value=v.value.expr),v.strategy&&(v.strategy=v.strategy.expr)}function V(v){b(v.min),b(v.max),v.mid&&b(v.mid),v.nullColoringStrategy&&b(v.nullColoringStrategy)}function g(v){return v.linearGradient2&&V(v.linearGradient2),v.linearGradient3&&V(v.linearGradient3),v}},76002:function(Ce,k,r){r.d(k,{x:function(){return e}});var a=r(534721);function e(t){return new u(t)}class u{constructor(C){this.downgraders=C}getFinalVisualObjectsVersion(C,y,i,o){for(var c of this.downgraders)i=(0,a.Fp)(i,c.getMinDowngradeVersionForVisualObjects(C,y,o));return i}downgrade(C,y,i,o){for(var c of this.downgraders)c.downgradeVisualObjects(C,y,i,o)}}},989651:function(Ce,k,r){r.d(k,{U:function(){return e}});var a=r(534721);function e(t){return new u(t)}class u{constructor(C){this.upgraders=C}upgrade(C,y,i,o){for(var c of this.upgraders){var h=c.getVersion();(0,a.gt)(h,o)&&c.upgradeVisualObjects(C,y,i,o)}}}},147771:function(Ce,k,r){r.d(k,{q:function(){return C},v:function(){return t}});var a=r(171520),e=r(939123),u=r(878510);function t(y,i,o,c){e.fF.assertValue(y,"input");var h=[],d={objectId:y.objectId,name:y.objectId,type:y.type};y.creationTime&&(d.creationTime=new Date(Date.parse(y.creationTime))),y.expirationTime&&(d.expirationTime=new Date(Date.parse(y.expirationTime))),y.displayName&&(d.displayName=y.displayName),y.isDefault&&(d.isDefault=y.isDefault),null!=y.id&&(d.id=y.id);try{var n;y.explorationState&&((n=(0,a.K)(y.explorationState))||h.push({code:0})),n&&(d.explorationState=(0,u.vB)(n,i,o,c))}catch(p){h.push({code:1,message:p.message,stack:p.stack})}var s={contract:d};return _.isEmpty(h)||(s.errors=h),s}function C(y,i,o,c,h){e.fF.assertValue(y,"input");var d={objectId:y.objectId,type:y.type};if(y.creationTime&&(d.creationTime=y.creationTime.toISOString()),y.expirationTime&&(d.expirationTime=y.expirationTime.toISOString()),y.displayName&&(d.displayName=y.displayName),y.isDefault&&(d.isDefault=y.isDefault),null!=y.id&&(d.id=y.id),y.explorationState){var n=(0,u.qC)(y.explorationState,i,c,h,o);d.explorationState=JSON.stringify(n)}return d}},70393:function(Ce,k,r){r.d(k,{y:function(){return e}});var a=r(939123);function e(){return new u}class u{constructor(){this.isPaused=!1}register(C){for(var y=Object.create({}),i=C;i;)Object.getOwnPropertyNames(i).forEach(c=>{if("function"==typeof i[c]&&"constructor"!==c){if(void 0!==y[c])return;y[c]=i[c].bind(y)}}),i=Object.getPrototypeOf(i);return this.updateService(y),y}pause(){this.isPaused=!0}resume(){this.isPaused=!1}updateService(C){var y=this;a.fF.assertAnyValue(C,"service");var i=function(){if(_.isFunction(C[o])){var c=C[o],h=y;C[o]=function(){if(!h.isPaused)return c.apply(C,arguments)}}};for(var o in C)i()}}},379132:function(Ce,k,r){r.d(k,{I:function(){return s}});var a=r(783203),e=r(939123),u=r(454865),t=r(79964),C=r(179962),y=r(214817),i=r(528836),o=r(517273),c=r(347293),h=r(505875),d=r(159214),n=r(257738);function s(m,b,V){return new p(m,b,V)}var p=(()=>{class m{constructor(V,g,v){e.fF.assertValue(V,"displayNameService"),e.fF.assertValue(v,"visualPluginService"),this.displayNameService=V,this.featureSwitches=g,this.visualPluginService=v}getSortableFields(V){e.fF.assertValue(V,"options");var g=V.visualType,v=this.visualPluginService.capabilities(g);if(!v||!this.isVisualSortable(v))return{sortableFields:[],sortGroups:[]};var f=this.createIsRoleSortableDelegate(g,V.compiledMappings);return this.getGroupedSortableFieldsFromProjections(V.query,V.schema,v,V.columnProperties,f)}createIsRoleSortableDelegate(V,g){var v=this.visualPluginService.getPlugin(V),f=this.visualPluginService.capabilities(V);if(!v.getSortableRoles||!f.sorting)return P=>!0;var S=v.getSortableRoles({dataViewMappings:g});return _.isEmpty(S)?P=>!1:P=>S.indexOf(P)>=0}addSort(V,g){V&&V.defn&&g&&(V.defn=V.defn.orderBy(g))}removeSort(V,g){if(V&&V.defn&&g)for(var v of g)V.defn=V.defn.removeOrderBy(v.expr)}resetSort(V){if(V&&V.defn){var g=V.defn.orderBy();this.removeSort(V,g)}}applyImplicitSort(V,g){if(e.fF.assertValue(V,"query"),e.fF.assertAnyValue(g,"implicitSort"),!g)return V;var v=V.defn;if(!v)return V;var f=g.clauses,S=v.select(),P=[];for(var D of f){var M=(0,t.cY)(V.projections,D.role);if(M){var E=D.direction;P.push(..._.map(M.all(),w=>({expr:S.withName(w.queryRef).expr,direction:E})))}}return _.isEmpty(P)?V:new h.g(v.orderBy(P),V.projections,V.expansionStates,V.isDrillDisabled)}shouldApplyDefaultSort(V,g){if(g.sorting?.custom||g.sorting?.implicit)return!1;var v=V.query;if(!v)return!1;var f=(0,d.i1)(v),S=(0,C.Lo)(v.projections,g.dataViewMappings,f,this.featureSwitches.featureSwitches),P=S?.supportedMappings?.[0];return!(P?.matrix&&(0,a.D4)(P))&&(V.hasDefaultSort||_.isEmpty(V.query.defn.orderBy()))}ensureValidSorting(V){e.fF.assertValue(V,"options");var g=V.query,v=g.defn;if(!v)return g;var f=v.orderBy();if(_.isEmpty(f))return g;var S=this.getSortableFields(V).sortableFields,P=[];if(!_.isEmpty(S))for(var D of S)P.push(...this.createSortDefinitions(D));for(var M=!1,E=function(x){if(_.find(P,N=>(0,n.fS)(N.expr,f[x].expr)))return 1;f.splice(x,1),M=!0},w=f.length-1;w>=0;w--)E(w);return M?new h.g(v.orderBy(f),g.projections,g.expansionStates,g.isDrillDisabled):g}isVisualSortable(V){return _.some(V.dataRoles,g=>g.kind!==u.DW.Measure)}getGroupedSortableFieldsFromProjections(V,g,v,f,S){var P=V.defn.select(),D=V.defn.orderBy(),M=(0,d.i1)(V),E=(0,C.Lo)(V.projections,v.dataViewMappings,M,this.featureSwitches.featureSwitches),x=new l(S,(L,B,I,W)=>{var O=V.getRolesActiveProjectionsRefs([L],!1,!0);return _.isEmpty(O)?[]:this.createSortableFieldsForQueryRefs(g,P,O,D,v,f,0!==I,B,W)});if(E.supportedMappings)for(var N of E.supportedMappings)N.matrix&&(0,a.D4)(N)?(0,y.Jj)(N.matrix,x):N.categorical&&(0,y.aU)(N.categorical,x);return _.isEmpty(x.groups)?this.getDefaultGroupSortableFieldsFromProjections(V,E,g,v,f,S):{sortableFields:x.allSortableFields,sortGroups:x.groups}}getDefaultGroupSortableFieldsFromProjections(V,g,v,f,S,P){e.fF.assertNonEmpty(f.dataRoles,"Unexpected empty dataRoles");var D=[],M=V.defn.select(),E=V.defn.orderBy(),w=_.some(g.supportedMappings,O=>O.categorical);for(var x of f.dataRoles){var N=x.name;if(P(N)){var L=V.getRolesActiveProjectionsRefs([N],!1,!0);if(!_.isEmpty(L)){var B=!_.isEmpty(V.projections[N].activeProjectionRefs),W=this.createSortableFieldsForQueryRefs(v,M,L,E,f,S,w&&B,m.DefaultSortGroupKey);D.push(...W)}}}return this.createResultWithSortGroup(D)}createSortableFieldsForQueryRefs(V,g,v,f,S,P,D,M,E){var N,w=this,x=!1,L=Number.MAX_VALUE,B=[],I=[],W=[],O=function(){var T=g.withName(F),R=T?.expr;if(!R||!o.m.isExprValidForSorting(R))return 1;var U=w.getDisplayNameFromQueryRef(V,g,F,S,P),z=w.applySortingScope(R,E),j=_.findIndex(f,H=>(0,n.fS)(H.expr,z));j!==c.bN&&(L=Math.min(L,j)),D?((x=x||j!==c.bN)&&!N&&(e.fF.assert(()=>j!==c.bN,"invalidSortExprIndex"),N=f[j].direction),I.push({name:F,expr:R}),W.push(U)):B.push({displayName:U,exprs:[T],active:x=j!==c.bN,orderByIndex:x?j:void 0,sortDirection:N=x?f[j].direction:void 0,groupKey:M,scope:E})};for(var F of v)O();return D?_.isEmpty(I)?[]:[{displayName:W.join(" "),exprs:I,active:x,orderByIndex:x?L:void 0,sortDirection:x?N:void 0,groupKey:M,scope:E}]:B}getDisplayNameFromQueryRef(V,g,v,f,S){var P=g.withName(v)?.expr;return P?this.displayNameService.getDisplayName(P,V,f,v,S):""}createResultWithSortGroup(V){var g=[];return _.isEmpty(V)||g.push({key:m.DefaultSortGroupKey,displayName:null,fields:V,isDefaultGroup:!0}),{sortableFields:V,sortGroups:g}}createSortDefinitions(V){var g=[];for(var v of V.exprs)g.push({expr:this.applySortingScope(v.expr,V.scope),direction:V.sortDirection??2});return g}applySortingScope(V,g){return _.isEmpty(g)?V:(0,i.ed)(V,g)}}return m.DefaultSortGroupKey="Default",m})(),l=(()=>{class m{constructor(V,g){this.isRoleSortable=V,this.getSortableFieldsForRole=g,this.groups=[],this.allSortableFields=[],this.uniqueGroupKeys=[],this.uniqueRoles=[]}visitRole(V,g){if(this.isRoleSortable(V))switch(g){case"MatrixColumnsGroup":case"CategoricalSeries":this.addRole(V,"Legend",1);break;case"MatrixRowsGroup":return void this.addRole(V,V,1);case"CategoricalCategory":return void this.addRole(V,"Category",1);case"MatrixIntersection":case"MatrixRowsScopedValue":return void this.addRole(V,"Rows",0,!0,[(0,i.Wu)("Rows")]);case"CategoricalValue":case"CategoricalValueGroup":return void this.addRole(V,"Category",0,!0);default:return void e.fF.assertFail("Unexpected context: "+g)}}addRole(V,g,v,f=!1,S){var P;if(f){if(!(P=_.find(this.groups,M=>M.key===g)))return}else P={key:g,displayName:m.RoleToSortGroupDisplayName[g],fields:[]};var D=this.getSortableFieldsForRole(V,g,v,S);_.isEmpty(D)||(_.includes(this.uniqueRoles,V)||(this.allSortableFields.push(...D),this.uniqueRoles.push(V)),P.fields.push(...D),!f&&!_.includes(this.uniqueGroupKeys,P.key)&&(this.groups.push(P),this.uniqueGroupKeys.push(P.key)))}visitReduction(){}enterComposite(){}exitComposite(){}}return m.RoleToSortGroupDisplayName={Rows:"Sort_Group_Small_multiples",Category:"Sort_Group_Axis",Legend:"Sort_Group_Legend"},m})()},117768:function(Ce,k,r){r.d(k,{WP:function(){return o},be:function(){return h},nT:function(){return i}});var a=r(939123),e=r(377714),u=r(969143),t=r(51651),C=r(527799),y=r(953474);function i(l,m,b,V,g){return new p(l,m,b,V,g)}function o(l,m,b,V){a.fF.assertValue(V,"references"),a.fF.assertAnyValue(m,"descriptors"),l&&(0,u.Vj)({definitions:l,descriptors:m,visitor:g=>{if((0,y.MI)(g)){var v=(0,C.pd)(b,g.packageType,g.packageName),f=(0,C.NW)(v,g.itemName);f&&h(V,v.name,v.type,f.name,f.type)}}})}function c(l,m,b){return a.fF.assertValue(l,"references should exist."),l[m]||(l[m]={items:{},name:m,type:b}),l[m]}function h(l,m,b,V,g){a.fF.assertValue(l,"references should exist.");var v=c(l,m,b).items;return v[V]=v[V]||{name:V,type:g}}function d(l,m,b){var V=l[m];return V&&V.items&&V.items[b]}function s(l,m){for(var b in l){var V=l[b];for(var g in V.items)m(V,V.items[g])}}class p{constructor(m,b,V,g,v){this.promiseFactory=m,this.resourceLoader=b,this.explorationNavigation=V,this.explorationSerializer=g,this.resourceRegistration=v,this.restorableReferenceSources=[],this.preservedReferences={}}addReferenceSource(m){this.restorableReferenceSources.push(m)}removeReferenceSource(m){_.pull(this.restorableReferenceSources,m)}garbageCollectUnreferencedStaticResources(){var m=this.explorationNavigation.getCurrentExploration(),b=m&&m.resourcePackages;if(b){for(var V=this.explorationSerializer.getReferencedStaticResources(m),g=this.getRestorableReferences(),v=[],f=b.length-1;f>=0;f--){var S=b[f];(0,C.In)(S)&&(this.garbageCollectItems(S,V,this.preservedReferences,g,v),_.isEmpty(S.items)&&_.pull(b,S))}return _.isEmpty(b)&&delete m.resourcePackages,this.cleanPreservedReferences(V,g),v}}cleanPreservedReferences(m,b){s(this.preservedReferences,(V,g)=>{(d(m,V.name,g.name)||!d(b,V.name,g.name))&&function(l,m,b){var V=l[m];if(V){var g=V.items;delete g[b],0===_.size(g)&&delete l[m]}}(this.preservedReferences,V.name,g.name)})}getRestorableReferences(){var m={};for(var b of this.restorableReferenceSources)s(b.getReferences(),(V,g)=>{h(m,V.name,V.type,g.name,g.type)});return m}garbageCollectItems(m,b,V,g,v){a.fF.assertValue(m,"Resource package should exist in order to be garbage collected"),a.fF.assertValue(b,"referencedResources should exist in order to garbage collect items"),a.fF.assertValue(V,"perservedReferences should exist in order to garbage collect items"),a.fF.assertValue(g,"restorableReferences should exist in order to garbage collect items"),a.fF.assertValue(v,"unreferencedResources should exist in order to garbage collect items");for(var f=m.items,S=m.name,P=_.size(f)-1;P>=0;P--){var D=f[P],M=D.name;d(b,S,M)||(d(g,S,M)&&this.preserveItem(m,M,D.type),v.push(S+"/"+D.path),_.pull(f,D))}}preserveItem(m,b,V){var g=h(this.preservedReferences,m.name,m.type,b,V);g.uri||(g.uri=(0,t.dR)(m,b,this.resourceLoader,this.promiseFactory).then(v=>((0,e.pU)(v)||(v=(0,e.wo)(v)),v)))}loadItemsContent(m){var b=this,V=[],g=this.explorationNavigation.getCurrentExploration(),v=g&&g.resourcePackages;for(var f in m){var S=m[f];if(1===S.type){var P=S.items,D=function(){var E=P[M];V.push((0,t.k4)(b.promiseFactory,b.resourceLoader,v,E.name).then(w=>{E.content=w}))};for(var M in P)D()}}return this.promiseFactory.all(V).then(()=>{})}addItemsContent(m){var b=this.explorationNavigation.getCurrentExploration();for(var V in m){var g=m[V],v=g.items;for(var f in v){var S=v[f];this.addResource(b.resourcePackages,V,g.type,S.name,S.type,S.content)}}}needingRestore(m){if(!_.isEmpty(m)){var b=this.explorationNavigation.getCurrentExploration();if(b){var V=b&&b.resourcePackages;if(!_.isEmpty(V)){var g={};return s(m,(v,f)=>{var S=v.name,P=f.name,D=d(this.preservedReferences,S,P);D&&!(0,C.Yu)(V,v.type,f.name,S)&&(c(g,S,v.type).items[P]=D)}),g}}}}addResource(m,b,V,g,v,f){(0,C.Yu)(m,V,g,b)||this.resourceRegistration.add(g,V,v,{content:f,skipUniqueName:!0})}restoreReferences(m){var b=this.needingRestore(m),V=[];return s(b,(g,v)=>{V.push(v.uri.then(f=>{this.resourceRegistration.restore(v.name,g.type,v.type,f)}))}),this.promiseFactory.all(V).then(()=>{})}}},242845:function(Ce,k,r){r.d(k,{Z:function(){return e}});var a=r(939123);class e{register(t,C,y){var i=C();return{actionResult:i,succeeded:!(_.isBoolean(i)&&!i)}}getTopUndoFrame(){a.fF.assertFail("Can not get top undo frame")}canRedo(){return!1}canUndo(){return!1}canClear(){return!1}undo(){return a.fF.assertFail("Undo is not supported"),!1}redo(){return a.fF.assertFail("Redo is not supported"),!1}clear(){return a.fF.assertFail("Clear is not supported"),!1}getReferences(){return{}}}},150411:function(Ce,k,r){r.d(k,{T:function(){return t},x:function(){return C}});var a=r(939123),e=r(704731),u=r(242845);class t{constructor(o,c){this.visualContainerName=o,this.action=c}equals(o){return!!o&&this.action===o.action&&this.visualContainerName===o.visualContainerName}}function C(i,o,c="UndoRedo",h=new u.Z){return new y(i,o,c,h)}class y{constructor(o,c,h,d){this.eventBridge=o,this.loggerService=c,this.undoRedoLogEntryType=h,this.strategy=d}setStrategy(o){this.clear(),this.strategy=o}undo(){!this.verifyStrategy()||!this.canUndo()||setTimeout(()=>{this.strategy&&this.strategy.undo()&&(this.runSideEffects(),this.fireEvents())})}redo(){!this.verifyStrategy()||!this.canRedo()||setTimeout(()=>{this.strategy&&this.strategy.redo()&&(this.runSideEffects(),this.fireEvents())})}registerSideEffect(o){this.sideEffects||(this.sideEffects=[]),this.sideEffects.push(o)}clear(){this.verifyStrategy()&&(this.strategy.canClear()&&this.strategy.clear(),this.eventBridge.publishToChannel(e.WR7))}canRedo(){return this.verifyStrategy()&&this.strategy.canRedo()}canUndo(){return this.verifyStrategy()&&this.strategy.canUndo()}getTopUndoFrame(){return this.verifyStrategy()&&this.strategy.getTopUndoFrame()}undoRedoPostProcessing(o){this.loggerService.addUserAction({message:o,type:this.undoRedoLogEntryType}),setTimeout(_.noop)}register(o,c,h){var d,n=!1;if(this.verifyStrategy()){var s=this.strategy.register(o,c,h);d=s.actionResult,n=s.succeeded}else d=c(),n=!(_.isBoolean(d)&&!d);return n&&(this.runSideEffects(o),this.fireEvents()),this.undoRedoPostProcessing(o),d}fireEvents(){this.eventBridge.publishToChannel(e.t4l,{explorationContentChanged:!0}),this.eventBridge.publishToChannel(e.WR7)}runSideEffects(o){if(!_.isEmpty(this.sideEffects))for(var c of this.sideEffects)c.run(o)}verifyStrategy(){return a.fF.assert(()=>!!this.strategy,"undoRedoService functions should not be called without a strategy"),!!this.strategy}}},47769:function(Ce,k,r){r.d(k,{gp:function(){return C}});var a=r(939123);class e{constructor(c){this.count=0,this.top=-1,a.fF.assert(()=>c>=1,"Size cant be less than 1"),this.size=c,this.data=new Array(c)}item(c){a.fF.assert(()=>c>=0&&c<this.count,"index out of range");var h=this.top-(this.count-1);return h<0&&(h+=this.size),this.data[(c+h)%this.size]}push(c){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=c}pop(){if(0!==this.count){this.count--;var c=this.data[this.top];return delete this.data[this.top],-1==--this.top&&this.count>0&&(this.top=this.size-1),c}}peek(){return this.data[this.top]}clear(){this.count=0,this.top=-1,this.data=new Array(this.size)}get length(){return this.count}}var u=r(67688);class C{constructor(c,h,d,n){this.handler=c,this.staticResourceReferences=h,this.telemetry=d,this.visibilityService=n,this.undoStack=new e(10),this.redoStack=new e(10),this.staticResourceReferences.addReferenceSource(this)}register(c,h,d){var n=this.withTelemetry(()=>this.captureUndoFrame(this.handler),"Capture",c);n.recurringActionInfo=d;var s=this.canMergeWithTopFrame(d),p=this.startTransaction(n),l=h();a.fF.assert(()=>!this.isIPromise(l),"UndoRedoService.register does not support promise types");var m=!(_.isBoolean(l)&&!l);return m?this.endTransaction(p,s):this.cancelTransaction(p),{succeeded:m,actionResult:l}}getReferences(){return this.addStackReferences(this.undoStack,this.addStackReferences(this.redoStack))}addStackReferences(c,h){h=h||{};for(var d=c.length;d-- >0;)_.merge(h,c.item(d).getReferences());return h}undo(){var c=!1;return this.canUndo()&&(c=this.withTelemetry(()=>this.rollbackTop(this.undoStack,this.redoStack),"Undo",""),this.telemetry.logEvent(u.s$,{times:this.redoStack.length})),c}redo(){var c=!1;return this.canRedo()&&(c=this.withTelemetry(()=>this.rollbackTop(this.redoStack,this.undoStack),"Redo","")),c}clear(){return this.undoStack.clear(),this.redoStack.clear(),!0}canRedo(){return this.redoStack.length>0}canUndo(){return this.undoStack.length>0}canClear(){return!0}getTopUndoFrame(){var c=this.undoStack.peek();return c?c.getFrame():void 0}withTelemetry(c,h,d){var n=this.visibilityService.get(),s=n?.visibility,p=this.telemetry.startEvent(u.hs,{description:d,event:h,visibility:s}),l=c();return p.resolve(),l}canMergeWithTopFrame(c){if(!c)return!1;if(this.canUndo()){var h=this.getTopUndoFrame();if(h&&void 0!==h.recurringActionInfo&&h.recurringActionInfo.equals(c))return!0}return!1}rollbackTop(c,h){var d=c.pop();if(d){var n=d.rollbackFrame(),s=this.validTransactionCheck(n);return s&&h.push(n),s}a.fF.assertFail("UndoRedoService.rollbackTop received an empty source")}isIPromise(c){return c&&c.finally}startTransaction(c){a.fF.assertValue(c,"undoFrame");var h=new i;return this.currentTransaction||(this.currentTransaction=h,this.currentTransaction.addUndoFrame(c)),this.currentTransaction}endTransaction(c,h){a.fF.assertValue(c,"transaction"),a.fF.assert(()=>c===this.currentTransaction,"nested transactions are not allowed"),h||(this.redoStack.clear(),this.validTransactionCheck(this.currentTransaction)&&this.undoStack.push(this.currentTransaction)),this.currentTransaction=void 0}cancelTransaction(c){a.fF.assertValue(c,"transaction"),a.fF.assert(()=>c===this.currentTransaction,"nested transactions are not allowed"),this.currentTransaction=void 0}captureUndoFrame(c){return a.fF.assertValue(c,"container"),new y(c)}validTransactionCheck(c){return a.fF.assertValue(c,"null or undefined transaction values cannot be put on undo or redo stack."),!!c}}class y{constructor(c,h){a.fF.assertValue(c,"handler"),this.handler=c,this.snapshot=this.handler.takeSnapshot(h)}rollbackFrame(){var c=new y(this.handler,this.snapshot);return this.handler.rollback(this.snapshot),c}getReferences(){return this.snapshot.getReferences&&this.snapshot.getReferences()}}class i{constructor(c){this.frames=c||[]}addUndoFrame(c){this.frames.push(c)}rollbackFrame(){var c=_.map(this.frames,h=>{if(a.fF.assertValue(h,"frame"),h)return h.rollbackFrame()});return new i(c)}getFrame(){return a.fF.assert(()=>1===this.frames.length,"frame length"),this.frames[0]}getReferences(){var c={};for(var h of this.frames)_.merge(c,h.getReferences());return c}}},408055:function(Ce,k,r){r.d(k,{J:function(){return i}});var a=r(939123),e=r(187220),u=r(67688),t=r(692699),C=r(704731),y=r(456774);function i(d,n,s,p){return new o(d,n,s,p)}class o{constructor(n,s,p,l){this.telemetryService=n,this.eventBridge=s,this.selectionService=p,this.explorationNavigation=l,a.fF.assertValue(n,"telemetryService"),a.fF.assertValue(s,"eventBridge"),a.fF.assertValue(p,"selection"),this.selectionService=p,s.createChannelSubscriptionManager().subscribe(C.tRg,()=>this.updatePopOutMode()).subscribe(C.aco,(m,b)=>this.onFormFactorChanged(b.layout))}get(n){a.fF.assert(()=>0!==n,"mode !== VisualVisibility.None");var s=this.explorationNavigation.getCurrentSection(),p=s&&s.poppedOutElement;if(p&&(n||(n=27),n&p.visibility))return p.visualContainer}set(n,s,p=!0){if(a.fF.assertValue(n,"visualContainer"),a.fF.assertValue(s,"visibility"),0!==s){var l={visualContainer:n,visibility:s},m=this.explorationNavigation.getAllSections(),b=_.find(m,g=>g.visualContainers.indexOf(n)>=0);b&&(function(d,n){return(d=d||null)===(n=n||null)||!(!d!=!n||(a.fF.assertValue(d,"left"),a.fF.assertValue(n,"right"),d.visualContainer!==n.visualContainer||d.visibility!==n.visibility))}(l,b&&b.poppedOutElement)||(this.clearInternal(!1,!1),!y.UP.isCanvasItemSelected(n,this.selectionService)&&32!==s&&y.UP.selectCanvasItem(n,this.selectionService),this.setMode(l,s,p),b.poppedOutElement=l,this.poppableItem=l,this.raiseEvent(this.generateVisibilityChangedEventArgs(s))))}else this.clearInternal(!0,p)}clear(){this.clearInternal()}clearForVisualContainers(n){var s=this.explorationNavigation.getCurrentSection(),p=s&&s.poppedOutElement;if(p)for(var l of n)if(p.visualContainer===l){this.clearInternal();break}}onFormFactorChanged(n){var s=this.explorationNavigation.getCurrentSection(),p=s?.poppedOutElement;p&&(p.visualContainer.layouts.withId(n)||this.clearInternal())}clearInternal(n=!0,s=!0){var p=this.explorationNavigation.getCurrentSection(),l=p&&p.poppedOutElement;if(l){var m=this.poppableItem.visibility;this.setMode(l,0,s),p.poppedOutElement=void 0,n&&this.raiseEvent(this.poppableItem&&this.poppableItem.visualContainer===l.visualContainer?this.generateVisibilityChangedEventArgs(m):void 0),this.poppableItem=void 0}}isSeeDataMode(n){return n&&(2===n||8===n||16===n)}updatePopOutMode(){var n=y.UP.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService);n&&(0,e.Vz)(n)&&null!=n.visibility&&0!==n.visibility?this.set(n,n.visibility,!1):this.clearInternal(!0,!1)}raiseEvent(n){this.eventBridge.publishToChannel(C.y5h,n)}setMode(n,s,p){var l=n.visualContainer;if(p){var m=function(d){switch(d){case 1:return"Maximized";case 2:return"MaximizedWithData";case 8:return"MaximizedWithAccessibleData";case 4:return"Spotlight";case 32:return"Elevation";case 16:return"VisualCalcEditing";default:return"Normal"}}(s);this.telemetryService.logEvent(u.F,{visualType:(0,t.s)(l),displayType:m,visualName:n.visualContainer.name})}l.visibility=s}generateVisibilityChangedEventArgs(n){return{preserveScroll:4===n||32===n}}}},235156:function(Ce,k,r){r.d(k,{_6:function(){return le},Vz:function(){return Z},hQ:function(){return he}});var a=r(32227),e=r(913615),u=r(285261),t=r(783203),C=r(345969),y=r(722709),i=r(939123),o=r(397129),c=r(616113),h=r(454865),d=r(79964),n=r(132640),s=r(179962),p=r(969143),l=r(447666),m=r(129535),b=r(393789),V=r(571619),g=r(709302),v=r(693365),f=r(895127),S=r(336508),P=r(377176),D=r(528836),M=r(246135),E=r(517273),w=r(906741),x=r(990121),N=r(748843),L=r(505875),B=r(379342),I=r(184437),W=r(374357),O=r(776717),F=r(159214),T=r(465283),R=r(925529),U=r(412815),z=r(269556);class j extends z.b{constructor(ye,we,je){super(),this.visualCalcDaxParserServiceContext=je,this.oldNativeRefereName=ye,this.newNativeReferenceName=we}visitNativeVisualCalc(ye){if(ye.name===this.newNativeReferenceName)return ye;null==this.daxContext&&(this.daxContext=this.visualCalcDaxParserServiceContext.service.getContext(this.visualCalcDaxParserServiceContext.nativeReferences,this.visualCalcDaxParserServiceContext.reservedWords,this.visualCalcDaxParserServiceContext.daxCapabilities));var we=this.visualCalcDaxParserServiceContext.service.renameReference(this.daxContext,ye.expression,this.oldNativeRefereName,this.newNativeReferenceName);return(0,D.YU)(ye.name,we,ye.dataType,ye.getAnnotations())}}var H=r(953474),q=r(960196),G=r(257738),J=r(688574);function Z(Ge,ye,we,je,de,Pe){return new Ke(Ge,ye,we,je,de,Pe)}function le(Ge,ye,we,je){if(!Ge)return!1;var de=!1;function Pe(be,Ie,Ye,ze){je&&je(be.objectName,be.selector,Ie,Ye,ze,ze&&be.properties&&be.properties[Ie])}if(Ge.replace)for(var Ve of Ge.replace){var Ze=(0,p.zx)(we,Ve.objectName,Ve.selector),Ue={};for(var Je in Ve.properties)(0,l.e4)(Je)?Ue[Je]=Se(Ve,Je,ye):i.fF.assertFail("Invalid property name");var De=Ze.properties;if(!(0,p.Pg)(De,Ue)){de=!0;var ue=(0,p.hu)(De,Ue);for(var _e of ue)Pe(Ve,_e,De[_e],Ue[_e]);Ze.properties=Ue}}if(Ge.merge)for(var te of Ge.merge){var ke=(0,p.zx)(we,te.objectName,te.selector);for(var at in te.properties)if((0,l.e4)(at)){var tt=Se(te,at,ye);(0,p.ES)(ke.properties[at],tt)||(de=!0,Pe(te,at,ke.properties[at],tt),ke.properties[at]=tt)}else i.fF.assertFail("Invalid property name")}if(Ge.remove)for(var ut of Ge.remove){var ct=(0,p.my)(we,ut.objectName,ut.selector);if(ct)for(var Ne in ut.properties)(0,l.e4)(Ne)?ct.properties.hasOwnProperty(Ne)&&(de=!0,Pe(ut,Ne,ct.properties[Ne],void 0),delete ct.properties[Ne]):i.fF.assertFail("Invalid property name")}if(Ge.removeObject)for(var ae of Ge.removeObject){var Le=(0,p.my)(we,ae.objectName,ae.selector);if(Le){if(je)for(var X in Le.properties)Pe(ae,X,Le.properties[X],void 0);de=(0,p.AV)(we,ae.objectName,ae.selector)||de}}return de}function he(Ge,ye,we){if(Ge.name!==e.xV.rows||!(0,t.qU)(we?.dataViewMappings))return!0;var je=ye.query;if(!je||!je.defn)return!1;var de=(0,d.cY)(je.projections,Ge.name);return!!de&&_.size(de.all())>0||ye.hasUsedSmallMultiples}function Se(Ge,ye,we){var de;return i.fF.assertValue(Ge,"instance"),we&&we[Ge.objectName]&&we[Ge.objectName].properties[ye]&&(de=we[Ge.objectName].properties[ye].type),(0,p.Lo)(Ge.properties[ye],de||{})}class Ke{constructor(ye,we,je,de,Pe,Ve){this.visualPluginService=ye,this.geoTaggingService=we,this.aggrOps=je,this.featureSwitchService=de,this.visualAuthoringCustomizeOperations=Pe,this.displayNameService=Ve,this.updateFilterState=(Ze,Ue,Je,De,ue,_e,te,ke)=>{var at=Ue.config.singleVisual,tt=this.visualPluginService.capabilities(at.visualType),ut=tt?tt.objects:null;if(De&&this.ensureDefaultFilterApplied(Ze,at,Je))return{clearOrDefault:!0,updateAll:!1};var ct=!1;if(ue){var Ne=this.updateFilterOutput(at,ut,Ze);if(2===Ne)return{clearOrDefault:!0,updateAll:!1};ct=1===Ne}var ae=Ue.config.singleVisual;return!ct&&_e&&ae&&ae.objects&&(0,p.NA)(ae.objects,_e,null)&&(ct=!0),{clearOrDefault:!1,updateAll:ct}},i.fF.assertValue(ye,"visualPluginService"),i.fF.assertValue(we,"geoTaggingService"),i.fF.assertValue(je,"aggrOps"),this.visualPluginOps=(0,R.f)(ye,de)}create(ye){i.fF.assertValue(ye,"options");var we=this.visualPluginService.capabilities(ye.visualType),je=ye.query||new L.g(P.vQ.create(),{},[]),de=(0,T.F)().create(we,this.geoTaggingService,je.isDrillDisabled);if(de){var Pe={visualType:ye.visualType,query:je};for(var Ve in ye.autoSelectVisualType&&(Pe.autoSelectVisualType=!0),this.visualAuthoringCustomizeOperations.customizeOptions(Pe,ye.schema),Pe.query.projections)this.ensureDependentObjectDefn(de.objectDescs,Ve,Pe);var Ze=ye.expr,Ue=!ye.inFilterVisualContainer&&Ze&&!_.isArray(Ze)&&E.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,ye.schema,ye.expr,!I.l.supportsFilterOutput(we),this.visualPluginOps.isAnalysisVisual(ye.visualType));if(_.isEmpty(Ze)||this.tryAdd(de,Pe,Ue,ye))return{singleVisual:Pe}}}add(ye,we,je){i.fF.assertValue(ye,"options"),i.fF.assertValue(we,"target");var de=we.singleVisual;if(!de)return!1;var Pe=this.visualPluginService.capabilities(de.visualType),Ve=!!de.query?.isDrillDisabled;de.query||(Ve=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,B.dR)(Pe));var Ze=(0,T.F)().create(Pe,this.geoTaggingService,Ve);return!!Ze&&!!(de.query?this.tryAdd(Ze,de,je,ye):this.tryAddWithUndefinedQuery(Ze,de,je,ye))&&(this.visualAuthoringCustomizeOperations.customizeOptions(de,ye.schema),Ke.clearConversionSourceContext(de),!0)}toggleHidden(ye,we,je){var de=ye.query;if(de){var Pe=de.getQueryRef(we,{fieldIndex:je});de.toggleHidden(Pe),this.ensureCardinalityByHidingDifferentProjection(ye,we,je)}}remove(ye,we,je){i.fF.assertValue(ye,"options"),i.fF.assertValue(we,"target");var de=we.singleVisual;return!(!de||!this.tryRemove(de.query,de.columnProperties,ye,je)||(Ke.clearConversionSourceContext(de),0))}removeAllParametersAndProjectionsFromRole(ye,we,je,de,Pe){var Ve=we&&we.config;if(Ve){var Ze=Ve&&Ve.singleVisual&&Ve.singleVisual.query;if(Ze){var Ue=Ze.getQueryFieldParametersByRole(ye);if(Ue&&Ue.length>0){var Je={},De=Je[ye]=[];for(var ue of Ue)De.push({parameter:ue,result:[]});this.resolveParameters(je,we,Je,de,Pe,void 0);for(var _e=Ue.length-1;_e>=0;_e--)this.remove({count:void 0,projOptions:{parameter:Ue[_e]},role:ye,shouldRemoveParameter:!0},Ve,je)}}}}move(ye,we){i.fF.assertValue(ye,"options"),i.fF.assertValue(we,"target"),i.fF.assert(()=>_.isNumber(ye.sourceIndex)&&_.isNumber(ye.targetIndex)&&ye.targetIndex>=0&&ye.sourceIndex>=0,"Invalid replace index"),i.fF.assert(()=>_.isNumber(ye.sourceCount)&&ye.sourceCount>0,"Invalid number of items to replace");var je=we.singleVisual;if(!je)return!1;if(ye.sourceRole===ye.targetRole&&!ye.replacementExpressions)return!!je.query.moveProjection(ye.targetRole,ye.sourceIndex,ye.targetIndex,ye.sourceCount)&&(Ke.clearConversionSourceContext(je),!0);var de=je.query?.getParameterByFieldIndex(ye.sourceIndex,ye.sourceRole),Pe=[];if(!de){var Ve=je.query.tryGetFieldExprs(ye.sourceRole);if(_.isEmpty(Ve)||Ve.length<ye.sourceCount)return!1;for(var Ze=0;Ze<ye.sourceCount;Ze++)if(Pe[Ze]=Ve[ye.sourceIndex+Ze],!Pe[Ze])return!1}return this.moveProjectionCore(we,Pe,ye)}convert(ye){i.fF.assertValue(ye,"options");var we=ye.source;if(!we)return!1;var je=we.conversionSourceContext;je||(je=we.conversionSourceContext=this.createConversionSourceContext(we.query,we.visualType,we.syncGroup));var de=this.visualPluginService.capabilities(je.visualType),Pe=this.visualPluginService.capabilities(ye.target);if(!de||!Pe||_.isEmpty(Pe.dataRoles))return!1;if((0,o.fS)(de,Pe)){var Ve=this.visualPluginService.capabilities(we.visualType);return this.convertRoleWildCardProperties(Ve,Pe,we.objects),we.query=je.query,we.visualType=ye.target,we.visualType===ye.target&&Pe.supportsSynchronizingFilterState&&(we.syncGroup=je.syncGroup),!0}if(ye.skipRoleMapping)return we.query=je.query,we.visualType=ye.target,!0;var Ue=ye.schema,Je=this.convertDrillableRoles(je.query,de,Pe,ye.target,Ue),De=Je.query,ue=(0,B.WO)(Pe,De.isDrillDisabled),_e=this.getUniqueQueryFields(je.query,ye.target);_e=_.differenceWith(_e,Je.convertedFields,L.g.isEqualQueryFields);var te=(0,T.F)().create(Pe,this.geoTaggingService,De.isDrillDisabled),ke=(0,T.F)().create(de,this.geoTaggingService,je.query.isDrillDisabled);te.orderByRolePreferences(Ue,_e);var at=(0,d.d9)(De.projections),tt=this.getExpressionRoleMappings(we.query,_e),ut=this.getConversionExprRoleList(tt,ke,te,Ue,ye.target,we,at,ue);if(_.isEmpty(ut)&&_.isEmpty(De.projections))return!1;for(var ct of ut)ct.isFieldParameter?De.addParameter(ct.expr,ct.roleName):De.add(ct.expr,ct.roleName,{nativeReferenceName:ct.nativeReferenceName,isHidden:ct.isHidden}),this.ensureDependentObjectDefn(te.objectDescs,ct.roleName,we);var ae,Le,Ne=(0,B.WO)(this.visualPluginService.capabilities(we.visualType),!!we.query?.isDrillDisabled);for(var X of(_.isEmpty(Ne)?(ae=(0,B.WO)(de,je.query.isDrillDisabled),Le=je.query):(ae=Ne,Le=we.query),ue))if(De.projections[X])for(var be of(De.ensureActiveItems(X),ae))Le.projections[be]&&(De.projections[X].activeProjectionRefs=Le.projections[be].activeProjectionRefs);return this.updateTargetShowAllInfo(je,De,te),De.removeUnusedOrderBy(),De.resetExpansionStates(),this.convertRoleWildCardProperties(de,Pe,we.objects),this.upgradePivotTableProperties(we.objects,we.visualType,ye.target),we.query=De,we.visualType=ye.target,this.visualAuthoringCustomizeOperations.customizeOptions(we,Ue),!0}resetToDefaultActiveProjections(ye){var we=ye.query;if(null!=we){var je=this.visualPluginService.capabilities(ye.visualType),de=(0,B.WO)(je,we.isDrillDisabled);if(!_.isEmpty(de))for(var Pe of de)we.ensureActiveItems(Pe,!0)}}convertRoleWildCardProperties(ye,we,je){if(i.fF.assertValue(ye,"VisualAuthoringCore.convertRoleWildCardProperties: sourceVisualCapabilities"),i.fF.assertValue(we,"VisualAuthoringCore.convertRoleWildCardProperties: targetVisualCapabilities"),!_.isEmpty(je)){var de=_.chain(ye.dataRoles).filter(te=>te.kind!==h.DW.Measure).map(te=>te.name).value(),Pe=_.chain(we.dataRoles).filter(te=>te.kind!==h.DW.Measure).map(te=>te.name).value();if(!_.isEmpty(de)&&!_.isEmpty(Pe))for(var Ve in je){var Ze=je[Ve];if(!_.isEmpty(Ze))for(var Ue of Ze){var Je=Ue.selector;if(Je&&!_.isEmpty(Je.data))for(var De=0,ue=Je.data.length;De<ue;De++){var _e=Je.data[De];(0,n.j9)(_e)&&_.isEqual(_.sortBy(_e.roles),_.sortBy(de))&&(Je.data[De]=(0,b.Yp)(Pe))}}}}}upgradePivotTableProperties(ye,we,je){("matrix"===we||"table"===we)&&("pivotTable"===je||"tableEx"===je)&&((0,p.TX)(ye,"general",void 0,"textSize","grid"),(0,p.TX)(ye,"general",void 0,"autoSizeColumnWidth","columnHeaders")),"matrix"===we&&"pivotTable"===je&&((0,p.TX)(ye,"general",void 0,"columnSubtotals","subTotals"),(0,p.TX)(ye,"general",void 0,"rowSubtotals","subTotals")),"table"===we&&"tableEx"===je&&(0,p.TX)(ye,"general",void 0,"totals","total")}setAggregate(ye,we){if(!we.singleVisual.query.setAggregate(ye.role,ye.index,ye.newAggregate))return!1;var je=this.generateNativeReferenceNameForOperation(ye,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,ye.index,ye.role,je,ye),Ke.clearConversionSourceContext(we.singleVisual),!0}removeAggregate(ye,we){if(!we.singleVisual.query.removeAggregate(ye.role,ye.index))return!1;var je=this.generateNativeReferenceNameForOperation(ye,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,ye.index,ye.role,je,ye),Ke.clearConversionSourceContext(we.singleVisual),!0}setPercentOfGrandTotal(ye,we){if(!we.singleVisual.query.setPercentOfGrandTotal(ye.role,ye.index))return!1;var je=this.generateNativeReferenceNameForOperation(ye,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,ye.index,ye.role,je,ye),Ke.clearConversionSourceContext(we.singleVisual),!0}removePercentOfGrandTotal(ye,we){if(!we.singleVisual.query.removePercentOfGrandTotal(ye.role,ye.index))return!1;var je=this.generateNativeReferenceNameForOperation(ye,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,ye.index,ye.role,je,ye),Ke.clearConversionSourceContext(we.singleVisual),!0}setPercentOfRoleTotal(ye,we){if(!we.singleVisual.query.setPercentOfRoleTotal(ye.roleRefs,ye.role,ye.index))return!1;var je=this.generateNativeReferenceNameForOperation(ye,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,ye.index,ye.role,je,ye),Ke.clearConversionSourceContext(we.singleVisual),!0}removePercentOfRoleTotal(ye,we){if(!we.singleVisual.query.removePercentOfRoleTotal(ye.role,ye.index))return!1;var je=this.generateNativeReferenceNameForOperation(ye,we);return this.setNativeReferenceNameByRoleAndFieldIndex(we.singleVisual.query,ye.index,ye.role,je,ye),Ke.clearConversionSourceContext(we.singleVisual),!0}updateVisualCalculation(ye,we){var{visualContainer:je,fieldIndex:de,role:Pe,name:Ve,expression:Ze,dataType:Ue,shouldUnhide:Je}=ye,De=je.config.singleVisual,ue=De.query;if(!ue||!ue.updateVisualCalculation(de,Pe,Ve,Ze,Ue))return!1;if(Je){var _e=ue.getQueryRef(Pe,{fieldIndex:de});ue.resetHiddenState(_e),this.ensureCardinalityByHidingDifferentProjection(De,Pe,de)}return this.setNativeReferenceNameByRoleAndFieldIndex(ue,de,Pe,Ve,we),Ke.clearConversionSourceContext(De),!0}setNativeReferenceNameByRoleAndFieldIndex(ye,we,je,de,Pe){var Ve=ye.getQueryRef(je,{fieldIndex:we});if(null!=Ve){var Ze=ye.defn.select(),Ue=(0,y.g2)(Ze,Ve);this.setNativeReferenceNameAt(ye,Ue,de,Pe)}}setNativeReferenceNameAt(ye,we,je,de){var Pe=ye.defn.getNativeReferenceNameAt(we);if(Pe!==je&&(ye.defn.setNativeReferenceNameAt(we,je),!(0,c.g)(Pe)&&null!=de?.visualCalcDaxParserServiceContext?.service)){var Ve=new j(Pe,je,de.visualCalcDaxParserServiceContext);new U.$(Ve).rewriteQuery(ye)}}toggleShowAll(ye,we){we.singleVisual.query.toggleShowAll(ye),Ke.clearConversionSourceContext(we.singleVisual)}changeDrillState(ye,we,je){we.query.changeDrillStateValue(ye,!je),Ke.clearConversionSourceContext(we)}changeActiveProjection(ye,we,je){var de=we.query.projections[ye];if(de){var Ze,Pe=_.uniqBy(de.all(),Je=>Je.queryRef),Ve=_.uniq(de.activeProjectionRefs);_.isEmpty(Ve)||(Ze=Ve.length);var Ue=Ze&&_.findIndex(Pe,Je=>Je.queryRef===Ve[Ze-1]);if(!(null==Ue||Ue<0)){if(1===je){if(!(Ue>=1))return;Ve.pop(),(1===Ze||Ve[Ze-2]!==Pe[Ue-1].queryRef)&&Ve.push(Pe[Ue-1].queryRef)}else{if(3===je&&(Ve.length=0),i.fF.assert(()=>Pe.length>=Ue+1,"visualAuthoringCore.changeActiveProjection -\n                    If we are drilling down there must be at least one more projection other than the lastActiveProjection"),!(Pe.length>Ue+1))return;Ve.push(Pe[Ue+1].queryRef)}return Ke.clearConversionSourceContext(we),de.activeProjectionRefs=Ve,Ve}}}addDrillFilter(ye,we,je,de,Pe){this.addDrill(ye,we,je,de,Pe,2,!0)}addDrillToDetailsFilter(ye,we,je,de,Pe){_.remove(we,Ve=>!!Ve.expression&&(0,q.k)(Ve.expression)),this.addDrill(ye,we,je,de,Pe,0,!1)}addDrill(ye,we,je,de,Pe,Ve,Ze){if(we&&je&&!_.isEmpty(de)&&Pe){var Ue=function(){var De=je.defn.select().withName(Je).expr,ue=Pe.expr,_e=(0,H.Ym)(ue);_e&&(ue=ue.arg);var at,te=(0,S.FD)(ue),ke=[],tt=De.getKeyColumns(ye);if(!_.isEmpty(te.values))for(var ut=function(Ie){var Ye=te.args[Ie];if(Ye&&-1!==E.m.indexOfExpr(tt,Ye)){ke.push(Ye);var ze=_.map(te.values,ee=>[ee[Ie]]);at=_.isEmpty(at)?ze:_.chain(at).zip(ze).map(ee=>_.flatten(ee)).value()}},ct=0;ct<te.args.length;ct++)ut(ct);if(!_.isEmpty(ke)&&!_.isEmpty(at)){var Ne=(0,D.Sh)(ke,at||[]);_e&&(Ne=(0,D.ff)(Ne));var X,ae=(0,V.SN)([{kind:1,expr:Ne,key:Pe.key}]),Le=_.filter(we,Ie=>(0,G.fS)(De,Ie.expression));Ze&&(X=_.find(Le,Ie=>Ie.howCreated===Ve)),X?(i.fF.assert(()=>!X.filter||X.howCreated===Ve&&Ze,"The filter to overwrite should be empty or the specified kind we want to overwrite"),X.filter=ae,X.howCreated=Ve,X.precedence=0):we.push({name:null,expression:De,filter:ae,type:x.vA.Categorical,howCreated:Ve,precedence:0})}};for(var Je of de)Ue()}}removeDrillFilter(ye,we){return this.removeDrillFilterCore(ye,we)}removeAllDrillFilters(ye){return this.removeDrillFilterCore(ye)}removeDrillFilterCore(ye,we){if(!ye)return!1;this.ensureFiltersArrayIsValid(ye);for(var je=[],de=0,Pe=ye.length;de<Pe;de++){var Ve=ye[de];if(Ve&&2===Ve.howCreated)if(void 0===we)je.push(de);else if((0,G.fS)(we,Ve.expression)){je.push(de);break}}return _.forEachRight(je,Ze=>ye.splice(Ze,1)),!!je.length}setMatchingFilterToAuto(ye,we){if(we.filters){var je=_.find(we.filters,de=>null!=de&&(0,G.fS)(de.expression,ye));je&&(je.howCreated=0)}}removeAutoFilterFromContract(ye,we,je){if(ye){var de=ye.filters;if(de){var Pe=ye.config.singleVisual.query,Ve=je??this.getRemoveOptionsQueryRefs(we,Pe);_.forEach(Ve,Ze=>{var Ue=Pe.defn.select().withName(Ze),Je=Ue?Ue.expr:void 0,De=(0,y.Rl)(de,_e=>(i.fF.assertValue(_e,`removeAutoFilterFromContract: visualContainer with name ${ye.name} contains blank value in .filters`),null!=_e&&0===_e.howCreated&&(0,G.fS)(_e.expression,Je)));if(De.length>0){i.fF.assertValue(1===De.length,"More than one auto filter found");var ue=I.l.isFilterModified(De[0]);ue?ue&&(De[0].howCreated=1):_.remove(ye.filters,De[0])}}),this.ensureFiltersArrayIsValid(de)}}}ensureFiltersArrayIsValid(ye){if(null!=ye)for(var we=ye.length-1;we>=0;we--)null==ye[we]&&(i.fF.assertFail("filters array contains null element"),ye.splice(we,1))}getRemoveOptionsQueryRefs(ye,we){var je=[],de=ye,Pe=de.projOptions;if(de.role&&null!==Pe.fieldIndex){var{fieldIndex:Ve,parameter:Ze}=Pe;if(Ze)for(var Ue=Ze.length??0,Je=0;Je<Ue;Je++){var De=we.getQueryRef(de.role,{parameter:Ze,indexInParameter:Je});je.push(De)}else for(var ue=de.count??1,_e=0;_e<ue;_e++){var te=we.getQueryRef(de.role,{fieldIndex:Ve+_e});te&&je.push(te)}}else if(ye.expr){var at=(0,y.rY)(ye.expr),tt=we.defn.select();_.forEach(at,ut=>{var ct=_.filter(tt,Ne=>{var ae=Ne.expr;return(0,H.iV)(ae)&&(ae=ae.arg),(0,G.fS)(ae,ut)});_.forEach(ct,Ne=>{Ne&&Ne.name&&je.push(Ne.name)})})}return je}isEmptyQueryVisual(ye){var we=ye.config.singleVisual;if(we&&this.visualPluginOps.isQueryVisual(we.visualType)&&we.query&&0===we.query.defn.select().length&&_.isEmpty(we.query.getQueryFieldParameters())){var je=this.visualPluginService.capabilities(we.visualType);if(je){var de=(0,g.$T)(je.dataViewMappings,we.objects);return!(de&&!(0,c.g)(de.source))}return!1}return!1}setDefaultSort(ye,we,je,de){if(ye.config&&ye.config.singleVisual){var Pe=ye.config.singleVisual,Ve=de.capabilities(Pe.visualType);if(je.shouldApplyDefaultSort(Pe,Ve)){var Ze=Pe.query;if(Ze){var Ue=Ze.defn,Je=Ze.projections,De=Ue.select(),ue=[],_e=_.filter(Ve.dataRoles,ee=>!(_.has(ee,"joinPredicate")||0===ee.joinPredicate));if(_.some(_e,ee=>{var ve=(0,d.cY)(Je,ee.name);if(ve){var Te=_.map(ve.all(),Xe=>De.withName(Xe.queryRef));return _.some(Te,Xe=>Xe&&Xe.expr&&!_.isEmpty(Xe.expr.getOrderByColumns(we)))}}))return void(Pe.hasDefaultSort&&(Pe.query=new L.g(Ue.orderBy([]),Ze.projections,Ze.expansionStates,Ze.isDrillDisabled),Pe.hasDefaultSort=!1));var ke=!1;for(var at of _e){var tt=(0,d.cY)(Je,at.name);if(tt){var ut=_.map(tt.all(),ee=>ee.queryRef);if(ut){var ct=!1,Ne=[],ae=this.shouldDefaultExpandSort(at.name,Ve.expandAndSort,ut.length),Le={direction:1,expr:null};for(var X of ut){var be=De.withName(X),Ie=be&&be.expr;if(Ie&&E.m.isExprValidForSorting(Ie)){var Ye=Ie.getMetadata(we);if(Ye){var ze=1===Ye.kind&&Ye.type.numeric;if(ae&&(Ye.type.text||Ye.type.temporal||Ye.type.numeric&&_.first(ut)!==X?Ne.push({direction:1,expr:Ie}):ae=!1),null==Le.expr&&(Ie&&ze&&(Le.direction=2),Le.expr=Ie),Ye.type.temporal&&(ct=ke=!0,!ae)||ze&&(ct=!0,!ae))break}}}if(ae&&_.isEmpty(ue)){i.fF.assertValue(_.isEmpty(Ne),"hierarchical sort has no expr (setDefaultSort)"),ue=Ne;break}if(ct&&(_.isEmpty(ue)||ke)&&(i.fF.assertValue(Le.expr,"first projection sort has no expr (setDefaultSort)"),ue=[Le]),ke||ae)break}}}_.isEmpty(ue)||(Pe.hasDefaultSort=!0,Pe.query=new L.g(Ue.orderBy(ue),Ze.projections,Ze.expansionStates,Ze.isDrillDisabled))}}}}setDefaultExpandLevel(ye,we,je,de,Pe,Ve){var Ze=we.capabilities(ye.config.singleVisual.visualType);if(je&&Ze.expandAndSort&&_.includes(Ze.expandAndSort,je)&&ye.config&&ye.config.singleVisual){var Ue=ye.config.singleVisual.query;Ue&&Ze.expandAndSort.forEach(Je=>{var De=(0,d.cY)(Ue.projections,Je);if(De){var ue=De.getQueryRefs();if(this.shouldDefaultExpandSort(Je,Ze.expandAndSort,ue.length)){var _e=!1;if(Pe)if(1===Ve){var te=ue.indexOf(Pe[Je].projectionName);if(te<0)return;te===ue.length-2&&ue.length-1===Pe[Je].totalNumberOfProjections?_e=!0:te<ue.length-1&&ue.splice(te+1),_e=!0}else 2===Ve&&(_e=!!_.isEmpty(Pe)||Pe[Je].currentPosition===Pe[Je].totalNumberOfProjections);_e&&(De.activeProjectionRefs=_.map(ue,ke=>ke),this.setDrillMode(ye,2,de))}}})}}ensureValidDrillState(ye,we,je){for(var de of we){this.removeDrillFilter(ye.filters,de.expr);var Pe=ye.config.singleVisual.query,Ve=Pe.projections[de.roleName];if(Ve){var Ze=_.last(Ve.activeProjectionRefs);if(null!=Ze){var Ue=Pe.defn.select().withName(Ze).expr;this.removeDrillFilter(ye.filters,Ue)}}}this.ensureValidDrillMode(ye,je)}ensureValidDrillMode(ye,we){var je=ye.drillMode;(1===je&&0===we.getSupportedDrillDirections(ye)||2===je&&!we.canDrillToDetails(ye))&&this.setDrillMode(ye,0,we)}resolveParameters(ye,we,je,de,Pe,Ve){var Ze=this,Ue={queryChange:!1,aliasChange:!1,outputFilterChange:!1,totalAddAttemptCount:0,totalAddSuccessCount:0,totalRemoveAttemptCount:0,totalRemoveSuccessCount:0,totalSuccessColumnCount:0,totalSuccessDateHierarchyCount:0,totalSuccessMeasureCount:0},Je=we&&we.config&&we.config.singleVisual,De=Je&&Je.query;if(!De)return Ue;var ue=this.visualPluginService.capabilities(Je.visualType),_e=(0,T.F)().create(ue,this.geoTaggingService,De.isDrillDisabled),te=(0,B.WO)(ue,De.isDrillDisabled),ke=_e.getNumberRangesForRoles(De),at=[],tt=function(Ne){var ae=De.projections[Ne],Le=ae.getFieldParameters(),X=_.some(te,ze=>ze===Ne)?void 0:ke?.[Ne],be=function(){var{parameter:ze,result:ee}=Ye,ve=_.find(Le,Xt=>Xt.index===ze.index);if(!ve||!(0,G.fS)(ze.expr,ve.expr))return 0;var Te=ae.getParameterProjections(ve),Xe=_.map(Te,Xt=>De.defn.select().withName(Xt.queryRef).expr),He=_.map(ee,Xt=>Xt.expr);if(X&&X.max&&He.length>X.max){var qe=ae.all();He=He.slice(0,X.max-(qe.length-Te.length))}for(var me=(0,y.f1)(He,Xe,G.fS),Ee=me.length-1,fe=[],Re=[],re=[],se=Xe.length-1;se>=0;se--)Ee>=0&&(0,G.fS)(Xe[se],me[Ee])?Ee--:(Re.push({role:Ne,projOptions:{parameter:ve,indexInParameter:se}}),fe.push(Te[se].queryRef),re.push({expr:Xe[se],roleName:Ne}));if(Re.length>0){var{removeSuccessCount:Me,removeAttemptCount:$e,outputFilterChange:st}=Ze.removeWithValidation(De,fe,Re,we,ye,re,de,Pe,void 0,!0);Ue.totalRemoveSuccessCount+=Me,Ue.totalRemoveAttemptCount+=$e,Ue.outputFilterChange||(Ue.outputFilterChange=st)}Ee=0;for(var pt=0,wt=0,Pt=0;Pt<He.length;Pt++){var At=ee[Pt].alias,Ut={parameter:ve,indexInParameter:Pt-(pt-wt)};if(me.length>0&&(0,G.fS)(He[Pt],me[Ee]))Ee++,Ve&&(Ue.aliasChange=Ve(ye,we,Ut,Ne,At)||Ue.aliasChange);else{var Kt=He[Pt];pt++,Ze.add({expr:Kt,schema:ye,targetRole:Ne,projOptions:Ut},we.config,!1)&&(wt++,(0,H.t3)(Kt)?Ue.totalSuccessColumnCount++:(0,H.kb)(Kt)?Ue.totalSuccessMeasureCount++:(0,H.ez)(Kt)&&Ue.totalSuccessDateHierarchyCount++,at.push(Kt),Ve&&(Ue.aliasChange=Ve(ye,we,Ut,Ne,At)||Ue.aliasChange))}}Ue.totalAddAttemptCount+=pt};for(var Ye of je[Ne])be()};for(var ut in je)tt(ut);if(Ue.totalAddSuccessCount=at.length,Ue.totalAddSuccessCount>0){var ct=this.runAddFieldValidation(we,ye,at,de,Pe,void 0,!0);Ue.outputFilterChange||(Ue.outputFilterChange=ct)}return(Ue.totalAddSuccessCount>0||Ue.totalRemoveSuccessCount>0)&&(this.setDefaultSort(we,ye,Pe,this.visualPluginService),(0,F.Hr)(we),Ue.queryChange=!0),Ue}runAddFieldValidation(ye,we,je,de,Pe,Ve,Ze,Ue,Je,De,ue){this.ensureValidDrillMode(ye,de);var _e=!1;if(!Ze||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var ke=(Ve||this.updateFilterState)(we,ye,!1,!0,!0,void 0,De,ue);_e=ke?.clearOrDefault||ke?.updateAll}if(Ze||(this.setDefaultExpandLevel(ye,this.visualPluginService,Ue,de,Je,2),this.setDefaultSort(ye,we,Pe,this.visualPluginService),(0,F.Hr)(ye)),_.isArray(je)){var at=je;for(var tt of at)this.setMatchingFilterToAuto(tt,ye)}else this.setMatchingFilterToAuto(je,ye);return _e}removeWithValidation(ye,we,je,de,Pe,Ve,Ze,Ue,Je,De,ue){var _e=0,te=[],ke=!1;this.removeAutoFilterFromContract(de,void 0,we);for(var at=0;at<je.length;at++){var tt=this.remove(je[at],de.config,Pe);_e+=tt?1:0,tt||te.push(at)}if(_e>0){if(te.length>0){we=_.clone(we);for(var ut=te.length-1;ut>=0;ut--)we.splice(te[ut],1)}if(!De){var ct=this.captureCurrentActiveProjectionsByRole(de);this.setDefaultExpandLevel(de,this.visualPluginService,_.first(je)?.role,Ze,ct,0)}if(this.ensureValidDrillState(de,Ve,Ze),this.isEmptyQueryVisual(de)?ye=de.config.singleVisual.query=void 0:De||(this.setDefaultSort(de,Pe,Ue,this.visualPluginService),(0,F.Hr)(de)),!De||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var ae=(Je||this.updateFilterState)(Pe,de,!0,!0,!0,null,void 0,ue);ke=ae?.clearOrDefault||ae?.updateAll}De||this.clearUnusedObjectDefinitions(de,ye,we)}return{removeAttemptCount:je.length,removeSuccessCount:_e,outputFilterChange:ke}}clearUnusedObjectDefinitions(ye,we,je){_.forEach(je,de=>{if(!we||!we.isUsed(de)){var Pe=ye.config.singleVisual.objects;_.forEach(Pe,(Ve,Ze)=>{var Ue=[];_.forEach(Ve,Je=>{Je.selector&&Je.selector.metadata===de&&Ue.push(Je.selector)}),_.forEach(Ue,Je=>{(0,p.AV)(Pe,Ze,Je)})})}})}ensureDefaultFilterApplied(ye,we,je){var de=this.visualPluginService.capabilities(we.visualType),Pe=de?de.objects:null,Ve=(0,m.Ln)(Pe),Ze=we.query&&we.query.getUniqueQueryRefs();if(!Ve||_.isEmpty(Ze))return this.clearDefaultFilterOutput(we,Pe);var Ue=we.query.defn.select(),Je=_.map(Ze,ut=>Ue.withName(ut).expr),De=[],ue=[],_e=!0;for(var te of Je)E.m.getDefaultValue(te,ye)?_e?De.push(...this.getExprKeyColumns(te,ye)):ue.push(...this.getExprKeyColumns(te,ye)):_e=!1;if(_.isEmpty(De)&&_.isEmpty(ue)||je)return this.clearDefaultFilterOutput(we,Pe);we.objects||(we.objects={});var at=(0,m.MD)(Pe),tt=P.yl.getDefaultAnyValueFilter(De,ue);return(0,p.sO)(we.objects,at,null,tt),!0}getExprKeyColumns(ye,we){var je=(0,f.Q)(ye);return je.column||je.groupingColumn||je.hierarchyLevel?ye.getKeyColumns(we):[ye]}clearDefaultFilterOutput(ye,we){if(!ye.objects)return!1;var je=(0,m.MD)(we);if(!je)return!1;var de=(0,p.NA)(ye.objects,je,null);return!(!de||!P.yl.isDefaultFilter(de)||((0,p.E2)(ye.objects,je.objectName,null,je.propertyName),0))}updateFilterOutput(ye,we,je){if(!ye.objects)return 0;var de=(0,m.MD)(we);if(!de)return 0;var Pe=(0,p.NA)(ye.objects,de,null);if(Pe){if(!this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!ye.query)return(0,p.E2)(ye.objects,de.objectName,null,de.propertyName),2;var Ve=this.updateFilterOutputForVisual(ye.query,Pe,je);return P.yl.isSameFilter(Ve,Pe)?0:Ve?((0,p.sO)(ye.objects,de,null,Ve),1):((0,p.E2)(ye.objects,de.objectName,null,de.propertyName),2)}return 0}updateFilterOutputForVisual(ye,we,je){var de=ye.getUniqueQueryRefs();if(!_.isEmpty(de)){var Pe=new a.H,Ve=ye.defn.select(),Ze=_.map(de,ke=>Ve.withName(ke).expr.accept(Pe,je)).reduce((ke,at)=>ke.concat(at),[]);if(!_.isEmpty(Ze)){var Ue,Je=we.where(),De=[];for(var ue of Je){var _e=E.m.syncSQExprWithFilterIdenities(Ze,ue.condition);_e&&De.push({target:ue.target,condition:_e,annotations:ue.annotations})}return De.length>0&&(Ue=new P.yl(we.from(),De)),Ue}}}moveProjectionCore(ye,we,je){var de=ye.singleVisual;if(!de||!de.query)return!1;var{sourceRole:Pe,targetRole:Ve,sourceIndex:Ze,targetIndex:Ue,replacementExpressions:Je,schema:De,allowPartialReplace:ue}=je,_e=(0,N.d9)(de),te=_e.query.getParameterByFieldIndex(Ze,Pe);i.fF.assert(()=>!!te||we.length>0,"No items specified to replace");var ke=_e.query.defn.orderBy(),at=we;_.isEmpty(Je)||(at=_.map(Je,(rt,me)=>{var Ee=at[me];return Ee?{expr:rt,isFieldParameter:Ee.isFieldParameter,isHidden:Ee.isHidden,nativeReferenceName:Ee.nativeReferenceName}:{expr:rt}}));var tt_getColumnPropertiesForExprs=function(we,je){var de=[];if(je.columnProperties)for(var Pe of we){var Ve=je.query.defn.selectNameOf(Pe),Ze=je.columnProperties[Ve];Ze&&de.push({originalExpr:Pe,columnProperty:Ze})}return de},tt_applyColumnPropertiesByExpr=function(we,je,de,Pe){var Ve=_.find(Pe,Ue=>Ue.originalExpr===we);if(Ve){var Ze=de.query.defn.selectNameOf(je);de.columnProperties[Ze]||(de.columnProperties[Ze]=Ve.columnProperty)}},ut=tt_getColumnPropertiesForExprs(_.map(at,rt=>rt.expr),_e);if(!this.tryRemoveProjections(_e.query,_e.columnProperties,{role:Pe,projOptions:{fieldIndex:Ze,parameter:te},count:we.length,shouldRemoveParameter:!0}))return!1;ke.length>0&&_e.query.orderBy(ke);var Ne=this.visualPluginService.capabilities(de.visualType),ae=(0,T.F)().create(Ne,this.geoTaggingService,!!de.query?.isDrillDisabled);if(!ae)return!1;var Le=ae.roles.withName(Ve);if(!Le)return!1;var X=Pe===Ve&&Ue===Ze,be=!1;if(X){if(1===at.length&&E.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,De,at[0].expr,this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!I.l.supportsFilterOutput(Ne),this.visualPluginOps.isAnalysisVisual(_e.visualType))&&!(be=this.tryAdd(ae,_e,!0,{expr:at[0].expr,schema:De,targetRole:Ve,projOptions:{fieldIndex:Ue}})))return!1}else if(te&&!(be=this.tryAdd(ae,_e,!0,{expr:te.expr,schema:De,targetRole:Ve,projOptions:{fieldIndex:Ue},hideOnOverflow:je.hideOnOverflow})))return!1;if(!be)for(var ee=0;ee<at.length;ee++){var ve=at[ee].expr,Te=at[ee];if(Te.expr=this.aggregateIfNecessary(Te.expr,Le,De),Te.isHidden=Te.isHidden&&(0,q.k)(Te.expr),!this.tryAdd(ae,_e,!1,{expr:Te.expr,schema:De,targetRole:Ve,projOptions:{fieldIndex:Ue+ee,nativeReferenceName:X?void 0:at[ee].nativeReferenceName,isHidden:Te.isHidden},hideOnOverflow:je.hideOnOverflow})){if(ee>0&&ue)break;return!1}if(de.query.projections[Pe].showAll){var qe=at[ee].expr.getMetadata(De);this.isShowAllRole(Le.kind)&&qe&&1!==qe.kind&&(_e.query.projections[Ve].showAll=!0)}tt_applyColumnPropertiesByExpr(ve,Te.expr,_e,ut)}return ye.singleVisual=_e,this.visualAuthoringCustomizeOperations.customizeOptions(ye.singleVisual,De),Ke.clearConversionSourceContext(ye.singleVisual),!0}aggregateIfNecessary(ye,we,je){return null!=(0,v._L)((0,f.Q)(ye,je))||we.kind!==h.DW.Measure||E.m.discourageAggregation(ye,je)?we.kind===h.DW.Grouping?(0,M.n)(ye,je):ye:this.aggrOps.createExprWithAggregate(ye,je,!0,we.requiredTypes)}static clearConversionSourceContext(ye){ye.conversionSourceContext=null}getConversionExprRoleList(ye,we,je,de,Pe,Ve,Ze,Ue){var Je=ue=>{var _e=[];for(var te of ye)if(te.isFieldParameter)_e.push({expr:te.expr,isFieldParameter:te.isFieldParameter,roleName:te.roleName});else{var at=ue(te.expr);at&&_e.push({expr:at,nativeReferenceName:te.nativeReferenceName})}if(!_.isEmpty(_e))return this.getCompatRolesForExprs(_e,we,je,de,Pe,Ve,!0,Ze,Ue)},De=this.getCompatRolesForExprs(ye,we,je,de,Pe,Ve,!1,Ze,Ue);return _.isEmpty(De)&&(De=Je(ue=>(0,q.k)(ue)?ue:this.aggrOps.createExprWithAggregate(ue,de,!0,null))),_.isEmpty(De)&&(De=Je(ue=>(0,q.k)(ue)?(0,M.n)(ue,de):ue)),De||[]}getCompatRolesForExprs(ye,we,je,de,Pe,Ve,Ze,Ue,Je){var De=[],ue=Ue||{},_e=new O.W(W.Sd),te=_.some(ye,qe=>(0,H.jX)(qe.expr));for(var ke of ye){var at=void 0,{expr:tt,isFieldParameter:ut,roleName:ct,nativeReferenceName:Ne,isHidden:ae}=ke;ct&&(at=we.roles.withName(ct));var Le=this.getTargetRoleForConversion(ke,we,je),X=te&&(0,q.k)(tt),be=je.findCompatibleRole({queryProjections:ue,schema:de,expr:tt,targetRole:Le,preferDrillableRoles:!1,roleToExprMap:_e,useStrict:!0,isFieldParameter:ut,sourceRole:ut&&at,isHidden:ae,overflowIsWarning:X}),Ie=be&&be.role,Ye=be&&be.error===s.zS.conditionRangeTooLarge;if(Ie&&(!Ye||X)){var ee=!!Ye||ae;Ie=this.ensureCorrectKeyInfluencersRole(Pe,Ie,void 0);var{name:ve}=this.ensureCorrectSmallMultiplesRole(Ve,je.capabilities,Ie,we.capabilities,ct);if(!ut){this.updateProjections(ue,ve,Je,ee);var Te=je.getNumberRangesForRoles(ue);if(this.shouldUseVariation(tt,de,ve,Je,Te[ve],_.size(ye))){var He=(0,w.ZB)(tt);return De.push({expr:He,roleName:ve,nativeReferenceName:Ne}),De}}if(De.push({expr:tt,isFieldParameter:ut,roleName:ve,nativeReferenceName:Ne,isHidden:ee}),Ze)return De}}return De}shouldUseVariation(ye,we,je,de,Pe,Ve){if(!_.includes(de,je)&&Pe&&Pe.max<Ve){var Ze=(0,f.Q)(ye,we);if(Ze&&Ze.columnHierarchyLevelVariation)return!0}return!1}getExpressionRoleMappings(ye,we){return _.map(we,je=>({expr:je.expr,roleName:ye.getRoleNameForExpr(je.expr),isFieldParameter:je.isFieldParameter,nativeReferenceName:je.nativeReferenceName,isHidden:je.isHidden}))}getTargetRoleForConversion(ye,we,je){if(!je.hasPreferredTypes()){var{roleName:de}=ye,{roles:Pe,capabilities:Ve}=we,{roles:Ze,capabilities:Ue}=je,Je=Pe.withName(de),De=Ze.withName(de);if(Je&&De&&_.isEqual(Je.kind,De.kind)){var ue=this.getDataViewMappingConditions(Ve),_e=this.getDataViewMappingConditions(Ue);if(!ue&&!_e||this.getDoesTargetRoleMatchSourceRole(de,ue,_e))return de}}}getDoesTargetRoleMatchSourceRole(ye,we,je){return we&&je&&!we.some((de,Pe)=>{var Ve=_.get(de,ye,null),Ze=_.get(je[Pe],ye,null);return Ve&&Ze&&!_.isEqual(Ve,Ze)})}getDataViewMappingConditions(ye){var we=ye.dataViewMappings&&ye.dataViewMappings[0];return we&&we.conditions}updateProjections(ye,we,je,de){var Pe={queryRef:we,hidden:de},Ve=(0,d.cY)(ye,we);Ve||(ye[we]=Ve=new d.NQ([])),Ve.addProjection(Pe),_.includes(je,we)&&Ve.addActiveQueryReference(Ve.all()[0].queryRef)}createConversionSourceContext(ye,we,je){return{query:ye,visualType:we,syncGroup:je}}convertDrillableRoles(ye,we,je,de,Pe){var Ve;this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,B.S1)(je)&&(Ve=(0,B.S1)(we)?ye.isDrillDisabled:(0,B.dR)(je));var Ze=new L.g(ye.defn.select([]),{},[],Ve),Ue=(0,B.WO)(we,ye.isDrillDisabled);return _.isEmpty(Ue)?{query:Ze,convertedFields:[]}:{query:Ze,convertedFields:this.convertDrillableProjections(je,de,ye,Pe,Ue,Ze)}}convertDrillableProjections(ye,we,je,de,Pe,Ve){var Ze=(0,B.WO)(ye,Ve.isDrillDisabled),Ue=[];for(var Je of Pe){var De=this.getQueryFieldsForRole(je,Je,we);if(De=this.convertDrillableFields(De,de,ye,Ve),Ue=_.unionWith(Ue,De,L.g.isEqualQueryFields),_.isEmpty(Ze))break}return Ve.ensureDrillableRoles(Ze),Ue}getQueryFieldsForRole(ye,we,je){return ye.projections[we]?this.getQueryFields(je,()=>ye.tryGetFieldExprs(we)):[]}getUniqueQueryFields(ye,we){return this.getQueryFields(we,()=>ye.getUniqueQueryFields())}getQueryFields(ye,we){var je=we();if(this.visualPluginOps.isAnalysisVisual(ye))for(var de of je)de.isFieldParameter=!1;return je}convertDrillableFields(ye,we,je,de){var ke,Pe=this,Ve=(0,T.F)().create(je,this.geoTaggingService,de.isDrillDisabled),Ze=Ve.getNumberRangesForRoles(de),Ue=(0,B.WO)(je,de.isDrillDisabled),Je=_.isEmpty(Ue),De=new O.W(W.Sd),ue=[],_e=[],te=function(){var ut=tt.expr,ct=tt.queryName,Ne=tt.nativeReferenceName,ae=tt.isHidden;if((0,H.ez)(ut)){var Le=(0,w.ZB)(tt.expr);if(Le&&_.find(_e,Te=>(0,G.fS)(Te,Le)))return ue.push(tt),0}var X=Ve.findCompatibleRole({queryProjections:de.projections,schema:we,expr:ut,preferDrillableRoles:!0,roleToExprMap:De,useStrict:!0,isFieldParameter:tt.isFieldParameter}),be=X&&X.role;if(be){var Ie=be.name,Ye=Ze[Ie],ze=-1;if(tt.isFieldParameter)ze=de.addParameter(ut,be.name),ue.push(tt);else{var ee=de.projections[Ie];if(Je&&ee&&(ke=ee.all().length,Ye&&Ye.max&&Ye.max<=ke))return 0;if(Pe.shouldUseVariation(tt.expr,we,be.name,Ue,Ye,_.size(ye))){var ve=(0,w.ZB)(tt.expr);return _e.push(ve),ze=de.add(ve,Ie,{exprName:ct,nativeReferenceName:Ne}),0}ze=de.add(ut,Ie,{exprName:ct,nativeReferenceName:Ne,isHidden:ae})}ze>-1&&ue.push(tt)}};for(var tt of ye)te();return ue}tryRemove(ye,we,je,de){return void 0!==je.role?this.tryRemoveProjections(ye,we,je):!(void 0===je.expr)&&this.tryRemoveExpressions(ye,je,de)}tryRemoveExpressions(ye,we,je){var de=!1,Pe=we.fieldParameter;if(_.isArray(we.expr))for(var Ve of we.expr)de=ye.removeExpr(Ve,!!we.ignoreAggregates,je,Pe?.expr)||de;else de=ye.removeExpr(we.expr,!!we.ignoreAggregates,je,Pe?.expr);return we.shouldRemoveParameter&&Pe&&0===(Pe.length??0)&&(de=ye.removeParameter(Pe)||de),de}tryRemoveProjections(ye,we,je){var de=je.role,Pe=je.projOptions.parameter,Ve=!1;if(Pe)Ve=this.removeParameterProjections(ye,we,Pe,de,je.shouldRemoveParameter,je.projOptions.indexInParameter);else for(var Je=je.projOptions.fieldIndex,ue=(je.count??1)-1;ue>=0;ue--)if(!(Ve=this.removeProjection(ye,we,de,{fieldIndex:Je})))return!1;return Ve}removeParameterProjections(ye,we,je,de,Pe,Ve){var Ze=!1;if(null!=Ve)Ze=this.removeProjection(ye,we,de,{parameter:je,indexInParameter:Ve});else for(var De=(je.length??0)-1;De>=0;De--)if(!(Ze=this.removeProjection(ye,we,de,{parameter:je,indexInParameter:De})))return!1;return Pe&&0===(je.length??0)&&(Ze=ye.removeParameterByRoleName(je,de)||Ze),Ze}removeProjection(ye,we,je,de){var Pe=ye.getQueryRef(je,de),Ve=ye.getVisualCalcExpressions().some(Ue=>Ue.name===Pe),Ze=ye.removeProjection(je,de);return Pe&&!ye.isUsed(Pe)&&we&&we[Pe]&&(Ve||null==we[Pe].formatString?delete we[Pe]:we[Pe]={formatString:we[Pe].formatString}),Ze}tryAddWithUndefinedQuery(ye,we,je,de){var Pe=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,B.dR)(ye.capabilities);we.query=new L.g(P.vQ.create(),{},[],Pe);var Ve=this.tryAdd(ye,we,je,de);return Ve||(we.query=void 0),Ve}tryAdd(ye,we,je,de){i.fF.assertValue(ye,"capabilitiesHelper"),i.fF.assertValue(we,"config"),i.fF.assertValue(de,"options");var Pe=de.expr;i.fF.assertValue(Pe,"expr");var Ve=new O.W(W.Sd),Ze=!1,Ue=de.projOptions;if(_.isArray(Pe)){var Je=Ue&&Ue.fieldIndex;for(var De of Pe)Ze=null!=this.tryAddQuery(ye,we,de,De,Ue,Ve,je)||Ze,null!=Je&&Ue.fieldIndex++}else if(null==this.tryAddQuery(ye,we,de,Pe,Ue,Ve,je))return!1;if(!je){var ue=(0,B.WO)(ye.capabilities,!!we.query?.isDrillDisabled);if(we.query.ensureDrillableRoles(ue),_.isArray(Pe))return Ze}return!0}tryAddQuery(ye,we,je,de,Pe,Ve,Ze){i.fF.assertValue(ye,"capabilities"),i.fF.assertValue(we,"config"),i.fF.assertValue(de,"expr"),i.fF.assertValue(we,"query");var Ue=Pe&&Pe.isHidden,Je=ye.findCompatibleRole({queryProjections:we.query.projections,schema:je.schema,expr:de,preferDrillableRoles:!1,roleToExprMap:Ve,targetRole:je.targetRole,isFieldParameter:Ze,overflowIsWarning:je.hideOnOverflow,isHidden:Ue});if(Je&&Je.role){var De=Je.error;if(!(De===s.zS.conditionRangeTooLarge&&Ue||this.tryHideOnOverflow(Je.role.name,we.query,De)))return;var ue=this.ensureCorrectKeyInfluencersRole(we.visualType,Je.role,je.targetRole);if(!this.featureSwitchService.featureSwitches.cartesianMultiplesAuthoring&&!he(ue,we,ye.capabilities)&&(ue=this.ensureCorrectSmallMultiplesRole(we,ye.capabilities,ue,void 0,void 0)),!ye.validateDuplicateColumnsInRole(ue,de,we.query,Ze))return;var te,_e=ue.name;if(Ze)te=we.query.addParameter(de,_e,Pe&&Pe.fieldIndex);else{var ke=null==Pe?{}:Object.assign({},Pe);null==ke.nativeReferenceName&&(ke.nativeReferenceName=this.displayNameService.createUniqueNativeReference(de,je.schema,we.query,ye.capabilities,void 0)),te=we.query.add(de,_e,ke)}return this.ensureDependentObjectDefn(ye.objectDescs,_e,we),Ve.add(de,ue),te}}ensureCardinalityByHidingDifferentProjection(ye,we,je){var{query:de,visualType:Pe}=ye;if(de){var Ue=(0,T.F)().create(this.visualPluginService.capabilities(Pe),this.geoTaggingService,de.isDrillDisabled).getNumberRangesForRoles(de)[we],Je=de.projections[we].projected().length;Ue&&Ue.max<Je&&this.tryHideOnOverflow(we,de,s.zS.conditionRangeTooLarge,je)}}tryHideOnOverflow(ye,we,je,de){if(!je)return!0;if(je===s.zS.conditionRangeTooLarge){var Pe=we.tryGetFieldExprs(ye);if(_.isEmpty(Pe))return!1;for(var Ve=0;Ve<Pe.length;Ve++){var Ze=Pe[Ve];if((!_.isNumber(de)||de!==Ve)&&!Ze.isFieldParameter&&(0,q.k)(Ze.expr)&&!Ze.isHidden)return we.toggleHidden(Ze.queryName),!0}}return!1}generateNativeReferenceNameForOperation(ye,we){var je=we.singleVisual.query.getQueryRef(ye.role,{fieldIndex:ye.index});if(null==je)return i.fF.assertFail(`queryRef does not exist while role ${ye.role}, field index ${ye.index}`),"";var de=we.singleVisual.query.defn.select().withName(je),Pe=this.visualPluginService.capabilities(we.singleVisual.visualType);return this.displayNameService.createUniqueNativeReference(de.expr,ye.schema,we.singleVisual.query,Pe,je)}captureCurrentActiveProjectionsByRole(ye){if(ye){var we=this.visualPluginService.capabilities(ye.config.singleVisual.visualType),je=ye.config.singleVisual.query;if(je){var de={};if(we&&we.expandAndSort)return we.expandAndSort.forEach(Pe=>{var Ve=(0,d.cY)(je.projections,Pe);!Ve||!Ve.activeProjectionRefs||(de[Pe]={projectionName:_.last(Ve.activeProjectionRefs),currentPosition:Ve.activeProjectionRefs.length,totalNumberOfProjections:Ve.getQueryRefs().length})}),de}}}ensureCorrectKeyInfluencersRole(ye,we,je){return ye!==J.D.keyDriversVisual||we.name!==u.qG.details||je?we:_.find((0,u.yM)().dataRoles,de=>de.name===u.qG.explainBy)}ensureCorrectSmallMultiplesRole(ye,we,je,de,Pe){return this.featureSwitchService.featureSwitches?.cartesianMultiplesAuthoring||!(0,t.qU)(we?.dataViewMappings)||je.name!==e.xV.rows||de&&Pe===e.xV.rows&&(0,t.qU)(de?.dataViewMappings)||ye.hasUsedSmallMultiples?je:_.find(we.dataRoles,Ve=>Ve.name===e.xV.category)}ensureDependentObjectDefn(ye,we,je){if(ye)for(var de in ye){var Pe=ye[de];for(var Ve in Pe.properties){var Ze=Pe.properties[Ve];if(Ze.rule&&Ze.rule.inputRole===we){var Ue=je.objects;Ue||(Ue=je.objects={});var Je=(0,p.zx)(Ue,de,null);Je.properties[Ve]||(Je.properties[Ve]=this.createDefaultDefinition(Ze.type))}}}}createDefaultDefinition(ye){if(ye.fillRule)return(0,C.yw)()}getSourceShowAllInfo(ye){var we={};for(var je of _.values(ye)){var de=je.showAll;for(var Pe of je.all())we[Pe.queryRef]=de}return we}updateTargetShowAllInfo(ye,we,je){var de=this.getSourceShowAllInfo(ye.query.projections);for(var Pe of _.keys(we.projections)){var Ve=je.roles.withName(Pe).kind;if(this.isShowAllRole(Ve))for(var Ze of we.projections[Pe].all()){var Ue=de[Ze.queryRef];Ue&&(we.projections[Pe].showAll=Ue)}}}isShowAllRole(ye){return ye===h.DW.Grouping||ye===h.DW.GroupingOrMeasure}shouldDefaultExpandSort(ye,we,je){return _.includes(we,ye)&&je>1}setDrillMode(ye,we,je){je.setDrillMode(ye,we)}}},465283:function(Ce,k,r){r.d(k,{F:function(){return l}});var a=r(953474),e=r(257738);function u(m,b){return null==m||isNaN(m)?b:null==b||isNaN(b)?m:Math.min(m,b)}function t(m,b){return null==m||isNaN(m)?b:null==b||isNaN(b)?m:Math.max(m,b)}var C=r(722709),y=r(939123),i=r(454865),o=r(179962),c=r(214817),h=r(895127),n=(r(528836),r(931145)),s=r(505875),p=r(379342);function l(){var b=s.g,V=n.Ge;function g(M){return M&&M.geography&&(M.geography.latitude||M.geography.longitude)}function v(M){return _.some(M.preferredTypes,E=>g(E)||E.numeric)}function f(M){return 0===M.cartesianKind||1===M.cartesianKind}class S{constructor(E,w,x,N){y.fF.assertValue(E,"capabilities"),y.fF.assertValue(w,"roles"),y.fF.assertAnyValue(x,"objectDescs"),y.fF.assertValue(N,"roleMappings"),this.capabilities=E,this.roles=w,this.objectDescs=x,this.roleMappings=N}findCompatibleRole(E){y.fF.assertValue(E.queryProjections,"config"),y.fF.assertValue(E.schema,"schema"),y.fF.assertValue(E.expr,"expr"),y.fF.assertAnyValue(E.targetRole,"targetRole"),y.fF.assertAnyValue(E.roleToExprMap,"roleToExprMap");var w=E.expr,x=E.roleToExprMap,N=E.targetRole,L=E.preferDrillableRoles;if((0,a.ez)(w)){L=!0;var B=this.getExistingTargetRoleForHierarchyLevelIfAny(w,x);if(B){if(N&&N!==B.name)return;N=B.name}}var W,I=(0,h.Q)(w,E.schema);I&&(W=I.column||I.columnAggr||I.groupingColumn||I.groupingColumnAggr||I.measure);var O={projections:E.queryProjections,metadata:w.getMetadata(E.schema),columnName:W?W.name:void 0,preferDrillableRoles:L,targetRole:N,isFieldParameter:E.isFieldParameter,useStrict:E.useStrict,sourceRole:E.sourceRole,overflowIsWarning:E.overflowIsWarning,isHidden:E.isHidden},F=this.findRole(O);if(!F||!_.isEmpty(F?.error)){O.preferDrillableRoles=!E.preferDrillableRoles;var A=this.findRole(O);_.isEmpty(A?.error)&&(F=A)}return F&&x&&x.add(w,F.role),F}findRole(E){var x,w=this.roleMappings;if(!_.isEmpty(w)){var N=w[0].getValueType(E.metadata?E.metadata.type:void 0,E.columnName),L=this.roles.allRolesWithPreference(N?N.extendedType:void 0,E.projections,E.preferDrillableRoles,E.useStrict,E.sourceRole),B=E.targetRole?[E.targetRole]:L;for(var I of B)for(var W of w){var O=W.checkRoleCompatibility(E,I,L);if(O&&!O.error)return O;O&&(x=O)}return x}}getExistingTargetRoleForHierarchyLevelIfAny(E,w){return y.fF.assertValue(w,"roleToExprMap"),w.get(E)}orderByRolePreferences(E,w){y.fF.assertValue(E,"schema"),y.fF.assertValue(w,".orderRoleByPreferences - fields is undefined");for(var x=this.roles.defns,N=0,L=w.length,B=0,I=x.length;B<I;B++){var W=x[B].preferredTypes;if(!_.isEmpty(W))for(var O=N;O<L;O++){var F=w[O],T=F.expr.getMetadata(E);if(T){var R=T.type;if(R)for(var U=0,z=W.length;U<z;U++)if(R.extendedType===V.fromDescriptor(W[U]).extendedType){w.splice(O,1),w.splice(N,0,F),N++;break}}}}}getNumberRangesForRoles(E){var x,w=_.map(this.roles.defns,U=>U.name);y.fF.assertValue(x=E instanceof b?E.projections:E,"projectionsByRole");var N={};for(var L of w)N[L]={min:1/0,max:0};var B=_.filter(this.roleMappings,U=>void 0===U.verifyMappingConditions({projections:x,roleNames:w,preferDrillableRoles:!0,ignoreMin:!0}));for(var I of B){var W=I.getCondition();for(var O of w){var A,F=W&&W[O];A=F?{min:t(F.min,0),max:u(F.max,1/0)}:{min:0,max:1/0};var T=N[O];T.min=Math.min(A.min,T.min),T.max=Math.max(A.max,T.max)}}for(var R of _.values(N))R.min=Math.min(R.min,R.max);return N}getNonLatLongRoles(){var E=this.getLatLongRoleNames();return this.getFilteredRoleNames(E)}getFilteredRoleNames(E){var x=this.capabilities.dataViewMappings,N=[];for(var L of x)L.categorical&&(0,c.Sr)(L.categorical.categories,{visitRole:I=>{N.push(I)}}),L.matrix&&(0,c.Ay)(L.matrix.rows,{visitRole:I=>{N.push(I)}});return _.without(_.uniq(N),...E||[])}getLatLongRoleNames(){return this.getRoleNames(E=>v(E))}getCartesianGroupingOrMeasureRoleNames(){return this.getRoleNames(E=>f(E))}getRoleNames(E){return _.chain(this.capabilities.dataRoles).filter(E).map(w=>w.name).value()}hasPreferredTypes(){return _.some(this.capabilities.dataRoles,E=>!_.isEmpty(E.preferredTypes))}validateDuplicateColumnsInRole(E,w,x,N){if(y.fF.assertValue(E,"targetRole"),y.fF.assertValue(w,"expr"),y.fF.assertValue(x,"VisualQuery"),!E.noDuplicates)return!0;var L=E.name,B=x.projections;if(B&&B[L]){var I;if(N){var T=B[L].getFieldParameters(),R=_.map(T,U=>U.expr);I=_.some(R,U=>(0,e.fS)(w,U))}else{var W=B[L].all(),O=_.map(W,U=>U.queryRef),F=x&&x.defn&&x.defn.select(),A=_.map(O,U=>F.withName(U).expr);I=_.some(A,U=>(0,e.fS)(w,U))}return!I}return!0}}class P{constructor(E,w,x,N){y.fF.assertValue(E,"roles"),this.roles=E,this.geoTaggingService=w,this.condition=N,this.drillableRoles=x}getCondition(){return this.condition}checkRoleCompatibility(E,w,x){if(y.fF.assertValue(E.projections,"projections"),y.fF.assertAnyValue(E.metadata,"metadata"),E.metadata){var N=this.roles.withName(w);if(N){if(E.isFieldParameter)return{role:N};var L=(0,o.sw)(w,E.projections);E.isHidden||L++;var B=this.validateRoleCompatibility(N,E.metadata,L,E.preferDrillableRoles),I=B?{code:B,roleName:w}:void 0;if(!I&&!this.verifyMappingConditions({projections:E.projections,roleNames:_.without(x,w),preferDrillableRoles:E.preferDrillableRoles,ignoreMin:!1}))return{role:N};if(I&&I.roleName===w&&I.code===o.zS.conditionRangeTooLarge&&E.overflowIsWarning)return{role:N,error:I.code}}}}getValueType(E,w){if(E&&null==E.categoryString){var x=w&&this.geoTaggingService.getFieldType(w);null!=x&&(E=V.fromPrimitiveTypeAndCategory(E.primitiveType,x))}return E}verifyMappingConditions(E){for(var w of(y.fF.assertValue(E.projections,"projections"),y.fF.assertValue(E.roleNames,"roleNames"),E.roleNames)){var x=this.roles.withName(w);if(!x)return{code:"roleDoesNotExist",roleName:w};var N=(0,o.sw)(w,E.projections),L=this.validateRange({count:N,roleName:x.name,preferDrillableRoles:E.preferDrillableRoles,ignoreMin:E.ignoreMin});if(L)return{code:L,roleName:w}}}validateRoleCompatibility(E,w,x,N){y.fF.assertValue(E,"roleInfo"),y.fF.assertValue(w,"exprMetadata");var L=E.kind;if(1===w.kind){if(L===i.DW.Grouping)return o.zS.conditionKindExpectedGrouping}else if(L===i.DW.Measure)return o.zS.conditionKindExpectedMeasure;var B=E.requiredTypes;return B&&!V.isCompatibleTo(w.type,B)?"exprTypeMismatch":w.type?.misc?.sparkline&&!E.supportsSparklines?"sparklineSupportMismatch":this.validateRange({count:x,roleName:E.name,preferDrillableRoles:N,ignoreMin:!1})||void 0}isRoleDrillable(E){return _.includes(this.drillableRoles,E)&&(!this.condition[E]||void 0===this.condition[E].max||1===this.condition[E].max)}validateRange(E){if(this.condition&&(!E.preferDrillableRoles||!this.isRoleDrillable(E.roleName))){var w=this.condition[E.roleName];return w?(0,o.JU)(E.count,w,E.ignoreMin):void 0}}}class D{constructor(E){y.fF.assertValue(E,"roles"),this.defns=E}withName(E){return(0,C.rC)(this.defns,E)}allRolesWithPreference(E,w,x,N,L){var B=_.map(this.defns,I=>I.name);return L?this.promoteAndPenalize(B,I=>this.getRoleWeight(L,I)):this.promoteAndPenalize(B,I=>this.getTypeWeightForRole(E,I.preferredTypes),N),this.promoteAndPenalize(B,I=>this.getProjectionWeightForRole(I,w,x)),B}promoteAndPenalize(E,w,x){var N=0;for(var L of this.defns){var B=w(L);if(null!=B){var I=E.splice(E.indexOf(L.name),1)[0];B!==D.penalize||x?B===D.promote&&E.splice(N++,0,I):E.push(I)}}}getRoleWeight(E,w){return E.kind===w.kind||this.hasCommonTypes(E.requiredTypes,w.requiredTypes)||this.hasCommonTypes(E.requiredTypes,w.preferredTypes)||this.hasCommonTypes(E.preferredTypes,w.requiredTypes)||this.hasCommonTypes(E.preferredTypes,w.preferredTypes)?D.promote:D.penalize}hasCommonTypes(E,w){return!_.isEmpty(E)&&!_.isEmpty(w)&&!_.isEmpty(_.intersectionWith(E,w,_.isEqual))}getTypeWeightForRole(E,w){if(w){var x=D.penalize;for(var N of w)if(E===V.fromDescriptor(N).extendedType){x=D.promote;break}return x}}getProjectionWeightForRole(E,w,x){var N=w[E.name],L=N&&N.projected();if(!x&&!_.isEmpty(L)&&E.kind!==i.DW.Measure||x&&E.kind===i.DW.Measure)return D.penalize}}return D.penalize=-1,D.promote=1,{create(M,E,w){if(y.fF.assertAnyValue(M,"capabilities"),M&&!_.isEmpty(M.dataRoles)){var x=M.dataViewMappings,N=new D(M.dataRoles),L=[];for(var B of x){var I=B.conditions;if(_.isEmpty(I))L.push(new P(N,E,(0,p.WO)(M,w)));else for(var W of I)L.push(new P(N,E,(0,p.WO)(M,w),W))}return new S(M,N,M.objects,L)}},dataRoleWrapper:M=>new D(M),isValueTypeDescriptorLatLong:g,isRoleCompatibleWithLatLong:v,isRoleCompatibleWithScatterXY:f}}},355884:function(Ce,k,r){r.d(k,{I:function(){return u}});var a=r(939123),e=r(129535);function u(C){return new t(C)}class t{constructor(y){this.visualPlugins=y,a.fF.assertValue(this.visualPlugins,"visualPlugin")}hasFilterCapabilities(y){var i=this.visualPlugins.getPlugin(y);return!!(i&&i.capabilities&&i.capabilities.objects&&(0,e.MD)(i.capabilities.objects))}}},649411:function(Ce,k,r){r.d(k,{w:function(){return f}});var a=r(883803),e=r(799358),u=r(885825),t=r(69578),C=r(810715),y=r(288487),i=r(939123),o=r(39032),c=r(919439),h=r(473634),d=r(51651),n=r(527799),s=r(67688),p=r(2063),l=r(159214),m=r(441074),b=r(704731),V=r(980812),g=r(239827),v=r(179593);function f(P,D,M,E,w,x,N,L,B,I,W,O,F,A,T,R,U,z,j,H,q,G,J){return new S(P,D,M,E,w,x,N,L,B,I,W,O,F,A,T,R,U,J,G,z,j,H,q)}class S{constructor(D,M,E,w,x,N,L,B,I,W,O,F,A,T,R,U,z,j,H,q,G,J,Z){this.queryExecutionServices=D,this.hostServices=M,this.promiseFactory=E,this.conceptualSchemaProxy=w,this.featureSwitchService=x,this.telemetryService=N,this.visualQueryGenerator=L,this.visualPlugin=B,this.visualPluginOps=I,this.filterGenerator=W,this.displayNameService=O,this.explorationNavigation=F,this.visualValidationService=A,this.resourceLoader=T,this.eventBridge=R,this.dataProxyService=U,this.dataSources=z,this.visualLifecycleService=j,this.resourceRegistration=H,this.cachePolicyProviderService=q,this.visualInsightsAnalysisHandler=G,this.visualParameterService=J,this.visualDataProxyExecutionService=Z}attach(D){this.queryExecutionServices=D}cancelQuery(D){this.visualDataProxyExecutionService.cancelQuery(D),this.visualParameterService.cancelResolve(D)}generateApplicationContext(D,M){var E=this.explorationNavigation&&this.explorationNavigation.getCurrentExploration()&&this.explorationNavigation.getCurrentExploration().report,w=E&&E.objectId,x=this.dataSources.get(),N=x?.filter(L=>!!L.dsr)[0]?.dsr?.dbName;return{DatasetId:N,Sources:[{ReportId:w,Operation:D,VisualId:M&&M.name}]}}runQuery(D){var w,M=(0,m.O)(D.performanceActivity,s.V6,this.telemetryService),E=D.performanceActivity;this.featureSwitchService.featureSwitches.resolveParametersEvent&&(w=this.startResolveParametersPerformanceActivity(E));var x=this.startQueryPerformanceActivity(E),N=this.dataSources.get(),L=D.contract,B=L.config.singleVisual,I=B.query&&B.query.hasQueryFieldParameters();if(this.visualValidationService.shouldBlockVisualQuery&&this.visualValidationService.shouldBlockVisualQuery(L)||!(D.skipShouldRunQueryVerification||this.visualQueryGenerator.shouldExecute(B,N)||this.visualParameterService.shouldExecute(B,N)))return this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!1,w,x),x&&x.queryActivity.resolve(),M&&M.resolve(),!1;this.queryExecutionServices.notifyStart(x&&x.telemetryActivity),w&&w.setProperty("start",(0,o.z)());var F=this.resolveQueryParameters(D,w);return(this.visualInsightsAnalysisHandler.supportsInsights(L)?F.then(A=>{if((A.queryChange||A.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,w,x),!I||this.visualQueryGenerator.shouldExecute(B,N))return this.visualInsightsAnalysisHandler.runInsights(L).then(T=>{if(T){if(T.error)throw T.error;T.queryExecutionOptions&&_.merge(D,T.queryExecutionOptions)}return this.runQueryImpl(D,N,L,x,T&&T.warnings)})}):F.then(A=>{if((A.queryChange||A.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,w,x),!I||this.visualQueryGenerator.shouldExecute(B,N))return this.runQueryImpl(D,N,L,x,void 0)})).catch(A=>{this.queryExecutionServices.handleErrors(A,x)}).finally(()=>{this.queryExecutionServices.notifyEnd(),M&&M.resolve()}),!0}transitionResolveParametersToQuery(D,M,E){M&&M.isRunning()&&(E&&E.queryActivity.isRunning()&&E.queryActivity.setProperty("start",(0,o.z)()),D&&M.getProperty("metadataParameterCount")>0?M.resolve():M.cancel(!0))}resolveQueryParameters(D,M){var E=this.dataSources.get();return this.conceptualSchemaProxy.get(E).then(w=>{var x=this.generateApplicationContext(D.queryOperation,D.contract),N=this.getDatasetCacheOptions(D,E,!1),L={dataSources:E,schema:w,additionalFilters:this.hostServices.getFilters(this.filterGenerator,w),config:D.contract.config.singleVisual,cacheOptions:N,allowResultFromClientCache:D.allowResultFromClientCache,applicationContext:x,cacheResponseOnServer:D.cacheResponseOnServer,visual:D.contract,performanceActivity:M,metricsKind:D.executionMetricsKind};return this.visualParameterService.resolve(L)})}runQueryImpl(D,M,E,w,x){!D.initialLoad&&this.hostServices&&this.updateCachedData(D);var B,I,N=this.getDatasetCacheOptions(D,M,!0),L=D.initialLoad&&this.featureSwitchService.featureSwitches.verboseTelemetry;L&&(B=this.startVisualFirstLoadTelemetryEvent(N,M,E.name,w&&w.telemetryActivity)),I=this.generateApplicationContext(D.queryOperation,E);var W=this.visualDataProxyExecutionService.runQuery({dataSources:M,contract:E,viewport:D.viewport,hostServices:this.hostServices,initialLoad:D.initialLoad,useVisualContainerCache:D.useVisualContainerCache,preferCurrentData:D.preferCurrentData,allowResultFromClientCache:D.allowResultFromClientCache,cacheResponseOnServer:D.cacheResponseOnServer,cacheResponseOnContract:D.cacheResponseOnContract,cacheOptions:N,clientCacheOnly:D.clientCacheOnly,visualFirstLoadEvent:B,performanceActivity:w&&w.queryActivity,executionMetricsKind:D.executionMetricsKind,canDefer:D.canDefer,requestPriority:D.requestPriority,applicationContext:I,windowExpansionTransform:D.windowExpansionTransform,skipShouldRunQueryVerification:D.skipShouldRunQueryVerification,previewGate:D.previewGate,customizeQueryOverride:D.customizeQueryOverride}),O=E.config.singleVisual.visualType,A=this.loadResourcePackageReferences(O,E.config.singleVisual.objects);D.geocodingTracker&&D.geocodingTracker.newQuery(w&&w.rootActivity);var T=!1;return W.previewPromise.then(R=>{R&&!T&&this.resolveResourcePackageReferences(O,R.dataProxyQuery.transforms.objects,w&&w.rootActivity).then(U=>{this.handleQueryResult(E,R.result,R.dataProxyQuery,U,null,null,!0,w,x)})},R=>{i.fF.assert(()=>R.ignorable,"Preview promise should be rejected with ignorable errors only")}),W.finalPromise.then(R=>{var U=R&&R.result&&R.result.dataReaderResult,z=!!(N&c.U.AllowCache);U&&z&&B&&(B.event.info.cacheResultFromServer=R.result.dataReaderResult.fromCache);var j=this.getLastRefreshTime(M);if(z&&U&&this.isResultStale(j,R.result.dataReaderResult.timestamp)){var q=c.U.AllowQuery|c.U.CacheResult;return q=N&c.U.PreventRefresh?q|c.U.PreventRefresh:q,B&&(B.event.info.staleCacheResultFromServer=!0),this.visualDataProxyExecutionService.runQuery({dataSources:M,contract:E,viewport:D.viewport,hostServices:this.hostServices,initialLoad:D.initialLoad,useVisualContainerCache:!1,preferCurrentData:D.preferCurrentData,allowResultFromClientCache:!1,cacheResponseOnServer:!1,cacheOptions:q,visualFirstLoadEvent:B,performanceActivity:w&&w.queryActivity,executionMetricsKind:D.executionMetricsKind,requestPriority:D.requestPriority,canDefer:D.canDefer}).finalPromise}return R}).then(R=>A.then(()=>{this.processQueryResult(D,R,w,x)})).finally(()=>{T=!0,L&&B&&B.resolve()})}startQueryPerformanceActivity(D){if(D&&D.isRunning())return{rootActivity:D,queryActivity:D.createChildActivity({name:"Query"}),telemetryActivity:this.telemetryService.getOpenActivityById(D&&D.getProperty("telemetryActivityId"))}}startResolveParametersPerformanceActivity(D){if(D)return D.createChildActivity({name:"Resolve Parameters"})}startVisualFirstLoadTelemetryEvent(D,M,E,w){var L,x=!!(D&c.U.AllowCache),N=(0,l.L2)(M);return L=w?this.telemetryService.startChildEvent(w.event,s.II,{onPrem:N,isServerCacheEligible:x,visualName:E}):this.telemetryService.startEvent(s.II,{onPrem:N,isServerCacheEligible:x,visualName:E}),(0,V.TW)(L.event,this.explorationNavigation),L}getCachedQueryOrGenerate(D){var M=this;return(0,a.Z)(function*(){var E=(0,m.O)(D.performanceActivity,s.v$,M.telemetryService),w=M.dataProxyService.lastExecutedQuery();if(w)return M.cachedQueryResult=void 0,w;try{return M.cachedQueryResult||(yield M.generateQuery(D))}finally{E&&E.resolve()}})()}generateQuery(D){var M=this;return(0,a.Z)(function*(){var E=M.dataSources.get(),w=yield M.conceptualSchemaProxy.get(E),N=M.visualDataProxyExecutionService.generateQuery({dataSources:E,schema:w,config:D.contract.config.singleVisual,hostServices:M.hostServices,visualQueryGenerator:M.visualQueryGenerator,executionType:0,preferCurrentData:null==D.preferCurrentData||D.preferCurrentData,viewport:D.viewport,allowResultFromClientCache:null==D.allowResultFromClientCache||D.allowResultFromClientCache,cacheOptions:void 0,performanceActivity:D.performanceActivity,executionMetricsKind:D.executionMetricsKind});return M.cachedQueryResult=M.dataProxyService.lastExecutedQuery()?void 0:N,N})()}updateCachedData(D){var M=this;return(0,a.Z)(function*(){if(!1!==D.cacheResponseOnContract){var E=yield M.generateQuery({...D,performanceActivity:void 0}),w=D.contract;if(E&&!E.error&&w.cachedData){w.cachedData.dataUpdatedTime=void 0;var x=M.visualPlugin.capabilities(w.config.singleVisual.visualType);w.cachedData.transformsObject=u.F.serializeDataViewTransformActions(E.transforms,x.objects),w.cachedData.queryObject=E.options.query.command,w.cachedData.dataObject=void 0}}})()}loadMoreData(D){var M=this.startQueryPerformanceActivity(D.performanceActivity);this.queryExecutionServices.notifyStart(),this.getNextDataSegment(D,M).then(E=>{E&&this.mergeMoreData(E.result,E.dataProxyQuery,D.currentData,E.performanceActivityContext)}).catch(E=>{M&&M.queryActivity.reject(E)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}canLoadMoreData(){return this.visualDataProxyExecutionService.canLoadMoreData()}loadWindow(D){var M=this.startQueryPerformanceActivity(D.performanceActivity);this.queryExecutionServices.notifyStart(),this.visualDataProxyExecutionService.loadWindow({dataSources:this.dataSources.get(),contract:D.contract,hostServices:this.hostServices,viewport:D.viewport,useVisualContainerCache:D.useVisualContainerCache,performanceActivity:M?.queryActivity,executionMetricsKind:D.executionMetricsKind,windowExpansionState:D.windowExpansionState}).then(E=>{this.handleLoadMoreDataWarnings(E&&E.result,E&&E.dataProxyQuery),this.processQueryResult(D,E,M,void 0)}).catch(E=>{this.queryExecutionServices.handleErrors(E),M&&M.queryActivity.reject(new y.HA(E))}).finally(()=>{this.queryExecutionServices.notifyEnd()})}getNextDataSegment(D,M){var E=M||this.startQueryPerformanceActivity(D.performanceActivity),w=this.promiseFactory.defer();return this.visualDataProxyExecutionService.canLoadMoreData()?this.visualDataProxyExecutionService.loadMoreData({dataSources:this.dataSources.get(),contract:D.contract,hostServices:this.hostServices,viewport:D.viewport,useVisualContainerCache:D.useVisualContainerCache,performanceActivity:E?.queryActivity,executionMetricsKind:D.executionMetricsKind}).then(x=>{this.handleLoadMoreDataWarnings(x&&x.result,x&&x.dataProxyQuery);var N=x;E&&(N={...N,performanceActivityContext:E}),w.resolve(N)},x=>{this.queryExecutionServices.handleErrors(x),E&&E.queryActivity.reject(new y.HA(x)),w.reject(x)}):(E&&E.queryActivity.reject(new v.fl("Cannot load more data","User")),w.reject("Cannot load more data")),w.promise}reloadDataSegment(D,M){var E=D.currentData&&D.currentData.dataView&&D.currentData.dataView.matrix&&D.currentData.dataView.matrix.rows&&D.currentData.dataView.matrix.rows.root;if(E){var w=this.dataProxyService.getNodeSegment(M);if(w&&0!==w.index){this.dataProxyService.discardSegmentsFrom(w.index);var x=this.dataProxyService.getLastNodeIndex();(0,h.dp)(E,x)?this.loadMoreData(D):this.runQuery(D)}else this.runQuery(D)}else this.runQuery(D)}mergeMoreData(D,M,E,w){var x=S.getDataProxyQueryExecutionResultWarnings(D,M),N=D&&D.dataReaderResult?D.dataReaderResult.dataView:null;if(N){i.fF.assert(()=>null!=E&&null!=E.dataView,"Expected to have previous segment already");var L=E.dataView;(0,h.$n)(L,N);var B={dataView:L,dataViewSource:D&&D.dataViewSource,performanceActivities:D&&D.dataReaderResult&&D.dataReaderResult.performanceActivities,isFirstSegment:!1};_.isEmpty(x)||(B.warnings=x),this.queryExecutionServices.loadMergedData(B,w)}else w&&w.queryActivity.resolve()}visualizeDataViewSource(D,M,E,w){i.fF.assertValue(M,"dataViewSource");var x=this.startQueryPerformanceActivity(w),N=D.config.singleVisual,L=this.visualPluginOps.targetedDataViewKinds(N.visualType,N.query),B=(0,e.ij)(L,M.data,(0,C.u)(this.featureSwitchService.featureSwitches)),I=B.error;if(I)this.queryExecutionServices.handleErrors(I);else{var W=this.dataSources.get();i.fF.assertValue(W,"dataSources");var O=D&&D.config&&D.config.singleVisual;!W||!O||this.conceptualSchemaProxy.get(W).then(F=>{var A=this.visualQueryGenerator.execute({config:O,dataSources:W,schema:F,additionalFilters:this.hostServices.getFilters(this.filterGenerator,F),restartToken:B.restartToken,dataWindow:E,dataSourceVariables:this.hostServices.getDataSourceVariables(),disableAnchorTime:!!this.hostServices.disableAnchorTime||this.visualPluginOps.isQnaVisual(O.visualType)});if(A){var T=this.promiseFactory.defer();T.resolve(A.options),this.handleQueryResult(D,{dataViewSource:M,dataReaderResult:B},{transforms:A.transforms,error:A.error,warnings:A.warnings,options:T.promise},null,{updateContractCache:!0},null,!1,x)}})}}updateNonQueryVisual(D,M,E){var w=this.startQueryPerformanceActivity(E),x={dataView:null,dataViewSource:null};if(M){var N=D.config.singleVisual.visualType,L=D.config.singleVisual.objects;this.queryExecutionServices.notifyStart(),this.resolveResourcePackageReferences(N,L,E).then(B=>{this.queryExecutionServices.applyUpdate(x,M,B,w)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}else this.queryExecutionServices.applyUpdate(x,M,null,w)}updateContractCache(D,M,E){if(i.fF.assertAnyValue(M,"result"),!D)return this.promiseFactory.reject(null);var w=this.dataSources.get();if(!w)return this.promiseFactory.reject(null);i.fF.assertValue(E,"dataProxyQuery is expected to be defined when there is a dataSource");var x=D.cachedData&&D.cachedData.dataUpdatedTime?D.cachedData.dataUpdatedTime:null,N=M&&M.dataViewSource?M.dataViewSource.data:void 0,L=E&&E.error;return M&&M.dataReaderResult&&M.dataReaderResult.disallowPersisting&&(x=null,N=null,L=new y.qw("VisualContainerQueryHandler.updateContractCache() cachingError")),this.conceptualSchemaProxy.get(w).then(B=>E.options.then(I=>{D.cachedData=(0,l.s9)(this.visualPlugin,this.displayNameService,N,{transforms:E.transforms,error:L,warnings:E.warnings,options:I,compiledMappings:E.compiledMappings},B,D.config.singleVisual,this.featureSwitchService.featureSwitches,(0,g.i3)(D.filters),x)}))}getLastRefreshTime(D){for(var M of D)if(M&&M.dsr&&M.dsr.lastRefreshTime)return M.dsr.lastRefreshTime}processQueryResult(D,M,E,w){var x;M&&(x={updateContractCache:D.cacheResponseOnContract??!0,updateServerCache:M.updateServerVisualContainerCache},this.resolveResourcePackageReferences(D.contract.config.singleVisual.visualType,M.dataProxyQuery.transforms.objects,E&&E.rootActivity).then(N=>{this.handleQueryResult(D.contract,M&&M.result,M.dataProxyQuery,N,x,D.currentData,!1,E,w)}))}isResultStale(D,M){var w=(0,t.TX)(D),x=(0,t.Kk)(M);return i.fF.assert(()=>!!x,"A result date should be returned -- this is needed to check for freshness."),!(!w||!x)&&w.getTime()-12e4>x.getTime()}getDatasetCacheOptions(D,M,E){var x=D.initialLoad,N=this.visualLifecycleService&&this.visualLifecycleService.has(D.contract.id,E);if(this.featureSwitchService.featureSwitches.expandQueryCaching){if(this.isQueryCachingEnabledForAnyDataset(M))return this.cachePolicyProviderService.getInteractiveQueryPolicy(x&&N,D.interactiveQueryCachingSetting)}else if(x&&N&&this.isQueryCachingEnabledForAnyDataset(M))return c.U.AllowCache|c.U.AllowQuery|c.U.CacheResult}isQueryCachingEnabledForAnyDataset(D){return!!_.some(D,M=>M.dsr&&M.dsr.isQueryCachingEnabled)}handleQueryResult(D,M,E,w,x={},N,L=!1,B,I){var W,O;if(this.queryExecutionServices.clearErrors(),M){W={dataView:M.dataReaderResult?M.dataReaderResult.dataView:null,dataViewSource:M.dataViewSource?M.dataViewSource:null,performanceActivities:M.dataReaderResult?M.dataReaderResult.performanceActivities:null},O=S.getDataProxyQueryExecutionResultWarnings(M,E)||[],I&&(O=_.concat(O,I)),_.isEmpty(O)||(W.warnings=O);var F=(0,l.A8)(W.dataView);if(F&&(W.isFirstSegment=F),this.featureSwitchService?.featureSwitches?.queryContext){var A=M.dataReaderResult?.queryContext;A&&(W.queryContext=A)}}else if(W={dataView:N&&N.dataView,dataViewSource:N&&N.dataViewSource,isFirstSegment:N&&N.isFirstSegment},O=N&&N.warnings||[],I&&(O=_.concat(O,I)),_.isEmpty(O)||(W.warnings=O),this.featureSwitchService?.featureSwitches?.queryContext){var T=N?.queryContext;T&&(W.queryContext=T)}if(this.queryExecutionServices.handleWarnings(O,E&&E.transforms),this.queryExecutionServices.applyUpdate(W,E.transforms,w,B,L),x&&x.updateContractCache){var U=this.updateContractCache(D,M&&M.dataViewSource?M.dataViewSource.data:void 0,E);x.updateServerCache&&U.then(()=>{E.options.then(z=>{if(!_.isEmpty(z.query.command)){var H={visualContainerId:D.id,query:JSON.stringify(z.query.command),dataTransforms:this.getCachedTransformsString(D)};this.eventBridge.publishToChannel(b.BmV,H)}})})}}handleLoadMoreDataWarnings(D,M){this.queryExecutionServices.clearErrors();var E=S.getDataProxyQueryExecutionResultWarnings(D,M)||[];this.queryExecutionServices.handleWarnings(E,M&&M.transforms)}getCachedTransformsString(D){var M=D.cachedData;if(M){var E=M.transformsObject;if(E)return u.F.serializeTransformActions(E)}}loadResourcePackageReferences(D,M){var E=this.visualPlugin.capabilities(D),w=E&&E.objects,x=this.explorationNavigation.getCurrentExploration();return i.fF.assert(()=>!!x||!(0,d.z_)(M,w),"currentExploration"),(0,d.CJ)(M,w,()=>x?x.resourcePackages:null,this.resourceLoader,this.promiseFactory,(N,L)=>this.ensureSharedResource(x,N,L))}ensureSharedResource(D,M,E){if(this.resourceRegistration){var w=(0,p.Hg)(D,2);(0,n.NW)(w,M)||this.resourceRegistration.add(M,2,E)}}resolveResourcePackageReferences(D,M,E){var w=this.visualPlugin.capabilities(D),x=w&&w.objects,N=this.explorationNavigation.getCurrentExploration();return i.fF.assert(()=>!!N||!(0,d.z_)(M,x),"currentExploration"),(0,d.sQ)(M,x,N?N.resourcePackages:null,this.resourceLoader,this.promiseFactory,void 0,E)}static getDataProxyQueryExecutionResultWarnings(D,M){var E;return M&&!_.isEmpty(M.warnings)&&(E=E||[]).push(...M.warnings||[]),D&&D.dataReaderResult&&!_.isEmpty(D.dataReaderResult.warnings)&&(E=E||[]).push(...D.dataReaderResult.warnings||[]),E}}},487297:function(Ce,k,r){r.d(k,{nW:function(){return d}});var a=r(370728),e=r(334169),u=r(179593),t=r(939123),C=r(737466),y=r(922299),i=r(211699),o=r(473634),c=r(688574);class h{constructor(l,m,b){this.index=l,this.restartToken=m,b&&(this.hierarchyLastNodeIndex=b)}endsBeforeNode(l){t.fF.assertValue(this.hierarchyLastNodeIndex,"this.hierarchyLastNodeIndex");for(var m=this.hierarchyLastNodeIndex,b=Math.min(m.length,l.length),V=0;V<b;V++){var g=m[V],v=l[V];if(g<v)return!0;if(g>v)return!1}return l.length>m.length}}function d(p,l,m,b,V=!1){return new n(p,l,m,b,V)}class n{constructor(l,m,b,V,g){this.hasExecutedQuery=!0,this.dataProxy=l,this.promiseFactory=b,this.filterGenerator=m,this.dataSegments=[],this.telemetryV2Enabled=g,this.visualPluginService=V}generateQuery(l){var m=(0,C.BL)(`visualQueryGenerator(${l.config.visualType})`),b=l.visualQueryGenerator.execute({config:l.config,dataSources:l.dataSources,schema:l.schema,additionalFilters:l.hostServices.getFilters(this.filterGenerator,l.schema),restartToken:this.getRestartToken(l),cacheResponseOnServer:!(!l.isInitialLoad&&!l.cacheResponseOnServer),allowResultFromClientCache:l.allowResultFromClientCache,dataWindow:l.viewport,cacheOptions:l.cacheOptions,clientCacheOnly:l.clientCacheOnly,dataSourceVariables:l.hostServices.getDataSourceVariables(),performanceActivity:l.performanceActivity,executionMetricsKind:l.executionMetricsKind,telemetryV2Enabled:this.telemetryV2Enabled,requestPriority:l.requestPriority,applicationContext:l.applicationContext,windowExpansion:this.getWindowExpansion(l),disableAnchorTime:!!l.hostServices.disableAnchorTime||l.config.visualType===c.D.qnaVisual,drillableRoles:l.drillableRoles,projectVisualCalculationContext:l.projectVisualCalculationContext,customizeQueryOverride:l.customizeQueryOverride,isPivoted:l.isPivoted,dataViewMappingsOverride:l.dataViewMappingsOverride});return m(),b}getSegmentRestartToken(l){if(!(l<=0))return t.fF.assert(()=>l<=this.dataSegments.length,"SegmentIndex out of bounds"),this.dataSegments[l-1].restartToken}runQuery(l){t.fF.assertValue(l.config,"config"),t.fF.assert(()=>1!==l.executionType||!0!==l.preferCurrentData,"PreferCurrentData true cannot be combined with QueryExecutionType.LoadMore.");var m=this.promiseFactory.defer(this.telemetryV2Enabled),b=_.last(this.dataSegments);if(1!==l.executionType||b&&b.restartToken){var g=l.generatedQuery||this.generateQuery(l);if(g)if(l.additionalDataViewKinds&&g.options&&(g.options.kinds|=l.additionalDataViewKinds),g.error)m.reject(g.error),this.generatedQuery=void 0;else{if(!(this.generatedQuery&&this.hasExecutedQuery&&l.preferCurrentData&&(0,a.Fu)(g.options,this.generatedQuery.options))){if(g=this.ensureRestartToken(l,g),this.shouldDelayExecution(l,g))return this.resolveEmptyResult(g,m),(0,e.U)(m);if(l.performanceActivity){g.options.isColdLoad=function(p){var l=(0,u.sV)(m=>"Open Report"===m.name,p);return l&&l.includesBootstrap}(l.performanceActivity);var v=l.performanceActivity.getProperty("parent");v&&"Visual Container Lifecycle"===v.name&&(v.lifecycleFlags|=4096)}var f=this.dataProxy.execute(g.options);return f.then(S=>this.handleQueryResult(S,g,f,l.config.query),S=>{throw this.generatedQuery=void 0,S})}this.generatedQuery=g,m.resolve(null)}else this.generatedQuery=void 0,m.reject()}else m.reject();return(0,e.U)(m)}cancelQuery(l){this.dataProxy.cancelQuery(l)}ensureRestartToken(l,m){return 1!==l.executionType&&(this.dataSegments=[],l.preferCurrentData&&(m=this.generateQuery(l),l.additionalDataViewKinds&&(m.options.kinds|=l.additionalDataViewKinds))),m}getRestartToken(l){var m=this.dataSegments.length-1;return l.preferCurrentData?this.getSegmentRestartToken(m):1===l.executionType?this.getSegmentRestartToken(m+1):void 0}getWindowExpansion(l){if(l.config&&l.config.query&&l.config.query.expansionStates){var m=l.config.visualType;t.fF.assertValue(m,"Visual type must be defined");var b=this.visualPluginService.capabilities(m);if(!_.some(b.dataViewMappings,g=>g&&g.matrix&&g.matrix.rows&&g.matrix.rows.dataReductionAlgorithm&&g.matrix.rows.dataReductionAlgorithm.topNPerLevel))return void t.fF.assert(()=>3!==l.executionType,"LoadWindow is only supported when data reduction is topNPerLevel");var V=this.windowExpansionState;return 3===l.executionType&&(t.fF.assertValue(l.windowExpansionState,"Missing window information"),V=l.windowExpansionState),l.windowExpansionTransform?l.windowExpansionTransform(V):(t.fF.assert(()=>_.size(l.config.query.expansionStates)<=1,"Expected at most one expansion state"),(0,y.W7)(_.first(l.config.query.expansionStates),V,l.config.query.defn.select(),l.schema))}}shouldDelayExecution(l,m){return!m.options.query.command||m.deferred&&1!==l.executionType&&2!==l.executionType}resolveEmptyResult(l,m){this.generatedQuery=l,this.hasExecutedQuery=!1,m.resolve({dataReaderResult:{dataView:{metadata:{columns:[]}}}})}handleQueryResult(l,m,b,V){return this.hasExecutedQuery=!0,this.generatedQuery=m,b.matchesLastExecuteQuery&&(l=this.rewriteQueryResultWithoutPerformanceActivities(l)),this.addNewDataSegment(l&&l.dataReaderResult),this.addWindowExpansionState(m,V,l&&l.dataReaderResult),null!=l&&(l.isPivoted=m.isPivoted),l}addWindowExpansionState(l,m,b){1===_.size(l.compiledMappings)&&l.compiledMappings[0].matrix&&l.compiledMappings[0].matrix.rows&&l.compiledMappings[0].matrix.rows.dataReductionAlgorithm&&l.compiledMappings[0].matrix.rows.dataReductionAlgorithm.topNPerLevel?(t.fF.assert(()=>_.size(m.expansionStates)<=1,"Expected at most one expansion state"),this.windowExpansionState=(0,i.x9)(b.dataView)):this.windowExpansionState=null}addNewDataSegment(l){var v,m=l&&l.restartToken,b=l&&l.dataView,V=b&&b.matrix&&b.matrix.rows&&b.matrix.rows.root,g=this.dataSegments.length;if(_.isEmpty(V&&V.children))v=new h(g,m);else{var S,f=_.last(this.dataSegments);f?(t.fF.assertValue(f.hierarchyLastNodeIndex,"LoadMore is not allowed between segments of different DataViewKinds"),S=_.clone(f.hierarchyLastNodeIndex)):S=[],(0,o.Iu)(V,S),t.fF.assert(()=>!f||f.endsBeforeNode(S),"Segment lastNodeIndex must be incremental"),v=new h(g,m,S)}this.dataSegments.push(v)}rewriteQueryResultWithoutPerformanceActivities(l){if(l&&l.dataReaderResult&&l.dataReaderResult.performanceActivities){var m={...l.dataReaderResult};return delete m.performanceActivities,{...l,dataReaderResult:m}}return l}canLoadMore(){var l=_.last(this.dataSegments);return null!=l&&null!=l.restartToken}lastExecutedQuery(){return this.generatedQuery}getNodeSegment(l){return t.fF.assert(()=>!_.some(this.dataSegments,m=>_.isEmpty(m.hierarchyLastNodeIndex)),"discardSegmentsFrom is only allowed with Segments of Matrix DataView"),_.find(this.dataSegments,m=>!m.endsBeforeNode(l))}discardSegmentsFrom(l){t.fF.assert(()=>l<this.dataSegments.length,"segmentIndex out of bounds"),this.dataSegments.length=l}getLastNodeIndex(){if(!_.isEmpty(this.dataSegments))return _.last(this.dataSegments).hierarchyLastNodeIndex}getSecondToLastNodeIndex(){if(this.dataSegments&&!(this.dataSegments.length<2))return[...this.dataSegments[this.dataSegments.length-2].hierarchyLastNodeIndex]}}},762391:function(Ce,k,r){function a(){return new e}r.d(k,{B:function(){return a}});class e{constructor(){this.visualIds={}}add(t){this.visualIds[t]=1}delete(t){delete this.visualIds[t]}has(t,C=!0){var y=1===this.visualIds[t];return y&&C&&this.delete(t),y}}},925529:function(Ce,k,r){r.d(k,{f:function(){return n}});var a=r(279794),e=r(939123),u=r(179962),t=r(988206),C=r(129535),y=r(709302),i=r(444290),o=r(795809),c=r(159214),h=r(692699),d=r(688574);function n(p,l){return new s(p,l)}class s{constructor(l,m){this.plugins=l,this.featureSwitchService=m,e.fF.assertValue(l,"VisualUtil - plugins"),e.fF.assertValue(m,"VisualUtil - featureSwitchService")}canEdit(l,m){var b=this.plugins.capabilities(l);switch(b&&b.advancedEditModeSupport){case 1:return!0;case 2:return m;default:return!1}}dataViewKinds(l,m){if(l){var b=this.plugins.capabilities(l);if(b){var V=b.dataViewMappings,g=(0,t._1)(V);if(m){var v=(0,c.i1)(m),f=(0,u.Lo)(m.projections,V,v,this.featureSwitchService.featureSwitches);g=(0,t._1)(f.supportedMappings),"map"===l&&1&g&&(0,a.eT)(m.projections,f.supportedMappings)&&(g|=2)}if(g)return g}}}targetedDataViewKinds(l,m){var b=this.plugins.getPlugin(l);return(0,i.vh)(b,l)&&!(0,o.fA)(b)?31:this.dataViewKinds(l,m)||31}supportsFocusMode(l){var m=this.plugins.capabilities(l);return m&&m.dataViewMappings&&!m.disableFocusMode}isSupportedVisual(l){var m=(0,h.s)(l);return!!m&&!!this.plugins.getPlugin(m)}canConvertVisual(l){if(!l)return!1;var m=(0,h.s)(l);if(!m)return!1;var b=this.plugins.capabilities(m);return(this.isQueryVisual(m)||!(!b||!b.isConvertible))&&!(0,c.EL)(l)}canFormatVisual(l){return!!l&&!(0,c.EL)(l)}canSummarizeVisual(l){var m=this.plugins.getPlugin(l);return!!m&&(this.isAnalysisVisualPlugin(m)?!!m.getAnalysisVisualNarrativeSummaryConfiguration:!!m.getNarrativeSummaryBindings)}isAnalysisVisualPlugin(l){return this.isAnalysisVisual(l.name)}isQueryVisual(l){var m=this.plugins.capabilities(l);return!m||!this.isQueryDisabled(l,m)&&null!=m.dataViewMappings}isQueryDisabled(l,m){if(e.fF.assertValue(l,"visualType"),e.fF.assertAnyValue(m,"capabilities"),m&&(0,y.oy)(m.dataViewMappings))return!this.plugins.isScriptVisualQueryable(l)}supportVisualSearch(l){var m=this.plugins.capabilities(l);return!(!m||!this.isQueryVisual(l)||!(0,C.Cr)(m.objects))}isAnalysisVisual(l){return l===d.D.keyDriversVisual}isQnaVisual(l){return l===d.D.qnaVisual}isTableVisual(l){return l===d.D.tableEx}isMatrixVisual(l){return l===d.D.pivotTable}}},45333:function(Ce,k,r){r.d(k,{E:function(){return o}});var a=r(923679),e=r(259452),u=r(939123),t=r(184437),C=r(692699),y=r(159214),i=r(688574);function o(h,d,n,s,p){return new c(h,d,n,s,p)}class c{constructor(d,n,s,p,l){this.visualPluginService=d,this.pluginOps=n,this.explorationNavigationService=s,this.featureSwitchService=p,this.visualCapabilitiesService=l}relationship(d,n,s){return u.fF.assertValue(d,"section"),this.getRelationship(d.relationships,n,s)}drillRelationship(d,n,s){u.fF.assertValue(d,"section");var p=this.getRelationship(d.relationships,n,s);if(p){var l=p;return 2===p.type&&(l={source:p.source,target:p.target,type:1}),l}}getRelationship(d,n,s){return u.fF.assertValue(n,"sourceVisual"),u.fF.assertValue(s,"targetVisual"),u.fF.assertAnyValue(d,"relationships"),_.find(d,p=>p.source.name===n.name&&p.target.name===s.name)}getIsCrossHighlightingDisabled(){var d=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),n=d&&d.slowDataSourceSettings;return n&&n.isCrossHighlightingDisabled}relationshipFilterAction(d,n,s,p,l){var m=this.relationship(d,n,s);return this.getRelationshipFilterAction(m,n,s,p,l)}drillRelationshipFilterAction(d,n,s,p){if(!n.drillFilterOtherVisuals)return 3;var l=this.drillRelationship(d,n,s);u.fF.assert(()=>!l||2!==l.type,"Expect drill relationship NOT to be HighlightFilter.");var m=this.getRelationshipFilterAction(l,n,s,p,!1);return u.fF.assert(()=>2!==m,"Expect drill relationship filter action NOT to be HighlightFilter."),m}shouldApplyCrossDrill(d,n,s,p){if(n===s||(0,C.s)(s)===i.D.slicer)return!1;var l=this.drillRelationshipFilterAction(d,n,s,p);return 1===l||0===l&&1===this.defaultDrillFilterAction(n,s)}getRelationshipFilterAction(d,n,s,p,l){if(d&&this.supportsFilterActionTarget(n,s,d.type))return d.type;var m=s&&s.config&&s.config.singleVisual,b=m&&s.config.singleVisual.visualType,V=this.visualPluginService.capabilities(b),g=0;if(d&&2===d.type&&(0,y.iv)(s)&&(g=1),this.getIsCrossHighlightingDisabled()&&!this.isSlicer(V,b)){var f=n&&n.config&&n.config.singleVisual,S=f&&n.config.singleVisual.visualType,P=this.visualPluginService.capabilities(S);if(!this.isFilter(P,S,f&&f.objects))return 3}if(V){var D=m.query;if(D){var M=this.visualPluginService.getPlugin(b);if(M&&M.shouldIgnoreCrossFilter){var w={mappings:V.dataViewMappings,queryDefn:D.defn,queryProjections:D.projections,schema:p,objectDescriptors:V.objects,objectDefinitions:m.objects,roles:V.dataRoles,featureSwitches:this.featureSwitchService.featureSwitches,transformPluginService:(0,e.S)()},x=(0,a.y)(w);if(M.shouldIgnoreCrossFilter({dataViewMappings:x,filterForFieldParameter:l}))return 3}}}return g}isSlicer(d,n){return!!t.l.tryGetFilterPropertyIdentifier(d,n,this.visualPluginService)}isFilter(d,n,s){return d?this.isSlicer(d,n):null!=t.l.tryGetFilterProperty(d,n,this.visualPluginService,s)}supportsFilterActionTarget(d,n,s){u.fF.assertValue(d,"sourceVisual"),u.fF.assertValue(n,"targetVisual"),u.fF.assertValue(s,"visualRelationshipFilterAction");var p=(0,C.s)(n),l=(0,C.s)(d);if(!_.isEmpty(l)&&!_.isEmpty(p))switch(s){case 1:case 3:return!0;case 2:if((0,y.iv)(n))return!1;var m=this.visualPluginService.capabilities(p);return(!m||m.supportsHighlight)&&!this.visualCapabilitiesService.hasFilterCapabilities(l)}return!1}supportsAnyFilterAction(d){u.fF.assertValue(d,"visualContainer");var n=(0,C.s)(d);if(_.isEmpty(n)||!this.pluginOps.isQueryVisual(n)&&!this.pluginOps.isQnaVisual(n))return!1;var s=this.visualPluginService.capabilities(n);return!s||!1!==s.supportsSelection}defaultFilterAction(d,n){u.fF.assertValue(d,"sourceVisualContainer"),u.fF.assertValue(n,"targetVisualContainer");var s=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),p=s&&s.settings;return p&&p.defaultFilterActionIsDataFilter||!this.supportsFilterActionTarget(d,n,2)?this.supportsFilterActionTarget(d,n,1)?1:void 0:2}defaultDrillFilterAction(d,n){u.fF.assertValue(d,"sourceVisualContainer"),u.fF.assertValue(n,"targetVisualContainer");var s=this.defaultFilterAction(d,n);return 2===s&&(s=1),u.fF.assert(()=>!s||1===s||3===s,"The returned value of has to be one of these values undefined/DataFilter/NoFilter"),s}}},67688:function(Ce,k,r){r.d(k,{Bq:function(){return he},Ed:function(){return o},Ef:function(){return M},F:function(){return p},Fp:function(){return E},GD:function(){return g},Gh:function(){return I},Hl:function(){return Ee},Hn:function(){return Pt},II:function(){return n},JL:function(){return Re},Jr:function(){return Pe},Jw:function(){return te},Kh:function(){return t},L9:function(){return e},M:function(){return ut},MF:function(){return ye},Mr:function(){return G},Mz:function(){return ze},OX:function(){return N},Ql:function(){return rt},SO:function(){return je},Sm:function(){return m},TH:function(){return at},Ul:function(){return Ze},Um:function(){return A},V6:function(){return y},Zk:function(){return Je},Zv:function(){return b},b_:function(){return D},bt:function(){return S},dy:function(){return se},fp:function(){return V},hg:function(){return v},hs:function(){return ce},jn:function(){return B},mY:function(){return pt},p4:function(){return l},pV:function(){return L},qc:function(){return Te},rj:function(){return ue},s$:function(){return $e},s5:function(){return O},sw:function(){return Le},u1:function(){return Ne},u3:function(){return ne},uX:function(){return He},v$:function(){return h},wQ:function(){return Ke},z6:function(){return w},zs:function(){return x}});var a=r(17933),e=function(At){return At.Normal="Normal",At.EmailSubscription="EmailSubscription",At.ReportInvitation="ReportInvitation",At.SubscribeOthers="SubscribeOthers",At.Commenting="Commenting",At.Invalid="Invalid",At}({}),u="PBI.EX.RetrieveFromVisualContainerCache",t=a.cx[u]=(0,a.b1)(u),C="PBI.EX.RunQuery",y=a.cx[C]=(0,a.b1)(C,{logRatio:0}),i="PBI.EX.RunQueryImpl",o=a.cx[i]=(0,a.b1)(i,{logRatio:0}),c="PBI.EX.GetCachedQueryOrGenerate",h=a.cx[c]=(0,a.b1)(c,{logRatio:0}),d="PBI.EX.VisualFirstLoad",n=a.cx[d]=(0,a.b1)(d),s="PBI.EX.ToggleVisualDisplay",p=a.cx[s]=(0,a.b1)(s,{logExpAssignment:!0}),l="PBI.EX.GetExploration",m=a.cx[l]=(0,a.b1)(l),b="PBI.EX.DeserializeExploration",V=a.cx[b]=(0,a.b1)(b),g="PBI.EX.OpenExploration",v=a.cx[g]=(0,a.b1)(g,{shouldLogStartEnd:!0,logExpAssignment:!0}),f="PBI.EX.ExplorationStateApplyImpact",S=a.cx[f]=(0,a.b1)(f),P="PBI.EX.ExplorationStateApplyImpactIssues",D=a.cx[P]=(0,a.b1)(P),M="PBI.EX.SwitchSection",E=a.cx[M]=(0,a.b1)(M),w="PBI.EX.SwitchToAdjacentSection",x=a.cx[w]=(0,a.b1)(w),N="PBI.EX.NavigateBack",L=a.cx[N]=(0,a.b1)(N,{logExpAssignment:!0}),B="PBI.EX.NavigationButtonClicked",I=a.cx[B]=(0,a.b1)(B,{logExpAssignment:!0}),W="PBI.EX.VisualQueryGeneratorWarning",O=a.cx[W]=(0,a.b1)(W),F="PBI.EX.VisualQueryGeneratorError",A=a.cx[F]=(0,a.b1)(F),T="PBI.EX.Groups.GroupsAction",U=(a.cx[T]=(0,a.b1)(T),"PBI.EX.Groups.BinBySizeAction"),j=(a.cx[U]=(0,a.b1)(U),"PBI.EX.Groups.BinByCountAction"),q=(a.cx[j]=(0,a.b1)(j),"PBI.EX.Groups.Usage"),G=a.cx[q]=(0,a.b1)(q),J="PBI.EX.Groups.Error",Q=(a.cx[J]=(0,a.b1)(J),"PBI.EX.ModelChange"),ne=a.cx[Q]=(0,a.b1)(Q),le="PBI.EX.Measures",he=a.cx[le]=(0,a.b1)(le),Se="PBI.EX.ReportMeasureDataTypeChange",Ke=a.cx[Se]=(0,a.b1)(Se),Ge="PBI.EX.ReportMeasureDataCategoryChange",ye=a.cx[Ge]=(0,a.b1)(Ge),we="PBI.EX.ReportMeasureMoveRoleKind",je=a.cx[we]=(0,a.b1)(we),de="PBI.EX.QuickCalcMeasureEdited",Pe=a.cx[de]=(0,a.b1)(de),Ve="PBI.EX.QuickCalcMeasureDeleted",Ze=a.cx[Ve]=(0,a.b1)(Ve),Ue="PBI.EX.VisualDrillableRoleActiveItemsFixed",Je=a.cx[Ue]=(0,a.b1)(Ue),De="PBI.PersistentState.SerializationError",ue=a.cx[De]=(0,a.b1)(De),_e="PBI.Pod.SerializationErrorFixed",te=a.cx[_e]=(0,a.b1)(_e),ke="PBI.SerializationError",at=a.cx[ke]=(0,a.b1)(ke),tt="PBI.EX.EmptyVisualContainerConfig",ut=a.cx[tt]=(0,a.b1)(tt),ct="PBI.ClipboardService.Paste",Ne=a.cx[ct]=(0,a.b1)(ct),ae="PBI.ClipboardService.UnsupportedVersion",Le=a.cx[ae]=(0,a.b1)(ae),X="PBI.DataPointLassoSelect.PreviewSerialized",Ie=(a.cx[X]=(0,a.b1)(X),"PBI.EX.LoopingSQExpr"),ze=(a.cx[Ie]=(0,a.b1)(Ie),"PBI.EX.GetLinguisticSchema"),ve=(a.cx[ze]=(0,a.b1)(ze),"PBI.EX.GetAutoRefreshAdminConfig"),Te=a.cx[ve]=(0,a.b1)(ve),Xe="PBI.EX.GetChangeDetectionAdminConfig",He=a.cx[Xe]=(0,a.b1)(Xe),qe="PBI.EX.AnchorTimeUndefined",rt=a.cx[qe]=(0,a.b1)(qe),me="PBI.EX.GetAPRConfigFailure",Ee=a.cx[me]=(0,a.b1)(me),fe="PBI.EX.DefnsDuplicateSelector",Re=a.cx[fe]=(0,a.b1)(fe),re="PBI.EX.CertifiedTelemetryChildrenCountMismatch",se=a.cx[re]=(0,a.b1)(re),Ae="PBI.EX.UndoEventTime",ce=a.cx[Ae]=(0,a.b1)(Ae),Me="PBI.EX.ConsecutiveUndoCount",$e=a.cx[Me]=(0,a.b1)(Me),st="PBI.EX.DeserializeNonUniqueIdentifier",pt=a.cx[st]=(0,a.b1)(st),wt="PBI.EX.SerializeSizeAndCount",Pt=a.cx[wt]=(0,a.b1)(wt)},301199:function(Ce,k,r){r.d(k,{AJ:function(){return s},Vl:function(){return h},gP:function(){return o},pQ:function(){return c},wd:function(){return d}});var a=r(879413),e=r(939123),u=r(238175),t=r(616113),C=r(359155),y=r(90824),i=r(334673);class o{constructor(b,V,g){this.op=b,this.onOperatorChanged(),this.isCalendarShown=!1,this.value=new c(V,g)}get operator(){return this.op}set operator(b){this.op!==b&&(this.op=b,this.onOperatorChanged())}get operatorLabel(){return this.opLabel}set operatorLabel(b){this.opLabel=b}get valueRequired(){return this.valRequired}accept(b){return b.visit(this)}static empty(){return new o(0)}static equals(b,V){return(b=b||null)===(V=V||null)||!b==!V&&(e.fF.assertValue(b,"x"),e.fF.assertValue(V,"y"),b.operator===V.operator&&c.equals(b.value,V.value))}onOperatorChanged(){this.valRequired=s(this.operator),this.valRequired?this.cachedValue&&(this.value=this.cachedValue,this.cachedValue=void 0):this.value&&(this.cachedValue=this.value,this.value=void 0)}}class c{constructor(b,V){null!=b&&(b instanceof Date&&(this.dateValue=b),this.value=b,this.formatter=V,this.stringValue=this.formatter?this.formatter.format(this.value):this.value.toString()),this.dateValue?this.timeValue=new Date(this.dateValue.getTime()):(this.timeValue=new Date,this.timeValue.setHours(0,0,0,0))}get isDate(){return null!=this.dateValue}get hasValue(){return null!=this.dateValue||!(0,t.g)(this.stringValue)}isValidDate(){return this.isDate&&(!_.isString(this.value)||null!==i.dx.parseDate(this.value))}static equals(b,V){return(b=b||null)===(V=V||null)||!b==!V&&(e.fF.assertValue(b,"left"),e.fF.assertValue(V,"right"),c.compareDateTimeValue(b,V)&&b.stringValue===V.stringValue)}static compareDateTimeValue(b,V){return(b.dateValue?b.dateValue.valueOf():0)===(V.dateValue?V.dateValue.valueOf():0)}}class h{constructor(b){this.localizationService=b,this.isOperator=new u.o(()=>({value:9,label:this.getLocalize().get("FilterOperator_Is"),tooltip:this.getLocalize().get("FilterOperator_IsTooltip")})),this.isNotOperator=new u.o(()=>({value:10,label:this.getLocalize().get("FilterOperator_IsNot"),tooltip:this.getLocalize().get("FilterOperator_IsNotTooltip")})),this.isBlankOperator=new u.o(()=>({value:11,label:this.getLocalize().get("FilterOperator_IsBlank"),tooltip:this.getLocalize().get("FilterOperator_IsBlankTooltip")})),this.isNotBlankOperator=new u.o(()=>({value:12,label:this.getLocalize().get("FilterOperator_IsNotBlank"),tooltip:this.getLocalize().get("FilterOperator_IsNotBlankTooltip")})),this.containsOperator=new u.o(()=>({value:5,label:this.getLocalize().get("FilterOperator_Contains"),tooltip:this.getLocalize().get("FilterOperator_ContainsTooltip")})),this.doesNotContainOperator=new u.o(()=>({value:6,label:this.getLocalize().get("FilterOperator_DoesNotContain"),tooltip:this.getLocalize().get("FilterOperator_DoesNotContainTooltip")})),this.startsWithOperator=new u.o(()=>({value:7,label:this.getLocalize().get("FilterOperator_StartsWith"),tooltip:this.getLocalize().get("FilterOperator_StartsWithTooltip")})),this.doesNotStartWithOperator=new u.o(()=>({value:8,label:this.getLocalize().get("FilterOperator_DoesNotStartWith"),tooltip:this.getLocalize().get("FilterOperator_DoesNotStartWithTooltip")})),this.isEmptyString=new u.o(()=>({value:13,label:this.getLocalize().get("FilterOperator_IsEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsEmptyStringTooltip")})),this.isNotEmptyString=new u.o(()=>({value:14,label:this.getLocalize().get("FilterOperator_IsNotEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsNotEmptyStringTooltip")})),this.greaterThanOperator_ForDateTime=new u.o(()=>({value:3,label:this.getLocalize().get("FilterOperator_GreaterThan_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan_DT")})),this.greaterThanOrEqualToOperator_ForDateTime=new u.o(()=>({value:4,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT")})),this.isLessThanOperator_ForDateTime=new u.o(()=>({value:1,label:this.getLocalize().get("FilterOperator_LessThan_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThan_DT")})),this.isLessThanOrEqualToOperator_ForDateTime=new u.o(()=>({value:2,label:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT")})),this.greaterThanOperator=new u.o(()=>({value:3,label:this.getLocalize().get("FilterOperator_GreaterThan"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan")})),this.greaterThanOrEqualToOperator=new u.o(()=>({value:4,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual")})),this.isLessThanOperator=new u.o(()=>({value:1,label:this.getLocalize().get("FilterOperator_LessThan"),tooltip:this.getLocalize().get("FilterOperator_LessThan")})),this.isLessThanOrEqualToOperator=new u.o(()=>({value:2,label:this.getLocalize().get("FilterOperator_LessThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual")}))}getLocalize(){return(0,a.h1)(this.localizationService)}operatorsForColumnMappedToMParameter(){var b=[];return b.push(this.isOperator.getValue()),b}dateTimeOperator(){var b=[];return b.push(this.isOperator.getValue()),b.push(this.isNotOperator.getValue()),b.push(this.greaterThanOperator_ForDateTime.getValue()),b.push(this.greaterThanOrEqualToOperator_ForDateTime.getValue()),b.push(this.isLessThanOperator_ForDateTime.getValue()),b.push(this.isLessThanOrEqualToOperator_ForDateTime.getValue()),b.push(this.isBlankOperator.getValue()),b.push(this.isNotBlankOperator.getValue()),b}stringTypeOperator(){var b=[];return b.push(this.containsOperator.getValue()),b.push(this.doesNotContainOperator.getValue()),b.push(this.startsWithOperator.getValue()),b.push(this.doesNotStartWithOperator.getValue()),b.push(this.isOperator.getValue()),b.push(this.isNotOperator.getValue()),b.push(this.isBlankOperator.getValue()),b.push(this.isNotBlankOperator.getValue()),b.push(this.isEmptyString.getValue()),b.push(this.isNotEmptyString.getValue()),b}numericOperator(){var b=[];return b.push(this.isLessThanOperator.getValue()),b.push(this.isLessThanOrEqualToOperator.getValue()),b.push(this.greaterThanOperator.getValue()),b.push(this.greaterThanOrEqualToOperator.getValue()),b.push(this.isOperator.getValue()),b.push(this.isNotOperator.getValue()),b.push(this.isBlankOperator.getValue()),b.push(this.isNotBlankOperator.getValue()),b}tryGetExprFilterOperators(b,V,g,v){if(!_.isEmpty(b.validate(V,g)))return{hasError:!0,operators:void 0};var f=b.getMetadata(V);return e.fF.assertValue(f,"metadata"),{hasError:!1,operators:this.getFilterOperators(f.type,v)}}getFilterOperators(b,V){return V?this.operatorsForColumnMappedToMParameter():b.text?this.stringTypeOperator():b.integer||b.numeric?this.numericOperator():b.dateTime?this.dateTimeOperator():void 0}isOperatorForColumnMappedToMParameter(b){return this.operatorsForColumnMappedToMParameter().some(V=>V.value===b)}}class d{constructor(b){this.localizationService=b}fromCondition(b,V,g){var f,v=new l(V,g,this.localizationService);for(var S of b)null==S.operator||0===S.operator||(f=S.accept(v));return f}fromLabels(b,V){var g;if(b.length>0){var f=[];for(var S of b)f.push(p(S));g=(0,C.KF)(f),g=(0,t.W)(V?(0,a.h1)(this.localizationService).get("FilterRestatement_NotEqual"):(0,a.h1)(this.localizationService).get("FilterRestatement_Equal"),g)}return g}fromDataViewScopeIdentities(b,V,g){var v=[];for(var f of b)v.push(n(f,g));return this.fromLabels(v,V)}fromDefault(b){if(null!=b)return(0,t.W)((0,a.h1)(this.localizationService).get("FilterRestatement_IsDefault"),p(b))}}function n(m,b){var V=(0,y.Xz)(m);return b?b.format(V):V}function s(m){return 11!==m&&12!==m&&0!==m&&13!==m&&14!==m}function p(m){return null===m?null:_.isString(m)?m:m.displayName?m.displayName:"function"!=typeof m||"object"!=typeof m?m:void 0}class l{constructor(b,V,g){this.localizationService=g,this.localizationService=(0,a.h1)(this.localizationService),0===b?this.logicalOperatorResourceId=this.localizationService.get("FilterRestatement_CompoundAnd"):1===b&&(this.logicalOperatorResourceId=this.localizationService.get("Generic_Or")),this.formatter=V}visit(b){var V=this.conditionToString(b);if(V)return _.isEmpty(this.result)?this.result=V:(e.fF.assert(()=>!_.isEmpty(this.logicalOperatorResourceId),"Logical operator is not set"),this.result=(0,t.W)(this.logicalOperatorResourceId,this.result,V)),this.result}conditionToString(b){var g,V=b.value;if(!s(b.operator)||V&&V.hasValue)switch(V&&(g=this.formatter?this.formatter.format(V.value||V.stringValue):V.stringValue),b.operator){case 9:return(0,t.W)(this.localizationService.get("FilterRestatement_Equal"),g);case 10:return(0,t.W)(this.localizationService.get("FilterRestatement_NotEqual"),g);case 3:return(0,t.W)(this.localizationService.get(V.isDate?"FilterRestatement_GreaterThan_DT":"FilterRestatement_GreaterThan"),g);case 4:return(0,t.W)(this.localizationService.get(V.isDate?"FilterRestatement_GreaterThanOrEqual_DT":"FilterRestatement_GreaterThanOrEqual"),g);case 1:return(0,t.W)(this.localizationService.get(V.isDate?"FilterRestatement_LessThan_DT":"FilterRestatement_LessThan"),g);case 2:return(0,t.W)(this.localizationService.get(V.isDate?"FilterRestatement_LessThanOrEqual_DT":"FilterRestatement_LessThanOrEqual"),g);case 5:return(0,t.W)(this.localizationService.get("FilterRestatement_Contains"),g);case 6:return(0,t.W)(this.localizationService.get("FilterRestatement_DoesNotContain"),g);case 7:return(0,t.W)(this.localizationService.get("FilterRestatement_StartWith"),g);case 8:return(0,t.W)(this.localizationService.get("FilterRestatement_DoesNotStartWith"),g);case 11:return this.localizationService.get("FilterOperator_IsBlank");case 12:return this.localizationService.get("FilterOperator_IsNotBlank");case 13:return this.localizationService.get("FilterOperator_IsEmptyString");case 14:return this.localizationService.get("FilterOperator_IsNotEmptyString");default:return e.fF.assertFail("Not supported filter operator"),""}}}},987885:function(Ce,k,r){r.d(k,{Go:function(){return A},p0:function(){return W}});var a=r(388637),e=r(923679),u=r(792375),t=r(17933),C=r(913615),y=r(479517),i=r(939123),o=r(616113),c=r(79964),h=r(132640),d=r(569276),n=r(179962),s=r(969143),p=r(624310),l=r(438043),m=r(359155),b=r(564619),V=r(438905),g=r(377176),v=r(528836),f=r(517273),S=r(505875),P=r(67688),D=r(184437),M=r(844489),E=r(159214),w=r(953474),x=r(257738),N=r(443576),L=r(895127),B=r(367014),I=r(688574);function W(_e,te,ke,at,tt,ut,ct,Ne,ae){if(i.fF.assertValue(_e,"visualConfig"),i.fF.assertValue(te,"visualType"),i.fF.assertValue(ke,"schema"),_e&&te&&ke){var Le=tt.visualPluginService.getPlugin(te);if(Le){var ee,X=Le.capabilities,be=ct||X.dataViewMappings,Ie=_e.query,Ye=X.sorting?X.sorting.implicit:null,ze=Ie?(0,E.i1)(Ie):{};if(be&&Ie){var Te=(0,n.Lo)(Ie.projections,be,ze,tt.featureSwitchService.featureSwitches,X.objects,_e.objects,Ie.defn.select(),ke);if(!Te.supportedMappings)return function(_e,te,ke,at,tt,ut){var ct=function(_e,te,ke,at,tt){var ut,ct=[];switch(_e.name){case I.D.map:case I.D.azureMap:ut=function(_e){var te=_.some(_e,tt=>"Category"===tt.roleName&&tt.code===n.zS.conditionRangeTooLarge),ke=_.some(_e,tt=>"X"===tt.roleName&&tt.code===n.zS.conditionKindExpectedGrouping),at=_.some(_e,tt=>"Y"===tt.roleName&&tt.code===n.zS.conditionKindExpectedGrouping);return te?"DataViewMappingError_LocationAndLatLongGroup":ke||at?"DataViewMappingError_LatLongAggregateWithNoLocation":void 0}(te);break;case I.D.scatterChart:ut=function(_e,te){var ke=_.some(_e,ut=>ut.roleName===C.TL.category&&ut.code===n.zS.conditionRangeTooLarge),at=_.some(_e,ut=>ut.roleName===C.TL.play&&ut.code===n.zS.conditionRangeTooLarge),tt=_.some(_e,ut=>ut.roleName===C.TL.x&&(ut.code===n.zS.conditionKindExpectedGrouping||ut.code===n.zS.conditionKindExpectedMeasure));return ke?te.featureSwitches.useModernFormatPane?"DataViewMappingError_ScatterGroupingValues":"DataViewMappingError_ScatterGroupingDetails":at?"DataViewMappingError_ScatterGroupingPlayAxis":tt?"DataViewMappingError_ScatterXMismatchType":void 0}(te,at);break;case I.D.slicer:_.find(te,Le=>Le.code===n.zS.conditionNotHierarchicallyRelated)&&(ut="DataViewMappingError_ConditionNotHierarchicallyRelated")}if(!ut&&!_.isEmpty(te)){var Ne=function(_e){if(_.isEmpty(_e))return null;var te=[];for(var ke of _e)if(void 0!==ke.conditionIndex&&void 0!==ke.mappingIndex){var at=ke.conditionIndex,tt=ke.mappingIndex;te[at]||(te[at]=[]),te[at][tt]?te[at][tt]++:te[at][tt]=1}for(var ct,Ne,ut=_e.length+1,ae=0;ae<te.length;ae++)for(var Le=0;Le<te[ae].length;Le++)void 0!==te[ae][Le]&&ut>te[ae][Le]&&(ct=ae,ut=te[ae][Le],Ne=Le);var X=_e[0];return void 0!==ct&&(X=_.find(_e,be=>be.conditionIndex===ct&&be.mappingIndex===Ne)),X}(te);switch(Ne.code){case n.zS.conditionRangeTooLarge:ut="DataViewMappingError_ConditionRangeTooLarge";break;case n.zS.conditionRangeTooSmall:ut="DataViewMappingError_ConditionRangeTooSmall";break;case n.zS.conditionKindExpectedMeasure:ut="DataViewMappingError_ConditionKindExpectedMeasure";break;case n.zS.conditionKindExpectedGrouping:ut="DataViewMappingError_ConditionKindExpectedGrouping";break;case n.zS.conditionNotHierarchicallyRelated:return new N.k(ut="DataViewMappingError_ConditionNotHierarchicallyRelated",ke);case n.zS.conditionSchemaCapabilities_TupleFilters_InstanceFilters:ut="DataViewMappingError_ConditionSchemaCapabilities_TupleFilters";break;case n.zS.conditionKindExpectedGroupingOrMeasure:break;default:i.fF.assertNever(Ne.code)}ct=[Pe(Ne,tt,ke)]}if(ut)return de(ke.format(ut,ct),ut)}(_e,at,tt.localizationService,tt.featureSwitchService,ut);if(ct)return{error:ct,compiled:null};var Ne=(0,c.d9)(te.projections);for(var ae in Ne){var Le=Ne[ae];Le.activeProjectionRefs=_.map(Le.activeProjectionRefs,Ye=>"select"+(0,t.H6)(Ye));for(var X=0,be=Le.all();X<be.length;X++)Le.assignProjection(be[X]?{queryRef:"select"+(0,t.H6)(be[X].queryRef)}:null,X)}var Ie=new N.k("ClientError_NoSupportedDataViewMappingFound",tt.localizationService);return Ie.addDebugInfo("VisualType",ke),Ie.addDebugInfo("QueryProjectionsByRole",JSON.stringify(Ne)),tt.telemetryService.logEvent(P.Um,{code:ke,debugInfo:JSON.stringify(Ie.getDetails(tt.localizationService).debugErrorInfo)}),{error:Ie,compiled:null}}(Le,Ie,te,Te.mappingErrors,tt,X.dataRoles);var Xe=Ie.hasHiddenProjections()?(0,n.Lo)(Ie.projections,be,ze,tt.featureSwitchService.featureSwitches,X.objects,_e.objects,Ie.defn.select(),ke,!0):void 0,He=function(_e,te,ke,at,tt,ut){var ct=_e?.query;if(_.isEmpty(ut)&&!_.isEmpty(at.visualShapeDataViewMappings)&&ct.hasVisualCalcExpressions()){var Ne=_.some(at.visualShapeDataViewMappings,Le=>!_.isEmpty(Le.conditions)&&!_.isEmpty(Le.matrix)&&_.isEmpty(Le.table)&&_.isEmpty(Le.categorical)&&_.isEmpty(Le.tree)&&_.isEmpty(Le.usage)&&_.isEmpty(Le.single)&&_.isEmpty(Le.scriptResult)&&_.isEmpty(Le.requiredProperties));i.fF.assert(()=>Ne,"visualShapeDataViewMappings should only have conditions and matrix");var ae=(0,n.Lo)(ct.projections,at.visualShapeDataViewMappings,tt,ke.featureSwitchService.featureSwitches,at.objects,_e.objects,ct.defn.select(),te);if(!_.isEmpty(ae.supportedMappings))return ae.supportedMappings}}(_e,ke,tt,X,ze,ct);ee=function(_e,te,ke,at,tt,ut,ct,Ne,ae,Le,X,be,Ie,Ye,ze,ee,ve,Te,Xe,He){i.fF.assertValue(_e,"visualType"),i.fF.assertValue(te,"schema"),i.fF.assertAnyValue(ke,"query"),i.fF.assertNonEmpty(at,"supportedMappings"),i.fF.assertAnyValue(ut,"dataRoles"),i.fF.assertAnyValue(X,"additionalFilters"),i.fF.assertAnyValue(Te,"queryGeneratorCapabilities"),ke=(0,M.OB)(Le.visual.objects,at,ke,be,ct);var qe=(0,e.y)({mappings:at,queryDefn:ke.defn,queryProjections:ke.projections,schema:te,objectDescriptors:Le.visual.descriptors,objectDefinitions:Le.visual.objects,roles:ut,featureSwitches:Ie.featureSwitches,transformPluginService:be});if(!_.isEmpty(He)&&(_e===I.D.lineStackedColumnComboChart||_e===I.D.lineClusteredColumnComboChart)){var rt=(0,e.y)({mappings:He,queryDefn:ke.defn,queryProjections:ke.projections,schema:te,objectDescriptors:Le.visual.descriptors,objectDefinitions:Le.visual.objects,roles:ut,featureSwitches:Ie.featureSwitches,transformPluginService:be});1===qe.length&&2===rt.length&&qe.push(rt[1])}if(function(_e,te){if(_e!==I.D.slicer)return!1;for(var ke of te){var at=ke?.metadata?.columns;if(1!==at?.length&&_.some(at,tt=>1===tt?.parameter?.kind))return!0}return!1}(_e,qe))return{error:new N.k("DQP_No_MappedColumns_In_HierarchySlicers",Ye),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0};if(ee){var me=J(qe),fe=ee({dataViewMappings:qe,scopedAggregates:Ie.featureSwitches.scopedAggregates,queryProperties:{hasVisualCalculations:ke.hasVisualCalcExpressions()}});if(fe&&fe.error){var Re=fe.error.code;return{error:de(Ye.get(Re),Re),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0}}if(!_.isEmpty(ke.expansionStates)){var re=[];i.fF.assert(()=>1===qe.length,"visualQueryGenerator.compileMappingsWithProperties - compiledMappings should only have 1 mapping");var se=!_.isEmpty(qe)&&qe[0].matrix;if(se){var Ae=se.rows;Ae.for?re=_.map(Ae.for.in.items,ht=>ht):i.fF.assertFail("visualQueryGenerator.compileMappingsWithProperties - invalid row mapping type")}for(var ce of ke.expansionStates)if(!_.isEmpty(ce.root.children)&&!_.isEmpty(ce.levels))for(var Me of ce.levels)for(var $e of re)_.isEmpty(Me.queryRefs)||$e.queryName!==Me.queryRefs[0]||2!==$e.subtotalType&&($e.subtotalType=1)}ke=function(_e,te,ke){if(_.isEqual(te,ke))return _e;var at=[],tt=_e.defn.select();for(var ut of ke){var ct=_.sortBy(ut,Le=>Le.sortOrder);for(var Ne of ct){var ae=tt.withName(Ne.queryName);at.push({direction:Ne.sort,expr:ae.expr})}}return new S.g(_e.defn.orderBy(at),_e.projections,_e.expansionStates,_e.isDrillDisabled)}(ke,me,J(qe))}(function(_e,te,ke){for(var at of _e)te&&!1===te.allowBinnedLineSample&&le(at),te&&!1===te.allowOverlappingPointsSample&&he(at),ne(ke)||Se(at)})(qe,Ne,te),ke=(0,M.hQ)(be,ke,qe),ke=ze.applyImplicitSort(ke,ve),ke=ze.ensureValidSorting({query:ke,schema:te,visualType:_e,columnProperties:ae,compiledMappings:qe});var{modifiedObjectDefinitions:pt,addedScalarKeys:wt}=function(_e,te,ke,at,tt){var ut,ct=[];for(var Ne of te)(0,d.oF)(Ne,{visitRole:ae=>{if(ae.items)for(var Le of ae.items)if(Le.scalarKeyInfo&&Le.scalarKeyInfo.scalarKeyMinProperty){if(!ut)if(at){var X=(0,u.xF)(at,tt,void 0,!1);ut=(0,u.wN)(X,tt)}else ut={};ct.push(Ge(_e,ke,Le,ut))}}});return{modifiedObjectDefinitions:ut||at,addedScalarKeys:ct}}(te,qe,ke,Le.visual.objects,Le.visual.descriptors);pt=function(_e,te,ke,at,tt,ut){if(!_e||!_e.dataFilter)return ut;var Le,ct=tt.defn.select(),Ne=_e.dataFilter.where(),ae=_e.queryRefsForSingleItemDrillFilters;for(var X of at)!X||!X.categorical||!X.categorical.categories||(0,d.Sr)(X.categorical.categories,{visitRole:be=>{if(!_.isEmpty(be.items))for(var Ie of be.items){var Ye=Ie.queryName;if(Ie.filteredToUniqueValueProperty&&_.includes(ae,Ye)){var ee=we(ct.withName(Ye).expr,Ne,ke,te);ee&&(Le||(Le=ut?(0,s.d9)(ut):{}),je(ee,Ie,Le))}}}});return Le||ut}(X,Te,te,qe,ke,pt),Le.visual.objects=pt;var Pt=(0,B.S)(ke,ut),At=[Le.visual];Le.visualContainer&&At.push(Le.visualContainer);var Kt,Qt,rr,Ut=(0,a.l7)(ke.defn,te,At,Pt,ke.projections,tt,X&&X.dataFilter,!0,Ie.featureSwitches);if(Ut){for(var Xt of(Kt=new S.g(Ut.queryDefn,ke.projections,ke.expansionStates,ke.isDrillDisabled),Qt=Ut.additionalProjections,rr=Ut.warnings,wt)){var cr=Kt.defn.selectNameOf(Xt.expr);i.fF.assertValue(cr,"scalar key select name"),Xt.roleItem.scalarKeyInfo||(Xt.roleItem.scalarKeyInfo={}),Xt.roleItem.scalarKeyInfo.scalarKeyQueryName=cr}Le.visual=z(Le.visual,te,f.m.buildExprEvaluationContext(ke.defn.from())),Le.visual=j(Ut.objectDefinitionRewrites,Le.visual)}var et=_.isEmpty(Xe)?void 0:(0,e.y)({mappings:Xe,queryDefn:ke.defn,queryProjections:ke.projections,schema:te,objectDescriptors:Le.visual.descriptors,objectDefinitions:Le.visual.objects,roles:ut,featureSwitches:Ie.featureSwitches,transformPluginService:be});return{query:Kt||ke,mappings:qe,visualShapeMapping:et,additionalProjections:Qt,warnings:rr,objectDefinitions:Le.visual.objects}}(te,ke,Ie,Te.supportedMappings,ze,X.dataRoles,X,_e.queryOptions,_e.columnProperties,(0,E.kT)(_e,X),ut,tt.transformPluginService,tt.featureSwitchService,tt.localizationService,tt.sortService,ae??Le.customizeQuery,Ye,at,He,Xe?.supportedMappings)}else{var ve=(0,E.kT)(_e,X);ee=function(_e,te,ke,at,tt,ut,ct,Ne,ae){if(i.fF.assertAnyValue(_e,"schema"),i.fF.assertAnyValue(te,"query"),i.fF.assertAnyValue(at,"roleMapping"),i.fF.assertAnyValue(tt,"dataRoles"),i.fF.assertAnyValue(ct,"additionalFilters"),!te&&_.isEmpty(at)){te=new S.g(g.vQ.create(),{},[]);var Le=(0,B.S)(te,tt),X=[ut.visual];X.push(ut.visualContainer);var be=(0,a.l7)(te.defn,_e,X,Le,te.projections,ke,ct&&ct.dataFilter,!0,Ne.featureSwitches);if(be){var Ie=new S.g(be.queryDefn,te.projections,te.expansionStates,te.isDrillDisabled),Ye=be.additionalProjections,ze=(0,e.y)({mappings:[{table:{rows:{for:{in:"*"}}}}],queryDefn:te.defn,queryProjections:te.projections,schema:_e,objectDescriptors:ut.visual.descriptors,objectDefinitions:ut.visual.objects,roles:tt,featureSwitches:Ne.featureSwitches,transformPluginService:ae});return ut.visual=z(ut.visual,_e,f.m.buildExprEvaluationContext(te.defn.from())),ut.visual=j(be.objectDefinitionRewrites,ut.visual),{query:Ie||te,mappings:ze,additionalProjections:Ye,warnings:be.warnings,objectDefinitions:ut.visual.objects}}}}(ke,Ie,ze,be,X.dataRoles,ve,ut,tt.featureSwitchService,tt.transformPluginService)}var qe=[];if(ee){if(ee.error)return{error:ee.error,compiled:null};qe.push(...function(_e,te,ke,at,tt){var ut=new ue(te.defn,ke,at,tt);for(var ct of _e)(0,d.oF)(ct,ut);return ut.warnings}(ee.mappings,ee.query,ke,tt.displayNameService,X)||[]),qe.push(...function(_e){if(_e&&_e.highlightFilter){var te=_e.highlightFilter.where(),ke=_.find(te,tt=>3===(0,V._)(tt.condition)),at=_.find(te,tt=>(0,w.hV)(tt.condition));if(ke||at)return _e.dataFilter=_e.dataFilter?g.yl.merge([_e.dataFilter,_e.highlightFilter]):_e.highlightFilter,_e.highlightFilter=void 0,[new De(ke?0:1)]}}(ut)||[]),ee.warnings&&qe.push(...ee.warnings||[]);var rt=tt.telemetryService.getOpenActivityById(Ne&&Ne.getProperty("telemetryActivityId"));for(var me of qe)tt.telemetryService.logChildEvent(rt&&rt.event,P.s5,{code:me.code})}return{compiled:ee,warnings:qe}}}}function A(_e){return i.fF.assertValue(_e,"compiledMappings"),_.filter(_e,ke=>!ke.usage||!ke.usage.regression)}function z(_e,te,ke){var at={};for(var tt in _e.objects){var ut=_e.descriptors[tt];if(ut)for(var ct of _e.objects[tt])for(var Ne in ct.properties){var ae=ut.properties[Ne];if(ae&&ae.formatStringProperty){var Le=ct.properties[Ne],X=void 0;if((0,s.Rc)(Le))X=Le;else{if(!(0,s.er)(Le))continue;X=Le.value}if(!(0,s.NA)(_e.objects,ae.formatStringProperty,ct.selector)){var Ie=X.getMetadata(te,ke);if(Ie&&(Ie.type||Ie.format)){var Ye=Ie.format??(0,m.v1)(Ie.type);Ye&&(0,s.sO)(at,ae.formatStringProperty,ct.selector,(0,v.fL)(Ye))}}}}}if(!_.isEmpty(at))for(var ze in _e.objects=(0,s.d9)(_e.objects),at)for(var ee of at[ze])for(var ve in ee.properties)(0,s.sO)(_e.objects,{objectName:ze,propertyName:ve},ee.selector,ee.properties[ve]);return _e}function j(_e,te){if(!_.isEmpty(_e))for(var ke of(te.objects=(0,s.d9)(te.objects),_e))for(var at in te.objects)for(var tt of te.objects[at])if((0,h.fS)(tt.selector,ke.selector))for(var ut in tt.properties){var ct=tt.properties[ut],Ne=void 0;if((0,s.Rc)(ct))Ne=ct;else{if(!(0,s.er)(ct))continue;Ne=ct.value}(0,x.fS)(Ne,ke.from)&&(tt.properties[ut]=ke.to)}return te}function J(_e){var te=[];for(var ke of _e){var at=[];for(var tt of ke.metadata.columns)tt.sort&&at.push({queryName:tt.queryName,sort:tt.sort,sortOrder:tt.sortOrder});te.push(at)}return te}function ne(_e){return _.every(_e.schemas,te=>te.capabilities&&te.capabilities.supportsTopNPerLevel)}function le(_e){var te=_e.categorical;if(te&&te.dataReductionAlgorithm&&te.dataReductionAlgorithm.binnedLineSample&&(te.dataReductionAlgorithm=void 0,te.categories&&(te.categories.dataReductionAlgorithm={sample:{}}),te.values)){var ke=te.values;ke.group&&(ke.group.dataReductionAlgorithm={top:{}})}}function he(_e){var te=_e.categorical,ke=_e.matrix;if(te&&te.dataReductionAlgorithm&&te.dataReductionAlgorithm.overlappingPointsSample){var at=te.dataReductionAlgorithm.overlappingPointsSample.count;te.dataReductionAlgorithm={sample:{}},at&&(te.dataReductionAlgorithm.sample.count=at)}else if(ke&&ke.rows&&ke.rows.dataReductionAlgorithm&&ke.rows.dataReductionAlgorithm.overlappingPointsSample){var tt=ke.rows.dataReductionAlgorithm.overlappingPointsSample.count;ke.rows.dataReductionAlgorithm={sample:{}},tt&&(ke.rows.dataReductionAlgorithm.sample.count=tt)}}function Se(_e){var te=_e.matrix;if(te&&te.rows&&te.rows.dataReductionAlgorithm&&te.rows.dataReductionAlgorithm.topNPerLevel){var ke=te.rows.dataReductionAlgorithm.topNPerLevel.fallbackTopCount;te.rows.dataReductionAlgorithm={top:{}},ke&&(te.rows.dataReductionAlgorithm.top.count=ke)}}function Ge(_e,te,ke,at){var tt=ke.scalarKeyInfo.scalarKeyMinProperty;i.fF.assertValue(tt,"scalarKeyMinProperty"),(0,y.BF)(ke.scalarKeyInfo.hasScalarKey,"Scalar key requested when not available");var ut=te.defn.select().withName(ke.queryName).expr,ct=(0,v.m_)((0,p.YN)(ut,_e),3);return(0,s.sO)(at,tt,ke.scalarKeyInfo.selector,ct),{roleItem:ke,expr:ct}}function we(_e,te,ke,at){if(!at||!at.hasAmbiguousEqualitySemantics)return!0;var tt=_e.getKeyColumns(ke);return _.every(tt,ut=>_.some(te,ct=>{var Ne=D.l.getFilterValuesForColumn(ut,ct);if(1===_.size(Ne)){var Le=Ne[0];if((0,w.VC)(Le)&&!at.hasAmbiguousEqualitySemantics(Le))return!0}return!1}))}function je(_e,te,ke){var at=te.filteredToUniqueValueProperty;i.fF.assertValue(at,"filteredToUniqueValueProperty");var tt=(0,v.O7)(_e);(0,s.sO)(ke,at,{metadata:te.queryName},tt)}function de(_e,te){return{code:te,getDetails:()=>({displayableErrorInfo:[],message:_e})}}function Pe(_e,te,ke){var at=_e.roleName;if(!_.isEmpty(te)){var tt=_.find(te,ut=>ut.name===_e.roleName);tt&&tt.displayName&&(at=(0,l.G)(tt.displayName,ke))}return at}class Je{constructor(te){this.errorInfos=te}get code(){return"ShowAllDiabledWarning"}getDetails(te){var ke=te.get("ShowAllDisabledWarning_Value"),at=_.map(this.errorInfos,ut=>ut.fieldDisplayName).join(", ");return{message:te.get("ShowAllDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:te.get("ShowAllDiabledWarning_ErrorInfoKey"),errorInfoValue:(0,o.W)(ke,at)}]}}}class De{constructor(te){this.highlightDisableType=te}get code(){switch(this.highlightDisableType){case 0:return"HighlightWithTOPNDisabledWarning";case 1:return"HighlightWithExistsFiltersDisabledWarning"}}getDetails(te){var ke=0===this.highlightDisableType,tt=ke?"HighlightWithTOPNDisabledWarning_ErrorInfoKey":"HighlightWithExistFiltersDisabledWarning_ErrorInfoKey",ut=ke?"HighlightWithTOPNDisabledWarning_Value":"HighlightWithExistFiltersDisabledWarning_Value";return{message:te.get(ke?"HighlightWithTOPNDisabledWarning_Message":"HighlightWithExistFiltersDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:te.get(tt),errorInfoValue:te.get(ut)}]}}}class ue{constructor(te,ke,at,tt){for(var ut of(i.fF.assertValue(te,"query"),i.fF.assertValue(ke,"schema"),i.fF.assertValue(at,"displayNameService"),this.displayNameService=at,this.incompatibleExprInfo=[],te.select())){var ct=(0,L.Q)(ut.expr);ct&&ct.percentOfGrandTotal&&this.incompatibleExprInfo.push({basePropertyName:(0,b.Hp)(ct),fieldDisplayName:this.displayNameService.getQualifiedDisplayName(ut.expr,ke,tt)})}this.warnings=[]}visitRole(te){te.showAll&&this.incompatibleExprInfo.length>0&&(te.showAll=!1,this.warnings.push(new Je(this.incompatibleExprInfo)))}}},119412:function(Ce,k,r){r.d(k,{j:function(){return u}});var e,a=r(184437);class u{}e=u,u.DetailVisualBorder=10,u.supportsVisualDetails=(t,C,y)=>{var i=C.capabilities(t);return!(!i||!y.isQueryVisual(t)||y.isAnalysisVisual(t)||i.disableVisualDetails)&&_.some(i.dataViewMappings,o=>o.categorical||o.matrix||o.table||o.tree)},u.supportsMatrixView=(t,C,y)=>e.supportsVisualDetails(t,C,y)&&!y.isTableVisual(t)&&!y.isMatrixVisual(t)&&!a.l.supportsFilterOutput(C.capabilities(t)),u.getDetailVisualViewport=(t,C)=>{var i,o;return 1===(C||1)?(i=t.width-2*e.DetailVisualBorder,o=t.height-e.DetailVisualBorder):(i=t.width-e.DetailVisualBorder,o=t.height-2*e.DetailVisualBorder),{width:Math.max(i,0),height:Math.max(o,0),scale:t.scale}},u.adjustViewport=(t,C,y)=>{var o=t||1,c=e.getDetailVisualViewport(C,o);return y&&1===o&&(c={width:c.width,height:Math.max(c.height-33,0),scale:c.scale}),c}},154227:function(Ce,k,r){r.d(k,{g:function(){return t},z:function(){return C}});var a=r(698581),e=r(616113),u=r(939123);function t(y,i,o,c,h){if(!_.isEmpty(y)){if(1===y.length)return y[0];var d=h?.limit;if(null!=d&&d<=0&&(u.fF.assertFail("The given displayIndividualValuesLimitInfo.limit value cannot be a number that is <= 0."),d=null),null!=d&&_.size(y)>d+1){var n=_.take(y,d);return 1===_.size(n)?(0,e.W)(o.stringResourceProvider.get(h.limitedValueShownResourceKey),n[0]):(0,e.W)(o.stringResourceProvider.get(h.multiLimitedValuesShownResourceKey??h.limitedValueShownResourceKey),n.join(o.stringResourceProvider.get("ListJoin_Separator")))}var p=y.pop();return 1===_.size(y)?(0,e.W)(o.stringResourceProvider.get(i),y[0],p):(0,e.W)(o.stringResourceProvider.get(c??i),y.join(o.stringResourceProvider.get("ListJoin_Separator")),p)}}function C(y,i){var o=(0,a.b)(y);return(3===y||4===y)&&i&&i.type&&(i.type.dateTime?o="Date"+o:i.type.text&&(o="String"+o)),o}},379342:function(Ce,k,r){r.d(k,{LG:function(){return i},S1:function(){return t},WO:function(){return u},dR:function(){return C}});var a=r(722709),e=r(939123);function u(n,s){if(e.fF.assertAnyValue(n,"capabilities"),s)return[];var p=n.drilldown;return null!=p&&p.roles?p.roles:[]}function t(n){return e.fF.assertValue(n,"capabilities"),!!n.drilldown?.canDisableDrill}function C(n){return e.fF.assertValue(n,"capabilities"),t(n)&&!!n.drilldown.canDisableDrill.disabledByDefault}function y(n,s,p){e.fF.assert(()=>null!=s,"queryRef should exist while removing drill filters");var l=n.defn.select().withName(s);return e.fF.assertValue(l,"did not find queryRef in query.select while removing drill filter"),l?{expr:l.expr,roleName:p}:void 0}function i(n,s,p){if(s){var l;switch(p){case 1:l=function(n,s){var p=[],l=n.projections,m=s.sourceCount,b=s.sourceIndex,V=s.sourceRole,g=s.targetRole;if(l[g]){var v=l[g],f=v.all(),S=s.targetIndex;S>=b&&V===g&&(S+=m);for(var D=v.convertFieldIndexToProjectionIndex(S),M=f.length;D<M;D++){var E=v.getProjectionsByProjectionIndex(D);for(var w of E)p.push(y(n,w.queryRef,g));D+=E.length-1}}if(l[V])for(var x=l[V],N=m-1;N>=0;N--){var L=x.getProjectionsByFieldIndex(b+N);for(var B of L)p.push(y(n,B.queryRef,V))}return p}(n,s);break;case 0:if(s.expr){var b=(0,a.rY)(s.expr);for(var V of(l=[],b))l.push(c(n,V))}else l=function(n,s){var p=[],l=s.count??1,m=s.role,b=n.projections[m];if(b)for(var V=s.projOptions.fieldIndex+l-1,g=l-1;g>=0;g--,V--){var v=b.getProjectionsByFieldIndex(V);for(var f of v)p.push(y(n,f.queryRef,m))}return p}(n,s);break;case 2:break;default:return void e.fF.assertNever(p)}return _.compact(l)}}function c(n,s){var p=n.defn.selectNameOf(s),l=function(n,s){for(var p in n){var l=n[p].all();if(_.findIndex(l,b=>b.queryRef===s)>=0)return p}}(n.projections,p);return{expr:s,roleName:l}}},869333:function(Ce,k,r){r.d(k,{i:function(){return e}});var a=r(953474);function e(u,t){return(1===u||2===u)&&_.some(t,C=>C.asAggregation||C.fieldExpr&&(0,a.kb)(C.fieldExpr))}},129370:function(Ce,k,r){r.d(k,{it:function(){return t},mb:function(){return i},qL:function(){return u},qt:function(){return h},tn:function(){return y},u6:function(){return d}});var a=r(939123),e=r(557436);function u(n,s,p){var l=o(n,s);return(p&&""!==p?(0,e.A9)((0,e.bW)(p)):-Number.MAX_VALUE)>l}function t(n,s,p){var l=o(n,s);return(p&&""!==p?(0,e.A9)((0,e.bW)(p)):Number.MAX_VALUE)<l}function y(n,s){var p=(0,e.bW)(n),l=(0,e.ei)(p);if(l.length<=0)return a.fF.assertFail("Unable to parse the value and units"),"";var m=l[0].value,b=function(n,s){var p=n.value,l=n.unit,m=n.isTimeUnit;switch(l){case"S":return s.get(1===p?"TimeUnit_Second":"TimeUnit_Seconds");case"M":return s.get(m?1===p?"TimeUnit_Minute":"TimeUnit_Minutes":1===p?"TimeUnit_Month":"TimeUnit_Months");case"H":return s.get(1===p?"TimeUnit_Hour":"TimeUnit_Hours");case"D":return s.get(1===p?"TimeUnit_Day":"TimeUnit_Days");case"W":return s.get(1===p?"TimeUnit_Week":"TimeUnit_Weeks");case"Y":return s.get(1===p?"TimeUnit_Year":"TimeUnit_Years");default:return a.fF.assertNever(l),""}}(l[0],s);return`${m} ${b}`}function i(n){switch(n){case"S":case"M":case"H":return!0;default:return!1}}function o(n,s){var p=[{value:n,unit:s,isTimeUnit:i(s)}],l=(0,e.Gk)(p);return(0,e.A9)(l)}function c(n,s){var p=Math.pow(10,s||0);return Math.round(n*p)/p}function h(n,s){return isNaN(n)?s.get("TwoDashes"):n<60?1===n?s.get("TimeUnit_One_second"):s.format("TimeUnit_seconds_with_value",[c(n,1)]):(n/=60)<60?1===n?s.get("TimeUnit_One_minute"):s.format("TimeUnit_minutes_with_value",[c(n,1)]):1==(n/=60)?s.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):s.format("TimeUnit_hours_with_value",[c(n,1)])}function d(n,s){var p=n.value,l=n.unit,m=n.isTimeUnit;switch(l){case"S":return 1===p?s.get("TimeUnit_One_second"):s.format("TimeUnit_seconds_with_value",p);case"M":return m?1===p?s.get("TimeUnit_One_minute"):s.format("CdsaAuthoring_Iframe_TheNumberOfHowManyMinutes",p):1===p?s.get("TimeUnit_One_month"):s.format("TimeUnit_months_with_value",p);case"H":return 1===p?s.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):s.format("TimeUnit_hours_with_value",p);case"D":return 1===p?s.get("TimeUnit_One_day"):s.format("TimeUnit_days_with_value",p);case"W":return 1===p?s.get("TimeUnit_One_week"):s.format("TimeUnit_weeks_with_value",p);case"Y":return 1===p?s.get("TimeUnit_One_year"):s.format("TimeUnit_years_with_value",p);default:return a.fF.assertNever(l),""}}},847242:function(Ce,k,r){r.d(k,{v:function(){return t}});var a=r(939123),e=r(543967);class u{constructor(y){this.visualContainerStateVisitor=y}visitFilterContainer(y){}visitSectionState(y){}}class t extends u{constructor(y,i){super(i),this.rewriters=y,a.fF.assertValue(y,"rewriters")}visitFilterContainer(y){(0,e.Oe)(y,this.rewriters)}}},564154:function(Ce,k,r){r.d(k,{Jh:function(){return h},wD:function(){return C}});var a=r(939123),e=r(349205),u=r(221435),t=r(159214);function C(g,v,f){a.fF.assertValue(v,"visitor"),a.fF.assertValue(g,"exploration"),v.visitExploration(g),p(g.filters,v);var S=g.bookmarks;if(!_.isEmpty(S))for(var P of S)y(P,g.sections,f,v);var D=g.sections;if(!_.isEmpty(D))for(var M of D)o(M,v,f);!function(g,v){if(!_.isEmpty(g))for(var f of g)v.visitPod(f)}(g.pods,v)}function y(g,v,f,S){if(S.visitBookmark(g),e.J.isBookmarkGroup(g))for(var P of g.children)y(P,v,f,S);else!function(g,v,f,S){g&&(l(g.filters,S),_.forOwn(g.sections,(P,D)=>{!function(g,v,f,S){if(g&&v){S.visitSectionState(g),l(g.filters,S);var P=S.visualContainerStateVisitor;if(P){var D=v.visualContainers;_.forOwn(g.visualContainers,(M,E)=>{!function(g,v,f,S){!g||!v||(S.visitVisualContainerState(g),l(g.filters,S),function(g,v){if(g){if(!_.isEmpty(g.selection))for(var f of g.selection)v.visitSelectorsByColumn(f);g.filterExpressionMetadata&&v.visitFilterExpressionMetadata(g.filterExpressionMetadata)}}(g.highlight,S),function(g,v,f,S){if(g){S.visitSingleVisualState(g);var P=g.orderBy;P&&S.visitOrderByStates(P);var D=g.objects;if(D){var M=(0,t.cj)(v,f);if(M){var E=M.objects;E&&S.visitDataViewObjectDefinitionUpdates(D,E)}var w=D.merge;w&&m(w,S);var x=D.remove;if(!_.isEmpty(x))for(var N of x){var L=N.selector;L&&S.visitSelector(L)}}var B=g.activeProjections;B&&S.visitActiveProjectionStates(B)}}(g&&g.singleVisual,v,f,S))}(M,_.find(D,x=>x.name===E),f,P)})}}}(P,_.find(v,E=>E.name===D),f,S)}))}(g.explorationState,v,f,S.explorationStateVisitor)}function o(g,v,f){a.fF.assertValue(g,"section"),v.visitSection(g),p(g.filters,v),function(g,v){if(!_.isEmpty(g))for(var f of g)v.visitLinkField(f)}(g.linkFields,v);var S=g.visualContainers;if(!_.isEmpty(S))for(var P=0,D=S.length;P<D;P++)h(S[P],v.visualContainerVisitor,f)}function h(g,v,f){var S;if(v.visitVisualContainer(g),g.config&&(S=g.config.singleVisual)){v.visitSingleVisualConfig(S);var P=S.query;P&&v.visitQuery(P);var D=function(B,I){I&&v.visitDataViewObjects(B,I),m(B,v)},M=S.objects;if(M){var E,w=(0,t.cj)(g,f);w&&(E=w.objects),D(M,E)}var x=S.vcObjects;if(x){D(x,u.XW);var L=S.vcObjects.visualLink;L&&v.visitVisualLinks(L)}}p(g.filters,v)}function p(g,v){if(!_.isEmpty(g))for(var f of g)a.fF.assertValue(f,"traverseFilters: collection contains null filterContainer"),null!=f&&v.visitFilterContainer(f)}function l(g,v){if(g){_.forOwn(g.nameIdentifiedMerges,D=>{v.visitFilterContainer(D)});var S=g.exprIdentifiedMerges;if(!_.isEmpty(S))for(var P of S)v.visitFilterContainer(P)}}function m(g,v){_.forOwn(g,f=>{if(!_.isEmpty(f))for(var S of f){var P=S.selector;P&&v.visitSelector(P)}})}},524926:function(Ce,k,r){r.d(k,{b:function(){return a}});class a{constructor(u,t){this.explorationStateVisitor=u,this.visualContainerVisitor=t}visitBookmark(u){}visitFilterContainer(u){}visitExploration(u){}visitSection(u){}visitLinkField(u){}visitPod(u){}}},243364:function(Ce,k,r){r.d(k,{HD:function(){return d},Kz:function(){return s},Pb:function(){return S},XV:function(){return p},ac:function(){return g},cr:function(){return b},k:function(){return h},kr:function(){return n}});var a=r(651014),e=r(722709),u=r(939123),t=r(132640),C=r(571619),y=r(336508),i=r(528836),o=r(953474),c=r(257738);function h(P,D,M,E=!1){if(!_.isEmpty(P)&&function(P,D){if(!_.isEmpty(P)){var M=_.map(P,E=>(0,t.tV)(E));return g(M,D)}}(P,D))return _.some(P,N=>N.valueDetails)&&E?function(P,D){if(!_.isEmpty(P)){var M={expressions:[],cachedValueItems:[]};for(var E of P){var w={identities:[],valueMap:{}};if(!E.valueDetails){var x=a.Om.getDataViewKind(D);E.valueDetails=a.Om.query([D],E,x,[],!0)}for(var N of E.valueDetails)if(N.expr&&((0,o.t3)(N.expr)||(0,o.ez)(N.expr))){var L=_.indexOf(M.expressions,N.expr);L<0&&(M.expressions.push(N.expr),L=M.expressions.length-1),w.valueMap[L]=N.formattedValue}if(!_.isEmpty(w.valueMap)){for(var B in E.dataMap){var I=(0,e.rY)(E.dataMap[B]);for(var W of I)1===W.kind?w.identities.push(W):u.fF.assertFail("Unexpected item.kind")}M.cachedValueItems.push(w)}}return M}}(P,M):function(P){if(!_.isEmpty(P)){var D={expressions:[],cachedValueItems:[]};for(var M of P){var E={identities:[],valueMap:{}};for(var w of M.selector.data)1===w.kind?E.identities.push(w):u.fF.assertFail("Unexpected item.kind");for(var x of M.values)if(x.expr instanceof i.Wh||(0,o.ez)(x.expr)){var N=_.indexOf(D.expressions,x.expr);N<0&&(D.expressions.push(x.expr),N=D.expressions.length-1),E.valueMap[N]=x.formattedValue}_.isEmpty(E.valueMap)||D.cachedValueItems.push(E)}return D}}(a.Om.getDataPointsDescription(M,P))}function d(P,D){if(!P||!D)return P||D;for(var M={expressions:D.expressions.slice(),cachedValueItems:_.isEmpty(D.cachedValueItems)?[]:D.cachedValueItems.slice()},E={},w=function(){var I=P.expressions[x],W=_.findIndex(M.expressions,O=>O===I||(0,c.fS)(O,I));-1===W&&(W=D.expressions.length,M.expressions.push(I)),E[x]=W},x=0;x<P.expressions.length;x++)w();if(!_.isEmpty(P.cachedValueItems))for(var N of P.cachedValueItems){var L={};for(var B in N.valueMap)L[E[B]]=N.valueMap[B];M.cachedValueItems.push({identities:N.identities,valueMap:L})}return M}function n(P){var D=null;for(var M of P)D=d(M,D);return D}function s(P,D){if(!_.isEmpty(D)&&P){var M=[];for(var E of D){var w={identities:[E.identity],valueMap:{}};w.valueMap[0]=E.displayName,M.push(w)}return{expressions:[P],cachedValueItems:M}}}function p(P,D){if(P.length&&D.cachedValueItems&&D.cachedValueItems.length)for(var M=function(){var w=P[E],x=w.dataMap,N=E,L=D.cachedValueItems[N].identities,B=!0,I=0;for(var W in x){var O=(0,e.rY)(x[W]);for(var F of O){if(!L[I]||!(0,C.fS)(F,L[I])){B=!1;break}I++}}if(B||(N=_.findIndex(D.cachedValueItems,U=>{var z=0;for(var j in x){var H=(0,e.rY)(x[j]);for(var q of H){if(!U.identities[z]||!(0,C.fS)(q,U.identities[z]))return!1;z++}}return!0})),N<0)return u.fF.assertFail("cannot find matching cacheMap with same set of identities in selectorsByColumn in filterExpressionMetadata"),1;var A=[],T=D.cachedValueItems[N].valueMap;for(var R in T)A.push({identity:D.cachedValueItems[N].identities[0],expr:D.expressions[R],formattedValue:T[R],value:T[R]});w.valueDetails=A},E=0;E<P.length;E++)M()}function b(P){if(P&&!(_.isEmpty(P.expressions)||P.expressions.length>1)){var D=[];for(var M of P.cachedValueItems){if(_.isEmpty(M.identities)||M.identities.length>1)return;u.fF.assertAnyValue(M.valueMap[0],".tryGetDisplayNameIdentityPairs cache should always have value set"),D.push({identity:M.identities[0],displayName:M.valueMap[0]})}return D}}function g(P,D){if(!_.isEmpty(P)&&D&&D.query){var M=D.query.defn.select();for(var E of P){var w=(0,t.CT)(E);if(_.isEmpty(w))return;for(var x of w){var L=(0,y.RR)(x.expr);for(var B of(u.fF.assertNonEmpty(L,"identityFields are expected"),L))for(var I of M)if(!(0,c.fS)(B,I.expr))return!0}}}}function S(P,D){if(!P)return null;for(var M,E=0;E<P.length;E++){var w=(0,i.Dg)(P[E],D[E]);M=M?(0,i.xD)(M,w):w}return(0,C.TZ)(M)}},184437:function(Ce,k,r){r.d(k,{l:function(){return I}});var a=r(743395),e=r(666058),u=r(463822),t=r(939123),C=r(856632),y=r(969143),i=r(129535),o=r(571619),c=r(359155),h=r(564619),d=r(895127),n=r(438905),s=r(336508),p=r(377176),l=r(517273),m=r(693713),b=r(109562),V=r(795809),g=r(347293),v=r(990121),f=r(221435),S=r(704731),P=r(456774),D=r(159214),M=r(680497),E=r(953474),w=r(960196),x=r(412413),N=r(257738),L=r(187220),B=r(454865);class I{static getFormatter(T,R){var U=T.getMetadata(R);if(U)return(0,c.Ue)({format:U.format,allowFormatBeautification:!0})}static getFilterType(T,R){return(0,w.k)(T)||!R?v.vA.Advanced:v.vA.Categorical}static canAdd(T,R,U,z,j,H,q){if(t.fF.assertValue(z,"scope"),0===z.scopeType){var G=z.container;if(!G||!(0,M.zr)(G,q))return!1}if(H)return!0;if(!R||!U)return!1;if(!(0,M.Xz)(T,q)&&(0,w.k)(R))return!1;var Z=(0,d.Q)(R,U),Q=(0,h.Um)(Z),ne=U.schema(Q.schema);if(!ne)return!1;var he,Se,le=ne.findProperty(Q.entity,(0,h.Hp)(Z));if(le||(Z.hierarchyLevel?(he=ne.findHierarchy(Q.entity,Z.hierarchyLevel.name))&&(Se=he.levels.withName(Z.hierarchyLevel.level)):Z.columnHierarchyLevelVariation&&(he=ne.findHierarchy(Z.columnHierarchyLevelVariation.level.entity,Z.columnHierarchyLevelVariation.level.name))&&(Se=he.levels.withName(Z.columnHierarchyLevelVariation.level.level))),!le&&!Se||!z||!z.container||le&&1===le.kind&&(0!==z.scopeType||ne.capabilities.limitMultiColumnFiltersToQueryGroupColumns)&&!j)return!1;if(j){var Ke=le&&le.kind;if(!Se&&0!==Ke&&1!==Ke)return!1;var ye=!1;if(1===z.scopeType){var we=z.container;we&&!we.transient&&(ye=!0)}if(!ye)return!1}return!0}static supportsFilterOutput(T){return null!=this.tryGetFilterPropertyIdentifier(T,null,null)}static tryGetFilterPropertyIdentifier(T,R,U){return R&&U&&U.isCustomVisual(R)?V.Ro:T?(0,i.MD)(T.objects):void 0}static tryGetFilterProperty(T,R,U,z){var j=this.tryGetFilterPropertyIdentifier(T,R,U);if(j)return(0,y.NA)(z,j,void 0)}static add(T,R){T.filters||(T.filters=[]),T.filters.push(R)}static getFiltersContainer(T,R,U){switch(T){case 0:return P.UP.getSelectedVisual(R);case 1:return U.getCurrentSection();case 2:return U.getCurrentExploration();default:t.fF.assertNever(T)}}static getMatchingReportFilterContainers(T,R){if(R)return this.getMatchingFilterContainers(T,R.filters)}static getMatchingSectionFilterContainers(T,R){if(R)return this.getMatchingFilterContainers(T,R.filters)}static getMatchingVisualsFilterContainers(T,R){var U=[];for(var z of R)if((0,L.Vz)(z)&&z.filters){var j=this.getMatchingFilterContainers(T,z.filters);j&&U.push(...j)}return _.isEmpty(U)?void 0:U}static getMatchingFilterContainers(T,R){if(R){var U=R.filter(z=>(0,N.fS)(z.expression,T,!1,!0,!0));return _.isEmpty(U)?void 0:U}}static getMatchingFilterVisuals(T,R,U){var z=[],j=this.getFilteringSupportedVisuals(R,U);if(j){var H=function(){var J=U.capabilities(q.config.singleVisual.visualType),Z=(0,D.Xf)(q),Q=I.getSupportedQueryRefs(J,Z);if(!Z.defn.select().filter(he=>Q.some(Se=>he.name===Se)).map(he=>he.expr).some(he=>(0,N.fS)(he,T,!1,!0,!0)))return 1;z.push(q)};for(var q of j)H();return _.isEmpty(z)?void 0:z}}static getFilteringSupportedVisuals(T,R){var U=[];for(var z of T){var j=z.config.singleVisual,H=j.visualType;if(!(0,f.xj)(j)){var q=R.capabilities(H),G=I.supportsFilterOutput(q),J=(0,D.Xf)(z),Z=R.getPlugin(H);if(G&&!_.isEmpty(J)&&Z&&Z.tryCreateFilterObjectsToPersist){var Q=I.getSupportedQueryRefs(q,J);_.isEmpty(Q)||U.push(z)}}}return _.isEmpty(U)?void 0:U}static getSupportedQueryRefs(T,R){if(!T||!R)return[];var j=T.dataRoles.filter(Z=>Z.kind===B.DW.Grouping).map(Z=>Z.name),H=R.projections;if(_.isEmpty(H))return[];var q=[];for(var G of j){var J=H[G].getQueryRefs();q.push(...J)}return q}static convertFilterData(T,R,U){if(T){var z={filter:T.filter,name:this.getNextFilterName(R),type:T.type,restatement:T.restatement,howCreated:U};if(T.type===v.vA.Categorical||T.filterExpressionMetadata&&1===T.filterExpressionMetadata.expressions.length){z.expression=T.filterExpressionMetadata.expressions[0];var j=[];if(!_.isEmpty(T.filterExpressionMetadata.cachedValueItems)){for(var H of T.filterExpressionMetadata.cachedValueItems)1===H.identities.length&&j.push({identity:H.identities[0],displayName:H.valueMap[0]});z.cachedValueItems=j}}else T.filterExpressionMetadata&&(z.filterExpressionMetadata=T.filterExpressionMetadata);return z}}static shouldDisableFilter(T,R,U,z,j){if(!U)return!1;var H=T.expression;if(!H)return!1;var q=(0,w.k)(H),G=!_.isEmpty(this.validate(T,R,z)),J=(0,D.e4)(U,R);if(q){if(!J&&!G)return!0;var Z=H.getTargetEntity();if(!Z)return!0;if(R.schema(Z.schema).capabilities.limitMultiColumnFiltersToQueryGroupColumns||(0,D.jW)(U,R,j)||(0,D.EL)(U))return!0}return!1}static getValueType(T,R){var U=T.getMetadata(R);if(U)return U.type}static getDefaultRetainedValue(T,R){var U=l.m.getDefaultValues(T,R);if(!_.isEmpty(U))return{isNot:!1,scopeIds:[[(0,o.TZ)((0,x.R)(T,U))]]}}static validate(T,R,U){t.fF.assertValue(T,"filterContainer");var j=T.filter,H=l.m.validate(T.expression,R,U);if(j&&(H=j.validate(R,U,H)),!_.isEmpty(H))return H}static getNextFilterName(T){null==T&&(T=[]);var R={};for(var U of T)t.fF.assertValue(U,"getNextFilterName: collection contains null filter"),null!=U&&(R[U.name]=!0);return u.q.generateUniqueId(R)}static isCategoricalFilter(T){return T===v.vA.Categorical||T===v.vA.Visual}static getQueryRefsForSingleItemDrillFilters(T,R,U){var z=T.filters,j=[];if(z)for(var H of z){var q=H&&H.filter;if(q&&_.isEmpty(q.validate(R,U))&&2===H.howCreated&&this.areDrillFiltersSingleValue(q.where())){var G=this.getQueryRefFromFilter(T,H.expression);G&&j.push(G)}}return j}static areDrillFiltersSingleValue(T){return!_.isEmpty(T)&&_.every(T,R=>{if(null==R)return!1;var U=R.condition;return(0,E.Hi)(U)?U.values&&1===U.values.length:!!(0,E.Pe)(U)&&0===U.comparison})}static getQueryRefFromFilter(T,R){var U=(0,D.Xf)(T);if(U)return U.defn.selectNameOf(R)}static getFilterValuesForColumn(T,R){if(t.fF.assertAnyValue(R,"filters"),t.fF.assertValue(T,"column"),R){var U=R.condition,z=new F(T);return U.accept(z),z.values}}static deriveFromSQFilters(T,R,U){var z=[],j=U&&U.Filters&&0!==U.Filters.length?U.Filters:null;j&&j.length!==R.length&&(j=null);for(var H=0,q=R.length;H<q;H++){var G=R[H],J=j&&j[H],Z=J&&J.expression&&a.ib.deserializeExpr(J.expression);z.push({name:this.getNextFilterName(z),filter:new p.yl(T,[G]),restatement:J&&J.Restatement,expression:Z,howCreated:0,type:J&&J.type})}return z}static extractParameterFilters(T,R){t.fF.assertValue(T,"queryDefn"),t.fF.assertAnyValue(R,"queryMetadata");var U=_.filter(T.From,q=>1!==q.Type),j={RemovedIndexes:[]},H=a.ib.deserializeFilter({Version:T.Version,From:U,Where:T.Where},j);if(R&&!_.isEmpty(j.RemovedIndexes)&&(R.Filters=_.filter(R.Filters,(q,G)=>!_.includes(j.RemovedIndexes,G))),H)return this.deriveFromSQFilters(H.from(),H.where(),R)}static mergeExplorationSectionFilters(T,R){t.fF.assertValue(T,"exploration"),t.fF.assertValue(R,"section"),_.isEmpty(T.filters)||(R.filters=this.mergeFilters(R.filters,T.filters,"explore"),T.filters=[])}static isFilterModified(T){var H=!0===T.isHiddenInViewMode||!0===T.isLockedInViewMode||!!T.displayName||void 0!==T.ordinal;return!!T.filter||!(0,y.xb)(T.objects)||H}static ensureFilterHasName(T,R){null==T.name&&this.isFilterModified(T)&&(T.name=this.getNextFilterName(R.container&&R.container.filters))}static applySectionParameterFilters(T,R,U,z,j){t.fF.assertValue(T,"section"),t.fF.assertAnyValue(R,"pod"),t.fF.assertAnyValue(z,"parameterFilters"),t.fF.assertAnyValue(U,"additionalSourceFilters");var H=j;if(T.filters=this.getSectionParameterFiltersToApply(R,T.filters,U,z),(!_.isEmpty(z)||!_.isEmpty(U))&&(H=!0),H)for(var q of T.visualContainers)q.cachedData=null}static getFiltersToApplyFromVisualQueryFilterContext(T){if(T){var R=T.dataFilters?T.dataFilters.slice():[];T.highlightFiltersUnmerged&&(R=R.concat(T.highlightFiltersUnmerged));var U=T.query,z=[],j=[],H=!1;for(var q of R){var G=q.filter.where();if(_.find(G,Ge=>4===(0,n._)(Ge.condition)))H=!0;else if(!_.isEmpty(G)){var J=_.filter(G,Ge=>1===(0,n._)(Ge.condition));if(j.push(...J||[]),!_.isEmpty(J)){var Z=_.filter(G,Ge=>1!==(0,n._)(Ge.condition)&&4!==(0,n._)(Ge.condition));if(_.isEmpty(Z))continue;q={filter:p.yl.fromSQFromAndSQFilters(q.filter.from(),Z)}}z.push(q)}}if(!_.isEmpty(j)){var Q=p.yl.fromMeasureFilters(U,j);Q&&z.push({filter:Q})}if(H){var ne=U.from().getSubquerySources(),le=_.findKey(ne,Ge=>Ge.inheritsSorting),he=ne[le],Se=_.find(U.where(),Ge=>{var ye=new O;return Ge.condition.accept(ye),ye.source===le});if(Se){var Ke=new b.cL({[le]:he});z.push({filter:p.yl.fromSQFromAndSQFilters(Ke,[Se])})}}return z}}static findValuesInFilterCache(T,R,U){if(t.fF.assert(()=>T.length===R.length,".extractValuesFromMetadata the columns length should be equal to values length"),U&&!_.isEmpty(U.cachedValueItems)){var z=this.findIdentityMapInFilterCache(T,R,U);if(z){var j=[],H=[];for(var q in z.valueMap)j.push(z.valueMap[q]),H.push(U.expressions[q]);return{values:j,columns:H}}}}static removeEntryFromFilterCache(T,R,U){if(t.fF.assert(()=>T.length===R.length,".removeEntryFromFilterCache the columns length should be equal to values length"),U&&!_.isEmpty(U.cachedValueItems)){var z=this.findIdentityMapInFilterCache(T,R,U);z&&_.remove(U.cachedValueItems,j=>j===z)}}static findIdentityMapInFilterCache(T,R,U){if(t.fF.assert(()=>T.length===R.length,".findIdentityMapInFilterCache the columns length should be equal to values length"),U&&!_.isEmpty(U.cachedValueItems))for(var z of U.cachedValueItems){var j=new s.aL;for(var H of z.identities)H.expr.accept(j);if(j.keys.length===T.length){for(var q=!0,G=function(){var Z=j.keys[J];if(_.findIndex(T,ne=>(0,N.fS)(ne,Z))<0||R[J].value!==j.values[J].value)return q=!1,1},J=0;J<j.keys.length&&!G();J++);if(q)return z}}}static fillMissingValuesFromCache(T,R){if(!R||_.isEmpty(R.cachedValueItems))return T;var U=new Map,z=function(G){G.identities.forEach((J,Z)=>U.set(J.key,G.valueMap[Z]))};for(var j of R.cachedValueItems)z(j);var H=function(G){G.identities.forEach((J,Z)=>{var Q;return(Q=G.valueMap)[Z]??(Q[Z]=U.get(J.key))})};for(var q of T)H(q);return T}static getSectionParameterFiltersToApply(T,R,U,z){t.fF.assertAnyValue(T,"pod"),t.fF.assertAnyValue(R,"sectionFilters"),t.fF.assertAnyValue(z,"parameterFilters"),t.fF.assertAnyValue(U,"additionalSourceFilters");var j=[...R||[]];if(_.isEmpty(z)||T&&!_.isEmpty(T.parameters)&&_.remove(j,q=>_.some(T.parameters,G=>G.boundFilter===q.name)),!_.isEmpty(z)||!_.isEmpty(U)){var H=this.getUnOverriddenAndMergedFilters(z,U);return this.getUnOverriddenAndMergedFilters(H,j)}return j}static getUnOverriddenAndMergedFilters(T,R){if(t.fF.assertAnyValue(T,"higherPrecedenceFilters"),t.fF.assertAnyValue(R,"lowerPrecedenceFilters"),_.isEmpty(T))return R;if(_.isEmpty(R))return T;var U=this.getNonoverriddenFilters(T,R);return this.mergeFilters(U||[],T||[],"param")}static getNonoverriddenFilters(T,R){if(t.fF.assertAnyValue(T,"higherPrecedenceFilters"),t.fF.assertAnyValue(R,"lowerPrecedenceFilters"),_.isEmpty(T)||_.isEmpty(R))return R;var U=this.extractAllReferencedFields(T);return _.filter(R,j=>{var H=this.extractReferencedFields(j);return!_.some(H,q=>_.some(U,G=>(0,N.fS)(G,q,!1,!0)))})}static extractParameterFiltersFromSection(T,R){t.fF.assertAnyValue(T,"sectionFilters"),t.fF.assertAnyValue(R,"originalFilters"),T=T||[],R=R||[];var U={},z=[];for(var j of R)U[j.name]=j;for(var H of T){var q=U[H.name];(!q||!_.isEqual(q,H))&&z.push(H)}return z}static mergeFilters(T,R,U){var z={};for(var j of T=T||[])z[j.name]=!0;for(var H of R)H.name=U+"_"+H.name,z[H.name]?t.fF.assertFail("Filter name conflict: "+H.name):z[H.name]=!0;return T.concat(R)}static canExpandManually(T,R,U,z,j){return 6!==T&&!(5===T&&!R&&j!==v.vA.Exclude&&j!==v.vA.Include&&U&&(0,E.kb)(U)||!z)}static hasMeasureOrAsAggregationLinkField(T){return t.fF.assertValue(T,"section"),_.some(T.filters,R=>5===R.howCreated&&!R.isTransient&&(R.isLinkedAsAggregation||R.expression&&(0,E.kb)(R.expression)))}static notifyFilterContainerChangedByUser(T,R){T.publishToChannel(S.d8V,{source:"UserAction_ChangeFilter"}),T.publishToChannel(S.Tuj,R)}static createChangeFilterActivity(T,R,U){var z={name:"Change Filter",operationType:R};return U?U.createChildActivity(z):T.createActivity(z)}static notifyBufferedFilterChanges(T,R,U,z,j,H){T.publishToChannel(S.Oij,{filterScopeType:R,filterType:U,id:z,canApply:j,wasDeleted:H})}static isApplyAllEnabled(T,R){var U=R.getCurrentExploration();return!!(T&&U&&U.slowDataSourceSettings)&&U.slowDataSourceSettings.isApplyAllButtonEnabled}static getFilterCardStyle(T,R,U,z){var H,q,j=T&&T.filterCard;R?(H=j&&j.$instances&&j.$instances[g.ZF],q=g.Hd):(H=j&&j.$instances&&j.$instances[g.Kc],q=g.$V);var G=this.getDefaultFilterCardStyle(T,R,U,z);return z?.forceApplyDefaultStyleOverride?G:{checkboxAndApplyColor:this.getCheckboxAndApplyColor(T&&T.outspacePane,G.checkboxAndApplyColor),borderColor:this.getBorderColor(H,G.borderColor,z?.alwaysEnableBorder),backgroundColor:this.getBackgroundColor(H,G.backgroundColor,q,R,G.backgroundColorApplied),foregroundColor:this.getColor(H,"foregroundColor",G.foregroundColor),inputBoxBorderColor:this.getBorderColor(H,G.inputBoxBorderColor,!0),inputBoxBackgroundColor:this.getColor(H,"inputBoxColor",G.inputBoxBackgroundColor),inputBoxForegroundColor:this.getColor(H,"foregroundColor",G.inputBoxForegroundColor),fontSize:z?.ignoreFontSizeAndFamily?null:G.fontSize,fontFamily:z?.ignoreFontSizeAndFamily?null:G.fontFamily}}static getDefaultFilterCardStyle(T,R,U,z){var H,q,j=T&&T.filterCard;R?(H=j&&j.$instances&&j.$instances[g.ZF],q=U.colorPalette.backgroundLight.value):(H=j&&j.$instances&&j.$instances[g.Kc],q=U.colorPalette.background.value);var G=R?z?.defaultStyleOverride?.backgroundColorApplied:z?.defaultStyleOverride?.backgroundColorAvailable,J=z?.defaultStyleOverride,Z=G||J?.backgroundColor;return J?{...J,backgroundColor:Z}:{checkboxAndApplyColor:g.mC,borderColor:g.bm,backgroundColor:q,foregroundColor:U.colorPalette.foreground.value,inputBoxBorderColor:g.bm,inputBoxBackgroundColor:g.NC,inputBoxForegroundColor:g.yJ,fontSize:this.getFontSize(H),fontFamily:this.getFontFamily(H)}}static determineIsLinkedAsAggregation(T,R,U){if(5===T.howCreated)return null!=U.defaultAggregate(T.expression,R)}static getDisplayNameForIncludeExcludeFilters(T,R,U){return T.get(R===v.vA.Include?"Include_Label":"FilterPane_Exclude")+" ("+U+")"}static getCheckboxAndApplyColor(T,R=g.mC){var U=(0,C.y)(T,"checkboxAndApplyColor",R);return(0,e.cD)(U)}static getBorderColor(T,R,U){var z=(0,C.y)(T,"borderColor",R),H=0;return(!0===(0,C.N)(T,"border",g.HX)||U)&&(H=1),(0,e.cD)(z,H)}static getBackgroundColor(T,R,U,z,j){var q=(0,C.y)(T,"backgroundColor",z&&j?j:R),G=(0,e.TD)((0,C.N)(T,"transparency",U));return(0,e.cD)(q,G)}static getColor(T,R,U){var z=(0,C.y)(T,R,U);return(0,e.cD)(z)}static getFontSize(T){return`${(0,C.N)(T,"textSize",g.JM)}pt`}static getFontFamily(T){return(0,C.N)(T,"fontFamily",g.h9)}static extractAllReferencedFields(T){return _.flatten(_.map(T,R=>this.extractReferencedFields(R)))}static extractReferencedFields(T){var R=[];if(T.expression&&R.push(T.expression),T.filter)for(var U of T.filter.conditions()){var z=new W;U.accept(z),R=R.concat(z.fields)}return R}static getFilterCapabilities(T){return{canClear:this.canClearManually(T),canDelete:this.canDeleteManually(T),canEdit:this.canEditManually(T),canHide:this.canHideManually(T),canLock:this.canLockManually(T),canRename:this.canRenameManually(T),canSort:this.canSortManually(T)}}static canClearManually(T){return!(0!==T.howCreated&&1!==T.howCreated&&2!==T.howCreated&&5!==T.howCreated&&7!==T.howCreated||T.type===v.vA.Passthrough||5===T.howCreated&&(T.type===v.vA.Exclude||T.type===v.vA.Include))}static canDeleteManually(T){return 1===T.howCreated||5===T.howCreated||7===T.howCreated||T.type===v.vA.Passthrough||3===T.howCreated||4===T.howCreated}static canEditManually(T){return(0===T.howCreated||1===T.howCreated||2===T.howCreated||5===T.howCreated||7===T.howCreated||3===T.howCreated||4===T.howCreated)&&T.type!==v.vA.Passthrough}static canHideManually(T){return 0===T.howCreated||1===T.howCreated||5===T.howCreated&&!T.isTransient||T.type===v.vA.Passthrough||3===T.howCreated||4===T.howCreated}static canLockManually(T){return(0===T.howCreated||1===T.howCreated||5===T.howCreated&&!T.isTransient||3===T.howCreated||4===T.howCreated)&&T.type!==v.vA.Passthrough}static canRenameManually(T){return(0===T.howCreated||1===T.howCreated)&&T.type!==v.vA.Passthrough&&T.type!==v.vA.VisualTopN}static canSortManually(T){return 0===T.howCreated||1===T.howCreated||T.type===v.vA.Passthrough||3===T.howCreated||4===T.howCreated}}class W extends m.PA{constructor(){super(...arguments),this.fields=[]}visitColumnRef(T){this.fields.push(T)}visitHierarchyLevel(T){this.fields.push(T)}visitMeasureRef(T){this.fields.push(T)}visitEntity(T){this.fields.push(T)}visitAggr(){}}class O extends m.PA{visitSubqueryRef(T){this.source=T.variable}}class F extends m.vq{constructor(T){super(),this.comparisonColumn=T,this.values=[]}visitCompare(T){0===T.comparison&&(0,E.VC)(T.right)&&(0,N.fS)(T.left,this.comparisonColumn)&&this.values.push(T.right)}visitIn(T){if(!_.isEmpty(T.values)){var U=_.findIndex(T.args,j=>(0,N.fS)(j,this.comparisonColumn,void 0,!0));if(!(U<0))for(var z of T.values)this.values.push(z[U])}}}},680497:function(Ce,k,r){r.d(k,{NV:function(){return i},Xz:function(){return y},zr:function(){return C}});var a=r(257738),e=r(990121),u=r(692699),t=r(960196);function C(o,c){var h=(0,u.s)(o);return c.isQueryVisual(h)}function y(o,c){var h=(0,u.s)(o);return!c.isAnalysisVisual(h)}function i(o,c,h,d){var n=o.getMetadata(c);if(n){if(5===h)return e.vA.Categorical;var s=n.type,p=s&&(s.text||s.bool||s.dateTime),l=n.idOnEntityKey&&d&&(0,a.fS)(o,d);return!p||(0,t.k)(o)||l?e.vA.Advanced:e.vA.Categorical}}},758242:function(Ce,k,r){r.d(k,{DX:function(){return D},Ee:function(){return o},P2:function(){return h},RV:function(){return d},X0:function(){return n},ZP:function(){return S},yl:function(){return c}});var a=r(953474),e=r(939123),u=r(564619),t=r(895127),C=r(528836),y=r(517273);function o(O,F,A){if(e.fF.assertValue(O,"entity"),!F||!F.column||!F.column.groupingMetadata)return 0;if(A){var T=A.getGroupingDesignState(O,F.name);if(!T)return 1;if(T.partitionTable)return 3;if(T.binItem)return 2}return 1}function c(O,F,A){var T=o(O,F,A);return 1===T||2===T}function h(O,F,A){return 3===o(O,F,A)}function d(O,F,A){if(!F||!F.column||!F.column.groupingMetadata)return!1;var T=A.getGroupingDesignState(O,F.name);return!(!T||!T.groupItems&&!T.partitionTable)}function n(O,F){return!(!F||!function(O,F){return function(O,F){var A=(0,u.J1)((0,t.Q)(F));return O.schema(A)}(O,F).capabilities.canEdit}(O,F)||!(0,a.t3)(F)&&!(0,a.wD)(F))&&function(O){return O&&!!(O.type.dateTime||O.type.integer||O.type.numeric||O.type.text)}(F.getConceptualProperty(O))}function S(O,F){return _.chain(O.groupedColumns).map(A=>{if(function(O){return 0===O.kind}(A))return(0,C.Oh)(F,A.name)}).filter(A=>null!=A).value()}function D(O,F){var A=F&&F.defn.select();if(!_.isEmpty(A)&&!_.isEmpty(O)){for(var T of O){if(!T||!T.dataMap)return!1;var R=Object.keys(T.dataMap),U=_.size(T.dataMap);if(U>2)return!1;if(2===U){var z=A.withName(R[0]),j=A.withName(R[1]);if(z&&j&&!B(z.expr,j.expr))return!1}else if(1===U){var H=A.withName(R[0]);if(H&&!(0,a.t3)(H.expr)&&!(0,a.wD)(H.expr))return!1}}return!0}return!1}function B(O,F){return!!function(O,F){if((0,a.wD)(O)&&(0,a.t3)(F)&&W(O,F))return O;if((0,a.wD)(F)&&(0,a.t3)(O)&&W(F,O))return F;if((0,a.wD)(O)&&(0,a.wD)(F)){if(W(O,F))return O;if(W(F,O))return F}}(O,F)}function W(O,F){return y.m.sequenceEqual(O.groupedExprs,[F])}},374357:function(Ce,k,r){r.d(k,{Sd:function(){return h},gp:function(){return c},wK:function(){return i}});var a=r(953474),e=r(257738),u=r(454865),t=r(528836),C=r(761830),y=r(906741);function i(p,l,m,b){if(m&&l&&(0,a.ez)(b)){var V=b,g=V.arg,v=(0,y.wA)(p,g),f=[],S=function(){var M,D=m.tryGetExprs(P.name);if(!D)return 1;if((0,a.y3)(g)&&(0,a.jc)(g.arg)){var E=g.arg;M=_((0,C.q)(p,D,{})).filter(N=>N.isHierarchyLevelsGroup&&(0,a.t3)(N.expr)&&(0,e.fS)(N.expr.source,E.arg)&&N.expr.ref===E.property).reverse().value()}else M=_((0,C.q)(p,D,{})).filter(N=>(0,e.fS)(N.expr,g)).reverse().value();for(var w of M){var x=(0,y.u8)(v,w.children,V);f.push({expr:V,schema:p,targetRole:P.name,projOptions:{fieldIndex:w.selectQueryIndex+x}})}};for(var P of l.dataRoles)S();return f}}function c(p,l,m,b,V,g){var f=(p.singleVisual.query.tryGetExprs(l)||[]).slice(m,m+b);if(!_.isEmpty(f)){var S;if(S=_.isEmpty(g)?f[0]:g[0],(0,a.ez)(S)){var P=function(p,l){if(p&&p.kind===u.DW.Measure){var m=(0,y.cH)(l);if(m)return(0,t.Oh)(m.arg,m.property)}}(V,S);if(P)return[P]}return _.isEmpty(g)?f:g}}function h(p,l){return(0,a.ez)(p)&&(0,a.ez)(l)&&(0,e.fS)(p.arg,l.arg)}},527386:function(Ce,k,r){r.d(k,{q:function(){return y}});var a=r(112072),e=r(939123),u=r(662663),t=r(278042),C=r(960196);class y{static generate(o,c,h,d,n,s,p,l){if(e.fF.assertValue(o,"dataView"),e.fF.assertValue(c,"originalSelects"),e.fF.assertValue(d,"originalDataRoleNames"),e.fF.assertAnyValue(n,"originalProjectionOrdering"),o.matrix){var m=[],b=[],V=[],g=[],v=o.matrix;for(var f of c){var S={...f};S.roles={},m.push(S)}var P=B=>{if(s&&s.featureSwitches.showGeneratedColumnsInDetailView)return!0;var I=c[B.index];return!I||!_.isEmpty(I.roles)||!_.isEmpty(I.relatedSelects)},D=this.getSelectsGroupedByRowHierarchy(h,c,o.matrix,P),E=(p&&l?this.tryProcessDataViewHierarchy(v.rows,m,V,a.r.columns,D,B=>!B.isMeasure):this.tryProcessDataViewHierarchy(v.rows,m,b,a.r.rows,D)&&this.tryProcessDataViewHierarchy(v.columns,m,V,a.r.columns,D,B=>!B.isMeasure))&&this.tryUpdateReferencedSelects(v.valueSources,m,g,a.r.values,D,P),w=_.last(v.rows.levels);if(w&&(E=E&&this.tryUpdateReferencedSelects((0,t.vC)(w),m,g,a.r.values,D,P)),E){var x=o;this.sortMatrixRoleProjectionOrders(d,n,b,V,g,m),_.isEmpty(D)||(x=this.fixMeasuresGroupedByRowHierarchy(o,D));var N={};return b.length>0&&(N[a.r.rows]=b),V.length>0&&(N[a.r.columns]=V),g.length>0&&(N[a.r.values]=g),{transformActions:{selects:m,roles:{ordering:N}},dataView:x}}}}static getSelectsGroupedByRowHierarchyFromMatrix(o,c){var h={},d=o?.rows?.levels;if(!_.isEmpty(d)){var n=_.last(d),s=(0,t.vC)(n);if(!_.isEmpty(s))for(var p of s)_.isNumber(p.index)&&c(p)&&(h[p.index]=!0)}return h}static tryProcessDataViewHierarchy(o,c,h,d,n,s){if(!o||_.isEmpty(o.levels))return!0;for(var p of o.levels)if(!this.tryUpdateReferencedSelects(p.sources,c,h,d,n,s))return!1;return!0}static tryUpdateReferencedSelects(o,c,h,d,n,s){if(_.isEmpty(o))return!0;var l,p=function(b){if(!s||s(b)){if(null==b.index&&_.some(o,v=>v.formatSource&&v.formatSource.formatString===b))return 0;if(n[b.index]){if(!_.isEmpty(c[b.index].relatedSelects)){var V=function(v){var f=_.findIndex(c,S=>S.queryName===v.queryName);n[f]||h.push(b.index)};for(var g of c[b.index].relatedSelects)V(g)}}else h.push(b.index);if(!c[b.index])return{v:!1};c[b.index].roles[d]=!0}};for(var m of o)if(0!==(l=p(m))&&l)return l.v;return!0}static sortMatrixRoleProjectionOrders(o,c,h,d,n,s){if(e.fF.assertValue(o,"originalDataRoleNames"),e.fF.assertAnyValue(c,"originalProjectionOrdering"),e.fF.assertValue(h,"matrixRowsOrdering"),e.fF.assertValue(d,"matrixColumnsOrdering"),e.fF.assertValue(n,"matrixValuesOrdering"),!_.isEmpty(o)&&c){var p=h.length>=2,l=d.length>=2,m=n.length>=2;if(p||l||m){var b=this.createSelectIndexToSortOrderMappings(o,c);b&&(p&&this.applySortOrder(h,b),l&&this.applySortOrder(d,b),m)&&(this.applySortOrder(n,b),(0,u.f_)(s,{[a.r.values]:n}))}}}static createSelectIndexToSortOrderMappings(o,c){e.fF.assertNonEmpty(o,"originalDataRoleNames"),e.fF.assertValue(c,"originalProjectionOrdering");var h=_.chain(o).map(n=>c[n]).flatten().filter(n=>_.isNumber(n)).value(),d=_.reduce(h,(n,s,p)=>(void 0===n[s]&&(n[s]=p),n),{});return Object.keys(d).length>=2?d:void 0}static applySortOrder(o,c){e.fF.assertNonEmpty(o,"matrixRoleSelectIndices"),e.fF.assertValue(c,"selectIndexToSortOrderMapping"),o.sort((h,d)=>this.getSortOrderOrDefault(h,c)-this.getSortOrderOrDefault(d,c))}static getSortOrderOrDefault(o,c,h=Number.MAX_VALUE){return e.fF.assertValue(o,"selectIndex"),e.fF.assertValue(c,"selectIndexToSortOrderMapping"),_.isNumber(c[o])?c[o]:h}static fixMeasuresGroupedByRowHierarchy(o,c){if(e.fF.assertValue(o,"dataView"),e.fF.assertValue(o.matrix,"matrix"),e.fF.assertValue(o.matrix.columns,"matrix.columns"),this.nothingToFix(c,o.matrix))return o;var d=_.cloneDeep(o);return this.addMeasureValuesGroupedByRowHierarchy(d,c),d}static nothingToFix(o,c){return _.isEmpty(Object.keys(o))||_.isEmpty(c.columns.root.children)||_.isEmpty(c.rows.root.children)}static getSelectsGroupedByRowHierarchy(o,c,h,d){if(o&&o.length>1){e.fF.assertValue(o[0]?.selects&&o[1]?.selects,"Split transforms should be defined");var n=this.categorizeSplitSelects(o[0],c);if(_.isEmpty(n.measureSelectIndices))return{};var s=this.categorizeSplitSelects(o[1],c);if(_.isEqual(n.groupingSelectIndices,s.groupingSelectIndices))return{};if(!_.isEmpty(s.measureSelectIndices))for(var p=_.map(_.keys(s.measureSelectIndices),g=>c[parseInt(g,10)].queryName),l=0;l<c.length;l++){var m=c[l];if(!_.isEmpty(m.relatedSelects)){var b=function(g){null!=_.find(p,v=>g.queryName===v)&&(s.measureSelectIndices[l]=!0)};for(var V of m.relatedSelects)b(V)}}return s.measureSelectIndices}return y.getSelectsGroupedByRowHierarchyFromMatrix(h,d)}static categorizeSplitSelects(o,c){var h={groupingSelectIndices:{},measureSelectIndices:{}};for(var d in o.selects){var n=c[d];n.expr&&((0,C.k)(n.expr)?h.measureSelectIndices[d]=!0:h.groupingSelectIndices[d]=!0)}return h}static addMeasureValuesGroupedByRowHierarchy(o,c){e.fF.assertNonEmpty(o.matrix.columns.root.children,"A Matrix with no ColumnHierarchy is already fixed"),e.fF.assertValue(c,"addMeasureValuesGroupedByRowHierarchy called for no Scoped Values");var h=o.matrix,d=h.columns.levels[0],n=[],s=_.last(h.rows.levels),p=h.valueSources.length;e.fF.assertAnyValue(s.valueSources,"When either Primary or Secondary are missing, Line Values appear on the Intersections");var l=(0,t.vC)(s);if(l){for(var m=h.columns.root,b=this.getColumnLeavesCount(m),V=0;V<l.length;V++){var g=l[V];c[g.index]&&(g.formatSource&&delete g.formatSource,h.valueSources.push(g),this.addStaticMeasureColumnHeader(d,g,m),n.push(V))}(0,t.y9)(o.matrix.rows.root,v=>{var f=b,S=(0,t.Lr)(v);if(!_.isEmpty(S))for(var P=0;P<n.length;P++)v.values[f++]={value:S[n[P]].value,valueSourceIndex:p+P}})}}static getColumnLeavesCount(o){var c=0;return(0,t.y9)(o,()=>c++),c}static addStaticMeasureColumnHeader(o,c,h){o.sources.push(c),h.children.push({level:0,levelSourceIndex:o.sources.length-1})}}},907593:function(Ce,k,r){r.d(k,{$:function(){return e}});var a=r(336486);class e{constructor(t){this.modelExtension=t,this.visited={}}visitReference(t){if(t.schema===this.modelExtension.name){var C=(0,a.rc)(this.modelExtension,t.entity);if(C){var y=(0,a.ef)(C,t.name);if(y){var i=this.toVisitedKey(t);if(!this.visited[i])for(var o of(this.visitMeasure(this.modelExtension,C,y),this.visited[i]=!0,y.references.measures))this.visitReference(o)}}}}visitMeasure(t,C,y){}toVisitedKey(t){return JSON.stringify(t)}}},336486:function(Ce,k,r){r.d(k,{MZ:function(){return i},Mt:function(){return C},Pw:function(){return t},QL:function(){return d},Rx:function(){return m},ZB:function(){return s},bY:function(){return n},ef:function(){return p},fi:function(){return D},ni:function(){return b},qH:function(){return o},rc:function(){return c}});var a=r(27819),e=r(722709),u=r(939123);function t(w,x){return w.modelExtensions&&w.modelExtensions.withName(x)}function C(w,x){var N=t(w,x);if(!N)throw new Error("Unable to find expected model extension: "+x);return N}function i(w,x){return{name:w,extends:x,entities:(0,e.bv)()}}function o(w,x,N){var L=function(w,x,N){w.modelExtensions||(w.modelExtensions=(0,e.bv)());var L=w.modelExtensions.withName(x);return L||(L=i(x,N),w.modelExtensions.push(L)),u.fF.assert(()=>L.extends===N,"Found model extension with incompatible extends field"),L}(w,x,a.N8);return d(L,N)}function c(w,x){return w.entities.withName(x)}function h(w,x,N){var B=c(C(w,x),N);if(!B)throw new Error("Unable to find expected entity: "+N);return B}function d(w,x){w.entities||(w.entities=(0,e.bv)());var N=w.entities.withName(x);return N||(N={name:x,extends:x,measures:(0,e.bv)()},w.entities.push(N)),u.fF.assert(()=>N.extends===x,"Found model extension entity with incompatible extends field"),N}function n(w,x){if(w.measures||(w.measures=(0,e.bv)()),w.measures.withName(x.name))throw new Error(`Measure ${x.name} already exists and cannot be added`);w.measures.push(x)}function s(w,x,N,L){return l(h(w,x,N),L)}function p(w,x){return w.measures.withName(x)}function l(w,x){var N=p(w,x);if(!N)throw new Error("Unable to find expected measure:"+x);return N}function m(w,x,N,L){var B=h(w,x,N),I=l(B,L),W=B.measures.indexOf(I);B.measures.splice(W,1),0===B.measures.length&&(delete B.measures,function(w,x,N){if(!P(N)){var L=C(w,x),B=L.entities.indexOf(N);L.entities.splice(B,1),0===L.entities.length&&(delete L.entities,function(w,x){if(!P(x)){var N=w.modelExtensions.indexOf(x);w.modelExtensions.splice(N,1),0===w.modelExtensions.length&&delete w.modelExtensions}}(w,L))}}(w,x,B))}function b(w,x,N){null==N?function(w,x){var N=w.annotations&&w.annotations.withName(x);if(N){var L=w.annotations.indexOf(N);w.annotations.splice(L,1),w.annotations&&0===w.annotations.length&&delete w.annotations}}(w,x):function(w,x,N){w.annotations||(w.annotations=(0,e.bv)());var L=w.annotations.withName(x);L?L.value=N:w.annotations.push(L={name:x,value:N})}(w,x,N)}function P(w){var x=Object.keys(w),N=_.chain(x).filter(L=>"name"!==L&&"extends"!==L).filter(L=>!(_.isArray(w[L])&&_.isEmpty(w[L]))).value();return _.some(N)}function D(w){if(w){var x={Version:0,Name:w.name,Extends:w.extends};return w.entities&&(x.Entities=_.map(w.entities,N=>function(w){var x={Extends:w.extends,Name:w.name};return w.measures&&(x.Measures=_.map(w.measures,N=>function(w){var x=w.dataType;return(6===x||9===x)&&(x=7),{Name:w.name,Expression:w.expression,DataType:x}}(N))),x}(N))),x}}},557436:function(Ce,k,r){r.d(k,{A9:function(){return h},FY:function(){return n},Gk:function(){return d},bW:function(){return c},ei:function(){return s}});var a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,e=1e3,u=60*e,t=60*u,C=24*t,y=7*C,i=30*C,o=365*C;function c(m){return function(m){var b=a.exec(m)||new Array(9),V="-"===b[1]?-1:1;return{years:p(b[2],V),months:p(b[3],V),weeks:p(b[4],V),days:p(b[5],V),hours:p(b[6],V),minutes:p(b[7],V),seconds:p(b[8],V)}}(m)}function h(m){return m.years*o+m.months*i+m.weeks*y+m.days*C+m.hours*t+m.minutes*u+m.seconds*e}function d(m){var b={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0};for(var V of m){var g=V.value;V.isTimeUnit&&"S"===V.unit?b.seconds=g:V.isTimeUnit&&"M"===V.unit?b.minutes=g:V.isTimeUnit&&"H"===V.unit?b.hours=g:"D"===V.unit?b.days=g:"W"===V.unit?b.weeks=g:"M"===V.unit?b.months=g:"Y"===V.unit&&(b.years=g)}return b}function n(m){var b="P";return m.years>0&&(b+=`${m.years}Y`),m.months>0&&(b+=`${m.months}M`),m.weeks>0&&(b+=`${m.weeks}W`),m.days>0&&(b+=`${m.days}D`),0===m.hours&&0===m.minutes&&0===m.seconds||(b+="T",m.hours>0&&(b+=`${m.hours}H`),m.minutes>0&&(b+=`${m.minutes}M`),m.seconds>0&&(b+=`${m.seconds}S`)),b}function s(m){var b=[];return m.seconds&&b.push({value:m.seconds,unit:"S",isTimeUnit:!0}),m.minutes&&b.push({value:m.minutes,unit:"M",isTimeUnit:!0}),m.hours&&b.push({value:m.hours,unit:"H",isTimeUnit:!0}),m.days&&b.push({value:m.days,unit:"D",isTimeUnit:!1}),m.weeks&&b.push({value:m.weeks,unit:"W",isTimeUnit:!1}),m.months&&b.push({value:m.months,unit:"M",isTimeUnit:!1}),m.years&&b.push({value:m.years,unit:"Y",isTimeUnit:!1}),b}function p(m,b){var V=m&&parseFloat(m.replace(",","."));return(isNaN(V)?0:V)*b}},894146:function(Ce,k,r){r.d(k,{Ae:function(){return M},D6:function(){return p},Dt:function(){return L},EA:function(){return A},Iv:function(){return E},Iz:function(){return S},Js:function(){return W},LM:function(){return N},Og:function(){return h},QU:function(){return o},SV:function(){return P},TJ:function(){return T},XY:function(){return m},_3:function(){return i},_n:function(){return v},aQ:function(){return B},bM:function(){return V},bx:function(){return D},fF:function(){return F},k9:function(){return n},kt:function(){return x},rF:function(){return w},tD:function(){return g},u1:function(){return f},wj:function(){return O},zO:function(){return I}});var a=r(883803),e=r(722709),u=r(939123),t=r(463822),C=r(869333),y=r(184437);function i(J,Z,Q,ne){u.fF.assertValue(Z,"sectionName");var le=ne.defer(),he=M(J,Z);return-1===he?le.resolve(void 0):Q.get(J.reportId,J.pods[he].name).then(Se=>{var Ke=Se&&Se.words.slice();_.isEmpty(Ke)?le.resolve(void 0):(Ke.shift(),le.resolve({altNames:Ke}))}),le.promise}function o(J,Z,Q){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)(function*(J,Z,Q){u.fF.assertValue(Z,"sectionName");var ne=M(J,Z);ne>-1&&(yield Q.set(J.reportId,J.pods[ne].name,[]),j(J,ne,Q,!1))})).apply(this,arguments)}function h(J,Z,Q){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)(function*(J,Z,Q){u.fF.assertValue(Z,"sectionName");var ne=M(J,Z);ne>-1&&(yield Q.set(J.reportId,J.pods[ne].name,[]),H(J,ne))})).apply(this,arguments)}function n(J,Z,Q){return s.apply(this,arguments)}function s(){return(s=(0,a.Z)(function*(J,Z,Q){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"section"),yield p(J,Z.name,Z.displayName,Q,!0)})).apply(this,arguments)}function p(J,Z,Q,ne,le){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(function*(J,Z,Q,ne,le){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"sectionName"),u.fF.assertValue(Q,"newSectionDisplayName");var he=le?U(J,Z,0,0):E(J,Z);if(le||he){var Se=yield ne.get(J.reportId,he.name),Ke=Se&&Se.words;_.isEmpty(Ke)?Ke=[Q]:Ke[0]=Q,yield ne.set(J.reportId,he.name,Ke)}})).apply(this,arguments)}function m(J,Z,Q,ne){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)(function*(J,Z,Q,ne){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"section");var le=U(J,Z.name,0,0);Q.unshift(Z.displayName),yield ne.set(J.reportId,le.name,Q)})).apply(this,arguments)}function V(J,Z,Q,ne,le,he,Se){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"sectionName"),u.fF.assertValue(Q,"filterName"),u.fF.assertValue(Se,"podType");var Ke=U(J,Z,0,0);Ke.parameters||(Ke.parameters=[]);var Ge={name:t.q.generateUniqueId(_.zipObject(_.map(Ke.parameters,ye=>ye.name),_.map(Ke.parameters,()=>!0))),boundFilter:Q,fieldExpr:ne,asAggregation:le,isLegacySingleSelection:he};Ke.parameters.push(Ge),(null==Ke.type||0===Ke.type)&&0!==Se&&(Ke.type=Se)}function g(J,Z,Q,ne){u.fF.assertValue(Z,"sectionName"),u.fF.assertValue(Q,"filterName");var le=M(J,Z);if(le>-1){var he=J.pods[le],Se=R(he,Q);Se>-1&&(he.parameters.splice(Se,1),j(J,le,ne,!0))}}function v(J,Z,Q,ne){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"sectionName"),u.fF.assertValue(Q,"filterName");var le=M(J,Z);if(le>-1){var he=J.pods[le],Se=R(he,Q);Se>-1&&(he.parameters[Se].asAggregation=ne)}}function f(J,Z,Q){u.fF.assertValue(Z,"sectionName"),u.fF.assertValue(Q,"filterName");var ne=M(J,Z);return-1!==ne&&-1!==R(J.pods[ne],Q)}function S(J,Z,Q,ne){u.fF.assertValue(Z,"sectionName");var le,he=M(J,Z);(-1!==he||Q)&&(-1===he?(le=z(J,Z,0,0),he=J.pods.length-1):le=J.pods[he],le.cortanaEnabled=Q,j(J,he,ne,!0))}function P(J,Z){if(J&&J.pods){var ne=_.findIndex(J.pods,le=>le.name===Z);if(-1!==ne)return ne}}function D(J,Z,Q,ne,le){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"newSection"),u.fF.assertValue(ne,"linguisticSchemaProxy"),u.fF.assert(()=>Q<=J.sections.length,"Expected target index should be less than or equals sections length.");var he=M(J,J.sections[Q].name);if(-1===he)return le.resolve();var Se=J.pods[he],Ge=z(J,Z.name,Se.referenceScope,void 0!==Se.config?Se.config.acceptsFilterContext:0);return Ge.cortanaEnabled=Se.cortanaEnabled,Ge.parameters=_.cloneDeep(Se.parameters),Ge.type=Se.type,function(J,Z,Q,ne,le){return le.get(J,ne.name).then(he=>{var Se=he&&he.words.slice();_.isEmpty(Se)||(Se.shift(),Se.unshift(Z.displayName),le.set(J,Q.name,Se))})}(J.reportId,Z,Ge,Se,ne)}function M(J,Z){return u.fF.assertValue(Z,"sectionName"),J&&J.pods?_.findIndex(J.pods,Q=>Q.boundSection===Z):-1}function E(J,Z){var Q=M(J,Z);if(-1!==Q)return J.pods[Q]}function w(J,Z,Q){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"sectionName"),u.fF.assertValue(Q,"acceptsFilterContextKind");var ne=E(J,Z);if(!ne&&0!==Q&&(ne=z(J,Z,0,Q)),ne){if(null==ne.config)return void(ne.config={acceptsFilterContext:Q});ne.config.acceptsFilterContext!==Q&&(ne.config.acceptsFilterContext=Q)}}function x(J,Z,Q){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"sectionName"),u.fF.assertValue(Q,"referenceScope");var ne=E(J,Z);!ne&&0!==Q&&(ne=z(J,Z,Q,0)),ne&&null!=Q&&ne.referenceScope!==Q&&(ne.referenceScope=Q)}function N(J,Z){if(!J||!Z)return!0;var Q=E(J,Z.name);return!Q||!Q.config||0===Q.config.acceptsFilterContext}function L(J,Z){if(!J||!Z)return!1;var Q=E(J,Z.name);return!(!Q||!Q.config)&&(0,C.i)(Q.type,Q.parameters)}function B(J,Z){if(!J||!Z)return!1;var Q=E(J,Z.name);return!!Q&&1===Q.referenceScope}function I(J){return J?1:0}function W(J){return J?0:1}function O(J,Z){return u.fF.assertValue(J,"section"),!Z&&(0===J.type||null==J.type)||Z&&2===J.type?1:1===J.type?2:0}function F(J,Z,Q){if(!J||!Z)return!1;var ne=E(J,Z.name);if(!ne||_.isEmpty(ne.parameters))return!1;var le=R(ne,Q.name);return-1!==le&&ne.parameters[le].asAggregation}function A(J,Z){return Z&&1===Z.scopeType&&y.l.isCategoricalFilter(J.type)&&!J.isTransient}function T(J,Z,Q){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"sectionName");var ne=M(J,Z);if(-1!==ne){var le=J.pods[ne];_.isEmpty(le.parameters)&&(le.type=0),le.type=Q}}function R(J,Z){return u.fF.assertValue(Z,"filterName"),J&&J.parameters?_.findIndex(J.parameters,Q=>Q.boundFilter===Z):-1}function U(J,Z,Q,ne){return u.fF.assertValue(ne,"acceptsFilterContextKind"),E(J,Z)||z(J,Z,Q,ne)}function z(J,Z,Q,ne){u.fF.assertValue(J,"exploration"),u.fF.assertValue(Z,"sectionName"),J.pods||(J.pods=[]);var le={name:q(J.pods),boundSection:Z,parameters:[],type:0,referenceScope:Q,config:{acceptsFilterContext:ne}};return J.pods.push(le),u.fF.assert(()=>(0,e.iv)(J.pods),"pod names must be unique"),le}function j(J,Z,Q,ne){var le=J.pods[Z];_.isEmpty(le.parameters)&&(le.type=0),!le.cortanaEnabled&&_.isEmpty(le.parameters)&&0===le.config.acceptsFilterContext&&0===le.referenceScope&&(ne?Q.get(J.reportId,le.name).then(he=>{(!he||_.isEmpty(he.words))&&H(J,Z)}):H(J,Z))}function H(J,Z){J.pods.splice(Z,1),0===J.pods.length&&(J.pods=void 0)}function q(J){var Z=_.map(J,ne=>ne.name),Q=_.zipObject(Z,_.map(Z,()=>!0));return t.q.generateUniqueId(Q)}},972163:function(Ce,k,r){function a(t){var C={};for(var y of t.sections)for(var i of(C[y.name]={},y.visualContainers))if(i.config.singleVisual){var o=i.config.singleVisual;C[y.name][i.name]={visualType:o.visualType,autoSelectVisualType:o.autoSelectVisualType,projections:o.query?e(o.query,!0):void 0}}return C}function e(t,C){var y={},i=t.defn.select();if(!i)return y;for(var o in t.projections){var c=t.projections[o];if(c){y[o]=[];for(var h=c.all(),d=0;d<h.length;d++){var n=c.convertProjectionIndexToFieldIndex(d),s=i.withName(h[d].queryRef);s&&(c.doesParameterExist(n)||C)?y[o].push(s.expr):y[o].push(null)}}}return y}function u(t){var y;if(!t.defn.select())return y;for(var i in t.projections){var o=t.projections[i];if(o){var c=_.sortBy(o.getFieldParameters(),p=>p.index);if(!_.isEmpty(c))for(var h of(y||(y={}),y[i]=[],c)){var{expr:d,index:n,length:s}=h;y[i].push({expr:d,index:n,length:s})}}}return y}r.d(k,{Jc:function(){return a},rl:function(){return e},xF:function(){return u}})},146556:function(Ce,k,r){r.d(k,{o:function(){return e}});var a=r(939123);class e{constructor(t){this.container=t,this.context={pendingGeocodingCount:0}}newQuery(t){var C=0!==this.context.pendingGeocodingCount,y=this.context.geocodingActivity;this.context={pendingGeocodingCount:0,rootActivity:t},C&&(y&&y.cancel(!0),this.container.onStopGeocoding())}hasPendingGeocoding(){return this.context.pendingGeocodingCount>0}wrapGeocoder(t){return{geocode:this.wrapAsyncGeocoderMethod(t,t.geocode),geocodeBoundary:this.wrapAsyncGeocoderMethod(t,t.geocodeBoundary),geocodePoint:this.wrapAsyncGeocoderMethod(t,t.geocodePoint),tryGeocodeImmediate:(C,y,i,o,c,h)=>t.tryGeocodeImmediate(C,y,i,o,c,h),tryGeocodeBoundaryImmediate:(C,y,i,o,c)=>t.tryGeocodeBoundaryImmediate(C,y,i,o,c)}}wrapAsyncGeocoderMethod(t,C){return(...y)=>{var i=this.context,o=C.apply(t,y);1==++i.pendingGeocodingCount&&(this.context.rootActivity&&(this.context.geocodingActivity=this.context.rootActivity.createChildActivity({name:"Geocoding"})),this.container.onStartGeocoding());var c=()=>{i===this.context&&--i.pendingGeocodingCount<=0&&(a.fF.assert(()=>0===i.pendingGeocodingCount,"requestContext.pendingGeocodingCount underflow"),this.context.geocodingActivity&&this.context.geocodingActivity.resolve(),this.container.onStopGeocoding())};return o.then(c,c),o}}}},819185:function(Ce,k,r){r.d(k,{KI:function(){return e},cI:function(){return u},pp:function(){return a}});var a=function(t){return t.AlertCreationRequested="AlertCreationRequested",t.AlertCreationInProgress="AlertCreationInProgress",t.AlertCreationCompleted="AlertCreationCompleted",t}({}),e=function(t){return t[t.PBIToolbar=0]="PBIToolbar",t[t.VisualContextMenu=1]="VisualContextMenu",t[t.VisualRightClickMenu=2]="VisualRightClickMenu",t[t.VisualAlertButton=3]="VisualAlertButton",t[t.VisualFollowButton=4]="VisualFollowButton",t[t.PBIToolbarV2=5]="PBIToolbarV2",t[t.VisualContextMenuV2=6]="VisualContextMenuV2",t[t.VisualRightClickMenuV2=7]="VisualRightClickMenuV2",t[t.VisualAlertButtonV2=8]="VisualAlertButtonV2",t[t.TrialProvisioningV2=9]="TrialProvisioningV2",t}({});class u{static getReflexPaneState(){return this.reflexPaneState}static setReflexPaneState(C=void 0){this.reflexPaneState=C}static getReflexPaneEntryPoint(){return this.reflexPaneEntryPoint}static setReflexPaneEntryPoint(C=void 0){this.reflexPaneEntryPoint=C}static isAlertSupportedVisual(C){return["columnChart","dataDotStackedColumnComboChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","clusteredColumnChart","dataDotClusteredColumnComboChart","lineClusteredColumnComboChart","barChart","hundredPercentStackedBarChart","clusteredBarChart","ribbonChart","lineChart","realTimeLineChart","areaChart","stackedAreaChart","hundredPercentStackedAreaChart","pieChart","donutChart","gauge","card","kpi","map","filledMap","azureMap","tableEx","pivotTable","treemap","funnel","decompositionTreeVisual","multiRowCard","cardVisual"].includes(C)}}},2063:function(Ce,k,r){r.d(k,{Hg:function(){return t},eI:function(){return y},oo:function(){return C},x_:function(){return u},yf:function(){return i}});var a=r(939123),e=r(527799);function u(o,c,h){return(0,e.x_)(o,c,h)}function t(o,c,h){var d=y(o);return(0,e.NM)(d,c,h)}function C(o){var c=o.publicCustomVisuals;return c||(o.publicCustomVisuals=c=[]),c}function y(o){var c=o.resourcePackages;return c||(o.resourcePackages=c=[]),c}function i(o,c,h=!1){if(!_.isEmpty(c)&&!_.isEmpty(o)){var d=function(s){var p=(0,e.pd)(o,s.type,s.name);if(p){a.fF.assertValue(p.id,"ID should exist in new resource package"),a.fF.assert(()=>3===s.type||s.id!==p.id,"Every time we save a resource package it's erased and re-added into the database, which means the ids must differ except for OrganizationalStoreCustomVisual"),s.id=p.id;var l=function(b){var V=(0,e.NW)(p,b.name);V&&(a.fF.assertValue(V.id,"ID should exist in new resource package item"),a.fF.assert(()=>3===s.type||b.id!==V.id,"Every time we save a resource package item it's erased and re-added into the database, which means the ids must differ except for OrganizationalStoreCustomVisual"),b.id=V.id,h&&(b.path=V.path))};for(var m of s.items)l(m)}};for(var n of c)d(n)}}},412815:function(Ce,k,r){r.d(k,{$:function(){return d},v:function(){return o}});var a=r(953474),e=r(257738),u=r(673107),t=r(939123),C=r(895127),y=r(528836),i=r(269556);function o(s){t.fF.assertValue(s,"changes");var p=[],l=function(b){b.measureMove&&p.push(new d((0,u.dq)(b.measureMove))),b.entityRename&&p.push(new d((0,u.Db)(b.entityRename))),b.propertyRename&&p.push(new d((0,u.Tq)(b.propertyRename))),b.hierarchyLevelRename&&p.push(new d((0,u.Ui)(b.hierarchyLevelRename))),b.removeVariation&&p.push(new n(new h(b.removeVariation),b.removeVariation)),b.newMeasureCreated&&_.find(s,function(V){return V.itemDelete&&V.itemDelete.property===b.newMeasureCreated.name&&V.itemDelete.entity===b.newMeasureCreated.entity&&V.itemDelete.schema!==b.newMeasureCreated.schema})&&p.push(new d((0,u.if)(b.newMeasureCreated)))};for(var m of s)l(m);return p}function c(s,p){t.fF.assertValue(s,"expr");var l=(0,C.Q)(s);return l.columnHierarchyLevelVariation&&l.columnHierarchyLevelVariation.source.entity===p.entity&&l.columnHierarchyLevelVariation.source.schema===p.schema&&l.columnHierarchyLevelVariation.source.name===p.property&&l.columnHierarchyLevelVariation.variationName===p.name}class h extends i.b{constructor(p){t.fF.assertValue(p,"change"),super(),this.change=p}visitHierarchyLevel(p){return c(p,this.change)?new y.Wh(new y.PN(this.change.schema,this.change.entity),this.change.property):p}}class d{constructor(p){this.exprRewriter=p}rewriteQuery(p){var l=p.defn;l=l.rewrite(this.exprRewriter),p.defn=l,p.expansionStates=_.map(p.expansionStates,V=>V.rewrite(this.exprRewriter));var m=p.getQueryFieldParameters();if(!_.isEmpty(m))for(var b of m)b.expr=b.expr.accept(this.exprRewriter);return p}rewriteFilter(p){return p.rewrite(this.exprRewriter)}rewriteExpr(p){return p.accept(this.exprRewriter)}}class n{constructor(p,l){this.exprRewriter=p,this.change=l}rewriteQuery(p){this.removeDuplicateSQHierarchyLevelExpr(p);var l=p.defn;return l=l.rewrite(this.exprRewriter),p.defn=l,p.expansionStates=_.map(p.expansionStates,m=>m.rewrite(this.exprRewriter)),p}rewriteFilter(p){return p.rewrite(this.exprRewriter)}rewriteExpr(p){return p.accept(this.exprRewriter)}removeDuplicateSQHierarchyLevelExpr(p){for(var l=p.defn.select(),m=0;m<l.length;){var b=l[m];if(m++,(0,a.ez)(b.expr)&&c(b.expr,this.change))for(;m<l.length&&(0,a.ez)(l[m].expr)&&(0,e.fS)(b.expr.arg,l[m].expr.arg);)p.removeExpr(l[m].expr,!1),m++}}}},224015:function(Ce,k,r){function e(o,c){var h=[];if(!o||!o.visualContainers)return h;for(var d of o.visualContainers)c.addScriptVisualInfo(d,h);return h}function u(o,c){var h={totalVisualsCount:0,info:[]};if(!o||!o.sections)return h;for(var d of o.sections)if(d.visualContainers){var n=e(d,c);h.info=h.info.concat(n),h.totalVisualsCount+=d.visualContainers.length}return h}function t(o,c,h,d,n){var s=[];switch(o){case 0:if(!d)return s;n.addScriptVisualInfo(d,s);break;case 1:s=e(h,n);break;case 2:if(!c)return s;for(var p of c.sections){var l=e(p,n);s=s.concat(l)}break;default:return s}return s}function C(o,c){for(var h of o)if(h&&h.config&&h.config.singleVisual){var d=h.config.singleVisual.visualType;if(d&&c.isScriptVisual(d))return!0}return!1}function y(o){switch(o){case"scriptVisual":return 0;case"pythonVisual":return 1;default:return null}}r.d(k,{OV:function(){return C},R2:function(){return t},aG:function(){return e},kV:function(){return u},lX:function(){return y}})},416762:function(Ce,k,r){r.d(k,{X:function(){return o},eN:function(){return t},gs:function(){return i},sk:function(){return C},x8:function(){return y}});var a=r(939123),e=r(187220),u=r(159214);function t(c){return a.fF.assertValue(c,"section"),!!c.dynamicConfig?.quickExplore}function C(c){return _.some(c,h=>t(h))}function y(c){var h=c?.dynamicConfig?.quickExplore?.layout;if(h){if(h.combination)return`Combination.${h.combination.version}`;if(h.related)return`Related.${h.related.version}`}}function i(c,h){var d=_.flatMap(h,n=>n.visualContainerGroups);_.isEmpty(d)||(0,e.Iw)(c.visualContainerGroups,n=>{var s=(0,u.yZ)(d);n.name=s,d.push(n)})}function o(c){function h(n,s){var p=s.howCreated??"Default";n[p]||(n[p]=0),n[p]++}return a.fF.assertValue(c,"sections"),function(){var n={};for(var s of c)h(n,s);return n}()}},776717:function(Ce,k,r){r.d(k,{W:function(){return e}});var a=r(953474);class e{constructor(t){this.key=[],this.value=[],this.comparer=t}add(t,C){this.key.push(t),this.value.push(C)}get(t){if((0,a.ez)(t))for(var C=0;C<this.key.length;C++)if(this.comparer(this.key[C],t))return this.value[C]}}},544279:function(Ce,k,r){r.d(k,{DC:function(){return g},Mi:function(){return V},TO:function(){return m},Xf:function(){return S}});var a=r(831584),e=r(939123),u=r(969143),t=r(678023),C=r(347293),y=r(571627),i=r(691519),o=r(886137),c="CY18SU07",h="CY24SU10",d={CY17SU10:o.H3n.v3_6,CY17SU12:o.H3n.v3_7,CY18SU04:o.H3n.v3_12,CY18SU07:o.H3n.v3_15,CY19SU06:o.H3n.v5_3,CY19SU12:o.H3n.v5_6,CY20SU07:o.H3n.v5_13,CY20SU09:o.H3n.v5_15,CY21SU02:o.H3n.v5_18,CY21SU03:o.H3n.v5_19,CY21SU04:o.H3n.v5_20,CY21SU07:o.H3n.v5_24,CY21SU11:o.H3n.v5_27,CY22SU03:o.H3n.v5_30,CY22SU08:o.H3n.v5_35,CY22SU09:o.H3n.v5_37,CY22SU11:o.H3n.v5_40,CY23SU04:o.H3n.v5_43,CY23SU08:o.H3n.v5_47,CY23SU11:o.H3n.v5_49,CY24SU02:o.H3n.v5_51,CY24SU05:o.H3n.v5_54,CY24SU06:o.H3n.v5_55,CY24SU08:o.H3n.v5_57,CY24SU10:o.H3n.v5_59};function m(P){return e.fF.assertValue(P,"baseThemeName should exist to get its version"),d[P]||o.H3n.v3_6}function V(P,D,M){return(0,a.M)(P,D,M||i.L)}function g(P){return{name:P&&P.featureSwitches&&P.featureSwitches.useNewCY19SU06BaseTheme?h:c,version:i.L,type:2}}function S(P,D,M){var E=P.themeCollection,x=P.objects,N=D.getVisualObjects(E,C.rw,void 0,y.W);N&&(x=(0,u.d9)(x||{}),(0,u.l7)(x,N));var L=D.getVisualStyle(E),B=(0,t.G3)(x,y.W,L,M);P.evaluatedObjects=B.dataViewObjects}},844489:function(Ce,k,r){r.d(k,{L7:function(){return m},OB:function(){return n},hQ:function(){return s},mZ:function(){return b}});var a=r(953474),e=r(257738),u=r(804616),t=r(13541),C=r(939123),y=r(737466),i=r(569276),o=r(988206),c=r(969143),h=r(528836),d=r(960196);function n(E,w,x,N,L){if(C.fF.assertAnyValue(w,"mappings"),C.fF.assertValue(x,"query"),C.fF.assertValue(N,"transformPluginService"),C.fF.assertValue(L,"visualCapabilities"),!E)return x;var B=[],I=L.objects,W=function(U){var z=I[U],j=function(q){if(z.properties[q].type.queryTransform){var G=_.filter(E[U],J=>function(E,w){if(!E.selector||!_.isString(E.selector.metadata))return!0;var x=w.projections;if(!x)return!1;for(var N in x){var L=x[N];if(L){var B=L.all();if(B)for(var I of B)if(I.queryRef===E.selector.metadata)return!0}}return!1}(J,x));B.push(..._.map(G,J=>({objectName:U,propertyName:q,object:J})))}};for(var H in z.properties)j(H)};for(var O in I)W(O);if(_.isEmpty(B))return x;var F=x.clone();for(var A of B){var T=(0,c.NA)(E,{objectName:A.objectName,propertyName:A.propertyName},A.object.selector);if(T&&p(T.algorithm,w)){var R=N.getTransformPlugin(T.algorithm);F.addTransform(R,T.parameters,L)}}return F}function s(E,w,x){C.fF.assertValue(E,"transformPluginService"),C.fF.assertValue(w,"query"),C.fF.assertAnyValue(x,"compiledMappings");var N=w.defn.transforms();if(_.isEmpty(N))return w;var L=w.clone();for(var B of N)if(!p(B.algorithm,x)){var I=E.getTransformPlugin(B.algorithm);L.removeTransform(I,B.name)}return L}function p(E,w){switch(E){case u.Gr.Forecast.name:return w.some(x=>(0,o.ZZ)(x));case u.Gr.SampleAndDetectAnomaly.name:return w.some(x=>(0,o.VO)(x));default:return!0}}function m(E,w,x,N,L,B,I){C.fF.assertValue(w,"query"),C.fF.assertAnyValue(N,"dataRoles"),C.fF.assertValue(L,"queryRefsByRole"),C.fF.assertAnyValue(B,"additionalProjections"),C.fF.assertValue(I,"compiledMappings");var W=w.transforms();if(_.isEmpty(W))return w;var O=w.select();if(_.isEmpty(O))return w;for(var{transformSelects:F,topLevelSelects:A}=function(E,w,x,N,L){C.fF.assertValue(E,"query"),C.fF.assertValue(w,"projections"),C.fF.assertAnyValue(x,"dataRoles"),C.fF.assertValue(N,"queryRefsByRole"),C.fF.assertAnyValue(L,"additionalProjections");var B=[],I=[],W=E.select(),O=function(T){if((0,a.Im)(T.expr))return B.push(T),0;var R=Object.keys(N),U=_.filter(R,q=>_.includes(N[q],T.name));if(!_.isEmpty(U)){var z=!1;for(var j of U)if(!w[j].activeProjectionRefs||_.includes(w[j].activeProjectionRefs,T.name)){B.push(T),z=!0;break}return z||I.push(T),0}if(!_.isEmpty(L)){var H=_.find(L,q=>q.queryName===T.name);H&&H.selector&&H.selector.data?B.push(T):I.push(T)}};for(var A of W)O(A);return{transformSelects:B,topLevelSelects:I}}(w,x,N,L,B),T=[],R=0;R<W.length;R++){var U=W[R],z=E.getTransformPlugin(U.algorithm),j="input"+R,H="output"+R;U.input.parameters=M(U.input.parameters,I);var q={algorithm:U.algorithm,name:U.name,input:{parameters:U.input.parameters,table:{name:j,columns:g(F,L,N,z,I)}},output:{table:{name:H,columns:f(F,j,x)}}};F=_.map(q.output.table.columns,he=>{var Se=(0,h.Oh)((0,h.GB)(H),he.expression.name);return{name:he.expression.name,expr:Se}}),T.push(q)}var Z,G=_.last(T),J=w.orderBy();G&&!_.isEmpty(J)&&(Z=_.map(J,he=>{var Se=_.find(O,Ge=>(0,e.fS)(Ge.expr,he.expr));C.fF.assertValue(Se,"orderby clause not found in selects");var Ke=(0,h.Oh)((0,h.GB)(G.output.table.name),Se.name);return{direction:he.direction,expr:Ke}}));var Q=w.transforms(T);if(!_.isEmpty(A)){var ne=function(he){var Se=_.findIndex(O,Ke=>Ke.name===he.name);C.fF.assert(()=>Se>=0,"Should be able to find the select in topLevelSelects"),F.splice(Se,0,he)};for(var le of A)ne(le)}return Q=Q.select(F),Z&&(Q=Q.orderBy(Z)),Q}function b(E,w){if(C.fF.assertValue(E,"query"),_.isEmpty(E.transforms())||_.isEmpty(E.select()))return E;var x=[];return _.map(E.select().slice(0,w),N=>{if((0,a.t3)(N.expr)&&(0,a.PA)(N.expr.source)){var L=N.expr.source.source,B=_.find(E.transforms(),W=>W.output.table?.name===L);if(B){var I=function(E,w){C.fF.assertValue(E,"sqTransform"),C.fF.assertValue(E.output.table,"sqTransform.output.table"),C.fF.assertValue(w,"refToOutputColumn");var x=_.find(E.output.table.columns,B=>B.expression.name===w.ref);if(x){var N=x.expression.expr;if((0,a.t3)(N)){var L=_.find(E.input.table?.columns,B=>B.expression?.name===N.ref);return L?.expression.expr}}}(B,N.expr);I&&!(0,a.Im)(I)&&x.push({name:N.name,expr:I})}}else x.push(N)}),E.createModified({select:x,transforms:null})}function g(E,w,x,N,L){C.fF.assertValue(E,"selects"),C.fF.assertValue(w,"queryRefsByRole"),C.fF.assertAnyValue(x,"dataRoles"),C.fF.assertValue(N,"transformPlugin"),C.fF.assertValue(L,"compiledMappings");var B=_.filter(E,W=>!(0,a.Im)(W.expr)),I=function(E){var w,x;for(var N of E){if(N.categorical){var B=N.categorical.categories;_.isEmpty(B)||(0,i.Sr)(B,{visitRole:I=>{var W=_.find(I.items,O=>O.scalarKeyInfo?.scalarKeyMinProperty);W&&(w=I.role,x=W.scalarKeyInfo.scalarKeyQueryName)}})}if(w&&x)return{roleName:w,queryName:x}}}(L);return _.map(B,W=>function(E,w,x,N,L){var B=Object.keys(x),I=E.name===w?.queryName,W=I?w.roleName:_.find(B,A=>_.includes(x[A],E.name)),O=_.find(N,A=>A.name===W);return{role:(null==w?null!=O:I||null!=W&&W!==w.roleName)?D(E.expr,L,O):void 0,expression:E}}(W,I,w,x,N))}function f(E,w,x){C.fF.assertValue(E,"selects"),C.fF.assertValue(w,"inputTableName"),C.fF.assertValue(x,"projections");var N={};for(var L of E)(0,a.Im)(L.expr)||(N[L.name]=!0);return _.map(E,B=>{var I,W,O;if((0,a.Im)(B.expr)){var F;for(var A in x){var T=x[A].all();_.some(T,R=>R.queryRef===B.name)&&(F=A)}C.fF.assertValue(F,"should be able to find the role in projections"),I=F,W=B.expr,O=(0,y.zE)(N,B.name)}else W=(0,h.Oh)((0,h.GB)(w),B.name),O=B.name;return{role:I,expression:{name:O,expr:W}}})}function D(E,w,x){C.fF.assertValue(w,"transform"),C.fF.assertAnyValue(x,"visualDataRole");var N=_.find(w.inputRoles,L=>{C.fF.assertValue(L,"transform.inputRoles should not contain undefined/null roles");var B=L.visualDataRoleMatching;return!B||!(void 0!==B.cartesianKind&&B.cartesianKind!==x.cartesianKind||void 0!==B.matchGrouping&&B.matchGrouping===(0,d.k)(E)||void 0!==B.matchMeasure&&B.matchMeasure!==(0,d.k)(E)||B.skipJoinPredicateNone&&0===x.joinPredicate)});if(N)return N.name}function M(E,w){C.fF.assertValue(E,"parameters"),C.fF.assertValue(w,"compiledMappings");var x=_.find(w,B=>(0,o.VO)(B));if(x){var N=x.categorical.dataReductionAlgorithm.binnedLineSample.warningCount,L=t.oN;N&&!_.find(E,B=>B.name===L)&&E.push({name:L,expr:(0,h.cA)(N)})}return E}},258762:function(Ce,k,r){r.d(k,{L:function(){return u}});var a=r(528836),e=r(269556);class u extends e.b{constructor(C){super(),this.schema=C}visitEntity(C){var y=this.getVariationMapping(C);return y?new a.PN(C.schema,y.sourceEntity.name):C}visitColumnRef(C){var y=C.source.accept(this);if(y!==C.source){var i=this.getVariationMapping(C.source);if(i){var o=_.find(i.variation.defaultHierarchy.levels,c=>c.column.name===C.ref);if(o)return new a.vD(new a.jE(new a.c7(y,i.variation.name,i.sourceProperty.name),i.variation.defaultHierarchy.name),o.name)}}return C}getVariationMapping(C){var y=this.schema.schema(C.schema).findVariationToHierarchyMappings(C.entity);if(y)return _.last(y)}}},543967:function(Ce,k,r){r.d(k,{MF:function(){return x},Me:function(){return g},Nu:function(){return N},Oe:function(){return V},SZ:function(){return L},V:function(){return b},Vd:function(){return m},YN:function(){return v},cf:function(){return E},sS:function(){return n},vw:function(){return I}});var a=r(722709),e=r(939123),u=r(132640),t=r(969143),C=r(129535),y=r(571619),i=r(791108),o=r(670808),c=r(528836),h=r(939349),d=r(776073);function n(W,O){if(e.fF.assertAnyValue(W,"dataSelectors"),_.isEmpty(W))return W;var F=(0,a.UU)(W,A=>(0,u.yN)(A)?s(A,O):(0,u.QV)(A)?function(W,O){e.fF.assertValue(W,"scopeWildcard");var F=(0,a.UU)(W.exprs,A=>x(A,O));return F!==W.exprs?(0,o.ms)(F):W}(A,O):(0,u.j9)(A)||(0,u.qm)(A)?A:(0,u.tQ)(A)?function(W,O){e.fF.assertValue(W,"scopeTotal");var F=(0,a.UU)(W.exprs,A=>x(A,O));return F!==W.exprs?(0,i.ms)(F):W}(A,O):(e.fF.assertFail("Unknown selector type"),A));return F}function s(W,O){e.fF.assertValue(W,"scopeIdentity");var F=x(W.expr,O);return F!==W.expr?(0,y.TZ)(F):W}function m(W,O){}function b(W,O){M(W,O)}function V(W,O){M(W,O)}function g(W,O,F){e.fF.assertValue(W,"objects"),e.fF.assertValue(O,"descriptors");var A=(0,C.MD)(O);if(A){var T=(0,t.ug)(W,A,null);if(T){var R=A.propertyName,U=T[R];if(U){for(var z of F)U=z.rewriteFilter(U);T[R]=U}}}}function v(W,O,F){function A(j){var H=T(j.value);return{textStyle:j.textStyle,url:j.url,value:H,mentionEmail:j.mentionEmail}}function T(j){var H=j;return H instanceof c.Il&&(H=z(H,F)),H}function U(j){return{textRuns:_.map(j.textRuns,q=>A(q))}}function z(j,H){for(var q of(e.fF.assertNonEmpty(H,"rewriters"),e.fF.assertValue(j,"rewriters"),H))j=q.rewriteExpr(j);return j}W&&O&&!_.isEmpty(F)&&(0,t.rQ)(W,O,(j,H,q,G,J)=>{var Z=J&&J.properties[H],Q=j[H];if(Q instanceof c.Il)for(var ne of F)Q=ne.rewriteExpr(Q);else if((0,t.er)(Q))for(var le of F){if(!_.isEmpty(Q.context?.filterContext))for(var he of Q.context.filterContext)he.filter=le.rewriteFilter(he.filter);Q.value=le.rewriteExpr(Q.value)}else{var Se=Z.type;if(Se.fill&&Se.fill.solid&&Se.fill.solid.color){if(!(0,d.X2)(Q))return;var Ke=Q.solid.color;if(!Ke)return;var Ge=Ke;(Ke=z(Ke,F))!==Ge&&(Q={solid:{color:Ke}})}else if(Se.paragraphs){if(!(0,d.Fq)(Q)||!function(W,O){for(var F of W){var A=F.textRuns;for(var T of A)if((0,h.IM)(T)){if(S(T.value,O))return!0}else if((0,h.Kt)(T)){for(var R of T.cases)if(P(R,O))return!0;if(D(T.defaultCase,O)||S(T.expression,O))return!0}else e.fF.assertNever(T)}return!1}(Q,F))return;Q=_.map(Q,Ue=>({horizontalTextAlignment:Ue.horizontalTextAlignment,textRuns:_.map(Ue.textRuns,Je=>{if((0,h.IM)(Je))return A(Je);if((0,h.Kt)(Je)){var De=_.map(Je.cases,te=>function(j){var H=j.pattern;return H instanceof c.Il&&(H=z(H,F)),{pattern:H,...U(j)}}(te));return{cases:De,defaultCase:U(Je.defaultCase),expression:T(Je.expression)}}e.fF.assertNever(Je)})}))}else if(Se.icon){if(!(0,d.r)(Q))return;var ye={kind:"Icon",value:Q.value?z(Q.value,F):Q.value,layout:Q.layout?z(Q.layout,F):Q.layout,verticalAlignment:Q.verticalAlignment?z(Q.verticalAlignment,F):Q.verticalAlignment};(Q.value!==ye.value||Q.layout!==ye.layout||Q.layout!==ye.layout)&&(Q=ye)}else if(Se.errorRange){if(!(0,d.ZG)(Q))return;var we={kind:"ErrorRange"};if(Q.explicit){var je=Q.explicit,de=we.explicit={isRelative:z(je.isRelative,F)};je.lowerBound&&(de.lowerBound=z(je.lowerBound,F)),je.upperBound&&(de.upperBound=z(je.upperBound,F))}else if(Q.symmetricalExplicit)we.symmetricalExplicit={delta:z(Q.symmetricalExplicit.delta,F)};else if(Q.standardDeviation){var Pe=Q.standardDeviation;we.standardDeviation={value:z(Pe.value,F),multiplier:z(Pe.multiplier,F)}}else if(Q.percentage){var Ve=Q.percentage;we.percentage={lowerBoundDelta:z(Ve.lowerBoundDelta,F),upperBoundDelta:z(Ve.upperBoundDelta,F)}}else if(Q.percentile){var Ze=Q.percentile;we.percentile={lowerBound:z(Ze.lowerBound,F),upperBound:z(Ze.upperBound,F)}}Q=we}}j[H]=Q})}function S(W,O){if(W instanceof c.Il){var F=W;for(var A of O)if((F=A.rewriteExpr(F))!==W)return!0}}function P(W,O){if(D(W,O)||S(W.pattern,O))return!0}function D(W,O){for(var F of W.textRuns)if(S(F.value,O))return!0}function M(W,O){var F=W.expression,A=W.filter,T=W.cachedValueItems;F&&(W.expression=x(F,O)),A&&(W.filter=function(W,O){return _.reduce(O,(F,A)=>A.rewriteFilter(F),W)}(A,O)),T&&E(T,O)}function E(W,O){for(var F of W){var A=s(F.identity,O);A!==F.identity&&(F.identity=A)}}function x(W,O){return _.reduce(O,(F,A)=>A.rewriteExpr(F),W)}function N(W,O){var F=W.fieldExpr;e.fF.assertValue(F,"link field expression should always exist"),W.fieldExpr=x(F,O)}function L(W,O){if(!_.isEmpty(W.parameters))for(var F of W.parameters)F.fieldExpr&&(F.fieldExpr=x(F.fieldExpr,O))}function I(W,O){W.expressions=(0,a.UU)(W.expressions,F=>x(F,O)),W.cachedValueItems&&function(W,O){for(var F of W)F.identities=(0,a.UU)(F.identities,A=>s(A,O))}(W.cachedValueItems,O)}},758793:function(Ce,k,r){r.d(k,{A:function(){return C}});var a=r(722709),e=r(939123),u=r(543967);class t{visitActiveProjectionStates(i){}visitDataViewObjectDefinitionUpdates(i,o){}visitFilterContainer(i){}visitOrderByStates(i){}visitSelector(i){}visitSelectorsByColumn(i){}visitSingleVisualState(i){}visitVisualContainerState(i){}visitFilterExpressionMetadata(i){}}class C extends t{constructor(i){super(),this.rewriters=i,e.fF.assertValue(i,"rewriters")}visitActiveProjectionStates(i){_.forOwn(i,(o,c)=>{var h=o.map(d=>(0,u.MF)(d,this.rewriters));i[c]=h})}visitFilterContainer(i){(0,u.Oe)(i,this.rewriters)}visitDataViewObjectDefinitionUpdates(i,o){var c=i.merge;c&&((0,u.Me)(c,o,this.rewriters),(0,u.YN)(c,o,this.rewriters))}visitOrderByStates(i){for(var o of i)o.expr=(0,u.MF)(o.expr,this.rewriters)}visitSelector(i){var o=(0,u.sS)(i.data,this.rewriters);o!==i.data&&(i.data=o)}visitSelectorsByColumn(i){var o=(0,a.X_)(i.dataMap,(c,h)=>(0,u.sS)(h,this.rewriters));o!==i.dataMap&&(i.dataMap=o)}visitFilterExpressionMetadata(i){(0,u.vw)(i,this.rewriters)}}},159214:function(Ce,k,r){r.d(k,{$Z:function(){return te},A8:function(){return cr},AS:function(){return Z},As:function(){return ke},DB:function(){return xr},Dl:function(){return Rt},EL:function(){return ht},Fk:function(){return Dt},GQ:function(){return ue},Hf:function(){return R},Hr:function(){return Ve},II:function(){return he},J6:function(){return De},L2:function(){return Ae},LW:function(){return st},M2:function(){return Re},Ml:function(){return Ke},Mo:function(){return At},NY:function(){return rr},O$:function(){return wt},OQ:function(){return Ie},P4:function(){return Ee},PQ:function(){return le},PY:function(){return J},Pb:function(){return Ye},Pu:function(){return rt},QG:function(){return Nt},Qg:function(){return _e},Rr:function(){return fe},S5:function(){return se},VH:function(){return $e},Wu:function(){return Ct},X:function(){return Me},Xf:function(){return ne},Z2:function(){return Kt},Z6:function(){return ze},ZB:function(){return ae},Zq:function(){return j},_9:function(){return et},_L:function(){return Pt},a8:function(){return Ht},cj:function(){return we},d$:function(){return je},dw:function(){return zr},e4:function(){return Ne},fo:function(){return be},gj:function(){return Pr},h4:function(){return Xt},hP:function(){return me},hp:function(){return Qt},hs:function(){return Q},i1:function(){return Qe},i4:function(){return vr},iv:function(){return Le},jW:function(){return Lt},jt:function(){return St},kK:function(){return ee},kT:function(){return dr},lX:function(){return Vt},lt:function(){return Rr},o3:function(){return ir},o8:function(){return G},oE:function(){return ye},oJ:function(){return Se},oU:function(){return bt},pf:function(){return pr},ps:function(){return Ue},qd:function(){return re},ql:function(){return jr},r:function(){return Ut},rC:function(){return Bt},s9:function(){return ve},tL:function(){return X},uQ:function(){return de},uo:function(){return lr},uy:function(){return _r},uz:function(){return H},vr:function(){return Xe},vz:function(){return pt},ww:function(){return Je},x3:function(){return Ze},y3:function(){return Pe},y9:function(){return He},yZ:function(){return Te}});var a=r(883803),e=r(792375),u=r(885825),t=r(982275),C=r(666058),y=r(463822),i=r(531905),o=r(913615),c=r(96795),h=r(712834),d=r(722709),n=r(547586),s=r(939123),p=r(100120),l=r(845856),m=r(397129),b=r(454865),V=r(613694),g=r(919439),v=r(179962),f=r(969143),S=r(678023),P=r(517273),D=r(221435),M=r(926406),E=r(187220),w=r(704731),x=r(465283),N=r(692699),L=r(953474),B=r(960196),I=r(688574),W=r(367014),O=r(680497),F=12,A="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",R="largeTitle",j="lightLabel",H="foreground",q=m.FP.toPoint(F),G={size:c.B.createFromPt(q),family:A,color:"#C8C8C8"},J=D.wv,Z=D.k8,Q=function(ft){return ft[ft.Title=0]="Title",ft[ft.SubTitle=1]="SubTitle",ft[ft.Divider=2]="Divider",ft}({});function ne(ft){return ft&&ft.config&&ft.config.singleVisual?ft.config.singleVisual.query:null}function le(ft){return ft&&ft.config&&ft.config.singleVisual}function he(ft){return ft?.config?.singleVisual?.autoSelectVisualType}function Se(ft){var Et=ne(ft);if(Et)return Et.defn.select()}function Ke(ft){var Et=ne(ft);if(Et)return Et.projections}function Ge(ft,Et){if(ft&&Et){var It=Et.getPlugin(ft);if(It)return It.capabilities}}function ye(ft,Et){return Ge(ft&&ft.config&&ft.config.singleVisual?ft.config.singleVisual.visualType:null,Et)}function we(ft,Et){return Ge((0,N.s)(ft),Et)}function je(ft,Et){var It=we(ft,Et);if(It&&!_.isEmpty(It.dataRoles))return It.dataRoles}function de(ft,Et,It){if(ft)return It||"UserAction_ChangeModel"===Et||"UserAction_Refresh"===Et?g.P.BypassCache:g.P.Default}function Pe(ft,Et){return(0,W.p)(ft.config.singleVisual.query,Et)}function Ve(ft){if(ft.config&&ft.config.singleVisual){var Et=ft.config.singleVisual;Et&&Et.query&&Et.query.hasShowAll()&&(Et.queryOptions=Et.queryOptions||{},Et.queryOptions.keepProjectionOrder=!0)}}function Ze(ft){if(ft){var Et=ft.capabilities;if(Et&&!_.isEmpty(Et.dataRoles))return Et.dataRoles}}function Ue(ft,Et,It){var kt=we(ft,Et);if(kt){var Jt=ne(ft);if(Jt)return(0,x.F)().create(kt,It,Jt.isDrillDisabled).getNumberRangesForRoles(Jt)}}function Je(ft,Et){var It=(0,N.s)(ft);return Et&&Et.isScriptVisual(It)}function De(ft){if([I.D.lineChart,I.D.areaChart,I.D.stackedAreaChart,I.D.hundredPercentStackedAreaChart,I.D.barChart,I.D.clusteredBarChart,I.D.hundredPercentStackedBarChart,I.D.columnChart,I.D.clusteredColumnChart,I.D.hundredPercentStackedColumnChart,I.D.lineClusteredColumnComboChart,I.D.lineStackedColumnComboChart].indexOf(ft.visualType)>=0){var It=ft.query?.projections;if(It&&It[o.xV.rows]&&It[o.xV.rows].all().length>0)return!0}return!1}function ue(ft){return ft.config?.singleVisual?.objects}function _e(ft){return ft.config&&ft.config.singleVisual&&ft.config.singleVisual.vcObjects}function te(ft,Et,It){var kt=ft.config.singleVisual.query.projections[Et],Jt=kt.convertFieldIndexToProjectionIndex(It),it=kt.all()[Jt];return s.fF.assertValue(it,"items[projectionIndex]"),it.queryRef}function ke(ft,Et,It,kt,Jt,er,it){if(It){var K=It.defn.select(),Y=It.projections,xe=[],yt=[],Tt=Qe(It),qt=(0,v.Lo)(It.projections,Jt.dataViewMappings,Tt,er).supportedMappings;if(qt){for(var hr of qt){var gr=qt.length>1?tt(hr):null,br=[];for(var Wr in Y)if(null==gr||_.includes(gr,Wr)){var Hr=Y[Wr];for(var Cr of Hr.all()){var Be=(0,d.g2)(K,Cr.queryRef);if(-1!==Be){var nt=K[Be];if(!(0,L.Im)(nt.expr)){var dt=nt.expr.getMetadata(Et,P.m.buildExprEvaluationContext(It.defn.from()));s.fF.assertValue(dt,"exprMetadata");var mt={Restatement:ft.getDisplayName(nt.expr,Et,Jt,nt.name,kt),Name:Cr.queryRef,Type:ut(dt.type)},ot=P.m.getKpiMetadata(nt.expr,Et);ot&&(mt.kpi=ot);var ie,We=kt?.[Cr.queryRef]?.formatString;(ie=er.visualLevelFormatStringConsumption&&null!=We?We:dt.format)&&(mt.Format=ie);var Oe=ct(dt.type);Oe&&(mt.DataCategory=Oe),xe[Be]=mt,br.push({Name:Wr,Projection:Be,isActive:_.includes(Hr.activeProjectionRefs,Cr.queryRef)})}}}}yt.push({DataRoles:br})}return{queryMetadata:{Select:xe,Filters:it},visualElements:yt}}}}function at(ft,Et){if(ft.role)Et.push(ft.role);else if(ft.bind)ft.bind.to&&Et.push(ft.bind.to);else if(ft.for)ft.for.in&&Et.push(ft.for.in);else{var er=ft;if(er.group){if(er.group.by&&Et.push(er.group.by),er.group.select)for(var it of er.group.select)at(it,Et)}else{var K=ft;if(K.composite)for(var Y of K.composite)at(Y,Et);else{var xe=ft;if(xe.select)for(var yt of xe.select)at(yt,Et)}}}}function tt(ft){var Et=[];return ft&&(ft.categorical&&(ft.categorical.categories&&at(ft.categorical.categories,Et),ft.categorical.values&&at(ft.categorical.values,Et)),ft.table&&ft.table.rows&&at(ft.table.rows,Et),ft.single&&at(ft.single,Et),ft.tree&&(ft.tree.nodes&&at(ft.tree.nodes,Et),ft.tree.values&&at(ft.tree.values,Et)),ft.matrix&&(ft.matrix.columns&&at(ft.matrix.columns,Et),ft.matrix.rows&&at(ft.matrix.rows,Et),ft.matrix.values&&at(ft.matrix.values,Et))),_.uniq(Et)}function ut(ft){switch(s.fF.assertValue(ft,"type"),ft.extendedType){case 66048:return 67;case 131584:return 35}switch(ft.primitiveType){case 1:return 2048;case 2:case 3:return 1;case 4:return 3;case 5:return 4096;case 6:return 20;case 7:return 4;case 9:return 8}}function ct(ft){return s.fF.assertValue(ft,"type"),(0,V.Wt)(ft.categoryString)}function Ne(ft,Et){if(ft&&ft.config&&ft.config.singleVisual&&ft.config.singleVisual.query&&ft.config.singleVisual.query.defn){var It=ft.config.singleVisual.query.projections,kt=ft.config.singleVisual.query.defn.select();if(It&&kt.length>0)for(var Jt in It){var er=It[Jt];for(var it of er.all()){var K=(0,d.rC)(kt,it.queryRef);if(K){var xe=K.expr.getMetadata(Et);if(xe&&0===xe.kind&&null==xe.aggregate)return!0}}}return!1}}function ae(ft){return ft.some(Et=>Le(Et)||X(Et))}function Le(ft){var Et=Se(ft);return _.some(Et,It=>(0,L.jX)(It.expr))}function X(ft){var Et=ne(ft);return null!=Et&&Et.hasHiddenProjections()}function be(ft){var Et=ne(ft);return null!=Et&&Et.hasVisibleProjections()}function Ie(ft){return Et=>ft===Et}function Ye(ft){return Et=>ft!==Et}function ze(ft,Et,It,kt,Jt){return er=>ft===er||3!==(It&&It.relationshipFilterAction(Et,ft,er,kt,Jt))}function ee(ft,Et){ft.publishToChannel(w.$cv,{affectContainer:It=>It===Et})}function ve(ft,Et,It,kt,Jt,er,it,K,Y){if(s.fF.assertAnyValue(It,"dataAsObject"),er){var yt,xe=ft.capabilities(er.visualType);if(xe){var Tt=ke(Et,Jt,er.query,er.columnProperties,xe,it,K);if(Tt){var $t=(0,e.xF)(er.objects,xe.objects,it.serializeSpaceOptimization,!1);(yt=kt.transforms&&xe&&xe.objects?u.F.serializeDataViewTransformActions(kt.transforms,xe.objects):{objects:$t}).objects=yt.objects||$t,yt.visualElements=Tt.visualElements,yt.queryMetadata=Tt.queryMetadata}}return{queryObject:kt.options.query.command,dataObject:It,transformsObject:yt,dataUpdatedTime:Y}}}function Te(ft){s.fF.assertValue(ft,"visualContainerGroups");var Et={};return(0,E.Iw)(ft,It=>{s.fF.assertValue(It.name,"visualContainer.name"),Et[It.name]=!0}),Xe(Et)}function Xe(ft){return s.fF.assertValue(ft,"existingNames"),y.q.generateUniqueId(ft)}function He(ft){var Et=[];return(0,E.Iw)(ft,It=>{(0,E.q4)(It)&&Et.push(It)}),Et}function rt(ft){return(0,D.xj)(ft.config.singleVisual)||function(ft){for(var Et=ft.parentGroup;Et;){if((0,M.xj)(Et))return!0;Et=Et.parentGroup}return!1}(ft)}function me(ft,Et=0,It){var kt=_.cloneDeep(ft),Jt=It;if(1===Et)return kt;for(;Jt;){if(!Jt.layouts.withId(Et))return s.fF.assertFail(`must provide a layout for groups for layout${Et}`),kt;var er=Jt.layouts.withId(Et).position;kt.x+=er.x,kt.y+=er.y,Jt=Jt.parentGroup}return kt}function Ee(ft,Et,It=0){for(var kt=_.cloneDeep(ft),Jt=Et.parentGroup;Jt;){var er=Jt.layouts.withId(It).position;kt.x-=er.x,kt.y-=er.y,Jt=Jt.parentGroup}return kt}function fe(ft,Et,It,kt,Jt){ft.publishToChannel(w.jCS,{affectContainer:er=>er!==Et,sourceLabelKey:It,parentActivity:kt,parentContextActivity:Jt})}function Re(ft,Et,It,kt,Jt){_.isEmpty(Et)||ft.publishToChannel(w.jCS,{affectContainer:er=>_.includes(Et,er),sourceLabelKey:It,parentActivity:kt,parentContextActivity:Jt})}function re(ft,Et){return ft.createActivity({name:"Cross Highlight",operationType:Et})}function se(ft){return ft.createActivity({name:"Change Slicer"})}function Ae(ft){return _.some(ft,Et=>Et.dsr&&Et.dsr.vsName===i.ly2)}function Me(ft){var Et=function(ft){return ft&&null!=ft.size?m.FP.fromPoint(ft.size.pt):m.FP.toString(F)}(ft);return p.b.estimateSvgTextHeight({fontFamily:ft&&ft.family||A,fontSize:Et})}function $e(ft,Et,It,kt,Jt,er,it){var K=It.config.singleVisual.visualType,Y=It.config.singleVisual.vcObjects,xe=(0,f.NA)(Y,{objectName:"stylePreset",propertyName:"name"},void 0),yt=Et.getVisualObjects(ft,K,xe&&(0,L.VC)(xe)&&xe.value,D.XW);yt&&(Y=(0,f.d9)(Y||{}),(0,f.l7)(Y,yt,!0));var Tt=Et.getVisualStyle(ft);return(0,S.G3)(Y,D.XW,Tt,kt,Jt,er,it)}function st(ft,Et){Et.toggleClass("showHover",ft)}function pt(ft,Et,It){It.publishToChannel(ft?t.t1:t.i5,{containerName:Et})}function wt(ft,Et,It,kt,Jt){var er={};return er[n.mA]=Et||"",er[n.zo]=kt||"",er[n.wu]=It||"",er[n.CB]=ft||"",er[n.rb]=Jt||"",er}function Pt(ft,Et){var It={};return It[n.py]=null!=Et?"scale("+Et+")":"scale(1)",It[n.kP]=ft.width,It[n.ei]=ft.height,It}function At(ft){if(ft&&ft.show){var Et=(0,h.O4)();return(ft.transparency||0===ft.transparency)&&(Et.transparency=ft.transparency),ft.color&&ft.color.solid.color&&(Et.color=ft.color),(0,C.Et)(Et.color.solid.color,(100-Et.transparency)/100)}}function Ut(ft,Et){return{show:ft?ft.show:Et.show,color:ft&&ft.color&&ft.color.solid&&ft.color.solid.color?ft.color:Et.color,radius:ft&&ft.radius||Et.radius,width:ft&&ft.width}}function Kt(ft,Et){return{show:ft?ft.show:Et.show,preset:ft&&ft.preset?ft.preset:Et.preset,position:ft&&ft.position?ft.position:Et.position,color:ft&&ft.color&&ft.color.solid&&ft.color.solid.color?ft.color:Et.color,transparency:ft&&void 0!==ft.transparency?ft.transparency:Et.transparency,shadowBlur:ft&&void 0!==ft.shadowBlur?ft.shadowBlur:Et.shadowBlur,shadowSpread:ft&&void 0!==ft.shadowSpread?ft.shadowSpread:Et.shadowSpread,angle:ft&&void 0!==ft.angle?ft.angle:Et.angle,shadowDistance:ft&&void 0!==ft.shadowDistance?ft.shadowDistance:Et.shadowDistance}}function Qt(ft,Et,It=!1){ft=ft||{};var kt=Et?.suppressDefaultPadding?0:5;return{top:ft.top??(It?0:kt),bottom:ft.bottom??kt,left:ft.left??kt,right:ft.right??kt}}function rr(ft,Et,It){return _.isEmpty(Et)&&It&&((isNaN(It)||It<0)&&(It=0),0!==It)?{left:ft.left+It,right:ft.right+It,top:ft.top+It,bottom:ft.bottom+It}:ft}function Xt(ft,Et){if(!Et?.customizeSpacing)return Et?.verticalSpacing??5;switch(ft){case Q.Title:return void 0!==Et?.verticalSpacing&&void 0===Et?.spaceBelowTitle?Et?.verticalSpacing:void 0!==Et?.spaceBelowTitle?Et?.spaceBelowTitle:5;case Q.SubTitle:return void 0!==Et?.verticalSpacing&&void 0===Et?.spaceBelowSubTitle?Et.verticalSpacing:void 0!==Et?.spaceBelowSubTitle?Et.spaceBelowSubTitle:5;case Q.Divider:return void 0!==Et?.verticalSpacing&&void 0===Et?.spaceBelowTitleArea?Et?.verticalSpacing:void 0!==Et?.spaceBelowTitleArea?Et?.spaceBelowTitleArea:5;default:return s.fF.assertNever(ft),5}}function cr(ft){return null!=ft&&null!=ft.metadata&&null!=ft.metadata.segment}function et(ft){if(ft&&ft.defn){var Et=ft.defn.groupBy();return!_.isEmpty(Et)}return!1}function ht(ft){return et(ne(ft))}function Nt(ft,Et,It){var kt=je(ft,Et),Jt=ne(ft);if(Jt&&!_.isEmpty(kt)){var it=Jt.tryGetExprs(kt[0].name);return!_.isEmpty(it)&&!_.some(it,K=>{var Y=K.getMetadata(It);if(Y)return!Y.type.text})}}function Lt(ft,Et,It){var kt=function(ft,Et){var It=ne(ft);if(It){var kt=we(ft,Et);if(kt&&kt.filterMappings&&kt.filterMappings.measureFilter&&kt.filterMappings.measureFilter.targetRoles){var Jt=kt.filterMappings.measureFilter.targetRoles,er=_.chain(kt.dataRoles).filter(xe=>xe.kind===b.DW.Grouping).map(xe=>xe.name).difference(Jt).value(),it=[];for(var K of er)It.projections[K]&&it.push.apply(it,It.projections[K].all());var Y=Se(ft);if(!_.isEmpty(it))return _.chain(Y).filter(xe=>_.some(it,yt=>yt.queryRef===xe.name)).map(xe=>xe.expr).value()}}}(ft,It);if(_.isEmpty(kt))return!1;for(var Jt of kt)if(1===P.m.getAggregateBehavior(Jt,Et))return!0;return!1}function Qe(ft){var Et={},It=ft.defn.select();for(var kt of It){var Jt;Jt=(0,B.k)(kt.expr)?b.DW.Measure:b.DW.Grouping,Et[kt.name]=Jt}return Et}function bt(ft){for(var Et of(s.fF.assertValue(ft,"exploration"),ft.sections))Rt(Et)}function Rt(ft){for(var Et of(s.fF.assertValue(ft,"section"),ft.visualContainers))delete Et.cachedData,Et.disableCacheOnServerForInitialLoad=!0}function ir(ft){function Et(kt,Jt){var er=Jt.howCreated??"Default";kt[er]||(kt[er]=0),kt[er]++}return s.fF.assertValue(ft,"section"),function(){var kt=ft&&ft.visualContainers||[],Jt={};for(var er of kt=_.reject(kt,it=>(0,D.xj)(it.config.singleVisual)))Et(Jt,er);return Jt}()}function Ht(ft){function Et(Jt,er){var it=er.config.singleVisual.visualType;Jt[it]||(Jt[it]=0),Jt[it]++}function It(){var Jt=ft&&ft.visualContainers||[],er={};for(var it of Jt=_.reject(Jt,K=>(0,D.xj)(K.config.singleVisual)))Et(er,it);return er}s.fF.assertValue(ft,"section");try{return function(){if(_.isEmpty(ft&&ft.visualContainerGroups))return It();var er={},it={__hidden:er};return(0,E.Iw)(ft.visualContainerGroups,(K,Y)=>{(0,E.Vz)(K)&&Et(Y?er:it,K)}),it}()}catch(Jt){return l.f.error(`Error getting visuals from groups ${Jt&&Jt.message}: ${Jt&&Jt.stack}`),It()}}function vr(ft,Et,It,kt){if((0,O.zr)(ft,Et)){var it=(0,O.Xz)(ft,Et),K=Se(ft);if(it||(K=_.filter(K,xe=>!(0,B.k)(xe.expr))),K=_.filter(K,xe=>!(0,L.jX)(xe.expr)))return _.chain(K).map(xe=>xe.expr).filter(xe=>P.m.isExprValidForFiltering(xe)&&_.isEmpty(xe.validate(It,kt))).map(xe=>(xe=>({name:void 0,expression:xe,expanded:!1,howCreated:0,type:(0,O.NV)(xe,It,0),isHiddenInViewMode:!1}))(xe)).value()}}function _r(ft,Et,It,kt){var Jt=It.getDrillCrossFiltersToApply(ft,Et,kt);return _.map(Jt,it=>(it=>({name:void 0,type:it.type,filter:it.filter,expression:it.expression,expanded:!1,howCreated:6,precedence:it.precedence}))(it))}function Pr(ft){var Et=ft.resourcePackages,It=ft.publicCustomVisuals??[];if(!Et&&0===It.length)return!1;for(var kt of ft.sections)if(kt.visualContainers){var it,Jt=kt.visualContainers,er=function(){if(K.config&&K.config.singleVisual&&K.config.singleVisual.visualType){var Y=K.config.singleVisual.visualType;if(_(Et).find(xe=>xe.name===Y))return{v:!0};if(_(It).includes(Y))return{v:!0}}};for(var K of Jt)if(it=er())return it.v}return!1}function xr(ft,Et){var It={usingImprovedFilterExperience:!0,viewMode:0===Et},kt=function(ft){var Et=ft.objects;if(Et&&Et.outspacePane){var It=(0,f.NA)(Et,{objectName:"outspacePane",propertyName:"expanded"},null);return It&&It.value}}(ft);_.isUndefined(kt)||(It.isOutspacePaneExpanded=kt);var Jt=function(ft){var Et=ft.objects;if(Et&&Et.outspacePane){var It=(0,f.NA)(Et,{objectName:"outspacePane",propertyName:"visible"},null);return It&&It.value}}(ft);return _.isUndefined(Jt)||(It.isOutspacePaneVisible=Jt),It}function zr(ft,Et){return ft.id&&!Et}function pr(ft){return ft?3:1}function jr(ft,Et,It){var kt;Et&&(kt=Et.createChildActivity(ft));var Jt=It();return kt&&kt.resolve(),Jt}function Rr(ft,Et,It){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(ft,Et,It){var kt;Et&&(kt=Et.createChildActivity(ft));var Jt=yield It();return kt&&kt.resolve(),Jt})).apply(this,arguments)}function Vt(ft){var Et=le(ft);return Et&&Et.columnProperties}function Dt(ft){if(_.isEmpty(ft))return!1;for(var Et of ft)if((0,E.Vz)(Et)){var It=Vt(Et);if(It)for(var kt in It)if(It[kt].displayName)return!0}return!1}function St(ft){if(_.isEmpty(ft))return!1;for(var Et of ft)if((0,E.Vz)(Et)){var It=Vt(Et);if(It)for(var kt in It)if(It[kt].formatString)return!0}return!1}function Ct(ft){if(_.isEmpty(ft))return!1;for(var Et of ft)if((0,E.Vz)(Et)){var It=Se(Et);if(It)for(var kt of It){var Jt=kt.expr;if((0,L.jX)(Jt)&&null!=Jt.dataType)return!0}}return!1}function Bt(ft,Et){var It=(0,N.s)(Et);return ft.isQnaVisual(It)||ft.isQueryVisual(It)}function lr(ft,Et){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(ft,Et){var It=le(ft),kt=Et.dataSources.get(),Jt=yield Et.conceptualSchemaProxy.get(kt),er=we(ft,Et.visualPlugin);return Et.displayNameService.getVisualTitle(It,Jt,er,void 0,void 0,!0)?.text})).apply(this,arguments)}function dr(ft,Et){return{visual:{objects:ft.objects,descriptors:Et.objects},visualContainer:{objects:ft.vcObjects,descriptors:D.XW}}}},692699:function(Ce,k,r){r.d(k,{s:function(){return u}});var a=r(347293),e=r(187220);function u(t){if(t){if((0,e.q4)(t))return a.SY;if(t.config&&t.config.singleVisual)return t.config.singleVisual.visualType}}},7829:function(Ce,k,r){r.d(k,{b:function(){return t}});var a=r(939123),e=r(543967);class u{visitVisualContainer(y){}visitSingleVisualConfig(y){}visitQuery(y){}visitDataViewObjects(y,i){}visitSelector(y){}visitFilterContainer(y){}visitVisualLinks(y){}}class t extends u{constructor(y){super(),this.rewriters=y,a.fF.assertValue(y,"rewriters")}visitSingleVisualConfig(y){y.cachedFilterDisplayItems&&(0,e.cf)(y.cachedFilterDisplayItems,this.rewriters)}visitQuery(y){if(a.fF.assertValue(y,"query"),y.defn){var o=this.rewriters;for(var c of o)y=c.rewriteQuery(y)}}visitDataViewObjects(y,i){(0,e.Me)(y,i,this.rewriters),(0,e.YN)(y,i,this.rewriters)}visitFilterContainer(y){a.fF.assertValue(y,"filter"),(0,e.V)(y,this.rewriters)}visitVisualLinks(y){for(var i of(a.fF.assertValue(y,"visualLink"),y))(0,e.Vd)(i,this.rewriters)}visitSelector(y){var i=(0,e.sS)(y.data,this.rewriters);i!==y.data&&(y.data=i)}}},551137:function(Ce,k,r){r.d(k,{O4:function(){return d},X2:function(){return s}});var a=r(186359),e=!1,u=a.Jn,t=a.XQ,C=70,y=3,i=10,o=45,c=10,h="#000";function d(p,l){var m=p&&p.preset?p.preset:u,b=p&&p.position?p.position:t,V=s(m,b);return{show:e,preset:m,position:b,color:{solid:{color:l?l.colorPalette.foreground.value:h}},shadowSpread:V?V.shadowSpread:y,shadowBlur:V?V.shadowBlur:i,angle:V?V.angle:o,shadowDistance:V?V.shadowDistance:c,transparency:V?V.transparency:C}}function s(p,l){var m=function(p){var l=p===a.$S,m=10,b=l?15:10,V=l?0:3;return{[a.Jn]:{angle:l?225:45,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C},[a.qf]:{angle:l?270:90,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C},[a.C2]:{angle:l?315:135,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C},[a.PE]:{angle:l?180:0,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C},[a.uf]:{angle:0,shadowDistance:0,shadowBlur:l?20:15,shadowSpread:V,transparency:C},[a.cS]:{angle:l?0:180,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C},[a.Fi]:{angle:l?135:315,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C},[a.tF]:{angle:l?90:270,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C},[a.f]:{angle:l?45:225,shadowDistance:m,shadowBlur:b,shadowSpread:V,transparency:C}}}(l||t);return m.hasOwnProperty(p)?m[p]:null}},441074:function(Ce,k,r){r.d(k,{O:function(){return e}});var a=r(939123);function e(u,t,C){if(u&&u.getProperty("telemetryActivityId")){var y=C.getOpenActivityById(u&&u.getProperty("telemetryActivityId"));if(a.fF.assert(()=>y&&y.isActive(),"parentActivity stored in performanceActivity not found or not active. The parent/child relationships are broken due to a parent activity resolved before a child could start."),y&&y.isActive()){var i=C.startChildActivity(y.event,t);return u.setProperty("telemetryActivityId",i.event.id),i}}}},443576:function(Ce,k,r){r.d(k,{k:function(){return y}});var a=r(895127),e=r(288487),u=r(939123),t=r(564619),C=r(616113);class y{constructor(o,c,h){this.messageId="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo=[{errorInfoKey:"",errorInfoValue:""}],this.errorCode=o,this.hideErrorHelperText=!1,"Missing_References"===o?(this.displayableErrorInfo[0].errorInfoKey="Missing_References_Details_Title",this.displayableErrorInfo[0].errorInfoValue=h,this.detailsMessageFormat="Missing_References_Details_Message",this.messageId="Missing_References_Message",this.errorSource="User"):"Broken_Filters"===o?(this.displayableErrorInfo[0].errorInfoKey="ServiceError_CannotLoadVisual",this.displayableErrorInfo[0].errorInfoValue=c.get("Broken_Filters_Details_Message"),this.messageId="Broken_Filters_Message"):"ClientError_NoSupportedDataViewMappingFound"===o?(this.displayableErrorInfo[0].errorInfoKey="VisualDisplayError_Title",this.displayableErrorInfo[0].errorInfoValue=c.get("ClientError_NoSupportedDataViewMappingFound_Message"),this.messageId="ClientError_NoSupportedDataViewMappingFound_Message"):"NoSupportRTS_PublishToWeb"===o?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_UnableToFindVisualKey",this.displayableErrorInfo[0].errorInfoValue=c.get("NoSupportRTS_PublishToWeb_Message"),this.messageId="NoSupportRTS_PublishToWeb_Title",this.errorSource="User",this.hideErrorHelperText=!0):"DQP_No_MappedColumns_In_HierarchySlicers"===o?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=c.get("DQP_No_MappedColumns_In_HierarchySlicers"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2139315"):"DataViewMappingError_ConditionNotHierarchicallyRelated"===o?(this.messageId="DataViewMappingError_ConditionNotHierarchicallyRelated",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=c.get("DataViewMappingError_ConditionNotHierarchicallyRelated_Details"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2114278"):"NoSupportSpecificRolesWithVC_Hidden"===o?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=h,this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857"):"Data_Limit_Disabled_VisualCalc_Hidden"===o&&(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=c.get("Data_Limit_Disabled_VisualCalc_Hidden"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857")}static create(o,c,h){if(!_.isEmpty(o)){var d=[],n=(l,m)=>l.hierarchy?l.hierarchy.name:l.hierarchyLevel?l.hierarchyLevel.name+"."+l.hierarchyLevel.level:m,s=function(){var m,l=(0,a.Q)(p);if(l.sparklineData){var b=l.sparklineData.measure;u.fF.assert(()=>1===_.size(l.sparklineData.grouping),"expect 1 field in grouping for sparklines");var V=_.first(l.sparklineData.grouping),g=n(b,(0,t.Hp)(b)),v=n(V,(0,t.Hp)(V));m=h.format("VisualTitle_By_Template",g,v)}else{var f=(0,t.Um)(l);if(!f)return 1;var S=n(l,(0,t.Hp)(l));m="("+f.entity+") "+S;var P=c.schema(f.schema),D=P&&P.findProperty(f.entity,S);D&&D.errorMessage&&(m+=": "+D.errorMessage)}d.push(m)};for(var p of o)s();return new y("Missing_References",h,d.join(", "))}}get code(){return this.errorCode}get source(){return this.errorSource}addDebugInfo(o,c){this.debugErrorInfo||(this.debugErrorInfo=[]),this.debugErrorInfo.push({errorInfoKey:o,errorInfoValue:c})}getDetails(o){var c=o.get(this.displayableErrorInfo[0].errorInfoKey),h=this.displayableErrorInfo[0].errorInfoValue;return this.detailsMessageFormat&&(h=(0,C.W)(o.get(this.detailsMessageFormat),h)),{message:o.get(this.messageId),displayableErrorInfo:[{errorInfoKey:c,errorInfoValue:h}],debugErrorInfo:[{errorInfoKey:e.zd,errorInfoValue:this.code}].concat(...this.debugErrorInfo||[]),hideErrorHelperText:this.hideErrorHelperText,hideDebugInfo:this.hideDebugInfo,helpLink:this.helperLink}}}},367014:function(Ce,k,r){function a(u,t){var C={};if(_.isEmpty(t))return C;for(var y of t){var i=u.tryGetExprs(y.name);C[y.name]=_.map(i,o=>u.defn.selectNameOf(o))}return C}function e(u,t){return!(!u?.projections||!u.projections[t])&&u.projections[t].all().some(C=>void 0!==C.queryRef)}r.d(k,{S:function(){return a},p:function(){return e}})},471409:function(Ce){Ce.exports=function(k){var r={};function a(e){if(r[e])return r[e].exports;var u=r[e]={exports:{},id:e,loaded:!1};return k[e].call(u.exports,u,u.exports,a),u.loaded=!0,u.exports}return a.m=k,a.c=r,a.p="",a(0)}([function(k,r){var a=function(){function e(u,t,C){void 0===t&&(t={}),this.defaultHeaders=t,this.defaultTargetWindow=C,this.windowPostMessageProxy=u}return e.addTrackingProperties=function(u,t){return u.headers=u.headers||{},t&&t.id&&(u.headers.id=t.id),u},e.getTrackingProperties=function(u){return{id:u.headers&&u.headers.id}},e.isErrorMessage=function(u){return"number"==typeof(u&&u.statusCode)&&!(200<=u.statusCode&&u.statusCode<300)},e.prototype.get=function(u,t,C){return void 0===t&&(t={}),void 0===C&&(C=this.defaultTargetWindow),this.send({method:"GET",url:u,headers:t},C)},e.prototype.post=function(u,t,C,y){return void 0===C&&(C={}),void 0===y&&(y=this.defaultTargetWindow),this.send({method:"POST",url:u,headers:C,body:t},y)},e.prototype.put=function(u,t,C,y){return void 0===C&&(C={}),void 0===y&&(y=this.defaultTargetWindow),this.send({method:"PUT",url:u,headers:C,body:t},y)},e.prototype.patch=function(u,t,C,y){return void 0===C&&(C={}),void 0===y&&(y=this.defaultTargetWindow),this.send({method:"PATCH",url:u,headers:C,body:t},y)},e.prototype.delete=function(u,t,C,y){return void 0===t&&(t=null),void 0===C&&(C={}),void 0===y&&(y=this.defaultTargetWindow),this.send({method:"DELETE",url:u,headers:C,body:t},y)},e.prototype.send=function(u,t){if(void 0===t&&(t=this.defaultTargetWindow),u.headers=this.assign({},this.defaultHeaders,u.headers),!t)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(t,u)},e.prototype.assign=function(u){for(var t=[],C=1;C<arguments.length;C++)t[C-1]=arguments[C];if(null==u)throw new TypeError("Cannot convert undefined or null to object");var y=Object(u);return t.forEach(function(i){if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(y[o]=i[o])}),y},e}();r.HttpPostMessage=a}])},789804:function(Ce){var a;a=()=>{return k=[function(u,t,C){var Qe,y=this&&this.__extends||(Qe=function(bt,Rt){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Gt,ir){Gt.__proto__=ir}||function(Gt,ir){for(var Ht in ir)Object.prototype.hasOwnProperty.call(ir,Ht)&&(Gt[Ht]=ir[Ht])})(bt,Rt)},function(bt,Rt){if("function"!=typeof Rt&&null!==Rt)throw new TypeError("Class extends value "+String(Rt)+" is not a constructor or null");function Gt(){this.constructor=bt}Qe(bt,Rt),bt.prototype=null===Rt?Object.create(Rt):(Gt.prototype=Rt.prototype,new Gt)});Object.defineProperty(t,"__esModule",{value:!0}),t.CommonErrorCodes=t.BookmarksPlayMode=t.ExportDataType=t.QnaMode=t.PageNavigationPosition=t.BrowserPrintAdjustmentsMode=t.AggregateFunction=t.DataCacheMode=t.CredentialType=t.isPercentOfGrandTotal=t.isColumnAggr=t.isHierarchyLevelAggr=t.isHierarchyLevel=t.isColumn=t.isMeasure=t.getFilterType=t.isBasicFilterWithKeys=t.isFilterKeyColumnsTarget=t.HierarchyIdentityFilter=t.HierarchyFilter=t.AdvancedFilter=t.TupleFilter=t.IdentityFilter=t.BasicFilterWithKeys=t.BasicFilter=t.RelativeTimeFilter=t.RelativeDateFilter=t.TopNFilter=t.IncludeExcludeFilter=t.NotSupportedFilter=t.Filter=t.RelativeDateOperators=t.RelativeDateFilterTimeUnit=t.FilterType=t.FiltersLevel=t.FiltersOperations=t.MenuLocation=t.ContrastMode=t.TokenType=t.ViewMode=t.Permissions=t.SectionVisibility=t.ReportAlignment=t.HyperlinkClickBehavior=t.LayoutType=t.VisualContainerDisplayMode=t.BackgroundType=t.DisplayOption=t.PageSizeType=t.TraceType=void 0,t.validateExportDataRequest=t.validateQnaInterpretInputData=t.validateLoadQnaConfiguration=t.validateSaveAsParameters=t.validateUpdateFiltersRequest=t.validateFilter=t.validatePage=t.validateTileLoad=t.validateDashboardLoad=t.validateQuickCreate=t.validateCreateReport=t.validatePaginatedReportLoad=t.validateReportLoad=t.validateMenuGroupExtension=t.validateExtension=t.validateCustomPageSize=t.validateVisualizationsPane=t.validateSyncSlicersPane=t.validateSelectionPane=t.validatePageNavigationPane=t.validateFieldsPane=t.validateFiltersPane=t.validateBookmarksPane=t.validatePanes=t.validateSettings=t.validateCaptureBookmarkRequest=t.validateApplyBookmarkStateRequest=t.validateApplyBookmarkByNameRequest=t.validateAddBookmarkRequest=t.validatePlayBookmarkRequest=t.validateSlicerState=t.validateSlicer=t.validateVisualSelector=t.isIExtensionArray=t.isIExtensions=t.isGroupedMenuExtension=t.isFlatMenuExtension=t.isReportFiltersArray=t.isOnLoadFilters=t.VisualDataRoleKindPreference=t.VisualDataRoleKind=t.CommandDisplayOption=t.SlicerTargetSelector=t.VisualTypeSelector=t.VisualSelector=t.PageSelector=t.Selector=t.SortDirection=t.LegendPosition=t.TextAlignment=void 0,t.validatePrintSettings=t.validateZoomLevel=t.validateCustomTheme=t.validateCommandsSettings=t.validateVisualSettings=t.validateVisualHeader=void 0;var D,i=C(1);!function(Qe){Qe[Qe.Information=0]="Information",Qe[Qe.Verbose=1]="Verbose",Qe[Qe.Warning=2]="Warning",Qe[Qe.Error=3]="Error",Qe[Qe.ExpectedError=4]="ExpectedError",Qe[Qe.UnexpectedError=5]="UnexpectedError",Qe[Qe.Fatal=6]="Fatal"}(t.TraceType||(t.TraceType={})),function(Qe){Qe[Qe.Widescreen=0]="Widescreen",Qe[Qe.Standard=1]="Standard",Qe[Qe.Cortana=2]="Cortana",Qe[Qe.Letter=3]="Letter",Qe[Qe.Custom=4]="Custom",Qe[Qe.Mobile=5]="Mobile"}(t.PageSizeType||(t.PageSizeType={})),function(Qe){Qe[Qe.FitToPage=0]="FitToPage",Qe[Qe.FitToWidth=1]="FitToWidth",Qe[Qe.ActualSize=2]="ActualSize"}(t.DisplayOption||(t.DisplayOption={})),function(Qe){Qe[Qe.Default=0]="Default",Qe[Qe.Transparent=1]="Transparent"}(t.BackgroundType||(t.BackgroundType={})),function(Qe){Qe[Qe.Visible=0]="Visible",Qe[Qe.Hidden=1]="Hidden"}(t.VisualContainerDisplayMode||(t.VisualContainerDisplayMode={})),function(Qe){Qe[Qe.Master=0]="Master",Qe[Qe.Custom=1]="Custom",Qe[Qe.MobilePortrait=2]="MobilePortrait",Qe[Qe.MobileLandscape=3]="MobileLandscape"}(t.LayoutType||(t.LayoutType={})),function(Qe){Qe[Qe.Navigate=0]="Navigate",Qe[Qe.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",Qe[Qe.RaiseEvent=2]="RaiseEvent"}(t.HyperlinkClickBehavior||(t.HyperlinkClickBehavior={})),function(Qe){Qe[Qe.Left=0]="Left",Qe[Qe.Center=1]="Center",Qe[Qe.Right=2]="Right",Qe[Qe.None=3]="None"}(t.ReportAlignment||(t.ReportAlignment={})),function(Qe){Qe[Qe.AlwaysVisible=0]="AlwaysVisible",Qe[Qe.HiddenInViewMode=1]="HiddenInViewMode"}(t.SectionVisibility||(t.SectionVisibility={})),function(Qe){Qe[Qe.Read=0]="Read",Qe[Qe.ReadWrite=1]="ReadWrite",Qe[Qe.Copy=2]="Copy",Qe[Qe.Create=4]="Create",Qe[Qe.All=7]="All"}(t.Permissions||(t.Permissions={})),function(Qe){Qe[Qe.View=0]="View",Qe[Qe.Edit=1]="Edit"}(t.ViewMode||(t.ViewMode={})),function(Qe){Qe[Qe.Aad=0]="Aad",Qe[Qe.Embed=1]="Embed"}(t.TokenType||(t.TokenType={})),function(Qe){Qe[Qe.None=0]="None",Qe[Qe.HighContrast1=1]="HighContrast1",Qe[Qe.HighContrast2=2]="HighContrast2",Qe[Qe.HighContrastBlack=3]="HighContrastBlack",Qe[Qe.HighContrastWhite=4]="HighContrastWhite"}(t.ContrastMode||(t.ContrastMode={})),function(Qe){Qe[Qe.Bottom=0]="Bottom",Qe[Qe.Top=1]="Top"}(t.MenuLocation||(t.MenuLocation={})),function(Qe){Qe[Qe.RemoveAll=0]="RemoveAll",Qe[Qe.ReplaceAll=1]="ReplaceAll",Qe[Qe.Add=2]="Add",Qe[Qe.Replace=3]="Replace"}(t.FiltersOperations||(t.FiltersOperations={})),function(Qe){Qe[Qe.Report=0]="Report",Qe[Qe.Page=1]="Page",Qe[Qe.Visual=2]="Visual"}(t.FiltersLevel||(t.FiltersLevel={})),function(Qe){Qe[Qe.Advanced=0]="Advanced",Qe[Qe.Basic=1]="Basic",Qe[Qe.Unknown=2]="Unknown",Qe[Qe.IncludeExclude=3]="IncludeExclude",Qe[Qe.RelativeDate=4]="RelativeDate",Qe[Qe.TopN=5]="TopN",Qe[Qe.Tuple=6]="Tuple",Qe[Qe.RelativeTime=7]="RelativeTime",Qe[Qe.Identity=8]="Identity",Qe[Qe.Hierarchy=9]="Hierarchy",Qe[Qe.HierarchyIdentity=10]="HierarchyIdentity"}(D=t.FilterType||(t.FilterType={})),function(Qe){Qe[Qe.Days=0]="Days",Qe[Qe.Weeks=1]="Weeks",Qe[Qe.CalendarWeeks=2]="CalendarWeeks",Qe[Qe.Months=3]="Months",Qe[Qe.CalendarMonths=4]="CalendarMonths",Qe[Qe.Years=5]="Years",Qe[Qe.CalendarYears=6]="CalendarYears",Qe[Qe.Minutes=7]="Minutes",Qe[Qe.Hours=8]="Hours"}(t.RelativeDateFilterTimeUnit||(t.RelativeDateFilterTimeUnit={})),function(Qe){Qe[Qe.InLast=0]="InLast",Qe[Qe.InThis=1]="InThis",Qe[Qe.InNext=2]="InNext"}(t.RelativeDateOperators||(t.RelativeDateOperators={}));var w=function(){function Qe(bt,Rt){this.target=bt,this.filterType=Rt}return Qe.prototype.toJSON=function(){var bt={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(bt.displaySettings=this.displaySettings),bt},Qe}();t.Filter=w;var x=function(Qe){function bt(Rt,Gt,ir){var Ht=Qe.call(this,Rt,D.Unknown)||this;return Ht.message=Gt,Ht.notSupportedTypeName=ir,Ht.schemaUrl=bt.schemaUrl,Ht}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.message=this.message,Rt.notSupportedTypeName=this.notSupportedTypeName,Rt},bt.schemaUrl="http://powerbi.com/product/schema#notSupported",bt}(w);t.NotSupportedFilter=x;var N=function(Qe){function bt(Rt,Gt,ir){var Ht=Qe.call(this,Rt,D.IncludeExclude)||this;return Ht.target=Rt,Ht.values=ir,Ht.isExclude=Gt,Ht.schemaUrl=bt.schemaUrl,Ht}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.isExclude=this.isExclude,Rt.values=this.values,Rt},bt.schemaUrl="http://powerbi.com/product/schema#includeExclude",bt}(w);t.IncludeExcludeFilter=N;var L=function(Qe){function bt(Rt,Gt,ir,Ht){var vr=Qe.call(this,Rt,D.TopN)||this;return vr.operator=Gt,vr.itemCount=ir,vr.schemaUrl=bt.schemaUrl,vr.orderBy=Ht,vr}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.operator=this.operator,Rt.itemCount=this.itemCount,Rt.orderBy=this.orderBy,Rt},bt.schemaUrl="http://powerbi.com/product/schema#topN",bt}(w);t.TopNFilter=L;var B=function(Qe){function bt(Rt,Gt,ir,Ht,vr){var _r=Qe.call(this,Rt,D.RelativeDate)||this;return _r.operator=Gt,_r.timeUnitsCount=ir,_r.timeUnitType=Ht,_r.includeToday=vr,_r.schemaUrl=bt.schemaUrl,_r}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.operator=this.operator,Rt.timeUnitsCount=this.timeUnitsCount,Rt.timeUnitType=this.timeUnitType,Rt.includeToday=this.includeToday,Rt},bt.schemaUrl="http://powerbi.com/product/schema#relativeDate",bt}(w);t.RelativeDateFilter=B;var I=function(Qe){function bt(Rt,Gt,ir,Ht){var vr=Qe.call(this,Rt,D.RelativeTime)||this;return vr.operator=Gt,vr.timeUnitsCount=ir,vr.timeUnitType=Ht,vr.schemaUrl=bt.schemaUrl,vr}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.operator=this.operator,Rt.timeUnitsCount=this.timeUnitsCount,Rt.timeUnitType=this.timeUnitType,Rt},bt.schemaUrl="http://powerbi.com/product/schema#relativeTime",bt}(w);t.RelativeTimeFilter=I;var W=function(Qe){function bt(Rt,Gt){for(var ir=[],Ht=2;Ht<arguments.length;Ht++)ir[Ht-2]=arguments[Ht];var vr=Qe.call(this,Rt,D.Basic)||this;if(vr.operator=Gt,vr.schemaUrl=bt.schemaUrl,0===ir.length&&"All"!==Gt)throw new Error('values must be a non-empty array unless your operator is "All".');return vr.values=Array.isArray(ir[0])?ir[0]:ir,vr}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.operator=this.operator,Rt.values=this.values,Rt.requireSingleSelection=!!this.requireSingleSelection,Rt},bt.schemaUrl="http://powerbi.com/product/schema#basic",bt}(w);t.BasicFilter=W;var O=function(Qe){function bt(Rt,Gt,ir,Ht){var vr=Qe.call(this,Rt,Gt,ir)||this;vr.keyValues=Ht,vr.target=Rt;var _r=Rt.keys?Rt.keys.length:0;if(_r>0&&!Ht)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat(_r," keys"));if(0===_r&&Ht&&Ht.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var Fr=0,Ur=vr.keyValues;Fr<Ur.length;Fr++){var Pr=Ur[Fr];if(Pr){var Sr=Pr.length;if(Sr!==_r)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(Sr," values and ").concat(_r," keys"))}}return vr}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.keyValues=this.keyValues,Rt},bt}(W);t.BasicFilterWithKeys=O;var F=function(Qe){function bt(Rt,Gt){var ir=Qe.call(this,Rt,D.Identity)||this;return ir.operator=Gt,ir.schemaUrl=bt.schemaUrl,ir}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.operator=this.operator,Rt.target=this.target,Rt},bt.schemaUrl="http://powerbi.com/product/schema#identity",bt}(w);t.IdentityFilter=F;var A=function(Qe){function bt(Rt,Gt,ir){var Ht=Qe.call(this,Rt,D.Tuple)||this;return Ht.operator=Gt,Ht.schemaUrl=bt.schemaUrl,Ht.values=ir,Ht}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.operator=this.operator,Rt.values=this.values,Rt.target=this.target,Rt},bt.schemaUrl="http://powerbi.com/product/schema#tuple",bt}(w);t.TupleFilter=A;var T=function(Qe){function bt(Rt,Gt){for(var ir=[],Ht=2;Ht<arguments.length;Ht++)ir[Ht-2]=arguments[Ht];var _r,vr=Qe.call(this,Rt,D.Advanced)||this;if(vr.schemaUrl=bt.schemaUrl,"string"!=typeof Gt||0===Gt.length)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(Gt));if(vr.logicalOperator=Gt,(_r=Array.isArray(ir[0])?ir[0]:ir).length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(ir.length));if(1===_r.length&&"And"!==Gt)throw new Error('Logical Operator must be "And" when there is only one condition provided');return vr.conditions=_r,vr}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.logicalOperator=this.logicalOperator,Rt.conditions=this.conditions,Rt},bt.schemaUrl="http://powerbi.com/product/schema#advanced",bt}(w);t.AdvancedFilter=T;var R=function(Qe){function bt(Rt,Gt){var ir=Qe.call(this,Rt,D.Hierarchy)||this;return ir.schemaUrl=bt.schemaUrl,ir.hierarchyData=Gt,ir}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.hierarchyData=this.hierarchyData,Rt.target=this.target,Rt},bt.schemaUrl="http://powerbi.com/product/schema#hierarchy",bt}(w);t.HierarchyFilter=R;var U=function(Qe){function bt(Rt,Gt){var ir=Qe.call(this,Rt,D.HierarchyIdentity)||this;return ir.schemaUrl=bt.schemaUrl,ir.hierarchyData=Gt,ir}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.hierarchyData=this.hierarchyData,Rt.target=this.target,Rt},bt.schemaUrl="http://powerbi.com/product/schema#hierarchyIdentity",bt}(w);function H(Qe){if(Qe.filterType)return Qe.filterType;var Rt=Qe;return"string"==typeof Qe.operator&&Array.isArray(Qe.values)?D.Basic:"string"==typeof Rt.logicalOperator&&Array.isArray(Rt.conditions)?D.Advanced:D.Unknown}function G(Qe){return!(!Qe.table||!Qe.column||Qe.aggregationFunction)}t.HierarchyIdentityFilter=U,t.isFilterKeyColumnsTarget=function(Qe){return G(Qe)&&!!Qe.keys},t.isBasicFilterWithKeys=function(Qe){return H(Qe)===D.Basic&&!!Qe.keyValues},t.getFilterType=H,t.isMeasure=function(Qe){return void 0!==Qe.table&&void 0!==Qe.measure},t.isColumn=G,t.isHierarchyLevel=function(Qe){return!(!(Qe.table&&Qe.hierarchy&&Qe.hierarchyLevel)||Qe.aggregationFunction)},t.isHierarchyLevelAggr=function(Qe){return!!(Qe.table&&Qe.hierarchy&&Qe.hierarchyLevel&&Qe.aggregationFunction)},t.isColumnAggr=function(Qe){return!!(Qe.table&&Qe.column&&Qe.aggregationFunction)},t.isPercentOfGrandTotal=function(Qe){return!!Qe.percentOfGrandTotal},function(Qe){Qe[Qe.NoConnection=0]="NoConnection",Qe[Qe.OnBehalfOf=1]="OnBehalfOf",Qe[Qe.Anonymous=2]="Anonymous"}(t.CredentialType||(t.CredentialType={})),function(Qe){Qe[Qe.Import=0]="Import",Qe[Qe.DirectQuery=1]="DirectQuery"}(t.DataCacheMode||(t.DataCacheMode={})),function(Qe){Qe[Qe.Default=1]="Default",Qe[Qe.None=2]="None",Qe[Qe.Sum=3]="Sum",Qe[Qe.Min=4]="Min",Qe[Qe.Max=5]="Max",Qe[Qe.Count=6]="Count",Qe[Qe.Average=7]="Average",Qe[Qe.DistinctCount=8]="DistinctCount"}(t.AggregateFunction||(t.AggregateFunction={})),function(Qe){Qe[Qe.Default=0]="Default",Qe[Qe.NoAdjustments=1]="NoAdjustments"}(t.BrowserPrintAdjustmentsMode||(t.BrowserPrintAdjustmentsMode={})),function(Qe){Qe[Qe.Bottom=0]="Bottom",Qe[Qe.Left=1]="Left"}(t.PageNavigationPosition||(t.PageNavigationPosition={})),function(Qe){Qe[Qe.Interactive=0]="Interactive",Qe[Qe.ResultOnly=1]="ResultOnly"}(t.QnaMode||(t.QnaMode={})),function(Qe){Qe[Qe.Summarized=0]="Summarized",Qe[Qe.Underlying=1]="Underlying"}(t.ExportDataType||(t.ExportDataType={})),function(Qe){Qe[Qe.Off=0]="Off",Qe[Qe.Presentation=1]="Presentation"}(t.BookmarksPlayMode||(t.BookmarksPlayMode={})),t.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},t.TextAlignment={Left:"left",Center:"center",Right:"right"},t.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(Qe){Qe[Qe.Ascending=1]="Ascending",Qe[Qe.Descending=2]="Descending"}(t.SortDirection||(t.SortDirection={}));var Pe=function(){function Qe(bt){this.$schema=bt}return Qe.prototype.toJSON=function(){return{$schema:this.$schema}},Qe}();t.Selector=Pe;var Ve=function(Qe){function bt(Rt){var Gt=Qe.call(this,bt.schemaUrl)||this;return Gt.pageName=Rt,Gt}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.pageName=this.pageName,Rt},bt.schemaUrl="http://powerbi.com/product/schema#pageSelector",bt}(Pe);t.PageSelector=Ve;var Ze=function(Qe){function bt(Rt){var Gt=Qe.call(this,bt.schemaUrl)||this;return Gt.visualName=Rt,Gt}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.visualName=this.visualName,Rt},bt.schemaUrl="http://powerbi.com/product/schema#visualSelector",bt}(Pe);t.VisualSelector=Ze;var Ue=function(Qe){function bt(Rt){var Gt=Qe.call(this,Ze.schemaUrl)||this;return Gt.visualType=Rt,Gt}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.visualType=this.visualType,Rt},bt.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",bt}(Pe);t.VisualTypeSelector=Ue;var Je=function(Qe){function bt(Rt){var Gt=Qe.call(this,Ze.schemaUrl)||this;return Gt.target=Rt,Gt}return y(bt,Qe),bt.prototype.toJSON=function(){var Rt=Qe.prototype.toJSON.call(this);return Rt.target=this.target,Rt},bt.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",bt}(Pe);function ke(Qe){return Array.isArray(Qe)}function tt(Qe){return Qe&&!!Qe.groupName}function ct(Qe){return Array.isArray(Qe)}function Ne(Qe){var bt=Qe.message;return bt||(bt="".concat(Qe.path," is invalid. Not meeting ").concat(Qe.keyword," constraint")),{message:bt}}t.SlicerTargetSelector=Je,function(Qe){Qe[Qe.Enabled=0]="Enabled",Qe[Qe.Disabled=1]="Disabled",Qe[Qe.Hidden=2]="Hidden"}(t.CommandDisplayOption||(t.CommandDisplayOption={})),function(Qe){Qe[Qe.Grouping=0]="Grouping",Qe[Qe.Measure=1]="Measure",Qe[Qe.GroupingOrMeasure=2]="GroupingOrMeasure"}(t.VisualDataRoleKind||(t.VisualDataRoleKind={})),function(Qe){Qe[Qe.Measure=0]="Measure",Qe[Qe.Grouping=1]="Grouping"}(t.VisualDataRoleKindPreference||(t.VisualDataRoleKindPreference={})),t.isOnLoadFilters=function(Qe){return Qe&&!ke(Qe)},t.isReportFiltersArray=ke,t.isFlatMenuExtension=function(Qe){return Qe&&!tt(Qe)},t.isGroupedMenuExtension=tt,t.isIExtensions=function(Qe){return Qe&&!ct(Qe)},t.isIExtensionArray=ct,t.validateVisualSelector=function(Qe){var bt=i.Validators.visualSelectorValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateSlicer=function(Qe){var bt=i.Validators.slicerValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateSlicerState=function(Qe){var bt=i.Validators.slicerStateValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validatePlayBookmarkRequest=function(Qe){var bt=i.Validators.playBookmarkRequestValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateAddBookmarkRequest=function(Qe){var bt=i.Validators.addBookmarkRequestValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateApplyBookmarkByNameRequest=function(Qe){var bt=i.Validators.applyBookmarkByNameRequestValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateApplyBookmarkStateRequest=function(Qe){var bt=i.Validators.applyBookmarkStateRequestValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateCaptureBookmarkRequest=function(Qe){var bt=i.Validators.captureBookmarkRequestValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateSettings=function(Qe){var bt=i.Validators.settingsValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validatePanes=function(Qe){var bt=i.Validators.reportPanesValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateBookmarksPane=function(Qe){var bt=i.Validators.bookmarksPaneValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateFiltersPane=function(Qe){var bt=i.Validators.filtersPaneValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateFieldsPane=function(Qe){var bt=i.Validators.fieldsPaneValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validatePageNavigationPane=function(Qe){var bt=i.Validators.pageNavigationPaneValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateSelectionPane=function(Qe){var bt=i.Validators.selectionPaneValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateSyncSlicersPane=function(Qe){var bt=i.Validators.syncSlicersPaneValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateVisualizationsPane=function(Qe){var bt=i.Validators.visualizationsPaneValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateCustomPageSize=function(Qe){var bt=i.Validators.customPageSizeValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateExtension=function(Qe){var bt=i.Validators.extensionValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateMenuGroupExtension=function(Qe){var bt=i.Validators.menuGroupExtensionValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateReportLoad=function(Qe){var bt=i.Validators.reportLoadValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validatePaginatedReportLoad=function(Qe){var bt=i.Validators.paginatedReportLoadValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateCreateReport=function(Qe){var bt=i.Validators.reportCreateValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateQuickCreate=function(Qe){var bt=i.Validators.quickCreateValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateDashboardLoad=function(Qe){var bt=i.Validators.dashboardLoadValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateTileLoad=function(Qe){var bt=i.Validators.tileLoadValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validatePage=function(Qe){var bt=i.Validators.pageValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateFilter=function(Qe){var bt=i.Validators.filterValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateUpdateFiltersRequest=function(Qe){var bt=i.Validators.updateFiltersRequestValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateSaveAsParameters=function(Qe){var bt=i.Validators.saveAsParametersValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateLoadQnaConfiguration=function(Qe){var bt=i.Validators.loadQnaValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateQnaInterpretInputData=function(Qe){var bt=i.Validators.qnaInterpretInputDataValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateExportDataRequest=function(Qe){var bt=i.Validators.exportDataRequestValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateVisualHeader=function(Qe){var bt=i.Validators.visualHeaderValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateVisualSettings=function(Qe){var bt=i.Validators.visualSettingsValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateCommandsSettings=function(Qe){var bt=i.Validators.commandsSettingsValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateCustomTheme=function(Qe){var bt=i.Validators.customThemeValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validateZoomLevel=function(Qe){var bt=i.Validators.zoomLevelValidator.validate(Qe);return bt?bt.map(Ne):void 0},t.validatePrintSettings=function(Qe){var bt=i.Validators.printSettingsValidator.validate(Qe);return bt?bt.map(Ne):void 0}},(u,t,C)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Validators=void 0;var y=C(2),i=C(5),o=C(6),c=C(7),h=C(8),d=C(9),n=C(10),s=C(11),p=C(12),l=C(13),m=C(14),b=C(15),V=C(16),g=C(17),v=C(18),f=C(19),S=C(20),P=C(21),D=C(22),M=C(23),E=C(24),w=C(25),x=C(26),N=C(27),L=C(28),B=C(29),I=C(4),W=C(30),O=C(31),F=C(32),A=C(33),T=C(34);t.Validators={addBookmarkRequestValidator:new i.AddBookmarkRequestValidator,advancedFilterTypeValidator:new I.EnumValidator([0]),advancedFilterValidator:new p.AdvancedFilterValidator,anyArrayValidator:new I.ArrayValidator([new x.AnyOfValidator([new I.StringValidator,new I.NumberValidator,new I.BooleanValidator])]),anyFilterValidator:new x.AnyOfValidator([new p.BasicFilterValidator,new p.AdvancedFilterValidator,new p.IncludeExcludeFilterValidator,new p.NotSupportedFilterValidator,new p.RelativeDateFilterValidator,new p.TopNFilterValidator,new p.RelativeTimeFilterValidator,new p.HierarchyFilterValidator]),anyValueValidator:new x.AnyOfValidator([new I.StringValidator,new I.NumberValidator,new I.BooleanValidator]),actionBarValidator:new y.ActionBarValidator,statusBarValidator:new y.StatusBarValidator,applyBookmarkByNameRequestValidator:new i.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new i.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new x.AnyOfValidator([new i.ApplyBookmarkByNameRequestValidator,new i.ApplyBookmarkStateRequestValidator]),backgroundValidator:new I.EnumValidator([0,1]),basicFilterTypeValidator:new I.EnumValidator([1]),basicFilterValidator:new p.BasicFilterValidator,booleanArrayValidator:new I.BooleanArrayValidator,booleanValidator:new I.BooleanValidator,bookmarksPaneValidator:new b.BookmarksPaneValidator,captureBookmarkOptionsValidator:new i.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new i.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new I.ArrayValidator([new O.ColumnSchemaValidator]),commandDisplayOptionValidator:new I.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new x.AnyOfValidator([new P.VisualSelectorValidator,new P.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new I.ArrayValidator([new s.CommandExtensionValidator]),commandExtensionValidator:new s.CommandExtensionValidator,commandsSettingsArrayValidator:new I.ArrayValidator([new o.CommandsSettingsValidator]),commandsSettingsValidator:new o.CommandsSettingsValidator,conditionItemValidator:new p.ConditionItemValidator,contrastModeValidator:new I.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new B.MapValidator([new I.StringValidator],[new I.StringValidator]),credentialsValidator:new O.CredentialsValidator,credentialTypeValidator:new I.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new I.EnumValidator([0,1,2]),customLayoutValidator:new l.CustomLayoutValidator,customPageSizeValidator:new m.CustomPageSizeValidator,customThemeValidator:new c.CustomThemeValidator,dashboardLoadValidator:new h.DashboardLoadValidator,dataCacheModeValidator:new I.EnumValidator([0,1]),datasetBindingValidator:new d.DatasetBindingValidator,datasetCreateConfigValidator:new O.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new O.DatasourceConnectionConfigValidator,displayStateModeValidator:new I.EnumValidator([0,1]),displayStateValidator:new l.DisplayStateValidator,exportDataRequestValidator:new n.ExportDataRequestValidator,extensionArrayValidator:new I.ArrayValidator([new s.ExtensionValidator]),extensionsValidator:new x.AnyOfValidator([new I.ArrayValidator([new s.ExtensionValidator]),new s.ExtensionsValidator]),extensionPointsValidator:new s.ExtensionPointsValidator,extensionValidator:new s.ExtensionValidator,fieldForbiddenValidator:new N.FieldForbiddenValidator,fieldRequiredValidator:new L.FieldRequiredValidator,fieldsPaneValidator:new b.FieldsPaneValidator,filterColumnTargetValidator:new p.FilterColumnTargetValidator,filterDisplaySettingsValidator:new p.FilterDisplaySettingsValidator,filterConditionsValidator:new I.ArrayValidator([new p.ConditionItemValidator]),filterHierarchyTargetValidator:new p.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new p.FilterMeasureTargetValidator,filterTargetValidator:new x.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new I.ArrayValidator([new x.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new p.FilterKeyColumnsTargetValidator,new p.FilterKeyHierarchyTargetValidator,new I.ArrayValidator([new x.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new p.FilterKeyColumnsTargetValidator,new p.FilterKeyHierarchyTargetValidator])])])])]),filterValidator:new p.FilterValidator,filterTypeValidator:new I.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new I.ArrayValidator([new p.FilterValidator]),filtersOperationsUpdateValidator:new I.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new I.EnumValidator([0]),filtersPaneValidator:new b.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new I.EnumValidator([0,1,2]),includeExcludeFilterValidator:new p.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new I.EnumValidator([3]),includeExcludeFilterValuesValidator:new I.ArrayValidator([new x.AnyOfValidator([new I.StringValidator,new I.NumberValidator,new I.BooleanValidator,new I.ArrayValidator([new I.ArrayValidator([new p.IncludeExcludePointValueValidator])])])]),hierarchyFilterTypeValidator:new I.EnumValidator([9]),hierarchyFilterValuesValidator:new I.ArrayValidator([new p.HierarchyFilterNodeValidator]),layoutTypeValidator:new I.EnumValidator([0,1,2,3]),loadQnaValidator:new V.LoadQnaValidator,menuExtensionValidator:new x.AnyOfValidator([new s.FlatMenuExtensionValidator,new s.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new I.ArrayValidator([new s.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new s.MenuGroupExtensionValidator,menuLocationValidator:new I.EnumValidator([0,1]),notSupportedFilterTypeValidator:new I.EnumValidator([2]),notSupportedFilterValidator:new p.NotSupportedFilterValidator,numberArrayValidator:new I.NumberArrayValidator,numberValidator:new I.NumberValidator,onLoadFiltersBaseValidator:new x.AnyOfValidator([new p.OnLoadFiltersBaseValidator,new p.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new B.MapValidator([new I.StringValidator],[new l.VisualLayoutValidator]),pageNavigationPaneValidator:new b.PageNavigationPaneValidator,pageNavigationPositionValidator:new I.EnumValidator([0,1]),pageSizeTypeValidator:new I.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new m.PageSizeValidator,pageValidator:new m.PageValidator,pageViewFieldValidator:new m.PageViewFieldValidator,pagesLayoutValidator:new B.MapValidator([new I.StringValidator],[new l.PageLayoutValidator]),paginatedReportCommandsValidator:new o.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new I.ArrayValidator([new T.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new f.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new D.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new I.ArrayValidator([new f.ReportParameterFieldsValidator]),parametersPanelValidator:new W.ParametersPanelValidator,permissionsValidator:new I.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new i.PlayBookmarkRequestValidator,printSettingsValidator:new A.PrintSettingsValidator,qnaInterpretInputDataValidator:new V.QnaInterpretInputDataValidator,qnaPanesValidator:new b.QnaPanesValidator,qnaSettingValidator:new V.QnaSettingsValidator,quickCreateValidator:new F.QuickCreateValidator,rawDataValidator:new I.ArrayValidator([new I.ArrayValidator([new I.StringValidator])]),relativeDateFilterOperatorValidator:new I.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new I.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new I.EnumValidator([4]),relativeDateFilterValidator:new p.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new I.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new I.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new I.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new I.EnumValidator([7]),relativeTimeFilterValidator:new p.RelativeTimeFilterValidator,reportBarsValidator:new y.ReportBarsValidator,reportCreateValidator:new g.ReportCreateValidator,reportLoadFiltersValidator:new x.AnyOfValidator([new I.ArrayValidator([new p.FilterValidator]),new p.OnLoadFiltersValidator]),reportLoadValidator:new v.ReportLoadValidator,reportPanesValidator:new b.ReportPanesValidator,saveAsParametersValidator:new S.SaveAsParametersValidator,selectionPaneValidator:new b.SelectionPaneValidator,settingsValidator:new D.SettingsValidator,singleCommandSettingsValidator:new o.SingleCommandSettingsValidator,slicerSelectorValidator:new x.AnyOfValidator([new P.VisualSelectorValidator,new P.SlicerTargetSelectorValidator]),slicerStateValidator:new M.SlicerStateValidator,slicerTargetValidator:new x.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new p.FilterKeyColumnsTargetValidator,new p.FilterKeyHierarchyTargetValidator]),slicerValidator:new M.SlicerValidator,stringArrayValidator:new I.StringArrayValidator,stringValidator:new I.StringValidator,syncSlicersPaneValidator:new b.SyncSlicersPaneValidator,tableDataArrayValidator:new I.ArrayValidator([new O.TableDataValidator]),tableSchemaListValidator:new I.ArrayValidator([new O.TableSchemaValidator]),tileLoadValidator:new E.TileLoadValidator,tokenTypeValidator:new I.EnumValidator([0,1]),topNFilterTypeValidator:new I.EnumValidator([5]),topNFilterValidator:new p.TopNFilterValidator,updateFiltersRequestValidator:new x.AnyOfValidator([new p.UpdateFiltersRequestValidator,new p.RemoveFiltersRequestValidator]),viewModeValidator:new I.EnumValidator([0,1]),visualCommandSelectorValidator:new x.AnyOfValidator([new P.VisualSelectorValidator,new P.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new x.AnyOfValidator([new P.VisualSelectorValidator,new P.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new w.VisualHeaderSettingsValidator,visualHeaderValidator:new w.VisualHeaderValidator,visualHeadersValidator:new I.ArrayValidator([new w.VisualHeaderValidator]),visualizationsPaneValidator:new b.VisualizationsPaneValidator,visualLayoutValidator:new l.VisualLayoutValidator,visualSelectorValidator:new P.VisualSelectorValidator,visualSettingsValidator:new w.VisualSettingsValidator,visualTypeSelectorValidator:new P.VisualTypeSelectorValidator,zoomLevelValidator:new I.RangeValidator(.25,4)}},function(u,t,C){var s,y=this&&this.__extends||(s=function(p,l){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var V in b)Object.prototype.hasOwnProperty.call(b,V)&&(m[V]=b[V])})(p,l)},function(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=p}s(p,l),p.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarValidator=t.ActionBarValidator=t.ReportBarsValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"actionBar",validators:[c.Validators.actionBarValidator]},{field:"statusBar",validators:[c.Validators.statusBarValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.ReportBarsValidator=h;var d=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.ActionBarValidator=d;var n=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.StatusBarValidator=n},(u,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleFieldsValidator=void 0;var C=function(){function y(i){this.fieldValidatorsPairs=i}return y.prototype.validate=function(i,o,c){if(!this.fieldValidatorsPairs)return null;for(var h=o?o+"."+c:c,d=0,n=this.fieldValidatorsPairs;d<n.length;d++)for(var s=n[d],p=0,l=s.validators;p<l.length;p++){var b=l[p].validate(i[s.field],h,s.field);if(b)return b}return null},y}();t.MultipleFieldsValidator=C},function(u,t){var g,C=this&&this.__extends||(g=function(v,f){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(S[D]=P[D])})(v,f)},function(v,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function S(){this.constructor=v}g(v,f),v.prototype=null===f?Object.create(f):(S.prototype=f.prototype,new S)});Object.defineProperty(t,"__esModule",{value:!0}),t.RangeValidator=t.NumberArrayValidator=t.BooleanArrayValidator=t.StringArrayValidator=t.EnumValidator=t.SchemaValidator=t.ValueValidator=t.NumberValidator=t.BooleanValidator=t.StringValidator=t.TypeValidator=t.ArrayValidator=t.ObjectValidator=void 0;var y=function(){function g(){}return g.prototype.validate=function(v,f,S){return null==v?null:"object"!=typeof v||Array.isArray(v)?[{message:void 0!==S?S+" must be an object":"input must be an object",path:f,keyword:"type"}]:null},g}();t.ObjectValidator=y;var i=function(){function g(v){this.itemValidators=v}return g.prototype.validate=function(v,f,S){if(null==v)return null;if(!Array.isArray(v))return[{message:S+" property is invalid",path:(f?f+".":"")+S,keyword:"type"}];for(var P=0;P<v.length;P++)for(var D=(f?f+".":"")+S+"."+P.toString(),M=0,E=this.itemValidators;M<E.length;M++)if(E[M].validate(v[P],D,S))return[{message:S+" property is invalid",path:(f?f+".":"")+S,keyword:"type"}];return null},g}();t.ArrayValidator=i;var o=function(){function g(v){this.expectedType=v}return g.prototype.validate=function(v,f,S){return null==v?null:typeof v!==this.expectedType?[{message:S+" must be a "+this.expectedType,path:(f?f+".":"")+S,keyword:"type"}]:null},g}();t.TypeValidator=o;var c=function(g){function v(){return g.call(this,"string")||this}return C(v,g),v}(o);t.StringValidator=c;var h=function(g){function v(){return g.call(this,"boolean")||this}return C(v,g),v}(o);t.BooleanValidator=h;var d=function(g){function v(){return g.call(this,"number")||this}return C(v,g),v}(o);t.NumberValidator=d;var n=function(){function g(v){this.possibleValues=v}return g.prototype.validate=function(v,f,S){return null==v?null:this.possibleValues.indexOf(v)<0?[{message:S+" property is invalid",path:(f?f+".":"")+S,keyword:"invalid"}]:null},g}();t.ValueValidator=n;var s=function(g){function v(f){var S=g.call(this,[f])||this;return S.schemaValue=f,S}return C(v,g),v.prototype.validate=function(f,S,P){return g.prototype.validate.call(this,f,S,P)},v}(n);t.SchemaValidator=s;var p=function(g){function v(f){var S=g.call(this)||this;return S.possibleValues=f,S}return C(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new n(this.possibleValues).validate(f,S,P)},v}(d);t.EnumValidator=p;var l=function(g){function v(){return g.call(this,[new c])||this}return C(v,g),v.prototype.validate=function(f,S,P){return g.prototype.validate.call(this,f,S,P)?[{message:P+" must be an array of strings",path:(S?S+".":"")+P,keyword:"type"}]:null},v}(i);t.StringArrayValidator=l;var m=function(g){function v(){return g.call(this,[new h])||this}return C(v,g),v.prototype.validate=function(f,S,P){return g.prototype.validate.call(this,f,S,P)?[{message:P+" must be an array of booleans",path:(S?S+".":"")+P,keyword:"type"}]:null},v}(i);t.BooleanArrayValidator=m;var b=function(g){function v(){return g.call(this,[new d])||this}return C(v,g),v.prototype.validate=function(f,S,P){return g.prototype.validate.call(this,f,S,P)?[{message:P+" must be an array of numbers",path:(S?S+".":"")+P,keyword:"type"}]:null},v}(i);t.NumberArrayValidator=b;var V=function(g){function v(f,S){var P=g.call(this)||this;return P.minValue=f,P.maxValue=S,P}return C(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||(f>this.maxValue||f<this.minValue?[{message:P+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(S?S+".":"")+P,keyword:"range"}]:null)},v}(d);t.RangeValidator=V},function(u,t,C){var m,y=this&&this.__extends||(m=function(b,V){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(g[f]=v[f])})(b,V)},function(b,V){if("function"!=typeof V&&null!==V)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function g(){this.constructor=b}m(b,V),b.prototype=null===V?Object.create(V):(g.prototype=V.prototype,new g)});Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureBookmarkRequestValidator=t.CaptureBookmarkOptionsValidator=t.ApplyBookmarkStateRequestValidator=t.ApplyBookmarkByNameRequestValidator=t.AddBookmarkRequestValidator=t.PlayBookmarkRequestValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){if(null==V)return null;var f=m.prototype.validate.call(this,V,g,v);if(f)return f;var S=[{field:"playMode",validators:[c.Validators.fieldRequiredValidator,new o.EnumValidator([0,1])]}];return new i.MultipleFieldsValidator(S).validate(V,g,v)},b}(o.ObjectValidator);t.PlayBookmarkRequestValidator=h;var d=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"state",validators:[c.Validators.stringValidator]},{field:"displayName",validators:[c.Validators.stringValidator]},{field:"apply",validators:[c.Validators.booleanValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.AddBookmarkRequestValidator=d;var n=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.ApplyBookmarkByNameRequestValidator=n;var s=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"state",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.ApplyBookmarkStateRequestValidator=s;var p=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[c.Validators.booleanValidator]},{field:"allPages",validators:[c.Validators.booleanValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.CaptureBookmarkOptionsValidator=p;var l=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"options",validators:[c.Validators.fieldRequiredValidator,c.Validators.captureBookmarkOptionsValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.CaptureBookmarkRequestValidator=l},function(u,t,C){var s,y=this&&this.__extends||(s=function(p,l){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var V in b)Object.prototype.hasOwnProperty.call(b,V)&&(m[V]=b[V])})(p,l)},function(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=p}s(p,l),p.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportCommandsValidator=t.SingleCommandSettingsValidator=t.CommandsSettingsValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"copy",validators:[c.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[c.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[c.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[c.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[c.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[c.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[c.Validators.singleCommandSettingsValidator]},{field:"search",validators:[c.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[c.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[c.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[c.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[c.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[c.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[c.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[c.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[c.Validators.singleCommandSettingsValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.CommandsSettingsValidator=h;var d=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"displayOption",validators:[c.Validators.fieldRequiredValidator,c.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[c.Validators.visualCommandSelectorValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.SingleCommandSettingsValidator=d;var n=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"parameterPanel",validators:[c.Validators.parametersPanelValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.PaginatedReportCommandsValidator=n},function(u,t,C){var h,y=this&&this.__extends||(h=function(d,n){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&(s[l]=p[l])})(d,n)},function(d,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=d}h(d,n),d.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomThemeValidator=void 0;var i=C(3),o=C(4),c=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return y(d,h),d.prototype.validate=function(n,s,p){if(null==n)return null;var l=h.prototype.validate.call(this,n,s,p);if(l)return l;var m=[{field:"themeJson",validators:[new o.ObjectValidator]}];return new i.MultipleFieldsValidator(m).validate(n,s,p)},d}(o.ObjectValidator);t.CustomThemeValidator=c},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardLoadValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"pageView",validators:[c.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[c.Validators.stringValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.DashboardLoadValidator=h},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetBindingValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||(s.datasetId||s.paginatedReportBindings?new i.MultipleFieldsValidator([{field:"datasetId",validators:[c.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[c.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(s,p,l):[{message:"datasetBinding cannot be empty",path:(p?p+".":"")+l,keyword:"invalid"}])},n}(o.ObjectValidator);t.DatasetBindingValidator=h},function(u,t,C){var h,y=this&&this.__extends||(h=function(d,n){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&(s[l]=p[l])})(d,n)},function(d,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=d}h(d,n),d.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExportDataRequestValidator=void 0;var i=C(3),o=C(4),c=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return y(d,h),d.prototype.validate=function(n,s,p){if(null==n)return null;var l=h.prototype.validate.call(this,n,s,p);if(l)return l;var m=[{field:"rows",validators:[new o.NumberValidator]},{field:"exportDataType",validators:[new o.EnumValidator([0,1])]}];return new i.MultipleFieldsValidator(m).validate(n,s,p)},d}(o.ObjectValidator);t.ExportDataRequestValidator=c},function(u,t,C){var g,y=this&&this.__extends||(g=function(v,f){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(S[D]=P[D])})(v,f)},function(v,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function S(){this.constructor=v}g(v,f),v.prototype=null===f?Object.create(f):(S.prototype=f.prototype,new S)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsValidator=t.MenuGroupExtensionValidator=t.ExtensionValidator=t.CommandExtensionValidator=t.ExtensionItemValidator=t.ExtensionPointsValidator=t.GroupedMenuExtensionValidator=t.FlatMenuExtensionValidator=t.MenuExtensionBaseValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"title",validators:[c.Validators.stringValidator]},{field:"icon",validators:[c.Validators.stringValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.MenuExtensionBaseValidator=h;var d=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"menuLocation",validators:[c.Validators.menuLocationValidator]},{field:"groupName",validators:[c.Validators.fieldForbiddenValidator]}]).validate(f,S,P)},v}(h);t.FlatMenuExtensionValidator=d;var n=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"groupName",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"menuLocation",validators:[c.Validators.fieldForbiddenValidator]}]).validate(f,S,P)},v}(h);t.GroupedMenuExtensionValidator=n;var s=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"visualContextMenu",validators:[c.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[c.Validators.menuExtensionValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.ExtensionPointsValidator=s;var p=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"extend",validators:[c.Validators.fieldRequiredValidator,c.Validators.extensionPointsValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.ExtensionItemValidator=p;var l=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"title",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"icon",validators:[c.Validators.stringValidator]},{field:"selector",validators:[c.Validators.commandExtensionSelectorValidator]}]).validate(f,S,P)},v}(p);t.CommandExtensionValidator=l;var m=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"command",validators:[c.Validators.commandExtensionValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.ExtensionValidator=m;var b=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"title",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"menuLocation",validators:[c.Validators.menuLocationValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.MenuGroupExtensionValidator=b;var V=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"commands",validators:[c.Validators.fieldRequiredValidator,c.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[c.Validators.menuGroupExtensionArrayValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.ExtensionsValidator=V},function(u,t,C){var F,y=this&&this.__extends||(F=function(A,T){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,U){R.__proto__=U}||function(R,U){for(var z in U)Object.prototype.hasOwnProperty.call(U,z)&&(R[z]=U[z])})(A,T)},function(A,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function R(){this.constructor=A}F(A,T),A.prototype=null===T?Object.create(T):(R.prototype=T.prototype,new R)});Object.defineProperty(t,"__esModule",{value:!0}),t.OnLoadFiltersValidator=t.OnLoadFiltersBaseRemoveOperationValidator=t.OnLoadFiltersBaseValidator=t.ConditionItemValidator=t.RemoveFiltersRequestValidator=t.UpdateFiltersRequestValidator=t.FilterValidator=t.IncludeExcludePointValueValidator=t.HierarchyFilterNodeValidator=t.HierarchyFilterValidator=t.IncludeExcludeFilterValidator=t.NotSupportedFilterValidator=t.TopNFilterValidator=t.RelativeTimeFilterValidator=t.RelativeDateFilterValidator=t.RelativeDateTimeFilterValidator=t.AdvancedFilterValidator=t.BasicFilterValidator=t.FilterValidatorBase=t.FilterDisplaySettingsValidator=t.FilterMeasureTargetValidator=t.FilterKeyHierarchyTargetValidator=t.FilterHierarchyTargetValidator=t.FilterKeyColumnsTargetValidator=t.FilterColumnTargetValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"table",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"column",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.FilterColumnTargetValidator=h;var d=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"keys",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringArrayValidator]}]).validate(T,R,U)},A}(h);t.FilterKeyColumnsTargetValidator=d;var n=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"table",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"hierarchy",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"hierarchyLevel",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.FilterHierarchyTargetValidator=n;var s=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"keys",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringArrayValidator]}]).validate(T,R,U)},A}(n);t.FilterKeyHierarchyTargetValidator=s;var p=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"table",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"measure",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.FilterMeasureTargetValidator=p;var l=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[c.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[c.Validators.booleanValidator]},{field:"displayName",validators:[c.Validators.stringValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.FilterDisplaySettingsValidator=l;var m=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"target",validators:[c.Validators.fieldRequiredValidator,c.Validators.filterTargetValidator]},{field:"$schema",validators:[c.Validators.stringValidator]},{field:"filterType",validators:[c.Validators.filterTypeValidator]},{field:"displaySettings",validators:[c.Validators.filterDisplaySettingsValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.FilterValidatorBase=m;var b=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"values",validators:[c.Validators.fieldRequiredValidator,c.Validators.anyArrayValidator]},{field:"filterType",validators:[c.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[c.Validators.booleanValidator]}]).validate(T,R,U)},A}(m);t.BasicFilterValidator=b;var V=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"logicalOperator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"conditions",validators:[c.Validators.filterConditionsValidator]},{field:"filterType",validators:[c.Validators.advancedFilterTypeValidator]}]).validate(T,R,U)},A}(m);t.AdvancedFilterValidator=V;var g=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[c.Validators.numberValidator]},{field:"timeUnitType",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[c.Validators.relativeDateTimeFilterTypeValidator]}]).validate(T,R,U)},A}(m);t.RelativeDateTimeFilterValidator=g;var v=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"includeToday",validators:[c.Validators.fieldRequiredValidator,c.Validators.booleanValidator]},{field:"timeUnitType",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[c.Validators.relativeDateFilterTypeValidator]}]).validate(T,R,U)},A}(g);t.RelativeDateFilterValidator=v;var f=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"timeUnitType",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[c.Validators.relativeTimeFilterTypeValidator]}]).validate(T,R,U)},A}(g);t.RelativeTimeFilterValidator=f;var S=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"itemCount",validators:[c.Validators.fieldRequiredValidator,c.Validators.numberValidator]},{field:"filterType",validators:[c.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[c.Validators.fieldRequiredValidator,c.Validators.filterTargetValidator]}]).validate(T,R,U)},A}(m);t.TopNFilterValidator=S;var P=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"message",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"filterType",validators:[c.Validators.notSupportedFilterTypeValidator]}]).validate(T,R,U)},A}(m);t.NotSupportedFilterValidator=P;var D=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"isExclude",validators:[c.Validators.fieldRequiredValidator,c.Validators.booleanValidator]},{field:"values",validators:[c.Validators.fieldRequiredValidator,c.Validators.includeExcludeFilterValuesValidator]},{field:"filterType",validators:[c.Validators.includeExludeFilterTypeValidator]}]).validate(T,R,U)},A}(m);t.IncludeExcludeFilterValidator=D;var M=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"hierarchyData",validators:[c.Validators.fieldRequiredValidator,c.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[c.Validators.hierarchyFilterTypeValidator]}]).validate(T,R,U)},A}(m);t.HierarchyFilterValidator=M;var E=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"value",validators:[c.Validators.anyValueValidator]},{field:"keyValues",validators:[c.Validators.anyArrayValidator]},{field:"children",validators:[c.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[c.Validators.stringValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.HierarchyFilterNodeValidator=E;var w=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"value",validators:[c.Validators.fieldRequiredValidator,c.Validators.anyValueValidator]},{field:"keyValues",validators:[c.Validators.anyArrayValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.IncludeExcludePointValueValidator=w;var x=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||c.Validators.anyFilterValidator.validate(T,R,U)},A}(o.ObjectValidator);t.FilterValidator=x;var N=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"filtersOperation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersArrayValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.UpdateFiltersRequestValidator=N;var L=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"filtersOperation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[c.Validators.fieldForbiddenValidator,c.Validators.filtersArrayValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.RemoveFiltersRequestValidator=L;var B=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"value",validators:[c.Validators.anyValueValidator]},{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.ConditionItemValidator=B;var I=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"operation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersArrayValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.OnLoadFiltersBaseValidator=I;var W=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"operation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[c.Validators.fieldForbiddenValidator,c.Validators.filtersArrayValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.OnLoadFiltersBaseRemoveOperationValidator=W;var O=function(F){function A(){return null!==F&&F.apply(this,arguments)||this}return y(A,F),A.prototype.validate=function(T,R,U){return null==T?null:F.prototype.validate.call(this,T,R,U)||new i.MultipleFieldsValidator([{field:"allPages",validators:[c.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[c.Validators.onLoadFiltersBaseValidator]}]).validate(T,R,U)},A}(o.ObjectValidator);t.OnLoadFiltersValidator=O},function(u,t,C){var p,y=this&&this.__extends||(p=function(l,m){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,V){b.__proto__=V}||function(b,V){for(var g in V)Object.prototype.hasOwnProperty.call(V,g)&&(b[g]=V[g])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function b(){this.constructor=l}p(l,m),l.prototype=null===m?Object.create(m):(b.prototype=m.prototype,new b)});Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutValidator=t.DisplayStateValidator=t.VisualLayoutValidator=t.CustomLayoutValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||new i.MultipleFieldsValidator([{field:"pageSize",validators:[c.Validators.pageSizeValidator]},{field:"displayOption",validators:[c.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[c.Validators.pagesLayoutValidator]}]).validate(m,b,V)},l}(o.ObjectValidator);t.CustomLayoutValidator=h;var d=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||new i.MultipleFieldsValidator([{field:"x",validators:[c.Validators.numberValidator]},{field:"y",validators:[c.Validators.numberValidator]},{field:"z",validators:[c.Validators.numberValidator]},{field:"width",validators:[c.Validators.numberValidator]},{field:"height",validators:[c.Validators.numberValidator]},{field:"displayState",validators:[c.Validators.displayStateValidator]}]).validate(m,b,V)},l}(o.ObjectValidator);t.VisualLayoutValidator=d;var n=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||new i.MultipleFieldsValidator([{field:"mode",validators:[c.Validators.displayStateModeValidator]}]).validate(m,b,V)},l}(o.ObjectValidator);t.DisplayStateValidator=n;var s=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||new i.MultipleFieldsValidator([{field:"visualsLayout",validators:[c.Validators.fieldRequiredValidator,c.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[c.Validators.visualLayoutValidator]}]).validate(m,b,V)},l}(o.ObjectValidator);t.PageLayoutValidator=s},function(u,t,C){var p,y=this&&this.__extends||(p=function(l,m){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,V){b.__proto__=V}||function(b,V){for(var g in V)Object.prototype.hasOwnProperty.call(V,g)&&(b[g]=V[g])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function b(){this.constructor=l}p(l,m),l.prototype=null===m?Object.create(m):(b.prototype=m.prototype,new b)});Object.defineProperty(t,"__esModule",{value:!0}),t.PageViewFieldValidator=t.PageValidator=t.CustomPageSizeValidator=t.PageSizeValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||new i.MultipleFieldsValidator([{field:"type",validators:[c.Validators.fieldRequiredValidator,c.Validators.pageSizeTypeValidator]}]).validate(m,b,V)},l}(o.ObjectValidator);t.PageSizeValidator=h;var d=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||new i.MultipleFieldsValidator([{field:"width",validators:[c.Validators.numberValidator]},{field:"height",validators:[c.Validators.numberValidator]}]).validate(m,b,V)},l}(h);t.CustomPageSizeValidator=d;var n=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(m,b,V)},l}(o.ObjectValidator);t.PageValidator=n;var s=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){return null==m?null:p.prototype.validate.call(this,m,b,V)||(["actualSize","fitToWidth","oneColumn"].indexOf(m)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},l}(o.StringValidator);t.PageViewFieldValidator=s},function(u,t,C){var g,y=this&&this.__extends||(g=function(v,f){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(S[D]=P[D])})(v,f)},function(v,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function S(){this.constructor=v}g(v,f),v.prototype=null===f?Object.create(f):(S.prototype=f.prototype,new S)});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationsPaneValidator=t.SyncSlicersPaneValidator=t.SelectionPaneValidator=t.PageNavigationPaneValidator=t.FiltersPaneValidator=t.FieldsPaneValidator=t.BookmarksPaneValidator=t.QnaPanesValidator=t.ReportPanesValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"bookmarks",validators:[c.Validators.bookmarksPaneValidator]},{field:"fields",validators:[c.Validators.fieldsPaneValidator]},{field:"filters",validators:[c.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[c.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[c.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[c.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[c.Validators.visualizationsPaneValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.ReportPanesValidator=h;var d=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"filters",validators:[c.Validators.filtersPaneValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.QnaPanesValidator=d;var n=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.BookmarksPaneValidator=n;var s=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"expanded",validators:[c.Validators.booleanValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.FieldsPaneValidator=s;var p=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]},{field:"expanded",validators:[c.Validators.booleanValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.FiltersPaneValidator=p;var l=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]},{field:"position",validators:[c.Validators.pageNavigationPositionValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.PageNavigationPaneValidator=l;var m=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.SelectionPaneValidator=m;var b=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.SyncSlicersPaneValidator=b;var V=function(g){function v(){return null!==g&&g.apply(this,arguments)||this}return y(v,g),v.prototype.validate=function(f,S,P){return null==f?null:g.prototype.validate.call(this,f,S,P)||new i.MultipleFieldsValidator([{field:"expanded",validators:[c.Validators.booleanValidator]}]).validate(f,S,P)},v}(o.ObjectValidator);t.VisualizationsPaneValidator=V},function(u,t,C){var s,y=this&&this.__extends||(s=function(p,l){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var V in b)Object.prototype.hasOwnProperty.call(b,V)&&(m[V]=b[V])})(p,l)},function(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=p}s(p,l),p.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.QnaInterpretInputDataValidator=t.QnaSettingsValidator=t.LoadQnaValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"datasetIds",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringArrayValidator]},{field:"question",validators:[c.Validators.stringValidator]},{field:"viewMode",validators:[c.Validators.viewModeValidator]},{field:"settings",validators:[c.Validators.qnaSettingValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"groupId",validators:[c.Validators.stringValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.LoadQnaValidator=h;var d=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"hideErrors",validators:[c.Validators.booleanValidator]},{field:"panes",validators:[c.Validators.qnaPanesValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.QnaSettingsValidator=d;var n=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"datasetIds",validators:[c.Validators.stringArrayValidator]},{field:"question",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.QnaInterpretInputDataValidator=n},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportCreateValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"datasetId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"theme",validators:[c.Validators.customThemeValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.ReportCreateValidator=h},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportLoadValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"settings",validators:[c.Validators.settingsValidator]},{field:"pageName",validators:[c.Validators.stringValidator]},{field:"filters",validators:[c.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[c.Validators.permissionsValidator]},{field:"viewMode",validators:[c.Validators.viewModeValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"bookmark",validators:[c.Validators.applyBookmarkValidator]},{field:"theme",validators:[c.Validators.customThemeValidator]},{field:"embedUrl",validators:[c.Validators.stringValidator]},{field:"datasetBinding",validators:[c.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[c.Validators.contrastModeValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.ReportLoadValidator=h},function(u,t,C){var n,y=this&&this.__extends||(n=function(s,p){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(l[b]=m[b])})(s,p)},function(s,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function l(){this.constructor=s}n(s,p),s.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReportParameterFieldsValidator=t.PaginatedReportLoadValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(n){function s(){return null!==n&&n.apply(this,arguments)||this}return y(s,n),s.prototype.validate=function(p,l,m){return null==p?null:n.prototype.validate.call(this,p,l,m)||new i.MultipleFieldsValidator([{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"settings",validators:[c.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[c.Validators.stringValidator]},{field:"type",validators:[c.Validators.stringValidator]},{field:"parameterValues",validators:[c.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[c.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(p,l,m)},s}(o.ObjectValidator);t.PaginatedReportLoadValidator=h;var d=function(){function n(){}return n.prototype.validate=function(s,p,l){return null==s?null:new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"value",validators:[c.Validators.stringValidator]}]).validate(s,p,l)},n}();t.ReportParameterFieldsValidator=d},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.SaveAsParametersValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.SaveAsParametersValidator=h},function(u,t,C){var p,y=this&&this.__extends||(p=function(l,m){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,V){b.__proto__=V}||function(b,V){for(var g in V)Object.prototype.hasOwnProperty.call(V,g)&&(b[g]=V[g])})(l,m)},function(l,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function b(){this.constructor=l}p(l,m),l.prototype=null===m?Object.create(m):(b.prototype=m.prototype,new b)});Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerTargetSelectorValidator=t.VisualTypeSelectorValidator=t.VisualSelectorValidator=void 0;var i=C(3),o=C(4),c=C(4),h=C(1),d=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){if(null==m)return null;var g=p.prototype.validate.call(this,m,b,V);if(g)return g;var v=[{field:"$schema",validators:[h.Validators.stringValidator,new c.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator]}];return new i.MultipleFieldsValidator(v).validate(m,b,V)},l}(o.ObjectValidator);t.VisualSelectorValidator=d;var n=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){if(null==m)return null;var g=p.prototype.validate.call(this,m,b,V);if(g)return g;var v=[{field:"$schema",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator,new c.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator]}];return new i.MultipleFieldsValidator(v).validate(m,b,V)},l}(o.ObjectValidator);t.VisualTypeSelectorValidator=n;var s=function(p){function l(){return null!==p&&p.apply(this,arguments)||this}return y(l,p),l.prototype.validate=function(m,b,V){if(null==m)return null;var g=p.prototype.validate.call(this,m,b,V);if(g)return g;var v=[{field:"$schema",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator,new c.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[h.Validators.fieldRequiredValidator,h.Validators.slicerTargetValidator]}];return new i.MultipleFieldsValidator(v).validate(m,b,V)},l}(o.ObjectValidator);t.SlicerTargetSelectorValidator=s},function(u,t,C){var n,y=this&&this.__extends||(n=function(s,p){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(l[b]=m[b])})(s,p)},function(s,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function l(){this.constructor=s}n(s,p),s.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportSettingsValidator=t.SettingsValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(n){function s(){return null!==n&&n.apply(this,arguments)||this}return y(s,n),s.prototype.validate=function(p,l,m){return null==p?null:n.prototype.validate.call(this,p,l,m)||new i.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[c.Validators.booleanValidator]},{field:"extensions",validators:[c.Validators.extensionsValidator]},{field:"layoutType",validators:[c.Validators.layoutTypeValidator]},{field:"customLayout",validators:[c.Validators.customLayoutValidator]},{field:"background",validators:[c.Validators.backgroundValidator]},{field:"visualSettings",validators:[c.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[c.Validators.booleanValidator]},{field:"commands",validators:[c.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[c.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[c.Validators.reportBarsValidator]},{field:"panes",validators:[c.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[c.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[c.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[c.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[c.Validators.booleanValidator]},{field:"printSettings",validators:[c.Validators.printSettingsValidator]}]).validate(p,l,m)},s}(o.ObjectValidator);t.SettingsValidator=h;var d=function(n){function s(){return null!==n&&n.apply(this,arguments)||this}return y(s,n),s.prototype.validate=function(p,l,m){return null==p?null:n.prototype.validate.call(this,p,l,m)||new i.MultipleFieldsValidator([{field:"commands",validators:[c.Validators.paginatedReportCommandsValidator]}]).validate(p,l,m)},s}(o.ObjectValidator);t.PaginatedReportSettingsValidator=d},function(u,t,C){var n,y=this&&this.__extends||(n=function(s,p){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,m){l.__proto__=m}||function(l,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(l[b]=m[b])})(s,p)},function(s,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function l(){this.constructor=s}n(s,p),s.prototype=null===p?Object.create(p):(l.prototype=p.prototype,new l)});Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerStateValidator=t.SlicerValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(n){function s(){return null!==n&&n.apply(this,arguments)||this}return y(s,n),s.prototype.validate=function(p,l,m){return null==p?null:n.prototype.validate.call(this,p,l,m)||new i.MultipleFieldsValidator([{field:"selector",validators:[c.Validators.fieldRequiredValidator,c.Validators.slicerSelectorValidator]},{field:"state",validators:[c.Validators.fieldRequiredValidator,c.Validators.slicerStateValidator]}]).validate(p,l,m)},s}(o.ObjectValidator);t.SlicerValidator=h;var d=function(n){function s(){return null!==n&&n.apply(this,arguments)||this}return y(s,n),s.prototype.validate=function(p,l,m){return null==p?null:n.prototype.validate.call(this,p,l,m)||new i.MultipleFieldsValidator([{field:"filters",validators:[c.Validators.filtersArrayValidator]}]).validate(p,l,m)},s}(o.ObjectValidator);t.SlicerStateValidator=d},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.TileLoadValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"dashboardId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"pageView",validators:[c.Validators.stringValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"width",validators:[c.Validators.numberValidator]},{field:"height",validators:[c.Validators.numberValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.TileLoadValidator=h},function(u,t,C){var s,y=this&&this.__extends||(s=function(p,l){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var V in b)Object.prototype.hasOwnProperty.call(b,V)&&(m[V]=b[V])})(p,l)},function(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function m(){this.constructor=p}s(p,l),p.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.VisualHeaderValidator=t.VisualHeaderSettingsValidator=t.VisualSettingsValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"visualHeaders",validators:[c.Validators.visualHeadersValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.VisualSettingsValidator=h;var d=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"visible",validators:[c.Validators.booleanValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.VisualHeaderSettingsValidator=d;var n=function(s){function p(){return null!==s&&s.apply(this,arguments)||this}return y(p,s),p.prototype.validate=function(l,m,b){return null==l?null:s.prototype.validate.call(this,l,m,b)||new i.MultipleFieldsValidator([{field:"settings",validators:[c.Validators.fieldRequiredValidator,c.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[c.Validators.visualHeaderSelectorValidator]}]).validate(l,m,b)},p}(o.ObjectValidator);t.VisualHeaderValidator=n},(u,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnyOfValidator=void 0;var C=function(){function y(i){this.validators=i}return y.prototype.validate=function(i,o,c){if(null==i)return null;for(var h=!1,d=0,n=this.validators;d<n.length;d++)if(!n[d].validate(i,o,c)){h=!0;break}return h?null:[{message:c+" property is invalid",path:(o?o+".":"")+c,keyword:"invalid"}]},y}();t.AnyOfValidator=C},(u,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldForbiddenValidator=void 0;var C=function(){function y(){}return y.prototype.validate=function(i,o,c){return void 0!==i?[{message:c+" is forbidden",path:(o?o+".":"")+c,keyword:"forbidden"}]:null},y}();t.FieldForbiddenValidator=C},(u,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRequiredValidator=void 0;var C=function(){function y(){}return y.prototype.validate=function(i,o,c){return null==i?[{message:c+" is required",path:(o?o+".":"")+c,keyword:"required"}]:null},y}();t.FieldRequiredValidator=C},function(u,t,C){var c,y=this&&this.__extends||(c=function(h,d){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(n[p]=s[p])})(h,d)},function(h,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function n(){this.constructor=h}c(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.MapValidator=void 0;var o=function(c){function h(d,n){var s=c.call(this)||this;return s.keyValidators=d,s.valueValidators=n,s}return y(h,c),h.prototype.validate=function(d,n,s){if(null==d)return null;var p=c.prototype.validate.call(this,d,n,s);if(p)return p;for(var l in d)if(d.hasOwnProperty(l)){for(var m=(n?n+".":"")+s+"."+l,b=0,V=this.keyValidators;b<V.length;b++)if(p=V[b].validate(l,m,s))return p;for(var v=0,f=this.valueValidators;v<f.length;v++)if(p=f[v].validate(d[l],m,s))return p}return null},h}(C(4).ObjectValidator);t.MapValidator=o},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersPanelValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"expanded",validators:[c.Validators.booleanValidator]},{field:"enabled",validators:[c.Validators.booleanValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.ParametersPanelValidator=h},function(u,t,C){var m,y=this&&this.__extends||(m=function(b,V){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(g[f]=v[f])})(b,V)},function(b,V){if("function"!=typeof V&&null!==V)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function g(){this.constructor=b}m(b,V),b.prototype=null===V?Object.create(V):(g.prototype=V.prototype,new g)});Object.defineProperty(t,"__esModule",{value:!0}),t.TableDataValidator=t.TableSchemaValidator=t.ColumnSchemaValidator=t.CredentialsValidator=t.DatasourceConnectionConfigValidator=t.DatasetCreateConfigValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){if(null==V)return null;var f=m.prototype.validate.call(this,V,g,v);return f||((f=new i.MultipleFieldsValidator([{field:"locale",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"mashupDocument",validators:[c.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[c.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[c.Validators.tableSchemaListValidator]},{field:"data",validators:[c.Validators.tableDataArrayValidator]}]).validate(V,g,v))?f:V.datasourceConnectionConfig&&null==V.mashupDocument?[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}]:V.data&&null==V.tableSchemaList?[{message:"tableSchemaList cannot be empty when data is provided"}]:null==V.data&&null==V.mashupDocument?[{message:"At least one of data or mashupDocument must be provided"}]:void 0)},b}(o.ObjectValidator);t.DatasetCreateConfigValidator=h;var d=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"dataCacheMode",validators:[c.Validators.dataCacheModeValidator]},{field:"credentials",validators:[c.Validators.credentialsValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.DatasourceConnectionConfigValidator=d;var n=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"credentialType",validators:[c.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[c.Validators.credentialDetailsValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.CredentialsValidator=n;var s=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"displayName",validators:[c.Validators.stringValidator]},{field:"dataType",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.ColumnSchemaValidator=s;var p=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"columns",validators:[c.Validators.fieldRequiredValidator,c.Validators.columnSchemaArrayValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.TableSchemaValidator=p;var l=function(m){function b(){return null!==m&&m.apply(this,arguments)||this}return y(b,m),b.prototype.validate=function(V,g,v){return null==V?null:m.prototype.validate.call(this,V,g,v)||new i.MultipleFieldsValidator([{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"rows",validators:[c.Validators.fieldRequiredValidator,c.Validators.rawDataValidator]}]).validate(V,g,v)},b}(o.ObjectValidator);t.TableDataValidator=l},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCreateValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"theme",validators:[c.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[c.Validators.fieldRequiredValidator,c.Validators.datasetCreateConfigValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.QuickCreateValidator=h},function(u,t,C){var h,y=this&&this.__extends||(h=function(d,n){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&(s[l]=p[l])})(d,n)},function(d,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=d}h(d,n),d.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)});Object.defineProperty(t,"__esModule",{value:!0}),t.PrintSettingsValidator=void 0;var i=C(3),o=C(4),c=function(h){function d(){return null!==h&&h.apply(this,arguments)||this}return y(d,h),d.prototype.validate=function(n,s,p){if(null==n)return null;var l=h.prototype.validate.call(this,n,s,p);if(l)return l;var m=[{field:"browserPrintAdjustmentsMode",validators:[new o.EnumValidator([0,1])]}];return new i.MultipleFieldsValidator(m).validate(n,s,p)},d}(o.ObjectValidator);t.PrintSettingsValidator=c},function(u,t,C){var d,y=this&&this.__extends||(d=function(n,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(p[m]=l[m])})(n,s)},function(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=n}d(n,s),n.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportDatasetBindingValidator=void 0;var i=C(3),o=C(4),c=C(1),h=function(d){function n(){return null!==d&&d.apply(this,arguments)||this}return y(n,d),n.prototype.validate=function(s,p,l){return null==s?null:d.prototype.validate.call(this,s,p,l)||new i.MultipleFieldsValidator([{field:"sourceDatasetId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"targetDatasetId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}]).validate(s,p,l)},n}(o.ObjectValidator);t.PaginatedReportDatasetBindingValidator=h}],r={},function a(u){var t=r[u];if(void 0!==t)return t.exports;var C=r[u]={exports:{}};return k[u].call(C.exports,C,C.exports,a),C.exports}(0);var k,r},Ce.exports=a()},935128:function(Ce){Ce.exports=function(k){var r={};function a(e){if(r[e])return r[e].exports;var u=r[e]={exports:{},id:e,loaded:!1};return k[e].call(u.exports,u,u.exports,a),u.loaded=!0,u.exports}return a.m=k,a.c=r,a.p="",a(0)}([function(k,r,a){var e=a(1),u=function(){function C(y){this.handlers=y,this.getRouteRecognizer=new e,this.patchRouteRecognizer=new e,this.postRouteRecognizer=new e,this.putRouteRecognizer=new e,this.deleteRouteRecognizer=new e}return C.prototype.get=function(y,i){return this.registerHandler(this.getRouteRecognizer,"GET",y,i),this},C.prototype.patch=function(y,i){return this.registerHandler(this.patchRouteRecognizer,"PATCH",y,i),this},C.prototype.post=function(y,i){return this.registerHandler(this.postRouteRecognizer,"POST",y,i),this},C.prototype.put=function(y,i){return this.registerHandler(this.putRouteRecognizer,"PUT",y,i),this},C.prototype.delete=function(y,i){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",y,i),this},C.prototype.registerHandler=function(y,i,o,c){y.add([{path:o,handler:function(n){var s=new t;return Promise.resolve(c(n,s)).then(function(p){return s})}}]),this.handlers.addHandler({test:function(n){if(n.method!==i)return!1;var s=y.recognize(n.url);if(void 0===s)return!1;var p=s[0];return n.params=p.params,n.queryParams=s.queryParams,n.handler=p.handler,!0},handle:function(n){return n.handler(n)}})},C}();r.Router=u;var t=function(){function C(){this.statusCode=200,this.headers={},this.body=null}return C.prototype.send=function(y,i){this.statusCode=y,this.body=i},C}();r.Response=t},function(k,r,a){var e;(function(u){(function(){function t(w,x,N){this.path=w,this.matcher=x,this.delegate=N}function C(w){this.routes={},this.children={},this.target=w}function y(w,x,N){return function(L,B){var I=w+L;if(!B)return new t(w+L,x,N);B(y(I,x,N))}}function i(w,x,N){for(var L=0,B=0;B<w.length;B++)L+=w[B].path.length;x=x.substr(L),w.push({path:x,handler:N})}function o(w,x,N,L){var B=x.routes;for(var I in B)if(B.hasOwnProperty(I)){var W=w.slice();i(W,I,B[I]),x.children[I]?o(W,x.children[I],N,L):N.call(L,W)}}t.prototype={to:function(w,x){var N=this.delegate;if(N&&N.willAddRoute&&(w=N.willAddRoute(this.matcher.target,w)),this.matcher.add(this.path,w),x){if(0===x.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,w,x,this.delegate)}return this}},C.prototype={add:function(w,x){this.routes[w]=x},addChild:function(w,x,N,L){var B=new C(x);this.children[w]=B;var I=y(w,B,L);L&&L.contextEntered&&L.contextEntered(x,I),N(I)}};var d=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function n(w){return"[object Array]"===Object.prototype.toString.call(w)}function s(w){this.string=w}function p(w){this.name=w}function l(w){this.name=w}function m(){}function b(w,x,N){"/"===w.charAt(0)&&(w=w.substr(1));var L=w.split("/"),B=new Array(L.length);N.val="";for(var I=0;I<L.length;I++){var O,W=L[I];(O=W.match(/^:([^\/]+)$/))?(B[I]=new p(O[1]),x.push(O[1]),N.val+="3"):(O=W.match(/^\*([^\/]+)$/))?(B[I]=new l(O[1]),N.val+="1",x.push(O[1])):""===W?(B[I]=new m,N.val+="2"):(B[I]=new s(W),N.val+="4")}return N.val=+N.val,B}function V(w){this.charSpec=w,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function v(w,x){for(var N=[],L=0,B=w.length;L<B;L++)N=N.concat(w[L].match(x));return N}function S(w){this.queryParams=w||{}}function D(w){var x;w=w.replace(/\+/gm,"%20");try{x=decodeURIComponent(w)}catch{x=""}return x}s.prototype={eachChar:function(w){for(var N,x=this.string,L=0;L<x.length;L++)N=x.charAt(L),w=w.put({invalidChars:void 0,repeat:!1,validChars:N});return w},regex:function(){return this.string.replace(d,"\\$1")},generate:function(){return this.string}},p.prototype={eachChar:function(w){return w.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(w){return w[this.name]}},l.prototype={eachChar:function(w){return w.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(w){return w[this.name]}},m.prototype={eachChar:function(w){return w},regex:function(){return""},generate:function(){return""}},V.prototype={get:function(w){if(this.charSpecs[w.validChars])return this.charSpecs[w.validChars];for(var x=this.nextStates,N=0;N<x.length;N++){var L=x[N],B=L.charSpec.validChars===w.validChars;if(B=B&&L.charSpec.invalidChars===w.invalidChars)return this.charSpecs[w.validChars]=L,L}},put:function(w){var x;return(x=this.get(w))||(x=new V(w),this.nextStates.push(x),w.repeat&&x.nextStates.push(x)),x},match:function(w){for(var N,L,B,x=this.nextStates,I=[],W=0;W<x.length;W++)typeof(B=(L=(N=x[W]).charSpec).validChars)<"u"?-1!==B.indexOf(w)&&I.push(N):typeof(B=L.invalidChars)<"u"&&-1===B.indexOf(w)&&I.push(N);return I}},S.prototype=(Object.create||function(w){function x(){}return x.prototype=w,new x})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var M=function(){this.rootState=new V,this.names={}};(M.prototype={add:function(w,x){for(var O,N=this.rootState,L="^",B={},I=new Array(w.length),W=[],F=!0,A=0;A<w.length;A++){var T=w[A],R=[],U=b(T.path,R,B);W=W.concat(U);for(var z=0;z<U.length;z++){var j=U[z];j instanceof m||(F=!1,N=N.put({invalidChars:void 0,repeat:!1,validChars:"/"}),L+="/",N=j.eachChar(N),L+=j.regex())}I[A]={handler:T.handler,names:R}}F&&(N=N.put({invalidChars:void 0,repeat:!1,validChars:"/"}),L+="/"),N.handlers=I,N.regex=new RegExp(L+"$"),N.specificity=B,(O=x&&x.as)&&(this.names[O]={segments:W,handlers:I})},handlersFor:function(w){var x=this.names[w];if(!x)throw new Error("There is no route named "+w);for(var N=new Array(x.handlers.length),L=0;L<x.handlers.length;L++)N[L]=x.handlers[L];return N},hasRoute:function(w){return!!this.names[w]},generate:function(w,x){var N=this.names[w],L="";if(!N)throw new Error("There is no route named "+w);for(var B=N.segments,I=0;I<B.length;I++){var W=B[I];W instanceof m||(L+="/",L+=W.generate(x))}return"/"!==L.charAt(0)&&(L="/"+L),x&&x.queryParams&&(L+=this.generateQueryString(x.queryParams,N.handlers)),L},generateQueryString:function(w,x){var N=[],L=[];for(var B in w)w.hasOwnProperty(B)&&L.push(B);L.sort();for(var I=0;I<L.length;I++){var W=w[B=L[I]];if(null!=W){var O=encodeURIComponent(B);if(n(W))for(var F=0;F<W.length;F++){var A=B+"[]="+encodeURIComponent(W[F]);N.push(A)}else O+="="+encodeURIComponent(W),N.push(O)}}return 0===N.length?"":"?"+N.join("&")},parseQueryString:function(w){for(var x=w.split("&"),N={},L=0;L<x.length;L++){var F,B=x[L].split("="),I=D(B[0]),W=I.length,O=!1;1===B.length?F="true":(W>2&&"[]"===I.slice(W-2)&&(O=!0,N[I=I.slice(0,W-2)]||(N[I]=[])),F=B[1]?D(B[1]):""),O?N[I].push(F):N[I]=F}return N},recognize:function(w){var N,L,I,x=[this.rootState],W={},O=!1;if(-1!==(I=w.indexOf("?"))){var F=w.substr(I+1,w.length);w=w.substr(0,I),W=this.parseQueryString(F)}for("/"!==(w=decodeURI(w)).charAt(0)&&(w="/"+w),(N=w.length)>1&&"/"===w.charAt(N-1)&&(w=w.substr(0,N-1),O=!0),L=0;L<w.length&&(x=v(x,w.charAt(L))).length;L++);var A=[];for(L=0;L<x.length;L++)x[L].handlers&&A.push(x[L]);x=function(w){return w.sort(function(x,N){return N.specificity.val-x.specificity.val})}(A);var T=A[0];if(T&&T.handlers)return O&&"(.+)$"===T.regex.source.slice(-5)&&(w+="/"),function(w,x,N){var L=w.handlers,I=x.match(w.regex),W=1,O=new S(N);O.length=L.length;for(var F=0;F<L.length;F++){for(var A=L[F],T=A.names,R={},U=0;U<T.length;U++)R[T[U]]=I[W++];O[F]={handler:A.handler,params:R,isDynamic:!!T.length}}return O}(T,w,W)}}).map=function(w,x){var N=new C;w(y("",N,this.delegate)),o([],N,function(L){x?x(this,L):this.add(L)},this)},M.VERSION="0.1.11";var E=M;a(3).amd?void 0!==(e=function(){return E}.call(r,a,r,u))&&(u.exports=e):typeof u<"u"&&u.exports?u.exports=E:typeof this<"u"&&(this.RouteRecognizer=E)}).call(this)}).call(r,a(2)(k))},function(k,r){k.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(k,r){k.exports=function(){throw new Error("define cannot be used indirect")}}])},677276:function(Ce){var k;self,Ce.exports=(k={},(()=>{var r=k;Object.defineProperty(r,"__esModule",{value:!0}),r.WindowPostMessageProxy=void 0;var a=function(){function e(u){void 0===u&&(u={processTrackingProperties:{addTrackingProperties:e.defaultAddTrackingProperties,getTrackingProperties:e.defaultGetTrackingProperties},isErrorMessage:e.defaultIsErrorMessage,receiveWindow:window,name:e.createRandomString()});var t=this;this.pendingRequestPromises={},this.addTrackingProperties=u.processTrackingProperties&&u.processTrackingProperties.addTrackingProperties||e.defaultAddTrackingProperties,this.getTrackingProperties=u.processTrackingProperties&&u.processTrackingProperties.getTrackingProperties||e.defaultGetTrackingProperties,this.isErrorMessage=u.isErrorMessage||e.defaultIsErrorMessage,this.receiveWindow=u.receiveWindow||window,this.name=u.name||e.createRandomString(),this.logMessages=u.logMessages||!1,this.eventSourceOverrideWindow=u.eventSourceOverrideWindow,this.suppressWarnings=u.suppressWarnings||!1,this.receivedMessageValidation=u.receivedMessageValidation,this.handlers=[],this.windowMessageHandler=function(C){return t.onMessageReceived(C)},this.start()}return e.defaultAddTrackingProperties=function(u,t){return u[e.messagePropertyName]=t,u},e.defaultGetTrackingProperties=function(u){return u[e.messagePropertyName]},e.defaultIsErrorMessage=function(u){return!!u.error},e.createDeferred=function(){var u={resolve:null,reject:null,promise:null},t=new Promise(function(C,y){u.resolve=C,u.reject=y});return u.promise=t,u},e.createRandomString=function(){var u=window.crypto||window.msCrypto,t=new Uint32Array(1);return u.getRandomValues(t),t[0].toString(36).substring(1)},e.prototype.addHandler=function(u){this.handlers.push(u)},e.prototype.removeHandler=function(u){var t=this.handlers.indexOf(u);if(-1===t)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(t,1)},e.prototype.start=function(){var u=this;this.receiveWindow.addEventListener("message",function(t){u.isReceivedMessageValid(t)&&u.windowMessageHandler(t)})},e.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},e.prototype.postMessage=function(u,t){var C={id:e.createRandomString()};this.addTrackingProperties(t,C),u.postMessage(t,"*");var y=e.createDeferred();return this.pendingRequestPromises[C.id]=y,y.promise},e.prototype.sendResponse=function(u,t,C){this.addTrackingProperties(t,C),u.postMessage(t,"*")},e.prototype.isReceivedMessageValid=function(u){if(this.receivedMessageValidation){var t=this.receivedMessageValidation.expectedMessageSource,C=this.receivedMessageValidation.expectedMessageOrigin;if(t&&u.source!==t)return!1;if(C&&u.origin!==C)return!1}return!0},e.prototype.onMessageReceived=function(u){var t=this,C=this.eventSourceOverrideWindow||u.source;if(C){var i,o,y=u.data;if("object"!=typeof y)return;try{i=this.getTrackingProperties(y)}catch(d){}if(i&&(o=this.pendingRequestPromises[i.id]),o){var h=!0;try{h=this.isErrorMessage(y)}catch(d){}h?o.reject(y):o.resolve(y),delete this.pendingRequestPromises[i.id]}else this.handlers.some(function(d){var n=!1;try{n=d.test(y)}catch(p){}if(n){var s=void 0;try{s=Promise.resolve(d.handle(y))}catch(p){s=Promise.resolve()}return s.then(function(p){p||(p={warning:"Handler for message: ".concat(JSON.stringify(y,null,"  ")," did not return a response message. The default response message will be returned instead.")}),t.sendResponse(C,p,i)}),!0}})}},e.messagePropertyName="windowPostMessageProxy",e}();r.WindowPostMessageProxy=a})(),k)},423418:function(Ce,k,r){r.d(k,{G:function(){return a}});class a{constructor(){this.eimInformationProtectionEditEnabled=null,this.eimInformationProtectionMandatoryLabelSettingEnabled=null,this.cesTeamsGiveUsFeedbackButton=null,this.azureMapEnabled=null,this.azureMapsRegionalDataProcessingConsentEnabled=null,this.azureMapsSelectionControlEnabled=null,this.adminCustomDisclaimerEnabled=null,this.bingMapEnabled=null,this.datamartTenantEnabled=null,this.deprovisionScdInstanceEnabled=null,this.externalDatasetSharingTenantEnabled=null,this.allowCVWebAccessTenantEnabled=null,this.liveChatWithSalesEnabled=null,this.enableDatasetInPlaceSharingEnabled=null,this.enableAOAIEnabled=null,this.EnableOpenAIAdminControl=null,this.allowCVLocalStorageV2TenantSwitch=null,this.microsoftOrgAppEnabled=null,this.withinDXT=null,this.liveWorkbookTiles=null,this.csvContentProviderEnabled=null,this.vsoVnextAppEnabled=null,this.excelWorkbooksInContentPackEnabled=null,this.ffxlChartSelectionEnabled=null,this.ffxlLocalFilesEnabled=null,this.sharePointDocumentLibrariesEnabled=null,this.sparkAppEnabled=null,this.psaPracticeManagerAppEnabled=null,this.anonymousEmbeddingEnabled=null,this.psaResourceManagerAppEnabled=null,this.psaAccountManagerAppEnabled=null,this.azureUsageAndBillingAppEnabled=null,this.bingAdsAppEnabled=null,this.salesforcePersonasEnabled=null,this.fullFidelityExcelEnabled=!0,this.disableAnimation=null,this.pseudoLocEnabled=null,this.includeFlightingContentProviders=null,this.exportallowed=null,this.ignoreGettingStartedPopups=null,this.insightsDevModeEnabled=null,this.snapshotEmbedEnabled=null,this.closeAccountEnabled=null,this.dataDotChartEnabled=null,this.enterpriseGatewayEnabled=null,this.enterpriseGatewayETLEnabled=null,this.quotaSmallLimitEnabled=null,this.forceFreeUserEnabled=null,this.salesforceAndOneDriveCredentialsEnabled=null,this.scriptVisualEnabled=null,this.embedFullFidelityWorkbooks=null,this.readOnlyGroupEnabled=null,this.sandboxVisualsEnabled=!0,this.pauseQueriesEnabled=null,this.sunburstVisualEnabled=null,this.cloudRlsImpersonationEnabled=null,this.cloudRlsRoleMembershipEnabled=null,this.filledMapDataLabelsEnabled=null,this.enableTableToTableRelationship=null,this.isLabelInteractivityEnabled=null,this.importPbiviz=null,this.analyzeInExcelEnabled=null,this.dataClassificationEnabled=null,this.scriptVisualAuthoringEnabled=null,this.devToolsVisualApiVersioning=null,this.insightsStoreEnabled=null,this.saasMarketplace=null,this.permissionCenterEnabled=null,this.oneGBUploadFileSizeEnabled=null,this.templatePublishFlightingWorkAroundEnabled=null,this.enableGroupAuthoring=null,this.exportVisualToExcelEnabled=null,this.showGeneratedColumnsInDetailView=null,this.alwaysPromptForContentProviderCreds=null,this.serviceAppsDisabled=null,this.builtInContentProvidersDisabled=null,this.shapeMapVisualEnabled=null,this.exportReportToPowerPointEnabled=null,this.adminAuditingEnabled=null,this.dynamicMessageEnabled=null,this.preloadLinkedDashboardEnabled=null,this.scriptVisualLaunchExternalIDEEnabled=null,this.esriEnabled=null,this.sharePointEmbedEnabled=null,this.emailSubscriptionEnabled=!0,this.downloadReportEnabled=null,this.socialSharingEnabled=!0,this.isSovereignCloud=null,this.scriptVisualAnonymousEmbeddingEnabled=null,this.analyzeInExcelSovereignFormatEnabled=null,this.appTemplatesEnabled=null,this.directQueryScheduledRefresh=null,this.previewDefaultOptIn=null,this.serviceAppsEnabled=null,this.templateAppUpgradeEnabled=null,this.useBackendFSEnabled=null,this.granularTenantControls=null,this.adminCapacityEnabled=null,this.numericSlicerEnabled=null,this.clientUsageMetricsEnabled=null,this.pivotTableVisualEnabled=null,this.multipleODataPredicates=null,this.datasetDownloadPbix=null,this.dashboardEmailSubscription=null,this.approvedResourcesDisabled=null,this.groupCapacity=null,this.reportMeasures=null,this.customVisuals=null,this.showHiddenUsageMetricsModels=null,this.appStoreCdnOverride=null,this.onPremDirectQuerySingleSignOnForSql=null,this.onPremDirectQuerySingleSignOnForOracle=null,this.onPremDirectQuerySingleSignOnForSAP=null,this.onPremDirectQuerySingleSignOnForTeradata=null,this.cellLevelFormatting=null,this.canvasItemsPane=null,this.instantEmail=null,this.usageMetricsUpgrade=null,this.authoringCapabilitiesAdminControl=null,this.customVisualsPerformanceTelemetry=null,this.customCommands=null,this.scatterWithDataVolume=null,this.loadBaseTheme=null,this.baseTheme=null,this.reportSharingUI=null,this.slowDataSourceModeEnabled=null,this.zOrder=null,this.dsrV2=null,this.drillFilterOtherVisuals=null,this.CDSA=null,this.useBatchGeocoding=null,this.stickyUserStateUI=null,this.stickyUserStateUIThrottling=null,this.showIncrementalRefreshPolicy=null,this.cdsaFrontend=null,this.createAppWorkspaceSettingMigration=null,this.subscribeOthersUI=null,this.dashboardThemesUI=null,this.filtersInDataView=null,this.cdsaExternalStorageReferenceUI=null,this.notifyLegacyExternalUsers=null,this.insightApps=null,this.paginatedReports=null,this.annotationsUI=null,this.urlBookmarksUI=null,this.donutImprovements=null,this.dataClassification=null,this.editWorkspaceShowsRegion=null,this.comparisonODataPredicates=null,this.stickyUserStateCustomViz=null,this.multiGeoGatewaysCredentialsWarning=null,this.gatewayBasicLoadBalancing=null,this.showManageAggregations=null,this.dateODataType=null,this.nonAsciiODataNames=null,this.inODataPredicates=null,this.bookmarkGrouping=null,this.personalBookmarksUI=null,this.spoWithTutorialVisuals=null,this.securePublishToWeb=null,this.redlineAlignment=null,this.capacityWorkloads=null,this.rdlReportSharingUI=null,this.lessIntrusiveNpsDialog=null,this.cartesianConditionalFormatting=null,this.openExploreErrorDetails=null,this.onPremDirectQuerySingleSignOnForSapBw=null,this.cdsaUseMashupEditorClientLibrary=null,this.capacitySettingsTabs=null,this.copyBetweenPbix=null,this.datasetPropertiesSection=null,this.certifyDatasetsSetting=null,this.allowExploreDatasetOfApp=null,this.exportExcelExcludeMeasures=null,this.exportDataMode=null,this.capacityRestartButton=null,this.cdsaExperimentalConnectors=null,this.optimizePublishToWeb=null,this.sharedDatasetDiscovery=null,this.reportAnnotationsUI=null,this.autoShareAnnotatedArtifact=null,this.onPremDirectQuerySingleSignOnForSapBwMessageServer=null,this.scheduledSubscriptionUI=null,this.userStateBookmarkImprovements=null,this.cdsaCDMFolderReferenceUI=null,this.elevatedGuests=null,this.cdsaFolderStorageAccountUI=null,this.rdlReportJsonRplRenderer=null,this.localizationModern=null,this.workloadMetrics=null,this.removeAuthoringToolSaveButton=null,this.dashboardB2BSharingWithRegularHost=null,this.PbiDedicatedPublicXmlaEndpoint=null,this.keyDrivers=null,this.cdsaDatasetCopyUI=null,this.rolloutCapacitiesList=null,this.visualTabOrders=null,this.helpAndSupportSettings=null,this.servicePrincipalTenantAdminSettings=null,this.exportReportToPdfEnabled=null,this.newLookUI=null,this.httpServiceModern=null,this.cdsaExistingDatasetCopyUI=null,this.defaultTooltipFormatting=null,this.axisInteractivity=null,this.showDataflowsInGetData=null,this.cdsaFastCombineDefaultOffFrontend=null,this.workspacesV2GA=null,this.workspacesV2GAFeatures=null,this.cdsaStorageAccountDetachUI=null,this.dataSourceVariablesOverride=null,this.capacityBanner=null,this.workspaceCapacityManagement=null,this.userFavoriteResourcePackagesEnabled=null,this.performancePane=null,this.unreadAnnotationsBadge=null,this.paginatedReportsSubscriptions=null,this.cdsaStorageUpdateMissingParamsUI=null,this.scheduledRefreshCCNotifications=null,this.workspacesV2ViewerRole=null,this.exprBoundColorValidation=null,this.gatewayMultipleCredentials=null,this.gatewayMultipleCredentialsRDLReports=null,this.gatewayMultipleCredentialsDatapools=null,this.paneColorRefresh=null,this.dataSourceVariablesOverrideShared=null,this.disableExportDataOnVisualError=null,this.stagingRdlInApps=null,this.rdlReportInGlobalSearch=null,this.useNewCY19SU06BaseTheme=null,this.paginatedReportsSqlAzureSSO=null,this.appRepublishErrorHandlingUpdate=null,this.pbiMarketplace=null,this.tablixIcons=null,this.decompositionTree=null,this.tileEmbedHostEnvChange=null,this.dataBoundPropertiesUseThemeDefaults=null,this.contactsSettingsList=null,this.drillthroughText=null,this.keyDriversDetails=null,this.propertyEvaluationWarnings=null,this.qnaVisual=null,this.workspacesV2OptInUpgrade=null,this.workspacesV2OptInUpgradeButton=null,this.workspacesV2Downgrade=null,this.eimInformationProtectionUI=null,this.homeThumbnailUI=null,this.importJsonModel=null,this.allowCDNUrl=null,this.exprBoundAltText=null,this.disableServicePrincipalNotification=null,this.personalVisualizationPaneEnabled=null,this.newExportDataUI=null,this.newUsageMetrics=null,this.rdlGenerateLinkUI=null,this.queryApplicationContext=null,this.snapshotGenerateUI=null,this.lazyLoadAngularJS=null,this.exprBoundActions=null,this.externalSharingInvitationHostDeprecation=null,this.invitationHostDeprecation=null,this.visualMultiColumnFilterMetadata=null,this.deprecateArchivedContent=null,this.InsightsContinuationTokens=null,this.insightsContinuationTokensUX=null,this.conditionalTablixWebURL=null,this.addHostEnvHeader=null,this.kerberosDqRefresh=null,this.directToMwc=null,this.rdlBootstrapNotInDashboardService=null,this.themeDialog=null,this.subscriptionUpdatePreventionOnAnonymizedUsers=null,this.manageMarketplaceVisuals=null,this.refreshCenterHistory=null,this.refreshCenterTimetable=null,this.forceCapacityFolderAlmPipeline=null,this.adlsBasedModelTakeover=null,this.canvasZoom=null,this.pbiRSKey=null,this.umv2Upgrade=null,this.newAdminUsageMetrics=null,this.scopedAggregates=null,this.exportForPBIE=null,this.decompTreeBarsPerLevel=null,this.navAndDrillthroughActionTypes=null,this.allowSubscribingOnlyExternalUsers=null,this.modernPackageRefreshListener=null,this.emailSubscriptionV2=null,this.instantEmailSubscriptionV2=null,this.decompTreeTooltipMeasure=null,this.reusableFluentList=null,this.fluentAppListView=null,this.webNavigationMigration=null,this.saasReportIsAngular=null,this.saasReportIsAngularToThisPoint=null,this.allowGatewayForRDLWithCloudDS=null,this.decompositionTreeCoreVisual=null,this.visualInsights=null,this.useModernVisualTooltipManager=null,this.totalsConditionalFormatting=null,this.homeGettingStartedP2WSample=null,this.homeGettingStartedP2WSampleForceShow=null,this.homeGettingStartedPbixSample=null,this.updatedGetDataSamples=null,this.hideWorkspacesWidget=null,this.filteredFavoriteFrequent=null,this.discussInTeams=null,this.drillthroughButtonGA=null,this.decompositionTreeCrossHighlight=null,this.deleteSharedDatasetUi=null,this.rebindReportUi=null,this.decompositionTreeResponsiveLayout=null,this.externalTools=null,this.decompositionTreeConditionalFormat=null,this.exportReportWithExecuteScriptAsync=null,this.byoResourcesUI=null,this.byoResourcesStorageAccountUI=null,this.byoResourcesLogAnalyticsUI=null,this.discussInTeamsForDashboard=null,this.fluentTopLevelList=null,this.selfServicePurchase=null,this.fileExportPolling=null,this.openArtifactsInNewTab=null,this.d3v5=null,this.showDisableCommentingTenantSwitch=null,this.azureMapVisual=null,this.azureMapPreviewEnabled=null,this.singlePageExports=null,this.ShowQnaSettingForAllModels=null,this.qnaSupportCommitQuestionOnDemandForAll=null,this.spanishLinguisticsEnabled=null,this.qnaExportLanguageModelPackage=null,this.anomalyDetection=null,this.kustoSSO=null,this.cdpaSSO=null,this.templateAppsSimplifiedAuth=null,this.showThemeLoadError=null,this.interactivityServiceOptimization=null,this.gatewayVNets=null,this.eimInformationProtectionUsageRightsUI=null,this.eimInformationProtectionMandatoryLabelUI=null,this.allowPrivateLinksSecurityGroups=null,this.QnaInterpretVersion=null,this.reportPagePanePositionSetting=null,this.expFlightingTenantSetting=null,this.blankCanvasWatermark=null,this.decompositionAnalysisInsights=null,this.ppuTenantSettings=null,this.sendLocalDatesForSubscription=null,this.postNgMigrationCleanup=null,this.capacityGen2Create=null,this.capacityGen2Toggle=null,this.capacityGen2Notifications=null,this.autoScaleEmailNotifications=null,this.WorkspaceV1AdminUpgrade=null,this.proTrialToPPUTrialRollout=null,this.serializeSpaceOptimization=null,this.workspaceV1AdminUpgradeAll=null,this.databricksSSO=null,this.commonDataServiceSSO=null,this.capacityGen2UsageMetricsLink=null,this.disablePPUConfirmationDialog=null,this.allowSubscribeOthersWithRLS=null,this.premiumPerUserGA=null,this.qnaThumbsUpDown=null,this.cartesianMultiplesAuthoring=null,this.lazyLoadAccessRecords=null,this.subscriptionOptionalPreviewImage=null,this.consolidateGroupDeleteState=null,this.analyticsRibbon=null,this.sharepointListLicensing=null,this.visualizeListInPowerBIUI=null,this.powerBIGoals=null,this.fluentListMigration=null,this.scorecardVisual=null,this.enhancedTooltips=null,this.MRUOptimizationFE=null,this.capacityAzureGen2Preview=null,this.cartesianMultiplesGridFormatting=null,this.newEmbedOnLoadFiltersFlow=null,this.teamsAnalyticsUI=null,this.automatedInsights=null,this.automatedInsightsBackgroundRefresh=null,this.sharedWithMeOptimizationFE=null,this.azureMapSelectionControl=null,this.promoteTeamsBanner=null,this.enterDataFooter=null,this.capacityGen2PaygUI=null,this.autoAssignTrial=null,this.cartesianMultiplesGridPadding=null,this.cancelTrial=null,this.accessibilityTopLevelNav=null,this.deprecateOldVisuals=null,this.hiddenContent=null,this.streamingDataflowQueryTest=null,this.useModernFormatPane=null,this.formatPaneGroups=null,this.teamsHomePivot=null,this.topLevelListsAreAngular=null,this.shapeVisual=null,this.showLiftChart=null,this.showAllGateways=null,this.daxTransformEnabled=null,this.cesNewUserDayZeroIntent=null,this.cesTest=null,this.smallMultiplesConditionalFormatting=null,this.enableSelectAllForDynamicQueryParameter=null,this.WorkplaceAnalyticsSSO=null,this.powerAutomateNativeVisual=null,this.capacityRegionalSpec=null,this.smallMultiplesSortByMeasure=null,this.teamsMobileFormatting=null,this.dataverseIntegrationUI=null,this.modernCodePaneContainer=null,this.servicePrincipalProfiles=null,this.m365DataSharingSetting=null,this.generateQesTokenPaas=null,this.SPLRegenerateModel=null,this.byolaSGWorkspacePermissionSwitch=null,this.buttonTileFormatting=null,this.visualTitleContainerPadding=null,this.capacityAzureGen2GA=null,this.learnPageSamples=null,this.capacityBannerGen2=null,this.gatewaysAdminCenterLink=null,this.azureMapHeatmapLayer=null,this.sparklines=null,this.accessibilitySlicerNav=null,this.modernGroupingDialog=null,this.pieChartMarginBetweenSlices=null,this.textboxSuperSubScriptBulletedList=null,this.navigatorVisuals=null,this.adminPortalSurvey=null,this.eimInformationProtectionMandatoryLabelOnUploadRdlUI=null,this.EimInformationProtectionMandatoryLabelNewPaginatedReport=null,this.displayAdminInsights=null,this.adminInsightsOnTrident=null,this.NlToDax=null,this.EnableNLToDax=null,this.AllowSendNLToDaxDataToOtherRegions=null,this.showAllowPowerBIASDQOnTenant=null,this.useModernDatePickerSlicer=null,this.substrateDeprovisioningSetting=null,this.useCvSandboxHtmlPack=null,this.almDatamarts=null,this.allowDataMartModelAuthoringRLS=null,this.upgradeOutlineProperties=null,this.tridentCapacityUsageReport=null,this.outlineDropdownToCheckboxes=null,this.slicerAccessibility=null,this.cvAggregateUpdateMessages=null,this.showDefaultTooltip=null,this.azureMapsGeocoding=null,this.splitSubTotals=null,this.splitGrandTotals=null,this.removeDefaultToCircleToggle=null,this.bookmarkNavigatorSeparate=null,this.ProvideStaticOAuthOption=null,this.quickCreateSave=null,this.newWorkspaceTableCapacityPane=null,this.formattingPaneEnhancement=null,this.showEmbedPaasFreeTrialNotification=null,this.keyboardShortcutsLassoSelect=null,this.kustoExtension=null,this.datasetWritePermissions=null,this.MyFolderAdminAccess=null,this.MyFolderPreferredCapacity=null,this.remainingCartesianCategoryLogAxisScale=null,this.goalsDetailsUpdatedPeriodicity=null,this.visualFormattingTelemetry=null,this.myFolderPPU=null,this.slicerSliderColors=null,this.spinButtonControl=null,this.formattingPaneStoreUpdate=null,this.MyFolderConvertToAppFolder=null,this.azureMapsFilledMap=null,this.copyPasteMenuMetadata=null,this.copyPasteMenuImage=null,this.modernClipboard=null,this.interpretRequestGroupIdEnabled=null,this.subscriptionsWithFilters=null,this.categoricalSecondaryCF=null,this.a11yComplianceItaly=null,this.trackActivityLifecycle=null,this.visualSharingEntryPoint=null,this.visualSharingEntryPointFromApp=null,this.visualSharingEntryPointOptions=null,this.azureMapsShowLabels=null,this.azureMapsCategoryLabels=null,this.qnaToolingPhrasingEditor=null,this.flexibleDimensionsMenus=null,this.updateFormattingPaneObjects=null,this.moveSlicerTypeSelection=null,this.tealTheme=null,this.useCvSandboxDynamicHtml=null,this.sjdOptimizationRetryPolicy=null,this.useAppArtifactId=null,this.azureMapsProgressiveLoading=null,this.baseThemeUpdate=null,this.validateReportTheme=null,this.vcPadding=null,this.navigatorTogglePage=null,this.azureMapsUseMapControlV3=null,this.tridentCapacitySettings=null,this.tridentCapacityWorkspaceSettings=null,this.showCapacityUnits=null,this.showCapacityUnitsForEMSku=null,this.tablixImageWidth=null,this.azureMapsConversion=null,this.showSCCGateway=null,this.certifiedVisualTelemetry=null,this.SharableCloudDatasources=null,this.officeAddInApp=null,this.hideAzureMapVisual=null,this.a11yMatrix=null,this.closeSupportTicketOrSendMessage=null,this.showAdminSupportCenter=null,this.supportCenterUseGeneratedURL=null,this.supportCenterEditTicket=null,this.supportCenterDemoMode=null,this.supportTicketFilters=null,this.SharedToMSaaS=null,this.SharedToMSaaSGetPeripheralTickets=null,this.skipJqueryCssDimensionHook=null,this.dataBarsUpdate=null,this.workspaceRecovery=null,this.AdminHardDeleteFolder=null,this.azureMapsDataResidency=null,this.capacityMetricsUpdateBanner=null,this.notebookCustomWidgets=null,this.notebookRichDisplay=null,this.notebookAutomaticRoute=null,this.notebookAznbWarmUp=null,this.azureMapsScreenshot=null,this.pbiExcelAddInDialogControlsInAnaheim=null,this.internalFormattingState=null,this.cardReferenceLabels=null,this.legacyLazyScoped=null,this.azureMapsLatLongPieCharts=null,this.notebookUseCapacityOfWorkspace=null,this.geocoderIndexedDB=null,this.cardVisualRefUpdate=null,this.oneLakeFabricCapacityBanner=null,this.azureMapsBubbleCluster=null,this.azureMapsMultiDataFormats=null,this.azureMapsMultiDataFormatsKeepIconURLs=null,this.matrixLayouts=null,this.ASVirtualConnectionForFabricTDS=null,this.assistedDateTable=null,this.qnaFuzzyMatch=null,this.ASDirectLakeOnOneLake=null,this.copilotErrorChatItem=null,this.notebookResourceIdFromPayload=null,this.forceEnhancedTooltips=null,this.cardVisualCFSelector=null,this.bingGeocoderIndexedDB=null,this.freeUserAccessPremiumWorkspace=null,this.restrictFreeUsersActions=null,this.notebookPrefetchAzNB=null,this.copilotPanePreviewLink=null,this.visualBorderWidth=null,this.interactivityServiceCaching=null,this.navigatorAccentBar=null,this.azureMapsCustomFormattingReferenceLayer=null,this.azureMapsCsvSupport=null,this.azureMapsDynamicReferenceLayer=null,this.cardVisualSmallMultiples=null,this.dataBoundAddingQueryExprs=null,this.visualLevelFormatStringAuthoring=null,this.visualLevelFormatStringConsumption=null,this.warehouseCapacityBanner=null,this.notebookChartEnhancement=null,this.visualLevelFormatStringFullSupport=null,this.enableVisualCalcWithFieldParameter=null,this.enableVisualCalculationDaxTemplateMenu=null,this.useTabularLayoutForVisualCalcVisualMatrix=null,this.lineChartMarkerRendering=null,this.newMarkerProperties=null,this.advancedSlicerTypeList=null,this.AllowCopilotUserCapacity=null,this.azureMapsDataBoundReferenceLayer=null,this.dataQuestionPromptSuggestions=null,this.monacoPlaceholderWidget=null,this.textSlicer=null,this.azureMapsPathLayer=null,this.conditionalFormattingVisualCalculation=null,this.enableFabricDataflowsParallelApiInvocations=null,this.enableGen2DataflowsCachingTokenProvider=null,this.updateDataflowsFrontendApiToUseObjectId=null,this.a11yShowAsMatrix=null,this.enableNewGetPowerQueryHostUrlApi=null,this.QnAMultiInstanceFiltering=null,this.QnaOverOlsModels=null,this.qnaNLToDaxFallback=null,this.qnaNLToDaxFallbackOverride=null,this.qnaNLToDaxForReportInReadMode=null,this.qnaNLToDaxExpandDialog=null,this.shareDatamart=null,this.openWithOnDatamartType=null,this.a11yTable=null,this.newResizeSensor=null,this.queryContext=null,this.fieldParameters=null,this.fieldParametersAuthoring=null,this.fieldParametersCV=null,this.capacityMetricsGen2App=null,this.coalesceCD=null,this.exp_coalesceCD=null,this.disableScheduledRefreshForCapacityMetricsGen2=null,this.autoInstallPowerBIAppInTeamsClient=null,this.autoInstallPowerBIAppInTeamsActivesClient=null,this.storytellingSingleVisualTutorial=null,this.storytellingEasyShareEnabled=null,this.storytellingTitleSuggestion=null,this.storytellingRefreshNotification=null,this.storytellingNewExportDialog=null,this.teamsPersonalAppSideNav=null,this.showMatDialogConfirmation=null,this.showCopilotInPersonalAppNavbar=null,this.bingMapTenantSetting=null,this.workbookModern=null,this.teamsPersonalAppTopBar=null,this.angularOnlyPermissionCenter=null,this.leadsCollection=null,this.eimInformationProtectionSupportForTridentUI=null,this.eimInformationProtectionFlyoutTrident=null,this.tridentArtifactsEndorsement=null,this.ArtifactStorageTriggerUI=null,this.tridentGit=null,this.tridentGitCheckoutBranch=null,this.tridentGitStatusAPI=null,this.tridentGitOnShared=null,this.tridentGitSwitchBranch=null,this.tridentGitConflictResolution=null,this.tridentGitRdlSupport=null,this.tridentGitSwitchesDelegation=null,this.tridentGitForkBranch=null,this.tridentGitRelatedNavigation=null,this.interactiveOperationUI=null,this.passReportIdToOnloadBookmark=null,this.disableBatchTilesDataUpdates=null,this.showWorkspaceUpgradeEmailTenantSetting=null,this.showWorkspaceUpgradeEmptyTenantSetting=null,this.removeScaleDetector=null,this.noEmptyUpdateEmbed=null,this.noEmptyUpdate=null,this.browse=null,this.browseMenu=null,this.newZoomControl=null,this.BlockWorkspaceV1Creation=null,this.enableGen2DataflowsForSharedWorkspaces=null,this.enableGen2DataflowsDraft=null,this.enablePublishGen2DataflowWithParams=null,this.enableHostPublishErrorMessagesForGen2Dataflows=null,this.dataflowsPauseConsecutivlyFailingDataflowRefreshes=null,this.logDataflowGen2MenuItemInformation=null,this.logDataflowsDebugInfo=null,this.disableRetrievalOfGen2DataflowPublishedVersionOnFailureToRetrieveDraft=null,this.disableServiceClientInDataflowsGen2=null,this.enableGen2DataflowsSaveIndicator=null,this.enableQueryOutputDestinations=null,this.enableCopilotInGen2Dataflows=null,this.enableGetHostUrlFromExtensionSettingsForDataflowsGen2=null,this.enableOpenDataflowGen2TelemetryFix=null,this.enableOptimisticCapacityStateCheckInDataflowsGen2=null,this.enableNonBlockingPQReachabilityCheckForDataflowsGen2=null,this.enableDataflowGen2CreationProgress=null,this.enableFastCopyByDefault=null,this.enableGen2EndpointsForDataflows=null,this.enableCancelRefreshForGen2Dataflows=null,this.enableSharedNewGen2DataflowDialog=null,this.mobileSkipPreloadConceptualSchema=null,this.mobileNewDashboardConsumption=null,this.upsellDataflowGen2=null,this.enableMashupEditorBasedAuthoringForDataflows=null,this.visualCoreInitialCheck=null,this.singleGoalVisual=null,this.rlsEditor=null,this.isDownloadFilesInOfficeEnabled=null,this.isDownloadFilesInOutlookEnabled=null,this.spatialAnchorsAdminUI=null,this.quickExploreMultiTable=null,this.isViewFullScreenInOfficeEnabled=null,this.isViewFullScreenInOutlookEnabled=null,this.isMetaOSStandardClientReportingEvent=null,this.aasMigration=null,this.tooltipsToOverlay=null,this.oneDriveSave=null,this.oneDriveShare=null,this.oneDriveSharePointAllowSharingTenantSetting=null,this.oneDriveViewerShare=null,this.oneDriveViewerWaveOne=null,this.oneDriveViewerWaveTwo=null,this.oneDriveViewerAutoTrial=null,this.oneDriveSharePointViewerLiveConnectSupport=null,this.displayKustoAdminSettings=null,this.adminGroupApiDatamart=null,this.reportEmbedShowKeyboardHint=null,this.aasReportRebind=null,this.defaultAggrDisplayName=null,this.datamartRefreshHistory=null,this.allowCustomVisualsOnReportEmbedExport=null,this.allowCustomVisualsOnDashboardModernExport=null,this.allowCustomVisualsForCopyPasteVisual=null,this.modernGetData=null,this.getDataCSVConnector=null,this.ASShareableCloudConnectionBindingSecurityMode=null,this.quickCreateNewImport=null,this.delayGroupMetadataForQC=null,this.fabricArtifactsInCreate=null,this.reportAuthoringCopilot=null,this.customCalendars=null,this.rlsSwitchReportEnabled=null,this.formattingRibbon=null,this.workspaceTemplateAndDiagram=null,this.useBlobForEncryptedExploration=null,this.OneLakeUXS3Cache=null,this.OneLakeUXCacheRetentionPeriod=null,this.OneLakeUXResetCache=null,this.newManageRelationshipDialog=null,this.getDatasetInfoViaStore=null,this.buttonSlicer=null,this.buttonSlicerAuthoring=null,this.modernGetDataM0=null,this.ODSPRefreshEnforcementUI=null,this.pivotTableOnMobileShowAsTable=null,this.ASFixedIdentityByDatasourceBindingState=null,this.allowDirectLakeDataValidation=null,this.showWorkspaceSettingsV2=null,this.clearComponentOnDestroy=null,this.adminPortalDataPolicies=null,this.adminPortalHamburgerMenu=null,this.adminPortalUMBanner=null,this.deprecateAdminPortalUM=null,this.adminPortalUMPredeprecationLandingPage=null,this.adminPortalUMPostdeprecationLandingPage=null,this.adminPortalUMEmbeddedReport=null,this.umv2DeprecationBanner=null,this.showTASDeprecationBanner=null,this.drillStateToggleable=null,this.oneLakeWorkspaceSettings=null,this.datasetSummaryCopilot=null,this.almNewUi=null,this.workspaceSettingsV3=null,this.disallowLongRunningQueries=null,this.supportLargeStorageModePbixDownload=null,this.immersiveCopilotOnArtifactEntryPoint=null,this.immersiveCopilotContextSelection=null,this.immersiveCopilotAISkill=null,this.SkipCopilotCapacitySkuRequirements=null,this.usePrerenderChatItemExtension=null,this.trialCapacityFAQ=null,this.unifiedHomepageM1=null,this.embedGetIncludeExcludeMultiTargetsFilter=null,this.DetermineIsCloudMonikerDatasourceByOnPremGatewayRequired=null,this.rlsExternalReportImpersonationEnabled=null,this.tridentGitGitHubApis=null,this.downloadPbixAsync=null,this.DirectLakeAutoSyncNotificationUI=null,this.visualCalculationOnComboChart=null,this.newArcSelectionAPI=null,this.irisMessageBar=null,this.upgradeLegacyReportToPBIR=null,this.valueFilterBehavior=null,this.tourOnReport=null,this.refreshUserServicePlan=null,this.workloadAnnouncement=null,this.FabricLicensingRulesets=null,this.copilotFrameworkAnnotations=null,this.showAzureMapsSelectionControlSetting=null,this.azureMapsDefaultOn=null,this.cardVisualSmallMultiplesUpdate=null,this.bypassTridentTsValidation=null,this.projectTridentOverall=null,this.tridentPortalByDefault=null,this.displayProjectTridentUIEnabled=null,this.fabricGAWorkloadsEnabled=null,this.forceEnableClassicArtifacts=null,this.tridentIgnorePreviewArtifacts=null,this.tridentFreeLicenseAllowances=null,this.createArtifactPanel_variantA=null,this.createArtifactPanel_variantB=null,this.tridentMultitasking=null,this.tridentMultitaskingOpenInBackground=null,this.tridentMultitaskingUnpinUnintegratedArtifacts=null,this.tridentMultitaskingDataflows=null,this.tridentMultitaskingDataflowsExperience=null,this.tridentMultitaskingDeploymentPipelines=null,this.tridentMultitaskingExternalFunctions=null,this.tridentMultitaskingFunctionSet=null,this.tridentMultitaskingGraphQL=null,this.tridentMultitaskingHLSCohort=null,this.tridentMultitaskingHomeOne=null,this.tridentMultitaskingMLExperiment=null,this.tridentMultitaskingMLModel=null,this.tridentMultitaskingMountedRelationalDatabase=null,this.tridentMultitaskingPipeline=null,this.tridentMultitaskingSJD=null,this.tridentMultitaskingKeepOnRefresh=null,this.tridentMultitaskingLakehouse=null,this.tridentMultitaskingReflexProject=null,this.tridentMultitaskingSQLDbNative=null,this.tridentMultitaskingEventStream=null,this.tridentNonContextualCreation=null,this.tridentPreviewSuffix=null,this.tridentProductApiPlayground=null,this.tridentProductDatabases=null,this.tridentProductDataEngineering=null,this.tridentProductDataIntegration=null,this.tridentProductDataScience=null,this.tridentProductDataWarehouse=null,this.tridentProductDigitalOperations=null,this.tridentProductBusinessSolutions=null,this.tridentProductFunction=null,this.tridentProductGraph=null,this.tridentProductKusto=null,this.tridentProductMicrosoftSupplyChainCenter=null,this.tridentProductReflex=null,this.tridentRouterOutletDisabled=null,this.tridentRecommendationStyle=null,this.MountedCosmosdb=null,this.MountedSQLdb=null,this.MountedSnowflakedb=null,this.MountedAzureSQLdb=null,this.MountedGenericDB=null,this.MirroredSapCdc=null,this.MountedPostgreSqlFlexibleServer=null,this.MountedAzureSQLManagedInstance=null,this.ASWorkspaceConfigurableServerProperty=null,this.tridentDataflowGen2Experimental=null,this.enableGen2DataflowsInPowerBI=null,this.enableGen2DataflowsInTrident=null,this.enableGen2DataflowsIncrementalRefresh=null,this.forceEnableGen2DataflowsInTrident=null,this.usePPDFConnector=null,this.useTridentThemeInPowerBIGen2Dataflows=null,this.enableTrialSignUpForGen2Dataflows=null,this.dataflowGen2GASwitch=null,this.checkForGen2DataflowThrottling=null,this.useOnlyEditFlowsForGen2Dataflows=null,this.oneLakeUXS3Shortcut=null,this.oneLakeUXGCPShortcut=null,this.oneLakeUXS3CompatibleShortcut=null,this.oneLakeUXShortcutApiV2=null,this.oneLakeUXAdlsPowerQueryFirewallByPass=null,this.oneLakeUXAdlsStoredCredentials=null,this.oneLakeUXShortcutNotifications=null,this.oneLakeUXS3StoredCredentials=null,this.oneLakeUXGCPStoredCredentials=null,this.oneLakeUXS3CompatibleStoredCredentials=null,this.oneLakeUXBrowseInShortcut=null,this.oneLakeUXShowKustoInBrowse=null,this.oneLakeUXDataverseShortcut=null,this.oneLakeUXDatabricksShortcut=null,this.oneSecurityPublicUXContract=null,this.SchemaSupportForArtifactInUsec=null,this.allowDataVerseConnectionPassthrough=null,this.oneLakeUXShowDWInBrowse=null,this.oneLakeUXShowDatasetInBrowse=null,this.oneLakeUXShowMountedDatabaseInBrowse=null,this.oneLakeUXShowUnityCatalogInBrowse=null,this.oneLakeUXShowSqlDbNativeInBrowse=null,this.oneLakeUXPQGatewaySettingsForADLS=null,this.oneLakeUXPQGatewaySettingsForDataverse=null,this.oneLakeUXPQGatewaySettingsForGCP=null,this.oneLakeUXPQGatewaySettingsForS3=null,this.onelakeUXPQADLSExistingConnections=null,this.onelakeUXPQS3ExistingConnections=null,this.onelakeUXPQGCPExistingConnections=null,this.onelakeUXPQS3CompatibleExistingConnections=null,this.onelakeUXPQDataverseExistingConnections=null,this.oneLakeUXReplaceTridentDomain=null,this.enableSearchInSettings=null,this.storytellingSmartNarrative=null,this.storytellingSlideshowAutoRefresh=null,this.storytellingCustomRequestAccess=null,this.storytellingResetDialog=null,this.appArtifactLevelSecurity=null,this.DownloadReportOptionsDialogEnabled=null,this.embedExitToHostShortcut=null,this.UnpublishOrgAppViaSprocFE=null,this.visualCalculations=null,this.visualCalculationsAuthoring=null,this.onObjectTemplateFlyout=null,this.reflexObjectCreation=null,this.reflexBottomPane=null,this.reflexEmailPolicyCreation=null,this.reflexMetric=null,this.reflexMultitagging=null,this.reflexShowEventHub=null,this.reflexShowEventstreamUI=null,this.reflexNewMetricApi=null,this.reflexNewNav=null,this.reflexNewSimulator=null,this.reflexPBI=null,this.reflexPropertyTemplate=null,this.reflexTeamsAction=null,this.reflexPowerAutomateAction=null,this.reflexEditPowerAutomateAction=null,this.reflexICMAction=null,this.reflexFabricJobAction=null,this.reflexFabricItemsReauth=null,this.reflexEnrichmentComponent=null,this.reflexV2=null,this.reflexSimulatorCreation=null,this.reflexSimulatorSkipStopTime=null,this.copyAsMappingDataFlow=null,this.reflexLiveEngine=null,this.reflexMultiGeoApi=null,this.reflexMultiGeoRSA=null,this.reflexMultiTasking=null,this.reflexShortFetch=null,this.reflexShortRefresh=null,this.reflexAdvancedObjectCreation=null,this.reflexMonitorMode=null,this.reflexTemplateCanvas=null,this.reflexTimeAxis=null,this.reflexAlertMe=null,this.reflexTriggerCondition=null,this.reflexWelcomePage=null,this.reflexPBICoachMark=null,this.reflexPBIMultiDimension=null,this.reflexPBITextMeasure=null,this.reflexPBIToolbar=null,this.reflexMultiEvents=null,this.reflexConvertTrigger=null,this.reflexShowTemplateEvent=null,this.reflexPBIPaneExp=null,this.reflexPBIButtonExp_variantA=null,this.reflexPBIButtonExp_variantB=null,this.reflexPBIButtonExp_variantC=null,this.reflexPBIButtonExp_variantD=null,this.reflexPBIButtonExp_variantE=null,this.reflexPBIButtonExp_variantF=null,this.reflexPBIPaneExpOn=null,this.reflexPBIRecipientsInputEnabled=null,this.reflexPBIRecipientsInputExp=null,this.reflexPBIVisualContextEntry=null,this.reflexPBIVisualToolbarEntry=null,this.reflexPBIAlertCreatedSurvey=null,this.reflexPBIAlertDiscardSurvey=null,this.reflexPBIAlwaysShowSurveys=null,this.reflexPBIArtifact=null,this.reflexPBIArtifactV2=null,this.reflexPBIHideArtifactV1=null,this.reflexPBIOneClick=null,this.reflexPBIFollowVisual=null,this.reflexPBIFabricTrial=null,this.reflexPBIDashboardEntry=null,this.reflexPBIGA=null,this.reflexPBISubscriptionsEntry=null,this.reflexPBISurveyExposureHighIncrease=null,this.reflexPBISurveyExposureLowIncrease=null,this.reflexPBIOneClickFabricTrial=null,this.reflexPBIRefreshTokenV2=null,this.reflexPBIV2=null,this.reflexGetEventsWizard=null,this.reflexAnomalyDetection=null,this.reflexTriggerPane=null,this.reflexFirstRunExperience=null,this.reflexMultiConditionEventTrigger=null,this.reflexReauth=null,this.reflexAutoTrialSignupV2=null,this.rtpPupr=null,this.rtpEventstreamPush=null,this.useNewToolbar=null,this.takeoverDatamart=null,this.createGen2CapacityByDefault=null,this.tridentUserDefinedSparkPool=null,this.notebookOptimizeResourceValidate=null,this.notebookServiceWorker=null,this.notebookHighConcurrency=null,this.sparkRuntimeVersion1_1=null,this.sparkRuntimeVersion1_2=null,this.notebookFixedAznbBundleVersion=null,this.notebookAznbBundleVersion16=null,this.tridentNotebookAznbFixedVersion=null,this.tridentAznbAutosaveFallback=null,this.tridentNotebookContentSaveMonitor=null,this.tridentNotebookSaveGuarantee=null,this.tridentNotebookMetadataUpdate=null,this.tridentNotebookCommentTagAccessCheck=null,this.tridentNotebookNormalizedSessionState=null,this.tridentNotebookLiveVersioning=null,this.tridentNotebookContentSizeMonitor=null,this.tridentSparkAutotuneInMetrics=null,this.tridentSparkMetrics=null,this.tridentSparkCompareRun=null,this.tridentTSQLNotebook=null,this.tridentJupyterNotebook=null,this.tridentNewSparkUIHost=null,this.tridentSparkAdvisorFeedbackSystem=null,this.useReactParameterPane=null,this.useTablixImageFields=null,this.datamartsVisualQuerySingleRibbon=null,this.useStandaloneImagesV2=null,this.azureMapsSasToken=null,this.tridentInTeams=null,this.irisUserDays=null,this.consolidatedMessageBar=null,this.activityBasedTimeout=null,this.abtReLoginPage=null,this.appsPageReflow=null,this.eimSensitivityDropdownCreateReactComponent=null,this.tridentUniversalSecurity=null,this.tridentOneLakeSecurity=null,this.eimSensitivityDropdownReactHomeOne=null,this.mobileClientQueryCache=null,this.mobileAutoReportLayout=null,this.directChangeFormFactor=null,this.layoutSwitcher=null,this.disableLegacyBootstrapForDataset=null,this.useNpsNewUrlOrigin=null,this.selfServeTenantSettings=null,this.useAzureMapsBackend=null,this.cfStrings=null,this.assistedCreationPane=null,this.insightsCancellation=null,this.homeMigrateGettingStartedSample=null,this.scorecardCompactView=null,this.tridentArtifactsSettingsPane=null,this.interactiveMobileCanvas=null,this.mobileVcObjectsProxyFormFactorChange=null,this.pbiTooltipWebView2=null,this.modelExplorer=null,this.fluentDataPane=null,this.capacitySettingsExtensions=null,this.capacitySettingsExtensionsPrototype=null,this.tridentHeaderV2=null,this.tridentHelpPane=null,this.tridentHelpPaneDebug=null,this.tridentFeedbackPane=null,this.useCommunityNewDomain=null,this.useColoredIcons=null,this.reportCreationCopilot=null,this.pbiLLMService=null,this.reportCreationCopilotV2Flow=null,this.capacityBCDR=null,this.reportCreationCopilotDebuggingLogs=null,this.workspaceIdentityUI=null,this.workspaceIdentityUIDemoMode=null,this.workspaceIdentityToggleUsage=null,this.workspaceIdentityDisableCapacityCheck=null,this.fabricIdentitiesTable=null,this.fabricIdentitiesDemoMode=null,this.FabricIdentitySharing=null,this.fabricIdentitiesUserAssignedTable=null,this.workspacePrivateEndpoints=null,this.privateEndpointsDemoMode=null,this.RestrictOutBoundPEFromF64=null,this.schemaReduction=null,this.workspacePillFilter=null,this.crossSubfolderFilter=null,this.rdlParamAuthoring=null,this.useLayoutEditor=null,this.parameterControlsUpdate=null,this.artifactCloudConnections=null,this.tridentEnvironmentBuiltInLibrary=null,this.tridentEnvironmentGetLMLibsFromPlatform=null,this.tridentMonitoringArtifactMonitoringApi=null,this.tridentEnvironmentPrivateCondaChannel=null,this.fabricSparkMonitoringCtid=null,this.tridentMultitaskingGraph=null,this.enableOrgAppExplorationV2=null,this.useCvSandboxCspIframe=null,this.rdlVisualReact=null,this.sjdRSupport=null,this.datamartTypesInMRU=null,this.layerOrderPanePbiTree=null,this.storytellingRecommendationUI=null,this.storytellingRecommendationLayout=null,this.datamartTypesInFavorites=null,this.datamartTypesFilepathProperties=null,this.warehouseQueryMonitoring=null,this.quickExploreFieldListMigration=null,this.rdlVirtualizeTables=null,this.almSubfolders=null,this.almCustomizedPipelines=null,this.almAsyncDiff=null,this.almPartialAsyncDiff=null,this.almFolderContributorDeployments=null,this.increaseOrgAppAudiences=null,this.orgAppDeprecation=null,this.editConnectionFlow=null,this.visualDatapointAnnotations=null,this.touchScreenOptimizedTooltips=null,this.usageMetricsRetroactiveDisable=null,this.trackUserInfo=null,this.reportLoadIndicator=null,this.cdsaSendEmailOnRefreshFailureUI=null,this.networkStatusNotification=null,this.skipTestConnection=null,this.smartAlertTenantAdminSettings=null,this.cdsaEntitiesRelationships=null,this.removeDataflowPreviewTag=null,this.queryCancellation=null,this.capacityWorkloadMemoryControls=null,this.addPreviewTagToAttachExternalDataflow=null,this.emailSubscriptionTenantAdminSettings=null,this.newDSCompInDataset=null,this.telemetryV2=null,this.skipTestConnectionOnPrem=null,this.northStarBreadcrumb=null,this.managedIdentityAuthorizationTenantAdminSettings=null,this.singleSignOnTestConnection=null,this.disableVisualInDesktopRS=null,this.eimInformationProtectionLicenseEnforcementUI=null,this.copyVisualImage=null,this.visualDropShadow=null,this.showDisableOutboundFlows=null,this.exportPbixForGeneratedModelsUI=null,this.modelingServiceGenerateModel=null,this.personalizeVisualUnifiedFieldList=null,this.artifactEndorsementFeatureUI=null,this.streamingDataflow=null,this.quickCreate=null,this.datamart=null,this.datamartQueryEditor=null,this.savedQueries=null,this.warehouseCrossDbQueries=null,this.sqlQueryTemplates=null,this.datamartObjectContainerRefresh=null,this.datamartIncrementalRefresh=null,this.easySharingTenantUI=null,this.easySharingProtectionLabelsTenantUI=null,this.verboseTelemetry=null,this.quickCreateSharepointList=null,this.largeFilesUI=null,this.lineageShowCompositeModelsRelationship=null,this.iaShowCompositeModelsRelationship=null,this.fluentAppsContainer=null,this.modernRLSContainer=null,this.enableHybridTables=null,this.newDatahubDiscoverPage=null,this.datahubLastAccessColumn=null,this.datamartsTransientModel=null,this.lakehouseModeling=null,this.datamartSqlRefresh=null,this.readonlyDatamart=null,this.newDataset=null,this.autoGenerateBIModelDiagram=null,this.teamsBackButtonHandler=null,this.teamsLastVisitedURLApp=null,this.teamsThrottledSave=null,this.teamsAppCaching=null,this.teamsLastVisitedURLTab=null,this.teamsBackButtonNotification=null,this.copilotAddDefaultSchemaAggregationInSerializedDataset=null,this.useTeamsTokenRefreshServiceV2=null,this.dmtsInL1_HEAD_Datahub_FE=null,this.thirdPartyArtifactsInL1_HEAD_Datahub_FE=null,this.sharedQueries=null,this.datamartEndorsement=null,this.homeOneArtifactsInDatahubL1=null,this.tridentArtifactL2=null,this.shouldShowOwnerPhotoDatahubTable_HEAD_DataHub_CompactView_FE=null,this.allowSortColumns_HEAD_DataHub_CompactView_FE=null,this.sqlDatabaseEnabled_HEAD_Datahub_FE=null,this.hostDetailsRequired_HEAD_Datahub_FE=null,this.workspaceNavigationEnabled_HEAD_DataHub_CompactView_FE=null,this.dmtsConnections_HEAD_CompactView_FE=null,this.injectedData_HEAD_CompactView_FE=null,this.refreshHistoryActionDataset_HEAD_L2_FE=null,this.appMetadataSlimEffects_HEAD_DataHub_Embed_FE=null,this.favoritesArtifacts_HEAD_CompactView_FE=null,this.dynamicParameters=null,this.eimInformationProtectionExportPbixUI=null,this.skipRequiredDatsourceCredentials=null,this.compositeModelsOverAS=null,this.allowAsyncModelAuthoring=null,this.validateSortByColumnByTypescript=null,this.main_HEAD_PurviewHub_BE_FE=null,this.main_HEAD_ExternalDataSharing_FE=null,this.datamartFieldListFiltering=null,this.managePermissions_HEAD_ExternalDataSharing_FE=null,this.receiver_HEAD_ExternalDataSharing_FE=null,this.main_HEAD_CrossTenantDataSharing_Read_FE=null,this.main_HEAD_CrossTenantDataSharing_Write_FE=null,this.main_HEAD_CrossTenantDataSharing_SupportMultiPath_FE=null,this.showGA_HEAD_CrossTenantDataSharing_FE=null,this.eimInformationProtectionForDesktop=null,this.eimInformationProtectionDesktopRemoveLabel=null,this.useModernRealTimeTile=null,this.useModernRealTimeTileBlade=null,this.legacyPromiseFactory=null,this.legacyPbiPromise=null,this.usePbiPromiseMicrotask=null,this.exp_usePbiPromiseMicrotask=null,this.rdlNativeVisual=null,this.rdlEditInPBIRB=null,this.rdlSSOForASAzure=null,this.gatewayVNetsRdl=null,this.calculateArtifactTypesOnFE_HEAD_Datahub_FE=null,this.usageMetricsVnext=null,this.EimInformationProtectionDefaultLabel=null,this.customizedNavbar=null,this.leftNavPipelineButtonUnpinned=null,this.leftNavBrowseButtonUnpinned=null,this.leftNavCreateButtonUnpinned=null,this.leftNavMoveUpWorkspace=null,this.splitLeftNav=null,this.showRelevantUsersForSharing=null,this.appSharingDialogEnabled=null,this.bookmarksForLinks=null,this.authorsStateAsDefaultPresentationInPersonalBookmarks=null,this.itemHoverCard_HEAD_FE=null,this.DisableContentPacks=null,this.disableUIVirtualization=null,this.CdsaMultipleContributors=null,this.AdminInsightsMultipleReports=null,this.AdminInsightsBlocker=null,this.adminInsightsPermissionControl=null,this.blockNoWorkspaceAdminInsights=null,this.useModernMashupEditor=null,this.forceDownloadPbix=null,this.main_HEAD_endorsementMasterData_FE=null,this.VisualQueryCustomTimeout=null,this.debugReportAuthoring=null,this.showOneLakeManageSecurityForDatabricksCatalog=null,this.activateMinimePlayground=null,this.emitOrchestratorExceptionMessage=null,this.enhancedReportFormat=null,this.enhancedReportFormatAnalytics=null,this.fileFormatInFlight=null,this.dataExploreFilterCard=null,this.dataExplore=null,this.dataExploreCreatePage=null,this.dataExploreCustomVisuals=null,this.dataExploreUndoRedo=null,this.dataExploreRibbon=null,this.dataExploreGrantModelPermission=null,this.dataExploreVisualEP=null,this.dataExploreSaveLayout=null,this.dataExploreLeftDataPane=null,this.dataExploreShowIntroduction=null,this.dataExploreCopilotPane=null,this.UseDataExplorationArtifact=null,this.webPerformancePane=null,this.dontSerializeDoLoadPowerViewReport=null,this.staticExportReportEnabled=null,this.allUpSaveReport=null,this.highVolume=null,this.customVisualsStore=null,this.gatewayBindingEnhancement=null,this.capacitiesVCores=null,this.customVisualsGallery=null,this.capacitiesAzureTab=null,this.capacitiesMigrateSpecificWorkspaces=null,this.assignAdminsAzureCapacitiesEnabled=null,this.reportInstantEmail=null,this.dashboardInstantEmail=null,this.slicerSyncing=null,this.dsrV2_Staging=null,this.workspacesV2=null,this.workspacesV2UsageMetrics=null,this.workspacesV2UnifiedGroups=null,this.customVisualsTenantSwitch=null,this.pinReadable=null,this.artifactSearchUI=null,this.appAccessRequestUI=null,this.spoIntegration=null,this.bookmarkInitRefactor=null,this.disallowWorkbookRefresh=null,this.onDemandSmartAlerts=null,this.exportUnderlyingSetting=null,this.workspaceListView=null,this.pinInsightsFromApp=null,this.useModernExploreCanvas=null,this.quickAccessSearch=null,this.newInfoBarRedlines=null,this.modernDatasetDialog=null,this.showMainWindowAfterRender=null,this.disableNewFeaturesDialog=null,this.copyRdlReportToWorkspaceV2=null,this.allowEmailSecurityGroupsOnOutage=null,this.histogram=null,this.cdsaModelSchemaUpdate=null,this.enableRdlReportCopyFromWorkspaceV1=null,this.narrativeTextbox=null,this.rdlReportAnaheim=null,this.expandQueryCaching=null,this.hideReportVerticalPane=null,this.capacityCachingControl=null,this.dqReactiveCaching=null,this.cdsaGranularSQLUI=null,this.configureAppContacts=null,this.rdlHideCredentialsDialog=null,this.increasedExportSectionLimit=null,this.proPlusServicePlan=null,this.proPlusExcludePPUCapacityCreateWorkspace=null,this.lineChartPowerAutomate=null,this.cesFormsProTest=null,this.feedbackFeature=null,this.ribbonSearchBar=null,this.exportHostErrorList=null,this.linkToPowerAutomateExportTemplate=null,this.allowGatewaysWithoutMashupCreds=null,this.certifiedTelemetry=null,this.certifiedTelemetryDesktop=null,this.certifiedTelemetryUserEvents=null,this.certifiedTelemetryAssertions=null,this.certifiedTelemetryQueryEvent=null,this.certifiedTelemetryResolveParametersEvent=null,this.backstageUI=null,this.appTheme=null,this.qnaCopilotPhrasings=null,this.newWorkloadHubPage=null,this.workloadsWithMarketplace=null,this.showWorkloadHubWithEmptyMarketplace=null,this.sqlDbNative_QueryAutoCompletion=null,this.openReportWebBootstrap=null,this.resolveParametersEvent=null,this.activityViewer=null,this.gatewaysTableUseConnDetails=null,this.notificationPollTimeoutFast=null,this.notificationPollTimeoutSlow=null,this.enableRefreshNowChecks=null,this.sdfArray=null,this.sdfBlob=null,this.sdfCustomNodeName=null,this.sdfTools=null,this.sdfScheduleRefresh=null,this.sdfDataContinuity=null,this.sdfPublicPreview=null,this.sdfUndo=null,this.sdfRetentionPolicyUpdate=null,this.pushDataflowCreate=null,this.noWaitTrialRenewal=null,this.recommendedContentUI=null,this.hideActionAsDefault=null,this.powerBIGoalsStatusRules=null,this.useReactRenderer=null,this.goalsShowImportFromFileUI=null,this.homeListM3_Test1=null,this.homeListM3_Test2=null,this.infiniteScorllHomeListM3=null,this.homeLearnReport_Test1=null,this.recommendedViewDefault=null,this.homeListVirtualScroll=null,this.suppressDefaultTooltip=null,this.newSearchPage=null,this.selectAppInTeamsTab=null,this.exportScorecard=null,this.loadGroupMetadataOptimization=null,this.rdlInfiniteScrolling=null,this.goalsAggregations=null,this.goalsSparklineChangeAggregations=null,this.goalsColumnSettings=null,this.goalsPermissionSettings=null,this.powerAutomateEntryPointFromGoalsUI=null,this.powerBIGoalsDragAndDrop=null,this.goalsXAxisDragAndDrop=null,this.goalsDelayDragAndDrop=null,this.powerBIGoalsMultipleGoalOwners=null,this.powerBIGoalsMultipleTargets=null,this.scorecardsInMyWorkspace=null,this.datamartDatawarehouseInMyWorkspace=null,this.disableDatawarehousePPU=null,this.datasetsHubFreeUser=null,this.capacityGen2RestoreToggle=null,this.goalsHubFRE=null,this.goalsAllowedOnShared=null,this.goalsDraftScorecards=null,this.recDefaultNoRecent=null,this.recommendedScaleCard=null,this.checkPbivizFileContentOnImport=null,this.goalsCustomizeStatus=null,this.copyVisualNoTimeout=null,this.rdlThrottlingIndicator=null,this.disableTrial=null,this.ExportToExcelConnectedSummarized=null,this.exportToExcelConnectedRdl=null,this.goalsCategoricalValues=null,this.teamsLearnTabCoachmark=null,this.onObject=null,this.onObjectFormatPaneUid=null,this.onObjectMobileAuthoring=null,this.visualLevelFilterTab=null,this.teamsUseSDKSharing=null,this.teamsUseRegularLinkInShareInTeams=null,this.goalsScorecardAccessBanner=null,this.goalsMoveScorecard=null,this.undoGetAvailableGatewayCloudDS=null,this.goalsBulkDelete=null,this.multipleGoalTilesVisual=null,this.updateScorecardDataset=null,this.goalsReportSource=null,this.goalsSharingLink=null,this.goalsCopyScorecard=null,this.storeLogs=null,this.reportThemeSchema=null,this.goalsYouOwn=null,this.goalsFavoriteGoals=null,this.goalsNewEditButton=null,this.goalsNewHeader=null,this.diagnosticsBar=null,this.stickyFeatureSwitches=null,this.teamsLegacyTabMigration=null,this.fieldParameterDynamicSlicer=null,this.conditionalFormattingDataLabels=null,this.goalsSkipScorecardCreationPane=null,this.useAngularJSAuthDialog=null,this.useAngularJSScheduledRefresh=null,this.useAngularJSSettingsGateways=null,this.useAngularJSDataSourceCredentialsComponent=null,this.datamartsNewReportTab=null,this.goalsMultipleValuesEditor=null,this.modeling_enableFormulaBarDAXEditor=null,this.relationshipValidation=null,this.diagramLayoutWebWorker=null,this.dialogReflow=null,this.angularRls=null,this.goalsHierarchiesOwnerMapping=null,this.goalsHierarchiesHeatmap=null,this.goalsHierarchiesHideInfoTooltips=null,this.tridentNotification=null,this.disableMwcThrottlingNotification=null,this.goalsRollups=null,this.scorecardTimezone=null,this.goalsLinkedGoals=null,this.aznbServerSideIntelliSense=null,this.dmhPreloadExtension=null,this.dmhDeleteCapability=null,this.EnforceDMHWorkloadProvisioning=null,this.EnforceDMHWorkloadPrivateLinkSupport=null,this.EnforceDMHTipsIntegration=null,this.dmhShowImagingCapability=null,this.hdsShowImagingSampleData=null,this.hdsEnforceLifecycleManagement=null,this.hdsEnforceLifecycleManagementUpdates=null,this.dmhShowSdohCapability=null,this.hdsShowClaimsCapability=null,this.hdsShowCareManagementAnalyticsCapability=null,this.dmhShowPatientOutreachAnalyticsCapability=null,this.hdsShowDaxConversationalDataCapability=null,this.hdsShowDaxTranscriptionIntegrationCapability=null,this.dmhShowHealthcareDataExplorerCapability=null,this.dmhHealthcareDataExplorerAllowCustomLakehouse=null,this.dmrPreloadExtension=null,this.dmsPreloadExtension=null,this.enableM365CapabilityInSustainabilitySolutions=null,this.enableServiceBasedCapabilityProvisioningInESGLake=null,this.lhWarehouseMode=null,this.lhLivyEndpoint=null,this.lhDataSet=null,this.lhShortcuts=null,this.lhOneSecurity=null,this.bypassOneSecurityCheck=null,this.lhCsvToDelta=null,this.lhTableSchema=null,this.lhMergeViews=null,this.lhTablePreviewModes=null,this.lhTablePreviewSequential=null,this.lhDatasetCreateAction=null,this.lhOneLakeFriendlyNames=null,this.lhLoadToTable=null,this.lhPreloadExtension=null,this.lhComputeKeepAlive=null,this.lhSharing=null,this.lhDataGrid=null,this.lhEventStream=null,this.lhTableOptimization=null,this.lhSqlProvisionRetry=null,this.lhLakehouseV2=null,this.lhTableNameWithSpace=null,this.lhTableNameSpecial=null,this.lhVerboseLogging=null,this.lhPreloadChildFolder=null,this.lhDbtIntegration=null,this.lhSchemaSupport=null,this.lhSchemaCheckbox=null,this.lhSchemaDataflows=null,this.lhSchemaEventstream=null,this.lhSchemaOneLakeSecurity=null,this.lhManageShortcuts=null,this.lhDataArtifact=null,this.lhParquetPreviewSupport=null,this.lhAutomaticRouting=null,this.lhVirtualized=null,this.lhMaterializedView=null,this.lhSearchFilterSort=null,this.lhDownloadFiles=null,this.sparkUpgradeToFabric=null,this.sqlDbNative_PerformanceDashboard=null,this.sqlDbNative_PerformanceDashboard_PuPr=null,this.sqlDbNative_CopilotSidecar=null,this.sqlDbNative_AutoIndexing=null,this.sqlDbNative_FavoriteQuery=null,this.sqlDbNative_PerformanceAlerts=null,this.sqlDbNative_PerformanceFeedback=null,this.sqlDbNative_SqlSecurityUI=null,this.sqlDbNative_LinkMonitorDashboard=null,this.sqlDBNative_PITR=null,this.sqlDbNative_LinkMonitorLoadUnsupportedTables=null,this.sqlDbNative_shortcuts=null,this.sqlDbNative_Dataflows=null,this.sqlDbNative_Datapipeline=null,this.relevantMeasures=null,this.warehouseTDSEndpointButton=null,this.quickMeasureInitialSuggestions=null,this.scorecardHierarchiesPremium=null,this.collapseGoalsByDefault=null,this.increaseAccessRequestV2_Test1=null,this.increaseAccessRequestV2_Test2=null,this.shouldDisableStreamingDataflowCreation=null,this.disableMatchingDatasourceObjectId=null,this.publishMissingPackageIdBugFix=null,this.scorecardEmailSubscription=null,this.alignPBIHomeWithTrident=null,this.metricsHub=null,this.metricsHubUseMetricList=null,this.enableMetricSetEnabled=null,this.tridentInformationProtectionDSIUI_HEAD_DataProtection_FE=null,this.scorecardSplitColumns=null,this.scorecardListViewSettings=null,this.useEnrichedApplicationContext=null,this.increaseAccessRequestV3_Test1=null,this.increaseAccessRequestV3_Test2=null,this.lhTablePreviewQueryEditor=null,this.selectSensitivityLabelDialog_HEAD_InformationProtection_FE=null,this.quickCreateTwoStepModelGen=null,this.inheritanceUponCreationFabricCreateFlow_HEAD_InformationProtection_FE=null,this.taskflowRecommendationForPBIWorkspace=null,this.unifyTaskflowAndListView=null,this.orgAppV2Copilot=null,this.odspSaveBackgroundUpload=null,this.backendNotificationMsgBar=null,this.alwaysShowTutorial=null,this.orgLinksDCR=null,this.useMetricsHubMetricV2APIs=null,this.reportSerializationSizeCountTelemetry=null,this.multipleVisualsForMetric=null,this.metricPreviewSummaries=null,this.WorkspaceLevelPrivateLinksInFabric=null,this.metricDisablePreferTimeseries=null,this.EnforceDMRWorkloadPrivateLinkSupport=null,this.EnableDMRWorkloadPrivateLinkSupport=null,this.pipelineTemplateDownload=null,this.addVisualIdToQueryDataAsHttpBodyId=null,this.trackTasks=null,this.trackChangeDetection=null,this.trackBrowserRender=null,this.trackVisualZone=null,this.trackEventTasks=null,this.exp_trackEventTasks=null,this.noTrackEventTaskHashSampling=null,this.testExperimentationSwitch=null,this.homeLayoutSelection=null,this.loadRecommendationsForNewUsers=null,this.deferVCLoading=null,this.deferVCLoadingChangeSection=null,this.deferVCLoadingChangeSectionEmbed=null,this.deferVCLoadingEmbedOptions=null,this.deferVCLoadingMobile=null,this.deferCustomVCLoading=null,this.sessionExperimentation=null,this.lruCacheEvictionPolicy=null,this.onDemandApprovedResources=null,this.sectionApprovedResources=null,this.requestAccessNotifV2=null,this.deferExplorationStateCapture=null,this.artifactCloudConnectionsDemoMode=null,this.operationalReportStringTest=null,this.exp_openReportWebBootstrap=null,this.exp_deferCustomVCLoading=null,this.exp_deferVCLoading=null,this.exp_deferVCLoadingChangeSection=null,this.exp_deferVCLoadingChangeSectionEmbed=null,this.exp_deferVCLoading_timeoutLimit=null,this.exp_deferVCLoading_preloadFinishThreshold=null,this.exp_deferVCLoading_loadFinishThreshold=null,this.exp_deferVCLoading_primeNonQueryVisualResources=null,this.exp_deferVCLoadingMobile=null,this.exp_noEmptyUpdate=null,this.exp_lruCacheEvictionPolicy=null,this.exp_saasReportIsAngularToThisPoint=null,this.exp_onDemandApprovedResources=null,this.exp_sectionApprovedResources=null,this.exp_deferExplorationStateCapture=null,this.MultivariantExpTest_VariantA=null,this.MultivariantExpTest_VariantB=null,this.control_MultivariantExpTest=null,this.IsolationGroupExpTest=null,this.control_IsolationGroupExpTest=null,this.DeclutterFirstRunExperienceExp=null,this.htmlLegend=null,this.allowAssigningTenantWorkspacesFromAzureCapacityAdmin=null,this.capacityMetricDrilldown=null,this.copyReportsToWorkspacesV2=null,this.allowFreeUsersToSubscribeInPremiumAppsUI=null,this.realTimeRefresh=null,this.realTimeRefreshDisabled=null,this.changeDetection=null,this.changeDetectionSimulation=null,this.externalConnectorSSO=null,this.tenantOutOfBoxVisualsEnabled=null,this.disablePublishToWebCreation=null,this.eimInformationProtectionSccLink=null,this.ssasGetData=null,this.webModelingViewEnabled=null,this.persistDiagramLayoutEnabled=null,this.webModel_enableViews=null,this.WebModelingAdminSettings=null,this.WebModelingSharedAuthoring=null,this.WebModelingAllowXmlaModifiedModels=null,this.newLookForAll=null,this.allowOldLookUI=null,this.yellowIntegrationOfPowerBI=null,this.newLookOnForNewUsers=null,this.analyzeInExcelOdcFallbackUI=null,this.analyzeInExcelToExcelOnline=null,this.irisCoreEnabled=null,this.esriEmbedEnabled=null,this.esriP2WEnabled=null,this.approvedServiceApps=null,this.redirectToStaticPageInTeams=null,this.quickMeasuresModern=null,this.eimInformationProtectionStoreOptimization=null,this.domainDelegatedSettings=null,this.domainDelegatedSettingsNewUI_HEAD_FE=null,this.domainDelegatedCertifyDatasetsEnabled=null,this.domainsAdminNewBadge_HEAD_mesh_FE=null,this.usePrefixSearch_HEAD_mesh_FE=null,this.moveDomainElements_HEAD_mesh_FE=null,this.allowReassignByTenant_HEAD_DataDomain_FE=null,this.lineageViewCertifiedEvents=null,this.excludeDomainSearch_HEAD_mesh_FE=null,this.domainsForL2_HEAD_DataDomain=null,this.domainsForFlyout_HEAD_DataDomain=null,this.filtersWorkspacesByDomains_HEAD_mesh_FE=null,this.domainLocationColumnInSearchTable_HEAD_mesh_FE=null,this.recommendedWorkspaces_HEAD_DataDomain_FE=null,this.defaultSubdomainSetting_HEAD_FE=null,this.subdomainContributorsSetting_HEAD_Domains_FE=null,this.taggingMain_HEAD_tagging_FE=null,this.taggingNewBadge_HEAD_tagging_FE=null,this.navigateToDatasetDetails=null,this.eimInformationProtectionRdlReportLabelingUI=null,this.consumePublicCvsWithoutRps=null,this.stopPublicRpsPopulation=null,this.dlpPolicyTip=null,this.eimDlpPolicyTipsWithoutAngularJS=null,this.dlpHoverCardPolicies_HEAD_DLP_FE=null,this.restrictAccess_HEAD_DLP_FE=null,this.fabricRestrictAccess_HEAD_DLP_FE=null,this.restrictAccessOverrideAction_HEAD_DLP_FE=null,this.fabricRestrictAccessOverrideAction_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifact_HEAD_DLP_FE=null,this.dlpPolicyTipFlyout_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifactOverride_HEAD_DLP_FE=null,this.hoverCardRelatedContent_HEAD_Lineage_FE=null,this.lineageCycleSupport_HEAD_Lineage_FE=null,this.reduceExternalArtifacts_HEAD_Lineage_FE=null,this.safariLineageHighlight_HEAD_Lineage_FE=null,this.workspaceLineageView_HEAD_Lineage_FE=null,this.lineageV3_HEAD_RelationsPlatform_FE=null,this.upstreamV3_HEAD_RelationsPlatform_FE=null,this.downstreamV3_HEAD_RelationsPlatform_FE=null,this.datahubL2RelationsDiagram_HEAD_lineage_FE=null,this.relationsDiagramDialog_HEAD_lineage_FE=null,this.oneLakeDataOwnerTab_HEAD_Governance_FE=null,this.cdsaCCEmailContactsOnRefreshFailure=null,this.createRdlFromReportMenu=null,this.PinReportToTeamsTab=null,this.pinReportNavigateUsingDeepLink=null,this.showNewVisualsMarketplace=null,this.cesFeedbackTenantSetting=null,this.useNewDashboard=null,this.showNewVisualsMarketplacePBID=null,this.showAADSSOForGateway=null,this.showDremioSSO=null,this.chooseWorkspaceInReportSaveAs=null,this.ExportToExcelMatrixVisualData=null,this.showNonSdpInMP=null,this.accessInPlaceSharingDatasetSetting=null,this.forceAdminPortalSurvey=null,this.textboxAtMention=null,this.multiRowCardSelection=null,this.seeThruDatasetEditing=null,this.seeThruNameDatasetPickWorkspace=null,this.newManageDatasetForDatamartUI=null,this.ApplyDatamartSchemaForCustomDataset=null,this.SchemaPickerLHSqlEndpointEditTables=null,this.metricsBoardView=null,this.workspaceAdminSubscriptions=null,this.showPinnedTile=null,this.showAppBarInTeamsTabView=null,this.teamsNewTabExperience=null,this.teamsDirectSDKCall=null,this.teamsTabFabricLinks=null,this.goalsBulkEditing=null,this.privilegeWebAccess=null,this.privilegeLocalStorage=null,this.privilegeUX=null,this.leadsTesting=null,this.leadsTip1=null,this.leadsTip2=null,this.leadsDevUrl=null,this.exp_newReportMetadataEndpoint=null,this.goalsHierarchies=null,this.goalsVisualSparklines=null,this.splitHelpTooltip=null,this.cvSkipExtraResize=null,this.workspaceAdminSubscriptionsSurvey=null,this.showInTeamsPivotInOfficeAndOutlook=null,this.supportQuickCreatePasteOrEnterDataInOfficeAndOutlook=null,this.powerPlatformSolutionsIntegration=null,this.allowPowerPlatformEnvironmentCrossRegion=null,this.goalsTakeOverConnection=null,this.showPinReportIconInMetaOS=null,this.showExternalSharingTenant=null,this.showEnableDatasetInPlaceSharingTenant=null,this.EnforceSubscriptionExternalUsersTenantSwitchInBE=null,this.allowCVLocalStorageTenantSwitch=null,this.allowCVWebAccessTenantSwitch=null,this.privilegeExportContent=null,this.showGuestContentTab=null,this.requireCVPrivilegesTenantSwitch=null,this.CAEAuth=null,this.CustomVisualLicenses=null,this.ShowChatWithSales=null,this.showChatText=null,this.useRootUrlFilePicker=null,this.goalsHubTileContextMenu=null,this.useNativePromiseForPbiPromise=null,this.exp_useNativePromiseForPbiPromise=null,this.useNativePromiseForPowerBIPromise=null,this.exp_useNativePromiseForPowerBIPromise=null,this.showEmailSubscriptionsToExternalUsersTenantSwitch=null,this.showEmailSubscriptionsToB2BUsersTenantSwitch=null,this.MarketplaceLeads=null,this.smartNarrativeVisualContainterButton=null,this.deprecateGettingStarted=null,this.lakehouseShowTables=null,this.saveQueryAsView=null,this.datamartAutoRefresh=null,this.p2wInService=null,this.modernOfficeFilePicker=null,this.disableAngularJsForPortal=null,this.forceChatWidgetEnabled=null,this.tridentStageTwoWithLabelNav=null,this.disableNavOverflow=null,this.prefetchCustomVisualLicenses=null,this.authDCParam=null,this.newTriggerForSatisfactionSurvey=null,this.optimizeTabRibbon=null,this.tridentArtifactAccess=null,this.pbiArtifactAccessInTridentStyle=null,this.customVisualsGradualExposure1=null,this.customVisualsGradualExposure2=null,this.customVisualsGradualExposure3=null,this.tridentRibbon=null,this.enableCVClientSideAuth=null,this.hardBlockServiceClient=null,this.preloadDES=null,this.preloadV2=null,this.parallelLoadingEXA=null,this.parallelLoadingLHE=null,this.parallelLoadingDPE=null,this.parallelLoadingDES=null,this.parallelLoadingDFW=null,this.parallelLoadingFabricExtension=null,this.parallelLoadingWHS=null,this.parallelLoadingSQL=null,this.delegatedTenantSettings=null,this.delegatedWorkspaceTenantSettings=null,this.exportToExcelAndCSVDelegationClient=null,this.tenantSettingVisualCue=null,this.tenantSettingsDefaultCheckbox=null,this.tenantSettingsSearchBarFE=null,this.tenantSettingIntProperty=null,this.showDataActivatorDefaultCheckbox=null,this.showHighlightTenantSettingSearchBar=null,this.disableDownloadFallback=null,this.allowCVAuthenticationTenantSwitch=null,this.visualContainerFontUpdateTrigger=null,this.openInADS=null,this.applyAllSlicersButton=null,this.tridentTrial=null,this.createArtifactWithTridentTrial=null,this.createWorkspaceWithTridentTrial=null,this.trialLimit=null,this.trialSignUpGoToFabricHome=null,this.trialSignUpShowSamples=null,this.enablePlatformMonitoring=null,this.enableTridentUserSettings=null,this.showPurviewContentButton=null,this.allowAdminMonitoringFreeLicense=null,this.tridentMessageBarShowPbiBarSwitch=null,this.fabricConferencePromotionSwitch=null,this.fabric2024EuropeConfMsgBar=null,this.fabric2024EuropeConfMsgBarSkipCheckWFE=null,this.fabric2024AmericaConfMsgBar=null,this.fabric2024AmericaConfMsgBarSkipCheckWFE=null,this.fabricConfMsgBar=null,this.convertConnectedWorkbookFFXL=null,this.downloadLocalWorkbookFFXL=null,this.removeLocalUploadFFXL=null,this.removeViewLocalFFXL=null,this.executeSql=null,this.datamartPayloadParser=null,this.disableAdminCenterSupportPageLink=null,this.teamsMeetingExperiences=null,this.showNotificationSettingsInTridentUserSettings=null,this.showTridentUserSettingsNotificationTablesV2=null,this.showFormatPaneSettingInUserSettings=null,this.dwPipeline=null,this.datamartModeling=null,this.aiNarrativesVisual=null,this.aiNarrativesIncludeInsights=null,this.aiNarrativesUseClientFormatting=null,this.aiNarrativesDisableWholeUnitsFormatting=null,this.aiNarrativesStreamResponse=null,this.aiNarrativesGPT4=null,this.aiNarrativesGPT4o=null,this.aiNarrativesGPT4_32K=null,this.aiNarrativesGPT4Turbo=null,this.aiNarrativesGPT3Turbo=null,this.aiNarrativesGPT3TurboPromptChain=null,this.aiNarrativesDV3=null,this.aiNarrativesSingleEntryPoint=null,this.aiNarrativesReportSummary=null,this.aiNarrativesEmptyState=null,this.aiNarrativesDisablePermanentPaused=null,this.aiNarrativesPreferLowDataVolume=null,this.copilotReportContentSkipPartialResults=null,this.textboxCopilot=null,this.exploreCopilotChatHistoryEncoding=null,this.useCopilotSearch=null,this.capacitySparkAutoscale=null,this.capacitySparkAutoscaleDemoMode=null,this.datamartIncrementalLoad=null,this.directLakeAutoSyncUI=null,this.ASWritethruUI=null,this.ASWritethruSupportAbfUI=null,this.ASContinuousExportByDefaultLargeModels=null,this.ShowReadPermModelOnOneLake=null,this.tridentLegacyPanel=null,this.saveAsTable=null,this.datahubEmbedMain_HEAD_DataHub_CompactView_Embed_FE=null,this.datahubEmbedMain_HEAD_LicenseAutoassignmentFailedHandling_FE=null,this.disableLeavePageEnd=null,this.relatedArtifactSharing=null,this.newCard=null,this.notebookNewPythonCompleter=null,this.tridentAlm_HomeOne=null,this.tridentAlm_Lakehouse=null,this.tridentAlm_SparkJobDefinition=null,this.tridentAlm_SynapseNotebook=null,this.tridentAlm_Pipeline=null,this.tridentAlm_DataflowFabric=null,this.tridentAlm_Datawarehouse=null,this.tridentAlm_SQLDbNative=null,this.tridentAlm_PgSQLDbNative=null,this.tridentAlm_Environment=null,this.tridentAlm_OrgApp=null,this.tridentAlm_KustoDashboard=null,this.tridentAlm_KustoQueryWorkbench=null,this.tridentAlm_ReflexProject=null,this.tridentAlm_Variables=null,this.tridentAlm_RetailDataManager=null,this.tridentAlm_GraphQL=null,this.tridentAlm_FunctionSet=null,this.tridentAlm_KustoEventHouse=null,this.tridentAlm_KustoDatabase=null,this.tridentAlm_CopyJob=null,this.tridentAlm_Warehouse=null,this.tridentAlm_SustainabilityDataManager=null,this.tridentAlm_HealthDataManager=null,this.tridentAlm_MountedRelationalDatabase=null,this.tridentAlm_EventStream=null,this.tridentAlm_MountedDataFactory=null,this.sqlDbNative_RefreshGitSyncStatus=null,this.preventRepeatReportNavigationLong=null,this.preventRepeatReportNavigationShort=null,this.useExtensionsManifestsModule=null,this.useLegacyProductSwitcher=null,this.useFabricFreeForTrial=null,this.tridentPreloadEventStream=null,this.disableFabricAdminPortalTitle=null,this.measureDrivenDataLabels=null,this.scaleTooltipWithCanvasZoom=null,this.storytellingRecommendationAlgorithm=null,this.supportAnyWorkspaceFilter=null,this.supportCustomColumn=null,this.dwDataflowGen2=null,this.dwSamples=null,this.disableTridentFeedbackButton=null,this.disableCommunityContentInHelpPane=null,this.dedsNotebookFileSystem=null,this.subfolderInWorkspace=null,this.saveReportSubfolderFrontend=null,this.parentChildInWorkspace=null,this.parentChildWithRelationsStore_HEAD_Relations_FE=null,this.hiddenInWorkspace=null,this.daxQueryViewWeb=null,this.daxLinkSharingWeb=null,this.dedsEnableAzNBProxy=null,this.labelEnhancementsM0=null,this.gitIntegration=null,this.errorMessagesP2W=null,this.aadAuthenticationForExternalExtensions=null,this.sqlCompletionQuickActions=null,this.sqlCopilot=null,this.RdlCanUseSCC=null,this.datamartSql=null,this.exploreCopilotPane=null,this.exploreCopilotSuggestions=null,this.exploreCopilotQuestionSkill=null,this.exploreCopilotSkillsInAuthoring=null,this.exploreCopilotReportSummary=null,this.exploreCopilotReportSummaryWithVisualRanker=null,this.exploreCopilotReportQuestionSkill=null,this.exploreCopilotReportForecastSkill=null,this.exploreCopilotSendChatHistory=null,this.emCVDisableGlobals=null,this.cvEnableResourceLoaderCSP=null,this.P2WDialogFromAdminPortal=null,this.globalSkipToMainContent=null,this.leaderLinesAndOffset=null,this.qnaCopilotSynonyms=null,this.qnaImproveLsdlCopilot=null,this.executeSqlAsync=null,this.ASQsoUISupport=null,this.emitLoopStandardizedClientReportingEvent=null,this.dataDrivenRdlSubscriptionsUI=null,this.dataDrivenPbixSubscriptionsUI=null,this.ddsDevMode=null,this.extensionCDN=null,this.extensionCDNDES=null,this.extensionCDNDMH=null,this.extensionCDNReactExample=null,this.extensionCDNRFX=null,this.extensionCDNSTM=null,this.extensionCDNLHE=null,this.extensionCDNDMR=null,this.extensionCDNAPP=null,this.extensionCDNADX=null,this.extensionCDNDPE=null,this.extensionCDNSQL=null,this.extensionCDNWHS=null,this.extensionCDNGQL=null,this.extensionCDNFXS=null,this.rdsCapabilityFBT=null,this.rdsCapabilitySitecore=null,this.rdsCapabilityShopperCopilot=null,this.rdsTemplateCommerce=null,this.notebookInlineCodeCompletion=null,this.surveyWithCesUI=null,this.SubstrateIntegrationContentRelevancy=null,this.sharedWithMeOnSubstrate_limitedResults=null,this.sharedWithMeOnSubstrate_increasedResults=null,this.DataWarehouseCloneTableUI=null,this.tridentMultitaskingDatamarts=null,this.cvDisableResourceLoaderIframe=null,this.variantMinxMaxx=null,this.copilot_HEAD_PurviewHub_FE=null,this.pbiServiceHomeMargins=null,this.modelRefreshAttemptsHistory=null,this.scorecardHierarchiesRLS=null,this.disablePrivateCVPreloading=null,this.rlsDaxEditor=null,this.cvAssumeAsyncUpdate=null,this.endToEndTelemetryCreateArtifact=null,this.uploadExportToODSP=null,this.useWindowWhenExporting=null,this.enableHoverCardOnCompactView_HEAD_DataHub_CompactView_FE=null,this.OpenAIApiForML=null,this.dedsNotebookCopilotUI=null,this.oneLakeUXS3ShortcutPreviewText=null,this.oneLakeUXS3CompatibleShortcutPublicText=null,this.oneLakeUXGCPShortcutPublicText=null,this.copilotTextContainerV2=null,this.copilotUXAllowDisableChatStream=null,this.copilotLicensingStatusDebugMode=null,this.copilotLicensingStatusCheck=null,this.copilotLicensingNoneCapacityHandling=null,this.copilotPanePreview=null,this.copilotEntryButtonDiscoverability=null,this.copilotNewZeroPromptSupport=null,this.copilotNewZeroPromptExperimentA=null,this.copilotNewZeroPromptExperimentB=null,this.copilotNewZeroPromptExperimentC=null,this.reportCopilotPreviewPillGA=null,this.racPageCreationDV3Support=null,this.racPageCreationGPT4Support=null,this.racCardsCreationGPT4Support=null,this.racPageCreationWithRoleAssignment=null,this.racPageCreationWithRoleAssignmentAndLegends=null,this.copilotSerializationJson=null,this.racPageCreationScatterFunnelSupport=null,this.racDatasetSummarizeDV3Support=null,this.racPageCreationDataRolesSupport=null,this.racConversationalPageCreation=null,this.pageCreationLegacyOnBEV2Web=null,this.racConversationalPageCreationDesktop=null,this.copilotPaneV2=null,this.desktopCopilotPaneV2=null,this.copilotPaneV2Streaming=null,this.clientCopilotStatusFCCSupport=null,this.copilotPaneV2SingleToolExecution=null,this.copilotUXFRETeachingBubble=null,this.mobileCertifiedUM=null,this.copilotFeedbackDialog=null,this.copilotFeedbackCommentsModal=null,this.copilotDesktopFeedbackDialog=null,this.copilotDesktopFeedbackCommentsModal=null,this.pivotTableRecommendationsCopilot=null,this.multiShortcutCreation=null,this.OneLakeShortcutsManualPath=null,this.OneLakeDataverseBrowse=null,this.allowOnlySingleShortcutCreationInKQL=null,this.defaultDatasetImprovements=null,this.statsCopilotSkill=null,this.share_HEAD_ExternalDataSharing_FE=null,this.dataflow_HEAD_CompactView_FE=null,this.loadedAllService_HEAD_CompactView_FE=null,this.pipelineCopilotEnabled=null,this.enableOPDGInPipeline=null,this.dataPipelineSupportMultiWorkspaces=null,this.preloadDPE=null,this.REPDisableReplicationLimit=null,this.MetadataDiscoveryWithSchemas=null,this.REPEnableSchemaHierarchyInMountedRelationalDatabaseSink=null,this.REPEnableColumnMapping=null,this.REPEnablePQOClientForSnowflakeInOPDG=null,this.REPEnablePQOClientForAzureSqlInOPDG=null,this.REPEnablePQOClientForSnowflakeInVNET=null,this.REPEnablePQOClientForAzureSqlInVNET=null,this.REPEnableSourceTableWithoutPkInAzureSql=null,this.OnPremRuntimeIntegration=null,this.SparkJobDefinition_SupportEnvironment=null,this.disableRecommendation=null,this.generateMeasureDescriptionsButton=null,this.generateModelItemDescriptionCopilotGPT4o=null,this.metricsHubAIGeneratedMetricDescriptions=null,this.newDESWorkspaceSettings=null,this.bindOnBootstrap=null,this.folderLevelSecurity=null,this.appsCustomAccessRequestMessage=null,this.ArtifactEnvironment=null,this.artifactWorkspaceVariables=null,this.tridentErrorFeedback=null,this.usePRBuildHashManifest=null,this.WSSettingCustomizedStartPool=null,this.audienceSchemaValidationBypass=null,this.tridentWarehouseUx=null,this.warehouseNewEditorSwitch=null,this.daxInlineCopilot=null,this.daxInlineCopilotQueryValidation=null,this.daxInlineCopilotGPT4o=null,this.daxInlineCopilotDisableGPT4oTokenLimits=null,this.EnableReportExtension=null,this.EnableModelingExtension=null,this.EnableDashboardExtension=null,this.TridentNotebook_SupportEnvironment=null,this.NewSparkComputeSettingsPage=null,this.ModelingServiceMarkAsDateTable=null,this.detectFabricCapacityStateErrors=null,this.racUseEmbeddings=null,this.addIsRefreshEnabledSetting=null,this.gitIntegrationTenantSwitchEnabled=null,this.enableDV3ForReportCopilotOrchestration=null,this.enableGPT4ForReportCopilotOrchestration=null,this.reportCopilotOrchestrationDV3PromptChanges=null,this.showDatamartInGraphql=null,this.showSqlDbInGraphql=null,this.showDataWarehouseInGraphql=null,this.showMirroredDatabaseInGraphql=null,this.enableErrorHandlingWithConversationHistory=null,this.enableNewSuggestTopicSkill=null,this.dedsDisableUXAutoHaltKernel=null,this.ASQsoDatasetSettingsUI=null,this.onelakeExplorerMultiSelect=null,this.directLakeRemoteModeling=null,this.impactOfPaginatedReportInDP=null,this.errorLocalization=null,this.dataQuestionSkill=null,this.dataQuestionSkillV2=null,this.dataAndContentQuestionSkillIntegration=null,this.OneLakeUXShortcutBatchApi=null,this.allowOnlyMultiShortcutCreationInKQL=null,this.useCustomAPICreateShortcutURLInKQL=null,this.enableAccelerationToggleInKQL=null,this.OneLakeBrowseWithStorageAudience=null,this.dedsSparkMonitoringL2ResourceUsage=null,this.dedsNotebookBrowseCodeSnippets=null,this.FuncSetPythonSupport=null,this.FuncSetEventHub=null,this.KustoGenerateQuery=null,this.ArtifactKustoDashboard=null,this.KustoDashboardPermissionSegregation=null,this.trackLocalizationLoaderIssues=null,this.dedsNotebookResourceUsage=null,this.dedsSparkMonitoringL2DetailPanelSparkConf=null,this.dedsSparkMonitoringRunSeries=null,this.manualTrialInitiationExperiment=null,this.OpenAIMwcForML=null,this.labelEnhancementsM1=null,this.rowLevelSecurity=null,this.columnLevelSecurity=null,this.getWorkspaceFromSubscriptionInfo=null,this.artifactIdForCopilotCapability=null,this.enablePromptEncodingClientsForAIEndpoint=null,this.artifactIdForUsageMetadata=null,this.disableRelativePositionStrategy=null,this.desktopReportAuthoringCopilot=null,this.copilotWorkspacePicker=null,this.subscriptionDeliveryToODSP=null,this.subscriptionDeliveryToODSPUI=null,this.subscriptionDeliveryToODSPUIGA=null,this.buttonSlicerTableLayout=null,this.fabricTrialExpirationExperience=null,this.enableGPT4ForDatasetSummary=null,this.enableGPT4ForSuggestTopicSkill=null,this.enableSuggestTopicCaching=null,this.autoAddDefaultDatasetDefaultValueUpdate=null,this.OneLakeADLSBrowse=null,this.OneLakeS3Browse=null,this.OneLakeGCPBrowse=null,this.OneLakeS3CompatibleBrowse=null,this.feedbackInHelpPane=null,this.useCDKVirtualScroll=null,this.reportMessageBar=null,this.azureMapGeocodingRequireLocalCache=null,this.dedsNotebookPaneSide=null,this.oneRiverHubPage=null,this.eventSubscriptionUI=null,this.oneRiverPreloadRFX=null,this.oneRiverPreloadRTP=null,this.oneriverExtensionCorsUI=null,this.rthOneLakeEventsUI=null,this.rthConsumptionEventsUI=null,this.eventDefinitionUI=null,this.rthNewDesign=null,this.rthJobEventsUI=null,this.rthAdxShortcut=null,this.rthExploreDataUI=null,this.rthCertifiedEventCapacityCheck=null,this.rthDataSourcesTab=null,this.rthEventHubDropdown=null,this.rthNewEmptyPageView=null,this.rthAutofillEventHubKey=null,this.rthEventHubKeysDropdown=null,this.rthRealTimeIntelligenceSample=null,this.rthPreloadExtension=null,this.useNewCommunitySearchService=null,this.autoMLDeprecateNewModels=null,this.SortByColumnDataQueryValidation=null,this.showGetDataInGraphql=null,this.GraphQL_showQueryMutationContextMenu=null,this.GraphQL_showMonitoringDashboard=null,this.AINarrativesForceDV3=null,this.AINarrativesForceGPT4=null,this.AINarrativesForceGPT4_32k=null,this.AINarrativesForceGPT4Turbo=null,this.AINarrativesForceGPT4o=null,this.copilotSummaryEmbedApi=null,this.showGetDataInFuncSet=null,this.homeOnboardingModalPart2Experiment_variantA=null,this.homeOnboardingModalPart2Experiment_variantB=null,this.enableHorizontalScrollOnL1_HEAD_DataHub=null,this.EventstreamCodeGenUX=null,this.streamingDataflowQueryTestV2=null,this.artifactDataflowAddPermission=null,this.tridentStreamingGetDataPoC=null,this.enableEventstreamV2Entry=null,this.enableOneLakeSecurityDataAccess=null,this.dedsSparkMonitoringLogFilterNB=null,this.adjustCopyVisualViewportInLoadTile=null,this.ShortcutNameAllowSpace=null,this.ShortcutNameSpecialCharValidation=null,this.showThemeSwitcherInTitlebar=null,this.workspaceIdResolveDelegatedSettings=null,this.dataQuestionRewording=null,this.dataQuestionDesktopAndViewMode=null,this.dataQuestionWithLinguisticSchema=null,this.dataQuestion4o=null,this.DataQuestionRewordingScenario=null,this.dataQuestionRewordingCopilotScenario=null,this.dataQuestionDisableRuntimeImprovement=null,this.dataQuestionDiagnostics=null,this.functionsHubEntry=null,this.subscriptionsCopilotSummary=null,this.OneLakeCSTApiEndpoint=null,this.enableEventstreamDerivedStreams=null,this.enableEventstreamDiscreteEvents=null,this.FuncSetUseUDFs=null,this.notebookUseNewAznbCDN=null,this.notebookInOrgApp=null,this.unlimitedListColumnWidth=null,this.removeFilterApplyButton=null,this.reportCopilotInEmbed=null,this.aiNarrativesInEmbed=null,this.datahubEmbedMain_HEAD_initialApisCaching_FE=null,this.enableEventstreamKafkaConnector=null,this.enableEventstreamMySQLConnector=null,this.hideKustoCreateStandaloneDB=null,this.kustoSetReflexAlert=null,this.showLakehouseTutorial=null,this.enableHCForPipe=null,this.allowVisualDebugSnapshot=null,this.inplaceRestore=null,this.enableCalculationHighlighting=null,this.notebookPylance=null,this.displayFabricFeedbackTenantSwitch=null,this.dialogDirectToQuickCreateTabularModel=null,this.FuncSetEnableLakewarehouse=null,this.ExportToImageDelegatedSettings=null,this.ExportToMHTMLDelegatedSettings=null,this.ExportToPowerPointDelegatedSettings=null,this.ExportToWordDelegatedSettings=null,this.ExportToXMLDelegatedSettings=null,this.dedsEnvironmentFileSystem=null,this.visualTopN=null,this.artifactTakeOverInArtifactSetting=null,this.showLocationInArtifactSetting=null,this.enableCapacityDefinedPool=null,this.enableEventstreamCosmosDBConnector=null,this.enableEventstreamKafkaDataPreview=null,this.sqlDbNative_queryPersistence=null,this.enableCalculationScatterChartMap=null,this.SeeThruModelGitSync=null,this.queryArchivedJobs=null,this.homeOnboardingBannerExperiment=null,this.preloadSqlDatabases=null,this.dedsNotebookPreConnectCompute=null,this.enableFabric13R2=null,this.meControlV2=null,this.enableKustoExploreData=null,this.disableBrowserDeprecationDialog=null,this.embedDialogsInvokeRefactor=null,this.attachReportToTaskflowAfterSave=null,this.monitoringHubL2PageForSemanticModel=null,this.onelakeCatalog_HEAD_Datahub_FE=null,this.onelakeCatalog_PermissionsTab_HEAD_Datahub_FE=null,this.onelakeCatalog_AllInsights_HEAD_Datahub_FE=null,this.renderSurveyViaSDK=null,this.enableEventStreamV1VNet=null,this.enableEventStreamCustomCode=null,this.moveImportNotebookToImport=null,this.copilotDownloadChatHistory=null,this.tridentGraphDataTable=null,this.FuncSetEnableAzureSQLdb=null,this.OrgAppV3SaveAndSections=null,this.fabricTrialAcknowledgeExpiryExperience=null,this.OrgAppV3AllowRdl=null,this.OrgAppV3AllowNotebook=null,this.OrgAppV3AllowLlmPlugin=null,this.suggestTopicsRevised=null,this.azureMapsPreserveDrawingBufferForExport=null,this.enableEventstreamsV2TrafficPauseResume=null,this.enableParentChild_HEAD_DataHub_CompactView_FE=null,this.semanticModelVersioning=null,this.modelingViewOnlyMode=null,this.copilotOrchestratorGPT4oSupport=null,this.fabricTrialEndNotification=null,this.fabricTrialEndMarker=null,this.filtersCopilotSkill=null,this.CopilotPreviewToggle=null,this.appBarResizingV2=null,this.enableEventstreamLakehouseSchema=null,this.FluentListColumnOption=null,this.backendCopilotOrchestrator=null,this.immersiveCopilotM1=null,this.backendCopilotOrchestratorMobile=null,this.backendCopilotOrchestratorDesktop=null,this.backendCopilotOrchestratorDesktopSU11=null,this.copilotDesktopDebug=null,this.copilotCapabilityNoCapacityShortCircuit=null,this.copilotCapabilityAgentMetadataCheck=null,this.tablixRenderUpgrade=null,this.copilotCapabilityClientCaching=null,this.azureMapsConsentManagement=null,this.enableCopilotPromptDebug=null,this.fabricTrialInternalExpirationExperience=null,this.newLeadsUrl=null,this.dedsNotebookFileEditor=null,this.lastDayOfMonthSubscription=null,this.DownloadExplorationFileFormatV2=null,this.fabricTrialThirtyDaysRetentionExperience=null,this.fabricStartTrialDialogFromMeExperience=null,this.fabricCancelTrialFromCapacitySettings=null,this.fabricAddContributorForTrialExperience=null,this.fabricCancelTrialFromCapacitySettingsShowChangeImmediately=null,this.MirroredOneSecurity=null,this.directLakeOverOneLake=null,this.enableCapacitySurgeProtection=null,this.enableJobAdmission=null,this.showJMTimeoutSettings=null,this.alchemySearch=null,this.AlchemyInsights=null,this.enablePageCreationVisualValidation=null,this.racPageCreationPoseidonSupport=null,this.racCardsCreationPoseidonSupport=null,this.racSuggestPoseidonSupport=null,this.LegacyIndirectAccessSource=null,this.enableExportToDataWithVisualCalculations=null,this.FuncSet_EnableAsyncDeployCode=null,this.azureMapsPublishToWeb=null,this.enableCopilotInGraphql=null,this.mobileCopilot=null,this.decoupleTimeZoneAndScheduleRefresh=null,this.consistentArtifactCreation=null,this.emptyStateDiscovery_HEAD_domains_FE=null,this.NotebookEnableWidgetReference=null,this.realTimeIntelligenceSampleTutorial=null,this.visualCalculationFRE=null,this.SparkCoreSparkSettingsNativeEngineEnabled=null,this.defaultLabel_HEAD_Domains_FE=null,this.disableEnsure3PConsent=null,this.fabricDeveloperExperience=null,this.TableDiscovery=null,this.SchemaDiscovery=null,this.ArtifactGraphEnableCreationAsync=null,this.artifactMonthlySchedule=null,this.enableEventstreamAmazonMskKafkaConnector=null,this.enableEventstreamApacheKafkaConnector=null,this.enableEventstreamAzureSqlMiDbCdcConnector=null,this.enableEventstreamSqlServerOnVmDbCdcConnector=null,this.downloadEmptyReportWithDatasetOnly=null,this.GraphQL_showCopyClientCodeButton=null,this.shellWorkspaceCopilot=null,this.enableSaveACopyExpV2=null,this.dataQuestionLlmParser=null,this.oneSecurityUXPublic=null,this.advancedSlicerSelectionIcon=null,this.blockExtensionMessageOnValidationFailure=null,this.dataFunctionActions=null,this.OrgAppV3Ingress=null,this.OrgAppCopilotUi=null,this.ArtifactGraphLoadOnSave=null,this.webModelingViewSwitcher=null,this.kustoAllowEmbeddedQueryset=null,this.enableFabric13R3=null,this.kustoEnableQueryAcceleration=null,this.geofilterSynonymAdjustLocalityWhenNullDisabled=null,this.shouldEnableWarningStreamingDataset=null,this.RelevanceEngine_AllowLlmRequests=null,this.artifactDiscoverySkill=null,this.FuncSetEnablePortalEditing=null,this.disableAppinsightsRetries=null,this.syncPerformanceItemsFromExtensions=null,this.shouldDisableCreationStreamingDataset=null,this.manageDatasetRefresh=null,this.unsupportedBrowserNotification=null,this.dashboard_and_report_HEAD_CompactView_FE=null,this.dedsNotebookTeachingTourDRL=null,this.OrgAppConsolidatedNavigation=null,this.ArtifactGraphPersistLayout=null,this.KustoGenerateDashboard=null,this.enableEventstreamEventType=null,this.ArtifactFunctionSet=null,this.treemapLayoutOptions=null,this.showHelpPaneInGlobalSearch_variantA=null,this.showHelpPaneInGlobalSearch_variantB=null,this.ArtifactGraphQueryCopilot=null,this.enableEventstreamAzureServiceBusConnector=null,this.ODSPSubscriptionUserPermissionsCheck=null,this.OneSecurityForDataWarehouseFE=null,this.FuncSetEnableLibraryManagement=null,this.dataQuestionDispreferTables=null,this.GraphQL_ShowSqlAnalyticsEndpointArtifactType=null,this.GraphQL_ShowWarehouseArtifactType=null,this.AlmCrossRegionDeployment=null,this.daxCopilotV2=null,this.daxCopilotIncreasedTokenLimits=null,this.azureMapGeocodingAuditor=null,this.notebookAzNBInSW=null,this.subscribePermissionSharing=null,this.NL2DAXIncludeSampleValues=null,this.NL2DAXIncludeSampleValuesDirectLake=null,this.GraphQL_ShowSqlAnalyticsEndpointDmts=null,this.showChangeOwnershipOptionForTenantAdmin=null,this.GraphQL_ShowWarehouseDmts=null,this.enableEventstreamReflexPushMode=null,this.FuncSetEnableDotNetSupport=null,this.disableCacheUpdatesForV2Reports=null,this.fabricMigration=null,this.exploreInReportCopilot=null,this.GraphQL_ShowSqlDbNativeDmts=null,this.tmdlCopilotToggle=null,this.OrgAppV3PublicContract=null,this.debugImmersiveCopilot=null,this.GraphQL_ShowMountedWarehouseDmts=null,this.GraphQL_NewDnsEndpoint=null,this.datahubPillsBar_HEAD_a11y_FE=null,this.databricksNetworkSecurityUX=null,this.DigitalOperationsM1UI=null,this.fabricArtifactSyncService=null,this.multitaskingUpdateSyncService=null,this.artifactGraphConditionalFormatting=null,this.FuncSetEnableUseOwnerToken=null,this.saveNewReportAsExplorationV2=null,this.ArtifactGraphInferGraphUI=null,this.ArtifactGraphNewObjectModel=null,this.ArtifactGraphNewLook=null,this.analyzeDataWith=null,this.enableReadonlyDqv=null,this.ArtifactGraphNodeExpansion=null,this.daxCopilotV2Web=null,this.enableDaxScenarioParameterOverride=null,this.DataverseShortcutServicePrincipalAuthKind=null,this.acceptEncoding=null,this.initializeCapacityWithFolderAPI=null,this.consistentHomeOneCreation=null,this.disableStarterWorkspacePool=null,this.stableReporting=null,this.dedsPythonMonitor=null,this.sqlDwGpt4oMini=null,this.refreshDataflowFabric=null,this.enableEventstreamEntraIDAuthForCustomEndpoint=null}}},995096:function(Ce,k,r){r.d(k,{A:function(){return a}});var a={annotationsUI:8,exp_deferVCLoadingChangeSection:8380415,exp_deferVCLoadingChangeSectionEmbed:8192,exp_noEmptyUpdate:8380415,noEmptyUpdate:8380415,noEmptyUpdateEmbed:8192,personalVisualizationPaneEnabled:8380415,queryCancellation:25,reportAnnotationsUI:10,stickyFeatureSwitches:8380415,userFavoriteResourcePackagesEnabled:8380415}},124674:function(Ce,k,r){r.d(k,{pL:function(){return R},MF:function(){return V}});var a=r(677249),e=r(547586),u=r(298180),t=r(651458),C=r(374630),y=r(204883),i=r(590947),o=r(737466),h="infonav-additionalError",d="infonav-showAdditionalError";function p(U,z){var j=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",U));return j.find(".infonav-errorInfoText").text(z||""),j.html(j.html().replace(/\n/g,"<br/>")),j}var m=r(275910),b=function(U){return U[U.Info=0]="Info",U[U.Warning=1]="Warning",U[U.SecurityWarning=2]="SecurityWarning",U}({}),V="https://support.powerbi.com",x="infonav-modalContainerHost",N="."+x,B="infonav-describedBy",I='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="infonav-modalDialog" tabindex="-1" data-testid="infonav-modal-dialog"><div class="infonav-dialogLayout themeableElement"><div class="infonav-dialogTitle" id='+B+' role="heading" aria-level="1"></div><input type="button" class="infonav-dialogCloseIcon" data-testid="infonav-modal-dialog-close-btn"></input><div class="infonav-dialogContent" data-testid="infonav-modal-dialog-content"><div class="infonav-dialogActions"  data-testid="infonav-modal-dialog-actions"></div></div></div></div></div>';class R{constructor(z,j){this.dialogHost=z,this.localizationMap=j,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}refocus(){this.modalContainer.focus()}showMessage(z,j,H,q){this.ensureInitialized();var Z,G=[];if(H||(H=this.localizationMap?this.localizationMap.closePromptText:i.Ky),q){var Q=$('<a target="_blank"></a>').text(q.label).attr("href",q.url);Z=$("<div></div>").text(j+" ").append(Q),j=void 0}G[0]=this.createButton(H,()=>{this.hideDialog()},null,"primary"),this.pushMessage(z,j,Z,G,!0)}showPrompt(z,j,H,q){this.ensureInitialized();for(var G=new Array,J=0;J<H.length;J++){var Z=H[J],Q=Z.cssClass;0===J&&(Q+=" primary"),G[J]=this.createButton(Z.labelText,Z.actionCallback,Z.data,Q,Z.disabled)}this.pushMessage(z,j,void 0,G,!!q)}showError(z,j,H,q,G){this.showCustomError(i.g_,z,j,j!==t.U.Fatal,H,q,G)}showCustomError(z,j,H,q,G,J,Z,Q,ne,le,he,Se,Ke){this.ensureInitialized();var ye,Ge=new Array;Z?Z.forEach(Ue=>{Ge.push(this.createButton(Ue.label,()=>{this.hideDialog(),$.isFunction(J)&&J(Ue.resultValue)},null,Ue.cssClass,Ue.disabled))}):Ge[0]=H!==t.U.Fatal?this.createButton(this.localizationMap?this.localizationMap.closePromptText:i.Ky,()=>{this.hideDialog(),$.isFunction(J)&&J(0)}):this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:i.Pu,()=>{window.location.reload()},null,"primary"),ye=le?$("<div></div>").append(le):$("<div></div>").text(j);var je,we=$("<div></div>").addClass("infonav-dialogFooter");if(!_.isEmpty(G)){je=this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap.errorDialogHelperText:i.q5,he&&(je=he),ye.append($("<br/>")).append(je);var de=this.localizationMap?this.localizationMap.copyPromptText:i._T,Pe=this.localizationMap?this.localizationMap.copySuccessText:i.Eu,Ve={title:z,message:le?le.text():j,helperText:je,additionalErrorInfo:G},Ze=$("<button></button>").text(de).addClass("modalCopyToClipboard").click(()=>{this.tryCopyToClipboard(Ve)&&(Ze.text(Pe).addClass("modalCopySuccess"),setTimeout(()=>{Ze.text(de).removeClass("modalCopySuccess")},3e3))});we.prepend(Ze)}this.addAdditionalErrorInfo(ye,G,this.localizationMap?this.localizationMap.showTechnicalDetailsText:i.b),Q&&(Q.url===V||Q.isGetHelpTextReplaced?we.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(Q.label).attr("href",Q.url)):Ge.unshift(this.createButton(Q.label,()=>{window.open(Q.url)},null,"primary"))),ye.append(we),this.pushMessage(z||i.g_,void 0,ye,Ge,q,ne,void 0,void 0,Se,Ke)}showCustomDialog(z,j,H,q,G,J,Z,Q,ne,le,he,Se,Ke,Ge,ye,we,je,de){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var Pe=[];ye&&(Pe[0]=this.createCheckbox(ye.labelText,ye.actionCallback,ye.data));for(var Ve=H.findIndex(_e=>_e?.type===m.s.Button),Ze=0;Ze<H.length;Ze++){var Ue=H[Ze],Je=Ue.cssClass;!Se&&Ze===Ve&&(Je+=" primary"),Pe[ye?Ze+1:Ze]=Ue.type===m.s.Link?this.createLink(Ue.labelText,Ue.link):this.createButton(Ue.labelText,Ue.actionCallback,Ue.data,Je,Ue.disabled)}if(je){var ue=$("<p></p>").append($('<a target="_blank"></a>').text(je.label).attr("href",je.url));j=j.append(ue)}return this.pushMessage(z,void 0,j,Pe,!!G,ne,q,J,Z,Q,le,he,Se,Ke,Ge,we,de),this.dialogContent}hideDialog(){this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,()=>{this.modalContainer.css(e.SU,e.zu),this.modalDialogElement.removeClass(this.modalDialogCustomClass),this.modalContainer.removeClass(this.modalContainerCustomClass),this.currentModalDialogMessage&&this.currentModalDialogMessage.onDialogClosed&&this.currentModalDialogMessage.onDialogClosed(),this.messageCurrentlyShown=!1;var z=this.messageQueue.shift();z?this.showDialogInternal(z):(this.modalContainer.off(),this.modalContainer.remove(),$(N).off(),$(N).remove(),this.initialized=!1,this.unregisterFocusManager&&this.unregisterFocusManager())})}ensureInitialized(){if(!this.initialized){if(this.modalContainer=$(I),this.modalDialogElement=this.modalContainer.find(".infonav-modalDialog"),this.dialogTitle=this.modalContainer.find(".infonav-dialogTitle"),this.dialogCloseButton=this.modalContainer.find(".infonav-dialogCloseIcon"),this.dialogContent=this.modalContainer.find(".infonav-dialogContent"),this.dialogActions=this.modalContainer.find(".infonav-dialogActions"),this.dialogCloseButton.on(u.G6,()=>this.hideDialog()).on("keydown",j=>{27===j.keyCode&&this.hideDialog()}).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:i.Ky).attr("name",this.localizationMap?this.localizationMap.closePromptText:i.Ky).attr("title",this.localizationMap?this.localizationMap.closePromptText:i.Ky),!this.dialogHost){var z=$(N);_.isEmpty(z)||z.remove(),(z=(0,a.hi)().addClass(x)).attr("role","dialog"),z.attr("aria-labelledby",B),this.dialogHost=$(u.iV).append(z),this.dialogHost=z}this.dialogHost.append(this.modalContainer),this.isReady=!0,this.messageQueue.length>0&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=C.IK.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0}}updatePosition(z){var j=(this.modalContainer.height()-this.modalDialogElement.height())/2,H=(this.modalContainer.width()-this.modalDialogElement.width())/2,q={top:j+e.SJ,left:H+e.SJ};z?this.modalDialogElement.animate(q,250):this.modalDialogElement.css(q)}addAdditionalErrorInfo(z,j,H){if(!_.isEmpty(j)){var q=$("<p ></p>");for(var G of j)q.append(p(G.errorInfoKey,G.errorInfoValue));var J=function(U,z){var j=$("<div ></div>"),H=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return H.addClass(d),H.text(z||i.b),H.on(u.G6,()=>{j.find(o.b$.createClassSelector(d)).remove(),j.find(o.b$.createClassSelector(h)).css(e.SU,e.jO)}),U.css(e.SU,e.zu),U.addClass(h),j.append(H),j.append(U),j}(q,H);z.append($("<br />")),z.append(J),z.find(".showAdditionalDetailsLink").on(u.G6,()=>{this.updatePosition(!0)})}}pushMessage(z,j,H,q,G,J,Z,Q,ne,le,he,Se,Ke,Ge,ye,we,je){typeof G>"u"&&(G=!0),typeof ne>"u"&&(ne=""),typeof le>"u"&&(le=""),typeof je>"u"&&(je=""),this.messageQueue.push({titleText:z,messageText:j,dialogContent:H,dialogButtons:q,onDialogDisplayed:Z,isDismissable:G,dialogCssClass:ne,dialogActionsCssClass:je,containerCssClass:le,onDialogClosed:J,notificationType:he,notificationText:Se,htmlMessageText:Ge}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),Q,Ke,ye,we)}tryCopyToClipboard(z){if(!z)return!1;var j=[];if(z.title&&j.push(z.title),z.message&&j.push(z.message),z.helperText&&j.push(z.helperText),z.additionalErrorInfo)for(var H of z.additionalErrorInfo)j.push(`${H.errorInfoKey}: ${H.errorInfoValue}`);var q=j.join("\n");try{return(0,y.Ue)().copyText(q),!0}catch{return!1}}showDialogInternal(z,j,H,q,G){if(this.currentModalDialogMessage=z,this.messageCurrentlyShown=!0,this.dialogContentNotification=$('<div class="infonav-dialogContentNotification"><span class="glyphicon"></span><span class= "infonav-dialogContentNotificationText" > </span></div>'),this.dialogContentNotificationIcon=this.dialogContentNotification.find(".glyphicon"),this.dialogContentNotificationText=this.dialogContentNotification.find(".infonav-dialogContentNotificationText"),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(z.titleText).attr("title",z.titleText),q?(this.appendNotification(z.notificationType,z.notificationText),this.appendMessageText(z.dialogContent,z.messageText,z.htmlMessageText)):(this.appendMessageText(z.dialogContent,z.messageText,z.htmlMessageText),this.appendNotification(z.notificationType,z.notificationText)),this.dialogCloseButton.css(e.SU,z.isDismissable?e.jO:e.zu),z.dialogButtons.length>0)for(var J of(this.dialogActions.show(),z.dialogButtons))this.dialogActions.append(J);else this.dialogActions.hide();var Z=this.dialogContent.find(".infonav-dialogFooter");Z.length>0?Z.append(this.dialogActions):this.dialogContent.after(this.dialogActions),z.dialogCssClass&&(this.modalDialogElement.addClass(z.dialogCssClass),this.modalDialogCustomClass=z.dialogCssClass),z.containerCssClass&&(this.modalContainer.addClass(z.containerCssClass),this.modalContainerCustomClass=z.containerCssClass),z.dialogActionsCssClass&&this.dialogActions.addClass(z.dialogActionsCssClass);var Q=this.modalContainer.css(e.SU)===e.zu?this.modalContainer:this.modalDialogElement;Q.fadeTo(0,0),this.updatePosition(!1),Q.fadeTo(250,1,()=>{if(z.onDialogDisplayed&&z.onDialogDisplayed(this.dialogContent),!(this.modalDialogElement.find("dialog-frame").length>0)){0===this.modalDialogElement.find(":focus").length&&this.modalDialogElement.focus(),G&&this.modalDialogElement.keydown(le=>{27===le.keyCode&&this.hideDialog()});var ne=this.dialogActions.find("input");!H&&ne.length>0&&ne[0].focus(),j&&this.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus()}})}appendMessageText(z,j,H){_.isEmpty(j)&&z?this.dialogContent.append(z):this.dialogContent.text(j),_.isEmpty(H)||(this.dialogContentMessage=this.dialogContent.find(".dialogMessage"),this.dialogContentMessage.html(H))}appendNotification(z,j){if(null!==z&&!_.isEmpty(j)){switch(z){case b.Info:this.dialogContentNotificationIcon.addClass("pbi-glyph-info glyph-mini"),this.dialogContentNotification.addClass("typeInfo");break;case b.Warning:this.dialogContentNotificationIcon.addClass("pbi-glyph-warning glyph-mini"),this.dialogContentNotification.addClass("typeWarning");break;case b.SecurityWarning:this.dialogContentNotificationIcon.addClass("pbi-glyph-securityalert glyph-mini"),this.dialogContentNotification.addClass("typeSecurityWarning")}this.dialogContentNotificationText.html(j),this.dialogContent.append(this.dialogContentNotification)}}createButton(z,j,H,q,G){var J=$('<input type="button" class=pbi-fluent-button></input>');return J.attr("value",z),J.attr("data-testid",`infonav-dialog-action-${z}`),J.on(u.G6,()=>{j(J,this.dialogContent,H)}),q&&J.addClass(q),G&&J.prop("disabled",!0),J}createCheckbox(z,j,H){var G=$('<div class="pbi-input checkbox"><input type="checkbox"></input><label class="form-label">'+z+"</label></div>"),J=G.find("input");return J.on(u.AA,()=>{j(J,this.dialogContent,H)}),G}createLink(z,j="",H=!0){return $(`<div>\n                <br>\n                    <a href=${j} target='_blank' class='pbi-external-link'>\n                        ${z}${H?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":""}\n                    </a>\n                <br>\n            </div>`)}modalDialogResizeHandler(){this.updatePosition(!1)}}},275910:function(Ce,k,r){r.d(k,{l:function(){return e},s:function(){return a}});var a=function(u){return u.Button="Button",u.Link="Link",u}({});class e{constructor(t,C,y,i,o,c,h){this.type=a.Button,this.link="",this.labelText=t,this.actionCallback=C,this.data=y,this.cssClass=i,this.disabled=!!o,this.type=c||this.type,this.link=h||this.link}}},69578:function(Ce,k,r){r.d(k,{IH:function(){return b},Kk:function(){return d},TX:function(){return m},cN:function(){return l},gh:function(){return c},ih:function(){return h},jC:function(){return s},nK:function(){return V},nY:function(){return v},u5:function(){return g},uL:function(){return f},xv:function(){return n}});var a=r(479517),e=r(939123),u=r(753104),t=r(405427),C=r(737466),y=r(23698),i="/Date(",o=")/";function c(S){return e.fF.assertValue(S,"date"),(S.getTime()-6e4*S.getTimezoneOffset())%864e5==0}function h(){return typeof moment<"u"}function d(S){var P=n(S);if(P)return P;e.fF.assert(()=>h(),"Moment.js should be loaded for non-fast parseIsoDate.");var D=moment(S);return D.isValid()?D.toDate():null}function n(S){if(S){var P=S.length;if(!(P<=18||P>28)){var D=S[10];if("-"===S[4]&&"-"===S[7]&&("T"===D||" "===D)&&":"===S[13]&&":"===S[16]){var M=(0,y.l)(S,0,4),E=(0,y.l)(S,5,2),w=(0,y.l)(S,8,2),x=(0,y.l)(S,11,2),N=(0,y.l)(S,14,2),L=(0,y.l)(S,17,2),B="Z"===S.charAt(P-1);B&&P--;var I=0;if(P>19){if("."!==S[19])return;var W=P-20,O=(0,y.l)(S,20,W);if(null===O)return;I=O*(0,u.wA)(3-W)}if(null!==M&&null!==E&&null!==w&&null!==x&&null!==N&&null!==L&&null!==I)return B?new Date(Date.UTC(M,E-1,w,x,N,L,I)):(0,t.yI)(M,E-1,w,x,N,L,I)}}}}function s(S){return e.fF.assert(()=>h(),"Moment.js should be loaded for parseUtcDate."),moment.utc(S).toDate()}function l(S){if(C.b$.throwIfNullOrEmptyString(S,null,"deserializeDate","Cannot deserialize empty string"),(0,a.BF)(0===S.indexOf(i)&&_.endsWith(S,o),"Cannot deserialize empty string"),h()){var P=moment(S);return(0,a.BF)(P.isValid(),"parsedValue.isValid must be true"),P.toDate()}var D=S.substring(i.length,S.length-o.length);(0,a.BF)(/^\-?\d+$/.test(D),"Cannot deserialize invalid date");var M=parseInt(D,10);return(0,a.BF)(!isNaN(M),"Cannot deserialize invalid date"),new Date(M)}function m(S){try{return l(S)}catch{}}function b(S,P,D,M){e.fF.assertValue(S,"date");var E=moment().subtract(D,P);return M&&(E=E.startOf(P)),moment(S)>=E}function V(S,P){return e.fF.assertValue(P,"date"),P.toLocaleTimeString(S,{second:"numeric",minute:"numeric",hour:"numeric"})}function g(S,P){return e.fF.assertValue(P,"date"),P.toLocaleDateString(S,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})}function v(S,P){return e.fF.assertValue(P,"date"),P.toLocaleDateString(S,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}function f(){return(new Date).toISOString()}},94567:function(Ce,k,r){r.d(k,{s:function(){return u}});var a=r(310420),e={},u=(()=>{class i{static clearQueryString(c){var h=i.parseQueryString();return delete h[c],i.rebuildQueryString(h)}static clearQueryStrings(c){var h=i.parseQueryString();for(var d of c)delete h[d];return i.rebuildQueryString(h)}static addOrUpdateQueryString(c,h){var d=i.parseQueryString();return d[c]=h,i.rebuildQueryString(d)}static addOrUpdateQueryStringToUrl(c,h){var d=i.parseUrl(c),n=i.clearAllQueriesFromUrl(c);for(var s of Object.keys(h))d[s]=h[s];return n+i.rebuildQueryString(d)}static getQueryStringValue(c){return i.parseQueryString()[c]}static isQueryParamSet(c,h){var d=e[c];if(!h||void 0===d){var n=i.getQueryStringValue(c);d=null!=n&&"false"!==n&&("1"===n||"true"===n.toLowerCase()||n.length>1),h&&(e[c]=d)}return d}static parseUrl(c){var h=c.indexOf("?"),d=h>=0?c.substr(h):void 0;return i.parseQueryString(d)}static parseQueryString(c=window.location.search){var h={},d=c;if(d&&"?"===d.substr(0,1)){var n=d.substr(1).split("&");for(var s of n){var[p,...l]=s.split("="),m=l.join("=");h[decodeURIComponent(p)]=decodeURIComponent(m)}}return h}static parseQueryStringWithMultipleKeyValues(c=window.location.search){var h={},d=c;if(d&&"?"===d.substr(0,1)){var n=d.substr(1).split("&");for(var s of n){var[p,...l]=s.split("="),m=l.join("="),b=decodeURIComponent(m);h[decodeURIComponent(p)]?h[decodeURIComponent(p)].push(b):h[decodeURIComponent(p)]=[b]}}return h}static rebuildQueryString(c){var h="",d=!0;for(var n in c)d||(h+="&"),h+=encodeURIComponent(n)+"=",c[n]&&(h+=encodeURIComponent(c[n])),d=!1;return d||(h="?"+h),h}static clearAllQueriesFromUrl(c){var h=c.indexOf("?"),d=c.indexOf("#");return d>=0&&(d<h||-1===h)&&(h=d),h>=0?c.substr(0,h):c}static fileOfUrl(c){var h=(c=i.clearAllQueriesFromUrl(c)).lastIndexOf("/");return-1!==h&&(c=c.substring(h+1)),c}}return i.OriginClientActivityIdParameterName="caid",i.OriginRootActivityIdParameterName="raid",i.OriginActivityIdParameterName="aid",i})();function t(){var i=(0,a.kx)();return i.QueryStringUtil||(i.QueryStringUtil={}),i.QueryStringUtil}var y=!1;!function(){if(!y){var i=u.getQueryStringValue;t().getQueryStringValue=c=>i(c);var o=u.parseQueryString;t().parseQueryString=(c=window.location.search)=>o(c),y=!0}}()},334169:function(Ce,k,r){r.d(k,{U:function(){return u},w:function(){return t}});var e,a=r(939123);function u(y){return new C(y)}function t(y){return new C(y)}class C{constructor(i){this[e]="Promise",a.fF.assertValue(i,"deferred"),this.deferred=i,this.state=0,i.promise.then(()=>this.state=1,()=>this.state=2)}then(i,o){return this.deferred.promise.then(i,o)}catch(i){return this.deferred.promise.catch(i)}finally(i){return this.deferred.promise.finally(i)}resolved(){return 1===this.state}rejected(){return 2===this.state}pending(){return 0===this.state}reject(i){this.pending()&&(this.deferred.reject(i),this.state=2)}}e=Symbol.toStringTag},23698:function(Ce,k,r){r.d(k,{e:function(){return t},l:function(){return u}});var a=r(939123),e=r(753104);function u(C,y,i){if(a.fF.assertValue(C,"fullString"),a.fF.assertValue(y,"from"),a.fF.assertValue(i,"length"),a.fF.assert(()=>y>=0,"from >= 0"),a.fF.assert(()=>i>=0,"length >= 0"),a.fF.assert(()=>y+i<=C.length,"(from + length) <= fullString.length"),0===i)return null;for(var o=0,c=0,h=y+i-1;c<i;c++,h--){var d=C.charCodeAt(h)-48;if(d<0||9<d)return null;o+=d*(0,e.wA)(c)}return o}function t(C,y){return a.fF.assertValue(C,"literalStringToRegex - string"),a.fF.assertAnyValue(y,"literalStringToRegex - flags"),new RegExp(C.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),y)}},590947:function(Ce,k,r){r.d(k,{Eu:function(){return g},Ky:function(){return n},Pu:function(){return s},QA:function(){return m},T8:function(){return l},_T:function(){return V},b:function(){return d},g_:function(){return p},q5:function(){return b}});var d="Show technical details",n="Close",s="Refresh Page",p="oops, something went wrong",l="Unsupported browser detected",m="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",b="Please try again later or contact support. If you contact support, please provide these details.",V="Copy",g="Success!"},751164:function(Ce,k,r){function a(){return function(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch{return!1}}()&&!!Function.prototype.bind&&!!$.support.cors}function u(){var n=window.navigator.userAgent.toLowerCase();return n.indexOf("msie ")>-1||n.indexOf("trident/")>-1}function C(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}r.d(k,{G6:function(){return C},TY:function(){return a},rO:function(){return u}})},751818:function(Ce,k,r){function a(u,t){if(t&&t.document&&t.document.cookie){var C=t.document.cookie.split(";");for(var y of C){var i=y.split("=");if(i.length>0&&i[0].trim()===u)return i[1]}}}r.d(k,{e:function(){return a}})},176495:function(Ce,k,r){function e(o,c){var h=function(o){var c=window.performance.getEntriesByType("resource").filter(d=>"xmlhttprequest"===d.initiatorType&&-1!==d.name.indexOf(o));if(c&&1===c.length)return c[0]}(o);return!!h&&(u(h,c),!0)}function u(o,c){o&&(c.timeOrigin=window.performance.timeOrigin,c.decodedBodySize=o.decodedBodySize,c.duration=o.duration,c.encodedBodySize=o.encodedBodySize,c.transferSize=o.transferSize,c.connectEnd=o.connectEnd,c.connectStart=o.connectStart,c.domainLookupEnd=o.domainLookupEnd,c.domainLookupStart=o.domainLookupStart,c.fetchStart=o.fetchStart,c.redirectEnd=o.redirectEnd,c.redirectStart=o.redirectStart,c.requestStart=o.requestStart,c.responseEnd=o.responseEnd,c.responseStart=o.responseStart,c.secureConnectionStart=o.secureConnectionStart,c.startTime=o.startTime,c.workerStart=o.workerStart,null!=o.responseStart&&null!=o.startTime&&(c.timeToFirstByte=o.responseStart-o.startTime))}function t(o){return o&&o.requestId&&o.responseRequestId?o.requestId===o.responseRequestId:null}function C(o){return o&&o.responseRequestId?o.responseRequestId:null}function y(o){switch(o){case 401:case 403:case 413:case 400:case 404:case 409:case 412:case 422:case 415:return!1;default:return!0}}function i(o){switch(o){case 500:case 503:return!0;default:return!1}}r.d(k,{Cx:function(){return t},Sc:function(){return y},bF:function(){return e},eQ:function(){return u},o7:function(){return i},yC:function(){return C}})},171520:function(Ce,k,r){function a(u,t,C){try{return JSON.parse(u,t)}catch(y){}}r.d(k,{K:function(){return a}})},831584:function(Ce,k,r){r.d(k,{C:function(){return a},M:function(){return e}});var a=["highContrastTheme","customTheme","baseTheme"];function e(u,t,C){return{name:u,version:C,type:t}}},200227:function(Ce,k,r){r.d(k,{I$:function(){return c},P8:function(){return C},Wh:function(){return i},jO:function(){return h},nN:function(){return o}});var a=r(939123),e=r(845856),u=r(94567);function C(){var d;try{d=window.parent.origin}catch{a.fF.log("isHostedInCrossDomainIFrame(): Caught exception when trying to access parent, most likely because the parent is cross-origin."),d="blockedBecauseCrossOrigin"}return window.origin!==d}function i(d){if(d)try{var n=atob(d);return pako.inflate(n,{to:"string"})}catch(p){e.f.error(`Error while uncompressing TileData: ${JSON.stringify(p)}`,null==p.stack)}return null}function o(d){if(d)try{var n=pako.gzip(d,{to:"string"});return btoa(n)}catch(p){e.f.error(`Error while compressing data: ${JSON.stringify(p)}`,null==p.stack)}return null}var d,c=function(){return null==d&&(d=!!u.s.getQueryStringValue("isE2ERun2")),d};function h(){return window}},742642:function(Ce,k,r){r.d(k,{SY:function(){return t},WQ:function(){return C},Wh:function(){return y},YL:function(){return o}});var a=r(939123),e=r(69578),u=moment.duration;function t(d,n,s=!1){var p=new Date,l=Intl.DateTimeFormat(n.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(d);if(h(d,p))return n.format("TodayAt",l);var m=new Date;return m.setDate(p.getDate()-1),h(d,m)?n.format("YesterdayAt",l):C(d,n,s)}function C(d,n,s=!1){if(a.fF.assert(()=>(0,e.ih)(),"Moment not available"),!d)return"-";var p=moment().diff(d),l=u(p),m=Math.floor;a.fF.assert(()=>l.asMilliseconds()>=0,"This function is intended to be used only with dates from the past.");var b=m(l.asYears());if(b>1)return n.format("RelativeDate_YearsAgo",[b]);if(1===b)return n.get(c("RelativeDate_YearAgo",s));var V=m(l.asMonths());if(V>1)return n.format("RelativeDate_MonthsAgo",[V]);if(1===V)return n.get(c("RelativeDate_MonthAgo",s));var g=m(l.asDays());if(g>1)return n.format("RelativeDate_DaysAgo",[g]);if(1===g)return n.get(c("RelativeDate_DayAgo",s));var v=m(l.asHours());if(v>1)return n.format("RelativeDate_HoursAgo",[v]);if(1===v)return n.get(c("RelativeDate_HourAgo",s));var f=m(l.asMinutes());if(f>1)return n.format("RelativeDate_MinutesAgo",[f]);if(1===f)return n.get(c("RelativeDate_MinuteAgo",s));var S=m(l.asSeconds());return S>=30?n.format("RelativeDate_SecondsAgo",[S]):n.get("RelativeDate_Now")}function y(d,n,s="DisplayDateTime_Common",p=!1){a.fF.assertValue(d,"timestamp is required param"),a.fF.assertValue(n,"localizationService is required param");var l=function(d,n,s=!1){a.fF.assertValue(d,"timestamp is required param"),a.fF.assertValue(n,"localizationService is required param");var p=new Date(d),l=new Date;if(h(p,l))return n.get(s?"TodayTitle":"Today");var m=new Date;return m.setDate(l.getDate()-1),h(p,m)?n.get(s?"YesterdayTitle":"Yesterday"):new Date(d).toLocaleDateString(n.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"})}(d,n,p),m=new Date(d).toLocaleTimeString(n.currentLanguageLocale,{hour:"numeric",minute:"numeric"});return n.format(s,[l,m])}function o(d){if(a.fF.assert(()=>(0,e.ih)(),"Moment not available"),!d)return 0;var n=moment().diff(d),s=u(n),p=Math.floor;if(!(s.asMilliseconds()>=0))return 0;var l=p(s.asYears());if(l>=1)return 1e6+l;var m=p(s.asMonths());if(m>=1)return 1e5+m;var b=p(s.asDays());if(b>=1)return 1e4+b;var V=p(s.asHours());if(V>=1)return 1e3+V;var g=p(s.asMinutes());if(g>=1)return 100+g;var v=p(s.asSeconds());return v>=30?v:0}function c(d,n){return n?d+"_Capitalize":d}function h(d,n){return d.getFullYear()===n.getFullYear()&&d.getMonth()===n.getMonth()&&d.getDate()===n.getDate()}},524081:function(Ce,k,r){r.d(k,{BN:function(){return n},Cn:function(){return g},GA:function(){return l},GR:function(){return E},HX:function(){return f},Hq:function(){return d},Jm:function(){return v},K:function(){return m},NZ:function(){return V},W6:function(){return C},_r:function(){return s},at:function(){return p},bU:function(){return c},cI:function(){return D},d0:function(){return P},es:function(){return M},wc:function(){return i},yZ:function(){return S}});var a=r(547586),e=r(939123),u=r(298180),t=(0,a.CH)("explorationContainer");function C(w){return!!(1&w)}function i(w){return!!(4&w)}function c(w){return!!(16&w)}var d=(0,a.CH)("notDroppable"),n=(0,a.CH)("dropover"),s=(0,a.CH)("prepend"),p=(0,a.CH)("append"),l="dragover",m="drag";function V(w){var x=w.clone();return x.find("[id]").removeAttr(u.pX),x.addClass("dragHelper"),x}function g(w){var x=w.parents(t.selector);return e.fF.assert(()=>x.length<=1,"We should only append the drag helper to 1 DOM element."),x}function v(w,x){var N=x();return N?(w.data[E]=N,!0):(w.data[M]=!0,!1)}function f(w,x){return!w.data[M]&&w.data[E]===x&&(w.data[M]=!0,!0)}function S(w,x){var N=x.height(),L=x.width(),B=x.offset(),I=w.pageY,W=w.pageX,O=0;return O|=B.top+N/2>I?1:4,O|=B.left+L/2>W?8:2,B.top+N/3<I&&B.top+N/3*2>I&&(O|=16),B.left+L/3<W&&B.left+L/3*2>W&&(O|=32),O}function P(w,x){if(!w)return!0;var N=function(w){return w.attr(m)}(w);return x.indexOf(N)>=0}var D="DragScrollHandler",M="DropEventHandled",E="DropTarget"},531431:function(Ce,k,r){r.d(k,{Ng:function(){return e},_1:function(){return u}});var a=r(310420);function e(){var C=(0,a.wg)();return C.telemetry||(C.telemetry={}),C.telemetry}function u(){var C=(0,a.wg)();return C.session||(C.session={}),C.session}},180584:function(Ce,k,r){r.d(k,{Xp:function(){return t},kx:function(){return u},uG:function(){return C}});var a=r(298180),e=r(900768),u={type:2,name:"visualThemeChanged"};function t(y){return null!=y.composed&&null!=y.repeat&&(!y.composed||y.repeat&&(17===y.keyCode||(0,e.SF)(y.keyCode)))}function C(y){return!$(y.target).is(a.$U)&&!$(y.target).is(a.CA)}},383098:function(Ce,k,r){function a(i){}function e(i,o=!1){try{if(!i)return;var c=i.stack;if(!c)return;var h=c.indexOf("\n");return-1===h?void 0:(c=c.substring(h+1),o&&(c=c.replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,d=>{var n=d.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=n?` (${n[1]})`:""})),c)}catch{return"Error at cleanExceptionStack"}}function u(i){try{if(i instanceof TypeError||i instanceof ReferenceError||"ChunkLoadError"===i.name)return i.message;if(i)return`Error of type ${i.name} had a ${i.message?.length} characters long message`}catch{return"Error at cleanExceptionMessage"}}function t(i,o,c,h){if(!(c instanceof Error))try{throw new Error(`Error wrapper for thrown object: ${JSON.stringify(c)}`)}catch(s){c=s}if(!c.rejection||!(c.rejection.clientError&&c.rejection.clientError.ignorable||c.rejection.ignorable)){var d=c.message,n=c.stack;try{h?i.logChildEvent(h.event,o,{stack:n,message:d}):i.logEvent(o,{stack:n,message:d})}catch(s){}}}r.d(k,{CX:function(){return u},If:function(){return t},_h:function(){return a},bL:function(){return e}})},532019:function(Ce,k,r){r.d(k,{M:function(){return u}});var a=r(298180),e=r(153491);class u{constructor(C="Group"){this.focusNavMode=C}findNext(C,y=!0,i=!1){var o=this.getDomWalker(y),c=C.getAttribute(e.Qt);return"Group"===c||"Browser"===c||i?this.traverseDown(C,o):this.searchFocusElement(C,o)}searchFocusElement(C,y){var i=this.traverseForward(y.getNextSibling(C),y);return i||(C.parentElement&&C.parentElement.getAttribute(e.Qt)!==this.focusNavMode?i=this.searchFocusElement(C.parentElement,y):C.parentNode&&C.parentNode.nodeType===Node.ELEMENT_NODE&&C.parentNode.getAttribute(e.Qt)!==this.focusNavMode&&(i=this.searchFocusElement(C.parentNode,y))),i}traverseForward(C,y){var i;if(C)return(0,e.Wq)(C)?C:(null==C.getAttribute(a.Rh)&&(i=this.traverseDown(C,y)),i||(i=this.traverseForward(y.getNextSibling(C),y)),i)}traverseDown(C,y){if(C&&"Skip"!==C.getAttribute(e.Qt))return this.traverseForward(y.getNextChild(C),y)}getDomWalker(C){return C?{getNextSibling:y=>y.nextElementSibling,getNextChild:y=>_.isEmpty(y.children)?y.hasChildNodes()?this.getNextChildNodes(y,C):void 0:y.children[0]}:{getNextSibling:y=>y.previousElementSibling,getNextChild:y=>_.isEmpty(y.children)?y.hasChildNodes()?this.getNextChildNodes(y,C):void 0:y.children[y.children.length-1]}}getNextChildNodes(C,y){var i=C.childNodes,o=i.length,c=y?1:-1,h=y?0:o-1;do{var d=i[h];if(d&&d.nodeType===Node.ELEMENT_NODE)return d;h+=c}while(h>=0&&h<o)}}},975769:function(Ce,k,r){r.d(k,{m:function(){return i}});var a=r(532019),e=r(153491),u=r(271056),t=r(925899),C=r(298180);class y{constructor(c){this.groupElement=c}findNext(c,h=!0){var p,d=c===this.groupElement?-1:this.getTabIndex(c),n=c!==this.groupElement&&!isNaN(d),s=h?1/0:0;return n||(d=h?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach(m=>{var b=this.getTabIndex(m.elem);isNaN(b)||(h?b>d&&b<=s:b<d&&b>=s)&&(s=b,p=m.elem)}),p}getTabIndex(c){return parseFloat(c.getAttribute(e.GY))}buildTabOrderMany(c){var h=[];return c.forEach(d=>{null==d.getAttribute(C.Rh)&&(h=_.concat(h,this.buildTabOrders(d)))}),h}buildTabOrders(c){var h=this.getTabIndex(c);return isNaN(h)?this.buildTabOrderMany([].slice.call(c.children)):[{tabOrder:h,elem:c}]}}class i{constructor(c=!1){this.skipCyclicNavigation=c}get name(){return"Group"}shouldHandleFocus(c,h){return!$.contains(h,u.M.getTabbableParent(c,h))}findNextElementToFocus(c,h){var d=i.getGroupNavigationElement(c);switch(h.keyCode){case 39:case 40:if(i.groupElementSupportsArrows(d)&&!i.canHandleKeyEvents(c))return i.getFocusNextElement(!0);break;case 38:case 37:if(i.groupElementSupportsArrows(d)&&!i.canHandleKeyEvents(c))return i.getFocusNextElement(!1);break;case 9:if(!u.M.isElementContentEditable(c))return i.getFocusNextElement(!h.shiftKey,void 0,this.skipCyclicNavigation);break;case 27:return u.M.getTabbableParent(document.activeElement);case 13:if(d&&null!=d.getAttribute(e.tu))return u.M.getFirstTabbableChild(document.activeElement)}}static getFocusNextElement(c,h=null,d=!1){var n=document.activeElement;if(h=h||i.getFirstFocusableParent(n)){var p,l,s=i.getGroupNavigationElement(h);if(s&&null!=s.getAttribute(e.tu))l=(p=new y(s)).findNext(h,c);else{var m=(0,t.XC)(h)||(0,t.vI)(h);m&&(l=(p=new t.Pp).findNext(h,c)),(!l||!m)&&(l=(p=new a.M).findNext(h,c))}if(l)return l;if("Group"!==h.getAttribute(e.Qt)&&!d){var b=i.getParentGroupElement(h);return b?p.findNext(b,c):void 0}}}static getGroupNavigationElement(c){var h=c.getAttribute(e.Qt);return h&&"Group"===h?c:i.getParentGroupElement(c)}static getFirstFocusableParent(c){if(!c)return null;if((0,e.Wq)(c)||"Group"===c.getAttribute(e.Qt))return c;for(var h=c.parentElement||c.parentNode&&c.parentNode.nodeType===Node.ELEMENT_NODE?c.parentNode:null;h;){if((0,e.Wq)(h)||"Group"===h.getAttribute(e.Qt))return h;h=h.parentElement||h.parentNode&&h.parentNode.nodeType===Node.ELEMENT_NODE?h.parentNode:null}return h}static getParentGroupElement(c){return $(c).parents(e.yk).get(0)}static canHandleKeyEvents(c){return u.M.isElementContentEditable(c)||u.M.isTextElement(c)}static groupElementSupportsArrows(c){return!c||null==c.getAttribute(e.tu)||null==c.getAttribute(e.CA)}}},271056:function(Ce,k,r){r.d(k,{M:function(){return a}});var a={isElementContentEditable:e=>$(e).closest("[contentEditable]").length>0,isTextElement(e){if($(e).is(":disabled"))return!1;var u=e.nodeName.toLowerCase();return e.nodeType===Node.ELEMENT_NODE&&("textarea"===u||"select"===u||"input"===u&&/^(?:text|email|number|search|tel|url|password)$/i.test(e.type))},contains:(e,u)=>!!(u.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS),getFirstMatchingAncestor(e,u,t,C=!0){var y=e;if(y!==(t=t||document.body)||C&&u(y))for(!C&&e&&(y=y.parentElement||y.parentNode||void 0);y&&y!==document.body&&y.nodeType===Node.ELEMENT_NODE;){if(u(y))return y;if(y===t)break;y=y.parentElement||y.parentNode||void 0}},isElementTabbable:e=>!0===$(e).is(":tabbable"),getTabbableParent(e,u){return u=u||document.body,this.getFirstMatchingAncestor(e,this.isElementTabbable,u,!1)},getFirstTabbableChild(e){return this.getTabbableChildren(e)[0]},getTabbableDescendants:e=>$(e).find(":tabbable").get(),getTabbableChildren(e){return _.filter(this.getTabbableDescendants(e),u=>!$.contains(e,this.getTabbableParent(u,e)))},getTabbableSiblingsMatch(e,u,t=document.body){var C=a.getTabbableSiblings(e,t);return _.filter(C,u)},getNextTabbableMatchingSibling(e,u,t){t=t||document.body;var C=this.getTabbableSiblingsMatch(e,u,t);if(C.length>0)return C[0]},getPrevTabbableMatchingSibling(e,u,t){t=t||document.body;var C=this.getTabbableSiblingsMatch(e,u,t);if(C.length>0)return C[C.length-1]},getTabbableSiblings(e,u){u=u||document.body;var t=this.getTabbableParent(e,u);if((!t||u&&$.contains(t,u))&&(t=u),t){var C=this.getTabbableChildren(t),y=[],i=0;for(var o of C)o===e||this.contains(e,o)?i=0:y.splice(i++,0,o);return y}return[]},getNextTabbableSibling(e,u){return u=u||document.body,this.getTabbableSiblings(e,u)[0]},getPrevTabbableSibling(e,u){u=u||document.body;var t=this.getTabbableSiblings(e,u);return t[t.length-1]},isElementVisible:e=>$(e).is(":visible"),getParentFocusElement:e=>$(e).parents(":tabbable:first").get(0)}},925899:function(Ce,k,r){r.d(k,{Pp:function(){return u},Sn:function(){return t},XC:function(){return y},vI:function(){return C}});var a=r(153491),e=r(271056);class u{constructor(p="Group"){this.focusNavMode=p}findNext(p,l=!0,m=!0,b=!1){var V;if(b||y(p))(V=this.getFirstActiveChild(p))||(V=this.getNextTabOrderChild(p,l,c(l)));else if(C(p))V=this.getNextTabOrderSibling(p,l,m);else if(null!=p.getAttribute(a.QW)){var g=function(s,p){var l=$(s).closest(`[${p}]`);return l&&l.get(0)}(p,a.qs);V=this.getNextTabOrderSibling(g,l,m)}return V}getNextTabOrderSibling(p,l,m){var v,b=p.getAttribute(a.qs),V=parseFloat(b);if(!isNaN(V)){var f=function(s,p){var l="HierarchicalTabOrder"===p?a.O:a.yk;return $(s).parents(l)[0]}(p,this.focusNavMode);if(!f)return;!(v=this.getNextTabOrderChild(f,l,V))&&m&&(v=this.getNextTabOrderChild(f,l,c(l)))}return v}getFirstActiveChild(p){var l;return $(p).find(`[${a._f}]`).each((b,V)=>{i(V)&&(l=V)}),l}getNextTabOrderChild(p,l,m){var b,V,g=$(p).find(`[${a.qs}]`);return"HierarchicalTabOrder"===this.focusNavMode&&(g=g.filter((v,f)=>e.M.getTabbableParent(f)===p)),g.each((v,f)=>{var S=t(f);i(f)?b=f:e.M.isElementTabbable(f)&&(l?S<m:S>m)&&(void 0===b&&void 0===V||(l?S>V:S<V))&&(V=S,b=f)}),b}}function t(s){if(s.hasAttribute(a.qs))return parseFloat(s.getAttribute(a.qs))}function C(s){return null!=s.getAttribute(a.qs)}function y(s){return null!=s.getAttribute(a.T0)}function i(s){return null!=s.getAttribute(a._f)}function c(s){return s?10000001:-10000001}},153491:function(Ce,k,r){r.d(k,{BZ:function(){return a},CA:function(){return d},GY:function(){return h},O:function(){return s},QW:function(){return c},Qt:function(){return t},T0:function(){return C},Wq:function(){return u},_f:function(){return o},n8:function(){return e},qs:function(){return i},tu:function(){return y},yk:function(){return n}});var a="focusManager_focus",e="focusManager_focusOn";function u(p){return!0===$(p).is(":tabbable")&&!1===$(p).is(":disabled")}var t="focus-nav-mode",C="tab-order-enabled",y="tab-order-recursive-enabled",i="tab-order",o="tab-active",c="tab-order-child",h="tabindex",d="skip-arrow-navigation",n=`[${t}="Group"]:first`,s=`[${t}="HierarchicalTabOrder"]:first`},374630:function(Ce,k,r){r.d(k,{IK:function(){return n},M0:function(){return g}});var a=r(864237),e=r(490125),u=r(975769),t=r(271056);class C{get name(){return"Hierarchy"}shouldHandleFocus(){return!0}findNextElementToFocus(f,S,P){switch(S.keyCode){case 9:if(t.M.isElementContentEditable(f))return;var D=t.M.getTabbableChildren(P),M=t.M.getTabbableParent(f,P)===P;if(S.shiftKey){if(D.length>0&&(f!==D[0]||M))return t.M.getPrevTabbableSibling(f,P)}else{if(D.length>0&&(f!==D[D.length-1]||M))return t.M.getNextTabbableSibling(f,P);var E=t.M.getTabbableDescendants(P);if(E.length>0)return void E[E.length-1].focus()}break;case 27:if(f!==P)return t.M.getTabbableParent(f);break;case 13:return t.M.getFirstTabbableChild(f)}}}var y=r(532019),i=r(153491),o=r(925899);class c{get name(){return"HierarchicalTabOrder"}shouldHandleFocus(f){return!t.M.isElementContentEditable(f)}findNextElementToFocus(f,S){var M,P=f.hasAttribute(i.T0),D="HierarchicalTabOrder"===f.getAttribute(i.Qt);switch(S.keyCode){case 39:case 40:M=c.getFocusNextElement(f,!0,P);break;case 38:case 37:M=c.getFocusNextElement(f,!1,P);break;case 9:M=c.getFocusNextElement(f,!S.shiftKey,P);break;case 27:M=t.M.getTabbableParent(document.activeElement);break;case 13:M=D?c.getFocusNextElement(f,!0,!0):void 0}return M}static getFocusNextElement(f,S,P){var E,D=f.hasAttribute(i.T0);if((void 0!==(0,o.Sn)(f)||D)&&(E=new o.Pp("HierarchicalTabOrder").findNext(f,S,!0,P)),!E){var x=new y.M("HierarchicalTabOrder");if(!(E=x.findNext(f,S,P))&&!P){var N=$(f).parents(i.O)[0];E=x.findNext(N,S,!0)}}return E}}var h="return-focus-element-attribute",d=0,n=(()=>{class v{constructor(){this.registeredElements=[],this.shortcutContainer=new g}get keyboardFocused(){return v.keyboardFocused}set keyboardFocused(S){v.keyboardFocused=S}static getInstance(){return this._instance||(this._instance=new v)}register(S,P=!1,D=!1){var M=[new u.m(D),new C,new c],E=N=>this.handleKeyPress(N,P,M);_.includes(this.registeredElements,S)||(S.addEventListener("keydown",E),this.registeredElements.push(S));var w=_.find(this.registeredElements,S);return()=>{w.removeEventListener("keydown",E),_.pull(this.registeredElements,S)}}registerShortcut(S){this.shortcutContainer.add(S)}unregisterShortcut(S){this.shortcutContainer.remove(S)}static focusChildInGroup(S,P){var D="Group"===S.getAttribute(i.Qt)?S:$(S).find(i.yk).get(0);D&&v.focus(u.m.getFocusNextElement(!0,D),P)}static focusChildInCanvas(S){var D="HierarchicalTabOrder"===S.getAttribute(i.Qt)?S:$(S).find(i.O)[0];D&&v.focus(c.getFocusNextElement(D,!0,!0))}static focus(S,P=!0){if(S){var D=document.activeElement;e.l.setTimeout(()=>{a.M.focus(S),$(S).triggerHandler(i.n8,D),$(S).trigger(i.BZ,D),P&&(v.keyboardFocused=!0,$("html").attr("data-focus-source","key")),S&&$(S).removeAttr(i._f)})}}focus(S,P=!0){v.focus(S,P)}focusOnGroupByIndex(S,P,D,M,E){this.shortcutContainer.handleByPriority(S,P,D,M,E)}static setFocusOnPreviousElementOnDestroy(S,P,D){var M;return S.on(i.BZ,(E,w)=>{E.stopPropagation(),w&&(!P||void 0===M)&&!$.contains(S[0],w)&&(M=d++,w.setAttribute(h,M.toString()))}),()=>{var E=document.activeElement;if(void 0!==M){var w=document.documentElement.querySelector(`[${h}="${M}"]`);w&&$(w).closest(document.documentElement)&&(!D||$.contains(S[0],E))&&v.focus(w,!1)}}}handleKeyPress(S,P,D){if(this.handleShortcut(S))return S.stopPropagation(),void S.preventDefault();var M=document.activeElement;if(M){for(var E,N,w=t.M.getFirstMatchingAncestor(M,L=>L.hasAttribute(i.Qt),document.body),x=function(){var L=w.getAttribute(i.Qt);if("Browser"===L)return{v:void 0};var B=_.find(D,I=>I.name===L);if(B&&B.shouldHandleFocus(M,w)&&(E=B.findNextElementToFocus(M,S,w)),E)return 0;w=t.M.getFirstMatchingAncestor(w,I=>I.hasAttribute(i.Qt),document.body,!1)};w&&w!==document.body&&0!==(N=x());)if(N)return N.v;E&&v.focus(E),P&&S.stopPropagation(),E&&13!==S.keyCode&&32!==S.keyCode&&(S.stopPropagation(),S.preventDefault())}}handleShortcut(S){return this.shortcutContainer.handle(S)}focusNextElement(S){v.focus(u.m.getFocusNextElement(!0,S))}}return v.keyboardFocused=!1,v})();class g{constructor(){this.shortcuts=[],this.scopedShortcuts=[]}add(f){var S=this.getKeyCode(f.keycode,f.shift,f.alt,f.ctrl),P=f.scoped?this.scopedShortcuts:this.shortcuts;P[S]&&!_.find(P[S],D=>$(D.element).is(f.element))?P[S].push(f):_.isEmpty(this.shortcuts[S])&&(P[S]=[f])}remove(f){var S=this.getKeyCode(f.keycode,f.shift,f.alt,f.ctrl);_.remove((f.scoped?this.scopedShortcuts:this.shortcuts)[S],D=>$(D.element).is(f.element))}handle(f){if(f.keyCode>256)return!1;var S=a.M.isCtrlOrMeta(f),P=this.getKeyCode(f.keyCode,f.shiftKey,f.altKey,S),D=f.shiftKey&&S&&1653===P,M=this.findScopedShortcut(P);if(!M){var E=this.filterGroups(this.shortcuts[D?1141:P]);if(_.isEmpty(E))return!1;M=this.getNextShortcutElementToFocus(E,void 0,D)}return!!M&&(this.focusOnGroup(M),!0)}handleByPriority(f,S,P,D,M){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(f,S,P,D)]),M))}focusOnGroup(f){"HierarchicalTabOrder"===f.getAttribute(i.Qt)?n.focus(c.getFocusNextElement(f,!0,!0)):n.focus(u.m.getFocusNextElement(!0,f))}getKeyCode(f,S,P,D){var M=f;return S&&(M|=512),D&&(M|=1024),P&&(M|=2048),M}filterGroups(f){return _.filter(f,S=>{var P=t.M.isElementVisible(S.element);return"HierarchicalTabOrder"===S.element.getAttribute(i.Qt)?P&&!!c.getFocusNextElement(S.element,!0,!0):P&&!!u.m.getFocusNextElement(!0,S.element)})}static getFocusPriority(f,S=!0){if(f){var P=f.getAttribute("focus-priority");if(null!=P)return parseInt(P,10);if(null!=f.parentElement&&S)return this.getFocusPriority(f.parentElement)}}getFocusPriority(f,S=!0){return g.getFocusPriority(f,S)}findScopedShortcut(f){var S=document.activeElement,P=this.findExtendedScope(S),M=this.filterGroups(this.scopedShortcuts[f]);if(!_.isEmpty(M)&&S)for(var E of M)if(E&&($(S).is(E.element)||$.contains(S,E.element)||P&&($(P).is(E.element)||$.contains(P,E.element))))return E.element}findExtendedScope(f){for(var S=f;S;){if(S.attributes.getNamedItem("extended-shortcut-scope"))return S;S=S.parentElement}}findCurrentFocusedShortcutElement(f){if(document.activeElement)for(var S=document.activeElement;S;){if(S.getAttribute("keyboard-shortcuts")===f)return S;S=S.parentElement}}getNextShortcutElementToFocus(f,S,P=!1){var D=(f=_.sortBy(f,L=>L.focusPriority))[0];if(document.activeElement&&f.length>1)for(var M=null==S?this.findCurrentFocusedShortcutElement(D.shortcutString):null,E=0;E<=f.length-1;E++){var w=f[E];if(null!=S&&S>(w.focusPriority||-1)||M&&$(M).is(w.element)){D=f[(P?0===E?f.length-1:E-1:E+1)%f.length];break}}return D?.element}}},457315:function(Ce,k,r){r.d(k,{U:function(){return a}});var a={LuciaDomainModelChangedEvent:{type:4,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:4,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:4,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:4,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:4,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:4,name:"WindowStateChangedEvent"},ReportQueriesChangedEvent:{type:4,name:"ReportQueriesChangedEvent"},UpdateAvailableEvent:{type:4,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:4,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:4,name:"OpenFileMenuEvent"}}},13036:function(Ce,k,r){r.d(k,{E8:function(){return t},IH:function(){return C},Od:function(){return i},S_:function(){return y},Z8:function(){return n},eR:function(){return s},pB:function(){return h},ru:function(){return d},sE:function(){return u},uh:function(){return c}});var a=r(722709),e=r(939123);function u(g,v){var f;if(g&&v)return m(g,v,(S,P,D)=>(f=P,S)),f}function t(g,v){var f;return m(g.name,v,(S,P,D)=>(f=S,S)),f}function C(g,...v){return[...g||[],...v||[]]}function y(g,v,f){return m(v.name,f,(S,P,D)=>{if(!V(P))return e.fF.assertFail("should find group item"),S;var M=P.clone?P.clone():_.clone(P);for(var E of(M.children=[...P.children||[],g],M.children))E.parentGroup=M;return(0,a.UU)(S,w=>w===P?M:w)})}function i(g,v,f=!0){return v=m(g.name,v,(S,P,D)=>(0,a.Rl)(S,M=>P!==M)),f&&(v=l(v)),v}function c(g,v){return l(g=b(g,f=>(0,a.Rl)(f,S=>!v(S))))}function h(g,v,f,S){return g.forEach(P=>P.parentGroup=void 0),f=function(g,v,f=!0){return v=b(v,S=>{var P=_.differenceWith(S,g,(D,M)=>D.name===M.name);return P.length===S.length?S:P}),f&&(v=l(v)),v}(g,f,!1),l(f=m(v.name,f,(P,D,M)=>(0,a.x)(P,E=>E===D?S?[E,...g]:[...g,E]:[E])))}function d(g,v){for(var f of g.children)f.parentGroup=g;return v=function(g,v,f){return b(f,S=>(0,a.x)(S,P=>P===g[0]?[v]:_.includes(g,P)?[]:[P]))}(g.children,g,v),l(v)}function n(g,v){for(var f of g.children)f.parentGroup=void 0;return m(g.name,v,(S,P,D)=>(0,a.x)(S,M=>M===g?g.children:[M]))}function s(g,v,f){var S=f||[];for(var P of g)V(P)?S=s(P.children,v,S):v(P)&&(S=[...S||[],P]);return S}function l(g){return b(g,v=>(0,a.Rl)(v,f=>!V(f)||!_.isEmpty(f.children)))}function m(g,v,f){e.fF.assertValue(v,"itemGrouping - itemList"),e.fF.assertValue(g,"itemGrouping - targetName"),e.fF.assertValue(f,"itemGrouping - callback");for(var P,S=function(){var M=v[D];if(M.name===g)return{v:f(v,M,D)};if(V(M)){var E=m(g,M.children,f);if(E!==M.children){var w=M.clone?M.clone():_.clone(M);for(var x of(w.children=E,w.children))x.parentGroup=w;return{v:(0,a.UU)(v,N=>N===M?w:N)}}}},D=0;D<v.length;D++)if(P=S())return P.v;return v}function b(g,v){e.fF.assertValue(g,"itemGrouping - itemList"),e.fF.assertValue(v,"itemGrouping - callback");var f=function(P){if(V(P)){var D=b(P.children,v);if(D!==P.children){var M=P.clone?P.clone():_.clone(P);for(var E of(M.children=D,M.children))E.parentGroup=M;g=(0,a.UU)(g,w=>w===P?M:w)}}};for(var S of g)f(S);return g=v(g)}function V(g){return void 0!==g.children}},204883:function(Ce,k,r){r.d(k,{Ue:function(){return C}});var t,a=r(939123),e=r(992330);class u{constructor(i){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}copyText(i,o,c){var h;a.fF.assertValue(i,"copyText didn't get a value"),"string"==typeof i?h=i:"function"==typeof i?h=i():a.fF.assertNever(i),this.copyToClipboard(h),this.logTelemetry(o,"Value",c)}copyGrid(i,o,c){a.fF.assertValue(i,"copyGrid didn't get a value");var{grid:h,coveragePercentage:d}=i(),n=[];if(!_.isEmpty(h))for(var s of h)_.isEmpty(s)||n.push(_.map(s,p=>null==p?"":this.removeBreaks(p)).join("\t"));this.copyToClipboard(n.join("\n")),this.logTelemetry(o,"Selection",c,d)}removeBreaks(i){return i.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")}copyToClipboard(i){this.element.value=i,document.body.appendChild(this.element);var o=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),o&&o.focus()}logTelemetry(i,o,c,h){i&&i.logEvent(e.YG,{copyType:o,visualType:c||"(unknown)",copySelectionPercentage:h||0})}}function C(){return t||(t=new u),t}},992330:function(Ce,k,r){r.d(k,{A_:function(){return Q},BP:function(){return J},Bf:function(){return Se},Fd:function(){return q},Ir:function(){return P},Lj:function(){return W},O2:function(){return M},U2:function(){return ke},Wj:function(){return N},YG:function(){return de},ZX:function(){return Ge},ap:function(){return Ve},c5:function(){return ye},d3:function(){return I},eb:function(){return De},fM:function(){return d},jj:function(){return s},lu:function(){return le},mN:function(){return B},py:function(){return Ke},rH:function(){return T},ry:function(){return Ue},u3:function(){return w},xt:function(){return g},zh:function(){return we}});var a=r(17933),e="BaseEvent",t=(a.cx[e]=(0,a.b1)(e),"TimedEvent"),y=(a.cx[t]=(0,a.b1)(t),"Verbose"),o=(a.cx[y]=(0,a.b1)(y),"VerboseTimedEvent"),h=(a.cx[o]=(0,a.b1)(o),"Trace"),d=a.cx[h]=(0,a.b1)(h),n="Error",s=a.cx[n]=(0,a.b1)(n),p="ErrorWithStackTrace",m=(a.cx[p]=(0,a.b1)(p),"ErrorWithStackTraceAndSourceDetails"),V=(a.cx[m]=(0,a.b1)(m),"LLMEncodingError"),g=a.cx[V]=(0,a.b1)(V),v="CustomerAction",S=(a.cx[v]=(0,a.b1)(v),"PBI.Dashboard.RootSession"),P=a.cx[S]=(0,a.b1)(S),D="PBI.WFE.Error",M=a.cx[D]=(0,a.b1)(D),E="PBI.Dashboard.ErrorDialog",w=a.cx[E]=(0,a.b1)(E),x="PBI.Dashboard.UnhandledAngularException",N=a.cx[x]=(0,a.b1)(x),L="PBI.Data.Exception",B=a.cx[L]=(0,a.b1)(L),I="PBI.Visual.Exception",W=a.cx[I]=(0,a.b1)(I),O="PBI.Dashboard.UnhandledException",A=(a.cx[O]=(0,a.b1)(O),"PBI.HandledException"),T=a.cx[A]=(0,a.b1)(A),R="PBI.Dashboard.ReportTilePopulateException",z=(a.cx[R]=(0,a.b1)(R),"PBI.Dashboard.UnhandledStacklessException"),H=(a.cx[z]=(0,a.b1)(z,{logRatio:1e-4}),"PBI.Visual.Error"),q=a.cx[H]=(0,a.b1)(H),G="PBI.WFE.ReopenUserAccount",J=a.cx[G]=(0,a.b1)(G),Z="PBI.WFE.AccountClosedPage",Q=a.cx[Z]=(0,a.b1)(Z),ne="PBI.WFE.AbtSignoutRedirectPage",le=a.cx[ne]=(0,a.b1)(ne),he="PBI.Visual.Warning",Se=a.cx[he]=(0,a.b1)(he),Ke="PBI.Visual.ApiUsage",Ge=a.cx[Ke]=(0,a.b1)(Ke),ye="PBI.Visual.CustomVisualsGenericEvent",we=a.cx[ye]=(0,a.b1)(ye),je="PBI.EX.CopyActionClicked",de=a.cx[je]=(0,a.b1)(je),Pe="StartActivity",Ve=a.cx[Pe]=(0,a.b1)(Pe),Ze="EndActivity",Ue=a.cx[Ze]=(0,a.b1)(Ze),Je="PBI.App.SignInError",De=a.cx[Je]=(0,a.b1)(Je),ue="PBI.App.TokenRefreshError",te=(a.cx[ue]=(0,a.b1)(ue),"PBI.Storytelling.BrowserNotSupportedLoaded"),ke=a.cx[te]=(0,a.b1)(te)},179593:function(Ce,k,r){r.d(k,{MI:function(){return u},NN:function(){return C},Ob:function(){return y},fl:function(){return i},sV:function(){return t},zK:function(){return e}});var a=r(288487);function e(o){return!!o&&"Open Report"===o.getProperty("name")}function u(o){return!!o&&"Change Report Page"===o.getProperty("name")}function t(o,c){return c&&C(o,c.getProperty("parent"))}function C(o,c){for(;c;){if(o(c))return c;c=c.parent}}class y{constructor(c){this.keepAlive=c?.keepAlive()}cancel(){this.keepAlive?.cancel()}resolve(){this.keepAlive?.resolve()}reject(c){this.keepAlive?.reject(c)}}class i extends a.sH{constructor(c,h){super(c),this.level=h}}},404968:function(Ce,k,r){r.d(k,{U:function(){return y},V:function(){return o}});var a=r(939123),e=r(265230),u=r(200227),t=r(992330),C="v2";function y(c,h=3,d=0){return(n,s,p)=>{a.fF.assertValue(n,"target"),a.fF.assertValue(s,"propertyKey");var l=p.value;return p.value=function(...m){a.fF.assert(()=>!_.isEmpty(c),"eventName"),a.fF.assert(()=>0!==h,"activityAction");for(var b=(0,u.jO)();!(b===window.top||b.featureSwitchService&&b.telemetryService);)b=b.parent;var f,V=b.featureSwitchService,g=b.telemetryService,v=!1;if(V&&V.isFeatureSwitchesRegistered()&&V.featureSwitches&&V.featureSwitches.telemetryV2&&g||(v=!0),v)return f=l.apply(this,m);var S=Zone&&Zone.current,P=S&&S.get("data"),D=P&&P.monitoredActivity;(0,e.yE)(h,1)&&(D=g.startMonitoredActivity(D,c,{baseVersion:C,isFireAndForget:1===d||void 0}),S=D.currentZone),a.fF.assertValue(S,"currentZone");try{S.run(()=>f=l.apply(this,m))}catch(M){if((0,e.yE)(h,2))return void i(D,M);throw M}return(0,e.yE)(h,2)&&(a.fF.assert(()=>S.name===c,"Event name should be same as the current zone name"),f&&_.isObject(f)&&f.then&&_.isFunction(f.then)?f.then(()=>{i(D)},M=>{i(D,M)}):(a.fF.assertValue(D,"Decorated method called without a start action"),i(D))),f},p}}function i(c,h){a.fF.assertValue(c,"Decorated method called without a start action"),c&&(h?c.reject(h):c.resolve())}function o(c,h,d){return function(n,s,p){a.fF.assertValue(n,"target"),a.fF.assertValue(s,"propertyKey");var l=p.value,m=p.value.length,b=m-1;return p.value=function(...V){var g=V.length,v={},S=m>g;(h&&!S||d&&d>=g)&&a.fF.assertFail("Wrong use of the decorator, check documentation in decorators.ts.`"),V=h&&S?V.concat([...Array(b-V.length),W=>{v.telemetryServiceArgs=W.telemetryServiceArgs,v.activityAttributesArgs=W.activityAttributesArgs}]):V;for(var D=this.proxy?.plugin?.name,M=d&&d<g?V[d]:D||"",E=(0,u.jO)();!(E===window.top||E.telemetryService&&E.certifiedEventsService);)E=E.parent;var w=E.telemetryService,x=E.certifiedEventsService,N=(W,O={})=>{x?.logStandardizedFeatureEvent({visualId:M,correlationId:w?.root?.id,activityName:t.c5,activityAttributes:{...O,apiName:c},activityStatus:W})},L=(W,O,F)=>{w?.logEvent(t.zh,{apiName:c,visualType:M,errorOccurred:W,reason:F,additionalInfo:O})};try{var B=l.apply(this,V);if(B&&_.isObject(B)&&B.then&&_.isFunction(B.then))return B.then(W=>{var O=h?JSON.stringify(v.telemetryServiceArgs):void 0;return L(!1,O),N("Succeeded",v.activityAttributesArgs),W},W=>{var O=h?JSON.stringify(v.telemetryServiceArgs):void 0;throw L(!0,O,W),N("Failed",v.activityAttributesArgs),W});var I=h?JSON.stringify(v.telemetryServiceArgs):void 0;return L(!1,I),N("Succeeded",v.activityAttributesArgs),B}catch(W){throw L(!0,void 0,W),N("Failed"),W}},p}}},614123:function(Ce,k,r){r.d(k,{GB:function(){return C},MQ:function(){return u},Qf:function(){return e},W2:function(){return i},Wk:function(){return t},aK:function(){return y},oG:function(){return c},zg:function(){return o}});var a=r(752517);function e(d){switch(d){case 2:return"External";case 1:return"User";default:return"PowerBI"}}function u(d,n,s){var p=C(d,s);return p&&(p.errorMessage=n),p}function t(d,n){var s=C(d,n);return s&&(s.errorMessage=d.message),s}function C(d,n,s){if(d&&d.code){var p=d.code,l=d["pbi.error"]&&d["pbi.error"].exceptionCulprit;return null!=l?s?{errorCode:p,errorSource:h(l),requestId:s}:{errorCode:p,errorSource:h(l)}:null==n||401!==n&&403!==n?s?{errorCode:p,errorSource:"PowerBI",requestId:s}:{errorCode:p,errorSource:"PowerBI"}:s?{errorCode:p,errorSource:"User",requestId:s}:{errorCode:p,errorSource:"User"}}if(null!=n){var m=429===n?"User":"PowerBI";return s?{errorCode:"HttpStatusCode = "+n,errorSource:m,requestId:s}:{errorCode:"HttpStatusCode = "+n,errorSource:m}}}function y(d,n){var s=C(d,n);if(s)return null!=n&&(400===n||401===n||403===n||429===n||404===n)&&(s.errorSource="User"),s}function i(d){if(d)return{errorCode:d.errorCode,errorMessage:"StatusCode="+d.statusCode,errorSource:null!=d.exceptionCulprit?c(d.exceptionCulprit):void 0}}function o(d){if(d){if(d.error)return d.error.code;if(d.status)return d.status.toString()}}function c(d){switch(d){case a.jV:return"External";case a.dB:return"User";default:return"PowerBI"}}function h(d){switch(d){case 2:return"External";case 1:return"User";default:return"PowerBI"}}},17933:function(Ce,k,r){r.d(k,{cx:function(){return C},lG:function(){return h},Hi:function(){return l},b1:function(){return p},Gv:function(){return o},c3:function(){return V},H6:function(){return c},l1:function(){return m}});var a=r(939123),e=r(39032),u=r(737466),C={},y=u.b$.generateGuid,i=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function o(g){var f,P,v=0;if(0===g.length)return v;var D=g.toLowerCase();for(f=0,P=D.length;f<P;f++)v=(v<<5)-v+D.charCodeAt(f),v|=0;return v}function c(g){return o(g).toString()}function h(g,v,f){a.fF.assertAnyValue(g,"requiredFields"),a.fF.assertAnyValue(v,"optionalFields"),a.fF.assertAnyValue(f,"target");var S=f||g||{};if(f&&g&&(f=function(g,v,f){if(g||v)return!g||v?g||!v?$.extend(g,v,f):v:g}(f,g)),v)for(var P in v)if(v.hasOwnProperty(P)){var D=v[P];void 0!==D&&!1!==D&&(S[P]=D)}return S}function p(g,v){return f=>({name:g,time:(0,e.z)(),id:y(),...v,info:f,formatted:()=>function(g,v,f){if(f){var S=[];for(var P in f){var D=v[f[P]];(void 0===D||!1===D)&&S.push(f[P])}v=_.omit(v,S)}return _.extend(g,v),g}({},f,v?.optionalParameters)})}function l(g,v){a.fF.assert(()=>!_.isEmpty(g),"eventName"),a.fF.assertValue(v,"info"),a.fF.assertValue(Zone,"Zone");var f=Zone.current;if(f&&f.name===g){var S=f.get("data");if(S){for(var P of i)if(void 0!==v[P])throw new Error("Field '"+P+"' is restricted from override.");_.extend((S.monitoredActivity&&S.monitoredActivity.activityEvent).info,v)}else a.fF.assertFail("No data field is stored in current zone")}else a.fF.assertFail(`This method is expected to be used with ZoneJS and current Zone match the event name. event=${g}, currentZone=${f&&f.name}`)}function m(g,v,f){return g?g.run(()=>v.apply(f)):f?f.fn():v()}function b(g){return g&&!0===g.get("isAngularZone")}function V(g){for(var v=!1,f=g;f&&b(f);){if(f._zoneDelegate._taskCounts.microTask>0){v=!0;break}f=f.parent}return v}},703831:function(Ce,k,r){r.d(k,{Xe:function(){return C},bG:function(){return u}});var a=r(531431),e=r(602653);function u(){return(0,a._1)().userInfo}class C{static getFullName(){var i=u();return i.givenName+" "+i.surname}static isInternalUser(){var i=u();if(!i||!i.name)return!1;var o=i.name.toLowerCase();return o.indexOf("@microsoft.com")>=0||o.indexOf(".microsoft.com")>=0}static getUPN(){return u().name}static getEmailAddressForReceivingMail(){var i=u();return null==i?"":_.isEmpty(i.alternateEmail)?i.name:i.alternateEmail}static isEntraExternalUser(){var i=u();return!!i&&!!i.idp&&i.idp!==i.iss}static userAccountStatus(){var i=u();return i&&1===i.acct?e.zK.Guest:e.zK.Member}}},343192:function(Ce,k,r){r.d(k,{N3:function(){return t},t7:function(){return C},xs:function(){return u}});var a=r(531431),e=r(992330),u="PowerBI.com",t="ActivityId",C="RequestId";(0,a.Ng)().WFEError||((0,a.Ng)().WFEError=e.O2),(0,a.Ng)().AppSignInError||((0,a.Ng)().AppSignInError=e.eb,(0,a.Ng)().WFEAccountClosedPage=e.A_,(0,a.Ng)().WFEReopenUserAccount=e.BP),(0,a.Ng)().WFEAbtSignoutRedirectPage||((0,a.Ng)().WFEAbtSignoutRedirectPage=e.lu),(0,a.Ng)().StorytellingBrowserNotSupportedLoaded||((0,a.Ng)().StorytellingBrowserNotSupportedLoaded=e.U2)},620901:function(Ce,k,r){function a(){return window.powerbi.telemetrySamplingRules}r.d(k,{L2:function(){return t},fy:function(){return a},zD:function(){return u}});var u=function(y){return y[y.Verbose=0]="Verbose",y[y.CustomerAction=1]="CustomerAction",y[y.CriticalError=2]="CriticalError",y[y.Trace=3]="Trace",y[y.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",y}({}),t=function(y){return y[y.LocalyticsDeprecated=1]="LocalyticsDeprecated",y[y.AppInsightDeprecated=2]="AppInsightDeprecated",y[y.AppInsight=4]="AppInsight",y[y.Etw=8]="Etw",y[y.Mobile=16]="Mobile",y[y.WinJs=32]="WinJs",y[y.Designer=64]="Designer",y[y.NgRx=128]="NgRx",y[y.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",y[y.DatahubEmbedLocal=800]="DatahubEmbedLocal",y}({})},534721:function(Ce,k,r){r.d(k,{Fp:function(){return s},OA:function(){return y},SF:function(){return C},aD:function(){return t},eq:function(){return n},ge:function(){return d},gt:function(){return c},lt:function(){return h}});var a=r(939123),e=r(23698),u={major:0,minor:0,patch:0},t="0.0",C="99.9";function y(V){a.fF.assertValue(V,"versionString");for(var S,g=0,v=0,f=0,P=0,D=0,M=0,E=V.length;D<=E;D++){var w=D===E?46:V.charCodeAt(D);switch(w){case 46:case 45:if(D===M)return;var x=(0,e.l)(V,M,D-M);if(null==x)return;switch(P){case 0:g=x;break;case 1:v=x;break;case 2:f=x;break;default:return}if(P++,M=D+1,45===w){if(3!==P||!i(S=V.substr(D+1)))return;D=E}break;default:if(w<48||w>57)return}}var N={major:g,minor:v,patch:f};return S&&(N.prerel=S),N}function i(V){a.fF.assertValue(V,"prerel");for(var g=0,v=V.length;g<v;g++){var f=V.charCodeAt(g);if(!(65<=f&&f<=90||97<=f&&f<=122||48<=f&&f<=57||45===f||46===f))return!1}return!0}function c(V,g){return a.fF.assertValue(V,"v1"),a.fF.assertValue(g,"v2"),l(p(V),p(g))>0}function h(V,g){return a.fF.assertValue(V,"v1"),a.fF.assertValue(g,"v2"),l(p(V),p(g))<0}function d(V,g){return a.fF.assertValue(V,"v1"),a.fF.assertValue(g,"v2"),l(p(V),p(g))>=0}function n(V,g){return a.fF.assertValue(V,"v1"),a.fF.assertValue(g,"v2"),V=p(V),g=p(g),!l(p(V),p(g))}function s(V,g){return c(p(V),p(g))?V:g}function p(V){return _.isString(V)?y(V)||u:V}function l(V,g){var v=m(V.major,g.major);return v||(v=m(V.minor,g.minor))||(v=m(V.patch,g.patch))?v:function(V,g){var v=_.isEmpty(V),f=_.isEmpty(g);if(v)return f?0:1;if(f)return-1;var S=(0,e.l)(V,0,V.length),P=(0,e.l)(g,0,g.length);return null!=S?null!=P?m(S,P):-1:null!=P?1:V.localeCompare(g)}(V.prerel,g.prerel)}function m(V,g){var v=(V=V||0)-(g=g||0);return 0===v?0:v<0?-1:(a.fF.assert(()=>v>0,"diff > 0"),1)}},336950:function(Ce,k,r){r.d(k,{g:function(){return e}});var a=r(124674);class e{static getModalDialog(t){return e.modalDialog||(e.modalDialog=new a.pL(null,t)),e.modalDialog}static errorServiceModalDialogControl(t){return e.getModalDialog(t)}}},702981:function(Ce,k,r){r.d(k,{_3:function(){return i}});var a=r(17933),e="PBI.ShowModalDialogRejected",t=(a.cx[e]=(0,a.b1)(e),"PBI.ShowModalDialogSkippedNestedDialogs"),y=(a.cx[t]=(0,a.b1)(t),"PBI.TriggerRefresh"),i=a.cx[y]=(0,a.b1)(y)},399387:function(Ce,k,r){r.d(k,{L:function(){return a}});class a{constructor(){this.inputUserList=[],this.validEmailsList=[],this.validObjectIds=[],this.hasValidationError=!1,this.isDirty=!1}}},903793:function(Ce,k,r){r.d(k,{RZ:function(){return i},Ue:function(){return s}});var a=r(939123),C="[toolbar-anchor]",i="[toolbar-container]",o="overlayActive",n={layout:"overlayedToolbar",preferHorizontalLayout:!1,theme:"darkTheme"};function s(l,m,b){return new p(l,m,b)}class p{constructor(m,b,V){this.anchor=m.closest(C),this.container=m.closest(i),a.fF.assert(()=>this.container.length>0,"toolbarOverlay.container"),this.updateOptions(V),this.visible=!1,b&&this.setToolbar(b)}setToolbar(m){var b=this.toolbar;if(b!==m){if(b&&b.remove(),!m)return void(this.toolbar=null);this.toolbar=m,m.addClass("toolbarOverlay");var{layout:V,theme:g}=this.options;this.updateTheme(void 0,g),this.updateLayout(void 0,V),this.setVisibility(this.visible),this.container.append(m)}}destroy(){var m=this.toolbar;m&&m.remove(),this.toolbar=void 0,this.visible=!1}updateOptions(m){var b=this.options;m=this.options=_.defaults({},m,this.options,n),this.updateTheme(b&&b.theme,m.theme),this.updateLayout(b&&b.layout,m.layout)}updateTheme(m,b){!this.toolbar||m===b||(null!=m&&this.toolbar.removeClass(m),this.toolbar.addClass(b))}updateLayout(m,b){!this.toolbar||m===b||(a.fF.assert(()=>"overlayedToolbar"!==b||!!this.anchor,`Overlayed must have an element matching the "${C}" selector`),null!=m&&(this.toolbar.removeClass(m),"overlayedToolbar"===m&&this.clearToolbarPosition()),this.toolbar.addClass(b))}show(){this.toolbar&&(this.repositionToolbar(),this.toolbar.addClass(o),this.visible=!0)}hide(){this.toolbar&&(this.toolbar.removeClass(o),this.visible=!1)}setVisibility(m){m?this.show():this.hide()}isVisible(){return this.visible}clearToolbarPosition(){this.toolbar&&this.toolbar.removeClass("top right bottom left")}repositionToolbar(){if("overlayedToolbar"===this.options.layout){var m=this.toolbar;if(m){a.fF.assertValue(this.anchor.length>0,"toolbarOverlay.anchor");var B,b=m.outerWidth(!0),V=m.outerHeight(!0),g=this.anchor.get(0).getBoundingClientRect(),v=g.left,f=g.right,S=g.bottom,P=this.container.get(0).getBoundingClientRect(),D=P.top,M=P.left,E=P.right,w=g.top,x=0,N=!0,L=!0,I=b+17,W=v-M,O=P.width-f;this.options.preferHorizontalLayout&&(W>I||O>I)?W>=O?(x=v-I,B=2):(x=f+17,B=3):((x=v)+b>M+P.width&&(x=v+g.width-b,N=!1),x<0&&(x=0),B=0,(w=g.top-V-27)<D&&(w=g.top+g.height+27,B=1,L=!1));var R=P.bottom,U=w+V+27;if(U>R&&(w-=U-R),this.options.dropdownOptions){var{dropdown:z,extraWidthOnRight:j,extraWidthOnLeft:H}=this.options.dropdownOptions,q=z.getBoundingClientRect(),G=w-D,J=R-(w+V),Z=x-H>M,Q=x+b+j>E;switch(B){case 0:this.updateDropdownVerticalAlignment(z,G,J,f>q.left),this.updateDropdownHorizontalAlignment(z,Z,Q);break;case 1:this.updateDropdownVerticalAlignment(z,G,J),this.updateDropdownHorizontalAlignment(z,Z,Q);break;case 2:this.updateDropdownHorizontalAlignment(z,Z,Q,S>q.top),this.updateDropdownVerticalAlignment(z,G,J);break;case 3:this.updateDropdownHorizontalAlignment(z,Z,Q),this.updateDropdownVerticalAlignment(z,G,J);break;default:a.fF.assertNever(B)}}m.css({top:w,left:x});var he=`${N?"left":"right"} ${L?"top":"bottom"}`;m.removeClass("top right bottom left"),m.addClass(he)}}}resetDropdownHorizontalAlignment(m){$(m).css("right","")}resetDropdownVerticalAlignment(m){$(m).css("top","100%").css("bottom","")}moveDropdownToTheLeft(m){$(m).css("right",0)}moveDropdownUp(m){$(m).css("top","initial").css("bottom","100%")}updateDropdownVerticalAlignment(m,b,V,g=!1){var v=m.getBoundingClientRect().height,f=b>v,S=V<v;f&&(S||g)?this.moveDropdownUp(m):(this.resetDropdownVerticalAlignment(m),!f&&S&&$(m).css("height",`${V}px`))}updateDropdownHorizontalAlignment(m,b,V,g=!1){b&&(V||g)?this.moveDropdownToTheLeft(m):this.resetDropdownHorizontalAlignment(m)}}},245194:function(Ce,k,r){r.d(k,{nD:function(){return D},pX:function(){return o},nC:function(){return c},Si:function(){return i}});var a=r(939123),e=r(864237);function u(M){var E=M.get(0).style,w=E.transform||E.webkitTransform;if(w){var x=w.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(x)return parseFloat(x[1])}return 0}var y=r(737466),i=function(M){return M[M.Parent=1]="Parent",M[M.None=2]="None",M[M.Custom=3]="Custom",M}({}),o=function(M){return M[M.Up=1]="Up",M[M.Down=2]="Down",M[M.Left=4]="Left",M[M.Right=8]="Right",M[M.UpLeft=16]="UpLeft",M[M.UpRight=32]="UpRight",M[M.DownLeft=64]="DownLeft",M[M.DownRight=128]="DownRight",M[M.All=255]="All",M}({}),c=function(M){return M[M.Up=0]="Up",M[M.Down=1]="Down",M[M.Left=2]="Left",M[M.Right=3]="Right",M}({}),m="transformElement",b="dragging",V="resizing",v="resizeHandleGroup-",P={preventDefault:"auto",minWidth:15,minHeight:15,maxWidth:1e4,maxHeight:1e4,autoScrollParent:null,inertia:!1,disableDrawing:!1};class D{constructor(E,w,x){this.ngZone=w,this.resizeHandleDirections=o.All,this.dimensions={},this.prevDimensions={},this.restricted={},this.preserveAspectRatio=!1,this.transformDelta={},window.interact&&(interact.pointerMoveTolerance(5),this.element=E,this.rawElement=this.element.get(0),this.updateOptions(x),this.snapToGridIfNeeded(),this.resizeHandleDirections=this.options&&this.options.resizeHandleDirections?this.options.resizeHandleDirections:this.resizeHandleDirections,this.element&&this.element.length>0&&(this.element.addClass(m),this.attachDragHandler(),this.attachResizeHandles(),this.updateHandlers(),this.attachKeyHandlers()),D.pointerTrap||(D.pointerTrap=$('<div id="transformPointerTrap" style="position: absolute; width: 1px; height: 1px; top: 0; left: 0"></div>').appendTo("body").get(0)))}attachKeyHandlers(){this.element.keydown(E=>{var N,M,w=E.shiftKey,x=E.shiftKey&&E.ctrlKey;if("true"!==$(this.element).attr("drag-resize-disabled")&&(!e.M.isCtrlOrMeta(E)||x)){var L=this.getDimensionsFromElement(this.element,!0),B=w?10:1;if(x){var I=A=>A/2===Math.round(A/2);switch(E.keyCode){case 40:L.height-=1,N=c.Down,I(L.height)&&(L.y+=1);break;case 38:L.height+=1,N=c.Up,I(L.height)||(L.y-=1);break;case 37:L.width-=1,N=c.Left,I(L.width)&&(L.x+=1);break;case 39:L.width+=1,N=c.Right,I(L.width)||(L.x-=1);break;default:return}}else switch(E.which){case 40:N=c.Down,L.y+=B;break;case 38:N=c.Up,L.y-=B;break;case 37:N=c.Left,L.x-=B;break;case 39:N=c.Right,L.x+=B;break;default:return}var W=this.getRestrictionParent();if(W&&0!==W.length){var O=(M=W,{left:parseFloat(M.css("padding-left"))||0,right:parseFloat(M.css("padding-right"))||0,top:parseFloat(M.css("padding-top"))||0,bottom:parseFloat(M.css("padding-bottom"))||0}),F=this.getDimensionsFromElement(W);L=this.restrictTo(L,F,O)}this.transformRelativeDimensionFromElement(this.element,L),E.stopPropagation&&E.stopPropagation(),E.preventDefault&&E.preventDefault(),this.notifyNudge(L,{bigNudge:w,direction:N})}})}restrictTo(E,w,x){var L=-x.top||0;return{x:Math.max(-x.left||0,Math.min(E.x,w.width-E.width)),y:Math.max(L,Math.min(E.y,w.height-E.height)),width:Math.min(E.width,w.width+x.left+x.right),height:Math.min(E.height,w.height+x.top+x.bottom)}}destroy(){this.dragInteractable&&this.dragInteractable.unset(),this.resizeInteractable&&this.resizeInteractable.unset(),this.autoScrollParent&&this.autoScrollParent.off("scroll",this.autoScrollParentScrollHandlerFn)}getResizeHandleDirectionArray(){var E=[],w=this.options.resizeHandleDirections;return w&o.Up&&E.push("up"),w&o.Down&&E.push("down"),w&o.Left&&E.push("left"),w&o.Right&&E.push("right"),w&o.UpLeft&&E.push("up-left"),w&o.UpRight&&E.push("up-right"),w&o.DownLeft&&E.push("down-left"),w&o.DownRight&&E.push("down-right"),E}getRestrictionString(){var E;switch(this.options.restriction){case i.Parent:E="parent";break;case i.Custom:E=this.options.getCustomRestrictionSelector();break;default:E=""}return E}getRestrictionParent(){var E=this.getRestrictionString();switch(E){case"":return;case"parent":return this.element.parent();default:return this.element.parent().closest(E)}}getAutoScrollOptions(){var E=this.options.autoScrollParent;return null==E?void 0:{enabled:!0,container:E[0]}}updateOptions(E){this.options={...P,...this.options||{},...E},this.restrictionElement=this.options.restrictDraw&&this.options.restriction!==i.None?this.getRestrictionParent():void 0,this.updateHandlers()}updateHandlers(){if(this.dragInteractable||this.resizeInteractable){var E=this.getAutoScrollOptions();if(this.dragInteractable){var w=0===this.getRestrictionString().length?void 0:{restriction:this.getRestrictionString(),endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}};this.dragInteractable.draggable({restrict:w,autoScroll:E})}if(this.resizeInteractable){var x={restriction:""===this.getRestrictionString()?void 0:this.getRestrictionParent().get(0),elementRect:{top:0,left:0,bottom:1,right:1}};this.resizeInteractable.draggable({restrict:x,autoScroll:E})}}}attachDragHandler(){var E=this.element.get(0),w=this.options.autoScrollParent,x=this.options.preventDefault;if(this.dragInteractable=this.ngZone.runOutsideAngular(()=>interact(E).preventDefault(x).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({inertia:!1,onstart:I=>this.ngZone.run(()=>this.onDragStart(I)),onmove:I=>this.ngZone.run(()=>this.onDragMove(I)),onend:I=>this.ngZone.run(()=>this.onDragEnd())})),this.element.on("pointerdown.transform",()=>{this.dragInteractable&&this.options.getDragRestriction&&(this.dragInteractable.options.drag.restrict.elementRect=this.options.getDragRestriction())}),w){var N=y.S5,L=0,B=0;this.autoScrollParent=w,this.autoScrollParentScrollHandlerFn=N(()=>{var I=w.scrollTop(),W=w.scrollLeft(),O=W-B,F=I-L;if(0!==O||0!==F){var A={dx:O,dy:F};this.element.hasClass(b)?this.onDragMove(A):this.element.hasClass(V)&&this.onResizeMove(A)}L=I,B=W}),w.on("scroll.transformElement",this.autoScrollParentScrollHandlerFn)}}onDragStart(E){this.dragStopped=!1,e.M.isCtrlOrMeta(E)||E.shiftKey?this.dragStopped=!0:(this.options&&this.options.supportsPointerCapture&&D.pointerTrap.setPointerCapture&&E.interaction.pointerIds.length>0&&null!=E.interaction.pointerIds[0]&&D.pointerTrap.setPointerCapture(E.interaction.pointerIds[0]),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.element.addClass(b),this.notifyDragStart(this.dimensions))}onDragMove(E){this.dragStopped||(this.dimensions.x+=E.dx,this.dimensions.y+=E.dy,this.draw(this.dimensions),this.notifyDragMove(this.dimensions))}onDragEnd(){this.dragStopped||(this.element.removeClass(b),this.snapToGridIfNeeded(),this.notifyDragEnd(this.dimensions))}attachResizeHandles(){for(var E,w=this.getResizeHandleDirectionArray(),{customHandleClass:x,transformId:N}=this.options,L=0,B=w.length;L<B;L++){var I=$("<div></div>").addClass("resizeHandle").attr("data-direction",w[L]).appendTo(this.element);x&&I.addClass(x),N&&I.addClass(v+this.options.transformId)}var W=".resizeHandle"+(this.options.transformId?`.${v}${this.options.transformId}`:"");this.resizeInteractable=this.ngZone.runOutsideAngular(()=>interact(W,{context:this.rawElement}).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({onstart:O=>this.ngZone.run(()=>this.onResizeStart(O)),onmove:O=>this.ngZone.run(()=>{E=O,this.onResizeMove(O)}),onend:()=>this.ngZone.run(()=>{E=null,this.onResizeEnd()})})),this.element.bind("keydown","keyup",O=>{var F="keydown"===O.type;this.element.hasClass(V)&&16===O.keyCode&&E&&F!==E.shiftKey&&(E.shiftKey=F,this.onResizeMove(E))})}onResizeStart(E){this.isResizing=!0,void 0!==this.element&&(this.preserveAspectRatio="true"===this.element.attr("preserve-aspect-ratio"));var w=E.target;this.element.addClass(V),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.resizeStartRect={left:this.dimensions.x,top:this.dimensions.y,right:this.dimensions.x+this.dimensions.width,bottom:this.dimensions.y+this.dimensions.height,width:this.dimensions.width,height:this.dimensions.height};var x=w.getAttribute("data-direction");this.resizeDirection={up:/up/.test(x),down:/down/.test(x),left:/left/.test(x),right:/right/.test(x)},this.setTransformDelta(E),this.aspectRatio=this.calculateAspectRatio(this.dimensions,this.options.aspectRatioOffset),_.extend(this.restricted,this.dimensions),this.notifyResizeStart(this.dimensions)}setTransformDelta(E){this.transformDelta.width=E.clientX-(this.resizeDirection.left?this.resizeStartRect.left:this.resizeStartRect.right),this.transformDelta.height=E.clientY-(this.resizeDirection.up?this.resizeStartRect.top:this.resizeStartRect.bottom)}calculateAspectRatio(E,w){var x=E.height,N=E.width;return w&&(x+=w.height,N+=w.width),x/N}onResizeMove(E){var w=this.options.aspectRatioOffset||{width:0,height:0},x=E.clientY-this.transformDelta.height,N=E.clientX-this.transformDelta.width,L=0;for(var B in this.resizeDirection)L+=this.resizeDirection[B];if(this.resizeDirection.left&&(this.dimensions.x=N,this.dimensions.width=this.resizeStartRect.right-N),this.resizeDirection.up&&(this.dimensions.y=E.clientY,this.dimensions.height=this.resizeStartRect.bottom-x),this.resizeDirection.right&&(this.dimensions.width=N-this.resizeStartRect.left),this.resizeDirection.down&&(this.dimensions.height=x-this.resizeStartRect.top),(this.preserveAspectRatio||E.shiftKey)&&2===L){var I,W=this.getRestrictionParent();if(W&&W.length){var O=this.rawElement.getBoundingClientRect().top-W.get(0).getBoundingClientRect().top;I=this.resizeDirection.up?this.dimensions.height+O:W.get(0).clientHeight-O}else I=void 0;D.fixDimensionsBasedOnAspectRatio(this.options,this.aspectRatio,I,w,this.dimensions),this.restricted.width=this.dimensions.width,this.restricted.height=this.dimensions.height}else this.restricted.width=Math.min(Math.max(this.dimensions.width,this.options.minWidth),this.options.maxWidth),this.restricted.height=Math.min(Math.max(this.dimensions.height,this.options.minHeight),this.options.maxHeight);this.resizeDirection.left&&(this.restricted.x=this.resizeStartRect.right-this.restricted.width),this.resizeDirection.up&&(this.restricted.y=this.resizeStartRect.bottom-this.restricted.height),this.restricted.angle=u(this.element),this.draw(this.restricted),this.notifyResizeMove(this.restricted)}static fixDimensionsBasedOnAspectRatio(E,w,x=Number.MAX_VALUE,N,L){var B=Math.min(L.width,E.maxWidth)+N.width,I=B*w;I>(x=Math.min(E.maxHeight,x)+N.height)&&(B=(I=x)/w),I<E.minHeight+N.height&&(B=(I=E.minWidth+N.height)/w),B<E.minWidth+N.width&&(I=(B=E.minWidth+N.width)*w),L.height=I-N.height,L.width=B-N.width}onResizeEnd(){this.isResizing=!1,this.element.removeClass(V),_.extend(this.dimensions,this.restricted),this.snapToGridIfNeeded(),this.notifyResizeEnd(this.dimensions)}getDimensionsFromElement(E,w=!1){var x=this.getPositionFromElement(E);if(w){var N=E.parents("."+m);N.length&&N.each((I,W)=>{var O=this.getPositionFromElement($(W));x.x+=O.x,x.y+=O.y})}var L=this.getSizeFromElement(E),B=u(E);return{x:x.x,y:x.y,width:L.width,height:L.height,angle:B}}transformRelativeDimensionFromElement(E,w){var x=E.parents("."+m);x.length&&x.each((N,L)=>{var B=this.getPositionFromElement($(L));w.x-=B.x,w.y-=B.y})}getSizeFromElement(E){return{width:E.width(),height:E.height()}}getPositionFromElement(E){return function(M){var E={x:0,y:0};if(M&&M.length){var w=M.get(0).style,x=w.transform||w.webkitTransform;if(x&&x.length>0){var N=x.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/);N?(E.x=parseFloat(N[1]),E.y=parseFloat(N[2])):(N=x.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(E.x=parseFloat(N[1]),E.y=0)}}return E}(E)}draw(E){if(!this.options.disableDrawing){var x,w=this.prevDimensions;E=E||this.dimensions,this.options.getIntermediateDimensions&&(x=this.options.getIntermediateDimensions(E)),E=_.extend({},x||E);var N=this.element.get(0).style,L=E.angle;if(!_.isEmpty(this.restrictionElement)){var B=this.getDimensionsFromElement(this.restrictionElement);E.x=Math.max(B.x,E.x),E.y=Math.max(B.y,E.y);var I=Math.max(0,E.x+E.width-(B.x+B.width)),W=Math.max(0,E.y+E.height-(B.y+B.height));this.isResizing?(E.height=E.height-W,E.width=E.width-I):(E.x=E.x-I,E.y=E.y-W,a.fF.assert(()=>E.x>=B.x,"dimensions.x is less than restriction"),a.fF.assert(()=>E.y>=B.y,"dimensions.y is less than restriction"))}(E.x!==w.x||E.y!==w.y||E.angle!==w.angle)&&(N.webkitTransform=N.transform="translate("+E.x+"px, "+E.y+"px)"+(L?" rotate("+L+"deg)":""),w.x=E.x,w.y=E.y,w.angle=w.angle),w.width!==E.width&&(N.width=E.width+"px",w.width=E.width),w.height!==E.height&&(N.height=E.height+"px",w.height=E.height)}}snapToGridIfNeeded(){!0===this.options.snapToGrid&&this.options.gridSize&&(this.dimensions||(this.dimensions=this.getDimensionsFromElement(this.element)),this.snapToGrid(this.dimensions))}snapToGrid(E){var w=this.options.gridSize;E.x=Math.round(E.x/w.width)*w.width,E.y=Math.round(E.y/w.height)*w.height,E.width=Math.round(E.width/w.width)*w.width,E.height=Math.round(E.height/w.height)*w.height,this.draw(E)}notifyResizeStart(E){this.options&&this.options.onResizeStart&&this.options.onResizeStart(E)}notifyResizeMove(E){this.options&&this.options.onResizeMove&&this.options.onResizeMove(E)}notifyResizeEnd(E){this.options&&this.options.onResizeEnd&&this.options.onResizeEnd(E)}notifyDragStart(E){this.options&&this.options.onDragStart&&this.options.onDragStart(E)}notifyDragMove(E){this.options&&this.options.onDragMove&&this.options.onDragMove(E)}notifyDragEnd(E){this.options&&this.options.onDragEnd&&this.options.onDragEnd(E)}notifyNudge(E,w){this.options&&this.options.onNudge&&this.options.onNudge(E,w)}}},874940:function(Ce,k,r){r.d(k,{$V:function(){return E},CT:function(){return d},DR:function(){return l},E9:function(){return h},Fp:function(){return o},IJ:function(){return D},K0:function(){return g},Kj:function(){return u},Kk:function(){return c},LX:function(){return F},MX:function(){return i},Nf:function(){return N},OA:function(){return V},SG:function(){return p},Yz:function(){return m},_h:function(){return e},dx:function(){return x},e_:function(){return n},fI:function(){return b},fd:function(){return s},gn:function(){return P},iQ:function(){return a},nt:function(){return y},td:function(){return t},tk:function(){return f},tz:function(){return w},wu:function(){return C},xu:function(){return M}});var a="Explore_ExplorationCreation",e="ExportExcel_EmptyColumnName",u="modelFailednoErrorInfo",t="ModelSizeExceedsSharedCapacityLimit",C="ModelWithIncrementalRefreshIsNotDownloadable",y="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModel",i="ExportData_DisabledForModelModifiedByXmlaEndpoint",o="ExportData_DisabledForModelWithInferredPartition",c="UnsupportedModelWithRefreshPolicyInSharedCapacity",h="DatasetsWithCompositeModelsNotSupported",d="ServerError_PremiumFilesErrors_ASWLConversionBadRequest",n="ServerError_PremiumFilesErrors_ASWLConversionInternalServerError",s="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModelWithoutCapacity",p="ServerError_PremiumFilesErrors_ASWLConversionConflict",l="ExportData_DisabledForModelWithDirectLakeMode",m="ExportPBIX_NoExplorationFound",b="ExportPBIXV2_NoExplorationDocumentFound",V="PowerBIEntityNotFound",g="PowerBINotAuthorizedException",f="rsErrorOpeningConnection",P="TokenExpired",D="UserNotLicensed",M="NetworkConnectionIssue",E="NavigateAway",w="ChangeDetectionMeasureExecutionDisabledException",x="UnsupportedChangeDetectionMeasureException",N="FailedToAutoAssignLicense",F="PowerBIOperationNotSupported"},517957:function(Ce,k,r){r.d(k,{Q:function(){return u},W:function(){return e}});var a=r(310420);function e(t){(0,a.hG)().errorService=t}function u(){return(0,a.hG)().errorService}},982275:function(Ce,k,r){r.d(k,{Dd:function(){return h},NJ:function(){return g},OM:function(){return S},PF:function(){return C},Qq:function(){return l},SV:function(){return s},VF:function(){return m},Z:function(){return a},dJ:function(){return u},dm:function(){return c},i5:function(){return i},ii:function(){return v},lH:function(){return p},m:function(){return f},pG:function(){return n},qw:function(){return d},sc:function(){return o},t1:function(){return y},v7:function(){return t}});var a=function(P){return P[P.AzureMapsDomain=1]="AzureMapsDomain",P[P.All=1]="All",P}({}),u={type:2,name:"visualContainerResizeStart"},t={type:2,name:"visualContainerResizeEnd"},C={type:2,name:"visualContainerInteraction"},y={type:2,name:"canvasItemContainerShowHover"},i={type:2,name:"canvasItemContainerHideHover"},o={type:2,name:"liveReportTileReady"},c={type:2,name:"printSectionReady"},h={type:3,name:"reportPrintSectionStarted"},d={type:3,name:"reportPrintSectionFinished"},n={type:4,name:"loadPowerViewReport"},s={type:4,name:"explorationUnloaded"},p={type:4,name:"informationProtectionLoaded"},l={type:4,name:"printModeChanged"},m={name:"reportRefreshStateChanged",type:4},g={name:"externalUrlChanged",type:4},v={type:4,name:"scrollToSelectedTile"},f={type:4,name:"Tile_RLS_NoAccess"},S={name:"dashboardTileScaleChanged",type:2}},711098:function(Ce,k,r){r.d(k,{Ed:function(){return h},XP:function(){return t},ZV:function(){return a},aE:function(){return u},ep:function(){return c},jX:function(){return y},qu:function(){return e},qz:function(){return i},rO:function(){return C}});var a={13:"https://go.microsoft.com/fwlink/?LinkId=546971",19:"https://go.microsoft.com/fwlink/?LinkID=528958",10:"https://go.microsoft.com/fwlink/?LinkID=528796",30:"https://go.microsoft.com/fwlink/?LinkId=613552",23:"https://go.microsoft.com/fwlink/?LinkID=528959",16:"https://go.microsoft.com/fwlink/?LinkID=528957",17:"https://go.microsoft.com/fwlink/?LinkID=528797",20:"https://go.microsoft.com/fwlink/?LinkId=613120",9:"https://go.microsoft.com/fwlink/?LinkID=528963",26:"https://go.microsoft.com/fwlink/?LinkID=528960",42:"https://go.microsoft.com/fwlink/?LinkId=536680",41:"https://go.microsoft.com/fwlink/?LinkId=613402",52:"https://go.microsoft.com/fwlink/?LinkId=615189",14:"https://go.microsoft.com/fwlink/?LinkId=544911",38:"https://go.microsoft.com/fwlink/?LinkID=615577",18:"https://go.microsoft.com/fwlink/?LinkId=533295",24:"https://go.microsoft.com/fwlink/?LinkID=528961"},e="https://go.microsoft.com/fwlink/?LinkId=532757",u="https://go.microsoft.com/fwlink/?linkid=2179788",t="https://go.microsoft.com/fwlink/?LinkId=525916",C="https://go.microsoft.com/fwlink/?LinkId=823121",y="https://go.microsoft.com/fwlink/?LinkId=786855",i="https://go.microsoft.com/fwlink/?LinkId=823122",c="https://go.microsoft.com/fwlink/?LinkID=825665",h="https://learn.microsoft.com/en-us/power-bi/developer/visuals/licensing-faq"},583374:function(Ce,k,r){r.d(k,{J8:function(){return i}});var a=r(531905),e=r(939123),u=r(864237),t=r(982275);class i{static getPrintTargetViewPort(c){var h={width:a.SZk,height:a.qvT};if(c.width()>c.height()&&(h.width=a.nDG,h.height=a.Td2),u.M.isChrome()){var s=c.parent();h.width=s.width(),h.height=s.height()}return h}static calculateScaleFactor(c,h,d){var n=h.width/c.width,s=h.height/c.height;return d?Math.max(n,s):Math.min(n,s)}getStyleString(c){for(var h=Object.keys(c),d="",n=0,s=h.length;n<s;n++){var p=h[n];d=d+p+":"+c[p]+";"}return d}onInit(c,h,d,n,s,p,l){p||(this.globalSubscriptionManager=l.createChannelSubscriptionManager().subscribe(t.Qq,(m,b)=>{b===a.WMs?this.insertPrintStylingInDOM(c,h,d,n,s):b===a.IBn&&this.removePrintStylingFromDOM(c)}))}onDestroy(c,h){h||(this.domLayoutChangedDeregister&&this.domLayoutChangedDeregister(),this.onExitPrintModeDeregister&&this.onExitPrintModeDeregister(),this.globalSubscriptionManager.unsubscribeAll()),this.removePrintStylingFromDOM(c,!0)}insertPrintStylingInDOM(c,h,d,n,s){if(null!=d){var p=window.location.pathname.toLowerCase();if(!1===s.featureSwitches.printingEnabled&&"/export/report"!==p&&"/reportembedexporthost"!==p){if(!this.printDisabledElement){var m=n.get("PrintingIsDisabledForThisTenantMessage"),b=$("<div>").addClass("errorTitle").text(m),V=$("<div>").attr("id","printDisabledOverlay").append(b);this.printDisabledElement=V,$("body").append(this.printDisabledElement)}return void c.hide()}this.printStyleElement||(this.printStyleElement=$("<style></style>").attr("type","text/css").attr("media","print"),$("body").append(this.printStyleElement));var g=h(c);e.fF.assertValue(g,"printStylesObject");var v=this.getStyleString(g);this.printStyleElement.get(0).sheet.insertRule(`.${d} { ${v} }`)}}removePrintStylingFromDOM(c,h=!1){if(this.printDisabledElement&&(this.printDisabledElement.remove(),this.printDisabledElement=void 0,c.show()),this.printStyleElement)if(h)this.printStyleElement.remove(),this.printStyleElement=void 0;else for(var d=this.printStyleElement.get(0).sheet,n=d.cssRules.length;n--;)d.removeRule(n)}}},445115:function(Ce,k,r){r.d(k,{$i:function(){return I},$v:function(){return N},A7:function(){return g},DS:function(){return T},Fk:function(){return A},Gw:function(){return F},KZ:function(){return G},NQ:function(){return x},OJ:function(){return s},QS:function(){return P},ZW:function(){return l},c9:function(){return v},ee:function(){return m},gF:function(){return Z},gY:function(){return f},ov:function(){return p},qg:function(){return V},ql:function(){return L},t6:function(){return J},tL:function(){return O},vs:function(){return w},w$:function(){return Q},xA:function(){return b},yU:function(){return D}});var a=r(171520),e=r(531905),u=r(230373),t=r(772080),C=r(939123),y=r(737466),i=r(517957),o=r(963124),c=2998,h=2,d={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},n={year:"2-digit",month:"numeric",day:"numeric"};function s(he){for(var Se=he.refreshConnections,Ke=void 0!==Se?Se.length:0,Ge=0;Ge<Ke;Ge++)if(Se[Ge].onpremGatewayRequired)return!0;return!1}function p(he){return s(he)||l(he)}function l(he){var Se=new RegExp("(asazure://|pbiazure://|powerbi://|link://)","i");return(void 0===he.onPremModelConnectionString||Se.test(he.onPremModelConnectionString))&&he.dataCacheMode!==u.Vv.DirectQuery}function m(he){try{var Se=y.b$.getDateFromWcfJsonString(he,!0);return he&&!Se&&C.fF.assertFail("malformed refresh time could not be parsed to date: "+he),Se}catch(Ke){return C.fF.assertFail(Ke.message),null}}function b(he,Se,Ke=!0){try{var Ge=m(he);return!Ke||!Ge||Ge.getFullYear()>c||Ge.getFullYear()<h?Se.get("ManageDatasets_NextRefresh_NA"):Ge.toLocaleString()}catch(ye){return C.fF.assertFail(ye.message),Se.get("ManageDatasets_NextRefresh_NA")}}function V(he,Se){try{var Ke=m(he);return!Ke||Ke.getFullYear()>c||Ke.getFullYear()<h?Se&&Se.invalidDateTimePlaceholder||"":Ke.toLocaleDateString(Se?.locale||void 0,Se&&Se.format||n)}catch(Ge){return C.fF.assertFail(Ge.message),Se&&Se.invalidDateTimePlaceholder||""}}function g(he,Se,Ke){try{var Ge=m(he);return!Ge||Ge.getFullYear()>c||Ge.getFullYear()<h?Se&&Se.invalidDateTimePlaceholder||"":Ge.toLocaleString(Ke,Se&&Se.format||d)}catch(ye){return C.fF.assertFail(ye.message),Se&&Se.invalidDateTimePlaceholder||""}}function v(he,Se,Ke){var Ge=new Array;for(var ye of Se){var we=P(he,ye,Ke);we.datasourceId=ye.dataSourceId,we.dataSourceObjectId=ye.dataSourceObjectId,we.gatewayId=ye.gatewayId,we.gatewayObjectId=ye.gatewayObjectId,we.testConnectionState=ye.credentialDetails?o.x9.NotStart:o.x9.NotSpecified,we.alreadyExecutedTestConnection=!1,we.normalizedPath=ye.normalizedPath,we.dsr=ye.dataSourceReference,we.onpremGatewayRequired=ye.onPremGatewayRequired,Ge.push(we)}return Ge}function f(he,Se){switch(he){case t.d3.NotSpecified:return Se.get("AuthenticationMethod_NotSpecified");case t.d3.Windows:return Se.get("SettingsDataSource_SettingsAuthenticationMethod_Windows");case t.d3.Anonymous:return Se.get("SettingsDataSource_SettingsAuthenticationMethod_Anonymous");case t.d3.Basic:return Se.get("SettingsDataSource_SettingsAuthenticationMethod_Basic");case t.d3.Key:return Se.get("SettingsDataSource_SettingsAuthenticationMethod_Key");case t.d3.OAuth2:return Se.get("AuthenticationMethod_OAuth2");case t.d3.EffectiveUserName:return Se.get("AuthenticationMethod_EffectiveUserName");case t.d3.SingleSignOn:return Se.get("AuthenticationMethod_SingleSignOn");case t.d3.WindowsWithoutImpersonation:return Se.get("AuthenticationMethod_WindowsWithoutImpersonation");case t.d3.SAS:return Se.get("AuthenticationMethod_SAS");case t.d3.ServicePrincipal:return Se.get("AuthenticationMethod_ServicePrincipal");case t.d3.WorkspaceIdentity:return Se.get("Trident_Workspace_Settings_Workspace_Identity");default:return t.d3[he]}}function S(he,Se){return _.map(he,Ke=>f(Ke,Se))}function P(he,Se,Ke){var Ge=Se.credentialDetails,ye={modelId:he,datasourceId:Se.dataSourceId,dataSourceObjectId:Se.dataSourceObjectId,gatewayId:Se.gatewayId,gatewayObjectId:Se.gatewayObjectId,name:Se.dataSourceName,oAuth2URL:Se.oAuth2Endpoint,oAuth2Nonce:Se.oAuth2Nonce,datasourceType:Se.dataSourceType,datasourceReference:M(Se.dataSourceReference),dsr:Se.dataSourceReference,credentialTypes:Se.supportedAuthenticationTypes,credentialTypesNames:S(Se.supportedAuthenticationTypes,Ke),connectionStringGeneralProperties:D(Se.connectionDetails),onpremGatewayRequired:Se.onPremGatewayRequired,singleSignOnType:Se.singleSignOnType,skipTestConnection:!!Ge&&Ge.skipTestConnection,selectedCredentialType:Ge?Ge.credentialType:void 0,selectedPrivacyLevel:Ge?Ge.privacyLevel:void 0,gatewayType:Se.gatewayType};if(ye.datasourceType===t.ye.Extension){var we=JSON.parse(Se.dataSourceReference);ye.dataSourceKind=we.kind}return ye.fullName=W(ye,Ke),ye.displayName=I(ye,Ke),ye}function D(he){return M(he)}function M(he){var Se=new Array;if(he){var Ke=JSON.parse(he);for(var Ge in Ke)Se.push({name:Ge,value:Ke[Ge]})}return Se}function E(he){return he?null!=he.server?(C.fF.assertValue(he.database,"database"),[{name:"Server",value:he.server},{name:"Database",value:he.database}]):null!=he.path?[{name:"path",value:he.path}]:null!=he.modelId?[{name:"modelId",value:he.modelId},{name:"workspaceId",value:he.workspaceId}]:(C.fF.assertValue(he.extensionDataSourceKind,"extensionDataSourceKind"),C.fF.assertValue(he.extensionDataSourcePath,"extensionDataSourcePath"),[{name:"extensionDataSourceKind",value:he.extensionDataSourceKind},{name:"extensionDataSourcePath",value:he.extensionDataSourcePath}]):[]}function w(he,Se,Ke){var Ge=(0,a.K)(Se.connectionDetails),ye=[];_.includes(Se.supportedAuthenticationTypes,t.d3.Basic)&&ye.push(t.d3.Basic),_.includes(Se.supportedAuthenticationTypes,t.d3.OAuth2)&&ye.push(t.d3.OAuth2),Se.supportedAuthenticationTypes=ye;var we={modelId:he,datasourceId:Se.dataSourceId,dataSourceObjectId:Se.dataSourceObjectId,name:t.ye[Se.dataSourceType],oAuth2URL:Se.oAuth2Endpoint,oAuth2Nonce:Se.oAuth2Nonce,datasourceType:Se.dataSourceType,credentialTypes:Se.supportedAuthenticationTypes,credentialTypesNames:S(Se.supportedAuthenticationTypes,Ke),connectionStringGeneralProperties:E(Ge),onpremGatewayRequired:!1,gatewayId:Se.gatewayId,gatewayObjectId:Se.gatewayObjectId,isCloudDirectQuery:!0,testConnectionErrorMessage:Se.credentialDetails?null:Ke.get("SettingsDataset_Error_CredentialsNotFound"),testConnectionState:Se.credentialDetails?o.x9.Passed:o.x9.Failed,alreadyExecutedTestConnection:!0,singleSignOnType:Se.singleSignOnType};return we.fullName=W(we,Ke),we.displayName=I(we,Ke),we}function x(he,Se){return{importAndRefreshBehavior:he.importAndRefreshBehavior,refreshEnabled:he.refreshEnabled,refreshFrequency:ne(he),refreshDays:A(he.weekDays),refreshTimeWindowIndex:U(he.executionTime,Se),refreshTimesHourly:q(he.executionTimeHourly,Se),refreshTimeZoneId:he.localTimeZoneId,sendFailureEmail:!0,isRefreshable:he.isRefreshable,refreshNotificationEnabled:he.refreshNotificationEnabled,refreshEmails:{emailsList:void 0,emailValidationError:"",emailValidationWarning:""}}}function N(he,Se){var Ke=he.refreshSchedule,Ge=x(Ke,Se);return 10080===Ge.refreshFrequency&&Ke.refreshFrequency&&Ke.refreshFrequency===1440..toString()&&9===he.contentProviderId&&(Ge.refreshFrequency=1440,Ge.refreshEnabled=!0,he.nextRefreshTime&&((!Ge.refreshTimesHourly||Ge.refreshTimesHourly.length<1)&&(Ge.refreshTimesHourly=function(he){var Se=m(he),Ke=Se.getMinutes(),Ge=Se.getHours();return Ke>30?(Ke=0,++Ge>24&&(Ge-=24)):Ke=30,[{refreshHourIndex:(Ge+11)%12,refreshMinuteIndex:Math.floor(Ke/30),refreshAmPmIndex:Math.floor(Ge/12),isIncomplete:!1,isDuplicate:!1}]}(he.nextRefreshTime)),(!Ge.refreshTimeWindowIndex||0===Ge.refreshTimeWindowIndex)&&(Ge.refreshTimeWindowIndex=function(he){var Se=m(he),Ke=Se.getHours();return Se.getMinutes()>30&&(++Ke>24&&(Ke-=24)),Ke}(he.nextRefreshTime)))),new o.$Z(he,he.id,he.displayName,he.description,4===he.lastRefreshStatus||2===he.lastRefreshStatus,_.isEmpty(he.refreshHistories)?"":he.refreshHistories[0].friendlyErrorMessage,m(he.nextRefreshTime)?.toString()??void 0,Ge,he.parameters,Se)}function L(he,Se){var Ke=1440===he.refreshFrequency,Ge=10080===he.refreshFrequency,ye=null;Ke?ye=e.r90:Ge&&(ye=T(he.refreshDays));var we=null;return!Ke&&!Ge&&(we=he.refreshFrequency.toString()),{importAndRefreshBehavior:he.importAndRefreshBehavior,refreshEnabled:he.refreshEnabled,isDaily:1440===he.refreshFrequency,refreshFrequency:we,weekDays:ye,executionTime:Se?z(6*he.refreshTimeWindowIndex):null,executionTimeHourly:Se?null:R(he.refreshTimesHourly),localTimeZoneId:he.refreshTimeZoneId,refreshNotificationEnabled:he.refreshNotificationEnabled,refreshContacts:he.refreshEmails.emailsList?he.refreshEmails.emailsList.inputUserList:[]}}function I(he,Se){switch(he.datasourceType){case t.ye.AnalysisServices:case t.ye.Oracle:case t.ye.SqlServer:case t.ye.MySql:case t.ye.PostgreSql:case t.ye.Sybase:case t.ye.Teradata:case t.ye.DB2:case t.ye.Informix:case t.ye.SAP:case t.ye.Essbase:var Ke,Ge,ye=he.connectionStringGeneralProperties;if(!ye)return t.ye[he.datasourceType];for(var we=ye.length,je=0;je<we;je++){var de=ye[je];"database"===de.name?Ke=de.value:"server"===de.name&&(Ge=de.value)}return Ke||Ge?(Ke||"")+(Ke&&Ge?"-":"")+(Ge||""):t.ye[he.datasourceType];case t.ye.Folder:case t.ye.File:var Pe=_.find(he.connectionStringGeneralProperties,{name:"path"});return y.b$.extractFileNameFromPath(Pe.value);case t.ye.Extension:return _.find(he.connectionStringGeneralProperties,{name:"extensionDataSourceKind"}).value;case t.ye.AdoDotNet:var Ze=_.find(he.connectionStringGeneralProperties,{name:"workspaceId"}),Ue=_.find(he.connectionStringGeneralProperties,{name:"modelId"});return Se.format("SettingsDataset_AdoDotNetText",[Ze.value,Ue.value]);case t.ye.ActiveDirectory:case t.ye.AzureTable:case t.ye.AzureBlob:case t.ye.Web:case t.ye.OData:case t.ye.SharePoint:case t.ye.GoogleAnalytics:case t.ye.Exchange:case t.ye.Facebook:case t.ye.HDInsight:case t.ye.AzureMarketplace:case t.ye.Salesforce:case t.ye.SAPBW:case t.ye.OleDb:case t.ye.ODBC:return t.ye[he.datasourceType];case t.ye.SharePointList:return"SharePoint";default:return he.name}}function W(he,Se){switch(+he.datasourceType){case t.ye.Folder:case t.ye.File:return _.find(he.connectionStringGeneralProperties,{name:"path"}).value;default:return I(he,Se)}}function O(he,Se){if(!_.isEmpty(he))for(var Ke of he)Ke.displayName=I(Ke,Se),Ke.fullName=W(Ke,Se)}function F(he){if(he){if(null!=he.clientCategory)return he.clientCategory;switch(he.category){case 1:case 3:case 6:return u.Bs.Service;case 2:case 5:case 4:case 7:return u.Bs.Organizational;default:C.fF.assertFail("Unknown content provider category")}}}function A(he){for(var Se=new Array,Ke=0;Ke<7;Ke++)Se[Ke]=!(1&~he),he>>=1;return Se}function T(he){for(var Se=0,Ke=6;Ke>=0;Ke--)Se<<=1,Se=!0===he[Ke]?1|Se:Se;return Se}function R(he){for(var Se=[],Ke=he.length,Ge=0;Ge<Ke;Ge++){var ye=he[Ge],je=30*ye.refreshMinuteIndex;Se.push(((ye.refreshHourIndex+1)%12+12*ye.refreshAmPmIndex).toString()+":"+(0===je?"00":je.toString())+":00")}return JSON.stringify(Se)}function U(he,Se){var Ke;if(he){var Ge=he.split(":"),ye=parseInt(Ge[0],10);ye>=0&&ye<24?Ke=Math.floor(ye/6):((0,i.Q)().error(Se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),Ke=0)}else Ke=0;return Ke}function z(he){var Se=new Date;Se.setHours(he),Se.setMinutes(0),Se.setSeconds(0);var Ke=Se.toTimeString(),Ge=Ke.indexOf(" ");return Ke.substr(0,Ge)}function q(he,Se){var Ke=[];if(he){try{var Ge=JSON.parse(he)}catch{return void(0,i.Q)().error(Se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat")}for(var ye=Ge.length,we=0;we<ye;we++){var de=Ge[we].split(":"),Pe=parseInt(de[0],10),Ve=parseInt(de[1],10);if(Pe<0||Pe>=24)(0,i.Q)().error(Se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour");else if(Ve<0||Ve>=60)(0,i.Q)().error(Se.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute");else{var Ze={refreshHourIndex:(Pe+11)%12,refreshMinuteIndex:Math.floor(Ve/30),refreshAmPmIndex:Math.floor(Pe/12),isIncomplete:!1,isDuplicate:!1};Ke.push(Ze)}}}return Ke}function G(he){return _.isEmpty(he.displayName)?he.qnaSupported:!0===he.qnaSupported&&(1===he.pushDataVersion||2===he.pushDataVersion||he.dataCacheMode===u.Vv.Import&&!1!==he.powerBIQnaEnabled||!!he.onPremModelConnectionString&&he.powerBIQnaEnabled||(he.dataCacheMode===u.Vv.DirectQuery||he.dataCacheMode===u.Vv.Mixed)&&he.powerBIQnaEnabled)}function J(he){return!(!he||he.dataCacheMode!==u.Vv.DirectQuery&&he.dataCacheMode!==u.Vv.Mixed&&_.isEmpty(he.onPremModelConnectionString))}function Z(he){for(var Se of he.monikers){var Ke=_.filter(Se.monikerDataSources,we=>null==we.dataSourceId&&!le(we));if(Ke&&0!==Ke.length){if(_.every(Ke,we=>!we.matchingDataSourceObjectIds||0===we.matchingDataSourceObjectIds.length))return!0;for(var Ge of Ke){var ye=_.map(Ge.matchingDataSourceObjectIds,we=>_.find(he.datasources,je=>je.dataSourceObjectId===we));if(_.every(ye,we=>"Personal"!==we?.gatewayType))return!0}}}return!1}function Q(he,Se){var Ke=[];for(var Ge of he.monikers){var ye=_.map(Ge.monikerDataSources,je=>je.dataSourceObjectId);_.every(ye,je=>je)&&Ke.push(...ye||[])}return _.filter(he.datasources,je=>(je.gatewayObjectId===Se||!1===je.onPremGatewayRequired)&&_.includes(Ke,je.dataSourceObjectId))}function ne(he){switch(C.fF.assertValue(he,"schedule"),parseInt(he.refreshFrequency,10)){case 15:return 15;case 30:return 30;case 60:return 60;case 120:return 120;case 180:return 180}return he.isDaily?1440:10080}function le(he){return!(1&~he.monikerDataSourceAttribute&&4&~he.monikerDataSourceAttribute)}},58815:function(Ce,k,r){r.d(k,{f:function(){return C}});var a=r(531905),e=r(939123),u=r(616113),t=window;class C{static webRedirectUrlHelper(i){return this._webRedirectUrlHelper||(this._webRedirectUrlHelper=new C("Redirect",i)),this._webRedirectUrlHelper}static mobileRedirectUrlHelper(i){return this._mobileRedirectUrlHelper||(this._mobileRedirectUrlHelper=new C("MobileRedirect.html",i)),this._mobileRedirectUrlHelper}constructor(i,o,c=!1){this.redirectPath=i,this.appSettings=o,this.useMsPbi=c}getAppRedirectUrl(i,o,c,h){return e.fF.assertValue(o,"getAppRedirectUrl: appId"),this.getRedirectUrl({action:"OpenApp",groupObjectId:i,context:h,appId:o,ctid:c})}getDashboardRedirectUrl(i,o,c,h,d,n,s,p){return e.fF.assert(()=>"MSTeams"===s||"ChatInTeams"===s||!_.isEmpty(i)||!_.isEmpty(o),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),e.fF.assertValue("MSTeams"===s||"ChatInTeams"===s||c,"getDashboardRedirectUrl: dashboardObjectId"),this.getRedirectUrl({action:"OpenDashboard",context:d,groupObjectId:i,appId:o,dashboardObjectId:c,ctid:h,tileId:n,pbi_source:s,openDashboardSource:p})}getReportRedirectUrl(i,o,c,h,d,n,s,p,l){e.fF.assert(()=>"MSTeams"===p||"ChatInTeams"===p||!_.isEmpty(i)||!_.isEmpty(o),"getReportRedirectUrl: groupId or appId shouldn't be null"),e.fF.assertValue("MSTeams"===p||"ChatInTeams"===p||c,"getReportRedirectUrl: reportObjectId");var m={action:1===s?"OpenRdlReport":"OpenReport",context:n,groupObjectId:i,appId:o,reportObjectId:c,ctid:d,pbi_source:p,bookmarkGuid:l};return _.isEmpty(h)||(m.reportPage=h),this.getRedirectUrl(m)}getDatasetRedirectUrl(i,o,c,h){return e.fF.assert(()=>"MSTeams"===h||"ChatInTeams"===h||!_.isEmpty(i),"getDatasetRedirectUrl: groupId shouldn't be null"),e.fF.assertValue("MSTeams"===h||"ChatInTeams"===h||o,"getDatasetRedirectUrl: datasetObjectId"),this.getRedirectUrl({action:"OpenDataset",context:c,groupObjectId:i,datasetObjectId:o,pbi_source:h})}getScorecardRedirectUrl(i,o,c,h,d){return this.getRedirectUrl({action:"OpenScorecard",groupObjectId:i,scorecardObjectId:o,ctid:c,context:h,pbi_source:d})}getWorkbookRedirectUrl(i,o,c,h,d){return e.fF.assert(()=>!_.isEmpty(i)||!_.isEmpty(o),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),e.fF.assertValue(c,"getWorkbookRedirectUrl: workbookUniqueId"),this.getRedirectUrl({action:"OpenWorkbook",context:d,groupObjectId:i,appId:o,workbookUniqueId:c,ctid:h})}getTileRedirectUrl(i,o,c,h,d){return e.fF.assert(()=>!_.isEmpty(i)||!_.isEmpty(o),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),e.fF.assertValue(c,"getDashboardRedirectUrl: dashboardObjectId"),e.fF.assertValue(h,"getTileRedirectUrl: tileObjectId"),this.getRedirectUrl({action:"OpenTile",context:d,groupObjectId:i,appId:o,dashboardObjectId:c,tileObjectId:h})}getServiceAppInstallRedirectUrl(i,o,c,h){e.fF.assertValue(i,"getAppRedirectUrl: appKey"),e.fF.assertValue(o,"getAppRedirectUrl: packageKey");var d={action:"InstallApp",appId:i,packageKey:o.replace("=",""),ownerId:c};_.isEmpty(h)||(d.buildVersion=h);var s=(window.location.protocol+"//"+window.location.host).replace(t.baseUrl,t.feUrl);return this.getRedirectUrl(d,s)}getLineageViewRedirectUrl(i,o){return e.fF.assert(()=>!_.isEmpty(i),"getLineageViewRedirectUrl: groupId or appId shouldn't be null"),e.fF.assertValue(o,"getLineageViewRedirectUrl: reportObjectId"),this.getRedirectUrl({action:"OpenLineageView",groupObjectId:i,reportObjectId:o})}getRedirectUrl(i,o){if(e.fF.assertValue(i,"getRedirectUrl: params"),this.useMsPbi){var{action:c}=i;return i=this.removeEmptyParams(i,this.useMsPbi),(0,u.W)("{0}/{1}?{2}","mspbi://app",c,$.param(i))}return i=this.removeEmptyParams(i),(0,u.W)("{0}/{1}?{2}",o||this.appSettings.baseUrl,this.redirectPath,$.param(i))}removeEmptyParams(i,o=!1){var c=[];return(_.isEmpty(i.groupObjectId)||i.groupObjectId===a.wku)&&c.push("groupObjectId"),_.isEmpty(i.appId)&&c.push("appId"),_.isEmpty(i.context)&&c.push("context"),_.isEmpty(i.reportObjectId)&&c.push("reportObjectId"),_.isEmpty(i.ctid)&&c.push("ctid"),_.isEmpty(i.openDashboardSource)&&c.push("openDashboardSource"),_.isEmpty(i.tileId)&&c.push("tileId"),_.isEmpty(i.dashboardObjectId)&&c.push("dashboardObjectId"),_.isEmpty(i.bookmarkGuid)&&c.push("bookmarkGuid"),_.isEmpty(i.pbi_source)&&c.push("pbi_source"),(_.isEmpty(i.action)||o)&&c.push("action"),c.length>0&&(i=_.omit(i,c)),i}}},893648:function(Ce,k,r){r.d(k,{B:function(){return u},V:function(){return e}});var a=r(939123);function e(t){switch(t){case 0:return"Master";case 1:return"PhonePortrait";default:a.fF.assertFail("Unsupported telemetry canvas layout")}return null}class u{constructor(C){this.options=C}start(C){this.reject(),this.event=C()}resolve(){this.event&&(this.options&&this.options.onResolve&&this.options.onResolve(this.event),this.event.resolve(),this.event=void 0)}reject(C){this.event&&(this.options&&this.options.onReject&&this.options.onReject(this.event,C),this.event.reject(C),this.event=void 0)}}},898021:function(Ce,k,r){function a(e,u,t){var C=_.trim(e),y=_.trim(u);return _.isEmpty(C)?t||"":_.isEmpty(y)?C:`${C} ${y}`}r.d(k,{P:function(){return a}})},599543:function(Ce,k,r){r.d(k,{Y:function(){return e}});var a=r(939123);class e{constructor(){this.css={},this.elems=[]}setDimensionBehavior(t){this.skipJqueryDimension=t}addAttributes(t){for(var C in t)this.css[C]=t[C]}element(t){a.fF.assertValue(t,"element"),this.elems=[t]}addElement(t){a.fF.assertValue(t,"element"),this.elems.push(t)}removeElement(t){a.fF.assertValue(t,"element"),_.pull(this.elems,t)}position(t){a.fF.assertValue(t,"position");var C=this.css;C.WebkitTransform=C.transform="translate("+t.x+"px, "+t.y+"px)"}viewport(t){a.fF.assertValue(t,"viewport");var C=this.css;C.height=t.height,C.width=t.width}zIndex(t){a.fF.assertValue(t,"zIndex"),this.css.zIndex=t}rotate(t){if(a.fF.assertValue(t,"rotate angle"),t){var C=this.css;C.WebkitTransform=C.transform+=" rotate("+t+"deg)"}}apply(t){if(this.skipJqueryDimension)if(t)this.applyStyleWithoutDimensionHooks(t);else for(var C of this.elems)this.applyStyleWithoutDimensionHooks(C);else if(t)t.css(this.css);else for(var y of this.elems)y.css(this.css)}applyStyleWithoutDimensionHooks(t){var C=t.get(0);null!=this.css.height&&(C.style.height=`${this.css.height}px`),null!=this.css.width&&(C.style.width=`${this.css.width}px`);var y=_.omit(this.css,["height","width"]);t.css(y)}getCss(){return this.css}}},848681:function(Ce,k,r){r.d(k,{XM:function(){return l},be:function(){return h},bq:function(){return o}});var y=7,i=7;function o(){return y}function h(){return i}var l=function(m){return m[m.drag=0]="drag",m[m.resizing=1]="resizing",m[m.resized=2]="resized",m[m.refresh=3]="refresh",m}({})},995488:function(Ce,k,r){r.d(k,{H:function(){return t}});var a=r(230373),e=r(445115),u=r(176188);class t extends u._{constructor(y){super(),this.contract=y,this.isRefreshInProgress=!1,this.uniqueId=t.getUniqueId(y.id,y.packageId),this.categories=0}getPermissions(){var y;return this.getPermissionsCallback&&null!=(y=this.getPermissionsCallback())?y:this.contract&&this.contract.permissions}get hasError(){return this.contract&&(2===this.packagePublishStatus||4===this.packagePublishStatus||2===this.contract.lastRefreshStatus||4===this.contract.lastRefreshStatus)}get lastRefreshTimeInLocaleString(){var y=this.getLastRefreshTime();if(y)return y.toLocaleString()}get lastRefreshEpochTime(){var y=this.getLastRefreshTime();if(y)return y.getTime()}get contentTileType(){return a.ty.Dataset}getRefreshDisabledReason(){return(this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)??0}static getUniqueId(y,i){return`${a.ty.Dataset}_${y}_${i}`}getLastRefreshTime(){var y=this.contract;return(0,e.ee)(y.onPremModelConnectionString?y.lastTimeAModelChangeWasDetectedInTheCluster:y.lastRefreshTime)}}},743028:function(Ce,k,r){r.d(k,{Y:function(){return C},y:function(){return t}});var a=r(230373),e=r(265230),u=r(734311);class t extends u.H{constructor(i){super(typeof i>"u"?0:i.id,0,typeof i>"u"?0:i.packageId),this.contract=i,this.isRefreshInProgress=!1,this.reportType=this.contract&&1===this.contract.reportType?1:0,this.contentTileType=1===this.reportType?a.ty.RdlReport:a.ty.Report}getPermissions(){var i;return this.getPermissionsCallback&&null!=(i=this.getPermissionsCallback())?i:this.contract&&this.contract.permissions}get canWrite(){return(0,e.yE)(this.getPermissions(),C.Write)}get canCopy(){return(0,e.yE)(this.getPermissions(),C.CopyOnWrite)}get canExplore(){return(0,e.yE)(this.getPermissions(),C.Explore)}}var C=function(y){return y[y.None=0]="None",y[y.Read=1]="Read",y[y.Write=2]="Write",y[y.ReShare=4]="ReShare",y[y.Explore=8]="Explore",y[y.CopyOnWrite=17]="CopyOnWrite",y[y.ReadWrite=3]="ReadWrite",y[y.ReadReshare=5]="ReadReshare",y[y.Personalized=11]="Personalized",y[y.All=7]="All",y}({})},734311:function(Ce,k,r){r.d(k,{H:function(){return e}});var a=r(176188);class e extends a._{constructor(t,C,y){super(C),this.uniqueId=e.getUniqueId(C,t,y)}static getUniqueId(t,C,y){return t+"_"+C+"_"+y}}},176188:function(Ce,k,r){r.d(k,{_:function(){return a}});class a{constructor(u){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=u}}},963124:function(Ce,k,r){r.d(k,{$Z:function(){return y},a0:function(){return C},a6:function(){return i},x9:function(){return t}});var a=r(531905),e=r(230373),u=r(772080),t=function(o){return o[o.NotSpecified=0]="NotSpecified",o[o.NotStart=1]="NotStart",o[o.Progressing=2]="Progressing",o[o.Failed=3]="Failed",o[o.Passed=4]="Passed",o}({});class C{constructor(c,h){this.localizationService=h,this.refreshSettings=c,this.refreshSectionExpand=!1}get showWeekDays(){return 10080===this.refreshSettings.refreshFrequency}get showRefreshTimeInfo(){var c=this.refreshSettings.refreshFrequency;return 1440===c||10080===c}get refreshFrequencyString(){return this.refreshSettings.refreshFrequency.toString()}set refreshFrequencyString(c){this.refreshSettings.refreshFrequency=parseInt(c,10)}get weekdayKeys(){return i.weekdayKeys()}get refreshTimeWindows(){return i.refreshTimeWindows(this.localizationService)}get refreshTimeHourWindows(){return i.refreshTimeHourWindows(this.localizationService)}get refreshTimeMinuteWindows(){return i.refreshTimeMinuteWindows(this.localizationService)}get refreshTimeAmPmWindows(){return i.refreshTimeAmPmWindows(this.localizationService)}get refreshTimeZones(){return i.refreshTimeZones(this.localizationService)}get refreshTimeZonesViewModel(){return i.refreshTimeZonesViewModel(this.localizationService)}}class y{constructor(c,h,d,n,s,p,l,m,b,V){this.localizationService=V,this.contract=c,this.modelId=h,this.name=d,this.description=n,this.lastRefreshFailed=s,this.lastRefreshFailedMessage=p,this.nextRefresh=l,this.refreshSettingsModel=new C(m,V),this.parameters=b,this.takenOver=!1,this.isDirty=!1,this.areDatasourcesDirty=!1,this.isQnaDirty=!1,this.paSupported=c?.paSupported,this.paEnabled=c?.paEnabled,this.paSettings=c?.paSettings,this.hasAggregationTable=c?.hasAggregationTable,this.directLakeAutoSync=c?.directLakeAutoSync,this.directLakeMode=c?.directLakeMode,this.directLakeAutoSyncResult=c?.directLakeAutoSyncResult,this.storageMode=c?.storageMode,this.isQsoSupported=c?.isQsoSupported,this.isQsoManualSyncWithPendingUpdates=c?.isQsoManualSyncWithPendingUpdates,this.qsoCommitVersionTimestamp=c?.qsoCommitVersionTimestamp}get takeoverStatusText(){return this.lastTakeoverUPN?this.getTakeoverStatusTextForUser(this.lastTakeoverUPN):this.lastTakeoverEmailAddress?this.getTakeoverStatusTextForUser(this.lastTakeoverEmailAddress):this.lastTakeoverText?this.localizationService.format("SettingsDataset_TakeOverStatusText_Before",[this.lastTakeoverText]):this.localizationService.get("SettingsDataset_TakeOverStatusTextNullUser_Before")}get takeoverButtonText(){return this.localizationService.get(this.takenOver?"SettingsDataset_TakeOverButton_CancelTakeOver":"SettingsDataset_TakeOverButton_TakeOver")}get hasDatasourceWithWrongCredentials(){return this.datasources&&_.some(this.datasources,c=>!c.isCloudDirectQuery&&c.testConnectionState!==t.Passed)}get showSkipTestConnectionWarning(){return _.some(this.datasources,c=>!0===c.skipTestConnection)}get hasDirectQueryDatasourceWithMissingCredentials(){return this.datasources&&_.some(this.datasources,c=>c.isCloudDirectQuery&&c.testConnectionState===t.Failed)}get hasRDataSource(){return this.datasources&&_.some(this.datasources,c=>c.datasourceType===u.ye.Extension&&(c.name===a.kJ$||c.fullName===a.kJ$))}get isPlainDirectQueryOrOnPremModel(){return y.isPlainDirectQueryOrOnPremModel(this.contract)}static isPlainDirectQueryOrOnPremModel(c){return c.dataCacheMode===e.Vv.DirectQuery||!_.isEmpty(c.onPremModelConnectionString)}getTakeoverStatusTextForUser(c){return this.localizationService.format(this.takenOver?"SettingsDataset_TakeOverStatusText_After":"SettingsDataset_TakeOverStatusText_Before",['<a href=mailto:"'+c+'">'+c+"</a>"])}}class i{constructor(){}static weekdayKeys(){return["SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Sunday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Monday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Tuesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Wednesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Thursday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Friday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Saturday"]}static refreshTimeWindows(c){return[c.get("SettingsDataset_ScheduleRefresh_TimeWindow_1"),c.get("SettingsDataset_ScheduleRefresh_TimeWindow_2"),c.get("SettingsDataset_ScheduleRefresh_TimeWindow_3"),c.get("SettingsDataset_ScheduleRefresh_TimeWindow_4")]}static refreshTimeHourWindows(c){return[c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_1"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_2"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_3"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_4"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_5"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_6"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_7"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_8"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_9"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_10"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_11"),c.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_12")]}static refreshTimeMinuteWindows(c){return[c.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_00"),c.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_30")]}static refreshTimeAmPmWindows(c){return[c.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Am"),c.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Pm")]}static refreshTimeZones(c){return{"Dateline Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Dateline_Standard_Time"),"UTC-11":c.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_11"),"Hawaiian Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Hawaiian_Standard_Time"),"Alaskan Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Alaskan_Standard_Time"),"Pacific Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time"),"Pacific Standard Time (Mexico)":c.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time_Mexico"),"Mountain Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time"),"Mountain Standard Time (Mexico)":c.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time_Mexico"),"US Mountain Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_US_Mountain_Standard_Time"),"Canada Central Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Canada_Central_Standard_Time"),"Central America Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_America_Standard_Time"),"Central Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time"),"Central Standard Time (Mexico)":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time_Mexico"),"Eastern Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Eastern_Standard_Time"),"SA Pacific Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Pacific_Standard_Time"),"US Eastern Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_US_Eastern_Standard_Time"),"Venezuela Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Venezuela_Standard_Time"),"Atlantic Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Atlantic_Standard_Time"),"Central Brazilian Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Brazilian_Standard_Time"),"Pacific SA Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_SA_Standard_Time"),"SA Western Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Western_Standard_Time"),"Paraguay Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Paraguay_Standard_Time"),"Newfoundland Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Newfoundland_Standard_Time"),"E. South America Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_E_South_America_Standard_Time"),"Greenland Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Greenland_Standard_Time"),"Montevideo Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Montevideo_Standard_Time"),"SA Eastern Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Eastern_Standard_Time"),"Argentina Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Argentina_Standard_Time"),"Mid-Atlantic Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Mid_Atlantic_Standard_Time"),"UTC-02":c.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_2"),"Azores Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Azores_Standard_Time"),"Cape Verde Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Cabo_Verde_Standard_Time"),"GMT Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_GMT_Standard_Time"),"Greenwich Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Greenwich_Standard_Time"),"Morocco Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Morocco_Standard_Time"),UTC:c.get("SettingsDataset_ScheduleRefresh_Timezone_UTC"),"Central Europe Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Europe_Standard_Time"),"Central European Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_European_Standard_Time"),"Romance Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Romance_Standard_Time"),"W. Central Africa Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_W_Central_Africa_Standard_Time"),"W. Europe Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_W_Europe_Standard_Time"),"Namibia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Namibia_Standard_Time"),"E. Europe Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_E_Europe_Standard_Time"),"Egypt Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Egypt_Standard_Time"),"FLE Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_FLE_Standard_Time"),"GTB Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_GTB_Standard_Time"),"Israel Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Israel_Standard_Time"),"Jordan Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Jordan_Standard_Time"),"Middle East Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Middle_East_Standard_Time"),"South Africa Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_South_Africa_Standard_Time"),"Syria Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Syria_Standard_Time"),"Turkey Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Turkey_Standard_Time"),"Arab Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Arab_Standard_Time"),"Arabic Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Arabic_Standard_Time"),"E. Africa Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_E_Africa_Standard_Time"),"Kaliningrad Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Kaliningrad_Standard_Time"),"Iran Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Iran_Standard_Time"),"Russian Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Russian_Standard_Time"),"Arabian Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Arabian_Standard_Time"),"Azerbaijan Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Azerbaijan_Standard_Time"),"Caucasus Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Caucasus_Standard_Time"),"Georgian Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Georgian_Standard_Time"),"Mauritius Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Mauritius_Standard_Time"),"Afghanistan Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Afghanistan_Standard_Time"),"West Asia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_West_Asia_Standard_Time"),"Pakistan Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Pakistan_Standard_Time"),"India Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_India_Standard_Time"),"Sri Lanka Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Sri_Lanka_Standard_Time"),"Nepal Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Nepal_Standard_Time"),"Ekaterinburg Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Ekaterinburg_Standard_Time"),"Central Asia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Asia_Standard_Time"),"Bangladesh Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Bangladesh_Standard_Time"),"Myanmar Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Myanmar_Standard_Time"),"N. Central Asia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_N_Central_Asia_Standard_Time"),"SE Asia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_SE_Asia_Standard_Time"),"North Asia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_Standard_Time"),"China Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_China_Standard_Time"),"Singapore Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Singapore_Standard_Tim"),"Taipei Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Taipei_Standard_Time"),"W. Australia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_W_Australia_Standard_Time"),"Ulaanbaatar Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Ulaanbaatar_Standard_Time"),"North Asia East Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_East_Standard_Time"),"Korea Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Korea_Standard_Time"),"Tokyo Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Tokyo_Standard_Time"),"AUS Central Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Central_Standard_Time"),"Cen. Australia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Cen_Australia_Standard_Time"),"Yakutsk Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Yakutsk_Standard_Time"),"AUS Eastern Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Eastern_Standard_Time"),"E. Australia Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_E_Australia_Standard_Time"),"Tasmania Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Tasmania_Standard_Time"),"West Pacific Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_West_Pacific_Standard_Time"),"Vladivostok Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Vladivostok_Standard_Time"),"Central Pacific Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Pacific_Standard_Time"),"Magadan Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Magadan_Standard_Time"),"Fiji Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Fiji_Standard_Time"),"New Zealand Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_New_Zealand_Standard_Time"),"UTC+12":c.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Plus_12"),"Tonga Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Tonga_Standard_Time"),"Samoa Standard Time":c.get("SettingsDataset_ScheduleRefresh_Timezone_Samoa_Standard_Time")}}static refreshTimeZonesViewModel(c){var h=[];return _.forOwn(this.refreshTimeZones(c),(d,n)=>{h.push({key:n,value:d})}),h}}},844516:function(Ce,k,r){function a(){return[{name:"\u0627\u0644\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u0629",code:"ar",lcid:"1025"},{name:"Basque",code:"eu",lcid:"1069"},{name:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",code:"bg",lcid:"1026"},{name:"catal\xe0",code:"ca",lcid:"1027"},{name:"\u4e2d\u6587(\u7b80\u4f53)",code:"zh-Hans",lcid:"2052"},{name:"\u4e2d\u6587(\u7e41\u9ad4)",code:"zh-Hant",lcid:"1028"},{name:"hrvatski",code:"hr",lcid:"1050"},{name:"\u010de\u0161tina",code:"cs",lcid:"1029"},{name:"dansk",code:"da",lcid:"1030"},{name:"Nederlands",code:"nl",lcid:"1043"},{name:"English",code:"en-US",lcid:"1033"},{name:"eesti",code:"et",lcid:"1061"},{name:"suomi",code:"fi",lcid:"1035"},{name:"fran\xe7ais",code:"fr",lcid:"1036"},{name:"galego",code:"gl",lcid:"1110"},{name:"Deutsch",code:"de",lcid:"1031"},{name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",code:"el",lcid:"1032"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",code:"he",lcid:"1037"},{name:"\u0939\u093f\u0902\u0926\u0940",code:"hi",lcid:"1081"},{name:"magyar",code:"hu",lcid:"1038"},{name:"Bahasa Indonesia",code:"id",lcid:"1057"},{name:"italiano",code:"it",lcid:"1040"},{name:"\u65e5\u672c\u8a9e",code:"ja",lcid:"1041"},{name:"\u049a\u0430\u0437\u0430\u049b",code:"kk",lcid:"1087"},{name:"\ud55c\uad6d\uc5b4",code:"ko",lcid:"1042"},{name:"latvie\u0161u",code:"lv",lcid:"1062"},{name:"lietuvi\u0173",code:"lt",lcid:"1063"},{name:"Bahasa Melayu",code:"ms",lcid:"1086"},{name:"norsk (bokm\xe5l)",code:"no",lcid:"1044"},{name:"Polski",code:"pl",lcid:"1045"},{name:"Portugu\xeas (Brasil)",code:"pt-BR",lcid:"1046"},{name:"Portugu\xeas (Portugal)",code:"pt-PT",lcid:"2070"},{name:"rom\xe2n\u0103",code:"ro",lcid:"1048"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",lcid:"1049"},{name:"\u0441\u0440\u043f\u0441\u043a\u0438",code:"sr-Cyrl",lcid:"3098"},{name:"srpski",code:"sr-Latn",lcid:"2074"},{name:"sloven\u010dina",code:"sk",lcid:"1051"},{name:"slovenski",code:"sl",lcid:"1060"},{name:"espa\xf1ol",code:"es",lcid:"1034"},{name:"svenska",code:"sv",lcid:"1053"},{name:"\u0e44\u0e17\u0e22",code:"th",lcid:"1054"},{name:"T\xfcrk\xe7e",code:"tr",lcid:"1055"},{name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",code:"uk",lcid:"1058"},{name:"Ti\u1ebfng Vi\u1ec7t",code:"vi",lcid:"1066"}]}r.d(k,{Q:function(){return a}})},435313:function(Ce,k,r){r.d(k,{y:function(){return i}});var a=r(939123),e=r(845856),u=r(616113);class i{constructor(c,h){this.promiseFactory=c,this.httpService=h,a.fF.assertValue(c,"promiseFactory"),a.fF.assertValue(h,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}startMonitoring(c=0){this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(()=>{this.sendLongPollRequest()},c))}setLongPollInitialized(c){this.longPollInitialized=c}cancelCurrentRequest(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)}pause(){this.paused=!0,this.cancelCurrentRequest()}resume(){this.paused=!1,this.startMonitoring()}trySendRequest(c){var h=this.requestOptions,d=h.headers.Authorization,n=!1;if(d){var s=d.split(" ");n=s.length>1&&!(0,u.g)(s[1])&&"undefined"!==s[1]}if(n)return this.httpService.post(this.getEndpointUrl(),{request:c},h);e.f.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")}get requestHeader(){return null}get longPollDurationInMs(){return 6e4}get requestOptions(){var c=this.requestDeferred;a.fF.assertValue(c,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(()=>{this.lastLongPollTimedOut=!0,c.resolve(null)},this.longPollDurationInMs);var h=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return h.retryCount=0,h.timeout=c.promise,h.silentlyFailOnExpiry=!0,h}sendLongPollRequest(){if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var c=this.getRequest();if(!c)return void this.reset();var h=this.trySendRequest(c);if(!h)return;h.then(d=>{this.retryCount=0,this.requestDeferred.resolve(null),this.processResponse(d.data),this.sendLongPollRequest()},d=>{this.requestDeferred.resolve(null),this.lastLongPollTimedOut?(this.retryCount=0,this.sendLongPollRequest()):this.lastLongPollCancelled?this.retryCount=0:this.retryCount<3?(this.retryCount++,this.sendLongPollRequest()):(this.processError(d&&d.error),this.suspend())})}}suspend(){var c=this.promiseFactory.defer();c.promise.then(()=>{this.cancelCurrentRequest(),this.startMonitoring()});var h=d=>{d&&(this.httpService.unregisterResponseCallback(h),c.resolve(null))};this.httpService.registerResponseCallback(h),setTimeout(()=>{c.resolve(null)},12e4)}reset(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1}}},738287:function(Ce,k,r){r.d(k,{z:function(){return i}});var a=r(94567),e=r(939123),u=r(343331),t=r(41827),C=window;function y(o,c,h=!0,d){var p,l,n=(0,u.Xr)(),s="";switch(h&&(s=a.s.getQueryStringValue("unmin")?"":".min"),c){case 0:p="scripts",l=".js";break;case 1:p="styles",l=".css";break;case 2:p="externals",l=".js";break;case 3:p="externals",l=".css";break;default:e.fF.assertNever(c)}var m=[n];if("True"===C.useCDN&&C.hashMappings){var b;b=d?[d,p,`${o}${s}${l}`].join("/"):[p,`${o}${s}${l}`].join("/");var V=(0,t.i)();V.isRtlLayout&&(1===c||3===c)&&(b=b.indexOf(".min")>-1?b.replace(".min.css",".rtl.min.css"):b.replace(".css",".rtl.css"));var g=C.hashMappings[b];if(!g&&V.isRtlLayout&&(1===c||3===c)&&(b=b.replace(".rtl.min.css",".min.rtl.css"),g=C.hashMappings[b]),g)return[m=C.cdnUrl,g.substring(0,g.indexOf(l))].join("/")}return d&&m.push(d),[...m||[],p,`${o}${s}`].join("/")}function i(){return{waitSeconds:9007199254740991,paths:{"angular-ui-datetimepicker":y("angular-ui-datetimepicker",2,!0),"d3-array":y("d3-array",2,!0),"d3-geo":y("d3-geo",2,!0),"es6-promise":y("es6-promise",2,!0),filesaver:y("filesaver",2,!0),"jquery-qrcode":y("jquery-qrcode",2,!0),"jquery-ui":y("jquery-ui",2,!0),msrcrypto:y("msrcrypto",2,!0),ngTagsInput:y("ngTagsInput",2,!0),pubnub:y("pubnub",2,!0),quill:y("quill",2,!0),resizeSensor:y("resizeSensor",2,!0),"powerbi-models":y("powerbi-models",2,!0),topojson:y("topojson",2,!0),cropperjs:y("cropper",2,!0),"globalize.cultures":y("jquery.globalize/globalize.cultures",0,!1)},bundles:{},cssPaths:{"jquery-ui":y("jquery-ui.min",3,!1),ngTagsInput:y("ngTagsInput",3,!0),"quill.core":y("quill.core",3,!1),cropperjs:y("cropper",3,!1),accessibleTableVisual:y("accessibleTableVisual",1,!0),adminPortal:y("adminPortal",1,!0),advancedSlicerVisual:y("advancedSlicerVisual",1,!0),aiNarrativesVisual:y("aiNarrativesVisual",1,!0),azureMapVisuals:y("azureMapVisuals",1,!0),capacityAdmin:y("capacityAdmin",1,!0),cardVisual:y("cardVisual",1,!0),exploreUIDialogs:y("exploreUIDialogs",1,!0),getData:y("getData",1,!0),mobileAuthoring:y("mobileAuthoring",1,!0),permissions:y("permissions",1,!0),pivotTableVisuals:y("pivotTableVisuals",1,!0),rdlVisual:y("rdlVisual",1,!0),scorecardVisual:y("scorecardVisual",1,!0),settings:y("settings",1,!0),sharing:y("sharing",1,!0),textSlicerVisual:y("textSlicerVisual",1,!0)}}}},781391:function(Ce,k,r){r.d(k,{I:function(){return u}});var a=r(21545),e=r(96569);function u(t,C,y){return(0,e.I)((0,a.k2)(t,C),y)}},286132:function(Ce,k,r){r.d(k,{CJ:function(){return n},I:function(){return e},Zg:function(){return u},a9:function(){return h},av:function(){return d},eg:function(){return i},gY:function(){return o},lV:function(){return t},lZ:function(){return c},p2:function(){return m},sw:function(){return p}});var a=r(821026),e=44,u=50,t=4,i=1,o=1,c=2*i,h=2*o,d=3*i,n=3*o;function p(){return{rowSpan:c,colSpan:h}}function m(P){return{height:P.rowSpan*a.lT-a.zy,width:P.colSpan*a.A4-a.zy}}p()},821026:function(Ce,k,r){r.d(k,{A4:function(){return a},lT:function(){return e},zy:function(){return u}});var a=260,e=180,u=10},671722:function(Ce,k,r){r.d(k,{Ue:function(){return t},pi:function(){return y},rc:function(){return e},yx:function(){return u}});var a=r(310420),e="x-powerbi-error-info",u="x-powerbi-error-details";function t(i,o,c,h){var d={method:i,url:o};return void 0!==h&&(d.data=h),Object.assign(d,c)}function y(i){(0,a.hG)().httpService=i}},879413:function(Ce,k,r){r.d(k,{h1:function(){return e},oY:function(){return u},pm:function(){return y}});var a=r(310420);function e(o){return o||(0,a.hG)().localize}function u(o){(0,a.hG)().localize=o}function y(){return(0,a.hG)().localizedStrings}},914877:function(Ce,k,r){r.d(k,{n$:function(){return e},uD:function(){return t}});var a=r(310420);function e(){return(0,a.hG)().cultureInfo}function t(){return(0,a.hG)().unmappedCultureInfo}},944754:function(Ce,k,r){r.d(k,{z:function(){return y}});var a=r(374630),e=r(531905),u=r(939123),t=r(298180),C=r(527346);function y(s,p,l,m){return new n(s,p,l,m)}var i="overlayActive",o="overlay";class n{constructor(p,l,m,b){this.root=m,this.rtl=b,this.dropdowns=[],this.$window=$(p).on(t.Ti+".overlayService",V=>this.mouseClickHideDialog(V,this.dropdowns)).on("resize.overlayService",()=>this.hideAllDropdowns()),this.root=m||$("body")}onDestroy(){$(this.$window).off(t.Ti+".overlayService"),$(this.$window).off("resize.overlayService")}register(p,l){this.dropdowns.push({element:p}),p.addClass(o).appendTo(l||this.root)}unregister(p){_.remove(this.dropdowns,l=>l.element.is(p)),p.removeClass(o).removeClass(i).remove()}isRegistered(p){return _.some(this.dropdowns,l=>l.element.is(p))}mouseClickHideDialog(p,l){!_.some(this.dropdowns,b=>b.element.hasClass(i)&&!this.outOfBoundsClickHandler(p,b.element))&&this.hideAllDropdowns(!0)}showOverlay(p,l){if(u.fF.assert(()=>+!(!l.anchorElement&&!l.anchorDimensions)+ +!!l.position==1,"Must specify either position or [anchorElement and/or anchorDimensions], but not more than one"),u.fF.assert(()=>p.length>0,"element to show does not exist."),l.hideExistingOverlays&&this.hideAllDropdownsExcept(!0,p),p.addClass(i),p.attr("aria-modal","false"),p.attr("role","dialog"),l.anchorElement||l.anchorDimensions){l.blurNeeded&&this.registerBlurHandler(l.anchorElement,l.disableAnimation);var m=l.anchorDimensions||(0,C.E)(l.anchorElement);this.repositionDropdownWithAnchorCoordinates(p,m,!!l.preferLeft,l.horizontal,l.showOutsideAnchorElement,l.showIndicator,l.scale)}else l.position&&l.showInsideVisibleArea?this.repositionDropdownWithAnchorCoordinates(p,{left:l.position.x,top:l.position.y,width:0,height:0},!!l.preferLeft,!1,l.showOutsideAnchorElement,l.showIndicator,l.scale):l.position&&this.repositionDropdown(p,l.position);var b=_.filter(this.dropdowns,v=>v.element.is(p));if(!_.isEmpty(b)){var V=b[0];V.escHandler=v=>{this.keyPress(v,V,l.anchorElement)};var g=V.element.get(0);g&&g.addEventListener("keydown",V.escHandler),V.isModal=l.isModal,V.returnFocusToElement=l.returnFocusToElement}this.registerScrollHandler(),a.IK.focusChildInGroup(p.get(0))}registerScrollHandler(){setTimeout(()=>this.registerScrollHandlerCore())}registerScrollHandlerCore(){this.scrollEventListener||(this.scrollEventListener=p=>{this.isResizeSensorScrollEvent(p)||$(p.target).parents().addBack().hasClass(i)||this.hideAllDropdowns()},document.addEventListener("scroll",this.scrollEventListener,!0))}unregisterScrollHandler(){document.removeEventListener("scroll",this.scrollEventListener,!0),this.scrollEventListener=void 0}keyPress(p,l,m){!p.skipOverlayServiceEscHandler&&27===p.keyCode&&(m&&m.focus(),this.hideDropdown(l,!0),p.stopPropagation())}registerBlurHandler(p,l){p.on("focusout.overlay",m=>{p.off("focusout.overlay"),setTimeout(()=>this.hideAllDropdowns(!!l))})}getOverlayElement(p,l){var m=this.getOverlaySelector(p);return l?l.siblings(m):$(m)}getOverlaySelector(p){return`[dropdown-overlay-name="${p}"]`}outOfBoundsClickHandler(p,l){return!$(p.target).parents().addBack().hasClass(i)}repositionDropdownWithAnchorCoordinates(p,l,m,b,V,g,v){var E,w,I,W,O,f=this.$window.width(),S=this.$window.height(),P=p.find(".explorationAppBarMenu"),D=P.length?P.outerWidth(!0):p.outerWidth(!0),M=P.length?P.outerHeight(!0):p.outerHeight(!0),x=null==v?D:D*v,N=null==v?M:M*v,L=g?16:0,B=g?Math.floor(Math.sqrt(L*L+L*L)/2):0;if(b){var F,A,T;if(A=l.left,w=(O=N+(F=l.top)-L>S)?F+l.height-M+L:F-L,this.rtl&&this.rtl.isRtlLayout){var R=(T=A)-x-B<0;W=!R,E=R?T+B:T-D-B}else{var U=x+(T=A+l.width)+B>f;W=U,E=U?T-D-B:T+B}V&&E+D>=A&&E<T&&(E=A-D)}else{var j,z=l.top+l.height;if(w=(O=N+z-L>S)?z-M+L:z-L,m||this.rtl&&this.rtl.isRtlLayout){var H=(j=l.left+l.width)-D-B<0;W=!H,E=H?j-l.width+B:j-D-B}else E=(W=D+(j=l.left)+B>f)?j+l.width-D-B:j+B;E<0&&(E=j)}w<0&&(w=10);var G={x:Math.ceil(E),y:w};if(g){var J=l.top-G.y-L/2;J<0?J+=L:J>p.height()-L&&(J-=L),I={top:J},G.x>=l.left?I.left=-8:I.right=-8}this.repositionDropdown(p,G,I,v,W,O)}repositionDropdown(p,l,m,b,V,g){m&&p.append($.parseHTML(`<div class="indicator" style="position: absolute;transform: rotate(45deg);height: 16px;width: 16px;top: ${m.top}px;${m.left?`left: ${m.left}px`:`right: ${m.right}px`};"></div>`));var M={top:l.y,left:l.x};void 0!==b&&(M.transform=`scale(${b})`,M["transform-origin"]=`${V?"right":"left"} ${g?"bottom":"top"}`),p.css(M)}hideAllDropdowns(p,l,m){var b;l||(b=_.find(this.dropdowns,V=>V.isModal)),this.hideAllDropdownsExcept(p,b&&b.element)}hideAllDropdownsExcept(p,l){var m=[];for(var b of this.dropdowns)b&&!b.element.is(l)&&b.element.hasClass(i)&&(this.hideDropdown(b,p),m.push(b));this.removeAllFromRegister(m)}hideDropdown(p,l){if(p.escHandler){var m=p.element.get(0);m&&m.removeEventListener("keydown",p.escHandler),p.escHandler=null}p.returnFocusToElement&&p.returnFocusToElement.focus(),l?this.hideOverlay(p):p.element.animate({opacity:0},250,()=>this.hideOverlay(p)),this.unregisterScrollHandler(),this.removeSingleFromRegister(p)}removeSingleFromRegister(p){p.element.trigger(e.HV_)}removeAllFromRegister(p){_.forEach(p,l=>l.element.trigger(e.HV_))}hideOverlay(p){p.element.removeClass(i).removeAttr("style")}isResizeSensorScrollEvent(p){return p&&$(p.target).parent().hasClass("ResizeSensor")}}},667423:function(Ce,k,r){function a(e){var u=[];for(var t in e){var C=e[t];!C.start||!C.end||u.push({start:new Date(C.start).toISOString(),end:new Date(C.end).toISOString(),startEval:C.startEval?new Date(C.startEval).toISOString():void 0,endEval:C.endEval?new Date(C.endEval).toISOString():void 0,fileName:t})}return u}r.d(k,{p:function(){return a}})},41827:function(Ce,k,r){r.d(k,{B:function(){return e},i:function(){return u}});var a=r(310420);function e(){return(0,a.hG)().isCurrentContextRtl}function u(){return{isRtlLayout:"True"===e()}}},450619:function(Ce,k,r){r.d(k,{K:function(){return C},W:function(){return t}});var a=r(171520),e=r(270862),u=r(597627);function t(y,i){return null==y?!i:"string"==typeof y&&(0,e.cu)(y)}function C(y,i=[],o){var c=["background","foreground","accent","tableAccent","foreground","foregroundLight","foregroundDark","foregroundNeutralLight","foregroundNeutralDark","foregroundNeutralSecondary","foregroundNeutralSecondaryAlt","foregroundNeutralSecondaryAlt2","foregroundNeutralTertiary","foregroundNeutralTertiaryAlt","foregroundSelected","foregroundButton","background","backgroundLight","backgroundNeutral","backgroundDark","hyperlink","visitedHyperlink","shapeStroke","disabledText","mapPushpin","good","neutral","bad","maximum","center","minimum","null","firstLevelElements","secondLevelElements","thirdLevelElements","fourthLevelElements","secondaryBackground"],h=["title","label","callout","header","largeTitle","dataTitle","boldLabel","largeLabel","largeLightLabel","lightLabel","semiboldLabel","smallLabel","smallLightLabel","smallDataLabel"],d=["$schema","name","dataColors","textClasses","visualStyles","isHighContrast","icons"].concat(c,h,i);try{var n=(0,a.K)(y);if(_.isObject(n)&&!_.isArray(n)&&!o){var p=n.name;if(!p||!_.isString(p))throw new Error("Theme name missing");var l=n.dataColors;if(null!=l&&(!_.isArray(l)||_.some(l,f=>!t(f,!0))))throw new Error("Invalid theme data colors");for(var m of c)if(!t(n[m],!1))throw new Error("Invalid theme data color");for(var b in n)if(-1===d.indexOf(b))throw new Error("Invalid theme field: "+b);var V=n.textClasses;if(!_.isEmpty(V))for(var g in V)if(-1===h.indexOf(g))throw new Error("Invalid theme text class: "+g)}if(n){if(!_.isEmpty(n.dataColors)){var v=u.ng.getDefaultColors();n.dataColors.length<v.length&&(n.dataColors=n.dataColors.concat(v.slice(n.dataColors.length).map(f=>f.value)))}return n}}catch{}}},38640:function(Ce,k,r){function t(y){return new C(y)}r.d(k,{i0:function(){return t}});class C{constructor(i){this.promiseFactory=i,this.queueDictionaryForBigDelays={},this.queueDictionaryForSmallDelays={}}setTimeout(i=0,o=!1){var c=this.promiseFactory.defer(o),h=50,d=this.queueDictionaryForBigDelays;i<=100&&(h=5,d=this.queueDictionaryForSmallDelays);var n=-1===i?-1:i?Math.ceil((Date.now()+i)/h):0,s=d[n];if(!s){s=d[n]=[];var p=()=>{delete d[n],_.forEach(s,l=>l.resolve(null))};-1===i?Zone.root.scheduleMicroTask("TimeoutService.scheduleMicroTask",p):window.setTimeout(p,i)}return s.push(c),c}}},98448:function(Ce,k,r){r.d(k,{$9:function(){return Me},$d:function(){return Xe},Bl:function(){return pr},CF:function(){return le},F4:function(){return Gt},F5:function(){return Bt},Fx:function(){return ht},G7:function(){return W},GA:function(){return f},Gf:function(){return b},Gl:function(){return hr},Jw:function(){return Ue},Ob:function(){return ke},P9:function(){return De},PI:function(){return ve},Q5:function(){return de},SR:function(){return we},Sh:function(){return j},Sj:function(){return Ge},Sr:function(){return xr},VV:function(){return J},Wc:function(){return yt},Wm:function(){return Se},Xv:function(){return B},ZD:function(){return _e},Zp:function(){return It},_$:function(){return X},_m:function(){return yr},aR:function(){return tt},ao:function(){return Ht},bD:function(){return Kt},be:function(){return bt},eU:function(){return Q},eg:function(){return ae},f8:function(){return fe},fS:function(){return fr},fq:function(){return U},gP:function(){return N},gc:function(){return g},gu:function(){return ft},iE:function(){return Sr},j6:function(){return $t},jD:function(){return St},kG:function(){return Jt},lj:function(){return T},lt:function(){return Y},q0:function(){return Rr},qN:function(){return re},qi:function(){return At},rM:function(){return _r},ty:function(){return Ae},uL:function(){return C},vE:function(){return qe},vF:function(){return ct},xT:function(){return q},xb:function(){return P},xo:function(){return Ur},xx:function(){return F},zu:function(){return Ve}});var a=r(17933),e="PBI.Dashboard.BITokenRefreshPrompt",t=(a.cx[e]=(0,a.b1)(e),"PBI.Dashboard.FailedToRefreshToken"),C=a.cx[t]=(0,a.b1)(t),y="PBI.Dashboard.OpenLink",o=(a.cx[y]=(0,a.b1)(y),"PBI.MashUpContentProvider.ConnectButtonClicked"),h=(a.cx[o]=(0,a.b1)(o),"PBI.MashUpContentProvider.OrgAppPassThrough"),n=(a.cx[h]=(0,a.b1)(h),"PBI.MashUpContentProvider.PreparePackageSucceed"),p=(a.cx[n]=(0,a.b1)(n),"PBI.MashUpContentProvider.GetPackageModels"),m=(a.cx[p]=(0,a.b1)(p),"PBI.MashUpContentProvider.SaveModelParameters"),b=a.cx[m]=(0,a.b1)(m),V="PBI.MashUpContentProvider.GetAggregatedDatasourcesForImport",g=a.cx[V]=(0,a.b1)(V),v="PBI.MashUpContentProvider.UpdateDatasource",f=a.cx[v]=(0,a.b1)(v),S="PBI.MashUpContentProvider.ValidateParameters",P=a.cx[S]=(0,a.b1)(S),D="PBI.ContentProvider.UrlParametersPassed",E=(a.cx[D]=(0,a.b1)(D),"PBI.ContentProvider.UrlParametersDecodingFailed"),x=(a.cx[E]=(0,a.b1)(E),"PBI.ContentProvider.Http.GetContentProviders"),N=a.cx[x]=(0,a.b1)(x),L="PBI.Dashboard.SettingsDatasetsSaveRefreshSettings",B=a.cx[L]=(0,a.b1)(L),I="PBI.Dashboard.ParametersDialogSaveParameters",W=a.cx[I]=(0,a.b1)(I),O="PBI.Dashboard.RefreshNowFailedToRetrieveModel",F=a.cx[O]=(0,a.b1)(O),A="PBI.Dashboard.AuthenticationDialogSaveCredentials",T=a.cx[A]=(0,a.b1)(A),R="PBI.Dashboard.RetrieveGateway",U=a.cx[R]=(0,a.b1)(R),z="PBI.Dashboard.PrepareRefreshNow",j=a.cx[z]=(0,a.b1)(z),H="PBI.Dashboard.GetAggregatedDatasourcesForOneModel",q=a.cx[H]=(0,a.b1)(H),G="PBI.Dashboard.DatasetRefresh",J=a.cx[G]=(0,a.b1)(G),Z="PBI.Dashboard.DatasetRefreshCancellation",Q=a.cx[Z]=(0,a.b1)(Z),ne="PBI.Dashboard.InitializeSettingsDatasetModel",le=a.cx[ne]=(0,a.b1)(ne),he="PBI.Dashboard.GetRefreshHistory",Se=a.cx[he]=(0,a.b1)(he),Ke="PBI.Dashboard.GetGroupIcon",Ge=a.cx[Ke]=(0,a.b1)(Ke),ye="PBI.Dashboard.RefreshAndGetUserMetadata",we=a.cx[ye]=(0,a.b1)(ye),je="PBI.UserInfo.RefreshUserServicePlan",de=a.cx[je]=(0,a.b1)(je),Pe="PBI.UserInfo.GetSelfServiceEligibility",Ve=a.cx[Pe]=(0,a.b1)(Pe),Ze="PBI.UserInfo.GetIsModernCommerceAdmin",Ue=a.cx[Ze]=(0,a.b1)(Ze),Je="PBI.Quota.UpgradeInteraction",De=a.cx[Je]=(0,a.b1)(Je),ue="PBI.LicenseEnforcement.ShowFeatureDisabledDialog",_e=a.cx[ue]=(0,a.b1)(ue),te="PBI.LicenseEnforcement.ShowStartFreeTrialDialog",ke=a.cx[te]=(0,a.b1)(te),at="PBI.LicenseEnforcement.ShowUpgradeToProDialog",tt=a.cx[at]=(0,a.b1)(at),ut="PBI.LicenseEnforcement.Accept2017proTrial",ct=a.cx[ut]=(0,a.b1)(ut),Ne="PBI.LicenseEnforcement.AutoTrialAssignment",ae=a.cx[Ne]=(0,a.b1)(Ne),Le="PBI.LicenseEnforcement.LeadsCollection",X=a.cx[Le]=(0,a.b1)(Le),be="PBI.TeamsLicenseEnforcement.UpgradeNowClick",Ye=(a.cx[be]=(0,a.b1)(be),"PBI.TeamsLicenseEnforcement.UpgradeNowAbandon"),ee=(a.cx[Ye]=(0,a.b1)(Ye),"PBI.DashboardAndReports.Print"),ve=a.cx[ee]=(0,a.b1)(ee,{logExpAssignment:!0}),Te="PBI.DashboardAndReports.AnalyzeInExcel",Xe=a.cx[Te]=(0,a.b1)(Te,{logExpAssignment:!0}),He="PBI.DsrDataLimitsWarning",qe=a.cx[He]=(0,a.b1)(He),rt="PBI.DeprecatedNotificationToastUsage",Ee=(a.cx[rt]=(0,a.b1)(rt),"PBI.DomainHelper.GetVerifiedDomains"),fe=a.cx[Ee]=(0,a.b1)(Ee),Re="PBI.NewerExplorationVersion",re=a.cx[Re]=(0,a.b1)(Re),se="PBI.DeveloperVisualEnabledChanged",Ae=a.cx[se]=(0,a.b1)(se),ce="PBI.ModuleLoad",Me=a.cx[ce]=(0,a.b1)(ce),$e="PBI.ModuleLoadError",pt=(a.cx[$e]=(0,a.b1)($e),"ScriptVisualFilterAction"),Pt=(a.cx[pt]=(0,a.b1)(pt),"PBI.EX.CrossFilterScriptVisual"),At=a.cx[Pt]=(0,a.b1)(Pt),Ut="PBI.EX.FilterScriptVisual",Kt=a.cx[Ut]=(0,a.b1)(Ut),Qt="PBI.ClusterResolved",Xt=(a.cx[Qt]=(0,a.b1)(Qt),"PBI.DashboardAndReports.AuditEvent"),et=(a.cx[Xt]=(0,a.b1)(Xt),"PBI.DownloadReport"),ht=a.cx[et]=(0,a.b1)(et,{logExpAssignment:!0}),Nt="PBI.Settings.UpdateGateway",Qe=(a.cx[Nt]=(0,a.b1)(Nt),"PBI.Settings.DeleteGateway"),bt=a.cx[Qe]=(0,a.b1)(Qe),Rt="PBI.Settings.CreateDataSource",Gt=a.cx[Rt]=(0,a.b1)(Rt),ir="PBI.Settings.DeleteDataSource",Ht=a.cx[ir]=(0,a.b1)(ir),vr="PBI.Settings.BindModelToGateway",_r=a.cx[vr]=(0,a.b1)(vr),Fr="PBI.Settings.AddDataSourcePrincipals",Ur=a.cx[Fr]=(0,a.b1)(Fr),Pr="PBI.Settings.RemoveDataSourcePrincipals",Sr=a.cx[Pr]=(0,a.b1)(Pr),Or="PBI.Settings.AddGatewayPrincipals",xr=a.cx[Or]=(0,a.b1)(Or),zr="PBI.Settings.RemoveGatewayPrincipals",pr=a.cx[zr]=(0,a.b1)(zr),jr="PBI.Settings.UpdateCredentials",Rr=a.cx[jr]=(0,a.b1)(jr),Kr="PBI.Settings.OpenGatewayDatasourceUPNMappingPane",Dt=(a.cx[Kr]=(0,a.b1)(Kr),"PBI.Settings.UpdateGatewayDatasourceUPNMapping"),St=a.cx[Dt]=(0,a.b1)(Dt),Ct="PBI.Settings.TestGatewayDatasourceUPNMapping",Bt=a.cx[Ct]=(0,a.b1)(Ct),lr="PBI.App.JavaScriptParse",yr=a.cx[lr]=(0,a.b1)(lr),dr="PBI.App.PreemptiveQueryData",fr=a.cx[dr]=(0,a.b1)(dr),ur="PBI.GeocodingSummary",ft=a.cx[ur]=(0,a.b1)(ur,{logRatio:.1}),Et="PBI.GeocodingBatchSummary",It=a.cx[Et]=(0,a.b1)(Et,{logRatio:.1}),kt="PBI.GeocodingCacheLimitExceeded",Jt=a.cx[kt]=(0,a.b1)(kt,{logRatio:.1}),er="PBI.AzureMapsResponseMetrics",K=(a.cx[er]=(0,a.b1)(er),"PBI.SyncServiceUpdate"),Y=a.cx[K]=(0,a.b1)(K),xe="PBI.LicenseEnforcement.AccessCustomizedProperties",yt=a.cx[xe]=(0,a.b1)(xe),Tt="PBI.LicenseEnforcement.SelfServiceEligibilityNotLoaded",$t=a.cx[Tt]=(0,a.b1)(Tt),qt="PBI.Settings.OAuthPopup",hr=a.cx[qt]=(0,a.b1)(qt),gr="PBI.LegacyServiceUsed";a.cx[gr]=(0,a.b1)(gr)},666058:function(Ce,k,r){r.d(k,{AF:function(){return S},Et:function(){return s},K_:function(){return p},MJ:function(){return P},SW:function(){return g},TD:function(){return v},WE:function(){return i},Z6:function(){return D},cD:function(){return h},pZ:function(){return m},py:function(){return x},um:function(){return f},vq:function(){return o}});var a=r(939123),e="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",u=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t=[.6,.4,.2,.1,0],C=[-.1,-.2,-.3,-.5,-.6],y=[.6,.4,.2,-.25,-.5];function i(W,O,F){var A,T,R,U=Math.floor(6*W),z=6*W-U,j=F*(1-O),H=F*(1-z*O),q=F*(1-(1-z)*O);switch(U%6){case 0:A=F,T=q,R=j;break;case 1:A=H,T=F,R=j;break;case 2:A=j,T=F,R=q;break;case 3:A=j,T=H,R=F;break;case 4:A=q,T=j,R=F;break;case 5:A=F,T=j,R=H}return[Math.round(255*A),Math.round(255*T),Math.round(255*R)]}function o(W,O,F){return"#"+c(W)+c(O)+c(F)}function c(W){var O=W.toString(16);return 1===O.length?"0"+O:O}function h(W,O){var F=D(W);return null===F?"":O||0===O?"rgba("+F.r+","+F.g+","+F.b+","+O+")":"rgb("+F.r+","+F.g+","+F.b+")"}function s(W,O){if(p(W))return h(W,O);if(function(W){return/^hsl\(\d{1,3}(,\s?\d{1,3}%){2}\)|^hsla\((\d{1,3}%?,\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(W)}(W)){var F=function(W){var F,O=/^hsla?\((\d{1,3}),\s?(\d{1,3})%,\s?(\d{1,3})%(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(W);if(!O)return null;O[5]&&(F=parseFloat(O[5])),O[6]&&(F=parseFloat(O[6]));var A=parseInt(O[1],10);A%=360;var T=parseInt(O[2],10);T=T>100?100:T;var R=parseInt(O[3],10);return{h:A,s:T,l:R=R>100?100:R,a:F}}(W);return"hsla("+F.h+","+F.s+"%,"+F.l+"%,"+(F.a||0===F.a?F.a:O)+")"}if(function(W){return/^rgb\(\d{1,3}(,\s?\d{1,3}){2}\)|^rgba\((\d{1,3},\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(W)}(W)){var T=function(W){var F,O=/^rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(W);if(!O)return null;O[5]&&(F=parseFloat(O[5])),O[6]&&(F=parseFloat(O[6]));var A=parseInt(O[1],10);A=A>255?255:A;var T=parseInt(O[2],10);T=T>255?255:T;var R=parseInt(O[3],10);return{r:A,g:T,b:R=R>255?255:R,a:F}}(W);return"rgba("+T.r+","+T.g+","+T.b+","+(T.a||0===T.a?T.a:O)+")"}return""}function p(W){return null!=W&&!!W.match(e)}function m(W){return a.fF.assertValue(W,"color"),function(W){return"#FFFFFF"===W||"#FFF"===W}(W)?C:function(W){return"#000000"===W||"#000"===W}(W)?t:y}function g(W){return p(W)||p(W="#"+W)?W:null}function v(W){return 1-W/100}function f(W){var O=D(W);return(.299*O.r+.587*O.g+.114*O.b)/255}function S(W){return W&&!!W.match("^#([A-Fa-f0-9]{3})$")}function P(W,O){return W=(W=O?W.substring(1):W).replace(u,function(F,A,T,R){return A+A+T+T+R+R}),O?"#"+W:W}function D(W){W=P(W,!1);var O=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(W);return O?{r:parseInt(O[1],16),g:parseInt(O[2],16),b:parseInt(O[3],16)}:null}function x(W,O,F){W/=255,O/=255,F/=255;var R,U,A=Math.max(W,O,F),T=Math.min(W,O,F),z=A,j=A-T;if(U=0===A?0:j/A,A===T)R=0;else{switch(A){case W:R=(O-F)/j+(O<F?6:0);break;case O:R=(F-W)/j+2;break;case F:R=(W-O)/j+4}R/=6}return[R,U,z]}},810715:function(Ce,k,r){function a(e){return{dsrV2:e.dsrV2||e.dsrV2_Staging,queryCancellation:e.queryCancellation,telemetryV2:e.telemetryV2,scopedAggregates:e.scopedAggregates,addVisualIdToQueryDataAsHttpBodyId:e.addVisualIdToQueryDataAsHttpBodyId,queryContext:e.queryContext,lruCacheEvictionPolicy:e.lruCacheEvictionPolicy,categoricalSecondaryCF:e.categoricalSecondaryCF,useEnrichedApplicationContext:e.useEnrichedApplicationContext,disallowLongRunningQueries:e.disallowLongRunningQueries,visualCalculationOnComboChart:e.visualCalculationOnComboChart,visualTopN:e.visualTopN}}r.d(k,{u:function(){return a}})},463822:function(Ce,k,r){r.d(k,{q:function(){return u}});var a=r(939123),e=/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/;class u{static generateId(C,y){return`${C||""}${u.generateUUID()}${y||""}`}static generateShortId(C){return(Math.random().toString(36)+"00000000000000000").slice(2,C+2)}static generateUniqueId(C,y,i){a.fF.assertValue(C,"usedIds");for(var o,c=0;void 0===o||C[o];){if(++c>1e3){a.fF.assertFail("iterationCount is greater than 1000 while generating a unique id");break}o=u.generateId(y,i)}return o}static isGuid(C){if(_.isEmpty(C)||36!==C.length)return!1;var y=C.match(e);return!_.isEmpty(y)&&1===y.length}static generateUUID(){var C=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(C+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(y){var i=C+16*Math.random()&15;return C>>=4,i.toString(16)})}}},527346:function(Ce,k,r){function a(e){var u=e.offset();return{left:u.left,top:u.top,width:e.outerWidth(!0),height:e.outerHeight(!0)}}r.d(k,{E:function(){return a}})},579730:function(Ce,k,r){r.d(k,{C:function(){return t}});var a=r(939123);function e(C){if(C){var i,y=C.value();if(C.firstChange?(C.firstChange=!1,i=!0):C.equal(y,C.oldValue)||(i=!1),void 0!==i){var o=C.oldValue;C.oldValue=C.copy(y),C.onChange(y,o,i)}}}class t{constructor(){this.watches={}}has(y){return null!=this.watches[y]}add(y,i,o,c){var h,d;a.fF.assertValue(y,"id"),a.fF.assert(()=>!this.watches[y],`Added watch twice: ${y}`),a.fF.assertValue(i,"value"),a.fF.assertValue(o,"onChange"),c&&2===c.mode?(h=(n,s)=>_.isEqual(n,s),d=n=>_.cloneDeep(n)):c&&1===c.mode?(h=(n,s)=>function(C,y){if(!C||!y)return C===y;var i=C.length;if(i!==y.length)return!1;for(var o=i;o-- >0;)if(C[o]!==y[o])return!1;return!0}(n,s),d=n=>_.clone(n)):(h=(n,s)=>n===s,d=n=>n),this.watches[y]={id:y,value:i,onChange:o,firstChange:!0,equal:h,copy:d}}remove(y){delete this.watches[y]}doCheck(){_.forEach(this.watches,e)}}},531905:function(Ce,k,r){r.d(k,{$Ez:function(){return M},AsH:function(){return cr},Deb:function(){return Mt},F15:function(){return ia},F3x:function(){return K},HV_:function(){return B},HhA:function(){return Ht},I8X:function(){return V},IBn:function(){return Nt},ISm:function(){return Dr},Imn:function(){return e},Jam:function(){return g},KRp:function(){return E},LBm:function(){return Kr},M0n:function(){return kt},M6c:function(){return jr},OsI:function(){return yt},Pg6:function(){return y},PpD:function(){return Nr},Px$:function(){return Ur},Q15:function(){return pe},RCq:function(){return w},RGx:function(){return pa},S9q:function(){return Kt},SZk:function(){return f},SlI:function(){return oe},Td2:function(){return D},Va2:function(){return Vt},WMs:function(){return ht},Wnf:function(){return Rr},Yh0:function(){return vr},_W6:function(){return qr},a4P:function(){return Sr},bTS:function(){return Fr},c41:function(){return vt},cP$:function(){return At},cmI:function(){return We},dJM:function(){return C},eBl:function(){return v},gMq:function(){return pt},hOU:function(){return Et},jb4:function(){return o},k4X:function(){return Gr},kJ$:function(){return O},kWQ:function(){return Xt},ly2:function(){return F},miy:function(){return ft},nDG:function(){return P},nKy:function(){return Oe},ne5:function(){return wt},p5r:function(){return he},qvT:function(){return S},r2l:function(){return $t},r90:function(){return rr},rEb:function(){return N},sVl:function(){return L},uMK:function(){return u},uTR:function(){return ur},uWP:function(){return t},wku:function(){return W},yOS:function(){return Ae},ykK:function(){return _r},ykb:function(){return Qt},ymx:function(){return b}});var a=r(230373),e="ActivityId",u="RequestId",t="x-ms-root-activity-id",C="http",y="X-PowerBI-UploadFileSize",o="refreshAccessToken",b="azure",V="office",g="trial",v="dc",f=673,S=860,P=940,D=578,M="/openReport",E="/openWorkbook",w="/openQnA",N="/openInsights",L="/openUrl",B="overlay.close",W="me",O="R",F="sobe_onpremisevirtualserver",he="selectedQueryId",Ae={name:"datasetDatasourceUpdated",type:4},pt=980,wt=640,At={name:"datasetShowAuthDialog",type:4},Kt={name:"datasetShowParameterDialogAfterInvalidParameter",type:4},Qt="ContentProvider_InvalidModelParameter",rr=127,Xt=8,cr=48,ht="enterPrintModeEvent",Nt="exitPrintModeEvent",Ht="PackageOperationInProgress",vr="DataRefreshTooSoon",_r="OnPremiseServiceException",Fr="RefreshNotSupportedFFXL",Ur="CloudRLSAccessDeniedErrorCode",Sr=location.origin||location.protocol+"//"+location.hostname,jr="contentProviderStoreCancelModalDialogMessage",Rr="contentProviderStoreCloseModalDialogMessage",Kr="contentProviderStoreGoBackModalDialogMessage",Vt="contentProviderStoreGoToAppDocModalDialogMessage",ur=6,ft=7,Et=26,kt=1073741824,K=1004,yt=10,$t=2147483647,We=[{backendUri:void 0,hostNameMatch:["invalidHostName"],index:0},{backendUri:"https://wabi-us-east2-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east2"],index:1},{backendUri:"https://wabi-us-east-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east","wabi-staging-us-east"],index:2},{backendUri:"https://wabi-us-north-central-redirect.analysis.windows.net",hostNameMatch:["wabi-us-north-central"],index:3},{backendUri:"https://wabi-south-central-us-redirect.analysis.windows.net",hostNameMatch:["wabi-south-central-us","wabi-us-south-central-backup"],index:4},{backendUri:"https://df-msit-scus-redirect.analysis.windows.net",hostNameMatch:["df-msit-scus"],index:5},{backendUri:"https://wabi-west-us-redirect.analysis.windows.net",hostNameMatch:["wabi-west-us","wabi-tip-west-us"],index:6},{backendUri:"https://df-msit-wus-redirect.analysis.windows.net",hostNameMatch:["df-msit-wus"],index:7},{backendUri:"https://wabi-north-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-north-europe","wabi-europe-north2","wabi-europe-north-b"],index:8},{backendUri:"https://wabi-west-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-west-europe","wabi-europe-west2"],index:9},{backendUri:"https://wabi-south-east-asia-redirect.analysis.windows.net",hostNameMatch:["wabi-south-east-asia","wabi-east-asia"],index:10},{backendUri:"https://wabi-staging-a7-redirect.analysis.windows.net",hostNameMatch:["wabi-staging-a7"],index:11},{backendUri:"https://biazure-int-edog-redirect.analysis-df.windows.net",hostNameMatch:["biazure-int-edog","bi-azure-int3"],index:12},{backendUri:"https://fabric-shared-edog-redirect.analysis-df.windows.net",hostNameMatch:["fabric-shared-edog"],index:13}],Oe="dsr";function Nr(Ot){var zt=Ot.contentProviderId;return 103===zt||102===zt||Ot.packageType===a.yR.UsageMetricsV2}function Dr(Ot){return Ot?.packageType===a.yR.Scorecard}function qr(Ot){return Ot?.originalPackageType===a.yR.Scorecard}function Gr(Ot){return 103===Ot||102===Ot}var pa=60,ia="invitationCode",oe="i",pe="00000000-0000-0000-0000-000000000000",vt=2147483647,Mt=[22,43,44,45,46,47,48,49]},230373:function(Ce,k,r){r.d(k,{Bs:function(){return h},GY:function(){return p},Kx:function(){return u},UX:function(){return t},Vv:function(){return d},kQ:function(){return s},mx:function(){return c},nW:function(){return l},tP:function(){return y},ty:function(){return n},wg:function(){return i},yR:function(){return o},zS:function(){return C}}),r(826153),r(666451);var u=["PowerBIServicePlan0"],t=["PowerBIServicePlan1","PowerBIServicePlan2","PowerBIServicePlan3"],C=["PowerBIServicePlan3"],y=["PowerBIServicePlan1"],i=["PowerBIServicePlan1","PowerBIServicePlan2"],o=function(m){return m[m.Undefined=0]="Undefined",m[m.AppTemplate=1]="AppTemplate",m[m.AppInstance=2]="AppInstance",m[m.AppCopy=3]="AppCopy",m[m.UsageMetricsV2=4]="UsageMetricsV2",m[m.ProtectionMetrics=5]="ProtectionMetrics",m[m.AdminUsageMetrics=6]="AdminUsageMetrics",m[m.AdminPerformanceMetrics=7]="AdminPerformanceMetrics",m[m.Sample=8]="Sample",m[m.Scorecard=9]="Scorecard",m[m.TeamsAnalytics=10]="TeamsAnalytics",m[m.Datamart=11]="Datamart",m[m.AdminMonitoring=12]="AdminMonitoring",m[m.AuditLogSearchDataflow=13]="AuditLogSearchDataflow",m[m.AdminInsightsUsageMetrics=14]="AdminInsightsUsageMetrics",m[m.AdminInsights=15]="AdminInsights",m[m.SeeThruModel=16]="SeeThruModel",m}({}),c=function(m){return m.None="",m.BuiltIn="BuiltIn",m.Organizational="Organizational",m.Services="Services",m.OrganizationalTemplate="OrganizationalTemplate",m.OrganizationalApp="OrganizationalApp",m.ServiceApp="ServiceApp",m.OrganizationalTemplateApp="OrganizationalTemplateApp",m.PowerBIServiceApp="PowerBIServiceApp",m}({}),h=function(m){return m[m.Service=1]="Service",m[m.Organizational=2]="Organizational",m[m.File=3]="File",m[m.Sample=4]="Sample",m[m.Learn=5]="Learn",m[m.BigDataAndMore=6]="BigDataAndMore",m[m.Dataflows=7]="Dataflows",m[m.OrgContentPacks=8]="OrgContentPacks",m[m.Apps=9]="Apps",m}({}),d=function(m){return m[m.Import=0]="Import",m[m.DirectQuery=1]="DirectQuery",m[m.Mixed=2]="Mixed",m}({}),n=function(m){return m[m.Favorite=1]="Favorite",m[m.Report=2]="Report",m[m.Dashboard=4]="Dashboard",m[m.Workbook=8]="Workbook",m[m.OrgApp=16]="OrgApp",m[m.MRU=128]="MRU",m[m.Workspace=256]="Workspace",m[m.Dataset=512]="Dataset",m[m.AppPlaceHolder=1024]="AppPlaceHolder",m[m.RdlReport=2048]="RdlReport",m[m.CdsaModel=4096]="CdsaModel",m[m.StreamingCdsaModel=8192]="StreamingCdsaModel",m[m.Scorecard=16384]="Scorecard",m[m.StreamingDataset=32768]="StreamingDataset",m[m.Datamart=65536]="Datamart",m}({}),s=function(m){return m[m.AlmPipelineDeployment=0]="AlmPipelineDeployment",m[m.AutomaticAggregationsEnabled=1]="AutomaticAggregationsEnabled",m[m.IncrementalRefreshEnabled=2]="IncrementalRefreshEnabled",m[m.LiveConnectModel=3]="LiveConnectModel",m[m.ModifiedByXmlaEndpoint=4]="ModifiedByXmlaEndpoint",m[m.NonV3Model=5]="NonV3Model",m[m.SharedCapacityModel=6]="SharedCapacityModel",m}({}),p=function(m){return m[m.Shared=0]="Shared",m[m.Dedicated=1]="Dedicated",m[m.ASAzure=2]="ASAzure",m[m.ASOnPrem=3]="ASOnPrem",m}({}),l=function(m){return m[m.Dashboard=1]="Dashboard",m[m.Report=2]="Report",m[m.App=3]="App",m[m.RdlReport=4]="RdlReport",m[m.ResourcePackage=5]="ResourcePackage",m[m.Artifact=6]="Artifact",m[m.Datamart=7]="Datamart",m}({})},772080:function(Ce,k,r){r.d(k,{JL:function(){return C},Rf:function(){return e},TA:function(){return h},ZG:function(){return o},d3:function(){return y},uY:function(){return n},uk:function(){return i},ye:function(){return c}});var e=function(s){return s[s.Resource=0]="Resource",s[s.Personal=1]="Personal",s[s.VirtualNetwork=2]="VirtualNetwork",s[s.TenantCloud=3]="TenantCloud",s}({}),C=function(s){return s[s.Live=0]="Live",s[s.NotInstalled=1]="NotInstalled",s[s.NotReachable=2]="NotReachable",s[s.Installed=3]="Installed",s}({}),y=function(s){return s[s.NotSpecified=0]="NotSpecified",s[s.Windows=1]="Windows",s[s.Anonymous=2]="Anonymous",s[s.Basic=3]="Basic",s[s.Key=4]="Key",s[s.OAuth2=5]="OAuth2",s[s.EffectiveUserName=6]="EffectiveUserName",s[s.SingleSignOn=7]="SingleSignOn",s[s.WindowsWithoutImpersonation=8]="WindowsWithoutImpersonation",s[s.SAS=9]="SAS",s[s.ServicePrincipal=10]="ServicePrincipal",s[s.WorkspaceIdentity=11]="WorkspaceIdentity",s}({}),i=function(s){return s[s.None=0]="None",s[s.Private=1]="Private",s[s.Organizational=2]="Organizational",s[s.Public=3]="Public",s}({}),o=function(s){return s[s.None=0]="None",s[s.Kerberos=1]="Kerberos",s[s.AzureActiveDirectory=2]="AzureActiveDirectory",s[s.SAML=3]="SAML",s[s.KerberosDQAndRefresh=4]="KerberosDQAndRefresh",s}({}),c=function(s){return s[s.SqlServer=0]="SqlServer",s[s.AnalysisServices=1]="AnalysisServices",s[s.SAP=2]="SAP",s[s.File=3]="File",s[s.Folder=4]="Folder",s[s.Oracle=5]="Oracle",s[s.Teradata=6]="Teradata",s[s.SharePointList=7]="SharePointList",s[s.Web=8]="Web",s[s.OData=9]="OData",s[s.DB2=10]="DB2",s[s.MySql=11]="MySql",s[s.PostgreSql=12]="PostgreSql",s[s.Sybase=13]="Sybase",s[s.Extension=14]="Extension",s[s.SAPBW=15]="SAPBW",s[s.AzureTable=16]="AzureTable",s[s.AzureBlob=17]="AzureBlob",s[s.Informix=18]="Informix",s[s.ODBC=19]="ODBC",s[s.SharePoint=21]="SharePoint",s[s.GoogleAnalytics=25]="GoogleAnalytics",s[s.Exchange=27]="Exchange",s[s.Facebook=28]="Facebook",s[s.HDInsight=29]="HDInsight",s[s.AzureMarketplace=30]="AzureMarketplace",s[s.ActiveDirectory=31]="ActiveDirectory",s[s.OleDb=35]="OleDb",s[s.AdoDotNet=36]="AdoDotNet",s[s.Salesforce=39]="Salesforce",s[s.SAPBWMessageServer=41]="SAPBWMessageServer",s[s.Essbase=43]="Essbase",s[s.AzureDataLakeStorage=44]="AzureDataLakeStorage",s[s.CDPA=47]="CDPA",s}({}),h=function(s){return s[s.EffectiveUserName=0]="EffectiveUserName",s[s.CustomData=1]="CustomData",s}({}),n=function(s){return s[s.AadSSO=0]="AadSSO",s}({})},847472:function(Ce,k,r){r.d(k,{l:function(){return e},m:function(){return a}});var a=function(u){return u[u.NewFeatureProductMessage=0]="NewFeatureProductMessage",u[u.DashboardSharing=2]="DashboardSharing",u[u.DashboardAddedToGroup=3]="DashboardAddedToGroup",u[u.Trial=5]="Trial",u[u.DataDrivenAlert=6]="DataDrivenAlert",u[u.AccessRequest=14]="AccessRequest",u[u.TemplateAppsUpdateAvailable=29]="TemplateAppsUpdateAvailable",u[u.CapacityOverloaded=34]="CapacityOverloaded",u[u.CapacityAutoScaled=35]="CapacityAutoScaled",u[u.CapacityAutoScaleMaximumReached=36]="CapacityAutoScaleMaximumReached",u[u.TeamsAppInstallation=42]="TeamsAppInstallation",u[u.ScdProvisioningFailed=62]="ScdProvisioningFailed",u[u.DynamicMessage=999]="DynamicMessage",u}({}),e=function(u){return u[u.DashboardContentPackNewVersion=0]="DashboardContentPackNewVersion",u[u.UsersNotifications_SharedDashboard=1]="UsersNotifications_SharedDashboard",u[u.ExtendTrial_TrialExpired=2]="ExtendTrial_TrialExpired",u[u.UsersNotifications_TrialRunsOutInLessThanADay=3]="UsersNotifications_TrialRunsOutInLessThanADay",u[u.UsersNotifications_TrialRunningOut=4]="UsersNotifications_TrialRunningOut",u[u.UsersNotifications_TitleTrialExpired=5]="UsersNotifications_TitleTrialExpired",u[u.UsersNotifications_UserName=6]="UsersNotifications_UserName",u[u.UsersNotifications_GoToApp=7]="UsersNotifications_GoToApp",u[u.UsersNotifications_GoToDashboard=8]="UsersNotifications_GoToDashboard",u[u.UsersNotifications_TrialRunsOutInOneDay=9]="UsersNotifications_TrialRunsOutInOneDay",u[u.UsersNotifications_TitleTrialRunsOutInOneDay=10]="UsersNotifications_TitleTrialRunsOutInOneDay",u[u.UsersNotifications_TitleTrialRunsOutInLessThanADay=11]="UsersNotifications_TitleTrialRunsOutInLessThanADay",u[u.UsersNotifications_TitleTrialRunningOut=12]="UsersNotifications_TitleTrialRunningOut",u[u.UsersNotifications_RequestExtensionLinkText=13]="UsersNotifications_RequestExtensionLinkText",u[u.UsersNotifications_DataDrivenAlert=14]="UsersNotifications_DataDrivenAlert",u[u.UsersNotifications_GroupName=15]="UsersNotifications_GroupName",u[u.UsersNotifications_NewDashboard=16]="UsersNotifications_NewDashboard",u[u.UsersNotifications_TileName=17]="UsersNotifications_TileName",u[u.UsersNotifications_DataDrivenDown=18]="UsersNotifications_DataDrivenDown",u[u.UsersNotifications_DataDrivenUp=19]="UsersNotifications_DataDrivenUp",u[u.UsersNotifications_GoToTile=20]="UsersNotifications_GoToTile",u[u.UsersNotifications_DatasetSettingChangeTitle=21]="UsersNotifications_DatasetSettingChangeTitle",u[u.UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage=22]="UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage",u[u.UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage=23]="UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage",u[u.Generic_LearnMore=24]="Generic_LearnMore",u[u.UsersNotifications_Upgrade=25]="UsersNotifications_Upgrade",u[u.UsersNotifications_GoToConversation=27]="UsersNotifications_GoToConversation",u[u.UsersNotifications_AtMentionedInComment=28]="UsersNotifications_AtMentionedInComment",u[u.FolderNotifications_ServiceAppsUpdateAvailable=29]="FolderNotifications_ServiceAppsUpdateAvailable",u[u.FolderNotifications_GetServiceAppUpdate=30]="FolderNotifications_GetServiceAppUpdate",u[u.UsersNotifications_FeaturedContentEnabledTitle=31]="UsersNotifications_FeaturedContentEnabledTitle",u[u.UsersNotifications_FeaturedContentEnabledMessage=32]="UsersNotifications_FeaturedContentEnabledMessage",u[u.UsersNotifications_GoToAdminPortal=33]="UsersNotifications_GoToAdminPortal",u[u.UsersNotifications_GoToAdminPortalCapacity=34]="UsersNotifications_GoToAdminPortalCapacity",u[u.UsersNotifications_GoToReportAccess=37]="UsersNotifications_GoToReportAccess",u[u.UsersNotifications_RequestedAccess=38]="UsersNotifications_RequestedAccess",u[u.UsersNotifications_AlertTitle=1e3]="UsersNotifications_AlertTitle",u[u.UsersNotifications_AlertExceeded=1001]="UsersNotifications_AlertExceeded",u[u.UsersNotifications_AlertWentBelow=1002]="UsersNotifications_AlertWentBelow",u[u.UsersNotifications_AlertAction=1003]="UsersNotifications_AlertAction",u[u.UsersNotifications_AlertExceededNoTileName=1004]="UsersNotifications_AlertExceededNoTileName",u[u.UsersNotifications_AlertWentBelowNoTileName=1005]="UsersNotifications_AlertWentBelowNoTileName",u[u.UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple=1200]="UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple",u[u.UsersNotifications_LineChartAnomalyAlert_DatetimeSingle=1201]="UsersNotifications_LineChartAnomalyAlert_DatetimeSingle",u[u.UsersNotifications_LineChartAnomalyAlert_OtherMultiple=1202]="UsersNotifications_LineChartAnomalyAlert_OtherMultiple",u[u.UsersNotifications_LineChartAnomalyAlert_OtherSingle=1203]="UsersNotifications_LineChartAnomalyAlert_OtherSingle",u[u.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded=1204]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded",u[u.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow=1205]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow",u[u.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded=1206]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded",u[u.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow=1207]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow",u[u.UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded=1208]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded",u[u.UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow=1209]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow",u[u.UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded=1210]="UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded",u[u.UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow=1211]="UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow",u[u.UsersNotifications_CapacityAutoscaled_Title=2e3]="UsersNotifications_CapacityAutoscaled_Title",u[u.UsersNotifications_CapacityAutoscaled=2001]="UsersNotifications_CapacityAutoscaled",u[u.UsersNotifications_CapacityThrottled_Title=2002]="UsersNotifications_CapacityThrottled_Title",u[u.UsersNotifications_CapacityThrottled=2003]="UsersNotifications_CapacityThrottled",u[u.UsersNotifications_TeamsAppInstallationSuccess=2101]="UsersNotifications_TeamsAppInstallationSuccess",u[u.UsersNotifications_TeamsAppInstallationOpen=2102]="UsersNotifications_TeamsAppInstallationOpen",u[u.UsersNotifications_SCDProvisioningFailure_Title=2201]="UsersNotifications_SCDProvisioningFailure_Title",u[u.UsersNotifications_SCDProvisioningFailure_Message=2202]="UsersNotifications_SCDProvisioningFailure_Message",u[u.UsersNotifications_SCDProvisioningFailure_ContactUs=2203]="UsersNotifications_SCDProvisioningFailure_ContactUs",u}({})},511501:function(Ce,k,r){r.d(k,{S:function(){return a}});class a{constructor(u){u&&(this.uniqueId=u.objectId,this.displayName=u.displayName,this.capacity=u.capacityObjectId&&{id:u.capacityObjectId,name:u.capacityName,region:u.region},this.contract=u,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!u||!u.isMyWorkspace),this.folderType=u.folderType||u.type)}getPermissions(){}}},168349:function(Ce,k,r){r.d(k,{g:function(){return t}});var a=r(737466),e=r(511501),u=window;class t extends e.S{constructor(y){super(y),y&&(this.id=y.id,this.description=y.description,this.icon=y.iconUrl&&a.b$.urlCombine(u.clusterUri,y.iconUrl),this.permissions=y.permissions,this.contacts=y.contacts,this.allowContributorUpdateApp=y.allowContributorUpdateApp,this.defaultDatasetStorageMode=y.defaultDatasetStorageMode,this.type=y.type,this.folderType=y.type,this.domainObjectId=y.domainObjectId,this.allowWebModeling=y.allowWebModeling,this.datasourceBindingSecurityMode=y.datasourceBindingSecurityMode)}get folderContract(){return this.contract}get sharePointStorage(){return this.folderContract.sharePointStorage}set sharePointStorage(y){this.folderContract.sharePointStorage=y}}},458159:function(Ce,k,r){r.d(k,{Z:function(){return t}});var a=r(230373),e=r(511501);class u{constructor(y){this.contextMenuItemList=[],y&&y.metadata&&(y.metadata.contextMenuItemList.forEach(i=>{this.contextMenuItemList.push(i)}),this.contextMenuSeparatorPosition=y.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),y&&y.isMyWorkspace?this.contextMenuItemList.push({linkType:9}):(this.contextMenuItemList.push(y.isOwner?{linkType:5}:{linkType:6}),this.contextMenuItemList.push({linkType:7}))}}class t extends e.S{constructor(y){super(y),y&&(this.aadGroupId=y.objectId,this.metadata=new u(y)),this.lastOwnershipFilter=0,this.contentTileType=a.ty.Workspace}}},238326:function(Ce,k,r){r.d(k,{$2:function(){return de},Bc:function(){return l},C_:function(){return Se},Co:function(){return I},Dy:function(){return v},Dz:function(){return B},Fw:function(){return d},HC:function(){return q},I9:function(){return p},IV:function(){return we},Ix:function(){return C},JX:function(){return i},Jp:function(){return Ge},M_:function(){return je},NI:function(){return N},NR:function(){return V},Ng:function(){return h},Nq:function(){return A},OH:function(){return x},Ol:function(){return H},Qv:function(){return m},Rb:function(){return Z},S7:function(){return Pe},TJ:function(){return he},U1:function(){return R},W5:function(){return M},W8:function(){return Ze},WL:function(){return e},Wv:function(){return le},Y4:function(){return z},Yd:function(){return o},Yi:function(){return T},Yl:function(){return t},Z$:function(){return g},Z3:function(){return S},_0:function(){return w},_O:function(){return f},_u:function(){return ye},a_:function(){return u},c8:function(){return E},fI:function(){return c},fN:function(){return F},fQ:function(){return O},hW:function(){return U},nB:function(){return b},nv:function(){return W},og:function(){return Ve},oy:function(){return j},p5:function(){return ne},pi:function(){return s},rn:function(){return n},t:function(){return P},tK:function(){return y},uL:function(){return J},x6:function(){return L},yl:function(){return Q},z$:function(){return D},z8:function(){return Ke},zD:function(){return G}});var a=r(875757),e=0,u=60,t=0,C=360,y=a.a.grayscaleLight,i=0,o=22,c=10,h=1,d=1,n=50,s=1,p=10,l=0,m=20,b=0,V=1,g=60,v="backgroundDark",f=.5,S=0,P=5,D=0,M=5,E="pixels",w=1,x=200,N=4e6,L=0,B=5,I=5e3,W=128,O=100,F=0,A=-180,T=180,R=-90,U=90,z=Math.pow(2,53)-1,j="bubbleDataSource",H="heatMapDataSource",q="filledMapDataSource",G="barChart3DDataSource",J="referenceDataSource",Z="pathDataSource",Q="bubbleLayer",ne="heatMapLayer",le="barChart3DLayer",he="unselectedBarChart3DLayer",Se="filledMapFillLayer",Ke="filledMapOutlineLayer",Ge="clusterBubbleLayer",ye="clusterSymbolLayer",we="pathLayer",je="pathBubbleLayer",de="AzureMaps",Pe="AzureMaps_MapsControlLoad",Ve="AzureMaps_SHPJSLoad",Ze={bubbleStrokeOpacity:1,bubbleStrokeWidth:2}},125868:function(Ce,k,r){r.d(k,{N:function(){return d}});var a=r(900222),e=r(424519),u=r(939123),t=r(132640),C=r(123537),y=r(336508),i=r(377176),o=r(528836),c=r(412413),h=r(329551);class d{constructor(s,p){this.hostService=s,this.behavior=p,this.isInvertedSelectionMode=!1,this.isSearchUpdateMode=!1,this.selected=[]}static buildDefaultValueFilter(s,p=!1){u.fF.assertNonEmpty(s,".buildDefaultValueFilter columns should not be empty");var l=[],m=[],b=p?l:m;for(var V of s){var g=1===V.parameter?.kind,v=!!V.parameter?.supportsSelectAll,f=null!=(0,C.NA)(V.objects,a.gO.general.defaultValue);g&&v||f?b.push(...d.getMetadataColumnIdentityExprs(V)):b=l}if(!_.isEmpty(l)||!_.isEmpty(m))return i.yl.getDefaultAnyValueFilter(m,l)}static getMetadataColumnIdentityExprs(s){return _.isEmpty(s.identityExprs)?[s.expr]:s.identityExprs}setDefaultValueMode(s){this.useDefaultValue=s}bind(s,p){this.selected=_.filter(s,l=>l.selected),this.behavior.bindEvents(p,this),this.behavior.renderSelection()}setSelected(s){this.selected=_.isEmpty(s)?[]:_.filter(s,p=>p.selected)}setSelectionModeInverted(s){this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=s}setColumns(s){this.columns=s,this.columnExprs=_.map(s,p=>p.expr),this.supportsDefaultValueByLevel=_.map(s,p=>null!=(0,C.NA)(p.objects,a.gO.general.defaultValue))}hasSelection(){return!_.isEmpty(this.selected)}isSelectionModeInverted(){return this.isInvertedSelectionMode}setQueryNameByLevel(s){this.queryNameByLevel=s}persistSelfFilter(s,p){var l=(0,h.H4)(this.columnExprs,p);this.hostService.persistProperties(d.createChangeForProperty(s,l))}setSearchMode(s){this.isSearchUpdateMode=s}isSearchMode(){return this.isSearchUpdateMode}handleClearSelection(){if(this.previouslySelected=this.selected.slice(),this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!1,!(1===this.selected.length&&this.isStrictSingleSelect||this.hasDefaultValue()&&this.useDefaultValue)){var s=this.hostService.getLocalizedString("Slicer_ClearSelectionsCleared");this.hostService.alertWithDebounce("announce-clear-selection",s),this.useDefaultValue=!0,this.resetSelected(),this.behavior.renderSelection()}}persistSelectionFilter(s,p=!1,l,m=!1){var b=this.getFilterFromDataPoints();if(b&&!_.isEmpty(this.selected)){var V=this.toFilterExpressionMetadata(this.selected);this.hostService.setFilterExpressionMetadata(V)}var g=d.createChangeForProperty(s,b),f=d.createChangeForProperty(a.gO.data.isInvertedSelectionMode,!(p||!this.isInvertedSelectionMode)||null);if(m){var S=d.createChangeForProperty(a.gO.general.selfFilter,null);this.mergeObjectInstancesToPersist(g,S)}g=this.mergeObjectInstancesToPersist(g,f),this.hostService.persistProperties(g,l),this.sendSelectionToHost()}getDataMultiSelectMode(){return this.hostService.dataMultiSelectMode()}sendSelectionToHost(){if(this.hostService.onSelect){var s=_.isEmpty(this.selected)?[]:_.map(this.selected,V=>V.identity),p=e.Bt.createSelectEventArgs(s,0),l=_.isEmpty(this.previouslySelected)?[]:_.map(this.previouslySelected,V=>V.identity),m=e.Bt.createSelectEventArgs(l,0),b=_.size(p.visualObjects)!==_.size(m.visualObjects)||_.some(p.visualObjects,(V,g)=>!(0,t.Ic)(V.selectorsByColumn,m.visualObjects[g].selectorsByColumn));p.fireDataSelectedEvent=b||this.isInvertedSelectionMode!==this.previousInversionMode,this.hostService.onSelect(p)}}handleSelection(s,p,l){if(this.onSelecting(s,l))return!1;var m=s.partially,b=s.selected;this.useDefaultValue=!1,this.previouslySelected=this.selected.slice(),0===p||this.isStrictSingleSelect?this.resetSelected():this.clearDataPointState(s);var V=this.getDataPointSelectedState(s,p,m,b);return this.updateSelectedState(s,V),this.behavior.renderSelection(),!0}getDataPointSelectedState(s,p,l,m){return l?(0,h.OO)(s,this.isInvertedSelectionMode)?s.selected:!s.selected:!!this.isStrictSingleSelect||(0===p?!m||this.selected.length>1:!m)}onSelecting(s,p){var l=(0,h.No)(s,this.queryNameByLevel),m={type:0,visualObjects:[{objectName:e.Bt.dataPointObjectName,selectorsByColumn:l.selector}],position:p};return this.hostService.onSelecting(m),0!==m.action&&null!=m.action}updateSelectedState(s,p){var l=s.selected;s.selected=p,l!==p&&(this.clearDataPointState(s,!0),this.updateParentState(s)),s.selected?this.selected.push(s):l&&!s.selected&&_.remove(this.selected,s)}setStrictSingleSelect(s,p){this.isStrictSingleSelect=s,this.adjustStrictSingleSelectSelection(p)}resetSelected(){_.isEmpty(this.selected)||_.each(this.selected,s=>s.selected=!1),this.selected=[]}clearDataPointState(s,p=!1){if(p||(s.selected&&_.remove(this.selected,s),s.selected=!1),!_.isEmpty(s.children)&&s.partially)for(var l of(s.partially=!1,s.children))this.clearDataPointState(l)}updateParentState(s){if(s.parent)for(var p=s.parent;p;)p.partially=!!s.selected||_.some(p.children,l=>l.selected),p=p.parent}mergeObjectInstancesToPersist(s,p){var l={};return l.merge=s.merge,l.remove=s.remove,_.isEmpty(p.merge)||(l.merge=l.merge||[],l.merge.push(...p.merge||[])),_.isEmpty(p.remove)||(l.remove=l.remove||[],l.remove.push(...p.remove||[])),l}toFilterExpressionMetadata(s){if(!_.isEmpty(s)){var p={expressions:this.columnExprs,cachedValueItems:[]},l=0;for(var m of s){for(var b=m,V={identities:[],valueMap:{}};b;)V.identities.unshift(b.scopeIdentity),V.valueMap[b.level]=b.value,l=Math.max(l,b.level),b=b.parent;p.cachedValueItems.push(V)}return p.expressions=this.columnExprs.slice(0,l+1),p}}isDisableMultipleSelectForMappedColumn(){return _.some(this.columns,p=>1===p.parameter?.kind&&!p.parameter?.supportsMultipleValues)}toggleSelectionModeInversion(s=!1){return this.previouslySelected=this.selected.slice(),this.useDefaultValue=!1,this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!this.isInvertedSelectionMode,this.resetSelected(),s&&this.hostService.persistProperties(d.createChangeForProperty(a.gO.data.isInvertedSelectionMode,!!this.isInvertedSelectionMode||null)),this.behavior.renderSelection(),this.isInvertedSelectionMode}getFilterFromDataPoints(){var s=(0,h.R6)({columns:this.columns});if(_.isEmpty(this.selected)&&(this.hasDefaultValue()||this.isInvertedSelectionMode&&s))return d.buildDefaultValueFilter(this.columns,!this.useDefaultValue||s);var l=this.buildSelectorsByLevel();if(l){var m=d.buildExprForHierarchyFilter(l.selected,l.unselected,s);return m=this.ensureAnyFilter(m,l.maxLevel),i.yl.fromSQExpr(m)}}static buildExprForHierarchyFilter(s,p,l){var m=d.buildExprsFromSelectorsByLevel(s),b=d.buildExprForUnselectedState(p,!l);return m&&b?m=(0,o.xD)(m,b):b&&(m=b),m}ensureAnyFilter(s,p){var l=p+1;if(l<this.columns.length){for(var m=(0,o.n7)(),b=[],V=l;V<this.columns.length;V++)this.supportsDefaultValueByLevel[V]&&b.push(...d.getMetadataColumnIdentityExprs(this.columns[V]));if(!_.isEmpty(b)){var g=Array.apply(null,Array(b.length)).map(()=>m);s=(0,o.xD)(s,(0,c.R)(b,g))}}return s}static getInExprByLevel(s){var l,p=(0,t.Li)(s);for(var m of p){var b=(0,y.FD)(m);l=l?(0,o.or)(l,b):b||m}return l}hasDefaultValue(){if(!_.isEmpty(this.columns))return null!=(0,C.NA)(this.columns[0].objects,a.gO.general.defaultValue)}static buildExprsFromSelectorsByLevel(s,p=!1){var l;for(var m in s){var b=d.getInExprByLevel(s[m]);l=l?(0,o.or)(l,b):b}return p&&l&&(l=(0,o.ff)(l)),l}buildSelectorsByLevel(){if(!_.isEmpty(this.selected)){var s={},p={},l={},m=0;for(var b of this.selected){for(var V=-1,g=b,v={data:[]};g;)v.data.unshift(g.scopeIdentity),g=g.parent,V++;if(m=Math.max(m,V),(0,h.OO)(b,this.isInvertedSelectionMode)){var f=this.getFirstUnselectedParent(b,this.isInvertedSelectionMode),S=s;f&&(S=this.ensureState(f,l).selectedChildren),S[V]=S[V]||[],S[V].push(v)}else{var D=this.ensureState(b,l);D.selector=v,p[V]=p[V]||[],p[V].push(D)}}return{selected:s,unselected:p,maxLevel:m}}}static buildExprForUnselectedState(s,p){var l,m={};for(var b in s){var V=s[b],g=[],v=[];for(var f of V)_.isEmpty(f.selectedChildren)?v.push(f.selector):g.push(f);if(_.isEmpty(v)||(m[b]=v),!_.isEmpty(g)){var S=d.getExprForUnselectedStateWithSelection(g);l=l?(0,o.xD)(S,l):S}}var P=d.buildExprsFromSelectorsByLevel(m,p);return l?(0,o.xD)(P,l):P}static getExprForUnselectedStateWithSelection(s){var p;for(var l of s){var m=d.buildExprsFromSelectorsByLevel(l.selectedChildren),b=(0,o.ff)(d.getInExprByLevel([l.selector])),V=(0,o.or)(m,b);p=p?(0,o.xD)(V,p):V}return p}ensureState(s,p){var l=p[s.identity.getKey()];return l||(l={selector:{},selectedChildren:{}},p[s.identity.getKey()]=l),l}getFirstUnselectedParent(s,p){for(;s;){if(s.selected&&!(0,h.OO)(s,p))return s;s=s.parent}}static createChangeForProperty(s,p){var l={},m={objectName:s.objectName,selector:void 0,properties:l};return null==p?(l[s.propertyName]={},{remove:[m]}):(l[s.propertyName]=p,{merge:[m]})}adjustStrictSingleSelectSelection(s){if(this.isStrictSingleSelect&&!_.isEmpty(s)&&(1!==_.filter(s,g=>g.selected).length||this.isInvertedSelectionMode)){var l;if(s.length>1){for(var m of s)if(m.selected&&!this.isInvertedSelectionMode||!m.selected&&this.isInvertedSelectionMode){l=m;break}if(!l)if((0,h.R6)({columns:this.columns})){for(var V of s)if(!V.disabled){l=V;break}}else l=s[0]}this.isInvertedSelectionMode&&this.toggleSelectionModeInversion(null==l),l&&(l.selected=!0,this.selected=[l],this.persistSelectionFilter(a.gO.general.filter,void 0,!0))}}}},329551:function(Ce,k,r){r.d(k,{AM:function(){return I},Cq:function(){return de},H4:function(){return q},HR:function(){return x},Id:function(){return Ze},Iy:function(){return w},K5:function(){return he},M7:function(){return A},Mj:function(){return B},NV:function(){return E},No:function(){return H},OO:function(){return Z},PB:function(){return Pe},PG:function(){return at},Qi:function(){return U},R6:function(){return Ke},VD:function(){return Q},Wm:function(){return ye},X$:function(){return J},dq:function(){return Se},fz:function(){return le},gy:function(){return Ve},hY:function(){return F},hx:function(){return we},nD:function(){return ke},nQ:function(){return G},oE:function(){return te},pD:function(){return W},qo:function(){return Je},rX:function(){return je},s8:function(){return N},s9:function(){return _e},td:function(){return ne},tm:function(){return Ue},uN:function(){return L},uT:function(){return D},vx:function(){return T},zJ:function(){return j}});var a=r(279176),e=r(547586),u=r(520628),t=r(864237),C=r(270862),y=r(160590),i=r(528836),o=r(571619),c=r(29498),h=r(265230),d=r(205754),n=r(191337),s=r(397129),p=r(377176),l=r(900222),m=r(100120),b=(0,e.CH)("clearSearchTextButton"),v=((0,e.CH)("headerContainer"),(0,e.CH)("slicerHeader"),(0,e.CH)("hidden")),f=(0,e.CH)("icon"),D=((0,e.CH)("titleHeader"),(0,e.CH)("headerText"),(0,e.CH)("slicerBody")),E=((0,e.CH)("slicerLabel"),(0,e.CH)("slicerText")),w=(0,e.CH)("slicerImage"),x=(0,e.CH)("slicerCountText"),N=(0,e.CH)("searchHeader"),L=(0,e.CH)("searchIcon"),B=(0,e.CH)("searchInput"),I=(0,e.CH)("collapsed"),W=(0,e.CH)("show"),F=((0,e.CH)("isMultiSelectEnabled"),(0,e.CH)("enable-hover")),A=(0,e.CH)("disableScrollHover"),T="SelectAll",R="SearchBox_Text",U="DeselectAll";function z(tt){return null!=tt&&null!=tt.slicerSettings}function j(tt){return(0,d.Gq)(tt,l.CT.value)}function H(tt,ut){var Ne={dataMap:{},metadata:[ut[tt.level]]},ae=[],Le=[],X=tt;for(ae.push(tt),Le.push(tt.levelIndex);X.parent;)ae.unshift(X=X.parent),Le.unshift(X.levelIndex);for(var be of ae)Ne.dataMap[ut[be.level]]=[be.scopeIdentity];return{selector:Ne,path:Le}}function q(tt,ut){var ct;if(!_.isEmpty(ut)&&!_.isEmpty(tt)){var ae,Ne=(0,i.fL)(ut);for(var Le of tt){var X=(0,i.r3)(Le,Ne);ae=ae?(0,i.or)(ae,X):X}ct=p.yl.fromSQExpr(ae)}return ct}function G(tt){if(tt){var ut=tt.categorical;if(ut&&!_.isEmpty(ut.categories))return ut.categories[0].identityFields}}function J(tt,ut,ct){if(tt&&!_.isEmpty(ut))for(var Ne=0,ae=ut.length;Ne<ae;Ne++)if((0,o.fS)(tt,ut[Ne].identity,ct))return ut.splice(Ne,1)[0]}function Z(tt,ut){var ct=tt.parent?Z(tt.parent,ut):ut;return tt.selected?!ct:ct}function Q(tt,ut){tt.persistProperties({remove:[{objectName:"general",selector:null,properties:{filter:!0}}],replace:[{objectName:"data",selector:null,properties:{[l.gO.data.mode.propertyName]:ut}}]}),tt.onSelect({type:0,visualObjects:[]});var Ne=tt.getLocalizedString("Slicer_ClearSelectionsCleared");tt.alertWithDebounce("announce-clear-selection",Ne)}function ne(tt,ut){var ct=tt.complete(),Ne=ct?ct.visualObjectWarnings:void 0;for(var ae in Ne)ut.addForVisualObject(ae,...Ne[ae]||[])}function le(tt){return tt.identity.getKey()}function he(tt,ut,ct=!1){tt.handleClearSelection(),ct&&tt.setSearchMode(!0),tt.persistSelectionFilter(l.gO.general.filter,null,!0!==ut,ct)}function Se(tt){tt.setSearchMode(!0),tt.persistSelfFilter(l.gO.general.selfFilter,null)}function Ke(tt){return _.some(tt.columns,ut=>1===ut.parameter?.kind)}function Ge(tt){return _.some(tt.columns,ut=>ut.parameter?.supportsMultipleValues)}function ye(tt){return _.some(tt.columns,ut=>ut.parameter?.supportsSelectAll)}function we(tt,ut){tt.attr("disabled",!!ut.disabled||void 0)}function je(tt,ut){return""!==ut?ut:tt.getLocalizedString("NullValue")}function de(){return{singleSelect:!0,selectAllCheckboxEnabled:!1,strictSingleSelect:!1}}class Pe{onPopupHideEvent(ut,ct,Ne,ae){return this.popup=Ne,this.popupHideEventHandler=ut,this.boundBox=ct,this.originalOffset=$(ct).offset(),this.scrollEventHandler=Le=>this.scrollEventReceived(Le),this.focusEventHandler=Le=>this.focusInEventReceived(Le,ae),this.popupHideEvent=Le=>this.popupHideEventReceived(Le),this.mouseEventHandler=Le=>this.onMouseDown(Le,ae),this.bindPopupHideHandlers(),$.proxy(this.unbindPopupHideHandlers,this)}popupHideEventReceived(ut){this.popupHideEventHandler(ut.type,ut.target)}scrollEventReceived(ut){if(this.boundBox){var ct=$(this.boundBox).offset();(ct.left!==this.originalOffset.left||ct.top!==this.originalOffset.top)&&(this.originalOffset=ct,this.popupHideEventHandler(ut.type,ut.target))}}focusInEventReceived(ut,ct){!this.popup||this.popup.contains(ut.target)||ct&&this.isContextMenuElement(ut.target)||this.popupHideEventHandler(ut.type,ut.target)}onMouseDown(ut,ct){2===ut.button&&ct&&(!this.popup||this.popup.contains(ut.target)||this.isContextMenuElement(ut.target))||this.popupHideEventHandler(ut.type,ut.target)}bindPopupHideHandlers(){document.addEventListener("mousedown",this.mouseEventHandler,!0),document.addEventListener("pointerdown",this.mouseEventHandler,!0),document.addEventListener("touchstart",this.popupHideEvent,!0),$(window).on("resize",$.proxy(this.popupHideEventReceived,this)),$(this.boundBox).on("destroy",$.proxy(this.popupHideEventReceived,this)),document.addEventListener("scroll",this.scrollEventHandler,!0),document.addEventListener("focusin",this.focusEventHandler,!0)}unbindPopupHideHandlers(){document.removeEventListener("mousedown",this.mouseEventHandler,!0),document.removeEventListener("pointerdown",this.mouseEventHandler,!0),document.removeEventListener("touchstart",this.popupHideEvent,!0),$(window).off("resize",this.popupHideEventReceived),document.removeEventListener("scroll",this.scrollEventHandler,!0),$(this.boundBox).off("destroy",this.popupHideEventReceived),document.removeEventListener("focusin",this.focusEventHandler,!0)}isContextMenuElement(ut){return $(ut).parents("drop-down-list:first").length>0}}class Ve{addSearch(ut,ct){var Ne=ct.append("div").classed(N.class,!0).classed(I.class,!0);return Ne.append("span").classed("powervisuals-glyph search",!0).classed(f.class,!0).classed(L.class,!0).attr("title",ut.getLocalizedString(R)),Ne.append("input").attr("type","text").attr("aria-label",ut.getLocalizedString(R)).attr("placeholder",ut.getLocalizedString(R)).attr("spellcheck",!1).classed(B.class,!0).attr("drag-resize-disabled","true"),Ne}addClearSearchButton(ut,ct){var Ne=ct.append("span").classed("powervisuals-glyph x",!0).classed(f.class,!0).classed(b.class,!0);return ct.select(B.selector).attr("placeholder",ut.getLocalizedString(R)),Ne}configureSearchBoxIcon(ut,ct){var Ne=_.isEmpty(ct);ut.select(L.selector).classed(v.class,!Ne),ut.select(b.selector).classed(v.class,Ne)}getRowHeight(ut,ct,Ne){return m.b.estimateSvgTextHeight(this.getTextProperties(ut.slicerText.textSize,ut.slicerText.fontFamily,ct))+this.getRowsOutlineWidth(ut.slicerText.outlineStyle,ut.general.outlineWeight)}setSlicerTextStyle(ut,ct,Ne){ut.styles({color:ct.slicerText.color,"background-color":ct.slicerText.background,"border-style":"solid","border-color":ct.general.outlineColor,"border-width":(0,c.$b)(ct.slicerText.outlineStyle,ct.general.outlineWeight),"font-size":s.FP.fromPoint(ct.slicerText.textSize),"font-family":ct.slicerText.fontFamily,"line-height":Math.floor(1.79*ct.slicerText.textSize)+"px","font-weight":ct.slicerText.labelBold?e.en:e.AI,"font-style":ct.slicerText.labelItalic?e.BF:e.AI,"text-decoration":ct.slicerText.labelUnderline?e.f0:e.zu});var Le=this.calculateSlicerTextHighlightColor(ct.slicerText.color);ut.on("mouseover",function(X){d3.select(this).styles({color:Le})}),ut.on("mouseout",function(X){d3.select(this).styles({color:ct.slicerText.color})})}getRowsOutlineWidth(ut,ct){if("number"==typeof ut){var Ne=(0,h.yE)(ut,u.$m.Top),ae=(0,h.yE)(ut,u.$m.Bottom);return Ne&&ae?2*ct:Ne||ae?ct:0}switch(ut){case u.YP:case u.v3:return 0;case u.wI:case u.j0:return ct;case u.b_:case u.Wi:return 2*ct;default:return 0}}calculateSlicerTextHighlightColor(ut){var ct=(0,C.WV)(ut);return ct&&255===ct.R&&255===ct.G&&255===ct.B?"#C8C8C8":(0,C.jd)(ct,.8,.2)}getTextProperties(ut,ct,Ne){return Ne.fontSize=s.FP.fromPoint(ut),Ne.fontFamily=ct,Ne}}function Ze(){return!t.M.isIOSWebView()&&!t.M.isAndroidWebView()}function Ue(tt,ut){if(0===ut&&1===tt.length&&tt[0].objectName===l.gO.data.mode.objectName&&tt[0].propertyName===l.gO.data.mode.propertyName){var ct=[],Ne=tt[0].propertyValue;return(ct=Ne===a.Ih||Ne===a.of?[{objectName:l.gO.data.mode.objectName,propertyName:l.gO.data.mode.propertyName,propertyValue:a.RB,propertyType:{enumeration:a.dt}},{objectName:l.gO.general.orientation.objectName,propertyName:l.gO.general.orientation.propertyName,propertyValue:Ne===a.of?n.i.Horizontal:n.i.Vertical,propertyType:{enumeration:n.d}}]:[...tt]).push({objectName:l.gO.general.filter.objectName,propertyName:l.gO.general.filter.propertyName,propertyValue:null,propertyType:{filter:{}}}),ct}return tt}function Je(tt,ut,ct,Ne,ae){if(ut)switch(tt.objectName){case"items":return function(tt,ut,ct){var Ne=ut,ae=z(tt)&&tt.slicerSettings.slicerText,be={fontColor:ae&&tt.slicerSettings.slicerText.color?tt.slicerSettings.slicerText.color:Ne.slicerText.color,background:ae&&tt.slicerSettings.slicerText.background?tt.slicerSettings.slicerText.background:Ne.slicerText.background,textSize:Ne.slicerText.textSize,fontFamily:Ne.slicerText.fontFamily,bold:Ne.slicerText.labelBold,italic:Ne.slicerText.labelItalic,underline:Ne.slicerText.labelUnderline,outlineStyle:Ne.slicerText.outlineStyle};return!_.isEmpty(tt.queryNameByLevel)&&tt.queryNameByLevel.length>1&&(be.steppedLayoutIndentation=Ne.expandCollapse.indentation,be.expandCollapseToggleType=Ne.expandCollapse.toggleType),[{selector:null,objectName:"items",properties:be}]}(ut,ct);case"selection":return function(tt,ut,ct){var Ne=z(tt)&&tt.slicerSettings.selection,ae=Ne&&tt.slicerSettings.selection.selectAllCheckboxEnabled?tt.slicerSettings.selection.selectAllCheckboxEnabled:ut.selection.selectAllCheckboxEnabled,Le=Ne&&void 0!==tt.slicerSettings.selection.singleSelect?tt.slicerSettings.selection.singleSelect:ut.selection.singleSelect,X=Ne&&void 0!==tt.slicerSettings.selection.strictSingleSelect?tt.slicerSettings.selection.strictSingleSelect:ut.selection.strictSingleSelect;!X&&Ke(ct.metadata)&&!Ge(ct.metadata)&&(X=!0);var be={selector:null,objectName:"selection",properties:{strictSingleSelect:X}};return X||(be.properties.singleSelect=Le,be.properties.selectAllCheckboxEnabled=ae),[be]}(ut,ct,Ne)}}function _e(tt,ut,ct,Ne){if(ut){var ae=z(ut)&&ut.slicerSettings.slicerText,Le=ae&&ut.slicerSettings.slicerText.color?ut.slicerSettings.slicerText.color:ct.slicerText.color,X=ae&&ut.slicerSettings.slicerText.background?ut.slicerSettings.slicerText.background:ct.slicerText.background,be=l.gO.items,Ie=new y.CQ(new y.lg("values"),"Role_DisplayName_Values",[be.fontFamily,be.textSize,be.bold,be.italic,be.underline,be.fontColor,be.padding,be.outlineStyle,l.gO.general.outlineColor,l.gO.general.outlineWeight,be.background],ee=>tt.getLocalizedString(ee)),ze=(new y.UN).withFontFamily({descriptor:be.fontFamily,value:ct.slicerText.fontFamily}).withFontSizeProperties({descriptor:be.textSize,value:ct.slicerText.textSize}).withBold({descriptor:be.bold,value:ct.slicerText.labelBold}).withItalic({descriptor:be.italic,value:ct.slicerText.labelItalic}).withUnderline({descriptor:be.underline,value:ct.slicerText.labelUnderline}).build();return Ie.addGroup("values",ee=>{ee.withDisplayName("Role_DisplayName_Values").addCompositeSlice("fontselector","Font",ze).addSimpleSlice("color",new y.BT({descriptor:be.fontColor,value:{value:Le}}).build()),Ne&&Ne.slicerAccessibility&&ee.addSimpleSlice("padding",new y.mu({descriptor:be.padding,value:ct.items.padding,options:{minValue:{type:0,value:0},maxValue:{type:1,value:999},unitSymbol:"Numeric_Pixel"}}).build())}).addGroup("border",ee=>{ee.withDisplayName("Visual_Border").addSimpleSlice("border position",new y.oM({descriptor:be.outlineStyle,value:ct.slicerText.outlineStyle}).build(),ve=>ve.withCustomDisplayName("Visual_Border_Position")).addSimpleSlice("color",new y.BT({descriptor:{...l.gO.general.outlineColor,instanceKind:3},value:{value:ct.general.outlineColor}}).build(),ve=>ve.withCustomDisplayName("Generic_Color")).addSimpleSlice("lineWidth",new y.JN({descriptor:l.gO.general.outlineWeight,value:ct.general.outlineWeight,options:{minValue:{type:0,value:1},maxValue:{type:1,value:10}},localize:ve=>tt.getLocalizedString(ve)}).build(),ve=>ve.withCustomDisplayName("Visual_Line_Width"))}).addGroup("background",ee=>{ee.withDisplayName("Visual_Background").addSimpleSlice("color",new y.BT({descriptor:be.background,value:{value:X}}).build(),ve=>ve.withCustomDisplayName("Generic_Color"))}),Ie.build()}}function te(tt,ut,ct,Ne){if(ut){var ae=l.gO.items,Le=new y.CQ(new y.lg("hierarchy"),"Hierarchy",[ae.steppedLayoutIndentation,ae.expandCollapseToggleType],X=>tt.getLocalizedString(X));if(!_.isEmpty(ut.queryNameByLevel)&&ut.queryNameByLevel.length>1)return Le.addGroup("levels",X=>{X.withDisplayName("Slicer_Hierarchy_Levels").addSimpleSlice("steppedIndentation",new y.JN({descriptor:ae.steppedLayoutIndentation,value:ct.expandCollapse.indentation,options:{minValue:{type:0,value:0},maxValue:{type:1,value:40}},localize:be=>tt.getLocalizedString(be)}).build())}).addGroup("expandCollapseButtons",X=>{X.withDisplayName("Slicer_ExpandCollapse").addSimpleSlice("expand/collapseIcon",new y.uY({descriptor:ae.expandCollapseToggleType,value:ct.expandCollapse.toggleType}).build())}),[Le.build()]}}function ke(tt){var{cardUidBuilder:ut,currentSlicerSettings:ct,data:Ne,dataView:ae,hostServices:Le,orientation:X,slicerModes:be,featureSwitches:Ie}=tt,Ye=tt.activeMode;if(Ne||!(0,a.Ek)(Ye)){var ze=[],ee=[],ve=Ne&&Ne.slicerSettings,Te=new y.mQ(new y.SS(ut,"options"),fe=>Le.getLocalizedString(fe));if(ee.push(l.gO.general.selfFilterEnabled),Te.withDisplayName("Desktop_FileMenu_Options"),Ie.updateFormattingPaneObjects&&Ie.moveSlicerTypeSelection){Ye===a.RB&&(Ye=X&&X===n.i.Horizontal?a.of:a.Ih);var Xe=[];for(var He of be){var qe=He.displayName({get:Le.getLocalizedString});Xe.push({value:He.value,displayName:qe})}var rt=Xe.filter(fe=>fe.value===Ye);Te.addSimpleSlice("style",new y.uY({descriptor:l.gO.data.mode,value:rt&&rt[0],items:Xe}).build()),ee.push(l.gO.data.mode)}else null!=X&&(Te.addSimpleSlice("orientation",new y.uY({descriptor:l.gO.general.orientation,value:X}).build()),ee.push(l.gO.general.orientation));var me=Te.build();if(me.slices.length>0&&ze.push(me),Ne&&ct&&ae){var Ee=at(ve,ae,ct,Le,ut,ee);ze.push(Ee)}return{groups:ze,revertToDefaultDescriptors:ee}}}function at(tt,ut,ct,Ne,ae,Le,X=!0){var be=tt&&tt.selection,Ie=ct.selection,Ye=be&&be.selectAllCheckboxEnabled?be.selectAllCheckboxEnabled:Ie.selectAllCheckboxEnabled,ze=be&&void 0!==be.singleSelect?be.singleSelect:Ie.singleSelect,ee=be&&void 0!==be.strictSingleSelect?be.strictSingleSelect:Ie.strictSingleSelect;!ee&&Ke(ut.metadata)&&!Ge(ut.metadata)&&(ee=!0);var ve=l.gO.selection,Te=new y.mQ(new y.SS(ae,"selection"),Xe=>Ne.getLocalizedString(Xe));return Le.push(l.gO.general.selfFilterEnabled,ve.strictSingleSelect,ve.singleSelect,ve.selectAllCheckboxEnabled),X||Te.addSimpleSlice("singleSelect",new y.bd({descriptor:ve.singleSelect,value:ze}).build()),(ze||X)&&Te.withDisplayName("ExpandCollapseNode").addSimpleSlice("strictSingleSelect",new y.bd({descriptor:ve.strictSingleSelect,value:ee}).build()),ee||(X&&Te.addSimpleSlice("singleSelect",new y.bd({descriptor:ve.singleSelect,value:ze}).build()),Te.addSimpleSlice("selectAllCheckboxEnabled",new y.bd({descriptor:ve.selectAllCheckboxEnabled,value:Ye}).build())),Te.build()}},767828:function(Ce,k,r){r.d(k,{AA:function(){return c},kO:function(){return h},SV:function(){return d},YA:function(){return n},n8:function(){return p},HA:function(){return s},ki:function(){return l},Ih:function(){return m},Ug:function(){return b}});var a=r(276712),u=r(939123),t=r(123537),C=r(856632),y=r(359155),i=r(379712),o=r(931145);function c(V,g){var f=[];for(var S of V){var D=d(S.value,g);D&&f.push(D)}return f.join("")}function h(V,g){var v;if((0,i.U)(V.expression)){var f=V.expression.selector.id,S=g?.[f];v=S?.value}else v=V.expression;var P=function(V,g){return _.find(V.cases,v=>v.pattern===g)||V.defaultCase}(V,v);return P.textRuns}function d(V,g){return(0,i.U)(V)?n(V.selector.id,g):V}function n(V,g){var v=g?.[V];return v?.formattedValue}function s(V){var g=V;return u.fF.assertValue(g,"textRun"),_.isString(g.value)||(0,i.U)(g.value)}function p(V){return!_.isNil(V.mentionEmail)}function l(V){var g=V;return u.fF.assertValue(g,"textRunConditional"),_.isArray(g.cases)&&!!g.defaultCase&&_.isArray(g.defaultCase.textRuns)&&((0,i.U)(g.expression)||_.isString(g.expression)||_.isNumber(g.expression)||_.isBoolean(g.expression)||_.isDate(g.expression))}function m(V,g,v){u.fF.assertValue(g,"evaluatedValues must be defined");var f=a.RL.values.expr.objectName;u.fF.assert(()=>f===a.RL.values.formatString.objectName,"Format strings are expected in the same object as evaluated values");var S=(0,t.AO)(V,f);if(!_.isEmpty(S)){for(var P in S){var D=(0,C.N)(S[P],a.RL.values.expr.propertyName),M=new y.g({column:{displayName:"",objects:S,type:o.Ge.fromPrimitiveTypeAndCategory(b(D))},formatStringPropId:{objectName:P,propertyName:a.RL.values.formatString.propertyName},nullsAreBlank:!1});g[P]={value:D,formattedValue:M.format(D)}}v&&v.trace(2,"TextboxWithSmartNarrativeValuesDataChanged")}}function b(V){return _.isDate(V)?7:_.isInteger(V)?4:_.isNumber(V)?3:_.isBoolean(V)?5:_.isString(V)?1:(u.fF.assert(()=>!V,"Unsupported primitive value"),0)}},677249:function(Ce,k,r){function a(){return $("<div></div>")}function e(){return $("<span></span>")}function i(){return $("<select></select>")}function o(){return $('<input type="text"/>')}r.d(k,{Ys:function(){return i},hi:function(){return a},yP:function(){return e},ze:function(){return o}})},547586:function(Ce,k,r){function a(Le){return{class:Le,selector:"."+Le}}r.d(k,{$Z:function(){return y},AI:function(){return ue},Ag:function(){return o},At:function(){return Pe},B1:function(){return ye},BF:function(){return ke},By:function(){return q},CB:function(){return b},CH:function(){return a},G7:function(){return De},Ji:function(){return A},K:function(){return ae},LR:function(){return d},Mq:function(){return W},OF:function(){return m},QX:function(){return T},Rg:function(){return he},SJ:function(){return u},SU:function(){return l},Sd:function(){return s},Ux:function(){return H},Uy:function(){return p},VM:function(){return D},Xn:function(){return v},YY:function(){return G},Z7:function(){return S},aX:function(){return te},a_:function(){return we},dj:function(){return R},ei:function(){return t},en:function(){return _e},f0:function(){return at},fw:function(){return Ve},hK:function(){return le},hy:function(){return ct},j4:function(){return j},jO:function(){return Ue},jU:function(){return L},k2:function(){return g},kP:function(){return C},l6:function(){return tt},mA:function(){return P},ps:function(){return F},py:function(){return Se},rb:function(){return B},t0:function(){return O},vp:function(){return U},wF:function(){return Ge},wu:function(){return N},zo:function(){return z},zu:function(){return Ze}});var u="px",t="height",C="width",y="top",o="left",d="margin-top",s="margin-left",p="margin-right",l="display",m="background",b="background-color",g="background-size",v="background-image",S="text-align",P="border",D="border-top",N="border-radius",L="border-color",B="box-shadow",W="font-family",O="font-size",F="font-weight",A="font-style",T="text-decoration",R="color",U="opacity",z="padding",j="padding-top",H="padding-left",q="padding-right",G="padding-bottom",le="overflow-x",he="overflow-y",Se="transform",Ge="cursor",ye="visibility",we="fill",Pe="auto",Ve="hidden",Ze="none",Ue="block",De="transparent",ue="normal",_e="bold",te="600",ke="italic",at="underline",tt="visible",ct="cover",ae="scroll"},298180:function(Ce,k,r){r.d(k,{$U:function(){return y},$u:function(){return I},A3:function(){return Q},AA:function(){return M},CA:function(){return i},Cj:function(){return j},DL:function(){return S},G6:function(){return A},LS:function(){return q},N8:function(){return G},NN:function(){return Se},O4:function(){return le},OV:function(){return ne},Of:function(){return e},PG:function(){return H},Rh:function(){return v},Ti:function(){return N},V:function(){return Z},Wo:function(){return we},XR:function(){return T},ZI:function(){return V},bS:function(){return l},bd:function(){return g},cp:function(){return P},iV:function(){return t},n:function(){return w},nP:function(){return O},oe:function(){return W},pX:function(){return h},tc:function(){return u},wx:function(){return a},x5:function(){return x},xw:function(){return Ke},y4:function(){return f}});var a=[50,51,52,53,54,72,75,66,84],e=function(de){return de[de.Enter=13]="Enter",de[de.F1=112]="F1",de[de.F2=113]="F2",de[de.F6=117]="F6",de[de.F10=121]="F10",de[de.ArrowRight=39]="ArrowRight",de[de.KeyT=84]="KeyT",de}({}),u=function(de){return de[de.Main=0]="Main",de[de.Auxilary=1]="Auxilary",de[de.Secondary=2]="Secondary",de[de.Fourth=3]="Fourth",de[de.Fifth=4]="Fifth",de}({}),t="body",y=":text, textarea",i='[type="number"]',h="id",l="_self",V="src",g="contenteditable",v="skip-children-focus",f="contextmenu",S="blur",P="keyup",M="change",w="keydown",x="mousemove",N="mousedown",I="mouseover",W="mouseout",O="mouseup",A="click",T="dblclick",j="hover",H="focus",q="focusin",G="focusout",Z="message",Q="load",ne="beforeunload",le="pointermove",Se="pointerdown",Ke="pointerout",we="pointerover"},753104:function(Ce,k,r){r.d(k,{BM:function(){return o},Eo:function(){return f},GG:function(){return l},GW:function(){return L},Po:function(){return m},QO:function(){return M},U:function(){return N},Uy:function(){return v},W0:function(){return D},Xo:function(){return t},aP:function(){return V},bA:function(){return g},bl:function(){return b},cT:function(){return S},eT:function(){return I},iD:function(){return P},kg:function(){return C},mv:function(){return s},oI:function(){return x},p8:function(){return p},qO:function(){return i},wA:function(){return n}});var a=r(939123),t=-308,C=308,i=1e-4,o=12,c=Math.log(10),h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],d=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function n(W){return a.fF.assertValue(W,"exp"),W>=0?W<h.length?h[W]:1/0:(W=-W)>0&&W<d.length?d[W]:0}function s(W){return a.fF.assert(()=>W>=0,"val"),W>1&&W<1e16?W<1e8?W<1e4?W<100?W<10?0:1:W<1e3?2:3:W<1e6?W<1e5?4:5:W<1e7?6:7:W<1e12?W<1e10?W<1e9?8:9:W<1e11?10:11:W<1e14?W<1e13?12:13:W<1e15?14:15:W>1e-16&&W<1?W<1e-8?W<1e-12?W<1e-14?W<1e-15?-16:-15:W<1e-13?-14:-13:W<1e-10?W<1e-11?-12:-11:W<1e-9?-10:-9:W<1e-4?W<1e-6?W<1e-7?-8:-7:W<1e-5?-6:-5:W<.01?W<.001?-4:-3:W<.1?-2:-1:v(Math.log(W)/c)}function p(W,O){if(void 0===O?O=o:a.fF.assert(()=>O>=0,"decimalDigits"),W&&isFinite(W)){var F=s(Math.abs(W));return F<t?0:n(Math.max(F-O,1-d.length))}}function l(W,O,F){return F=B(F,W,O),a.fF.assert(()=>F>=0,"precision"),W===O||Math.abs(W-O)<F}function m(W,O,F){return F=B(F,W,O),a.fF.assert(()=>F>=0,"precision"),W<O&&Math.abs(W-O)>F}function b(W,O,F){return F=B(F,W,O),a.fF.assert(()=>F>=0,"precision"),W<O||Math.abs(W-O)<F}function V(W,O,F){return F=B(F,W,O),a.fF.assert(()=>F>=0,"precision"),W>O&&Math.abs(W-O)>F}function g(W,O,F){return F=B(F,W,O),a.fF.assert(()=>F>=0,"precision"),W>O||Math.abs(W-O)<F}function v(W,O){O=O??i,a.fF.assert(()=>O>=0,"precision");var F=Math.round(W);return Math.abs(W-F)<O?F:Math.floor(W)}function f(W,O){O=B(O,i),a.fF.assert(()=>O>=0,"precision");var F=Math.round(W);return Math.abs(W-F)<O?F:Math.ceil(W)}function S(W,O){return O=B(O,i),a.fF.assert(()=>O>=0,"precision"),0===O||0===W?W:Math.floor(W/O)*O}function P(W,O){return O=B(O,i),a.fF.assert(()=>O>=0,"precision"),0===O||0===W?W:Math.ceil(W/O)*O}function D(W,O){if(O=B(O,i),a.fF.assert(()=>O>=0,"precision"),0===O||0===W)return W;var F=Math.round(W/O)*O,A=Math.round(s(Math.abs(W))-s(O))+1;return A>0&&A<16&&(F=parseFloat(F.toPrecision(A))),F}function M(W,O,F){return a.fF.assert(()=>O<=F,"min must be less or equal to max"),null==W?W:W<O?O:W>F?F:W}function x(W){return D(W,p(W))}function N(W){return null!==W&&W%1==0}function L(W,O){return Math.round(W/O)*O}function B(W,O,F){return void 0!==W?W:p(F?O?Math.min(Math.abs(O),Math.abs(F)):F:O)||i}function I(W){return isNaN(W)?null:W===Number.POSITIVE_INFINITY?Number.MAX_VALUE:W===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:W}},324803:function(Ce,k,r){r.d(k,{DH:function(){return o},ap:function(){return C},dV:function(){return t},q$:function(){return u}});class a extends Error{constructor(h,d){super(d),this.name=h}}class e extends a{constructor(h,d,n){super(h,d+": "+n),this.argument=n}}function u(c){return new e("argumentNull","Argument was null",c)}function t(c){return new e("argumentUndefined","Argument was undefined",c)}function C(c){return new e("argumentOutOfRange","Argument was out of range",c)}function o(c=1){var h,d,n;try{if(!(n=new Error).stack)throw n}catch(s){n=s}return null!=(h=n.stack)&&((d=h.split("\n")).splice(1,c),h=d.join("\n")),h}},238175:function(Ce,k,r){r.d(k,{o:function(){return e}});var a=r(939123);class e{constructor(t){a.fF.assertValue(t,"factoryMethod"),this.factoryMethod=t}getValue(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value}}},542666:function(Ce,k,r){function a(y,i){if(null===y)return null;var o=Object.create(y);return i&&i(o),o}function e(y){if(null==y)return!1;var i=Object.getPrototypeOf(y);return i!==Object.prototype&&i!==Array.prototype}function u(y){return null===y?null:(e(y)||(y=a(y)),y)}function t(y,i){if(null!=y){for(var o,c=0,h=y.length;c<h;c++){var d=i(y[c]);d&&(o||(o=a(y)),o[c]=d)}return o}}function C(y,i){if(y&&i&&"object"==typeof y)for(var o in Object.getPrototypeOf(y)!==Object.getPrototypeOf(i)&&(i.__proto__=y.__proto__),y)C(y[o],i[o])}r.d(k,{ED:function(){return a},Jx:function(){return e},VW:function(){return t},Zx:function(){return C},qO:function(){return u}})},823313:function(Ce,k,r){function a(e){for(var u in Object.freeze(e),e){var t=e[u];t&&"object"==typeof t&&a(t)}}r.d(k,{_:function(){return a}})},397129:function(Ce,k,r){r.d(k,{FP:function(){return o},Gj:function(){return t},KH:function(){return c},PR:function(){return C},fS:function(){return u},ys:function(){return e}});var a=r(939123);function e(h,d){return(h||d)&&!(h&&d)}function u(h,d){return h===d||JSON.stringify(h)===JSON.stringify(d)}var t=8,C=60,o=(()=>{class h{static fromPoint(n){return h.toString(h.fromPointToPixel(n))}static fromPointToPixel(n){return h.PxPtRatio*n}static toPoint(n){return n/h.PxPtRatio}static toString(n){return n+h.PixelString}}return h.PxPtRatio=4/3,h.PixelString="px",h})();function c(h,d,n){return a.fF.assertValue(h,"regex"),h.lastIndex=n||0,h.exec(d)}},265230:function(Ce,k,r){r.d(k,{AS:function(){return t},BB:function(){return C},Js:function(){return y},mB:function(){return u},yE:function(){return e}});var a=r(939123);function e(i,o){return a.fF.assert(()=>!!o,"flag must be specified and nonzero."),(i&o)===o}function u(i,o){return a.fF.assert(()=>!!o,"flag must be specified and nonzero."),i|o}function t(i,o){return a.fF.assert(()=>!!o,"flag must be specified and nonzero."),i&~o}function C(i,o){return i[o]}function y(i){if(null===i||i%1!=0)return 0;for(var o=0,c=i;0!==c;)!(1&~c)&&o++,c>>>=1;return o}},737466:function(Ce,k,r){r.d(k,{B1:function(){return Ke},BL:function(){return Se},FA:function(){return de},GE:function(){return T},HZ:function(){return H},Io:function(){return z},Ir:function(){return V},JA:function(){return l},Jj:function(){return L},Nx:function(){return G},Ny:function(){return f},Oi:function(){return E},S5:function(){return je},Th:function(){return ye},aT:function(){return n},b$:function(){return ne},cb:function(){return w},eT:function(){return b},g5:function(){return p},hM:function(){return I},k4:function(){return R},ko:function(){return B},m5:function(){return M},ms:function(){return D},nH:function(){return s},qv:function(){return U},r3:function(){return P},sc:function(){return j},t6:function(){return m},vr:function(){return v},xz:function(){return N},yQ:function(){return A},zE:function(){return W},zb:function(){return Ge}});var a=r(883803),e=r(939123),u=r(310420),t=r(324803),C=r(39032),y=r(845856),i=r(490125),o=r(616113),c=window,h=window.location.protocol+"//"+window.location.host,d="__DataProperty__5941464455110614";function n(Ue,Je,De){if(e.fF.assertValue(Ue,"element"),null!=Ue){var ue=Ue[d];if(!ue){if(void 0===De)return;ue=Ue[d]={}}return void 0===De?ue[Je]:ue[Je]=De}}var s="application/octet-stream",p="application/json",l="image/jpeg",m="blob",b="arraybuffer",V="Accept",g=new RegExp("[<>]","g");function v(Ue,Je){return M(Ue)===M(Je)}function f(Ue,Je){return null!=Ue&&0===Ue.indexOf(Je)}function P(Ue,Je){return null!=Ue&&-1!==Ue.indexOf(Je)}function D(Ue,Je){return null!=Ue&&P(M(Ue),M(Je))}function M(Ue){return ne.throwIfNullOrUndefined(Ue,ne,"normalizeCase","value"),Ue.toUpperCase()}function E(Ue){return ne.throwIfNullOrUndefined(Ue,ne,"containsWhitespace","str"),/\s/.test(Ue)}function w(Ue){return""===_.trim(Ue)}function N(Ue){return ne.throwIfNullOrUndefined(Ue,ne,"trimWhitespace","str"),Ue.replace(/^\s+/,"").replace(/\s+$/,"")}function L(Ue){return Ue.replace(/\s/g,"")}function B(Ue,Je,De){if(!Je)return Ue;var ue=T(Je);return Ue.replace(new RegExp(ue,"gi"),De)}function I(Ue){e.fF.assertValue(Ue,"names");var Je={};for(var De of Ue)Je[De]=!1;var ue=[];for(var _e of Ue){var te=_e;if(Je[te])for(var ke=0;void 0!==Je[te];)te=_e+"."+ ++ke;ue.push(te),Je[te]=!0}return ue}function W(Ue,Je,De,ue){e.fF.assertValue(Ue,"usedNames"),e.fF.assertValue(Je,"baseName"),e.fF.assert(()=>null==De||De>=0,"startSuffix == null || startSuffix >= 0");var _e=ue?" ":"",te=De||0,ke=Je;for(De&&(ke+=_e+De);O(Ue,ke);)ke=Je+_e+ ++te;return ke}function O(Ue,Je){return _.isSet(Ue)?Ue.has(Je):Ue[Je]}function A(Ue,Je,De){if(!Ue||0===Ue.length)return"";null==De&&(De=Number.MAX_VALUE);for(var ue=Math.min(De,Ue.length),_e=[],te=0;te<2;te++)for(var ke="{"+te+"}",at="_|_<"+te+">_|_",tt=0;tt<ue;tt++)Ue[tt].indexOf(ke)>-1&&(Ue[tt]=Ue[tt].replace(ke,at),_e.push({targetValue:ke,replaceValue:at}));for(var ut="",ct=0;ct<ue;ct++)ut=0===ct?Ue[ct]:(0,o.W)(Je.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),ut,Ue[ct]);for(var Ne of _e)ut=ut.replace(Ne.replaceValue,Ne.targetValue);return ut}function T(Ue){return Ue.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function R(Ue){return e.fF.assertValue(Ue,"fileName"),Ue.replace(/[\<\>\:"\/\\\|\?*]/g,"")}function U(Ue){return JSON.stringify(Ue)}function z(Ue,Je){e.fF.assertValue(Ue,"input");var De=Ue.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return De.length>0?De:Je}function j(Ue){return Ue.replace(g,"")}function H(Ue,Je=!1,De=!1){if(!Ue||De&&"&nbsp;"===Ue)return Ue;var ue=Ue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_e=>"&#"+(1024*(_e.charCodeAt(0)-55296)+(_e.charCodeAt(1)-56320)+65536)+";").replace(/([^!-~ ])/g,_e=>"&#"+_e.charCodeAt(0)+";");return Je&&(ue=ue.replace(/\ /g,"&nbsp;")),ue}function G(Ue){return Ue>=0&&Ue<=55295||Ue>=57344&&Ue<=65535}var J=new WeakMap,Z=new WeakMap;class Q extends Error{constructor(Je){super(Je),Object.setPrototypeOf(this,new.target.prototype)}getInnerError(){return J.get(this)}setInnerError(Je){if(Je){var De=_.isPlainObject(Je)?Je:Z.get(Je);if(De){for(var ue of Object.keys(De))this[ue]=De[ue];Z.set(this,De)}var _e=this.message.matchAll(/(\{\{[^\}]+\}\})/g);if(_e){var te=this.message;for(var ke of _.reverse(Array.from(_e))){var at=ke[0].substring(2,ke[0].length-2),tt=(De||Je)?.[at]||"";te=te.substring(0,ke.index)+tt+te.substring(ke.index+ke[0].length)}this.stack&&(this.stack=this.stack.replace(this.message,te)),this.message=te}J.set(this,Je)}else J.delete(this)}}var ne=(()=>{class Ue{static ensureError(De){return De instanceof Error||(De=new Error(De?De.message||De.toString():"<null-or-undefined> error was thrown")),De}static ensurePromiseError(De,ue){var _e=new Q(ue);return De.catch(te=>{throw _e.setInnerError(te),_e})}static throwIfNullOrUndefined(De,ue,_e,te){null===De?this.throwException((0,t.q$)(this.getComponentName(ue)+_e+"."+te)):void 0===De&&this.throwException((0,t.dV)(this.getComponentName(ue)+_e+"."+te))}static throwIfNullOrEmptyString(De,ue,_e,te){this.throwIfNullOrUndefined(De,ue,_e,te),De.length<1&&this.throwException((0,t.ap)(this.getComponentName(ue)+_e+"."+te))}static valueOrDefault(De,ue){return De??ue}static urlCombine(De,ue){if(this.throwIfNullOrUndefined(De,Ue,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(ue,Ue,"urlCombine","path"),(0,o.g)(ue))return De;if((0,o.g)(De))return ue;var _e=De;return"/"===_e.charAt(_e.length-1)?"/"===ue.charAt(0)&&(ue=ue.slice(1)):"/"!==ue.charAt(0)&&(ue="/"+ue),_e+ue}static getAbsoluteUri(De){this.throwIfNullOrUndefined(De,Ue,"getAbsoluteUri","path");var ue=De;return ue&&-1===ue.indexOf("http")&&(ue=this.urlCombine(c.clusterUri,ue)),ue}static getStaticResourceUri(De){this.throwIfNullOrUndefined(De,Ue,"getStaticResourceUri","path");var ue=De;return ue&&-1===ue.indexOf("http")&&(ue=this.urlCombine(h,ue)),ue}static getComponentName(De){return De?(typeof De).toString()+".":""}static throwException(De){throw y.f.error(`Throwing exception: ${JSON.stringify(De)}`,null==De.stack),this.ensureError(De)}static createClassSelector(De){return this.throwIfNullOrEmptyString(De,null,"CreateClassSelector","className"),"."+De}static createIdSelector(De){return this.throwIfNullOrEmptyString(De,null,"CreateIdSelector","id"),"#"+De}static clampValue(De,ue,_e){return e.fF.assert(()=>ue<=_e,"min value must be less than or equal the max value"),De=Math.min(De,_e),Math.max(De,ue)}static generateGuid(){var De="",ue=0;for(ue=0;ue<32;ue+=1){var _e=16*Math.random()|0;switch(ue){case 8:case 12:case 16:case 20:De+="-"}De+=_e.toString(16)}return De}static getCookieValue(De){var ue=document.cookie.split(";");for(var _e of ue){var te=_e.split("=");if(te.length>0&&te[0].trim()===De)return _e.substr(_e.indexOf("=")+1)}return null}static getDomainForUrl(De){var ue=this.getHrefObjectFromUrl(De);return ue.prop("protocol")+"//"+ue.prop("hostname")}static getHostNameForUrl(De){var ue=this.getHrefObjectFromUrl(De);return this.urlCombine(ue.prop("hostname"),ue.prop("pathname"))}static getUrlWithoutQueryString(De){var ue=this.getHrefObjectFromUrl(De);return ue.prop("protocol")+"//"+this.urlCombine(ue.prop("host"),ue.prop("pathname"))}static getProtocolFromUrl(De){return this.getHrefObjectFromUrl(De).prop("protocol").replace(":","")}static getHrefObjectFromUrl(De){var ue=$("<a>");return ue.prop("href",De)}static getDateFromWcfJsonString(De,ue){if(_.isEmpty(De))return null;var _e=De.indexOf("("),te=De.indexOf(")");if(-1!==_e&&-1!==te){var ke=parseInt(De.substring(_e+1,te),10);if(isNaN(ke)&&(ke=0),ue)return new Date(ke);var at=new Date(0);return at.setUTCMilliseconds(ke),at}return null}static isValidImageDataUrl(De){return this.ImageDataRegex.test(De)}static encodeUriForImageDataSvg(De){if(this.ImageDataSvgRegex.test(De)){var ue=De.indexOf(",");if(ue>-1){var _e=De.substring(0,ue).split(";"),te=De.substring(ue+1);try{te=decodeURIComponent(te)}catch{}return`${_e[0]},${encodeURIComponent(te)}`}}return De}static isLocalUrl(De){return _.startsWith(De,"data:")||_.startsWith(De,"blob:")}static extractFileNameFromPath(De){return De.replace(/^.*[\\\/]/,"")}static is64BitOperatingSystem(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")}static isWindows10(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")}static parseNumber(De,ue){if(null===De)return null;if(void 0===De)return ue;var _e=Number(De);return isFinite(_e)?_e:isNaN(_e)&&"number"!=typeof De&&"NaN"!==De?ue:_e}static getURLParamValue(De){var ue=new RegExp("[?&]"+De+"=([^&#]*)").exec(window.location.href);return null==ue?null:ue[1]||0}static getLocalTimeZoneString(){var ue=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),te=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===ue&&-720===te?"Dateline Standard Time":-660===ue&&-660===te?"UTC-11":-660===ue&&-660===te?"Samoa Standard Time":-600===ue&&-600===te?"Hawaiian Standard Time":-480===ue&&-540===te?"Alaskan Standard Time":-420===ue&&-480===te?"Pacific Standard Time":-420===ue&&-420===te?"US Mountain Standard Time":-360===ue&&-420===te?"Mountain Standard Time":-360===ue&&-360===te?"Central America Standard Time":-300===ue&&-360===te?"Central Standard Time":-300===ue&&-300===te?"SA Pacific Standard Time":-240===ue&&-300===te?"Eastern Standard Time":-270===ue&&-270===te?"Venezuela Standard Time":-240===ue&&-240===te?"SA Western Standard Time":-240===ue&&-180===te?"Central Brazilian Standard Time":-180===ue&&-240===te?"Atlantic Standard Time":-180===ue&&-180===te?"Montevideo Standard Time":-180===ue&&-120===te?"E. South America Standard Time":-150===ue&&-210===te?"Mid-Atlantic Standard Time":-120===ue&&-120===te?"SA Eastern Standard Time":0===ue&&0===te?"UTC":60===ue&&0===te?"GMT Standard Time":60===ue&&120===te?"Namibia Standard Time":120===ue&&60===te?"Romance Standard Time":120===ue&&120===te?"South Africa Standard Time":180===ue&&120===te?"GTB Standard Time":180===ue&&180===te?"E. Africa Standard Time":240===ue&&180===te?"Russian Standard Time":240===ue&&240===te?"Arabian Standard Time":270===ue&&210===te?"Iran Standard Time":270===ue&&270===te?"Afghanistan Standard Time":300===ue&&240===te?"Pakistan Standard Time":300===ue&&300===te?"West Asia Standard Time":330===ue&&330===te?"India Standard Time":345===ue&&345===te?"Nepal Standard Time":360===ue&&300===te?"N. Central Asia Standard Time":360===ue&&360===te?"Central Asia Standard Time":390===ue&&390===te?"Myanmar Standard Time":420===ue&&360===te?"North Asia Standard Time":420===ue&&420===te?"SE Asia Standard Time":480===ue&&420===te?"North Asia East Standard Time":480===ue&&480===te?"China Standard Time":540===ue&&480===te?"Yakutsk Standard Time":540===ue&&540===te?"Tokyo Standard Time":570===ue&&570===te?"Cen. Australia Standard Time":600===ue&&600===te?"E. Australia Standard Time":600===ue&&660===te?"AUS Eastern Standard Time":660===ue&&600===te?"Tasmania Standard Time":660===ue&&660===te?"West Pacific Standard Time":690===ue&&690===te?"Central Pacific Standard Time":720===ue&&660===te?"Magadan Standard Time":720===ue&&720===te?"Fiji Standard Time":720===ue&&780===te?"New Zealand Standard Time":780===ue&&780===te?"Tonga Standard Time":"UTC"}}return Ue.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),Ue.ImageDataSvgRegex=new RegExp("data:(image/svg)"),Ue})(),he=0;function Se(Ue){var Je=window.performance;if(!Je||!Je.mark)return()=>0;var De="Begin "+(Ue=++he+" "+Ue);Je.mark(De);var ue=(0,C.z)();return()=>{var _e="End "+Ue;return Je.mark(_e),Je.measure&&Je.measure(Ue,De,_e),(0,C.z)()-ue}}function Ke(Ue){var Je=window.performance;!Je||!Je.mark||(Ue=++he+" "+Ue,Je.mark(Ue))}function Ge(Ue){var Je=(0,C.z)();return Ue(),(0,C.z)()-Je}function ye(Ue){return we.apply(this,arguments)}function we(){return(we=(0,a.Z)(function*(Ue){var Je=(0,C.z)();return yield Ue(),(0,C.z)()-Je})).apply(this,arguments)}function je(Ue){var Je,De,ue;return window.requestAnimationFrame||(window.requestAnimationFrame=_e=>setTimeout(_e,20)),function(){Je||(Je=!0,De=arguments,ue=this,i.l.requestAnimationFrame(()=>{Je=!1,Ue.apply(ue,De)}))}}function de(Ue){return null!=Ue&&Ue%1!=0}var Ze=!1;!function(){if(!Ze){var Ue=o.W;(function(){var Ue=(0,u.kx)();return Ue.StringExtensions||(Ue.StringExtensions={}),Ue.StringExtensions}()).format=(...Je)=>Ue(...Je),Ze=!0}}()},636245:function(Ce,k,r){r.d(k,{W:function(){return u}});var a=r(883803),e=r(42298);class u{constructor(i){this.onReEntry=i,this.active=0}enqueue(i){this.tail||(this.tail=new e.B,function(y){C.apply(this,arguments)}(this.tail.promise)),this.onReEntry&&this.active>0&&this.onReEntry();var o=new e.B,c={next:o.promise,callback:i,result:new e.B};this.tail.resolve(c),this.tail=o;var h=c.result.promise;return++this.active,h.finally(()=>--this.active)}}function C(){return(C=(0,a.Z)(function*(y){for(;;){var i=yield y;y=i.next;try{i.result.resolve(yield i.callback())}catch(o){i.result.reject(o)}}})).apply(this,arguments)}},864237:function(Ce,k,r){r.d(k,{D:function(){return C},M:function(){return t}});var a=r(658862),u=r(939123),t=(()=>{class y{static getLanguage(){return this.navigator.userLanguage||this.navigator.language}static isChrome(){if(null!=this.isChromeCache)return this.isChromeCache;var o=this.navigator.vendor||"",c=this.navigator.userAgent.toLowerCase();return this.isChromeCache=o.toLowerCase().indexOf("google")>-1&&c.indexOf("chrome")>-1&&-1===c.indexOf("edge")&&-1===c.indexOf("opr"),this.isChromeCache}static isInternetExplorerOrEdge(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var o=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=o.indexOf("msie")>-1||o.indexOf("trident")>-1||o.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache}static isInternetExplorer11(){var o=this.navigator.userAgent.toLowerCase(),c=o.match(/rv:(\d+)/i);return!!(c&&c[1]&&parseInt&&11===parseInt(c[1],10))&&o.indexOf("trident")>-1&&-1===o.indexOf("msie")}static isEdge(){if(null!=this.isEdgeCache)return this.isEdgeCache;var o=this.navigator.userAgent.toLowerCase();return this.isEdgeCache=o.indexOf("edg")>-1,this.isEdgeCache}static isEdgeLegacy(){return!y.isInternetExplorer11()&&"StyleMedia"in window}static isWindows10(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")}static isKeyboardClick(o){return 0===o.clientX&&0===o.clientX}static isCtrlOrMeta(o){return!0===o[y.isMacOs()?"metaKey":"ctrlKey"]}static noModifierPressed(o){var c=y.isMacOs()?"metaKey":"ctrlKey";return!o.shiftKey&&!o.altKey&&!o[c]}static isPointerTypeTouch(o){return"touch"===o.pointerType}static getInternetExplorerVersion(){var o=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var h=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);h&&(o=parseFloat(h[1]))}return o}static isFirefox(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}static isMacOs(){return this.navigator.userAgent.indexOf("Macintosh")>=0}static isSafari(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)}static isSafari11OrHigher(){if(!this.isSafari())return!1;var o=this.navigator.userAgent.match(/version\/(\d+)/i),c=o?.[1];return!(null==c||!parseInt)&&parseInt(c,10)>=11}static isIOSWebView(){var o=this.navigator.userAgent.toLowerCase();return o.indexOf("iphone")>-1||o.indexOf("ipad")>-1||o.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1}static isAndroidWebView(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1}static focus(o,c){if(o)if(o.focus)c?o.focus(c):o.focus();else try{HTMLElement.prototype.focus.apply(o)}catch(h){u.fF.assertFail("BrowserUtils.focus: failed to set focus on element: "+h)}}static setBrowserSupportsHttp2(o){this.browserSupportsHttp2=o}static getBrowserVersion(){var o=(0,a.getParser)(window.navigator.userAgent);return o?.getBrowserVersion()}static calculateBrowserSupportsHttp2(){if(!window||!window.performance)return!1;var o=window.performance;return"h2"===(o.getEntriesByType&&o.getEntriesByType("navigation")&&o.getEntriesByType("navigation")[0]&&o.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())}}return y.navigator=window.navigator,y.browserSupportsHttp2=()=>(null!=y.browserSupportsHttp2Cache||(y.browserSupportsHttp2Cache=y.calculateBrowserSupportsHttp2()),y.browserSupportsHttp2Cache),y})();function C(y){return y.shiftKey?1:t.isCtrlOrMeta(y)?3:0}},160590:function(Ce,k,r){r.d(k,{BT:function(){return le},CQ:function(){return T},Cv:function(){return Ge},Dw:function(){return d},E0:function(){return b},G8:function(){return s},G_:function(){return De},Gp:function(){return Z},IN:function(){return A},IW:function(){return C},JJ:function(){return we},JN:function(){return te},Jr:function(){return at},Kw:function(){return p},LB:function(){return ue},LY:function(){return v},M$:function(){return he},NY:function(){return t},Nq:function(){return N},Q:function(){return D},Qs:function(){return B},Qu:function(){return i},SS:function(){return W},UH:function(){return l},UN:function(){return je},Vc:function(){return Ve},Xo:function(){return n},_m:function(){return de},an:function(){return u},bD:function(){return Pe},bP:function(){return w},bd:function(){return ut},d5:function(){return V},fq:function(){return tt},hz:function(){return Se},ie:function(){return g},k0:function(){return _e},lg:function(){return I},mQ:function(){return R},mu:function(){return Je},n$:function(){return f},oM:function(){return ne},ob:function(){return Ze},q6:function(){return J},tL:function(){return Q},uM:function(){return Ue},uY:function(){return Ke},vX:function(){return ke},vi:function(){return q},wZ:function(){return x}});var a=r(939123),e=r(737466),u="</___",t="___/>";function C(Ne){return void 0===Ne.control.properties.descriptor}function i(Ne){return!!Ne.type}function o(Ne){return"card"===Ne.type}function c(Ne){return"group"===Ne.type}function h(Ne){return"slice"===Ne.type}function d(Ne){return"host"===Ne.source}function n(Ne){return o(Ne)}function s(Ne){return c(Ne)}function p(Ne){return h(Ne)}function l(Ne,ae){return{name:Ne,source:"host",type:"card",suppressDefaultValue:ae}}function b(Ne,ae){return{name:Ne,source:"host",type:"slice",suppressDefaultValue:ae}}function V(Ne){return"visual"===Ne.source}function g(Ne){return o(Ne)}function v(Ne){return c(Ne)}function f(Ne){return h(Ne)}function D(Ne,ae){return{name:Ne,source:"visual",type:"slice",suppressDefaultValue:ae}}function w(Ne,ae){return Ne+"-"+ae}function x(Ne){var ae={};for(var Le in Ne)if(_.isString(Le)){var X={},Ie=Ne[Le].properties;for(var Ye in Ie)_.isString(Ye)?X[Ye]={objectName:Le,propertyName:Ye}:a.fF.assertFail(`Expected propertyName "${Ye}" to be a string`);ae[Le]=X}else a.fF.assertFail(`Expected objectName "${Le}" to be a string`);return ae}class N{constructor(...ae){this.cards=ae}addCards(...ae){return this.cards.push(...ae),this}withWarnings(ae){return this.warnings=ae,this}build(){return{cards:this.cards.reduce((Le,X)=>{if(!X)return Le;var be;if(!(be=_.isFunction(X)?X():X))return Le;if(_.isArray(be)){for(var Ie of be)if(Ie){if(!i(Ie)){var Ye=this.shouldDisableCard(Ie,this.disabledCards);Ye&&(Ie={...Ie,disabled:Ye.disabled,disabledReason:Ye.disabledReason})}Le.push(Ie)}}else{var ze=be;if(!i(ze)){var ee=this.shouldDisableCard(ze,this.disabledCards);ee&&(ze={...ze,disabled:ee.disabled,disabledReason:ee.disabledReason})}Le.push(ze)}return Le},[]),warnings:this.warnings}}withDisabledCards(ae){return this.disabledCards=ae,this}shouldDisableCard(ae,Le){var X=Le?.[ae.uid];if(X)return{disabled:!0,disabledReason:X.disabledReason}}}function B(Ne){var ae=Ne.uid.split(" "),Le=function(Ne){return new I(Ne)}(ae[0]);return Le.withGroup(ae[1])}class I{constructor(ae){this.cardName=ae,this.groupNames=new Set}build(){return(0,e.Jj)(this.cardName)}withGroup(ae="default"){return a.fF.assert(()=>!this.groupNames.has(ae),`Already have group "${ae}"`),this.groupNames.add((0,e.Jj)(ae)),new W(this,ae)}}class W{constructor(ae,Le){this.cardUidBuilder=ae,this.groupName=Le,this.sliceNames=new Set}static getGroupUid(ae){var Le=ae.split("-");return a.fF.assert(()=>Le.length>=2,"GroupUid must have at least two sections in the uid"),`${Le[Le.length-1]}`}build(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var ae=(0,e.Jj)(this.groupName);return`${this.cardUid}-${ae}`}withSlice(ae){return this.sliceNames.add(ae),new A(this,ae)}withContainer(ae){return new F(this,ae)}}class O{constructor(ae,Le){this.containerUidBuilder=ae,this.itemName=Le,this.sliceNames=new Set,this.groupNames=new Set}build(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var ae=(0,e.Jj)(this.itemName);return`${this.containerUid}-${ae}`}withSlice(ae){return this.sliceNames.add(ae),new A(this,ae)}withGroup(ae="default"){return this.groupNames.add(ae),new W(this,ae)}withContainer(ae){return new F(this,ae)}}class F{constructor(ae,Le){this.groupUidBuilder=ae,this.containerName=Le}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var ae=(0,e.Jj)(this.containerName);return`${this.groupUid}-${ae}`}withContainerItem(ae){return new O(this,ae)}}class A{constructor(ae,Le){this.groupUidBuilder=ae,this.sliceName=Le}static getGroupAndSliceUid(ae){var Le=ae.split("-");return a.fF.assert(()=>Le.length>=3,"SliceUid must have at least three sections in the uid"),`${Le[Le.length-2]}-${Le[Le.length-1]}`}static getSliceUid(ae){var Le=ae.split("-");return a.fF.assert(()=>Le.length>=3,"SliceUid must have at least three sections in the uid"),`${Le[Le.length-1]}`}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var ae=(0,e.Jj)(this.sliceName);return`${this.groupUid}-${ae}`}}class T{constructor(ae,Le,X,be,Ie=!0,Ye){this.uidBuilder=ae,this.displayName=Le,this.localize=be,this.localizeDisplayName=Ie,this.analyticsPane=Ye,this.suppressDisplayName=!1,this.groups=[],X&&(this.revertToDefaultDescriptors=_.isArray(X)?X:_.values(X))}withDisabled(ae,Le){return this.disabled=ae,this.disabledReason=Le?this.localize(Le):void 0,this}withDisabledLocalized(ae,Le){return this.disabled=ae,this.disabledReason=Le,this}withDescription(ae){return this.description=ae,this}withAliasName(ae){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(ae)),this}withGroups(ae){return this.groups=ae,this}addGroupPlaceholder(ae){return this.groups.push(ae),this}addGroup(ae,Le){if(!Le)return this;var X=this.getGroupBuilder(ae);return Le(X),this.groups.push(X.build()),this}getGroupBuilder(ae="default"){return new R(this.uidBuilder.withGroup(ae),Le=>this.localize(Le))}addTopLevelToggle(ae,Le,X){var be=this.uidBuilder.withGroup("topLevelToggle").withSlice(ae),Ie=Le(),ze=new ct({control:Ie,localize:this.localize,uidBuilder:be});return X&&X(ze),this.topLevelToggle=ze.build(),this}assertDescriptorsAreAdded(){if(this.revertToDefaultDescriptors){var ae=[];this.groups.forEach(be=>{!i(be)&&be.slices&&be.slices.forEach(Ie=>{i(Ie)||ae.push(Ie)})});var Le=new Set,X="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(be=>Le.add(be.objectName+"-"+be.propertyName)),ae.forEach(be=>{if(!i(be))if(C(be)){var Ie=be.control.properties;Object.keys(Ie).forEach(ee=>{var ve=Ie[ee]?.descriptor;if(void 0!==ve){var Te=ve.objectName+"-"+ve.propertyName;a.fF.assert(()=>Le.has(Te),`${X} ${Te?`- missing '${Te}'`:""}`)}})}else{var Ye=be.control.properties.descriptor,ze=Ye.objectName+"-"+Ye.propertyName;a.fF.assert(()=>Le.has(ze),`${X} ${ze?`- missing '${ze}'`:""}`)}})}}build(){var ae=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:ae,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}}}class R{constructor(ae,Le){this.uidBuilder=ae,this.localize=Le,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}withContainer(ae){return this.container=ae,this}withContainerDisabled(ae=!0){return this.containerDisabled=ae,this.sliceWithContainer=!0,this}withDescription(ae){return this.description=ae,this}withAliasName(ae){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(ae)),this}withInheritDisabled(ae){return this.inheritDisabled=ae,this}withDelaySaveSlices(){return this.delaySaveSlices=!0,this}withCollapsible(ae=!0){return this.collapsible=ae,this}withDisplayName(ae,Le=!0){return this.displayName=Le?ae?this.localize(ae):void 0:ae,this.suppressDisplayName=!1,this}withSlices(ae){return this.slices=_.map(ae,Le=>{if(i(Le))return Le;var be=this.uidBuilder.withSlice(Le.uid).build();return{...Le,uid:be}}),this}withDisabled(ae,Le){return this.disabled=ae,this.disabledReason=Le?this.localize(Le):void 0,this}addSlicePlaceholder(ae){return this.slices.push(ae),this}addSlice(ae){return this.slices.push(ae),this}addSimpleSlice(ae,Le,X){var be=this.getSliceName(ae),Ie=_.isFunction(Le)?Le():Le,Ye=this.getSimpleSliceBuilder(be,Ie);return X&&X(Ye),this.slices.push(Ye.build()),this}addCompositeSlice(ae,Le,X,be){var Ie=_.isFunction(X)?X():X,Ye=this.getCompositeSliceBuilder(ae,Le,Ie);return be&&be(Ye),this.slices.push(Ye.build()),this}addSlices(ae){return this.slices=this.slices.concat(ae),this}getSimpleSliceBuilder(ae,Le){var X=this.getSliceName(ae),be=this.uidBuilder.withSlice(X);return new q({control:Le,localize:this.localize,uidBuilder:be})}addTopLevelToggle(ae,Le,X){var be=this.uidBuilder.withSlice(ae),Ie=Le(),ze=new ct({control:Ie,localize:this.localize,uidBuilder:be});return X&&X(ze),this.topLevelToggle=ze.build(),this}getCompositeSliceBuilder(ae,Le,X){var be=this.getSliceName(ae),Ie=this.uidBuilder.withSlice(be);return new G({control:X,displayName:Le,localize:this.localize,uidBuilder:Ie})}getSliceName(ae){return _.isString(ae)?(0,e.Jj)(ae):`${ae.objectName}-${ae.propertyName}`}addContainer(ae,Le){var X=this.getContainerBuilder(ae);return Le(X),this.container=X.build(),this}getContainerBuilder(ae){return new j(this.uidBuilder.withContainer(ae),this.localize)}build(){return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:this.displayName??"",collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}}}class U extends R{build(){return super.build()}}class z{constructor(ae,Le,X){this.uidBuilder=ae,this.displayName=Le,this.localize=X,this.slices=[],this.groups=[]}withIcon(ae){return this.iconName=ae,this}withSlices(ae){return this.slices=_.map(ae,Le=>this.updatedSlice(Le)),this}addSimpleSlice(ae,Le,X){var be=this.getSliceName(ae),Ie=_.isFunction(Le)?Le():Le,Ye=this.getSimpleSliceBuilder(be,Ie);return X&&X(Ye),this.slices.push(Ye.build()),this}addCompositeSlice(ae,Le,X,be){var Ie=_.isFunction(X)?X():X,Ye=this.getCompositeSliceBuilder(ae,Le,Ie);return be&&be(Ye),this.slices.push(Ye.build()),this}getSimpleSliceBuilder(ae,Le){var X=this.getSliceName(ae),be=this.uidBuilder.withSlice(X);return new q({control:Le,localize:this.localize,uidBuilder:be})}getCompositeSliceBuilder(ae,Le,X){var be=this.getSliceName(ae),Ie=this.uidBuilder.withSlice(be);return new G({control:X,displayName:Le,localize:this.localize,uidBuilder:Ie})}addContainer(ae,Le){var X=this.getContainerBuilder(ae);return Le(X),this.container=X.build(),this}getContainerBuilder(ae){return new j(this.uidBuilder.withContainer(ae),this.localize)}getSliceName(ae){return _.isString(ae)?ae:`${ae.objectName}-${ae.propertyName}`}withGroups(ae){return this.groups=_.map(ae,Le=>{var X=Le.uid,be=this.uidBuilder.withGroup(X).build();return{...Le,uid:be,slices:_.map(Le.slices,Ie=>this.updatedSlice(Ie,X))}}),this}updatedSlice(ae,Le){if(i(ae))return ae;var X=ae.uid,Ie=(Le?this.uidBuilder.withGroup(Le):this.uidBuilder).withSlice(X).build();return{...ae,uid:Ie}}addGroup(ae,Le){var X=ae?(0,e.Jj)(ae):void 0,be=this.getGroupBuilder(X);return Le(be),this.groups.push(be.build()),this}getGroupBuilder(ae="default"){return new U(this.uidBuilder.withGroup(ae),this.localize)}withDefaultSelected(ae){return this.defaultSelected=ae,this}build(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,defaultSelected:this.defaultSelected,uid:this.uidBuilder.build(),icon:this.iconName}}}class j{constructor(ae,Le){this.uidBuilder=ae,this.localize=Le,this.suppressDisplayName=!0,this.containerItems=[]}withDisplayName(ae){return this.displayName=ae,this.suppressDisplayName=!1,this}withDescription(ae){return this.description=ae,this}addContainerItem(ae,Le,X){var be=(0,e.Jj)(ae??""),Ie=this.getContainerItemBuilder(be,Le??"");return X(Ie),this.containerItems.push(Ie.build()),this}getContainerItemBuilder(ae,Le){return new z(this.uidBuilder.withContainerItem(`${u}${ae}${t}`),Le,this.localize)}build(){var ae=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:ae,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class H{constructor(ae){this.control=ae.control,this.localize=ae.localize,this.uidBuilder=ae.uidBuilder}withDisabled(ae,Le){return this.disabled=ae,this.disabledReason=Le?this.localize(Le):void 0,this}withHidden(ae){return this.hidden=ae,this}getSimpleControlDescriptor(){if(void 0!==this.control.properties.descriptor)return this.control.properties.descriptor}}class q extends H{constructor(ae){super(ae)}withCustomDisplayName(ae,Le=!0){return this.displayName=Le?this.localize(ae):ae,this}withSuppressDisplayName(ae){return this.suppressDisplayName=ae,this}withCustomDescription(ae,Le=!0){return a.fF.assertValue(ae,"description"),this.description=Le?this.localize(ae):ae,this}withCustomDescriptionIf(ae,Le,X=!0){return ae()?this.withCustomDescription(Le,X):this}withAliasName(ae){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(ae)),this}withInfoIconText(ae){return this.infoIconText=ae,this}build(){return a.fF.assert(()=>!!this.control,"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}}}class G extends H{constructor(ae){super(ae),this.displayName=ae.displayName,this.description=ae.description}withInfoIconText(ae){return this.infoIconText=ae,this}withAliasName(ae){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(ae)),this}withSuppressDisplayName(ae){return this.suppressDisplayName=ae,this}build(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class J{withDisplayName(ae,Le,X){return this.description=Le,this.displayName=ae,this.suppressDisplayName=X,this}withUid(ae){return this.uid=w(ae.objectName,ae.propertyName),this}withControlProperties(ae){return this.control=ae,this}withDisabled(ae=!0){return this.disabled=ae,this}build(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}}}class Z{constructor(ae){this.properties=ae}build(){return{type:"AlignmentGroup",properties:this.properties}}}class Q{constructor(ae){this.properties=ae}build(){return{type:"EmptyControl",properties:this.properties}}}class ne{constructor(ae){this.properties=ae}build(){return{type:"FlagsSelection",properties:this.properties}}}class le{constructor(ae){this.properties=ae}build(){return{type:"ColorPicker",properties:this.properties}}}class he{constructor(ae){this.properties=ae}build(){return{type:"ConditionalFormattingControl",properties:this.properties}}}class Se{constructor(ae){this.properties=ae}build(){return{type:"DatePicker",properties:this.properties}}}class Ke{constructor(ae){this.properties=ae}build(){return{type:"Dropdown",properties:this.properties}}}class Ge{constructor(ae){this.properties=ae}build(){return{type:"DurationPicker",properties:this.properties}}}var we={minValue:{type:0,value:8},maxValue:{type:1,value:60}};class je{withFontSizeProperties(ae){var be,Le=ae.options,X={...we};be=Le?{...X,...Le}:X;var Ie={...ae,options:be};return this.fontSize=Ie,this}withFontFamily(ae){return this.fontFamily=ae,this}withBold(ae){return this.bold=ae,this}withItalic(ae){return this.italic=ae,this}withUnderline(ae){return this.underline=ae,this}build(){return{type:"FontControl",properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}}}class de{constructor(ae){this.properties=ae}build(){return{type:"GradientBar",properties:this.properties}}}class Pe{constructor(ae){this.properties=ae}withHiddenScale(ae,Le){return this.hideFitImage=ae,this.defaultScalingValue=Le,this}build(){return{type:"ImageUpload",properties:{...this.properties,imageScalingProperties:{defaultScalingValue:this.defaultScalingValue,hideFitImage:this.hideFitImage}}}}}class Ve{constructor(ae){this.properties=ae}build(){return{type:"Link",properties:this.properties}}}class Ze{constructor(ae){this.properties=ae}build(){return{type:"SeriesDialogLink",properties:this.properties}}}class Ue{withLeft(ae){return this.left=ae,this}withRight(ae){return this.right=ae,this}withTop(ae){return this.top=ae,this}withBottom(ae){return this.bottom=ae,this}build(){return{type:"MarginPadding",properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}}}class Je{constructor(ae){this.properties=ae}build(){var ae=this.properties;return null==ae.placeholderText&&(ae={...ae}),{type:"NumUpDown",properties:ae}}}class De{constructor(ae){this.properties=ae}build(){return{type:"ReadOnlyText",properties:this.properties}}}class ue{constructor(ae){this.properties=ae}build(){return{type:"ErrorRangeControl",properties:this.properties}}}class _e{constructor(ae){this.properties=ae}build(){return{type:"FieldPicker",properties:this.properties}}}class te{static getTransparencySliderBuilder({descriptor:ae,value:Le,localize:X},be){var Ie={descriptor:ae,value:Le,localize:X,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:"Slider_Percent"}};return new te(be?be(Ie):Ie)}static getRotationSliderBuilder({descriptor:ae,value:Le,localize:X},be){var Ie={descriptor:ae,value:(Le%360+360)%360,localize:X,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:"Slider_Degree"}};return new te(be?be(Ie):Ie)}constructor(ae){this.properties=ae}build(){var ae={...this.properties};return delete ae.localize,{type:"Slider",properties:ae}}}class ke{constructor(ae){this.properties=ae}build(){return{type:"ShapeMapSelector",properties:this.properties}}}class at{constructor(ae){this.properties=ae}build(){var ae=this.properties.placeholder;ae&&(ae=this.properties.localize(ae));var Le={...this.properties,placeholder:ae};return delete Le.localize,{type:"TextArea",properties:Le}}}class tt{constructor(ae){this.properties=ae}build(){return{type:"TextInput",properties:this.properties}}}class ut{constructor(ae){this.properties=ae}build(){return{type:"ToggleSwitch",properties:this.properties}}}class ct extends H{constructor(ae){super(ae)}build(){return a.fF.assert(()=>!!this.control,"control must exist"),{control:this.control,disabled:this.disabled,disabledReason:this.disabledReason,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}}withNoDefaultImpact(ae){return this.noDefaultImpact=ae,this}}},405427:function(Ce,k,r){function a(y){return y instanceof Date&&"number"==typeof y.epochTimeStamp}function e(y){var i=new Date(y.getTime());return i.epochTimeStamp=y.epochTimeStamp,i}function u(y,i=0,o=1,c=0,h=0,d=0,n=0){var s=new Date(y,i,o,c,h,d,n);return s.epochTimeStamp=Date.UTC(y,i,o,c,h,d,n),s}function t(y){var i=y;return i.epochTimeStamp=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),i}function C(y){return t(new Date(y))}r.d(k,{Fg:function(){return t},Fh:function(){return e},M4:function(){return a},tU:function(){return C},yI:function(){return u}})},930746:function(Ce,k,r){function a(e){e&&Object.getOwnPropertyNames(e).forEach(u=>{"constructor"!==u&&Object.defineProperty(e,u,{enumerable:!0})})}r.d(k,{y:function(){return a}})},480936:function(Ce,k,r){function a(u){var t=_.lastIndexOf(u,".");return t>=0?u.substr(t+1):""}function e(u){var t=_.lastIndexOf(u,".");return t>=0?u.substr(0,t):u}r.d(k,{K:function(){return e},m:function(){return a}})},616113:function(Ce,k,r){function a(u){return _.isEmpty(u)||_.isEmpty(u.trim())}function e(...u){var t=u[0];if(a(t))return t;for(var C=0;C<u.length-1;C++){var y=new RegExp("\\{"+C+"\\}","gm");t=t.replace(y,u[C+1])}return t}r.d(k,{W:function(){return e},g:function(){return a}})},900768:function(Ce,k,r){function a(y){return 40===y||38===y||37===y||39===y}function e(y){return"ArrowDown"===y||"ArrowUp"===y||"ArrowRight"===y||"ArrowLeft"===y}function u(y){return 65===y||67===y||88===y||86===y||90===y||89===y}function t(y){return 16===y}function C(y){return 46===y}r.d(k,{FJ:function(){return e},SF:function(){return t},Wl:function(){return a},iZ:function(){return u},rH:function(){return C}})},347933:function(Ce,k,r){r.d(k,{DR:function(){return u},GG:function(){return e}});var a=r(155388);class e{constructor(y=!1){this.promise=new a.a((i,o)=>{this.resolver=i,this.rejector=o})}resolve(y){this.resolver(y)}reject(y){this.rejector(y)}}function u(C){if(a.a.useNativePromise)return Promise.resolve(C);var y=new e(!0);return y.resolve(C),y.promise}},155388:function(Ce,k,r){r.d(k,{a:function(){return c}});var a=r(939123);function e(h,d){return new u(h,d)}class u{constructor(d,n){this.deferMethod=d,this.drainMethod=n,this.asyncQueue=[],this.processing=!1}defer(d,n,...s){a.fF.assertValue(d,"callback"),this.deferMethod?this.deferMethod(d):this.deferInternal(d,n,s)}drain(){this.drainMethod?this.drainMethod():this.drainQueue()}deferInternal(d,n,...s){!this.processing&&!this.asyncQueue.length&&setTimeout(()=>{this.asyncQueue.length>0&&this.drainQueue()},n),this.asyncQueue.push({callback:d,args:s})}drainQueue(){for(var d of(this.processing=!0,this.asyncQueue))d.callback(d.args);this.asyncQueue.length=0,this.processing=!1}}var i,t=r(845856);function C(h){return h&&_.isObject(h)&&h.then&&_.isFunction(h.then)}function y(h){return C(h)?h.then:null}class c{constructor(d,n){if(this[i]="Promise",this.timeout=c.ensurePbiTimeout(),this.autoFlush=c.autoFlushInitialized||!!n,this.state={status:0},d){if(c.useNativePromise)return new Promise(d);d(s=>c.resolvePromise(this,s),s=>c.rejectPromise(this,s))}}then(d,n){if(_.isUndefined(d)&&_.isUndefined(n))return this;var s=new c(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:s,onFulfilled:d,onRejected:n}),this.state.status>0&&this.scheduleProcessQueue(),s}catch(d){return this.then(null,d)}finally(d){return this.then(n=>c.handleCallback(n,c.resolve,d),n=>c.handleCallback(n,c.reject,d))}static all(d,n){if(c.useNativePromise)return Promise.all(d);var s,p,l=new c((f,S)=>{s=f,p=S},n),m=[],b=d.length;if(b>0)for(var V=0,g=function(f){var S=d[f];y(S)||(S=c.resolve(S,n)),S.then(M=>{m[f]=M}).catch(M=>{p(M)}).finally(()=>{++V===b&&s(m)})},v=0;v<b;v++)g(v);else s(m);return l}static setUseNativePromise(d){c.useNativePromise=d}static resolvePromise(d,n){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.f.error("resolvePromise should not be called when useNativePromise is true")),!d.state.status&&(n===d?d.rejectInternal("Expected promise to be resolved with value other than itself"):d.resolveInternal(n))}static rejectPromise(d,n){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.f.error("rejectPromise should not be called when useNativePromise is true")),!d.state.status&&d.rejectInternal(n)}static reset(){c.usingMicrotask=void 0,c.pbiTimeout=void 0,c.autoFlushInitialized=void 0}static init(d,n,s,p){void 0!==p&&(c.useNativePromise=p,c.useNativePromise)||c.usingMicrotask||(c.autoFlushInitialized=n,s?(c.pbiTimeout=e(l=>{Zone.current.scheduleMicroTask("DO_NOT_USE_PbiPromise.useMicrotask",l)}),c.usingMicrotask=!0):(a.fF.assertValue(d,"pbiTimeout"),c.pbiTimeout=d||c.pbiTimeout))}static resolve(d,n,s,p){if(c.useNativePromise)return Promise.resolve(d);var l=new c(null,n);return c.resolvePromise(l,d),l.then(s??null,p)}static reject(d,n){return c.useNativePromise?Promise.reject(d):new c((s,p)=>p(d),n)}defer(d){a.fF.assert(()=>_.isFunction(d),"callback"),this.autoFlush&&this.state.status>0?d():(a.fF.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(d,0))}resolveInternal(d){var n;try{(n=y(d))?(this.state.status=-1,n.call(d,s=>{this.resolveInternal(s)},s=>{this.rejectInternal(s)})):(this.state.value=d,this.state.status=1,this.scheduleProcessQueue())}catch(s){this.rejectInternal(s)}}rejectInternal(d){this.state.value=d,this.state.status=2,this.scheduleProcessQueue()}scheduleProcessQueue(){var d=this.state;d.processScheduled||_.isEmpty(d.pending)||(d.processScheduled=!0,this.defer(()=>c.processQueue(d)))}static ensurePbiTimeout(){var d=c.pbiTimeout;return d||(d=c.pbiTimeout=e()),d}static handleCallback(d,n,s){var p=null;try{_.isFunction(s)&&(p=s())}catch(l){return c.reject(l)}return C(p)?p.then(l=>n(d),c.reject):n(d)}static processQueue(d){var n=d.pending;for(var s of(d.processScheduled=!1,d.pending=void 0,n)){var p=s.result,l=void 0;l=1===d.status?s.onFulfilled:l,l=2===d.status?s.onRejected:l;try{_.isFunction(l)?c.resolvePromise(p,l(d.value)):1===d.status?c.resolvePromise(p,d.value):c.rejectPromise(p,d.value)}catch(m){c.rejectPromise(p,m)}}}}i=Symbol.toStringTag,c.useNativePromise=!0,c.traceError=!0},42298:function(Ce,k,r){r.d(k,{B:function(){return C},J:function(){return t}});var u,a=r(939123),e=r(831641);class t{constructor(o){if(this[u]="Promise",t.useNativePromise)return new window.Promise(o);this.defer=t.ensureFactory().defer(),o(c=>this.onResolve(c),c=>this.onReject(c))}then(o,c){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==c,this.defer.promise.then(o,c)}catch(o){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==o,this.defer.promise.catch(o)}finally(o){return this.defer.promise.finally(o)}static init(o,c,h,d){a.fF.assertValue(o,"promiseFactory"),a.fF.assertAnyValue(c,"exceptionHandler"),a.fF.assert(()=>h||!t.defaultFactoryWasProvided,"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),null!=d&&(t.useNativePromise=d),t.factory=o,t.exceptions=c,t.defaultFactoryWasProvided=!1}static setUseNativePromise(o){t.useNativePromise=o}static ensureFactory(){var o=t.factory;return o||(o=t.factory=(0,e.p)(),t.defaultFactoryWasProvided=!0),o}static resolve(o){return t.useNativePromise?window.Promise.resolve(o):new t((c,h)=>c(o))}static reject(o){return t.useNativePromise?window.Promise.reject(o):new t((c,h)=>h(o))}static allSettled(o){return t.useNativePromise?window.Promise.allSettled(o):new t((c,h)=>{var d=o.length;if(d>0)for(var n=[],s=0;s<d;s++)o[s].then(p=>n.push({value:p,type:0})).catch(p=>n.push({value:p,type:1})).finally(()=>{n.length===d&&c(n)});else c([])})}onResolve(o){var i;a.fF.assertAnyValue(o,"value"),(i=o)&&_.isFunction(i.then)?o.then(c=>this.onResolve(c),c=>this.onReject(c)):this.defer.resolve(o)}onReject(o){if(a.fF.assertAnyValue(o,"error"),!this.hasRejectionHandling&&o instanceof Error&&!o.suppressExceptionHandler){var c=t.exceptions;c&&(o.suppressExceptionHandler=!0,c(o))}this.defer.reject(o)}}u=Symbol.toStringTag,t.useNativePromise=!0;class C{constructor(){this.promise=new t((o,c)=>{this.resolver=o,this.rejector=c})}resolve(o){this.resolver(o)}reject(o){this.rejector(o)}}},773472:function(Ce,k,r){r.d(k,{AD:function(){return p},Ay:function(){return b},I2:function(){return y},Iu:function(){return u},O7:function(){return C},OH:function(){return e},Pu:function(){return g},aI:function(){return o},bL:function(){return d},fg:function(){return V},jL:function(){return l},lO:function(){return n},nd:function(){return s},y4:function(){return t}});var a=r(939123),e=1e-6;function u(v,f){return a.fF.assertValue(v,"x"),a.fF.assertValue(f,"y"),`translate(${v},${f})`}function t(v){return a.fF.assertValue(v,"x"),`translateX(${v}px)`}function C(v,f){return a.fF.assertValue(v,"x"),a.fF.assertValue(f,"y"),`translate(${v}px,${f}px)`}function y(v,f,S,P,D){return a.fF.assertValue(v,"x"),a.fF.assertValue(f,"y"),a.fF.assertValue(S,"px"),a.fF.assertValue(P,"py"),a.fF.assertValue(D,"angle"),`translate(${v},${f}) rotate(${D},${S},${P})`}function o(v,f,S){return a.fF.assertValue(v,"x"),a.fF.assertValue(f,"y"),a.fF.assertValue(S,"ratio"),`translate(${v},${f}) scale(${S})`}function h(v){return()=>{v.forEach(f=>{f?.each(function(){if(null!=this.__transition){if(_.some(this.__transition,N=>0===N.state)){var S=d3.select(this);return void requestAnimationFrame(h([S]))}var P=this.__transition||{},D=Object.keys(P);for(var M of D){var E=P[M];E&&E.timer?._call();var w=E.on._.end;for(var x of w)x.value.apply(this)}}})})}}function d(v,...f){if(v){var S=v;v.animation&&(S=v.animation),S&&S.transitionImmediate&&(_.isEmpty(f)||requestAnimationFrame(h(f)))}}function n(v){isNaN(v.x)&&(v.x=0),isNaN(v.y)&&(v.y=0)}function s(v){if(!v||0===v.length)return{x:"0",y:"0"};var f=v.split(/[\s,]+/);a.fF.assertValue(f,"translateCoordinates"),a.fF.assert(()=>f.length>0,"translate array must atleast have one value");var P,S="0",D=f[0];if(1===f.length)P=D.substring(10,D.length-1);else{var M=f[1];S=M.substring(0,M.length-1),P=D.substring(10,D.length)}return{x:P,y:S}}function p(v,f,S){return{path:`M0 0L0 ${f}L${v} ${f/2} Z`,transform:`rotate(${S} ${v/2} ${f/2})`}}function l(v){var f;try{f=v.getBBox()}catch{}return f||{x:0,y:0,width:0,height:0}}function b(v){return _.map(v,(P,D)=>(P=>1&~P?0===P?"M":"L":",")(D)+P).join("")+"z"}function V(v,f){if(!(v.length<4||v.length%2!=0)){var S=_.map(v,L=>Math.round(L*f)),P=[],D=S[0],M=S[1];P.push(D),P.push(M);for(var E=2;E<S.length;E+=2){var w=S[E],x=S[E+1];Math.abs(D-w)+Math.abs(M-x)<2||(P.push(w),P.push(x))}return b(P)}}function g(v,f,S){if("vectorEffect"in document.documentElement.style)return S;var P=v.split(" ");return a.fF.assert(()=>4===P.length,"viewBox must be of length 4"),S*(Math.max(+P[2],+P[3])/f)}},377714:function(Ce,k,r){r.d(k,{DJ:function(){return C},DQ:function(){return m},Fj:function(){return b},HH:function(){return e},MN:function(){return P},ZY:function(){return E},av:function(){return S},en:function(){return f},fS:function(){return g},gU:function(){return u},mA:function(){return V},oB:function(){return v},pU:function(){return t},wo:function(){return i}});var a=r(827677);function e(L,B=!0){if(_.isEmpty(L))return!1;var I=f(L);if(!I)return!1;switch(w(I.scheme)){case S.http:case S.https:return B||!_.isEmpty(I.host);default:return!1}}function u(L){return e(L)}function t(L){return!(!L||0!==L.indexOf("data:"))}function C(L){if(!t(L))throw new Error("Expected data uri");var I=L.indexOf(";base64,");if(I<0)throw new Error("Expected base 64 content in data url");var W=I+8;return L.substr(W,L.length-W)}function i(L){return"data:application/json;base64,"+m(L)}var n=a.AK||function(L){return L&&L.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,(B,I,W)=>String.fromCharCode(parseInt(I||W,16)))},s=a.YU||function(L){return L&&L.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,B=>{var I=B.charCodeAt(0).toString(16).toUpperCase();switch(I.length){case 1:return"%0"+I;case 2:return"%"+I;case 3:return"%u0"+I;default:return"%u"+I}})};function m(L){return btoa(function(L){return n(encodeURIComponent(L))}(L))}function b(L){return function(L){return decodeURIComponent(s(L))}(atob(L))}function V(L){var B=x(L);if(B)return N(B)}function g(L,B,I=!1){var W=v(L),O=W.baseUrl;if(I&&_.assign(B,W.queryParameters),_.isEmpty(B))return O;var F=[];for(var A in B){var T=B[A];if(null==T)F.push(encodeURIComponent(A));else if("string"==typeof T)F.push(encodeURIComponent(A)+"="+encodeURIComponent(T));else for(var R of T)F.push(encodeURIComponent(A)+"="+encodeURIComponent(R))}return O+"?"+F.join("&")}function v(L){var B=x(L);return{baseUrl:B?L.slice(0,L.indexOf("?")):L,queryParameters:N(B)}}function f(L){var B={scheme:"",host:"",path:"",query:"",fragment:""};if(null==L)return B;var I=L.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return I?{scheme:I[1],host:I[2],path:I[3],query:I[4],fragment:I[5]}:B}var S=function(L){return L[L.NONE=0]="NONE",L[L.http=1]="http",L[L.https=2]="https",L[L.file=3]="file",L[L.ftp=4]="ftp",L[L.mailto=5]="mailto",L[L.news=6]="news",L[L.telnet=7]="telnet",L}({});function P(L){var B=f(L);return null==B||null==B.scheme?S.NONE:w(B.scheme)}var M=/https?:\/\/[^\/]+/i;function E(L){return L&&L.replace(M,"")}function w(L){if(_.isEmpty(L))return S.NONE;switch(L.toLowerCase()){case"http":return S.http;case"https":return S.https;case"file":return S.file;case"ftp":return S.ftp;case"mailto":return S.mailto;case"news":return S.news;case"telnet":return S.telnet;default:return S.NONE}}function x(L){var B=document.createElement("a");return B.href=L,B.search}function N(L){if(!L)return{};_.startsWith(L,"?")&&(L=L.substring(1));var B=L.split("&"),I={};for(var W of B){var O=W.split("="),F=decodeURIComponent(O[0]),A=decodeURIComponent(O[1]),T=I[F];null==T?I[F]=A:"string"==typeof T?I[F]=[T,A]:T.push(A)}return I}},530177:function(Ce,k,r){r.d(k,{sE:function(){return i},bY:function(){return h},r:function(){return o},ql:function(){return l},iD:function(){return c}});var a=r(939123),e=/\n+/g,u=/[\s\n]+/g,t=/([^\S\r\n])/g,C=" ";function y(v,f,S){if(S){for(var P=v-1;P>-1;P--)if(o(f[P]))return P+1}else for(var D=v,M=f.length;D<M;D++)if(o(f[D]))return D;return S?0:f.length}function i(v,f){a.fF.assert(()=>v>=0&&v<=f.length,"index within content string bounds");var S={start:0,end:0};return 0===f.length||(S.start=y(v,f,!0),S.end=y(v,f,!1)),S}function o(v){return u.lastIndex=0,u.test(v)}function c(v){var f=1;for(u.lastIndex=0,u.exec(v);0!==u.lastIndex;)f++,u.exec(v);return f}function h(v,f,S){var P=g(v),D=0;for(var M of P)S.text=M,D=Math.max(D,f(S));return D}function d(v,f,S){return f.text=v,S(f)}class s{constructor(){this.words=[],this.width=0}getWidth(){return this.width}addWord(f,S){this.words.push(f),this.width+=S}toString(f){return this.words.join(f?"":C)}isEmpty(){return _.isEmpty(this.words)}}class p{constructor(){this.lastLine=new s,this.lines=[this.lastLine]}newLine(){var f=this.lastLine;return this.lastLine=new s,this.lines.push(this.lastLine),f}get count(){return this.lines.length}getLastLine(){return this.lastLine}getLastLineWidth(){return this.getLastLine().getWidth()}addWord(f,S){this.lastLine.addWord(f,S)}getLines(){return this.lines}}function l(v,f,S,P,D,M,E,w,x=!1){if(!v)return[""];if("string"!=typeof v&&(v=String(v)),a.fF.assert(()=>"string"==typeof v,"splitByWidth: content should be of type string"),D<1&&(D=Number.POSITIVE_INFINITY),w){var N=v.split(e),L=[];for(var B of N){var I=l(B,f,S,P,Math.max(1,D),M,E,!1,x);if(D>0)L.push(...I||[]),D-=I.length;else{var W=_.last(L);L[L.length-1]=W+C+I}}return L}M=M||((Q,ne)=>Q.text);var O=d(C,f,S),F=new p,A=g(v,x);for(var T of A){var R=d(T,f,S),U=R,z=F.getLastLine().isEmpty();if(!z&&T!==C&&(U+=O),F.getLastLineWidth()+U<=P||F.count>=D)F.addWord(T,U);else if(z||F.newLine(),R<=P)F.addWord(T,R);else{var j=D-F.count;if(!E||j<=0)F.addWord(T,R);else for(var H=m(T,f,S,P,j+1),q=0,G=H.chunks.length;q<G;q++){var J=H.chunks[q];q<G-1?(F.addWord(J,P),F.newLine()):F.addWord(J,H.lastChunkWidth)}}}var Z=_.map(F.getLines(),Q=>Q.getWidth()>P?function(v,f,S,P){return f.text=v,S(f,P)}(Q.toString(x),f,M,P):Q.toString(x));return Z}function m(v,f,S,P,D){var M={chunks:[],lastChunkWidth:0};if(D<1||0===v.length)return M;for(var E=function(v,f,S){return v.text="a",Math.floor(S/f(v))}(f,S,P),w=v,x=function(){if(M.chunks.length===D-1)return M.chunks.push(w),M.lastChunkWidth=d(w,f,S),0;var L=function(v,f,S,P,D){if(_.isEmpty(v))return{sizeInCharacters:0,sizeInPixels:0};if(0===P)return{sizeInCharacters:1,sizeInPixels:d(v.substr(0,1),f,S)};for(var E={sizeInCharacters:0,sizeInPixels:0},w=Math.min(D,v.length),x=-1,N=v.length+1;x<N-1;){var L=d(v.substr(0,w),f,S),B=L/P;if(L<=P){x=w,E.sizeInCharacters=w,E.sizeInPixels=L;var I=B>0?Math.ceil(w/B):w+1;I=Math.max(I,w+1),w=I=Math.min(I,N-1)}else{N=w;var W=B>0?Math.floor(w/B):w-1;W=Math.min(W,w-1),w=W=Math.max(W,x+1)}}return 0===E.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:d(v.substr(0,1),f,S)}:E}(w,f,S,P,E);E=L.sizeInCharacters;var B=L.sizeInCharacters;if(a.fF.assert(()=>B<=w.length,"Chunk size is greater than the whole text"),M.chunks.push(w.substr(0,B)),M.lastChunkWidth=L.sizeInPixels,B===w.length)return 0;w=w.substr(B,w.length-B)};w.length>0&&0!==x(););return M}function g(v,f){return f&&(v=v.replace(e,"")),v.split(f?t:u)}},490125:function(Ce,k,r){r.d(k,{l:function(){return e}});var e=new class{initialize(t){this.runOutsideAngular=C=>t.runOutsideAngular(C)}setInterval(t,C){return this.runOutsideAngular(()=>setInterval(t,C))}setTimeout(t,C){return this.runOutsideAngular(()=>setTimeout(t,C))}requestAnimationFrame(t){this.runOutsideAngular(()=>requestAnimationFrame(t))}runOutsideAngular(t){return t()}}},722709:function(Ce,k,r){r.d(k,{B0:function(){return U},Br:function(){return l},EB:function(){return t},Gz:function(){return P},JG:function(){return c},JN:function(){return I},Jq:function(){return m},LF:function(){return x},NF:function(){return h},Rl:function(){return T},U1:function(){return s},UR:function(){return p},UU:function(){return F},X_:function(){return q},ZH:function(){return E},bv:function(){return V},cq:function(){return n},dB:function(){return N},f1:function(){return H},g2:function(){return f},iv:function(){return O},pT:function(){return B},qn:function(){return o},rC:function(){return v},rY:function(){return W},rd:function(){return L},rm:function(){return d},s_:function(){return R},w6:function(){return i},x:function(){return A},yg:function(){return S},z8:function(){return g}});var a=r(939123);function t(G){for(var J=[],Z=0,Q=G.length;Z<Q;Z++){var ne=G[Z];-1===J.indexOf(ne)&&J.push(ne)}return J}function i(G,J,Z){a.fF.assert(()=>J>=0&&J<G.length,"startIndex is out of range."),a.fF.assert(()=>Z>=0&&Z<G.length,"endIndex is out of range.");for(var Q=[],ne=J;ne<=Z;++ne)Q.push(G[ne]);return Q}function o(G,J){a.fF.assert(()=>J>=0,"Count is negative."),a.fF.assert(()=>J<=G.length,"Count is too large.");for(var Z=[],Q=0;Q<J;++Q)Z.push(G[Q]);return Z}function c(G){return a.fF.assertValue(G,"source"),o(G,G.length)}function h(G,J,Z){if(G||(G=null),J||(J=null),G===J)return!0;if(!!G!=!!J)return!1;var Q=G?.length??0;if(Q!==J?.length)return!1;for(var ne=0;ne<Q&&Z(G?.[ne],J?.[ne]);)++ne;return ne===Q}function d(G){return G&&0===G.length?null:G}function n(G,J){a.fF.assertValue(G,"array"),a.fF.assertValue(J,"predicate");for(var Z=0,Q=G.length;Z<Q;++Z)if(J(G[Z]))return Z;return-1}function s(G,J){if(0===J)return G.slice();var Z=G.slice(J);return Array.prototype.push.apply(Z,G.slice(0,J)),Z}function p(){return l([])}function l(G){a.fF.assertValue(G,"array");var J=G;return J.withId=b,J}function m(G,J){for(var Z=0,Q=G.length;Z<Q;Z++){var ne=G[Z];if(ne.id===J)return ne}}function b(G){return m(this,G)}function V(){return g([])}function g(G){a.fF.assertValue(G,"array");var J=G;return J.withName=M,J}function v(G,J){var Z=f(G,J);if(Z>=0)return G[Z]}function f(G,J){for(var Z=0,Q=G.length;Z<Q;Z++)if(G[Z].name===J)return Z;return-1}function S(G,J){a.fF.assertValue(G,"list"),a.fF.assertValue(J,"value");for(var Q=G.length-1;Q>=0;Q--){var ne=G[Q]-J;if(0===ne)return!1;if(!(ne>0))return G.splice(Q+1,0,J),!0}return G.unshift(J),!0}function P(G,J){for(var Z of(a.fF.assertValue(G,"list"),a.fF.assertValue(J,"value"),G))if(Z===J)return!1;return G.push(J),!0}function M(G){return v(this,G)}function E(G){if(G)for(;G.length>0;)G.pop()}function x(G,J,Z){var Q=G[J];G[J]=G[Z],G[Z]=Q}function N(G,J,Z){return _.some(G,Q=>Z(Q,J))}function L(G){a.fF.assertValue(G,"obj");for(var J=G;null!=J;){if(_.isArray(J))return!0;J=Object.getPrototypeOf(J)}return!1}function B(G,J){a.fF.assertValue(G,"values"),a.fF.assertValue(J,"compareFunction");var Z=G.length;if(Z>=2)for(var Q=1;Q<Z;Q++)if(J(G[Q-1],G[Q])>0)return!1;return!0}function I(G,J){return a.fF.assertValue(G,"values"),a.fF.assertAnyValue(J,"descendingOrder"),B(G,J?(Q,ne)=>ne-Q:(Q,ne)=>Q-ne)}function W(G){return _.isArray(G)?G:[G]}function O(G){return _.uniqBy(G,J=>J.name).length===G.length}function F(G,J){a.fF.assertValue(G,"array");for(var Z,Q=0,ne=G.length;Q<ne;Q++){var le=G[Q],he=J(le);le!==he&&!Z&&(Z=o(G,Q)),Z&&Z.push(he)}return Z||G}function A(G,J){a.fF.assertValue(G,"array");for(var Z,Q=0,ne=G.length;Q<ne;Q++){var le=G[Q],he=J(le,Q),Se=1!==he.length||he[0]!==le;Se&&!Z&&(Z=o(G,Q)),Z&&(Se?Z.push(...he||[]):Z.push(le))}return Z||G}function T(G,J){a.fF.assertValue(G,"array");for(var Z,Q=0,ne=G.length;Q<ne;Q++){var le=G[Q],he=J(le,Q);!he&&!Z&&(Z=o(G,Q)),Z&&he&&Z.push(le)}return Z||G}function R(G,J,Z){return _.isEmpty(G)||_.isEmpty(J)?_.isEmpty(G)&&_.isEmpty(J):G.length===J.length&&function(G,J,Z){var Q=new Array(J.length);for(var ne of G){for(var le=!1,he=0;he<J.length;he++)if(!Q[he]&&Z(ne,J[he])){le=!0,Q[he]=!0;break}if(!le)return!1}return!0}(G,J,Z)}function U(G,J){var Z=_.findIndex(G,J);if(-1!==Z){var Q=G[Z];G.splice(Z,1),G.push(Q)}}function H(G,J,Z){if(_.isEmpty(G)||_.isEmpty(J))return[];for(var Q=[],ne=0;ne<=G.length;ne++){Q[ne]=[];for(var le=0;le<=J.length;le++)Q[ne][le]=0===ne||0===le?0:Z(G[ne-1],J[le-1])?Q[ne-1][le-1]+1:Math.max(Q[ne-1][le],Q[ne][le-1])}for(var he=[],Se=Q[G.length][J.length],Ke=G.length,Ge=J.length;Ke>0&&Ge>0;)Z(G[Ke-1],J[Ge-1])?(he[Se-1]=G[Ke-1],Ke--,Ge--,Se--):Q[Ke-1][Ge]>Q[Ke][Ge-1]?Ke--:Ge--;return he}function q(G,J){a.fF.assertValue(G,"dictionary");for(var Z,Q=Object.getOwnPropertyNames(G),ne=0,le=Q.length;ne<le;ne++){var he=Q[ne],Se=G[he],Ke=J(he,Se);Se!==Ke&&!Z&&(Z=_.pick(G,o(Q,ne))),Z&&(Z[he]=Ke)}return Z||G}},288487:function(Ce,k,r){r.d(k,{Bm:function(){return i},Gx:function(){return b},HA:function(){return t},Hx:function(){return m},N6:function(){return h},RU:function(){return d},Vh:function(){return e},e$:function(){return n},hC:function(){return g},j:function(){return o},jK:function(){return y},mB:function(){return s},nE:function(){return c},qw:function(){return V},sH:function(){return u},xs:function(){return v},zd:function(){return C}});var a=r(939123);function e(f){return!(!f||!f.performanceActivities)}class u extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class t extends u{constructor(S){super(S?.code),this.clientError=S}}var C="Client Error Code",y="Error Code",i="Error Details",o="HTTP Request Id",c="Job Id",h="OData Error Message",d="Stack Trace",n="QueryCacheMissError";class s{constructor(S){this.code=S,this.ignorable=!1,a.fF.assertValue(S,"code")}getDetails(S){return{resourceKey:"ClientError_UnknownClientErrorKey",message:S.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:S.get("ClientError_UnknownClientErrorKey"),errorInfoValue:S.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:C,errorInfoValue:this.code}]}}}var p={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:1}},l={RLSNotAuthorizedForModel:p,NotAuthorizedForImpersonation:p,TokenExpired:{localizedMessage:"ClientError_TokenExpired"}};function m(f){return null!=f&&void 0!==f.code&&void 0!==f.ignorable&&void 0!==f.requestId&&void 0!==f.getDetails}class b{constructor(S,P,D,M,E){this.statusCode=S,this.httpRequestId=P,this.detailedErrorCode=D,this.detailedMessage=M,this.source=E,a.fF.assertValue(S,"httpStatusCode")}get code(){return this.detailedErrorCode||"HttpClientError"}get ignorable(){return!1}get requestId(){return this.httpRequestId}get httpStatusCode(){return this.statusCode}getDetails(S){var P=this.detailedErrorCode&&l[this.detailedErrorCode];if(P){var D=P.localizedMessage,M=P.additionalInfoKey||"DsrError_Key",E=P.additionalInfoValue||D||"DsrError_UnknownErrorValue",w=P.helpLinkInfo;return{resourceKey:M,message:D?S.get(D):null,displayableErrorInfo:[{errorInfoKey:S.get(M),errorInfoValue:S.get(E)}],debugErrorInfo:[],helpLink:w&&w.helpLink,helpLinkType:w&&w.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(S)}getGenericErrorDetails(S){var P={resourceKey:"DsrError_Key",message:S.get("ServerError_NetworkConnectionIssue"),displayableErrorInfo:[{errorInfoKey:S.get("DsrError_Key"),errorInfoValue:S.get("DsrError_UnknownErrorValue")},{errorInfoKey:S.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:o,errorInfoValue:this.httpRequestId},{errorInfoKey:C,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&P.debugErrorInfo&&P.debugErrorInfo.push({errorInfoKey:i,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&P.debugErrorInfo&&P.debugErrorInfo.push({errorInfoKey:y,errorInfoValue:this.detailedErrorCode}),P}}var V=(()=>{class f{constructor(P){this.debugInfo=P,this.code=f.Code,this.ignorable=!0}getDetails(P){return{message:"",displayableErrorInfo:[]}}}return f.Code="IgnorableClientError",f})();class g extends V{constructor(S){super("QueryCancellationClientError: "+S),this.cancellationSource=S}get queryCancellationSource(){return this.cancellationSource}}class v{constructor(){this.errorCode=n}get code(){return this.errorCode}get ignorable(){return!1}getDetails(S){return{message:S.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:S.get("ServiceError_QueryExecutionRequired"),errorInfoValue:S.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:S.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:C,errorInfoValue:this.code}]}}}},270862:function(Ce,k,r){r.d(k,{$Q:function(){return M},A7:function(){return m},Bx:function(){return l},HO:function(){return x},HS:function(){return g},TD:function(){return s},U1:function(){return u},U8:function(){return p},WV:function(){return C},X6:function(){return E},_j:function(){return c},b9:function(){return h},ci:function(){return t},cu:function(){return V},iC:function(){return L},jd:function(){return P},ok:function(){return v},rJ:function(){return d},s1:function(){return N}});var a=r(939123),e=r(753104);function u(B,I){if(0===I)return B;var W=C(B);if(W){var O=y(W);if(O){var F=function(B,I){var W=B.H+I;return{H:W>1?W-1:W,S:B.S,V:B.V}}(O,I);if(F){var A=i(F);if(A)return l(A)}}}}function t(B){var I=C(B);if(I)return l(I)}function C(B){if(B.indexOf("#")>=0){if(7===B.length){var I=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(B);return null==I||I.length<4?void 0:{R:parseInt(I[1],16),G:parseInt(I[2],16),B:parseInt(I[3],16)}}if(4===B.length){var W=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(B);return null==W||W.length<4?void 0:{R:parseInt(W[1]+W[1],16),G:parseInt(W[2]+W[2],16),B:parseInt(W[3]+W[3],16)}}}else{if(B.indexOf("rgb(")>=0){var O=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(B);return null==O||O.length<4?void 0:{R:parseInt(O[1],10),G:parseInt(O[2],10),B:parseInt(O[3],10)}}if(B.indexOf("rgba(")>=0){var F=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(B);return null==F||F.length<5?void 0:{R:parseInt(F[1],10),G:parseInt(F[2],10),B:parseInt(F[3],10),A:parseFloat(F[4])}}}}function y(B){if(B){var I,W,O=B.R/255,F=B.G/255,A=B.B/255,T=Math.min(O,Math.min(F,A)),R=Math.max(O,Math.max(F,A)),z=R-T;return 0===R||0===z?(I=0,W=0):(I=z/R,W=O===R?(F-A)/z:F===R?2+(A-O)/z:4+(O-F)/z),(W/=6)<0&&(W+=1),{H:W,S:I,V:R}}}function i(B){var I,W,O,R,U,z,j,H,q,A=B.S,T=B.V;if(0===A)I=T,W=T,O=T;else switch(R=T*(1-A),U=T*(1-A*(j=(q=6*B.H)-(H=Math.floor(q)))),z=T*(1-A*(1-j)),H){case 0:I=T,W=z,O=R;break;case 1:I=U,W=T,O=R;break;case 2:I=R,W=T,O=z;break;case 3:I=R,W=U,O=T;break;case 4:I=z,W=R,O=T;break;case 5:I=T,W=R,O=U;break;default:return void a.fF.assertFail("unexpected")}return{R:Math.floor(255*I),G:Math.floor(255*W),B:Math.floor(255*O)}}function c(B,I){var W=Math.floor(I);return{R:Math.max(0,B.R-W),G:Math.max(0,B.G-W),B:Math.max(0,B.B-W)}}function h(B,I){return B.A=I,B}function d(B){var I=C(B);if(I)return function(B){return _.isNumber(B.A)?Math.round(100*(1-B.A)):0}(I)}function s(B){return 1-(B??0)/100}function p(B){return null==B.A?"rgb("+B.R+","+B.G+","+B.B+")":"rgba("+B.R+","+B.G+","+B.B+","+B.A+")"}function l(B){return"#"+D(B.R)+D(B.G)+D(B.B)}function m(B){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(B)}function V(B){return/^#[0-9a-f]{6}$/i.test(B)}function g(B){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(B)}function v(B,I,W){var O=C(B),F=C(W);if(O&&F)return l(function(B,I,W){return I=(0,e.QO)(I,0,1),{R:S(B.R,I,W.R),G:S(B.G,I,W.G),B:S(B.B,I,W.B)}}(O,I,F))}function S(B,I,W){return I=(0,e.QO)(I,0,1),B=(0,e.QO)(B,0,255),W=(0,e.QO)(W,0,255),Math.round(I*B+(1-I)*W)}function P(B,I,W){var O=y(B);if(O){(I+W>1||I<=0||W<=0)&&(a.fF.assert(()=>!1,"Invalid lumianceThreshold and highlightColor adjusting delta."),I=.8,W=.2),O.V=O.V<I?O.V+W:O.V-W;var F=i(O);if(F)return l(F)}}function D(B){var W=(0,e.QO)(B,0,255).toString(16).toUpperCase();return 1===W.length?"0"+W:W}function M(B,I,W){a.fF.assert(()=>B.length===I.length,"createLinearColorScale - domain and range must be the same size"),a.fF.assert(()=>B.length>1,"createLinearColorScale - domain and range must contain at least 2 values");var O=I.map(F=>C(F));return F=>{if(null==F&&(F=0),!isNaN(F)){if(W){var A=_.last(B);if(null==A||F>=A)return _.last(I);if(F<=B[0])return I[0]}for(var T,R,U,z,j=1,H=B.length;j<H;j++){if(R=B[j],(T=B[j-1])===Number.NEGATIVE_INFINITY&&isNaN(R))return I[j];if(isNaN(T)||isNaN(R))return;if(F===R)return I[j];if(F>=T&&F<=R){U=O[j-1],z=O[j];break}}if(void 0!==T&&void 0!==R&&void 0!==U&&void 0!==z)return l({R:w(F,T,R,U.R,z.R),G:w(F,T,R,U.G,z.G),B:w(F,T,R,U.B,z.B)})}}}function E(B,I=.25){a.fF.assert(()=>I>0&&I<=.5,"valueOffset must be positive and less than 0.5");var O=y(C(B));if(O){O.V=O.V>1-I?1-I:O.V<I?I:O.V;var F=_.clone(O),A=_.clone(O);F.V=Math.min(O.V+I,1),A.V=Math.max(O.V-I,0);var T=i(F),R=i(A);if(T&&R)return M([0,1],[l(T),l(R)],!0)}}function w(B,I,W,O,F){return I===Number.NEGATIVE_INFINITY&&W===Number.POSITIVE_INFINITY?Math.round((F+O)/2):I===Number.NEGATIVE_INFINITY?F:W===Number.POSITIVE_INFINITY?O:Math.round(O+(B-I)*(F-O)/(W-I))}function x(B,I){var W=parseInt(B.slice(1),16),O=I<0?0:255,F=I<0?-1*I:I,A=W>>16,T=W>>8&255,R=255&W;return"#"+(16777216+65536*(Math.round((O-A)*F)+A)+256*(Math.round((O-T)*F)+T)+(Math.round((O-R)*F)+R)).toString(16).slice(1)}var N={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function L(B){return a.fF.assertValue(B,"getWebColorValue - colorName"),N[B.toLocaleLowerCase()]}},356542:function(Ce,k,r){r.d(k,{U:function(){return u},Xy:function(){return t},fA:function(){return a},md:function(){return e}});var a="foreground",e="foregroundDark",u="background",t="backgroundNeutral"},479517:function(Ce,k,r){function a(C,y){!0!==C&&t(y||"condition: "+C)}function e(C,y){null==C&&t(y||"condition: "+C)}function t(C){throw new Error("Contract check failed: "+C)}r.d(k,{BF:function(){return a},bG:function(){return t},wS:function(){return e}})},939123:function(Ce,k,r){r.d(k,{fF:function(){return a}});var a=(()=>{class t{static setAssertFailFunction(y){t.assertFailFunction=y}static assert(y,i){}static setAssert(y){t.assert=y}static assertValue(y,i){}static assertNonEmpty(y,i){}static assertAnyValue(y,i){}static assertFail(y){}static log(y,...i){}static logDebug(y,...i){}static warn(y,...i){}static assertNever(y){}static breakDebugger(){}static execute(y){}static isDisabled(){return this.disbaled}static disable(){window.DEBUG=!1,this.disbaled=!0}}return t.disbaled=!1,t})(),u=!1;u||(window.debug=a,window.DEBUG=!1,u=!0)},827677:function(Ce,k,r){r.d(k,{AK:function(){return t},YU:function(){return u},x9:function(){return C}});var u=window.escape,t=window.unescape;function C(y){}},310420:function(Ce,k,r){function a(){return window.powerbi||(window.powerbi={}),window.powerbi}function e(){var C=a();return C.common||(C.common={}),C.common}function u(){var C=a();return C.visuals||(C.visuals={}),C.visuals}function t(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}r.d(k,{Z7:function(){return u},hG:function(){return e},kx:function(){return t},wg:function(){return a}})},503934:function(Ce,k,r){r.d(k,{Wn:function(){return t},_b:function(){return y},bw:function(){return C}});var a='"',e=", ";class u{constructor(h){this.families=h}get family(){return this.getFamily()}getFamily(){return this.families.join(e)}get css(){return this.getCSS()}getCSS(){return this.families?this.families.map(h=>h.indexOf(" ")>-1?`'${h}'`:h).join(", "):null}}var t={light:new u(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new u(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new u(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new u(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new u(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new u(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new u(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new u(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new u(["PowerVisuals"])},C={"Segoe UI Light":t.light,"Segoe UI Semilight":t.semilight,"Segoe UI":t.regular,"Segoe UI Semibold":t.semibold,"Segoe (Bold)":t.bold,"Segoe UI Bold":t.bold,DIN:t.regularSecondary,"DIN Light":t.lightSecondary,Heading:t.light,Body:t.regular};function y(c,h=!0){return null==c||""===c?c:-1===c.indexOf(",")?-1===c.indexOf(" ")?c:h?function(c){if(c)return a+c.replace(/['"]+/g,"")+a}(c):function(c){if(c)return c.replace(/['"]+/g,"")}(c):c.split(",").map(n=>y(n.trim(),h)).join(e)}},834385:function(Ce,k,r){r.d(k,{U:function(){return a}});class a{constructor(u,t,C,y){this.left=u||0,this.top=t||0,this.width=C||0,this.height=y||0}}},430951:function(Ce,k,r){r.d(k,{Sp:function(){return i},ao:function(){return n},fS:function(){return u},oY:function(){return d}});var a=r(327553);function u(s,p){return null!=s&&null!=p&&s.x===p.x&&s.y===p.y}function i(s,p){if(null===s||null===p)return null;var l=p.x-s.x,m=p.y-s.y;return Math.sqrt(l*l+m*m)}function d(s,p,l){var m=(p.y-s.y)*(l.x-p.x)-(p.x-s.x)*(l.y-p.y);return 0===m?a.i.Colinear:m>0?a.i.Clockwise:a.i.Counterclockwise}function n(s,p,l){return l.x<=Math.max(s.x,p.x)&&l.x>=Math.min(s.x,p.x)&&l.y<=Math.max(s.y,p.y)&&l.y>=Math.min(s.y,p.y)}},83411:function(Ce,k,r){function b(V,g){if(V&&g)return{x:g.x-V.x,y:g.y-V.y}}r.d(k,{Au:function(){return b}})},479954:function(Ce,k,r){r.d(k,{$X:function(){return b},Az:function(){return I},BD:function(){return E},F2:function(){return y},H6:function(){return W},HL:function(){return w},I:function(){return i},IH:function(){return m},Oq:function(){return h},WN:function(){return O},d9:function(){return s},f6:function(){return c},fS:function(){return n},hT:function(){return d},rr:function(){return V},w3:function(){return o},wf:function(){return x}});var a=r(939123),e=r(753104);function y(F){return F.left+F.width}function i(F){return F.top+F.height}function o(F){return{x:F.left,y:F.top}}function c(F){return{x:F.left+F.width,y:F.top}}function h(F){return{x:F.left,y:F.top+F.height}}function d(F){return{x:F.left+F.width,y:F.top+F.height}}function n(F,A){return null!=A&&F.left===A.left&&F.top===A.top&&F.width===A.width&&F.height===A.height}function s(F){return null!==F?{left:F.left,top:F.top,width:F.width,height:F.height}:null}function m(F,A){return a.fF.assertValue(F,"rect"),a.fF.assertValue(A,"rect2"),{left:F.left+A.left,top:F.top+A.top,height:F.height+A.height,width:F.width+A.width}}function b(F,A){return a.fF.assertValue(F,"rect"),a.fF.assertValue(A,"rect2"),{left:F.left-A.left,top:F.top-A.top,height:F.height-A.height,width:F.width-A.width}}function V(F,A){var T=s(F);return T?(A&&(T.left-=A.left,T.top-=A.top,T.width+=A.left+A.right,T.height+=A.top+A.bottom),T):null}function E(F,A,T=!1){return null!==F&&null!==A&&(T?(0,e.Po)(F.left,A.x)&&(0,e.Po)(A.x,F.left+F.width)&&(0,e.Po)(F.top,A.y)&&(0,e.Po)(A.y,F.top+F.height):(0,e.bl)(F.left,A.x)&&(0,e.bl)(A.x,F.left+F.width)&&(0,e.bl)(F.top,A.y)&&(0,e.bl)(A.y,F.top+F.height))}function w(F,A){return!(!F||!A||A.left>F.left+F.width||A.left+A.width<F.left||A.top>F.top+F.height||A.top+A.height<F.top)}function x(F,A){if(!F)return A;if(!A)return F;var T=Math.max(F.left,A.left),R=Math.max(F.top,A.top),U=Math.min(F.left+F.width,A.left+A.width),z=Math.min(F.top+F.height,A.top+A.height);return T<=U&&R<=z?{left:T,top:R,width:U-T,height:z-R}:{left:0,top:0,width:0,height:0}}function I(F){return{x:F.left+F.width/2,y:F.top+F.height/2}}function W(F,A){var T=A.width||0,R=A.height||0;F.left+F.width>T&&(F.left=Math.max(T-F.width,0)),F.top+F.height>R&&(F.top=Math.max(R-F.height,0)),F.left=Math.max(0,F.left),F.top=Math.max(0,F.top)}function O(F,A,T,R){return void 0!==F&&void 0!==A&&void 0!==T&&void 0!==R&&(a.fF.assert(()=>F<=A,"Lower bound for range should not be greater than upper bound."),a.fF.assert(()=>T<=R,"Lower bound for range should not be greater than upper bound."),(0,e.bl)(F,R)&&(0,e.bl)(T,A))}},753296:function(Ce,k,r){r.d(k,{m:function(){return t}});var a=r(327553),e=r(430951),u=r(479954);class t{constructor(y){y&&(this.polygonPoints=this.convertArrayPathToPoints(y))}static fromPolygonPoints(y){var i=new t(null);return i.polygonPoints=y,i}absoluteCentroid(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid}absoluteBoundingRect(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect}contains(y){var o={x:y.left+y.width,y:y.top},c={x:y.left,y:y.top+y.height},h={x:y.left+y.width,y:y.top+y.height};return this.inside({x:y.left,y:y.top})&&this.inside(o)&&this.inside(c)&&this.inside(h)}conflicts(y){if(!this.isConflictWithBoundingBox(y))return!1;var o={x:y.left+y.width/2,y:y.top},c={x:y.left+y.width,y:y.top},h={x:y.left,y:y.top+y.height},d={x:y.left+y.width/2,y:y.top+y.height},n={x:y.left+y.width,y:y.top+y.height},s={x:y.left,y:y.top+y.height/2},p={x:y.left+y.width,y:y.top+y.height/2};return this.inside({x:y.left,y:y.top})||this.inside(o)||this.inside(c)||this.inside(h)||this.inside(d)||this.inside(n)||this.inside(s)||this.inside(p)}lineIntersectionPoint(y,i){for(var o=0;o<this.polygonPoints.length;o++){var d=this.getLineIntersection(y,i,this.polygonPoints[o],o===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[o+1]);if(null!==d)return d}return null}static calculateAbsolutePolygonArea(y){var i,o=1,c=0;for(i=0;i<y.length;i++)c+=y[i].x*y[o].y-y[o].x*y[i].y,o=(o+1)%y.length;return.5*c}overlapPath(y){if(this.inside({x:y[0],y:y[1]}))return!0;var i=new t(y);if(i.inside(this.polygonPoints[0]))return!0;for(var o=0;o<this.polygonPoints.length;o++)if(i.lineIntersectionPoint(this.polygonPoints[o],this.polygonPoints[(o+1)%this.polygonPoints.length]))return!0;return!1}inside(y){for(var i=y.x,o=y.y,c=!1,h=0,d=this.polygonPoints.length-1;h<this.polygonPoints.length;d=h++){var n=this.polygonPoints[h].x,s=this.polygonPoints[h].y,l=this.polygonPoints[d].y;s>o!=l>o&&i<(this.polygonPoints[d].x-n)*(o-s)/(l-s)+n&&(c=!c)}return c}static translateX(y,i){for(var o=new Float64Array(2*y.polygonPoints.length),c=0;c<y.polygonPoints.length;c++)o[2*c]=y.polygonPoints[c].x+i,o[2*c+1]=y.polygonPoints[c].y;return new t(o)}static polygonBoundsOverlap(y,i){var o=(0,u.WN)(t.getPolyBoundLeft(y),t.getPolyBoundRight(y),t.getPolyBoundLeft(i),t.getPolyBoundRight(i)),c=(0,u.WN)(t.getPolyBoundLower(y),t.getPolyBoundUpper(y),t.getPolyBoundLower(i),t.getPolyBoundUpper(i));return o&&c}static circleRectangleOverlap(y,i,o){var c=Math.max(y.left,Math.min(i.x,y.right)),h=Math.min(y.bottom,Math.max(i.y,y.top)),d=c-i.x,n=h-i.y;return d*d+n*n<=o*o}static linesIntersect(y,i,o,c,h=!0){var d=(0,e.oY)(y,i,o),n=(0,e.oY)(y,i,c),s=(0,e.oY)(o,c,y),p=(0,e.oY)(o,c,i);return d!==n&&s!==p||!!h&&!!(d===a.i.Colinear&&(0,e.ao)(y,i,o)||n===a.i.Colinear&&(0,e.ao)(y,i,c)||s===a.i.Colinear&&(0,e.ao)(o,c,y)||p===a.i.Colinear&&(0,e.ao)(o,c,i))}static resize(y,i){if(0===i)return y;for(var o=t.calculateAbsolutePolygonArea(y.polygonPoints)>0,h=_.clone(i>0&&!0===o||i<0&&!1===o?y.polygonPoints.reverse():y.polygonPoints),d=y.absoluteCentroid(),n=[],s=0;s<h.length;s++){var p=h[s],l=h[(s+1)%h.length],m=l.y-p.y,b=void 0;0!==m&&(b=-(l.x-p.x)/m);var V=0;_.isUndefined(b)||(V=(p.y<l.y?-1:1)*Math.sqrt(i*i/(1+b*b)));var g=0;0===V?g=(p.x>l.x?-1:1)*i:_.isUndefined(b)||(g=b*V);var v={x:p.x+V,y:p.y+g},f={x:0,y:0};0===b?(f.x=v.x,f.y=v.y+10):_.isUndefined(b)||(f.x=v.x+10,f.y=v.y-10/b);var S=(v.x-f.x)*(d.y-p.y)-(v.y-f.y)*(d.x-p.x);if(0!==S){var P={x:((v.x*f.y-v.y*f.x)*(d.x-p.x)-(v.x-f.x)*(d.x*p.y-d.y*p.x))/S,y:((v.x*f.y-v.y*f.x)*(d.y-p.y)-(v.y-f.y)*(d.x*p.y-d.y*p.x))/S};isFinite(P.x)&&isFinite(P.y)&&n.push(P)}}return t.fromPolygonPoints(n)}static getPolyBoundLeft(y){return _.minBy(y.polygonPoints,i=>i.x)?.x}static getPolyBoundRight(y){return _.maxBy(y.polygonPoints,i=>i.x)?.x}static getPolyBoundUpper(y){return _.maxBy(y.polygonPoints,i=>i.y)?.y}static getPolyBoundLower(y){return _.minBy(y.polygonPoints,i=>i.y)?.y}isConflictWithBoundingBox(y){return(0,u.HL)(this.absoluteBoundingRect(),y)}calculatePolygonCentroid(){var y,i,o,c,h,d;for(y=t.calculateAbsolutePolygonArea(this.polygonPoints),o=c=0,d=1,h=0;h<this.polygonPoints.length;h++)o+=(this.polygonPoints[h].x+this.polygonPoints[d].x)*(i=this.polygonPoints[h].x*this.polygonPoints[d].y-this.polygonPoints[d].x*this.polygonPoints[h].y),c+=(this.polygonPoints[h].y+this.polygonPoints[d].y)*i,d=(d+1)%this.polygonPoints.length;return{x:o/=6*y,y:c/=6*y}}calculateBoundingRect(){var y=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;for(var h of this.polygonPoints)h.x<y?y=h.x:h.x>o&&(o=h.x),h.y<i?i=h.y:h.y>c&&(c=h.y);return{left:y,top:i,width:o-y,height:c-i}}getLineIntersection(y,i,o,c){var h=y.x,d=y.y,p=o.x,l=o.y,V=i.x-h,g=i.y-d,v=c.x-p,f=c.y-l,S=(-g*(h-p)+V*(d-l))/(-v*g+V*f),P=(v*(d-l)-f*(h-p))/(-v*g+V*f);return S>=0&&S<=1&&P>=0&&P<=1?{x:h+P*V,y:d+P*g}:null}convertArrayPathToPoints(y){for(var i=[],o=0;o<y.length;o+=2)i.push({x:y[o],y:y[o+1]});return i}}},201591:function(Ce,k,r){r.d(k,{C$:function(){return t},Iq:function(){return c},T7:function(){return i},eg:function(){return u},mH:function(){return y},yf:function(){return C}});var a=r(288487),e=r(752517),u="ServerError_";function t(h,d,n){if(!d)return h;for(var s of d){var p=n.getOptional(u+s.code),l=s.detail.value;0===s.detail.type&&(l=n.get(u+l)),h.displayableErrorInfo.push({errorInfoKey:p||s.code,errorInfoValue:l})}return h}function C(h,d,n,s,p){var l=h.debugErrorInfo=h.debugErrorInfo||[];return p&&l.push({errorInfoKey:a.j,errorInfoValue:p}),d&&l.push({errorInfoKey:a.zd,errorInfoValue:d}),n&&l.push({errorInfoKey:a.Bm,errorInfoValue:n}),s&&l.push({errorInfoKey:a.RU,errorInfoValue:s}),h}function y(h,d){return{message:h.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:h.get("ServiceError_CannotLoadVisual"),errorInfoValue:d.message}]}}function i(h,d,n,s){var p,l={};if(n)if(_.isArray(n))for(var m of n)l[m.Key]=m.Value;else l=n;return p={message:o(h,d,l),displayableErrorInfo:[]},s&&t(p,s,h),p}function o(h,d,n){if(!d)return"";var s,p=h.get(u+d);return p&&(s=p.replace(/\{\s*([^}\s]+)\s*\}/g,function(l,m,b,V){return n[m]})),s}function c(h,d){var m,n="",s="",p="",l="",b=!1;switch(d.errorCode){case e.jt:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("PremiumRequired_TitleText"),p=h.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),b=!0;break;case e.$f:n=h.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),s=h.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),p=o(h,"LargeModelMovedAcrossRegions",d.parameters),l="https://aka.ms/moving-large-datasets",b=!0;break;case e.ts:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelFetchingFailureKey"),p=h.get("DsrError_NoPermissionDueToRLSGroupMessage"),b=!0;break;case e.Fr:case e.x4:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelFetchingFailureKey"),p=h.get("DsrError_CanNotRetrieveModelMessage"),b=!0;break;case e.hR:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelFetchingFailureKey"),p=h.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),b=!0;break;case e.Lb:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelFetchingFailureKey"),p=h.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),b=!0;break;case e.NC:n=h.get("ServiceError_CannotLoadVisual"),s=h.get("ServiceError_AuthenticationErrorKey"),p=h.get("ServiceError_AuthenticationErrorValue"),b=!0;break;case e.Ew:n=h.get("ServiceError_CannotLoadVisual"),s=h.get("ServiceError_AuthenticationErrorKey"),p=h.get("ServiceError_WindowsAuthNotSupportedErrorValue"),b=!0;break;case e.iQ:n=h.get("ServiceError_CannotLoadVisual"),s=h.get("ServiceError_AuthenticationErrorKey"),p=h.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),b=!0;break;case e.zd:n=h.get("UploadPowerBICompanion_AccessDatasetWarning"),b=!0;break;case e.LM:n=h.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),s=h.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),p=h.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),b=!0;break;case e.rW:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("PremiumRequired_TitleText"),p=h.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),b=!0;break;case e.me:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelCannotLoad"),p=h.get("ServerError_CustomerKeyNotAccessible_Report"),b=!0;break;case e.Bm:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelCannotLoad"),p=h.get("ServerError_CustomerKeyVaultError_Report"),b=!0;break;case e.Yu:n=h.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),s=h.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),p=h.get("ServiceError_CapacityOverloadedMessage"),l="https://aka.ms/AboutFabricCapacity",b=!0,m="Capacity_Limit_Exceeded_LearnMore"}if(!b)switch(d.statusCode){case 2:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelConvertFailureKey"),p=h.get("ServiceError_ModelConvertFailureValue");break;case 3:n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelCreationFailureKey"),p=h.get("ServiceError_ModelCreationFailureValue");break;case 1:case 9:if(n=h.get("ServiceError_ModelCannotLoad"),s=h.get("ServiceError_ModelCannotLoad"),d.errorDetails){var V=_.find(d.errorDetails,v=>"ModelMode"===v.code);if(V)switch(V.detail.value){case"Internal":p=h.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":p=h.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":p=h.get("ServiceError_ModelConnectFailurePBIServiceValue")}}p||(p=h.get("ServiceError_ModelFetchingFailureValue"));break;case 4:n=h.get("ServiceError_CannotLoadVisual"),s=h.get("ServiceError_ExecuteSemanticQueryErrorKey"),p=h.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case 5:n=h.get("ServiceError_CannotLoadVisual"),s=h.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),p=h.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:n=h.get("ServiceError_GeneralError"),s=h.get("ServiceError_GeneralErrorKey"),p=h.get("ServiceError_GeneralErrorValue")}var g={message:n,displayableErrorInfo:[{errorInfoKey:s,errorInfoValue:p}]};return d.errorCode===e.Yu&&(g.helpLinkType=1),m&&(g.helpLinkOverrideText=m),l&&(g.helpLink=l),g}},39032:function(Ce,k,r){r.d(k,{z:function(){return e}});var e=typeof window.performance<"u"&&window.performance.now&&window.performance.timeOrigin?()=>window.performance.now()+window.performance.timeOrigin:Date.now},992124:function(Ce,k,r){r.d(k,{TZ:function(){return y},n8:function(){return C},sI:function(){return t}});var a=r(939123),e=r(201591),u=r(752517),t=(()=>{class i{get code(){return this.m_serviceError.errorCode||i.codeName}get ignorable(){return!1}get requestId(){return this.httpRequestId}set requestId(c){this.httpRequestId=c}get source(){var c=this.m_serviceError.exceptionCulprit;if(null!=c)switch(c){case u.jJ:case u.aJ:return"PowerBI";case u.jV:return"External";case u.dB:return"User";default:return a.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}}constructor(c){this.message=c.message?c.message:"",this.m_serviceError=c}getDetails(c){var h;return h=6===this.m_serviceError.statusCode?(0,e.mH)(c,this.m_serviceError):(0,e.Iq)(c,this.m_serviceError),this.m_serviceError.errorDetails&&(0,e.C$)(h,this.m_serviceError.errorDetails,c),(0,e.yf)(h,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),h.source=this.source,h}}return i.codeName="ServiceErrorToClientError",i})();class C{constructor(o){this.innerError=o}get code(){return this.innerError.code}get ignorable(){return!1}get source(){var o=this.innerError["pbi.error"],c=o&&o.exceptionCulprit;if(null!=c)switch(c){case 0:return"PowerBI";case 2:return"External";case 1:return"User";default:return a.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}}getDetails(o){var c=this.innerError["pbi.error"];if(c){var h=(0,e.T7)(o,c.code,c.parameters,c.details);return h.source=this.source,h}}}class y{constructor(){}get code(){return"TooManyRequests"}get ignorable(){return!1}get source(){return"User"}getDetails(o){}}},752517:function(Ce,k,r){r.d(k,{$f:function(){return e},Bm:function(){return x},EL:function(){return V},Ew:function(){return n},Fr:function(){return t},KX:function(){return v},LM:function(){return g},Lb:function(){return o},NC:function(){return h},QW:function(){return C},Y:function(){return N},YT:function(){return s},Yu:function(){return L},_L:function(){return m},_e:function(){return b},aJ:function(){return P},b$:function(){return c},cq:function(){return p},dB:function(){return D},hR:function(){return i},iQ:function(){return d},jJ:function(){return S},jV:function(){return M},jt:function(){return a},me:function(){return w},qL:function(){return l},rW:function(){return E},ts:function(){return u},x4:function(){return y},zd:function(){return f}});var a="PremiumFilesModelRequiresPremiumCapacity",e="LargeModelMovedAcrossRegions",u="rsAccessDeniedDueToRLSGroup",t="rsCannotRetrieveModel",C="RLSNotAuthorizedForModel",y="CannotRetrieveModelError",i="DMTS_NoGatewayWithAllDatasourcesToBindError",o="DM_GWPipeline_UnknownError",c="DM_GWPipeline_Gateway_GatewayUpgradeRequired",h="pbidAccessDenied",d="pbidWindowsAuthWindowsAuthImpersonationNotSupported",n="pbidWindowsAuthNotSupported",s="PowerBIAdomdErrorResponseExternal",p="PowerBIAdomdErrorResponseSystem",l="PowerBIAdomdErrorResponseUser",m="ConnectionThrottledDueToCapacityOverload",b="DatasourceNotFound",V="DatabaseDoesNotExistOrUserDoesNotHavePermission",g="InsecureLibraryLoadingPatchMissing",v="MaximumAllowableMemoryReached",f="PowerBIServiceLiveConnectModelNotFound",S="System",P="PowerBI",D="User",M="External",E="BYOKEncryptedModelRequiresPremiumCapacity",w="CustomerKeyNotAccessible",x="CustomerKeyVaultError",N="rsOrphanedModel",L="CapacityLimitExceeded"},343331:function(Ce,k,r){r.d(k,{FM:function(){return i},VJ:function(){return C},Xr:function(){return e},tm:function(){return c}});var a=r(310420);function e(){return(0,a.wg)().build}function C(){return(0,a.wg)().clientVersion}function i(){return(0,a.wg)().cvUrl}function c(){return(0,a.wg)().visualCDNBlobContainerUrl}},227041:function(Ce,k,r){r.d(k,{P:function(){return e}});var a=r(939123);function e(){var t={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"};class C{constructor(i){this.getLocalized=i,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}ensureCategoriesArePopulated(){if(this.GeotaggingString_Continent)return!0;var i=this.getLocalized,o=i("GeotaggingString_Continent");return null==o?(a.fF.assertFail("We attempted to initialize the geotaggingAnalyzerService before getLocalized is initialized when the localization should be initialized first."),!1):(this.GeotaggingString_Continent=o.toLowerCase(),this.GeotaggingString_Continents=i("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=i("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=i("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=i("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=i("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=i("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=i("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=i("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=i("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=i("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=i("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=i("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=i("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=i("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=i("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=i("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=i("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=i("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=i("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=i("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=i("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=i("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=i("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=i("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=i("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=i("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=i("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=i("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=i("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=i("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=i("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=i("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=i("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=i("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=i("GeotaggingString_Territories").toLowerCase(),!0)}isLongitudeOrLatitude(i){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(i)||this.isLatitude(i))}isGeographic(i){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(i)||this.isGeocodable(i))}isGeocodable(i){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(i)||this.isCity(i)||this.isContinent(i)||this.isCountry(i)||this.isCounty(i)||this.isStateOrProvince(i)||this.isPlace(i)||this.isPostalCode(i)||this.isTerritory(i))}isGeoshapable(i){return!!this.ensureCategoriesArePopulated()&&(this.isCity(i)||this.isContinent(i)||this.isCountry(i)||this.isCounty(i)||this.isStateOrProvince(i)||this.isPostalCode(i)||this.isTerritory(i)||this.isPlace(i)||this.isGeoshapableEnglish(i))}isGeoshapableEnglish(i){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(i)||this.isEnglishContinent(i)||this.isEnglishCountry(i)||this.isEnglishCounty(i)||this.isEnglishStateOrProvince(i)||this.isEnglishPostalCode(i)||this.isEnglishTerritory(i)||this.isEnglishPlace(i))}isAddress(i){return C.hasMatches(i,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])}isPlace(i){return C.hasMatches(i,[this.GeotaggingString_Place,this.GeotaggingString_Places])}isCity(i){return C.hasMatches(i,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])}isStateOrProvince(i){return C.hasMatches(i,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])}isCountry(i){return C.hasMatches(i,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])}isCounty(i){return C.hasMatches(i,[this.GeotaggingString_County,this.GeotaggingString_Counties])}isContinent(i){return C.hasMatches(i,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])}isPostalCode(i){var o=C.hasMatches(i,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&C.hasMatches(i,[this.GeotaggingString_Code])||C.hasMatches(i,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);if(!o){var c=/\s+/,h=i.replace(c,"");o=C.hasMatches(h,[this.GeotaggingString_PostalCode.replace(c,""),this.GeotaggingString_PostalCodes.replace(c,""),this.GeotaggingString_ZipCode.replace(c,""),this.GeotaggingString_ZipCodes.replace(c,"")])}return o}isLongitude(i){return C.hasMatches(i,[this.GeotaggingString_Longitude])||C.hasMatches(i,[this.GeotaggingString_Longitude_Short],!0)||C.hasMatches(i,[this.GeotaggingString_Longitude_Short2],!0)}isLatitude(i){return C.hasMatches(i,[this.GeotaggingString_Latitude])||C.hasMatches(i,[this.GeotaggingString_Latitude_Short],!0)}isTerritory(i){return C.hasMatches(i,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])}static hasMatches(i,o,c){for(var h=/\W/,d=i.toLowerCase(),n=0,s=o.length;n<s;n++){var p=o[n].toLowerCase();if(c){var l=d.indexOf(p);if(l>-1){var m=void 0,b=void 0;if(m=b=!0,l-1>0&&(b=h.test(d[l-1])),l+p.length<d.length&&(m=h.test(d[l+p.length])),b&&m)return!0}}else if(d.indexOf(p)>-1)return!0}return!1}getFieldType(i){if(this.ensureCategoriesArePopulated()&&void 0!==i)return this.isLatitude(i)?"Latitude":this.isLongitude(i)?"Longitude":this.isPostalCode(i)?"PostalCode":this.isAddress(i)?"Address":this.isPlace(i)?"Place":this.isCity(i)?"City":this.isCountry(i)?"Country":this.isCounty(i)?"County":this.isStateOrProvince(i)?"StateOrProvince":this.isContinent(i)?"Continent":this.getEnglishFieldType(i)}getFieldTypeFromDescriptor(i){if(null!=i&&null!=i.geography){var o=i.geography;if(o.latitude)return"Latitude";if(o.longitude)return"Longitude";if(o.postalCode)return"PostalCode";if(o.address)return"Address";if(o.place)return"Place";if(o.city)return"City";if(o.country)return"Country";if(o.county)return"County";if(o.stateOrProvince)return"StateOrProvince";if(o.continent)return"Continent"}}isEnglishAddress(i){return C.hasMatches(i,[t.GeotaggingString_Address,t.GeotaggingString_Addresses,t.GeotaggingString_Street,t.GeotaggingString_Streets])}isEnglishPlace(i){return C.hasMatches(i,[t.GeotaggingString_Place,t.GeotaggingString_Places])}isEnglishCity(i){return C.hasMatches(i,[t.GeotaggingString_City,t.GeotaggingString_Cities,t.GeotaggingString_Town,t.GeotaggingString_Towns,t.GeotaggingString_Village,t.GeotaggingString_Villages])}isEnglishStateOrProvince(i){return C.hasMatches(i,[t.GeotaggingString_State,t.GeotaggingString_States,t.GeotaggingString_Province,t.GeotaggingString_Provinces,t.GeotaggingString_VRMBackCompat_StateOrProvince])}isEnglishCountry(i){return C.hasMatches(i,[t.GeotaggingString_Country,t.GeotaggingString_Countries,t.GeotaggingString_VRMBackCompat_CountryRegion])}isEnglishCounty(i){return C.hasMatches(i,[t.GeotaggingString_County,t.GeotaggingString_Counties])}isEnglishContinent(i){return C.hasMatches(i,[t.GeotaggingString_Continent,t.GeotaggingString_Continents])}isEnglishPostalCode(i){var o=C.hasMatches(i,[t.GeotaggingString_Post,t.GeotaggingString_Zip])&&C.hasMatches(i,[this.GeotaggingString_Code])||C.hasMatches(i,[t.GeotaggingString_PostalCode,t.GeotaggingString_PostalCodes,t.GeotaggingString_ZipCode,t.GeotaggingString_ZipCodes]);if(!o){var c=new RegExp("s");o=C.hasMatches(i,[t.GeotaggingString_PostalCode.replace(c,""),t.GeotaggingString_PostalCodes.replace(c,""),t.GeotaggingString_ZipCode.replace(c,""),t.GeotaggingString_ZipCodes.replace(c,"")])}return o}isEnglishLongitude(i){return C.hasMatches(i,[t.GeotaggingString_Longitude])||C.hasMatches(i,[t.GeotaggingString_Longitude_Short],!0)||C.hasMatches(i,[t.GeotaggingString_Longitude_Short2],!0)}isEnglishLatitude(i){return C.hasMatches(i,[t.GeotaggingString_Latitude])||C.hasMatches(i,[t.GeotaggingString_Latitude_Short],!0)}isEnglishTerritory(i){return C.hasMatches(i,[t.GeotaggingString_Territory,t.GeotaggingString_Territories])}getEnglishFieldType(i){if(null!=i){if(this.isEnglishLatitude(i))return"Latitude";if(this.isEnglishLongitude(i))return"Longitude";if(this.isEnglishPostalCode(i))return"PostalCode";if(this.isEnglishAddress(i))return"Address";if(this.isEnglishPlace(i))return"Place";if(this.isEnglishCity(i))return"City";if(this.isEnglishCountry(i))return"Country";if(this.isEnglishCounty(i))return"County";if(this.isEnglishStateOrProvince(i))return"StateOrProvince";if(this.isEnglishContinent(i))return"Continent"}}}return{create:y=>new C(y)}}},831641:function(Ce,k,r){r.d(k,{O:function(){return t},p:function(){return u}});var e,a=r(939123);function u(){return new C}var t=function(o){return o[o.pending=0]="pending",o[o.resolved=1]="resolved",o[o.rejected=2]="rejected",o}({});class C{defer(c){return new y($.Deferred())}reject(c){var h=this.defer();return h.reject(c),h.promise}resolve(c){var h=this.defer();return h.resolve(c),h.promise}all(c){return this.when.apply(this,c).then(function(){return Array.prototype.slice.call(arguments)})}allSettled(c){var h=this.defer(),d=c.length;if(d>0)for(var n=0,s=[],p=function(m){c[m].then(b=>{s[m]={value:b,type:0}}).catch(b=>{s[m]={value:b,type:1}}).finally(()=>{++n===d&&h.resolve(s)})},l=0;l<d;l++)p(l);else h.resolve([]);return h.promise}when(...c){var h=c.map(n=>n&&n.promise?n.promise:n);if(1===h.length){var d=h[0];return d?.pipe?new i(d):this.resolve(d)}return new i($.when(...h))}}class y{constructor(c){a.fF.assertValue(c,"deferred"),this.deferred=c,this.promise=new i(c.promise())}resolve(c){this.deferred.resolveWith(this.deferred.promise,[c])}reject(c){this.deferred.rejectWith(this.deferred.promise,[c])}}class i{constructor(c){this[e]="Promise",a.fF.assertValue(c,"promise"),this.promise=c}then(c,h){var s,d=i.wrapCallback(c),n=i.wrapCallback(h);return s=this.promise.pipe(d||null,n),new i(s)}catch(c){return this.then(null,c)}finally(c){return this.promise.always(i.wrapCallback(c)),this}static wrapCallback(c){return c&&function(){var h=c.apply(this,arguments);return h instanceof i?h.promise:h}}}e=Symbol.toStringTag},36126:function(Ce,k,r){r.d(k,{LK:function(){return n},T5:function(){return d},y4:function(){return s}});var y,i,o,N,a=r(845856),e=r(740605),u="2",t="`",C=t+t,c=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function d(N,L,B,I){v();var W=o[N];if(!W){x("information",`ensuring localStorageCache ${N}`);var O=i.caches[N];O&&O.version!==L&&(x("information",`Clearing old version cache ${N}`),E(N),delete i.caches[N],f(),O=void 0),W=new V(N,B,I),o[N]=W,O||(x("information",`Adding initial cache metadata for ${N}`),i.caches[N]={version:L,size:0,nextId:1,added:Date.now()},f(),P())}return W}function n(N){E(N),v();var L=i.caches[N];L&&(o[N]?i.caches[N]={version:L.version,size:0,nextId:1,added:Date.now()}:delete i.caches[N],f())}function s(N,L){if(N){var B=l(N),I=i.caches[N],W=[],O=0;for(var F of(y.forEach(A=>{if(B.test(A)){var T=y.getData(A);if(T&&T.added){var R=T.id,U=null;null!=R&&(U=m(N,R)),g(I.added)-T.added>L&&(U&&W.push(U),W.push(A),O+=T.size)}}}),I.size-=O,f(),W))y.setData(F,void 0)}}function p(N,L){return t+N+"-"+L}function l(N){return new RegExp("^"+t+N+"-")}function m(N,L){return C+N+"-"+L}y=e.DU,i=N,o={};class V{constructor(L,B,I){this.cacheName=L,this.maxSpace=B,this.maxAge=I,this.disabled=!1}getData(L){if(!this.disabled){var B=p(this.cacheName,L),I=y.getData(B),W=I&&I.id;if(null!=W){var O=m(this.cacheName,W),F=i.caches[this.cacheName];if(g(F.added)-I.added<=this.maxAge)return y.getData(O);F.size-=I.size,f(),y.setData(O,void 0),y.setData(B,void 0)}}}setData(L,B,I){if(!this.disabled){if(!(i=S()))return void(this.disabled=!0);var W=p(this.cacheName,L),O=y.getData(W);void 0===B?this.removeEntry(W,O):this.setEntry(W,O,B,I)}}removeEntry(L,B){if(B){var I=B.size;null!=I&&(i.caches[this.cacheName].size-=I,f());var W=B.id;null!=W&&y.setData(m(this.cacheName,W),void 0)}y.setData(L,void 0)}setEntry(L,B,I,W){var O=i.caches[this.cacheName];if(!O)return this.disabled=!0,void x("error",`Did't find cache metadata for ${this.cacheName} in directory ${JSON.stringify(i)}`);var F=g(O.added),A=B&&B.id;A?(B.added=F,O.size-=B.size):B={id:A=O.nextId++,added:F,size:0};var T=m(this.cacheName,A),R=JSON.stringify(I);B.size=R.length+L.length+T.length,B.size+=JSON.stringify(B).length,B.size+=1,O.size+=B.size,O.size>this.maxSpace&&(W&&W(),E(this.cacheName),O.added=Date.now(),O.nextId=2,B.added=g(O.added),B.id=1,T=m(this.cacheName,B.id),B.size=R.length+L.length+T.length,B.size+=JSON.stringify(B).length,B.size+=1,O.size=B.size),f(),y.setData(L,B),y.setJSONData(T,R)}}function g(N){return Math.floor((Date.now()-N)/6e4)}function v(){if(i=S()){if(i.version===u)return;x("information",`Clearing old verion ${i.version} localStorage entries`),w(N=>N.length>0&&N[0]===t)}else x("information","Clearing obsolete localStorage entries"),w(N=>c.test(N));i={version:u,caches:{}},f(),P()}function f(){y.setData(C,i)}function S(){return y.getData(C)}function P(){try{var N=S();_.isEqual(N,i)||x("warning",`Cache directory different after save: saved=${JSON.stringify(i)} reloaded=${JSON.stringify(N)}`)}catch(L){x("error",`Error checking cache directory after save: ${L&&L.stack?L.stack:JSON.stringify(L)}`)}}function E(N){var L=l(N),B=function(N){return new RegExp("^"+C+N+"-")}(N);w(I=>L.test(I)||B.test(I))}function w(N){var L=[];for(var B of(y.forEach(I=>{N(I)&&L.push(I)}),L))y.setData(B,void 0);return L.length}function x(N,L){var B=window.jsCommon;!B||!B.Trace||a.f[N]("localStorageCache: "+L)}},740605:function(Ce,k,r){r.d(k,{DU:function(){return u},UD:function(){return t}});var e=(()=>{class C{constructor(i){this.cache={},this.clearCacheInterval=i??C.defaultClearCacheInterval,this.clearCache()}getData(i){return this.cache[i]}setData(i,o,c){this.cache[i]=o,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout(()=>this.clearCache(),this.clearCacheInterval))}clearCache(){this.cache={},this.clearCacheTimerId=void 0}}return C.defaultClearCacheInterval=864e5,C})(),u=new class{isLocalStorageSupported(){try{var y="validateLocalStorageKey",i="validateLocalStorageValue";return localStorage.setItem(y,i),localStorage.getItem(y)===i&&(localStorage.removeItem(y),null===localStorage.getItem(y))}catch{return!1}}getData(y){try{if(localStorage){var i=localStorage[y];if(i)return JSON.parse(i)}}catch{}}setData(y,i){try{if(localStorage)return void(void 0===i?localStorage.removeItem(y):localStorage[y]=JSON.stringify(i))}catch{}}setJSONData(y,i){try{localStorage&&(void 0===i?localStorage.removeItem(y):localStorage[y]=i)}catch{}}forEach(y){try{if(!localStorage)return;for(var i=localStorage.length;i-- >0;)y(localStorage.key(i))}catch{}}},t=new e},756819:function(Ce,k,r){r.d(k,{hQ:function(){return C}});var a=r(939123),e=r(39032),u=r(845856),t=r(737466),C=(v,f,S,P)=>new o(v,f,S,P);class o{constructor(f,S,P,D){this.promiseFactory=f,this.telemetry=S,this.options={...D,rjs:D&&D.rjs||window.require},this.active={},a.fF.assertValue(this.options.rjs,"Could not load require.js."),P?(this.options.rjs.config(P),this.cssPaths=P.cssPaths,this.bundles=P.bundles):(this.cssPaths={},this.bundles={})}require(f){a.fF.assertValue(f,"moduleLoader: require Module Dependency has to be defined");var v,P,S=f.javascript;if((v=S)&&v instanceof Function)return this.loadModuleES6(f,S);if(S)P=S;else{if(!f.css)return this.promiseFactory.resolve();P=f.css.join(",")}var D=V(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),M=this.active,E=M[P];if(E)return E;if(!S)return M[P]=D,D.finally(()=>delete M[P]),D.then(()=>this.promiseFactory.resolve());var w=function(v,f){for(var S in a.fF.assertValue(v,"script"),a.fF.assertValue(f,"bundles"),f)if(_.includes(f[S],v))return S}(S,this.bundles),x=this.promiseFactory.defer(!0),N=()=>d(this.options.rjs,this.telemetry,S,O=>x.resolve(O),O=>x.reject(O));if(null==w||this.options.rjs.defined(w))N();else{var L=(0,e.z)(),B=setTimeout(()=>{u.f.warning("Module bundle load is delayed",void 0,{bundleName:w,duration:(0,e.z)()-L}),B=setTimeout(()=>{u.f.warning("Module bundle load is very delayed",void 0,{bundleName:w,duration:(0,e.z)()-L}),B=void 0},this.options.delayedBundleLongInterval||1e6)},this.options.delayedBundleShortInterval||3e4);d(this.options.rjs,this.telemetry,w,()=>{B||u.f.warning("Module bundle eventually loaded",void 0,{bundleName:w,duration:(0,e.z)()-L}),clearTimeout(B),N()},O=>x.reject(O))}var W=this.promiseFactory.all([D,x.promise]).then(()=>x.promise);return M[P]=W,W.finally(()=>delete M[P]),W}loadModuleES6(f,S){var P=S();return f.css?this.promiseFactory.all([V(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),P]).then(()=>P):P}}var c=".js",h=".min.js";function d(v,f,S,P,D){if(a.fF.assertValue(v,"rjs"),a.fF.assertValue(S,"script"),a.fF.assertValue(P,"success"),a.fF.assertValue(D,"failure"),v.defined(S))P(v(S));else{var M=(0,t.BL)(`moduleLoader.require('${S}')`),E=f?.startEvent();v([S],function(){var N,w=window.parseTimeMarkers,x=S;w&&((N=w[S+h])?x+=h:(N=w[S+c])&&(x+=c));var L={start:N&&N.start,end:N&&N.end},B={start:N&&N.startEval,end:N&&N.endEval};E?.resolve(x,L,B),M(),P(arguments[0])},w=>{E?.reject(S),M(),D(w)})}}var s=document,p=s.head,l=s.createElement("link"),m=[],b=p.getElementsByTagName("script")[0];function V(v,f,S,P){if(!f)return P.resolve();p.getElementsByTagName("script")?.[0]?.src!==b?.src&&(b=p.getElementsByTagName("script")[0]);var D=["quill.core"],M=[];for(var E of f){var w=-1!==D.indexOf(E);if(E=v[E]||E,_.endsWith(E,".css")||(E+=".css"),S&&!w&&-1===E.indexOf(".rtl")&&(E=_.endsWith(E,".min.css")?E.replace(".min.css",".rtl.min.css"):E.replace(".css",".rtl.css")),-1===m.indexOf(E)){m.push(E);var x=g(E,P);M.push(x)}}return M.length?P.all(M):P.resolve()}function g(v,f){var S=l.cloneNode(),P=f.defer();return S.addEventListener("load",()=>P.resolve()),S.addEventListener("error",()=>P.reject()),S.href=v,b?p.insertBefore(S,b):p.appendChild(S),P.promise}l.setAttribute("rel","stylesheet")},100120:function(Ce,k,r){r.d(k,{b:function(){return c}});var a=r(547586),e=r(939123),u=r(827677),t=r(753104),C=r(397129),y=r(773472),i=r(530177),o=r(740605),c=(()=>{class h{static setCanvasCtx(n){h.canvasCtx=n}static setMeasuredFontNotLoadedCallback(n){h.measuredFontNotLoadedCallbacks||(h.measuredFontNotLoadedCallbacks=[]);var s=++h.measuredFontNotLoadedCallbacksAdded;return h.measuredFontNotLoadedCallbacks.push({id:s,callback:n}),()=>{var p=h.measuredFontNotLoadedCallbacks?h.measuredFontNotLoadedCallbacks.findIndex(l=>l.id===s):-1;-1===p?e.fF.assertFail("Tried to remove a MeasuredFontNotLoadedCallback more than once"):(h.measuredFontNotLoadedCallbacks.splice(p,1),h.measuredFontNotLoadedCallbacks.length||(h.measuredFontNotLoadedCallbacks=void 0))}}static hasMeasuredFontNotLoadedCallbacks(){return h.measuredFontNotLoadedCallbacks&&0!==h.measuredFontNotLoadedCallbacks.length}static callMeasuredFontNotLoadedCallbacks(n){if(n&&h.measuredFontNotLoadedCallbacks)for(var s,p=h.measuredFontNotLoadedCallbacks.length;p--;){var l=h.measuredFontNotLoadedCallbacks[p];(void 0===s||l.id<s)&&(s=l.id,l.callback(n))}}static ensureDOM(){if(!h.canvasCtx){if(h.spanElement||(h.spanElement=$("<span></span>"),$("body").append(h.spanElement)),null==h.letterSpacing)try{var n=window.getComputedStyle(h.spanElement?.get(0));n.letterSpacing.indexOf("px")>0&&(h.letterSpacing=+n.letterSpacing.replace("px",""))}catch{}h.svgTextElement||(h.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),h.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var s=window.getComputedStyle(h.svgTextElement.node());h.fallbackFontFamily=s?s.fontFamily:""}}static removeSpanElement(){h.spanElement&&h.spanElement.remove&&h.spanElement.remove(),h.spanElement=null}static measureSvgTextWidth(n,s){if(e.fF.assertValue(n,"textProperties"),e.fF.assert(()=>_.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!n||!n.fontSize)return 0;if(h.ensureDOM(),!h.canvasCtx)return((null!=s?s.length:null!=n.text&&n.text.length)||0)*(parseInt(n.fontSize,10)||9);if(!h.setCanvasFont(h.canvasCtx,n)||null==s&&null==n.text)return 0;n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&(h.isFontLoaded(n)||h.callMeasuredFontNotLoadedCallbacks(n.fontFamily));var m=s??n.text;return h.canvasCtx.measureText(m).width+(null!=h.letterSpacing?h.letterSpacing*m.length:0)}static measureSvgTextRect(n,s){return this.measureSvgTextRectInternal(n,s,!0)}static measureSvgTextRectInternal(n,s,p){return e.fF.assertValue(n,"textProperties"),e.fF.assert(()=>_.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px"),"TextProperties' text size should be in px."),h.ensureDOM(),p&&n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&(h.isFontLoaded(n)||h.callMeasuredFontNotLoadedCallbacks(n.fontFamily)),h.svgTextElement.text(s||n.text).attrs({visibility:"hidden","font-family":n.fontFamily||h.fallbackFontFamily,"font-variant":n.fontVariant,"font-size":n.fontSize,"font-weight":n.fontWeight,"font-style":n.fontStyle,"text-decoration":n.textDecoration||"none","white-space":n.whiteSpace||"nowrap"}),(0,y.jL)(h.svgTextElement.node())}static measureSvgTextHeight(n,s){var p=h.measureSvgTextRect(n,s);return p?p.height:0}static measureSvgGlyphHeight(n,s,p){e.fF.assert(()=>-1!==n.indexOf("px"),"Font size should be in px."),h.ensureDOM(),h.svgTextElement.classed(s,!0).style("font-size",n).style("position","absolute").style("visibility","hidden");var m=h.measureSvgTextRect({fontFamily:null,fontSize:n},p);return h.svgTextElement.classed(s,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),m?m.height:0}static isFullyTruncated(n){return n===h.ellipsis}static estimateSvgTextRect(n){e.fF.assertValue(n,"textProperties"),e.fF.assert(()=>_.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px"),"TextProperties' text size should be in px.");var s=(n.fontFamily||"")+(n.fontSize||""),p=o.UD.getData(s),l=p?.rect,m={fontFamily:n.fontFamily,fontSize:n.fontSize,text:"M"},b=h.isFontLoaded(m);return null!=l&&p.fontLoaded||!1===b?null==l?(l=h.measureSvgTextRect(m),o.UD.setData(s,{rect:l,fontLoaded:!1})):!b&&n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&h.callMeasuredFontNotLoadedCallbacks(n.fontFamily):(l=h.measureSvgTextRect(m)).height>0&&o.UD.setData(s,{rect:l,fontLoaded:!0}),l}static isFontLoaded(n){var s="16px",p=document.fonts,l=n.fontFamily,m=!1;if(h.fontLoadCache[l])return!0;if(p&&l)try{m=p.check(s+" "+l)}catch{}else{n.fontSize=s;var b=h.measureSvgTextRectInternal(n,void 0,!1),V=l?l.split(",")[0]:"";if(-1!==V.indexOf("Segoe UI"))m=(0,t.GG)(b.height,21.28,1e-5);else{if(-1===V.indexOf("wf_standard-font"))return null;m=(0,t.GG)(b.height,16.35,1e-5)}}return h.fontLoadCache[l]=m,m}static clearFontLoadedCache(){h.fontLoadCache={}}static estimateSvgTextBaselineDelta(n){var s=h.estimateSvgTextRect(n);return s.y+s.height}static estimateSvgTextHeight(n,s=!1){var p=h.estimateSvgTextRect(n).height;return s&&(p*=.7),p}static measureSvgTextElementWidth(n){return e.fF.assertValue(n,"svgElement"),h.measureSvgTextWidth(h.getSvgMeasurementProperties(n))}static getMeasurementProperties(n){return e.fF.assertValue(n,"element"),{text:n.val()||n.text(),fontFamily:n.css("font-family"),fontSize:n.css("font-size"),fontWeight:n.css("font-weight"),fontStyle:n.css("font-style"),fontVariant:n.css("font-variant"),whiteSpace:n.css("white-space")}}static getSvgMeasurementProperties(n){e.fF.assertValue(n,"svgElement");var s=window.getComputedStyle(n,null);return s?{text:n.textContent,fontFamily:s.fontFamily,fontSize:s.fontSize,fontWeight:s.fontWeight,fontStyle:s.fontStyle,fontVariant:s.fontVariant,whiteSpace:s.whiteSpace}:{text:n&&n.textContent,fontFamily:"",fontSize:"0"}}static getDivElementWidth(n){e.fF.assert(()=>n.is("div"),"Given element is not a div type. Cannot get width");var s=getComputedStyle(n[0]);return s?s.width:"0"}static getTailoredTextOrDefault(n,s){if(e.fF.assertValue(n,"properties"),e.fF.assertValue(n.text,"properties.text"),e.fF.assert(()=>_.isEmpty(n.fontSize)||-1!==n.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!n||!n.fontSize)return"";h.ensureDOM();var p=n.text;if(!p||!h.canvasCtx||!h.setCanvasFont(h.canvasCtx,n))return"";n.fontFamily&&h.hasMeasuredFontNotLoadedCallbacks()&&(h.isFontLoaded(n)||h.callMeasuredFontNotLoadedCallbacks(n.fontFamily));var m=h.canvasCtx.measureText(p).width+(null!=h.letterSpacing?h.letterSpacing*p.length:0);if(m<=s)return p;p=h.ellipsis+p;for(var b=_.split(p,""),V=1,g=b.length;V<g;){var v=V+g>>1,f=b.slice(0,v).join("");s>(m=h.canvasCtx.measureText(f).width+(null!=h.letterSpacing?h.letterSpacing*f.length:0))?V=v+1:s<m?g=v-1:(V=v,g=v)}var S=b.slice(0,V).join("");return(m=h.canvasCtx.measureText(S).width+(null!=h.letterSpacing?h.letterSpacing*S.length:0))>s&&V--,b.slice(h.ellipsis.length,V).join("")+h.ellipsis}static setCanvasFont(n,s){try{n.font=(s.fontStyle||"")+" "+(s.fontVariant||"")+" "+(s.fontWeight||"")+" "+s.fontSize+" "+(s.fontFamily||h.fallbackFontFamily)}catch{return!1}return!0}static svgEllipsis(n,s,p){e.fF.assertValue(n,"textElement"),p||(p=h.getSvgMeasurementProperties(n));var l=p.text,m=h.getTailoredTextOrDefault(p,s);l!==m&&(n.textContent=m)}static wordBreak(n,s,p,l=0){(0,u.x9)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),e.fF.assertValue(n,"textElement");var m=h.getSvgMeasurementProperties(n),b=h.estimateSvgTextHeight(m)+l,V=Math.max(1,Math.floor(p/b)),g=d3.select(n),v=g.attr("y"),f=n.textContent;n.textContent="";for(var S=(0,i.ql)(f,m,h.measureSvgTextWidth,s,V),P=0,D=S.length;P<D;P++)m.text=S[P],g.append("tspan").attrs({x:0,dy:0===P?v:b}).text(h.getTailoredTextOrDefault(m,s))}static wordBreakOverflowingText(n,s,p,l=0){e.fF.assertValue(n,"textElement");var m=h.getSvgMeasurementProperties(n),b=h.estimateSvgTextHeight(m)+l,V=Math.max(1,Math.floor(p/b)),g=n.textContent;n.textContent="";var v=(0,i.ql)(g,m,h.measureSvgTextWidth,s,V);d3.select(n).selectAll(h.OverflowingText.selector).data(v).enter().append("span").classed(h.OverflowingText.class,!0).text(S=>S).style("width",C.FP.toString(s))}}return h.ellipsis="\u2026",h.OverflowingText=(0,a.CH)("overflowingText"),h.letterSpacing=null,h.fontLoadCache={},h.measuredFontNotLoadedCallbacksAdded=0,h})()},327553:function(Ce,k,r){r.d(k,{i:function(){return a}});var a=function(e){return e[e.Clockwise=0]="Clockwise",e[e.Counterclockwise=1]="Counterclockwise",e[e.Colinear=2]="Colinear",e}({})},597627:function(Ce,k,r){r.d(k,{fJ:function(){return t},ng:function(){return y}});var a=r(722709),e=r(270862),u=r(939123);class t{constructor(o,c,h){this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=o||y.getDefaultColors(),this.sentimentColors=c||y.defaultSentimentColors,this.gradientColors=h||y.defaultGradientColors,this.scales={},this.basePickerColors.push(..._.take(this.colors,8))}getColorScaleByKey(o){var c=this.scales[o];return void 0===c&&(c=this.createScale(),this.scales[o]=c),c}getNewColorScale(){return this.createScale()}getColorByIndex(o){return u.fF.assert(()=>o>=0&&o<this.colors.length,"index is out of bounds"),this.colors[o]}getSentimentColors(){return this.sentimentColors}getGradientColors(){return this.gradientColors}getBasePickerColors(){return this.basePickerColors}getBaseColors(){return _.take(this.colors,8)}getAllColors(){return this.colors}createScale(){return C.createFromColors(this.colors)}}class C{constructor(o){this.scale=o}getColor(o){return this.scale(o)}clearAndRotateScale(){var o=this.scale.domain().length,c=(0,a.U1)(this.scale.range(),o);this.scale=d3.scaleOrdinal().range(c)}clone(){return new C(this.scale.copy())}getDomain(){return this.scale.domain()}static createFromColors(o){return new C(d3.scaleOrdinal().range(o))}}var y=(()=>{class i{static getDefaultColors(){if(!i.defaultColors){i.defaultColors=[];for(var c=i.defaultBaseColors,h=0;h<i.colorSectorCount;++h)for(var d=0,n=c.length;d<n;++d){var s=(0,e.U1)(c[d].value,h/i.colorSectorCount);i.defaultColors.push({value:s??c[d].value})}}return i.defaultColors}}return i.colorSectorCount=12,i.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],i.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},i.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},i})()},360216:function(Ce,k,r){r.d(k,{GK:function(){return s},Oy:function(){return c},Ue:function(){return t},V4:function(){return C},js:function(){return n},lQ:function(){return p},pe:function(){return h}});var a=r(939123),e=r(503934),u=r(597627);function t(l,m){void 0===l&&(l=new u.fJ);var b={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:l.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:l};return{isHighContrast:!1,colorPalette:b,textClasses:C(b,m),icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}}function C(l,m,b=!1){if(function(l){if(!l)return!1;var b=["color","fontSize","fontFace"];for(var V of["callout","header","label","title"]){var g=l[V];if(!g)return!1;for(var v of b)if(!g[v])return!1}return!0}(m)){m.callout.fontFace=y(m.callout.fontFace??""),m.label.fontFace=y(m.label.fontFace??""),m.title.fontFace=y(m.title.fontFace??""),m.header.fontFace=y(m.header.fontFace??"");var f={callout:m.callout,label:m.label,title:m.title,header:m.header,largeTitle:i(m.largeTitle,m.title,void 0,7/6),dataTitle:i(m.dataTitle,m.title,l.dataColors.getColorByIndex(0)),boldLabel:i(m.boldLabel,m.label,void 0,void 0,"700"),largeLabel:i(m.largeLabel,m.label,void 0,1.2),largeLightLabel:i(m.largeLightLabel,m.label,l.foregroundNeutralSecondary,1.2),lightLabel:i(m.lightLabel,m.label,l.foregroundNeutralSecondary),semiboldLabel:i(m.semiboldLabel,m.label,void 0,void 0,"600"),smallLabel:i(m.smallLabel,m.label,void 0,.9),smallLightLabel:i(m.smallLightLabel,m.label,l.foregroundNeutralSecondary,.9),smallDataLabel:i(m.smallDataLabel,m.label,l.dataColors.getColorByIndex(0),.9)};if(b){var P,S=l.foreground.value;for(P in f){var D=f[P];D.color?D.color.value=S:D.color={value:S}}}return f}}function y(l){var m=e.bw[l];return m?m.family:l}function i(l,m,b,V,g){if(l?null==l.color&&(l.color=b||m.color):l={color:b||m.color},null==l.fontSize){var v=_.toNumber(m.fontSize);a.fF.assert(()=>!isNaN(v),"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),l.fontSize=(null==V?v:Math.round(v*V*10)/10)+""}if(null==l.fontWeight&&null!=g)switch(g){case"700":l.fontWeight="700";break;case"600":l.fontWeight="600";break;default:l.fontWeight=m.fontWeight}return l.fontFace=l.fontFace||m.fontFace,l}function c(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}}function h(l,m){a.fF.assertValue(m,"EvalContext.getThemeColor - colorName should't be null");var b=l.colorPalette,V=b.dataColors.getGradientColors(),g=b.dataColors.getSentimentColors(),v=b[m]||V[m]||g[m];return a.fF.assertAnyValue(v,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),v?.value}var d={"ui-foreground":"var(--colorNeutralForeground1)","ui-background":"var(--colorNeutralBackground1)","ui-foregroundSecondary":"var(--colorNeutralForeground3)","ui-backgroundSecondary":"var(--colorNeutralBackground3)"};function n(l){return a.fF.assertValue(l,"getUIThemeColorValue - colorName"),d[l]}function s(l,m){a.fF.assertValue(l,"getThemeDataColor - visualStyle"),a.fF.assertValue(m,"getThemeDataColor - colorIdx");var b=l.colorPalette.dataColors.getBasePickerColors();return b[m]?.value}function p(l,m){return a.fF.assertValue(l,"getThemeIcon - visualStyle"),a.fF.assertValue(m,"getThemeIcon - iconId"),l.icons[m]}},845856:function(Ce,k,r){r.d(k,{f:function(){return h}});var a=r(939123),e=r(310420),u=r(324803),t=r(616113),C=r(161250),y=r(651458),o=new class{logTrace(n){}},h=(()=>{class d{static assertFail(s){a.fF.assertValue(s,"message"),a.fF.assertFail(s),this.error(s,!0)}static warning(s,p,l){a.fF.assertValue(s,"text"),this.logTraceInternal(new C.X(s,y.U.Warning,this.sessionId,p,l))}static error(s,p,l,m){a.fF.assertValue(s,"text"),p&&(s=(0,t.W)("{0}.\nStack:\n{1}",s,(0,u.DH)())),this.logTraceInternal(new C.X(s,y.U.Error,this.sessionId,l,m))}static information(s,p,l){a.fF.assertValue(s,"text"),this.logTraceInternal(new C.X(s,y.U.Information,this.sessionId,p,l))}static verbose(s,p,l){a.fF.assertValue(s,"text"),this.logTraceInternal(new C.X(s,y.U.Verbose,this.sessionId,p,l))}static addListener(s){a.fF.assertValue(s,"listener"),_.find(this.listeners,p=>p===s)||this.listeners.push(s)}static removeListener(s){a.fF.assertValue(s,"listener");var p=this.listeners.indexOf(s);p>=0&&this.listeners.splice(p,1)}static resetListeners(){this.listeners=new Array(o)}static reset(){this.lastTraceIndex=-1}static getTraces(){if(this.lastTraceIndex<0)return[];for(var s=new Array(this.lastTraceIndex+1),p=0;p<=this.lastTraceIndex;p++)s[p]=this.traces[p];return s}static disableDefaultListener(){this.removeListener(o)}static enableDefaultListener(){this.addListener(o)}static logTraceInternal(s){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=s;for(var p=0,l=this.listeners.length;p<l;p++)this.listeners[p].logTrace(s)}}return d.traces=new Array(1e3),d.lastTraceIndex=-1,d.listeners=new Array(o),d})();(0,e.kx)().Trace=h},161250:function(Ce,k,r){r.d(k,{X:function(){return a}});var a=(()=>{class e{constructor(t,C,y,i,o){this.text=t,this.type=C,this.sessionId=y,this.requestId=i,this.timeStamp=new Date,this.additionalInfo=o}toString(){var t="";return t+=`${e.traceTypeStrings[this.type]} (${this.timeStamp.toUTCString()}): ${this.text}`,this.requestId&&(t+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(t+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),t}}return e.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],e})()},651458:function(Ce,k,r){r.d(k,{U:function(){return a}});var a=function(e){return e[e.Information=0]="Information",e[e.Verbose=1]="Verbose",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.ExpectedError=4]="ExpectedError",e[e.UnexpectedError=5]="UnexpectedError",e[e.Fatal=6]="Fatal",e}({})},17034:function(Ce,k,r){r.d(k,{Gg:function(){return e},ZA:function(){return a},dp:function(){return u},yR:function(){return t}});class a{constructor(){this.success=!0}check(y,i,o){if(i(y))return o(y);this.success=!1}static check(y){var i=new a;return y(i),i.success}}function e(C){return!!C}function u(C){return y=>e(y)&&y.length===C}function t(C){return C}},301910:function(Ce,k,r){r.d(k,{o:function(){return e}});var a=new Set(["string","number","boolean","any"]);function e(u){var t=/^(\w+)(\[\])?/.exec(u);if(t&&a.has(t[1]))return{primitive:t[1],isArray:!!t[2]}}},454865:function(Ce,k,r){r.d(k,{DW:function(){return a},EP:function(){return u},NI:function(){return t},su:function(){return e}});var a=function(C){return C[C.Grouping=0]="Grouping",C[C.Measure=1]="Measure",C[C.GroupingOrMeasure=2]="GroupingOrMeasure",C}({}),e=function(C){return C[C.Create=0]="Create",C[C.Append=1]="Append",C[C.Segment=2]="Segment",C[C.None=3]="None",C}({}),u=function(C){return C[C.Data=2]="Data",C[C.Resize=4]="Resize",C[C.ViewMode=8]="ViewMode",C[C.Style=16]="Style",C[C.ResizeEnd=32]="ResizeEnd",C[C.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",C[C.FormatModeChange=128]="FormatModeChange",C[C.FilterOptionsChange=256]="FilterOptionsChange",C[C.All=510]="All",C}({}),t=function(C){return{}}()},734249:function(Ce,k,r){function a(t){return"callout"===t.annotationType}function u(t){return!!t.callout}r.d(k,{$V:function(){return u},pz:function(){return a}})},775888:function(Ce,k,r){r.d(k,{y:function(){return a}});var a=function(e){return e[e.Tile=0]="Tile",e[e.List=1]="List",e}({})},527350:function(Ce,k,r){r.d(k,{Z:function(){return e},y:function(){return u}});var a=r(939123),e=(()=>{class t{}return t.NATURAL_LANGUAGE="NaturalLanguage",t})();class u{constructor(C){if(this.version=C.version,this.kind=C.kind,C.kind!==e.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var y=C.version;1===y?this.annotation={description:C.annotation.description,isAutoGenerated:C.annotation.isAutoGenerated,name:C.annotation.name,references:C.annotation.references,utterance:C.annotation.utterance}:a.fF.assertNever(y)}}},756556:function(Ce,k,r){r.d(k,{c:function(){return e},q:function(){return u}});var a=r(527350),e=1;function u(t,C){return C===a.Z.NATURAL_LANGUAGE}},613694:function(Ce,k,r){r.d(k,{Wt:function(){return t},lb:function(){return u},ud:function(){return e}});var a=r(939123);class e{findProperty(y,i){var o=this.entities.withName(y);if(o&&!_.isEmpty(o.properties))return o.properties.withName(i)}get isExtensionSchema(){return this.hasOwnProperty("extends")}findHierarchy(y,i){var o=this.entities.withName(y);if(o&&!_.isEmpty(o.hierarchies))return o.hierarchies.withName(i)}findHierarchyLevel(y,i,o){var c=this.entities.withName(y);if(c&&!_.isEmpty(c.hierarchies)){var h=c.hierarchies.withName(i);if(h&&!_.isEmpty(h.levels))return h.levels.withName(o)}}findHierarchyByVariation(y,i,o,c){var h=this.findTargetEntityOfVariation(y,i,o);if(h&&!_.isEmpty(h.hierarchies))return h.hierarchies.withName(c)}findTargetEntityOfVariation(y,i,o){var c=this.entities.withName(y);if(c&&!_.isEmpty(c.properties)){var h=c.properties.withName(i);if(h){var d=h.column;if(d&&!_.isEmpty(d.variations)){var n=d.variations.withName(o);if(n)return n.navigationProperty?n.navigationProperty.targetEntity:c}}}}findPropertyWithKpi(y,i){a.fF.assertValue(i,"kpiProperty");var o=this.entities.withName(y);if(o&&!_.isEmpty(o.properties))for(var c of o.properties)if(c&&c.measure&&c.measure.kpi&&(c.measure.kpi.status===i||c.measure.kpi.goal===i))return c}findVariationMappings(y){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[y]}findVariationToHierarchyMappings(y){var i=this.findVariationMappings(y);return _.filter(i,o=>o.variation.defaultHierarchy)}findTableNameFromMeasureName(y){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[y]}get isMultiDimensionalModel(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange}buildVariationMappings(){var y={};return _(this.entities).filter(i=>i.properties).forEach(i=>{_(i.properties).filter(o=>o.column&&o.column.variations).forEach(o=>{_(o.column.variations).filter(c=>c.navigationProperty&&c.navigationProperty.targetEntity).forEach(c=>{var h=c.navigationProperty.targetEntity.name,d=y[h];d||(y[h]=d=[]),d.push({sourceEntity:i,sourceProperty:o,variation:c})})})}),y}buildMeasureNameToTableNameMappings(){var y={};for(var i of this.entities){var o=function(h){h.measure&&(a.fF.assert(()=>!y[h.name],`there is a collision for ${h.name}; every measure has a unqiue name in the model`),y[h.name]=i.name)};for(var c of i.properties)o(c)}return y}}function u(C){switch(C){case 0:return"None";case 1:return"Address";case 2:return"City";case 3:return"Company";case 4:return"Continent";case 5:return"Country";case 6:return"County";case 7:return"Date";case 8:return"Image";case 9:return"ImageUrl";case 10:return"Latitude";case 11:return"Longitude";case 12:return"Organization";case 13:return"Place";case 14:return"PostalCode";case 15:return"Product";case 16:return"StateOrProvince";case 17:return"WebUrl"}}function t(C){switch(C){case"None":return 0;case"Address":return 1;case"City":return 2;case"Company":return 3;case"Continent":return 4;case"Country":return 5;case"County":return 6;case"Date":return 7;case"Image":return 8;case"ImageUrl":return 9;case"Latitude":return 10;case"Longitude":return 11;case"Organization":return 12;case"Place":return 13;case"PostalCode":return 14;case"Product":return 15;case"StateOrProvince":return 16;case"WebUrl":return 17}}},434143:function(Ce,k,r){r.d(k,{P:function(){return e}});var a=function(t){return t[t.None=0]="None",t[t.Log=1]="Log",t}({});function e(t,C){if(t){var y;if(t.top&&(y={Top:{}},t.top.count&&(y.Top.Count=t.top.count)),t.bottom&&(y={Bottom:{}},t.bottom.count&&(y.Bottom.Count=t.bottom.count)),t.sample&&(y={Sample:{}},t.sample.count&&(y.Sample.Count=t.sample.count)),t.window&&(y={Window:{}},t.window.count&&(y.Window.Count=t.window.count)),t.binnedLineSample&&(y={BinnedLineSample:{}},null!=t.binnedLineSample.primaryScalarKey&&(y.BinnedLineSample.PrimaryScalarKey=t.binnedLineSample.primaryScalarKey),t.binnedLineSample.count&&(y.BinnedLineSample.Count=t.binnedLineSample.count),t.binnedLineSample.warningCount&&(y.BinnedLineSample.WarningCount=t.binnedLineSample.warningCount)),t.overlappingPointsSample){var i=t.overlappingPointsSample;y={OverlappingPointsSample:{}},i.count&&(y.OverlappingPointsSample.Count=i.count);var o=i.x;o&&1===_.size(o.role.items)&&(y.OverlappingPointsSample.X=u(C,o.role.items[0].queryName,o.transform));var c=i.y;c&&1===_.size(c.role.items)&&(y.OverlappingPointsSample.Y=u(C,c.role.items[0].queryName,c.transform))}return t.topNPerLevel&&(y={TopNPerLevel:{Count:t.topNPerLevel.count}}),y}}function u(t,C,y){var i={Index:_.findIndex(t,o=>o.name===C)};return y&&1===y&&(i.Transform=a.Log),i}},305438:function(Ce,k,r){r.d(k,{Ns:function(){return m},k4:function(){return l},od:function(){return n},s0:function(){return s}});var a=r(953474),e=r(257738),u=r(722709),t=r(939123),C=r(571619),y=r(528836),i=r(132640);function o(b,V,g){(0,a.un)(b)?(c(g),o(b.left,V,g.left),o(b.right,V,g.right)):(0,a.$Q)(b)?(t.fF.assert(()=>(0,a.Lk)(b.left)||(0,a.kb)(b.left)||(0,a.t3)(b.left)||(0,a.iV)(b.left),"expression.left should be fieldRef: entity/measure/column/aggregate"),c(g,b.left),t.fF.assert(()=>(0,a.VC)(b.right),"expression.right should be constant"),V.push(b.right)):t.fF.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function c(b,V){V?b.value=V:(b.left={},b.right={})}function h(b,V){return!(!b||!V)&&(b.left&&b.right?!(!V.left||!V.right)&&h(b.left,V.left)&&h(b.right,V.right):b.value?!!V.value&&(0,e.fS)(b.value,V.value):(t.fF.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function d(b){if((0,i.yN)(b))return b.expr;t.fF.assertFail("selectors should be scoped identities")}function n(b){if(t.fF.assertValue(b,"selectorsByColumnArray"),b){var V={},g=[],v=[],f=[],S=[],P=[],D=[];for(var M of b){var E=[],w={};if(D.push(M.id),P.push(M.metadata),M.dataMap){for(var x in M.dataMap){var N=(0,u.rY)(M.dataMap[x]);for(var L of N){var B={},I=[],W={},O=_.indexOf(f,x);O<0&&(f.push(x),O=f.length-1),o(d(L),I,W);for(var F=-1,A=0;A<v.length;A++)if(h(W,v[A])){F=A;break}F<0&&(v.push(W),F=v.length-1),B[F]=I,w[O]=w[O]||[],w[O].push(F),E.push(B)}}S.push(w),g.push(E)}}return!_.isEmpty(g)&&!_.isEmpty(g)&&(V.decomposedIdentities={values:g,columns:v}),!_.isEmpty(f)&&!_.isEmpty(S)&&(V.queryNames=f,V.queryNameMap=S),_.some(P,R=>!!R)&&(V.metadata=P),_.some(D,R=>!!R)&&(V.id=D),V}}function s(b){if(t.fF.assertValue(b,"filterExpressionMetadata"),b){var V={expressions:b.expressions},g=[],v=[],f=[];if(b.cachedValueItems){for(var S of b.cachedValueItems){f.push(S.valueMap);var P=[];for(var D of S.identities){var M={},E=[],w={};o(d(D),E,M);for(var x=-1,N=0;N<v.length;N++)if(h(M,v[N])){x=N;break}x<0&&(v.push(M),x=v.length-1),w[x]=E,P.push(w)}g.push(P)}V.decomposedIdentities={values:g,columns:v},V.valueMap=f}return V}}function p(b,V,g){if(V.left&&V.right){var v=p(b,V.left,g),f=p(b,V.right,g);return(0,y.xD)(v,f)}if(V.value){var S=V.value,P=b[g.index++];return t.fF.assert(()=>(0,a.Lk)(S)||(0,a.kb)(S)||(0,a.t3)(S)||(0,a.iV)(S),"expression.left should be fieldRef: entity/measure/column/aggregate"),t.fF.assert(()=>(0,a.VC)(P),"expression.right should be constant"),(0,y.qu)(0,S,P)}t.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function l(b){if(t.fF.assertValue(b,"decomposedSelectors"),b){var V=[],g=b.decomposedIdentities&&b.decomposedIdentities.values,v=b.decomposedIdentities&&b.decomposedIdentities.columns,f=b.queryNames,S=b.queryNameMap;if(g&&v)for(var P=0;P<g.length;P++){var D=g[P],M={dataMap:{}};M.metadata=b.metadata&&b.metadata[P],M.id=b.id&&b.id[P];var E=S[P];for(var w of D){var x=_.keys(w);for(var N of x){var L=_.toNumber(N);for(var B in E){var I=E[B];if(_.indexOf(I,L)>=0){var W=f[B],A=p(w[L],v[L],{index:0}),T=(0,C.TZ)(A);M.dataMap[W]=M.dataMap[W]||[],M.dataMap[W].push(T),_.pull(I,L);break}}}}V.push(M)}else{if(!_.isEmpty(b.metadata))for(var R of b.metadata){var U={};U.metadata=R,V.push(U)}if(!_.isEmpty(b.id))for(var z=_.isEmpty(V),j=0;j<b.id.length;j++){var q=z?{}:V[j];q.id=b.id[j],z&&V.push(q)}}return V}}function m(b){if(t.fF.assertValue(b,"decomposedSelectors"),b){var V={expressions:b.expressions},g=b.decomposedIdentities&&b.decomposedIdentities.values,v=b.decomposedIdentities&&b.decomposedIdentities.columns,f=[];if(g&&v){for(var S=0;S<g.length;S++){var P=g[S],D=[];for(var M of P)for(var E in M){var N=p(M[E],v[E],{index:0}),L=(0,C.TZ)(N);D.push(L)}f.push({identities:D,valueMap:b.valueMap[S]})}_.isEmpty(f)||(V.cachedValueItems=f),b.jsonFilter&&(V.jsonFilter=b.jsonFilter)}return V}}},262730:function(Ce,k,r){r.d(k,{D5:function(){return c},DX:function(){return b},Vt:function(){return o},cb:function(){return y},d9:function(){return i},iA:function(){return m},if:function(){return p},of:function(){return l},sz:function(){return V},wy:function(){return h}});var a=r(257738),e=r(722709),u=r(939123),t=r(336508),C=r(132640);class y{constructor(v,f={}){u.fF.assertNonEmpty(v,"Empty roles"),this.roles=v,this.root={identityValues:null,children:[],parent:null},this.levels=[];var{supportsMerge:S,canCollapseRoot:P,collapseParentAfterRemovingChildLevel:D}=f;this.supportsMerge=!!S,this.canCollapseRoot=!!P,this.collapseParentAfterRemovingChildLevel=!!D}updateLevels(v,f){if(!_.isEmpty(v)&&(0!==f||this.canCollapseRoot)){u.fF.assert(()=>f<=_.size(v),"Number of active projections cannot be greater than the number of projections");var S=v.length,P=this.levels;this.levels=new Array(S);for(var D=0;D<S;D++){var M=D>=f-1,E=P[D],w=[v[D]];E&&_.isEqual(E.queryRefs,w)?(this.levels[D]=E,E.isCollapsed=M):this.levels[D]={isCollapsed:M,queryRefs:w,toggledNodes:[]}}this.canCollapseRoot&&(0===f?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(f)}}clone(){for(var v={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},f=new y(_.clone(this.roles),v),S=new Array(this.levels.length),P=0;P<this.levels.length;P++)S[P]=[];return f.levels=_.map(this.levels,(D,M)=>this.cloneExpansionLevel(D,S,M)),f.root=this.cloneExpansionNode(this.root,null,S,-1),f}isStateModified(){return _.some(this.levels,v=>!v.isCollapsed)||!_.isEmpty(this.root.children)}addLevel(v,f){u.fF.assert(()=>this.supportsMerge);var S=_.findLastIndex(this.levels,x=>x.isPinned),P={isCollapsed:!0,queryRefs:[v],toggledNodes:[],isPinned:f<=S||void 0};u.fF.assert(()=>f<=_.size(this.levels),"position > count of levels");for(var D=_.findIndex(this.levels,x=>!_.isEmpty(x.toggledNodes),f),E=-1===D?f:D;E<_.size(this.levels);E++)this.setLevelState(E,!0);if(this.levels.splice(f,0,P),this.unlockLevels(f),P.isPinned)for(var w=0;w<f;w++)delete this.levels[w].AIInformation}removeLevel(v){var f;u.fF.assert(()=>this.supportsMerge),u.fF.assert(()=>v>=0&&v<_.size(this.levels),"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(f=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,S=>S===v),this.levels.splice(v,1),this.collapseParentAfterRemovingChildLevel&&v>0&&v===f-1&&this.setLevelState(v-1,!0),v<_.size(this.levels)&&this.unlockLevels(v)}moveLevels(v,f,S){u.fF.assert(()=>this.supportsMerge),u.fF.assert(()=>v<_.size(this.levels),"sourceIndex >= count of level"),u.fF.assert(()=>f<_.size(this.levels),"targetIndex >= count of level");var P=_.findLastIndex(this.levels,B=>B.isPinned),D=Math.min(v,f);if(f>v){u.fF.assert(()=>v+S<=_.size(this.levels),"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,B=>B>=v&&B<v+S);for(var M=v;M<Math.min(v+S,_.size(this.levels));M++)this.levels[M].toggledNodes=[]}var E=this.levels.splice(v,S);this.levels.splice(f,0,...E||[]);for(var w=_.findIndex(this.levels,B=>!_.isEmpty(B.toggledNodes),f),N=-1===w?f:w;N<_.size(this.levels);N++)this.setLevelState(N,!0);if(this.unlockLevels(D),v>P&&f<=P?_.forEach(E,B=>B.isPinned=!0):v<=P&&f>P&&_.forEach(E,B=>B.isPinned=!1),_.forEach(E,B=>delete B.AIInformation),this.levels[f].isPinned)for(var L=0;L<f;L++)delete this.levels[L].AIInformation}getVisibleDescendentsDepth(v,f){var S=this.levels.length;if(u.fF.assert(()=>f<S,"node out of bounds"),-1===f&&this.canCollapseRoot&&v.isToggled)return 0;for(var P=[v];;){if(f===S-1)return f+1;var D=this.levels[f]&&this.levels[f].isCollapsed,M=void 0,E=[];for(var w of P)!D==!w.isToggled&&(E.push(...w.children||[]),M=!0);if(M&&f++,!(E.length>0))break;P=E}for(;f<S-1&&(-1===f||!this.levels[f].isCollapsed);)f++;return f+1}removeIntermediateNodes(v,f,S){if(S(f)){var P=!!v.isToggled!=!!this.levels[f].isCollapsed;_.pull(v.parent.children,v),_.forEach(v.children,D=>{P&&(D.isToggled=!this.levels[f+1].isCollapsed),D.parent=v.parent,v.parent.children.push(D)})}_.forEach([...v.children||[]],D=>this.removeIntermediateNodes(D,f+1,S))}cloneExpansionLevel(v,f,S){return{isCollapsed:v.isCollapsed,identityKeys:this.cloneExpressionList(v.identityKeys),queryRefs:_.clone(v.queryRefs),toggledNodes:f[S],isPinned:v.isPinned,isLocked:v.isLocked,AIInformation:v.AIInformation?{method:v.AIInformation.method,disabled:v.AIInformation.disabled}:void 0}}cloneExpansionNode(v,f,S,P){var D={identityValues:this.cloneExpressionList(v.identityValues),children:[],parent:f};for(var M of(void 0!==v.isToggled&&(D.isToggled=v.isToggled),P>=0&&S[P].push(D),v.children))D.children.push(this.cloneExpansionNode(M,D,S,P+1));return D}cloneExpressionList(v){return v?_.map(v,f=>f):null}setNodeState(v,f){if(v&&_.isEmpty(v.data))return u.fF.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),f?this.root.isToggled=!0:delete this.root.isToggled,this.root;var S=(0,C.CT)(v);if(S){for(var P=S.length,D=this.root,M=0;M<P;M++){var E=S[M],w=(0,t.RR)(E.expr);if(!this.ensureLevel(M,w))return;var N=(0,t.KX)(E.expr);D=this.ensureChildNode(M,D,N,M===P-1?f:void 0)}if(!this.pruneNonToggledLeaf(D))return D}}ensureLevel(v,f){var S=this.levels[v];if(u.fF.assertValue(S,"level does not exist"),S.identityKeys){if(!(0,e.NF)(S.identityKeys,f,a.fS))return}else S.identityKeys=f;return S}ensureChildNode(v,f,S,P){u.fF.assertValue(f,"parent"),u.fF.assertValue(S,"identityValues"),u.fF.assertValue(v>=0,"levelIdx >= 0");var D=this.levels[v];u.fF.assertValue(D,"level does not exist");var M=this.findNodeMatchingIdentities(f.children,S);return M||f.children.push(M={children:[],identityValues:S,parent:f}),void 0!==P&&(P!==!!D.isCollapsed?(M.isToggled=!0,_.indexOf(D.toggledNodes,M)<0&&D.toggledNodes.push(M)):(delete M.isToggled,D.toggledNodes=_.filter(D.toggledNodes,E=>E!==M))),M}pruneNonToggledLeaf(v){u.fF.assertValue(v,"node");for(var f=!1;v.parent&&!v.isToggled&&_.isEmpty(v.children);)v.parent.children=_.filter(v.parent.children,S=>S!==v),v=v.parent,f=!0;return f}setLevelState(v,f){if(-1===v)return u.fF.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),void(f?this.root.isToggled=!0:delete this.root.isToggled);u.fF.assert(()=>v>-1,"levelIdx");var S=this.levels[v];if(S){for(var P of(S.isCollapsed=f,S.toggledNodes))delete P.isToggled,this.pruneNonToggledLeaf(P);S.toggledNodes=[]}}pinLevels(v){u.fF.assert(()=>v<=_.size(this.levels),"Requested pinning of too many levels");for(var f=0;f<Math.min(v,_.size(this.levels));f++)this.levels[f].isPinned=!0}unpinLevels(v){u.fF.assert(()=>v<_.size(this.levels),"Level does not exist");var f=this.getVisibleDescendentsDepth(this.root,-1);u.fF.assert(()=>v>=f-1,"cannot unpin projected level");for(var S=Math.max(v,f-1);S<_.size(this.levels);S++)delete this.levels[S].isPinned}lockLevels(v){u.fF.assert(()=>v<=_.size(this.levels),"Requested locking of too many levels");for(var f=0;f<Math.min(v,_.size(this.levels));f++)this.levels[f].isLocked=!0}unlockLevels(v){u.fF.assert(()=>v<_.size(this.levels),"Level does not exist");for(var f=v;f<_.size(this.levels);f++)delete this.levels[f].isLocked}setAILevelInformation(v,f){u.fF.assert(()=>v<_.size(this.levels),"Level does not exist"),f?this.levels[v].AIInformation=_.cloneDeep(f):delete this.levels[v].AIInformation}getAILevelInformation(v){return u.fF.assert(()=>v<_.size(this.levels),"Level does not exist"),_.cloneDeep(this.levels[v].AIInformation)}isWholeLevelExpanded(v){var f=this.levels[v];return!f||!f.isCollapsed&&_.isEmpty(f.toggledNodes)}isHierarchyExpanded(){u.fF.assertNonEmpty(this.levels,"levels"),u.fF.assert(()=>this.isWholeLevelCollapsed(this.levels.length-1),"Last level should be collapsed");for(var v=0;v<this.levels.length-1;v++)if(!this.isWholeLevelExpanded(v))return!1;return!0}isWholeLevelCollapsed(v){var f=this.levels[v];return f&&f.isCollapsed&&_.isEmpty(f.toggledNodes)}getNodeLevelState(v,f,S){if(u.fF.assertNonEmpty(v,"identities"),u.fF.assert(()=>S>=0,"levelIndex >= 0"),S>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var P=v[0],D=this.ensureLevel(S,(0,t.RR)(P.expr));if(D){var w,M=!_.isEmpty(D.toggledNodes),E=(0,t.KX)(P.expr);return f&&(w=this.findNodeMatchingIdentities(f.children,E)),1===v.length?w?{isNodeCollapsed:w.isToggled?!D.isCollapsed:D.isCollapsed,levelHasToggledNodes:M}:{isNodeCollapsed:D.isCollapsed,levelHasToggledNodes:M}:(v.splice(0,1),this.getNodeLevelState(v,w,S+1))}}rewrite(v){for(var f of this.levels)f.identityKeys&&(f.identityKeys=_.map(f.identityKeys,S=>S.accept(v)));return this.root=this.rewriteNodeExpansionState(this.root,v),this}rewriteNodeExpansionState(v,f){return v.identityValues&&(v.identityValues=_.map(v.identityValues,S=>S.accept(f))),v.children=_.map(v.children,S=>this.rewriteNodeExpansionState(S,f)),v}findNodeMatchingIdentities(v,f){return _.find(v,S=>(0,e.NF)(S.identityValues,f,a.fS))}}function i(g){if(g)return _.map(g,v=>v.clone())}function o(g,v){return u.fF.assertValue(g,"ExpansionStates"),u.fF.assertNonEmpty(v,"Empty roles"),_.find(g,f=>_.isEqual(f.roles,v))}function c(g,v){return u.fF.assertValue(g,"ExpansionStates"),u.fF.assertValue(v,"Role"),_.find(g,f=>_.includes(f.roles,v))}function h(g,v){return(0,e.NF)(g,v,d)}function d(g,v){return!(!g!=!v||!_.isEqual(g.roles,v.roles)||!(0,e.NF)(g.levels,v.levels,n))&&s(g.root,v.root)}function n(g,v){return!g&&!v||!!(g&&v&&_.isEqual(g.queryRefs,v.queryRefs)&&(0,e.NF)(g.identityKeys,v.identityKeys,a.fS)&&g.isCollapsed===v.isCollapsed&&(0,e.NF)(g.toggledNodes,v.toggledNodes,s))}function s(g,v){return!(!(0,e.NF)(g.identityValues,v.identityValues,a.fS)||!!g.isToggled!=!!v.isToggled||!(0,e.NF)(g.children,v.children,s))}function p(g){return!_.isEmpty(g)}function l(g){return!_.isEmpty(g.root.children)||!_.isEmpty(g.root.identityValues)}function m(g){return _.findIndex(g.levels,v=>v.isPinned)>=0}function b(g,v,f){var S=o(g,v);if(S)return S.getAILevelInformation(f)}function V(g,v){var f=o(g,v);return f?_.findLastIndex(f.levels,S=>S.isPinned)+1:0}},89354:function(Ce,k,r){r.d(k,{l:function(){return e}});var a=r(939123);class e{constructor(t){a.fF.assertValue(t,"options"),this.schemasByName=t.schemas,t.links&&(this.links=t.links)}static merge(t){if(1===t.length)return t[0];var C={},y=[];for(var i of t){var o=function(s){a.fF.assert(()=>!C[s],`Duplicate schema name ${s} found while merging`),C[s]=i.schemasByName[s]};for(var c in i.schemasByName)o(c);y.push(...i.links||[])}var h=function(){var s=C[d];if(s.isExtensionSchema){var p=C[s.extends];a.fF.assert(()=>!p.isExtensionSchema,"Extension schemas cannot themselves be extended"),e.mergeCapabilities(p,s)}};for(var d in C)h();var n={schemas:C};return _.some(y)&&(n.links=y),new e(n)}get schemas(){return _.values(this.schemasByName)}schema(t){return this.schemasByName[t]}static mergeCapabilities(t,C){C.capabilities={...t.capabilities,canEdit:C.capabilities.canEdit,isExtendable:C.capabilities.isExtendable}}}},698581:function(Ce,k,r){r.d(k,{K:function(){return u},b:function(){return t}});var a=r(479517),e=r(939123);function u(C){switch(C){case 0:return"Add";case 1:return"Subtract";case 2:return"Multiply";case 3:return"Divide"}return(0,a.bG)("Unexpected ArithmeticOperatorKind: "+C)}function t(C){switch(C){case 0:return"Sum";case 1:return"Avg";case 2:return"Count";case 3:return"Min";case 4:return"Max";case 5:return"CountNonNull";case 6:return"Median";case 7:return"StandardDeviation";case 8:return"Variance";default:e.fF.assert(()=>null==C,"Unrecognized aggregate function.")}}},79964:function(Ce,k,r){r.d(k,{NQ:function(){return C},cY:function(){return i},d9:function(){return y}});var a=r(257738),e=r(939123),u=r(930746),t=r(871423);class C{constructor(c,h,d,n){e.fF.assertValue(c,"items"),this.items=c,this._activeProjectionRefs=h,this._showAll=d,this.parameters=n||[]}all(){return this.items}resetHiddenState(c){if(!_.isEmpty(this.items))for(var h of this.items)h.queryRef===c&&delete h.hidden}toggleHidden(c){if(!_.isEmpty(this.items))for(var h of this.items)h.queryRef===c&&(h.hidden=!h.hidden)}resetAllHiddenState(){for(var c of this.items)delete c.hidden}projected(){return _.isEmpty(this.items)?this.items:_.filter(this.items,c=>c&&!c.hidden)}addProjection(c,h){var d,n,s;h&&(d=h.fieldIndex,n=h.parameter,s=h.indexInParameter);var p=this.getProjectionIndex(d,n,s);this.fixUpParameterIndices(n,d,1),p>=this.items.length?this.items.push(c):this.items.splice(p,0,c)}removeProjection(c){var h,d,n;c&&(h=c.fieldIndex,d=c.parameter,n=c.indexInParameter),e.fF.assert(()=>null!=h||null!=d&&null!=n,"When removing a projection we expect field index or the parameter options to be complete.");var s=this.getProjectionIndex(h,d,n);this.fixUpParameterIndices(d,h,-1),this.items.splice(s,1)}fixUpParameterIndices(c,h,d){for(var n of this.parameters)c?n.index===c.index&&(void 0===n.length&&(n.length=0),n.length+=d):null!=h&&n.index>=h&&(d>0?n.index>=h:n.index>h)&&(n.index+=d)}moveFields(c,h,d){var n,s,p;if(0===this.parameters.length)n=c,s=d,p=h;else{if(e.fF.assert(()=>c>=0&&c<this.getFieldCount()&&h>=0&&h<this.getFieldCount(),"Should use valid field indices"),e.fF.assert(()=>c+d<=this.getFieldCount(),"Should not attempt to move more fields than exist in collection"),e.fF.assert(()=>h+d<=this.getFieldCount(),"Moving projections should not change the length of collection"),d<=0||c===h)return[];n=this.convertFieldIndexToProjectionIndex(c);var m=this.indexOfLastProjectionInField(c+d-1);for(var v of(s=m-n+1,p=this.convertFieldIndexToProjectionIndex(h),h>c&&(p+=this.indexOfLastProjectionInField(h+d-1)-p+1-s),this.parameters))v.index>=c&&v.index<=c+d-1?v.index=h+v.index-c:v.index>c&&v.index<=h+d-1?v.index-=d:v.index<c&&v.index>=h&&(v.index+=d);if(m<n)return[]}var f=this.items.splice(n,s);return this.items.splice(p,0,...f||[]),f}assignProjection(c,h){this.items[h]=c}updateQueryRef(c,h){this.items[c].queryRef=h}getQueryRefs(){return _.map(this.items,c=>c.queryRef)}getFieldParameters(){return this.parameters}addFieldParameter(c){for(var h of this.parameters)h.index>=c.index&&h.index++;this.parameters.push(c)}getColumnProjectionIndex(c){return e.fF.assert(()=>!_.find(this.parameters,h=>h.index===c),"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(c)}getProjectionsByProjectionIndex(c){var h=this.convertProjectionIndexToFieldIndex(c),d=this.getParameterByFieldIndex(h);return d?this.getParameterProjections(d):[this.items[c]]}getProjectionsByFieldIndex(c){var h=this.getParameterByFieldIndex(c);if(h){var d=this.getParameterProjections(h),n=_.filter(d,l=>null!=l);return n.length!==d.length&&e.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),n}var s=this.convertFieldIndexToProjectionIndex(c),p=this.items[s];return null==p?(e.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[p]}convertProjectionIndexToFieldIndex(c){if(_.isEmpty(this.parameters))return c;var h=0,d=0,n=_.sortBy(this.parameters,p=>p.index);for(var s of n){if(h+c-d<s.index)break;if((d+=s.index-h-1)+(s.length??0)>c)return s.index;h=s.index,d+=s.length??0}return h+c-d}doesParameterExist(c){return _.some(this.parameters,h=>h.index===c)}getParameterProjectionIndex(c,h){return e.fF.assert(()=>c&&null!=h,"Parameter and indexInParameter should both be defined"),e.fF.assert(()=>this.doesParameterExist(c.index),"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(c.index)+h}getColumnProjection(c){if(!this.doesParameterExist(c))return this.items[this.getColumnProjectionIndex(c)]}getParameterProjections(c){if(!c||!c.length)return[];var h=this.convertFieldIndexToProjectionIndex(c.index);return this.items.slice(h,h+c.length)}removeFieldParameters(c){var n,h=this,d=function(p){var l=_.findIndex(h.parameters,g=>g.index===p.index&&(0,a.fS)(g.expr,p.expr));if(l<0)return{v:!1};var m=h.parameters.splice(l,1)[0],b=m.index;for(var V of(e.fF.assert(()=>0===m.length||null==m.length,"there should be no projections for this removed parameter"),h.parameters))V.index>b&&V.index--};for(var s of c)if(n=d(s))return n.v;return!0}findParameterBySQExpr(c){return _.isEmpty(this.parameters)?[]:this.parameters.filter(h=>(0,a.fS)(h.expr,c))}getParameterByFieldIndex(c){return _.find(this.parameters,h=>h.index===c)}get activeProjectionRefs(){return this._activeProjectionRefs}set activeProjectionRefs(c){if(_.isEmpty(c))this._activeProjectionRefs=void 0;else{var h=this.items.map(n=>n.queryRef);for(var d of c)if(!_.includes(h,d))return;this._activeProjectionRefs=c}}get showAll(){return this._showAll}set showAll(c){this._showAll=c}addActiveQueryReference(c){this._activeProjectionRefs?this._activeProjectionRefs.push(c):this._activeProjectionRefs=[c]}getLastActiveQueryReference(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]}replaceQueryRef(c,h){for(var d of(e.fF.assertValue(c,"oldQueryRef"),e.fF.assertValue(h,"newQueryRef"),e.fF.assert(()=>c!==h,"oldQueryRef !== newQueryRef"),e.fF.assert(()=>_.isEmpty(this._activeProjectionRefs),"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role"),this.items))d.queryRef===c&&(d.queryRef=h)}clone(){return new C(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,c=>({expr:c.expr,index:c.index,length:c.length})))}getProjectionIndex(c,h,d){var n;if(h){var s=h.length??0;null!=d?(e.fF.assert(()=>d<=s,"indexInParameter should not exceed the current length of the parameter's projections."),n=this.convertFieldIndexToProjectionIndex(h.index)+d):n=this.convertFieldIndexToProjectionIndex(h.index)+s}else n=null!=c?this.convertFieldIndexToProjectionIndex(c):this.items.length;return n}convertFieldIndexToProjectionIndex(c){return(0,t.VZ)(c,this.parameters)}indexOfLastProjectionInField(c){var h=this.convertFieldIndexToProjectionIndex(c),d=_.find(this.parameters,n=>n.index===c);return d&&(h+=d.length-1),h}getFieldCount(){var c=this.items.length;for(var h of this.parameters)c-=(h.length??0)-1;return c}}function y(o){if(!o)return o;var c={};for(var h in o)c[h]=o[h].clone();return c}function i(o,c){if(e.fF.assertAnyValue(o,"roles"),e.fF.assertValue(c,"name"),o)return o[c]}(0,u.y)(C.prototype)},132640:function(Ce,k,r){r.d(k,{AV:function(){return O},AZ:function(){return L},CT:function(){return V},GT:function(){return B},Ic:function(){return E},Li:function(){return S},N6:function(){return b},Or:function(){return w},QV:function(){return s},Yw:function(){return P},_Q:function(){return I},cY:function(){return x},d9:function(){return A},fS:function(){return D},fd:function(){return F},gU:function(){return g},hp:function(){return M},j9:function(){return l},k_:function(){return f},km:function(){return N},mV:function(){return v},qm:function(){return m},tQ:function(){return p},tV:function(){return W},xO:function(){return d},yN:function(){return n}});var a=r(722709),e=r(939123),u=r(393789),t=r(571619),C=r(791108),y=r(670808),i=r(26026),o=r(336508),c=r(528836),h=r(913186),d="{}";function n(T){return null!=T&&1===T.kind}function s(T){return null!=T&&3===T.kind}function p(T){return null!=T&&2===T.kind}function l(T){return null!=T&&0===T.kind}function m(T){return null!=T&&4===T.kind}function b(T){return!(!T||!T.data)&&T&&T.data&&1===T.data.length&&m(T.data[0])}function V(T){if(T&&!_.isEmpty(T.data)){for(var R=T.data.length,U=new Array(R),z=0;z<R;z++){var j=T.data[z];if(!n(j))return;U[z]=j}return U}}function g(T){if(T&&T.dataMap){var R=[];for(var U in T.dataMap){var z=(0,a.rY)(T.dataMap[U]);R.push(...z||[])}return R}}function v(T,R){if(!_.isEmpty(T)){var U=S(T);if(!_.isEmpty(U))return(0,t.Lu)(U,R)}}function f(T){return v(_.map(T,R=>W(R)))}function S(T){if(!_.isEmpty(T)){for(var R=[],U=function(){var H=T[z];e.fF.assert(()=>!!H,"There is an undefined selector in a list of selectors");var G,q=H?.data;if(!_.isEmpty(q))for(var J=0,Z=q.length;J<Z;J++)G=(0,c.xD)(G,(H?.data[J]).expr);G&&R.push(G)},z=0,j=T.length;z<j;z++)U();return R}}function P(T){if(!_.isEmpty(T))for(var R of T)if(R.dataMap)for(var U in R.dataMap){var z=R.dataMap[U];if(!_.isEmpty(z)&&_.some(z,j=>null!=j))return!0}}function D(T,R,U){return(T=T||null)===(R=R||null)||!(!T!=!R||(e.fF.assertValue(T,"x"),e.fF.assertValue(R,"y"),T.metadata!==R.metadata)||!M(T.data,R.data)||T.highlightMatching!==R.highlightMatching||!U?.skipId&&T.id!==R.id||!U?.skipOrder&&T.order!==R.order)}function M(T,R){if((T=T||null)===(R=R||null))return!0;if(!T!=!R||T.length!==R.length)return!1;for(var U=0,z=T.length;U<z;U++)if(!x(T[U],R[U]))return!1;return!0}function E(T,R){return(T=T||null)===(R=R||null)||!T==!R&&D(W(T),W(R))}function w(T,R){if((T=T||null)===(R=R||null))return!0;if(!T!=!R||T.length!==R.length)return!1;for(var U=0;U<T.length;U++)if(!E(T[U],R[U]))return!1;return!0}function x(T,R){return n(T)&&n(R)?(0,t.fS)(T,R):s(T)&&s(R)?(0,y.fS)(T,R):p(T)&&p(R)?(0,C.fS)(T,R):l(T)&&l(R)?(0,u.fS)(T,R):!(!m(T)||!m(R))&&(0,i.fS)(T,R)}function N(T){var R;if(T.data)if(T.data.length>0){R=`data: [${T.data[0].key}`;for(var U=1,z=T.data.length;U<z;U++)R+=`, ${T.data[U].key}`;R+="]"}else R="data: []";var j=T.metadata;j&&(R?R+=", metadata: "+j:R="metadata: "+j);var H=T.id;return H&&(R?R+=", id: "+H:R="id: "+H),R?"{"+R+"}":"{}"}function L(T,R){if(_.isEmpty(T.data))return[d];var U=[];if(R)U=_.map(T.data,H=>H.key);else for(var z of T.data)if(n(z)){var j=(0,o.RR)(z.expr);j=j||(0,o.KX)(z.expr),_.forEach(j,H=>{U.push((0,h.qC)(H))})}return U}function B(T){e.fF.assertValue(T,"selector");var R=T.data;return!!R&&_.some(R,U=>l(U)||s(U)||m(U))}function I(T){e.fF.assertValue(T,"selector");var R=T.data;if(_.isEmpty(R))return!1;for(var U of R)if(l(U))return!0;return!1}function W(T){if(T){var R=[];for(var U in T.dataMap){var z=(0,a.rY)(T.dataMap[U]);for(var j of z)R.push(j)}var H={};return R.length>0&&(H.data=R),T.metadata&&(H.metadata=_.head(T.metadata)),T.id&&(H.id=T.id),H}}function O(T,R){if(T&&T.metadata){e.fF.assertNonEmpty(R,"getSelectorTargetExpr - selectTransforms");var U=_.find(R,z=>z.queryName===T.metadata);if(U)return U.expr}}function F(T){return e.fF.assertAnyValue(T,"selector"),T&&T.data?{data:T.data}:T}function A(T){var R={};return T.data&&(R.data=[...T.data]),T.metadata&&(R.metadata=T.metadata),T.id&&(R.id=T.id),void 0!==T.highlightMatching&&(R.highlightMatching=T.highlightMatching),null!=T.order&&(R.order=T.order),R}},890770:function(Ce,k,r){r.d(k,{M:function(){return u},V:function(){return e}});var a=r(939123),e=function(t){return t[t.Default=0]="Default",t[t.Verbose=1]="Verbose",t[t.WholeUnits=2]="WholeUnits",t[t.DataLabels=3]="DataLabels",t}({});function u(t){a.fF.assertValue(t,"visualElements shouldn't be empty");var C=[];for(var y of t){var i=function(c){_.find(C,h=>_.isEqual(h,c))||C.push(c)};for(var o of y.DataRoles)i(o)}return C}},922299:function(Ce,k,r){r.d(k,{W7:function(){return n},tY:function(){return d}});var a=r(953474),e=r(257738),u=r(722709),t=r(939123),C=r(336508),y=r(132640);function o(l){return _.cloneDeep(l)}function h(l){return{windowValues:_.map(l.windowValues,m=>function(l){return{identityValues:_.clone(l.identityValues),restartValues:_.clone(l.restartValues),windowKind:l.windowKind}}(m)),identityValues:_.clone(l.identityValues),children:_.map(l.children,m=>h(m))}}function d(l,m,b,V){if(l){l=function(l){if(l)return{levels:o(l.levels),root:h(l.root)}}(l);var g=(0,y.CT)(m);if(!g)return t.fF.assertFail("Empty selector"),l;for(var P,v=l.root,f=0,S=function(){var E=(0,C.RR)(g[f].expr);if(!l.levels[f]||!(0,u.NF)(E,l.levels[f].identityKeys,e.fS))return t.fF.assertFail("Level not found"),{v:l};var w=(0,C.KX)(g[f].expr);v=_.find(v.children,x=>(0,u.NF)(x.identityValues,w,e.fS)),f++};v&&f<_.size(g)-1;)if(P=S())return P.v;if(!v||f<_.size(g)-1)return t.fF.assertFail("Cannot find node"),l;var D=(0,C.KX)(g[f].expr);if(V)v.windowValues=[{identityValues:D,windowKind:b,restartValues:V}];else{var M=_.find(v.windowValues,E=>(0,u.NF)(D,E.identityValues,e.fS));if(!M)return t.fF.assertValue(M,"Cannot find a window for the specified node"),v.windowValues=[],l;M.windowKind=b,v.windowValues=[M]}return l}}function n(l,m,b,V){if(l&&l.root){var g=_.map(l.levels,f=>function(l,m,b){if(l.identityKeys)return l.identityKeys;var V=_.map(l.queryRefs,g=>{var v=m.withName(g);t.fF.assertValue(v,"Cannot find expr "+g);var f=v.expr;return(0,a.ez)(f)?f.getTargetColumnRef(b):f});return t.fF.assert(()=>1===_.size(V),"Composite Groups is not fully supported, each level is expected to have 1 queryRef"),V[0].getKeyColumns(b)}(f,b,V)),v=0;return m&&(v=-1===(v=_.findIndex(m.levels,(f,S)=>!(0,u.NF)(f.identityKeys,g[S],e.fS)))?_.size(m.levels):v),{levels:_.map(g,f=>({identityKeys:f})),root:p(l.root,m&&m.root,v,0,l.levels)}}}function p(l,m,b,V,g){t.fF.assertValue(l,"Expansion node should be defined");var v=m&&m.children||[],f=m&&m.windowValues||[];V>=b&&(v=[],f=[]);var P=_.filter(l.children,D=>g[V]&&!!D.isToggled==!!g[V].isCollapsed);return{children:_.map(P,D=>p(D,(D=>m&&_.find(v,M=>(0,u.NF)(D,M.identityValues,e.fS)))(D.identityValues),b,V+1,g)),identityValues:l.identityValues,windowValues:f}}},919439:function(Ce,k,r){r.d(k,{P:function(){return a},U:function(){return e}});var a=function(u){return u[u.Default=0]="Default",u[u.BypassCache=1]="BypassCache",u}({}),e=function(u){return u[u.None=0]="None",u[u.AllowCache=1]="AllowCache",u[u.AllowQuery=2]="AllowQuery",u[u.CacheResult=4]="CacheResult",u[u.PreventRefresh=8]="PreventRefresh",u}({})},366090:function(Ce,k,r){r.d(k,{oA:function(){return f},Sz:function(){return S}});var a=r(939123),e=r(693713),u=r(180084),h=r(140294),n=r(939349),p=r(982583),l=r(781344),m=r(776073),b=r(379712),V=r(969143),g=r(26026),v=r(953474);function f(M,E,w,x){var N=P(M,E,w,x);return N&&N.expressions}function S(M,E,w,x){return a.fF.assertValue(M,"propDefn"),P(M,E,w,x)}function P(M,E,w,x){var L,B,N=new b.S;return(0,V.er)(M)?((L=new D(E,w,x,M.context)).propertyVisitor=B,(B=new l._(L,N)).visitExpr(M.value)):(0,V.Rc)(M)?(L=new D(E,w,x),B=new l._(L,N),L.propertyVisitor=B,B.visitExpr(M)):(L=new D(E,w,x),B=new l._(L,N),L.propertyVisitor=B,(0,m.RL)(M,L)),{expressions:L.exprs,references:N.references}}class D extends e.PA{constructor(E,w,x,N){super(),this.selector=E,this.querySelects=w,this.context=N,this.exprs=[],this.inputExpr=this.resolveSelectRef(x)}resolveSelectRef(E){return E&&(0,v.NH)(E)?this.getSelectByRef(E):E}add(E){this.context&&(E.context=this.context),null!=this.relatedProjectionQueryName&&(E.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(E)}visitMeasureRef(E){this.add({expr:E,selector:this.selector})}visitArithmetic(E){this.add({expr:E,selector:this.selector})}visitAggr(E){if((0,v.NH)(E.arg)){var x={expr:this.getSelectByRef(E.arg),selector:this.selector,aggregates:this.getAggregates(E.func)};this.add(x)}else this.add({expr:E,selector:this.selector})}checkIfOrdinal(E){}getAggregates(E){switch(E){case 4:return{max:!0};case 3:return{min:!0};case 6:return{median:!0};case 1:return{average:!0};default:a.fF.assertFail("Unsupported Projection Aggregate")}}visitPercentile(E){if((0,v.NH)(E.arg)){var x={expr:this.getSelectByRef(E.arg),selector:this.selector,aggregates:{percentiles:[{k:E.k,exclusive:E.exclusive}]}};this.add(x)}else this.add({expr:E,selector:this.selector})}visitColumnRef(E){this.add({expr:E,selector:this.selector})}visitContains(E){this.checkIfOrdinal(E),super.visitContains(E)}visitStartsWith(E){this.checkIfOrdinal(E),super.visitStartsWith(E)}visitCompare(E){this.checkIfOrdinal(E),super.visitCompare(E)}visitHierarchyLevel(E){this.add({expr:E,selector:this.selector})}visitNativeMeasure(E){this.add({expr:E,selector:this.selector})}visitSelectRef(E){var w=this.getSelectByRef(E);w&&this.add({expr:w,selector:this.selector})}getSelectByRef(E){var w=this.querySelects.withName(E.expressionName);return w&&w.expr}visitScopedEval(E){var w=E.decomposeGlobalAggregateOfScopedExpr();if(w){var x={expr:this.resolveSelectRef(w.source),selector:this.selector,aggregates:this.getAggregates(w.func)};this.add(x)}else if(E.hasGlobalScope())this.add({expr:E.expression,selector:null});else{var L={expr:E,selector:{data:[(0,g.Ue)()]}};this.add(L)}}visitFillRule(E){E.input.accept(this),this.inputExpr=this.resolveSelectRef(E.input),this.visitFillRuleDefinition(E.rule)}visitFillDefinition(E){(0,u.RL)(E,this.propertyVisitor)}visitFillRuleDefinition(E){a.fF.assertValue(E,"fillRule"),a.fF.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var w=E.linearGradient2||E.linearGradient3;a.fF.assertValue(w,"fillRule needs either linearGradient2 or linearGradient3"),a.fF.assertValue(w.min,"gradient.min"),a.fF.assertValue(w.max,"gradient.max");var x={};w.min.value||(x.min=!0),w.max.value||(x.max=!0),(x.min||x.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:x}),(0,h.RL)(E,this.propertyVisitor))}visitDataBarsDefinition(E){a.fF.assertValue(this.inputExpr,"Databars without an input Expr"),a.fF.assertValue(E,"dataBars");var w={};E.minValue||(w.min=!0),E.maxValue||(w.max=!0),(w.min||w.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:w}),function(M,E){a.fF.assertValue(M,"dataBars"),M.minValue&&E.visitExpr(M.minValue),M.maxValue&&E.visitExpr(M.maxValue),M.totalMatchingOption&&E.visitExpr(M.totalMatchingOption),(0,u.RL)(M.positiveColor,E),(0,u.RL)(M.negativeColor,E),(0,u.RL)(M.axisColor,E),E.visitExpr(M.reverseDirection),E.visitExpr(M.hideText)}(E,this.propertyVisitor))}visitIconDefinition(E){!function(M,E){a.fF.assertValue(M,"fillRule"),M.layout&&E.visitExpr(M.layout),M.verticalAlignment&&E.visitExpr(M.verticalAlignment),M.value&&E.visitExpr(M.value)}(E,this.propertyVisitor)}visitParagraphs(E){(0,n.RL)(E,this.propertyVisitor)}visitErrorRangeDefinition(E){a.fF.assert(()=>null!=this.selector.metadata,"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,function(M,E){M.explicit?function(M,E){E.visitExpr(M.isRelative),M.lowerBound&&E.visitExpr(M.lowerBound),M.upperBound&&E.visitExpr(M.upperBound)}(M.explicit,E):M.symmetricalExplicit?E.visitExpr(M.symmetricalExplicit.delta):M.standardDeviation?function(M,E){M.visitExpr(E.value),M.visitExpr(E.multiplier)}(E,M.standardDeviation):M.percentage?function(M,E){E.visitExpr(M.lowerBoundDelta),E.visitExpr(M.upperBoundDelta)}(M.percentage,E):M.percentile?function(M,E){E.visitExpr(M.lowerBound),E.visitExpr(M.upperBound)}(M.percentile,E):a.fF.assertFail("Unsupported ErrorRangeDefinition")}(E,this.propertyVisitor),this.relatedProjectionQueryName=void 0}visitItemLocationDefinition(E){!function(M,E){var w=M.metadata;if(w){var x=w.dataFunction;if(x)for(var N of x.parameters)"ValueParameter"===N.type&&N.value&&E.visitExpr(N.value)}}(E,this.propertyVisitor)}visitAnnotationTemplateDefinition(E){(0,p.RL)(E,this.propertyVisitor)}}},606682:function(Ce,k,r){r.d(k,{V:function(){return C}});var a=r(270862),e=r(939123),u=r(310420),t=r(140294);function C(){return new o}var i=!1;!function(){if(!i){var p=C;(0,u.Z7)().createColorAllocatorFactory=()=>p(),i=!0}}();class o{fromFillRule(l,m){var b=l.linearGradient2,V=l.linearGradient3;if(b||V){var g;V&&(g=void 0===V.min.value&&void 0===V.max.value&&void 0!==V.mid.value);var v=b?b.min:V.min,f=b?b.max:V.max;if(void 0===v.value&&(v.value=m.aggregates&&m.aggregates.min),void 0===f.value&&(f.value=m.aggregates&&m.aggregates.max),void 0!==v.value&&void 0!==f.value)return V&&void 0===V.mid.value&&(V.mid.value=(v.value+f.value)/2),b?new d(b,m):g?new s(V,m):new n(V,m)}}}function c(p){return p.strategy===t.LX}function h(p){switch(p.strategy){case t.TJ:return;case t.Sx:return p.color;case t.LX:e.fF.assertFail("getColorFromNullStrategy - called with asZero");break;default:e.fF.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+p.strategy)}}class d{constructor(l,m){this.options=l,this.source=m,e.fF.assertValue(l,"options"),e.fF.assertValue(m,"source");var b=l.min,V=l.max;this.scale=(0,a.$Q)([b.value,V.value],[b.color,V.color],!0)}color(l){var m=this.options.nullColoringStrategy;if(null===l&&m){if(!c(m))return h(m);l=0}return this.scale(l)}getRule(){return{linearGradient2:this.options}}getSource(){return this.source}}class n{constructor(l,m){this.options=l,this.source=m,e.fF.assertValue(l,"options"),e.fF.assertValue(m,"source"),this.options=l;var b=l.min,V=l.mid,g=l.max;this.scale=(0,a.$Q)([b.value,V.value,g.value],[b.color,V.color,g.color],!0)}color(l){var m=this.options.nullColoringStrategy;if(null===l&&m){if(!c(m))return h(m);l=0}return this.scale(l)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}class s{constructor(l,m){this.options=l,this.source=m,e.fF.assertValue(l,"options"),e.fF.assertValue(m,"source"),this.options=l;var b=l.min,V=l.mid,g=l.max;this.scale1=(0,a.$Q)([b.value,V.value],[b.color,V.color],!0),this.scale2=(0,a.$Q)([V.value,g.value],[V.color,g.color],!0)}color(l){var m=this.options.nullColoringStrategy;if(null===l&&m){if(!c(m))return h(m);l=0}return l<=this.options.mid.value?this.scale1(l):this.scale2(l)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}},569276:function(Ce,k,r){r.d(k,{Ay:function(){return o},Dt:function(){return l},Sr:function(){return t},fl:function(){return C},hw:function(){return h},nA:function(){return m},oF:function(){return e},vS:function(){return S},vV:function(){return y},yL:function(){return c}});var a=r(939123);function e(M,E){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor");var w=M.categorical;w&&function(M,E){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor"),t(M.categories,E);var w=M.values;C(w,E),S(w,E),P(M,E)}(w,E);var x=M.table;x&&y(x,E);var N=M.matrix;N&&function(M,E){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor"),o(M.rows,E),c(M.columns,E),h(M.values,E)}(N,E);var L=M.tree;L&&function(M,E){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor"),l(M.nodes,E),m(M.values,E)}(L,E);var B=M.single;B&&function(M,E){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor"),E.visitRole(M.role)}(B,E)}function t(M,E){M&&(b(M,E,"CategoricalCategory"),V(M,E,"CategoricalCategory"),v(M,E,"CategoricalCategory"),P(M,E))}function C(M,E){if(M){b(M,E,"CategoricalValue"),V(M,E,"CategoricalValue"),v(M,E,"CategoricalValue");var w=M.group;if(w)for(var x of w.select)b(x,E,"CategoricalValueGroup"),V(x,E,"CategoricalValueGroup")}}function y(M,E){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor");var w=M.rows;b(w,E,"TableField"),V(w,E,"TableField"),v(w,E,"TableField"),P(w,E)}function o(M,E){!function(M,E,w){if(a.fF.assertAnyValue(M,"mapping"),a.fF.assertValue(E,"visitor"),M){var x=M?.values;V(M,E,w),function(M,E,w){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor");var x=M.select;if(x)for(var N of x)b(N,E,w),V(N,E,w),g(N,E,w)}(M,E,w),a.fF.assert(()=>!(M.dataReductionAlgorithm&&function(M){return M&&_.some(M,E=>E.dataReductionAlgorithm)}(M.select)),"Mapping has overall data reduction but also scoped data reduction(s)"),P(M,E),x&&(V(x,E,"MatrixRowsScopedValue"),v(x,E,"MatrixRowsScopedValue"))}}(M,E,"MatrixRowsGroup")}function c(M,E){s(M,E,"MatrixColumnsGroup")}function h(M,E){s(M,E,"MatrixIntersection")}function s(M,E,w){a.fF.assertAnyValue(M,"mapping"),a.fF.assertValue(E,"visitor"),M&&(V(M,E,w),v(M,E,w),P(M,E))}function l(M,E){a.fF.assertAnyValue(M,"mapping"),a.fF.assertValue(E,"visitor"),M&&(V(M,E,"TreeNode"),P(M,E))}function m(M,E){a.fF.assertAnyValue(M,"mapping"),a.fF.assertValue(E,"visitor"),M&&V(M,E,"TreeValue")}function b(M,E,w){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor");var x=M.bind;x&&E.visitRole(x.to,w)}function V(M,E,w){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor");var x=M.for;x&&E.visitRole(x.in,w)}function g(M,E,w){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor");var x=M.composite;if(x){for(var N of(E.enterComposite&&E.enterComposite(M),x))b(N,E,w),V(N,E,w);E.exitComposite&&E.exitComposite(M)}}function v(M,E,w){a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor");var x=M.select;if(x)for(var N of x)b(N,E,w),V(N,E,w)}function S(M,E){if(a.fF.assertAnyValue(M,"mapping"),a.fF.assertValue(E,"visitor"),M){var w=M.group;w&&(E.visitRole(w.by,"CategoricalSeries"),P(w,E))}}function P(M,E){if(a.fF.assertValue(M,"mapping"),a.fF.assertValue(E,"visitor"),E.visitReduction){var w=M.dataReductionAlgorithm;w&&E.visitReduction(w)}}},326810:function(Ce,k,r){function a(t,C){return t&&C?t.identityIndex===C.identityIndex:t===C}function u(t){return"number"==typeof t?.identityIndex}r.d(k,{Ye:function(){return u},fS:function(){return a}})},138038:function(Ce,k,r){r.d(k,{L:function(){return u}});var a=r(939123),e=r(616113);class u{constructor(C,y,i,o,c,h,d,n,s,p){this.featureSwitches=C,this.warningType=y,this.propertyId=i,this.selector=o,this.objectDisplayNameGetter=c,this.propertyDisplayNameGetter=h,this.valueExpr=d,this.value=n,this.expectedValueType=s,this.columnExpr=p,1===this.warningType?(a.fF.assertValue(s,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):2===this.warningType?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}get code(){switch(this.warningType){case 1:return"DataBoundExprWarningTypeInvalidType";case 2:return"DataBoundExprWarningTypeMissingReference";case 0:return"DataBoundExprWarningTypeInvalidValue";default:a.fF.assertNever(this.warningType)}}getMessages(C,y){if(y){if(this.cachedMessage)return this.cachedMessage;var o=C.get("NamePattern_Colon"),c=[],h=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(C):this.propertyDisplayNameGetter,d=(0,e.W)(C.get(this.titleKey),h),n=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(C):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var s=(0,e.W)(o,C.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),n);c.push(s)}var p=y(this.valueExpr);if(p){var l=(0,e.W)(o,C.get("Field_Source"),p);c.push(l)}if(void 0!==this.columnExpr){var m=y(this.columnExpr),b=(0,e.W)(o,C.get("Field_Target"),m);c.push(b)}if(1===this.warningType&&this.expectedValueType){var V=(0,e.W)(o,C.get("DataBoundExprWarning_ExpectedDataType"),u.getPrimitiveValueType(this.expectedValueType,C));c.push(V)}if(0===this.warningType&&this.value){var g=(0,e.W)(o,C.get("Value"),this.value.toString());c.push(g)}var v=C.get(this.hintKey);return c.push(v),this.cachedMessage={title:d,message:v,detail:c.join("\n")},this.cachedMessage}a.fF.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")}getTitle(C){var y=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(C):this.propertyDisplayNameGetter;return(0,e.W)(C.get(this.titleKey),y)}getMessage(C){return C.get(this.hintKey)}static getPrimitiveValueType(C,y){switch(C.primitiveType){case 1:return y.get("Text");case 2:case 3:case 4:return y.get("ConditionalFormattingDialog_Number");case 5:return y.get("ConditionalFormattingDialog_Boolean");case 6:case 7:return y.get("ConditionalFormattingDialog_Date");default:a.fF.assertFail("Invalid expected data type")}}}},842864:function(Ce,k,r){function a(o,c){if(!_.isEmpty(o)){var h=o[0];if(h.values&&h.values.length>0)for(var d=0,n=h.values.length;d<n;++d){var s=h.values[d];if(s&&s.source&&t(s.source,c))return d}}return-1}function e(o,c){if(!_.isEmpty(o))for(var h=0,d=o.length;h<d;h++)if(t(o[h].source,c))return h;return-1}function u(o,c){var h=[];if(!_.isEmpty(o))for(var d=0,n=o.length;d<n;d++)t(o[d].source,c)&&h.push(d);return h}function t(o,c){var h=o.roles;return h&&h[c]}function C(o,c){return _.some(o,h=>t(h,c))}function y(o,c){return _.some(o?.metadata?.columns??[],h=>void 0!==h.roles?.[c])}function i(o,c){return o&&o.source&&o.source.roles&&!0===o.source.roles[c]}r.d(k,{R:function(){return i},a2:function(){return a},aJ:function(){return C},c5:function(){return y},nu:function(){return t},pc:function(){return e},zT:function(){return u}})},179962:function(Ce,k,r){r.d(k,{Hy:function(){return V},JU:function(){return E},Lo:function(){return B},fs:function(){return I},ih:function(){return A},sw:function(){return O},ul:function(){return s},zS:function(){return n}});var a=r(257738),e=r(722709),u=r(939123),t=r(360216),C=r(454865),y=r(517273),i=r(969143),o=r(501715),c=r(571619),h=r(888021),d=r(453855),n=function(R){return R.conditionRangeTooLarge="conditionRangeTooLarge",R.conditionRangeTooSmall="conditionRangeTooSmall",R.conditionKindExpectedMeasure="conditionKindExpectedMeasure",R.conditionKindExpectedGrouping="conditionKindExpectedGrouping",R.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",R.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",R.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",R}({});function s(R,U){if(!U||0===U.length)return{dataView:R,isValid:!0};if(R){for(var z of U){if(v(R,z))return{dataView:R,isValid:!0};if(z.categorical&&R.categorical)return p(R,z);if(z.tree&&R.tree)return m(R,z.tree);if(z.single&&R.single)return l(R,z.single);if(z.table&&R.table)return b(R,z.table)}if(R.metadata)return{dataView:{metadata:R.metadata},isValid:!0}}return{isValid:!1}}function p(R,U){u.fF.assertValue(U,"dataViewMapping");var H,z=U.categorical,j=R.categorical;if(!j)return{isValid:!1};if(z.rowCount&&(H=z.rowCount.supported)&&H.max){var q,Z,G=j.categories,J=H.max;if(G)for(var Q=0,ne=G.length;Q<ne;Q++){var le=G[Q];if(Z=le.values.length,void 0!==J&&Z>J){var he=(0,e.w6)(le.values,0,J-1);(q=q||{categories:[]}).categories.push({source:le.source,values:he})}}if(j.values&&j.values.length>0&&J&&(Z||(Z=j.values[0].values.length),void 0!==J&&Z>J)){(q=q||{}).values=(0,h.Yv)();for(var Se=0,Ke=j.values.length;Se<Ke;Se++){var Ge=j.values[Se],ye={source:Ge.source,values:(0,e.w6)(Ge.values,0,J-1)};void 0!==Ge.min&&(ye.min=Ge.min),void 0!==Ge.max&&(ye.max=Ge.max),void 0!==Ge.subtotal&&(ye.subtotal=Ge.subtotal),q.values.push(ye)}}q&&(R={metadata:R.metadata,categorical:q})}return f(R,U)?{dataView:R,isValid:!0}:null}function l(R,U){return u.fF.assertValue(R,"dataView"),u.fF.assertValue(U,"singleRoleMapping"),R.single?{dataView:R,isValid:!0}:{isValid:!1}}function m(R,U){return u.fF.assertValue(R,"dataView"),u.fF.assertValue(U,"treeRoleMapping"),P(R,U)?{dataView:R,isValid:!0}:{isValid:!1}}function b(R,U){return u.fF.assertValue(R,"dataView"),u.fF.assertValue(U,"tableRoleMapping"),R.table?{dataView:R,isValid:!0}:{isValid:!1}}function V(R){for(var U=0,z=0,j=R.length;z<j;z++)R[z].isMeasure||++U;return U}function v(R,U,z){return!(!U||!R||U.scriptResult&&!function(R,U){return u.fF.assertValue(U,"scriptResultRoleMapping"),!(!R||!R.payloadBase64)}(R.scriptResult,U.scriptResult)||U.categorical&&!f(R,U.categorical,z)||U.tree&&!P(R,U.tree,z)||U.single&&!function(R,U){return u.fF.assertValue(U,"singleRoleMapping"),!!R}(R.single,U.single)||U.table&&!function(R,U,z){if(u.fF.assertValue(U,"tableRoleMapping"),!R)return!1;if(U.rowCount){var j=U.rowCount.supported;if(z&&U.rowCount.preferred&&(j=U.rowCount.preferred),j){var H=0;if(R.rows&&R.rows.length&&(H=R.rows.length),null!=E(H,j))return!1}}return!0}(R.table,U.table,z))}function f(R,U,z){u.fF.assertValue(U,"categoryRoleMapping");var j=R.categorical;if(!j)return!1;if(U.rowCount){var H=U.rowCount.supported;if(z&&U.rowCount.preferred&&(H=U.rowCount.preferred),H){var q=0;if(j.values&&j.values.length?q=j.values[0].values.length:j.categories&&j.categories.length&&(q=j.categories[0].values.length),null!=E(q,H))return!1}}return!0}function P(R,U,z){u.fF.assertValue(U,"treeRoleMapping");var H=U.depth,q=H&&z?H.preferred:H.supported;return null==E(V(R.metadata.columns),q)}function E(R,U,z){if(u.fF.assertValue(R,"value"),U){if(!z&&void 0!==U.min&&U.min>R)return n.conditionRangeTooSmall;if(void 0!==U.max&&U.max<R)return n.conditionRangeTooLarge}}function w(R,U,z,j){if(R&&void 0!==R.kind){var H=R.kind,q=z[U];if(q){var G=q.all();for(var J of G)if(j[J.queryRef]!==H)switch(H){case C.DW.Measure:return n.conditionKindExpectedMeasure;case C.DW.Grouping:return n.conditionKindExpectedGrouping;case C.DW.GroupingOrMeasure:return n.conditionKindExpectedGroupingOrMeasure}}}}function x(R,U,z,j){if(R&&R.areHierarchicallyRelated&&!_.isEmpty(U)&&!_.isEmpty(z)&&j){var q=L(_.map(U,G=>G.queryRef),z);if(!y.m.areHierarchicallyRelated(j,q))return n.conditionNotHierarchicallyRelated}}function N(R,U,z){if(u.fF.assertAnyValue(R,"can be called with empty role"),u.fF.assertNonEmpty(U,"must have selects"),u.fF.assertValue(z,"must have Schema"),1!==_.chain(U).map(Z=>Z.name).uniq().value().length){var q=L(_.map(R,Z=>Z.queryRef),U),G=_.chain(q).map(Z=>z.schema(Z.schema)).uniq().value(),J=_.uniqWith(q,(Z,Q)=>(0,a.fS)(Z,Q));if(u.fF.assertNonEmpty(J,"uniqueEntityExprs"),J.length<2)return _.some(G,Z=>!Z.capabilities||!Z.capabilities.supportsInstanceFilters)?n.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(G,Z=>!Z.capabilities||!Z.capabilities.supportsMultiTableTupleFilters||!Z.capabilities.supportsInstanceFilters))return n.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function L(R,U){if(!_.isEmpty(R)&&!_.isEmpty(U)){var z={};R.forEach(q=>{z[q]=!0});var j=[];for(var H of U)H.name&&z[H.name]&&H.expr&&j.push(H.expr.getTargetEntity());return j}}function B(R,U,z,j,H,q,G,J,Z){u.fF.assertValue(R,"projections"),u.fF.assertAnyValue(U,"mappings"),u.fF.assert(()=>_.every(U,ue=>_.isPlainObject(ue)),"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var Q=[],ne=[];if(!_.isEmpty(U))for(var le=0,he=U.length;le<he;le++){var Se=U[le],Ke=Se.conditions,ye=W(Se.requiredProperties,H,j,q),we=[];if(_.isEmpty(Ke))we.push({});else for(var je=0,de=Ke.length;je<de;je++){var Pe=Ke[je],Ve=I(R,Pe,z,void 0,G,J,Z);if(_.isEmpty(Ve))we.push(Pe);else for(var Ze of Ve)Ze.mappingIndex=le,Ze.conditionIndex=je,ne.push(Ze)}if(!_.isEmpty(we)&&ye){var Ue=_.cloneDeep(Se);Ue.single&&(Ue={table:{rows:{for:{in:Ue.single.role}}}});var De=_.filter(we,ue=>Object.keys(ue).length>0);_.isEmpty(De)||(Ue.conditions=De),Q.push(Ue)}}return{supportedMappings:(0,e.rm)(Q),mappingErrors:(0,e.rm)(ne)}}function I(R,U,z,j,H,q,G){u.fF.assertValue(R,"projections"),u.fF.assertValue(U,"condition");for(var J=Object.keys(U),Z=[],Q=0,ne=J.length;Q<ne;Q++){var le=J[Q],he=R[le]&&!_.isEmpty(R[le].activeProjectionRefs),Se=U[le],Ke=!Se.suppressDrill,we=F(Se,le,R,Ke&&(null!=j?j:he)&&Ke,G);null!=we&&Z.push({code:we,roleName:le}),null!=(we=w(Se,le,R,z))&&Z.push({code:we,roleName:le});var je=R[le]&&R[le].projected(),de=void 0;_.isEmpty(H)||(de=_.map(je,Pe=>H.withName(Pe.queryRef))),null!=(we=x(Se,je,de,q))&&Z.push({code:we,roleName:le}),Se.multiTableTupleFiltersSupported&&q&&!_.isEmpty(H)&&!_.isEmpty(de)&&null!=(we=N(je,de,q))&&Z.push({code:we,roleName:le})}return Z}function W(R,U,z,j){if(_.isEmpty(R))return!0;if(!U||!j)return!1;var H=(0,t.Ue)(),q=(0,d.X)(),G=new o.Q(z,H);return _.every(R,J=>{var Z=null,Q=j[J.objectName];if(!Q)return!1;var le,ne=U[J.objectName];return ne&&(Z=ne.properties[J.propertyName]),!_.isEmpty(Q)&&Q[0]&&(le=(0,i.NA)(j,J,Q[0].selector)),!(!Z||!le)&&G.evaluateProperty(q,Z,le)})}function O(R,U,z,j){u.fF.assertValue(R,"roleName"),u.fF.assertValue(U,"projections");var H=U[R];return H?z?1:j?H.all().length:H.projected().length:0}function F(R,U,z,j,H){if(R){var q=O(U,z,j,H);if(void 0!==R.min&&R.min>q)return n.conditionRangeTooSmall;var G=O(U,z,j);if(void 0!==R.max&&R.max<G)return n.conditionRangeTooLarge}}function A(R,U){if(R&&U&&R.categorical&&U.categorical){var z=R.categorical.categories,j=U.categorical.categories;if(z&&j&&z.length===j.length){for(var H=0,q=z.length;H<q;H++){var G=z[H].identity,J=j[H].identity,Z=T(G);if(Z!==T(J))return!1;for(var Q=0;Q<Z;Q++)if(!(0,c.fS)(G[Q],J[Q]))return!1}return!0}}return!1}function T(R){return R?R.length:0}},639981:function(Ce,k,r){r.d(k,{h:function(){return C}});var a=r(939123),e=r(528836),u=r(571619),t=r(888021);function C(){return new y}class y{constructor(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}withCategory(d){var n=d.values,s=d.identityFrom,p=d.source.type,l={source:d.source,identityFields:d.identityFrom.fields,identity:d.identityFrom.identities||[],values:n};if(!d.identityFrom.identities)for(var m=0,b=n.length;m<b;m++)l.identity.push(i(s,m,n[m],p));return this.categories||(this.categories=[]),this.categories.push(l),this}withCategories(d){return _.isEmpty(this.categories)?this.categories=d:Array.prototype.push.apply(this.categories,d),this}withValues(d){a.fF.assertValue(d,"options");var n=d.columns;for(var s of(a.fF.assertValue(n,"columns"),n))this.staticMeasureColumns.push(s.source);return this.staticSeriesValues=n,this}withGroupedValues(d){a.fF.assertValue(d,"options");var n=d.groupColumn;a.fF.assertValue(n,"groupColumn"),this.dynamicSeriesMetadata={column:n.source,identityFrom:n.identityFrom,values:n.values};var s=d.valueColumns;for(var p of s)this.dynamicMeasureColumns.push(p.source);return this.dynamicSeriesValues=d.data,this}fillData(d){var n=this,s=_.head(this.categories),p=s&&s.values?s.values.length:0;if(this.hasDynamicSeries())for(var l=function(){var f=n.dynamicSeriesValues[m];a.fF.assert(()=>f.length===n.dynamicMeasureColumns.length,"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var S=0,P=n.dynamicMeasureColumns.length;S<P;S++)c(d[m*P+S],f[S],p)},m=0,b=this.dynamicSeriesMetadata.values.length;m<b;m++)l();if(this.hasStaticSeries())for(var V=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,g=0,v=this.staticMeasureColumns.length;g<v;g++)c(d[V+g],this.staticSeriesValues[g],p)}build(){var d=[],n={},s=this.categories,p=this.dynamicSeriesMetadata;for(var l of s)o(d,l.source);if(this.hasDynamicSeries()){o(d,p.column),n.values=(0,t.Yv)([],p.identityFrom.fields,p.column);var m=p.values,b=new Map;for(var V of this.dynamicMeasureColumns)V.formatSource?.formatString&&b.set(V.formatSource.formatString,new Map);for(var g=0;g<m.length;g++){var v=m[g],f=i(p.identityFrom,g,v,p.column.type);for(var S of this.dynamicMeasureColumns){var P=_.toPlainObject(S);P.groupName=v,b.has(S)&&b.get(S).set(P.groupName,P),P.rolesIndex&&delete P.rolesIndex,o(d,P),n.values.push({source:P,values:[],identity:f})}}if(b.size>0){var D=function(B){B.formatSource?.formatString&&(a.fF.assert(()=>b.has(B.formatSource.formatString),"formatString column must be in dynamicFormatStringMappings"),B.formatSource={formatString:b.get(B.formatSource.formatString).get(B.groupName)})};for(var M of d)D(M)}if(0===m.length)for(var E of this.dynamicMeasureColumns){var w=_.toPlainObject(E);o(d,w),n.values.push({source:w,values:[]})}if(this.hasStaticSeries()){var x=n.values.grouped();n.values.grouped=()=>x,this.appendStaticMeasureColumns(d,n.values)}}else n.values=(0,t.Yv)(),this.appendStaticMeasureColumns(d,n.values);var N=this.categories;_.isEmpty(N)||(n.categories=N),this.fillData(n.values);var L={metadata:{columns:d},categorical:n};if(this.isLegalDataView(L))return L}appendStaticMeasureColumns(d,n){if(a.fF.assertValue(d,"metadataColumns"),a.fF.assertValue(n,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var s of this.staticMeasureColumns)o(d,s),n.push({source:s,values:[]})}isLegalDataView(d){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&y.isVisualDataView(d.metadata.columns))}static isVisualDataView(d){return!_.isEmpty(d)&&_.some(d,n=>!!n.queryName)}hasDynamicSeries(){return!!this.dynamicSeriesMetadata}hasStaticSeries(){return!!this.staticSeriesValues}}function i(h,d,n,s){var p=h.identities;return p?p[d]:(a.fF.assert(()=>h.fields&&1===h.fields.length,"Inferring identity, expect exactly one field."),(0,u.TZ)((0,e.Dg)(h.fields[0],(0,e.kQ)(n,s))))}function o(h,d){_.includes(h,d)||h.push(d)}function c(h,d,n){a.fF.assertValue(h,"target"),a.fF.assertValue(d,"source"),a.fF.assertValue(n,"categoryLength");var s=d.values;a.fF.assert(()=>n===s.length||0===n,"categoryLength === values.length || categoryLength === 0"),h.values=s;var p=d.highlights;p&&(a.fF.assert(()=>n===p.length,"categoryLength === highlights.length"),h.highlights=p);var m,l=d.objects;l&&(a.fF.assert(()=>n===l.length,"categoryLength === objects.length"),h.objects=l),void 0!==d.minLocal&&(m||(m={}),m.minLocal=d.minLocal),void 0!==d.maxLocal&&(m||(m={}),m.maxLocal=d.maxLocal),m&&(h.source.aggregates=m,_.extend(h,m))}},518195:function(Ce,k,r){r.d(k,{KH:function(){return m},PO:function(){return S}});var a=r(953474),e=r(939123),u=r(542666),t=r(132640),C=r(528836),y=r(776073),i=r(496899),o=r(123537),c=r(333736),h=r(205754);function d(W){return new n(W)}class n{constructor(O){this.dataView=O,e.fF.assertValue(O,"dataView"),this.columnsByRole={},this.valueSources=[];var F={};if(this.dataView.values)for(var A of this.dataView.values){this.valueSources.push(A.source);var T=A.source.rootSource;T&&(F[A.source.index]=T)}this.valueSources.unshift(..._.values(F))}getExprColumn(O,F){return(0,h.T5)(O,this.valueSources,F?void 0:this.groupName)}getScopedEvalExprValue(O){var F=O.decomposeGlobalAggregateOfScopedExpr();if(F){var A=_.chain(this.valueSources).filter(R=>null==R.groupName).value(),T=(0,h.T5)(F.source,A);return T?(0,h._L)(T,F.func):void 0}if(O.hasInnerMostScope())return this.getExprValue(O.expression);O.hasGlobalScope()?e.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):e.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(O){var F=this.index;if(_.isNumber(F)){var A=this.dataView.values;if(A){var T=(0,h.T5)(O,this.valueSources,this.groupName),R=_.find(A,U=>U.source===T);if(R)return this.useHighlightValues?R.highlights[F]:R.values[F]}}}getRoleValues(O){var F=this.columnsByRole,A=F[O];if(A||(A=F[O]=function(W,O){return e.fF.assertValue(W,"dataViewCategorical"),p(W.values,O)||p(W.categories,O)}(this.dataView,O)),A&&null!=this.index)return _.map(A,R=>R.values[this.index])}setCurrentRowIndex(O){e.fF.assertValue(O,"index"),this.index=O}resetCurrentRowIndex(){delete this.index}setCurrentColumnGroupName(O){e.fF.assertValue(void 0!==O,"groupName"),this.groupName=O}useHighlights(O){this.useHighlightValues=O}}function p(W,O){if(e.fF.assertAnyValue(W,"columns"),W){var F=[];for(var A of W){var T=A.source.roles;!T||!T[O]||F.push(A)}return F}}var l=r(879972);function m(W,O,F,A,T,R,U,z){for(var j of(e.fF.assertValue(W,"dataViewCategorical"),e.fF.assertAnyValue(O,"selectTransforms"),e.fF.assertValue(F,"objectDescriptors"),e.fF.assertValue(A,"objectDefnsForSelector"),A)){var H=j.selector,q=j.rules,G=j.objects;e.fF.assertValue(H,"selector"),e.fF.assertAnyValue(q,"rules"),e.fF.assertValue(G,"objectDefns");var J=(0,t.GT)(H);H=E(W,H);var Z=(0,l.U)(H,T);U&&(U.selector=H,U.targetExpr=(0,t.AV)(H,O)),b(W,F,H,J,G,Z,R,U),f(W,F,H,J,G,Z,R,U,z),D(W,F,H,G,R,U,z)}}function b(W,O,F,A,T,R,U,z){if(e.fF.assertValue(W,"dataViewCategorical"),e.fF.assertValue(O,"objectDescriptors"),e.fF.assertValue(F,"selector"),e.fF.assertValue(A,"containsWildcard"),e.fF.assertValue(T,"objectDefns"),W.categories&&0!==W.categories.length){var j=function(W,O,F){e.fF.assertValue(W.categories[0],"dataViewCategorical.categories[0]");var A=W.categories[0].identity,T=[];for(var R of W.categories){if(!R.identityFields||!F.matchesKeys([R.identityFields],1))return;T.push(R)}e.fF.assert(()=>T.length===W.categories.length,"Column length mismatch");var U=O.metadata;if(U){var z=W.values;if(z)for(var j=0,H=z.length;j<H;j++){var q=z[j];if(q.source.queryName===U){T=[q];break}}}return{columns:T,identities:A}}(W,F,R);if(j){var G,H=function(W){return _.some(W.values,O=>!!O.highlights)}(W),q=j.identities,J=d(W);if(q){for(var Z,Q,ne=0,le=q.length;ne<le;ne++)if(A||R.matches([q[ne]])){switch(J.setCurrentRowIndex(ne),F.highlightMatching){case void 0:case 0:Z=!0,Q=!1;break;case 1:Z=!0,Q=H;break;case 2:Z=!H,Q=H;break;default:e.fF.assertNever(F.highlightMatching)}if(Z){J.useHighlights(!1);var Se=(0,c.PJ)(U,J,O,T,z);if(Se)for(var Ke of j.columns){var Ge=Ke.objects;Ge||(Ge=Ke.objects=new Array(le)),Ge[ne]||(Ge[ne]={}),(0,o.PM)(Ge[ne],Se,F.id,F.order)}G=!0}if(Q){J.useHighlights(!0);var ye=(0,c.PJ)(U,J,O,T,z);if(ye)for(var we of j.columns){var je=we.highlightObjects;je||(je=we.highlightObjects=new Array(le)),je[ne]||(je[ne]={}),(0,o.PM)(je[ne],ye,F.id,F.order)}G=!0}if(!A)return G}return G}}}}function v(W,O,F){return e.fF.assertAnyValue(O,"propertyDefn"),!!(O instanceof C.Il&&(0,a.NH)(O)&&0===O.attributeKind)||function(W,O,F){return F.measureDrivenDataLabels&&"labels"===W&&null!=O}(W,O,F)||(0,y.ZG)(O)||function(W,O,F){var A=O.solid?.color?.kind;return F.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(W)&&(24===A||42===A||4===A||3===A)}(W,O,F)}function f(W,O,F,A,T,R,U,z,j){e.fF.assertValue(W,"dataViewCategorical"),e.fF.assertValue(O,"objectDescriptors"),e.fF.assertValue(F,"selector"),e.fF.assertValue(A,"containsWildcard"),e.fF.assertValue(T,"objectDefns");var H=W.values;if(H&&H.identityFields&&R.matchesKeys([H.identityFields],1)){var q=H.grouped();if(q){var Q,G=d(W),J=F.metadata,Z=N(T,v,j);for(var ne of q)if(void 0!==ne.name){_.isEmpty(Z)||(G.setCurrentColumnGroupName(ne.name),M(O,F,Z,U,z,G,ne,j));var le=ne.values;if(A||R.matches([ne.identity])){var he=(0,c.PJ)(U,G,O,T,z);if(he)if(J)for(var Se=0,Ke=le.length;Se<Ke;Se++){var Ge=le[Se],ye=Ge.source;if(ye.queryName===J){var we=(0,u.ED)(ye),je=we.objects;je||(je=we.objects={}),(0,o.PM)(je,he,F.id,F.order),Ge.source=we,Q=!0;break}}else{var de=ne.objects;de||(de=ne.objects={}),(0,o.PM)(de,he,F.id,F.order),S(H,q),Q=!0}if(!A)return!0}}return Q}}}function S(W,O){W.grouped=O?()=>O:()=>function(W){e.fF.assertValue(W,"values");for(var F,O=[],A=0,T=W.length;A<T;A++){var R=W[A];if(!F||F.identity!==R.identity){if(F={values:[]},R.identity){F.identity=R.identity;var U=R.source;void 0!==U.groupName?F.name=U.groupName:U.displayName&&(F.name=U.displayName)}O.push(F)}F.values.push(R)}return O}(W)}function D(W,O,F,A,T,R,U){if(e.fF.assertValue(W,"dataViewCategorical"),e.fF.assertValue(O,"objectDescriptors"),e.fF.assertValue(F,"selector"),e.fF.assertValue(A,"objectDefns"),_.isEmpty(W.categories)){var z=W.values;if(!z||_.isEmpty(z.identityFields)){var j=function(W,O){var F=O.metadata;if(void 0!==F&&W)return e.fF.assert(()=>1===_.filter(W,A=>A.source.queryName===F).length,"Only one column has to match"),_.find(W,A=>A.source.queryName===F)}(W.values,F);if(j){var H=d(W),q=(0,t.N6)(F);if(A=N(A,v,U),!_.isEmpty(A)&&q){e.fF.assert(()=>W.values.length>0,"dataViewCategorical.values.length > 0"),e.fF.assert(()=>W.values[0].values.length<=1,"There has to be max 1 row since there are no category groupings"),H.setCurrentRowIndex(0);var J=(0,c.PJ)(T,H,O,A,R);if(J){var Z=j.objects;Z||(Z=j.objects=[]),Z[0]||(Z[0]={}),(0,o.PM)(Z[0],J,F.id,F.order)}}}}}}function M(W,O,F,A,T,R,U,z){if(e.fF.assertValue(W,"objectDescriptors"),e.fF.assertValue(O,"selector"),e.fF.assertValue(F,"objectDefns"),e.fF.assertValue(R,"evalContext"),e.fF.assertValue(U,"valueGrouping"),(0,t.N6)(O)){var j=function(W,O,F){return void 0===O?.metadata&&F.categoricalSecondaryCF?W:_.filter(W,A=>A.source.queryName===O.metadata)}(U.values,O,z);for(var H of j){e.fF.assertValue(H.source.groupName===U.name,"targetColumn.source.groupName");for(var q=H.values.length,G=0;G<q;G++){R.setCurrentRowIndex(G),R.useHighlights(!1);var J=(0,c.PJ)(A,R,W,F,T);if(J){var Z=H.objects;Z||(Z=H.objects=new Array(q)),Z[G]||(Z[G]={}),(0,o.PM)(Z[G],J,O.id,O.order)}if(null!=H.highlights){R.useHighlights(!0);var Q=(0,c.PJ)(A,R,W,F,T);if(Q){var ne=H.highlightObjects;ne||(ne=H.highlightObjects=new Array(q)),ne[G]||(ne[G]={}),(0,o.PM)(ne[G],Q,O.id,O.order)}}R.resetCurrentRowIndex()}}}}function E(W,O){return(0,t._Q)(O)&&(O=(0,i.w)(O,F=>function(W,O){if(O.categories)for(var F of O.categories)if(F.source&&(0,i.s)([F.source],W))return[F.identityFields]}(F,W))),O}function N(W,O,F){return e.fF.assertValue(W,"objectDefns"),_.chain(W).map(A=>({...A,properties:_.pickBy(A.properties,T=>O(A.name,T,F))})).filter(A=>!_.isEmpty(Object.keys(A.properties))).value()}},992104:function(Ce,k,r){r.d(k,{eC:function(){return h},pP:function(){return c},zq:function(){return d}});var a=r(939123),e=r(542666),u=r(359155),t=r(931145),C=r(988206),y=r(129535),i=r(87051),o=r(205754);function c(f,S,P,D,M){a.fF.assertValue(f,"dataView"),a.fF.assertAnyValue(S,"objectDescriptors"),a.fF.assertAnyValue(P,"applicableRoleMappings"),a.fF.assertAnyValue(D,"projectionActiveItems");var E=f,w=f.categorical;if(w){var x=function(f,S,P){a.fF.assertValue(f,"dataViewCategorical"),a.fF.assertAnyValue(S,"applicableRoleMappings");var D,M=_.chain(S).filter(L=>!(0,C.zY)(L)).map(L=>L.categorical).value(),E=!_.isEmpty(M)&&_.every(M,L=>!!L);if(E){var w=function(f){a.fF.assertNonEmpty(f,"categoricalRoleMappings"),a.fF.assert(()=>_.every(f,P=>!!P),"categoricalRoleMappings must not contain falsy element");var S=(0,C.y4)(f,C.O2);if(1===_.size(S))return _.head(S)}(M);if(w&&_.includes(P,w)&&function(f,S){a.fF.assertValue(f,"categoricalRoleName"),a.fF.assertNonEmpty(S,"roleMappings"),a.fF.assert(()=>_.every(S,D=>D.categorical),"All specified roleMappings are expected to target categorical");var P=_.every(S,D=>!_.isEmpty(D.conditions)&&_.every(D.conditions,M=>M[f]&&1===M[f].max));return P}(w,S)){var x=_.filter(f.categories,L=>L.source.roles&&!!L.source.roles[w]);if(!_.isEmpty(x)){var N=_.every(x,L=>L.values.length===x[0].values.length);N&&(D={roleName:w,categories:x})}}}return D}(w,P,M),N=(0,o.dM)(f.metadata.columns);if(x&&(x.categories.length>=2||N)){var L=_.chain(D&&D[x.roleName]).filter(I=>I.suppressConcat).map(I=>I.queryRef).value();E=l(f,(0,y.$v)(S),x.roleName,x.categories,L,N)}}return E}function h(f,S,P,D,M=!1){var E;if(a.fF.assertValue(f,"metadata"),a.fF.assertAnyValue(S,"formatStringPropId"),a.fF.assertValue(D,"categorical"),!_.isEmpty(D.categories)&&D.categories.length>=2){var w=(0,e.ED)(f.columns);E=l({metadata:(0,e.ED)(f,L=>{L.columns=w}),categorical:D},S,P,D.categories,[],void 0,M)}else E={metadata:f,categorical:D};return E}function d(f){var S=Object.getPrototypeOf(f);return S&&S.categories?S.categories:f.categories}function l(f,S,P,D,M,E,w=!1){a.fF.assert(()=>f&&f.categorical&&_.size(f.categorical.categories)>=1,"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),a.fF.assertAnyValue(S,"formatStringPropId"),a.fF.assertValue(P,"roleName"),a.fF.assert(()=>!_.isEmpty(D),"!_.isEmpty(columnsSortedByProjectionOrdering)"),a.fF.assert(()=>_.every(D,G=>_.includes(f.categorical.categories,G)),"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var L,B,x=D.length-1,N=_.filter(D,(G,J)=>J===x||!_.includes(M,G.source.queryName));1===D.length?(w||(L=N[0].values),B=N[0].source.type):(w||(L=function(f,S){a.fF.assertValue(f,"columnsSortedByProjectionOrdering"),a.fF.assertAnyValue(S,"formatStringPropId");var P=[];for(var D of f)for(var M=(0,u.EO)(D.source,S),E=0,w=D.values.length;E<w;E++){var N=(0,u.WU)(D.values&&D.values[E],M);P[E]=void 0===P[E]?N:P[E]+" "+N}return P}(N,S)),B=t.Ge.fromDescriptor({text:!0}));var W=function(f,S,P,D){var M;if(a.fF.assertValue(f,"roleName"),a.fF.assertNonEmpty(S,"sourceColumnsSortedByProjectionOrdering"),a.fF.assert(()=>1===_.chain(S).map(B=>B.isMeasure).uniq().value().length,"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),D)M=function(f,S){return f+" "+S}(D,_.last(S).displayName);else for(var w of S)M=null==M?w.displayName:M+" "+w.displayName;var x={};x[f]=!0;var N={displayName:M,roles:x,type:P},L=_.last(S);return void 0!==L.isMeasure&&(N.isMeasure=L.isMeasure),N.queryName=L.queryName,N}(P,_.map(N,G=>G.source),B,E),O=(0,e.qO)(f);if(function(f,S){a.fF.assertValue(f,"transformedDataView"),a.fF.assertValue(S,"newColumn");var P=(0,e.qO)(f.metadata.columns);P.push(S);var D=(0,e.qO)(f.metadata);D.columns=P,f.metadata=D}(O,W),!w){var F=f.categorical,T=function(f,S,P,D){a.fF.assert(()=>f&&f.length>=1,"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),a.fF.assertValue(S,"columnMetadata"),a.fF.assertValue(P,"concatenatedValues"),a.fF.assertAnyValue(D,"dataViewObjects");var M={source:S,values:P},E=f[0];return E.identity&&(M.identity=E.identity),E.identityFields&&(M.identityFields=E.identityFields),D&&(M.objects=D),M}(N,W,L,(0,i.OC)(F.categories)),R=_.last(D),U=_.findIndex(F.categories,G=>G===R),z=(0,e.qO)(F.categories);z.splice(U,0,T);for(var j=function(G){_.find(D,J=>J===z[G])&&z.splice(G,1)},H=z.length-1;H>=0;H--)j(H);var q=(0,e.qO)(F);q.categories=z,O.categorical=q}return O}},496899:function(Ce,k,r){r.d(k,{s:function(){return t},w:function(){return u}});var a=r(132640),e=r(670808);function u(C,y){var i={data:[],id:C.id,metadata:C.metadata,order:C.order};for(var o of C.data)if((0,a.j9)(o)){var c=y(o.roles);if(!_.isEmpty(c)){for(var h of c)i.data.push((0,e.ms)(h));continue}}else i.data.push(o);return i}function t(C,y){for(var i of C){var o=i.roles;if(!o||!_.some(y,c=>o[c]))return!1}return!0}},988206:function(Ce,k,r){r.d(k,{G8:function(){return w},O2:function(){return h},Ti:function(){return l},V3:function(){return m},VO:function(){return i},VV:function(){return b},Xs:function(){return n},Xw:function(){return A},ZZ:function(){return y},_1:function(){return d},eD:function(){return F},mn:function(){return M},nG:function(){return C},oJ:function(){return E},u5:function(){return x},wj:function(){return P},y4:function(){return c},zY:function(){return t}});var a=r(722709),e=r(939123),u=r(214817);function t(T){return T&&T.usage&&T.usage.regression||void 0}class C{constructor(R){this.includeScopedValuesRoles=R,this.roleNames=[]}visitRole(R,U){(this.includeScopedValuesRoles||"MatrixRowsScopedValue"!==U)&&this.roleNames.push(R)}static fromMatrixRows(R,U){var z=new this(U);return(0,u.Ay)(R,z),z.roleNames}static fromMatrixColumns(R){var U=new this;return(0,u.Ay)(R,U),U.roleNames}static fromMatrixValues(R){var U=new this;return(0,u.hw)(R,U),U.roleNames}static FromCategoricalValues(R){var U=new this;return(0,u.fl)(R,U),U.roleNames}static fromCategoricalCategories(R){var U=new this;return(0,u.Sr)(R,U),U.roleNames}}function y(T){return!!(T&&T.usage&&T.usage.forecast)}function i(T){return!!(T&&T.usage&&T.usage.anomalyDetection)}function c(T,R){if(e.fF.assertValue(T,"categoricalRoleMappings"),e.fF.assertValue(R,"rolesGetter"),0!==_.size(T)){var U=_.map(T,j=>R(j)),z=U[0];if(!(U.length>=2)||_.every(U,j=>(0,a.NF)(j,z,(H,q)=>H===q)))return z}}function h(T){if(e.fF.assertValue(T,"categoricalRoleMapping"),!T.categories)return[];var R=[];return(0,u.Sr)(T.categories,{visitRole:U=>{R.push(U)}}),R}function d(T){if(e.fF.assertAnyValue(T,"roleMappings"),!T)return 0;var R=0;for(var U of T)U.categorical&&(R|=1),U.matrix&&(R|=2),U.single&&(R|=8),U.table&&(R|=8),U.tree&&(R|=16);return R}function n(T){if(T){if(T.top)return"top";if(T.window)return"window";if(T.bottom)return"bottom";if(T.binnedLineSample)return"binnedLineSample";if(T.overlappingPointsSample)return"overlappingPointsSample";if(T.sample)return"sample";if(T.topNPerLevel)return"topNPerLevel"}}function l(T){return!!T&&!!T.for}function m(T){return!!T&&!!T.composite}function b(T){return!!T&&!!T.select}function P(T){return!!T&&!!T.group}function M(T){return!!T&&!!T.for}function E(T){return!!T&&!!T.composite}function w(T){return!!T&&!!T.select}function x(T){return!!T&&!!T.scope}function F(T){return function(T){return!!T&&!!T.bind}(T)?T.bind.to:M(T)?T.for.in:void e.fF.assertNever(T)}function A(T){return e.fF.assertValue(T,"role"),_.isEmpty(T.items)?[]:_.isEmpty(T.activeItems)?T.items:_.filter(T.items,R=>_.includes(T.activeItems,R.queryName))}},214817:function(Ce,k,r){r.d(k,{Ay:function(){return o},Jj:function(){return i},Sr:function(){return t},aU:function(){return u},fl:function(){return C},hw:function(){return h},oF:function(){return e},vS:function(){return f}});var a=r(939123);function e(D,M){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor");var E=D.categorical;E&&u(E,M);var w=D.table;w&&function(D,M){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor");var E=D.rows;m(E,M,"TableField"),b(E,M,"TableField"),g(E,M,"TableField"),S(E,M)}(w,M);var x=D.matrix;x&&i(x,M);var N=D.tree;N&&function(D,M){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor"),function(D,M){a.fF.assertAnyValue(D,"mapping"),a.fF.assertValue(M,"visitor"),D&&(b(D,M,"TreeNode"),S(D,M))}(D.nodes,M),function(D,M){a.fF.assertAnyValue(D,"mapping"),a.fF.assertValue(M,"visitor"),D&&b(D,M,"TreeValue")}(D.values,M)}(N,M);var L=D.single;L&&function(D,M){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor"),M.visitRole(D.role,"SingleField")}(L,M)}function u(D,M){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor"),t(D.categories,M);var E=D.values;C(E,M),f(E,M),S(D,M)}function t(D,M){a.fF.assertAnyValue(D,"mapping"),a.fF.assertValue(M,"visitor"),D&&(m(D,M,"CategoricalCategory"),b(D,M,"CategoricalCategory"),g(D,M,"CategoricalCategory"),S(D,M))}function C(D,M){if(a.fF.assertAnyValue(D,"mapping"),a.fF.assertValue(M,"visitor"),D){m(D,M,"CategoricalValue"),b(D,M,"CategoricalValue"),g(D,M,"CategoricalValue");var E=D.group;if(E)for(var w of E.select)m(w,M,"CategoricalValueGroup"),b(w,M,"CategoricalValueGroup")}}function i(D,M){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor"),o(D.rows,M),function(D,M){n(D,M,"MatrixColumnsGroup")}(D.columns,M),h(D.values,M)}function o(D,M){!function(D,M,E){if(a.fF.assertAnyValue(D,"mapping"),a.fF.assertValue(M,"visitor"),D){b(D,M,E),function(D,M,E){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor");var w=D.select;if(w)for(var x of w)m(x,M,E),b(x,M,E),V(x,M,E)}(D,M,E),S(D,M);var w=D.values;if(!w)return;b(w,M,"MatrixRowsScopedValue"),g(w,M,"MatrixRowsScopedValue")}}(D,M,"MatrixRowsGroup")}function h(D,M){n(D,M,"MatrixIntersection")}function n(D,M,E){a.fF.assertAnyValue(D,"mapping"),a.fF.assertValue(M,"visitor"),D&&(b(D,M,E),g(D,M,E),S(D,M))}function m(D,M,E){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor");var w=D.bind;w&&M.visitRole(w.to,E)}function b(D,M,E){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor");var w=D.for;w&&M.visitRole(w.in,E)}function V(D,M,E){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor");var w=D.composite;if(w){for(var x of(M.enterComposite&&M.enterComposite(),w))m(x,M,E),b(x,M,E);M.exitComposite&&M.exitComposite()}}function g(D,M,E){a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor");var w=D.select;if(w)for(var x of w)m(x,M,E),b(x,M,E)}function f(D,M){if(a.fF.assertAnyValue(D,"mapping"),a.fF.assertValue(M,"visitor"),D){var E=D.group;E&&(M.visitRole(E.by,"CategoricalSeries"),S(E,M))}}function S(D,M){if(a.fF.assertValue(D,"mapping"),a.fF.assertValue(M,"visitor"),M.visitReduction){var E=D.dataReductionAlgorithm;E&&M.visitReduction(E)}}},123537:function(Ce,k,r){r.d(k,{AO:function(){return C},NA:function(){return u},PM:function(){return h},RK:function(){return t},RR:function(){return y},W7:function(){return o},bC:function(){return c},t6:function(){return i}});var a=r(939123),e=r(856632);function u(n,s,p,l){return a.fF.assertAnyValue(n,"objects"),a.fF.assertValue(s,"propertyId"),a.fF.assert(()=>"$"!==s.propertyName.charAt(0),"Properties starting with $ are reserved."),n?(0,e.N)(n[s.objectName],s.propertyName,p,l):p}function t(n,s,p){return n?.[s]||p}function C(n,s){return t(n,s)?.$instances}function y(n,s){var p=C(n,s);if(p){var l={};for(var m in p){var b=p[m].$order;null!=b&&(l[m]=b)}return l}}function i(n,s){if(s)return n?.metadata?.objectsRules?.[s.objectName]?.[s.propertyName]?.gradient}function o(n,s,p,l){var m=u(n,s,void 0,l)?.solid?.color;return void 0===m?p:m}function c(n,s,p){return!!u(n,s,void 0,p)?.solid?.color}function h(n,s,p,l){for(var m in a.fF.assertValue(n,"DataViewObjects.mergeObjects - destination"),a.fF.assertValue(s,"DataViewObjects.mergeObjects - source"),s){var b=s[m];if(null!=b){var V=n[m];if(!V){null==p?n[m]=b:(n[m]={$instances:{[p]:b}},null!=l&&(n[m].$instances[p].$order=l));continue}d(V,b,p,l)}}}function d(n,s,p,l){if(a.fF.assertValue(n,"DataViewObjects.mergeObject - destination"),a.fF.assertValue(s,"DataViewObjects.mergeObject - source"),a.fF.assert(()=>null==s.$instances,"DataViewObjects.mergeObject - source should not include $instances"),p){var m=n.$instances;null==m&&(m=n.$instances={});var b=m[p];b||(b=m[p]={}),d(b,s,null),null!=l&&(b.$order=l)}else for(var V in s)"$instances"!==V&&"$order"!==V&&null!=s[V]&&(n[V]=s[V])}},856632:function(Ce,k,r){r.d(k,{N:function(){return e},y:function(){return u}});var a=r(939123);function e(t,C,y,i){if(a.fF.assertAnyValue(t,"object"),a.fF.assertValue(C,"propertyName"),!t)return y;if(i){var o=t.$instances?.[i];if(!o)return y;t=o}var c=t[C];return void 0===c?y:c}function u(t,C,y,i,o){a.fF.assertAnyValue(t,"object"),a.fF.assertValue(C,"propertyName");var c=e(t,C,void 0,i)?.solid?.color;return c||o&&null===c?c:y}},969143:function(Ce,k,r){r.d(k,{AV:function(){return m},E2:function(){return S},ES:function(){return W},GQ:function(){return L},Gc:function(){return b},Lo:function(){return A},NA:function(){return E},On:function(){return M},Pg:function(){return O},Rc:function(){return J},TX:function(){return g},Vj:function(){return q},d9:function(){return T},dM:function(){return D},dn:function(){return U},e4:function(){return j},er:function(){return Z},hO:function(){return x},hu:function(){return F},hz:function(){return B},l7:function(){return V},my:function(){return N},rQ:function(){return H},sO:function(){return P},u4:function(){return G},ug:function(){return w},xb:function(){return R},xl:function(){return l},zx:function(){return p}});var a=r(953474),e=r(257738),u=r(939123),t=r(397129),C=r(132640),y=r(377176),i=r(528836),o=r(939349),c=r(776073),h=r(379712),d=r(447666),n=r(129535),s=r(734249);function p(Q,ne,le){u.fF.assertValue(Q,"defns");var he=Q[ne];he||(Q[ne]=[],he=Q[ne]);for(var Se=0,Ke=he.length;Se<Ke;Se++){var Ge=he[Se];if((0,C.fS)(Ge.selector,le))return Ge}return he.push({selector:le,properties:{}}),he[he.length-1]}function l(Q,ne,le,he){u.fF.assertValue(Q,"defns");var Se=_.find(Q[ne],Ke=>(0,C.fS)(Ke.selector,le));Se&&(Se.selector=he)}function m(Q,ne,le){u.fF.assertValue(Q,"defns");var he=Q[ne];if(!he)return!1;var Se=_.remove(he,Ke=>(0,C.fS)(Ke.selector,le)).length>0;return _.isEmpty(he)&&delete Q[ne],Se}function b(Q,ne){if(Q&&ne)for(var le in ne){var he=ne[le];for(var Se of he)for(var Ke in Se.properties)S(Q,le,Se.selector,Ke)}}function V(Q,ne,le){if(u.fF.assertValue(Q,"Trying to cascade into undefined DataViewObjectDefinitions"),Q&&ne)for(var he in ne){var Se=ne[he];if(Se){var Ke=Q[he];Ke||(Ke=Q[he]=[]),v(Ke,Se,le)}}}function g(Q,ne,le,he,Se){var Ke=N(Q,ne,le);if(Ke){var Ge=Ke.properties[he];Ge&&(p(Q,Se,le).properties[he]=Ge,delete Ke.properties[he])}}function v(Q,ne,le){var he;if(le)Q.splice(0,0,...ne||[]);else for(var Se of ne){for(var Ke of(he=!1,Q))if((0,C.fS)(Ke.selector,Se.selector)){f(Ke.properties,Se.properties),he=!0;break}if(!he){var Ge={selector:Se.selector,properties:{}};f(Ge.properties,Se.properties),Q.push(Ge)}}}function f(Q,ne){for(var le in ne){var he=ne[le];he&&(Q[le]||(Q[le]=he))}}function S(Q,ne,le,he){u.fF.assertValue(Q,"defns");var Se=L(Q,ne,le),Ke=_.sumBy(Se,Ge=>(0,d.Ow)(Ge,he)?1:0);return D(Q,{objectName:ne,propertyName:he},le),Ke}function P(Q,ne,le,he){u.fF.assertValue(Q,"defns"),u.fF.assertValue(ne,"propertyId"),p(Q,ne.objectName,le).properties[ne.propertyName]=he}function D(Q,ne,le){if(null==le?.order)return!1;var he=L(Q,ne.objectName,le,{skipId:!0,skipOrder:!0}).filter(je=>null!=je.properties?.[ne.propertyName]),Se=_.map(he,je=>je.selector?.order).filter(je=>null!=je).sort();Se=_.uniq(Se);var Ke=(je,de)=>{var Pe=je.selector?.order;return null!=Pe&&(je.selector.order=de++),de},Ge=0,ye=function(je){var de=_.filter(he,Ze=>Ze.selector?.order===je);if(u.fF.assert(()=>!!de.length,"should find definitions that match given order"),1===de.length)Ge=Ke(de[0],Ge);else{var Pe=_.findIndex(de,Ze=>(0,C.fS)(Ze.selector,le));for(var Ve of(Pe>=0&&(Ge=Ke(de[Pe],Ge),de.splice(Pe,1)),de))Ge=Ke(Ve,Ge)}_.pullAll(he,de)};for(var we of Se)ye(we);return 0!==Se.length}function M(Q,ne,le,he,Se){var Ke=I(ne,le);Ke?Se?P(Q,Ke,he,Se):S(Q,Ke.objectName,he,Ke.propertyName):u.fF.assertFail("Property does not have an associated format string object")}function E(Q,ne,le){var he=w(Q,ne,le);if(he)return he[ne.propertyName]}function w(Q,ne,le){var he=L(Q,ne.objectName,le);if(he)for(var Se of he)if(Se.properties[ne.propertyName])return Se.properties}function x(Q,ne,le,he){var Se=I(ne,le);if(Se){var Ke=E(Q,Se,he);if(Ke){if(J(Ke)&&(0,a.AW)(Ke))return Ke;u.fF.assertFail("Format value is not of the expected type")}}else u.fF.assertFail("Property does not have an associated format string object")}function N(Q,ne,le){if(u.fF.assertAnyValue(Q,"defns"),u.fF.assertValue(ne,"objectName"),u.fF.assertAnyValue(le,"selector"),Q){var he=Q[ne];if(he)for(var Se=0,Ke=he.length;Se<Ke;Se++){var Ge=he[Se];if((0,C.fS)(Ge.selector,le))return Ge}}}function L(Q,ne,le,he){if(u.fF.assertAnyValue(Q,"defns"),u.fF.assertValue(ne,"objectName"),u.fF.assertAnyValue(le,"selector"),!Q)return[];var Se=Q[ne];return Se?_.filter(Se,Ke=>(0,C.fS)(Ke.selector,le,he)):[]}function B(Q,ne,le){var{objectName:he,propertyName:Se}=ne,Ke=L(Q,he,le,{skipId:!0,skipOrder:!0});if(Ke){var Ge=_.filter(Ke,de=>!!de.properties[Se]);if(!_.isEmpty(Ge)){var ye={},we=function(){var de=je.selector?.id;u.fF.assert(()=>null!=de,"expected user-defined value"),ye[de]={selector:je.selector,value:je.properties[Se]}};for(var je of Ge)we();return ye}}}function I(Q,ne){var le=(0,n.VM)(Q,ne);if(le)return le.formatStringProperty;u.fF.assertFail("Property is missing from the object descriptors")}function W(Q,ne){return Q===ne||(Q instanceof y.yl&&ne instanceof y.yl?y.yl.isSameFilter(Q,ne):Q instanceof i.Il&&ne instanceof i.Il?(0,e.fS)(Q,ne):(0,t.fS)(Q,ne))}function O(Q,ne){if(u.fF.assertValue(Q,"a"),u.fF.assertValue(ne,"b"),Object.keys(Q).length!==Object.keys(ne).length)return!1;for(var le in Q)if(!W(Q[le],ne[le]))return!1;return!0}function F(Q,ne){u.fF.assertValue(Q,"a"),u.fF.assertValue(ne,"b");var le=[];for(var he in Q)W(Q[he],ne[he])||le.push(he);for(var Se in ne)_.includes(le,Se)||W(Q[Se],ne[Se])||le.push(Se);return le}function A(Q,ne){u.fF.assertAnyValue(Q,"value"),u.fF.assertValue(ne,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var le=ne,he=ne;if(le.variantDeleteEmpty&&le.variant&&null==Q)return Q;if(le.bool||le.operations&&le.operations.searchEnabled)return"boolean"!=typeof Q&&(Q=!1),(0,i.O7)(!!Q);if(le.text||le.duration||le.scripting&&le.scripting.source)return(0,i.fL)(Q?Q.toString():"");if(le.numeric){if($.isNumeric(Q))return(0,i.tx)(+Q)}else if(le.integer){if($.isNumeric(Q))return(0,i.cA)(Math.floor(+Q))}else if(he.fill){if(Q){var Se=Q;return null==Se.id||null==Se.shade?{solid:{color:(0,i.fL)((Se.value||Q).toString())}}:{solid:{color:(0,i.e7)(Se.id,Se.shade)}}}if(null===Q&&he.fill.solid&&he.fill.solid.color){var Ke=!1,Ge=he.fill.solid.color;if("boolean"!=typeof Ge&&(Ke=Ge.nullable),Ke)return{solid:{color:(0,i.IF)()}}}}else if(le.formatting){if(!(le.formatting.labelDisplayUnits||le.formatting.displayUnitsWithoutAuto||le.formatting.fontSize))return(0,i.fL)(Q?Q.toString():"");if(null!=Q)return(0,i.tx)(+Q)}else{if(le.enumeration||le.flagsEnumeration)return $.isNumeric(Q)?(0,i.tx)(+Q):(0,i.fL)(Q?Q.toString():"");if(le.misc)Q=Q?(0,i.fL)(Q.toString()):null;else if(le.dateTime)Q=Q?(0,i.CQ)(Q):null;else if(!le.variant)if(he.image){if(Q){var ye=Q,we={name:(0,i.fL)(ye.name.toString()),url:(0,i.fL)(ye.url.toString())};return ye.scaling&&(we.scaling=(0,i.fL)(ye.scaling.toString())),we}}else if(he.geoJson){if(Q){var je=Q;return{type:(0,i.fL)(je.type.toString()),name:(0,i.fL)(je.name.toString()),content:je.content?(0,i.fL)(je.content.toString()):(0,i.IF)()}}}else if(le.reference)(le.reference.bookmark||le.reference.section||le.reference.perspective||le.reference.bookmarkGroup||le.reference.rowRefText)&&(Q=(0,i.fL)(Q?Q.toString():""));else if(he.filter)u.fF.assert(()=>Q instanceof y.yl,"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(he.paragraphs){var Pe=Q,Ve=[];if(_.isEmpty(Pe))return Ve;for(var Ze of Pe){var Ue={...Ze,textRuns:[]};if(_.isEmpty(Ze.textRuns))Ve.push(Ue);else{for(var Je of Ze.textRuns)if((0,o.Y0)(Je))Ue.textRuns.push(Je);else if((0,o.Zm)(Je)){var De=void 0;_.isNumber(Je.expression)?De=A(Je.expression,{integer:!0}):(0,h.U)(Je.expression)?De=Je.expression:u.fF.assertNever(Je.expression);var ue={cases:[],defaultCase:Je.defaultCase,expression:De};if(!_.isEmpty(Je.cases))for(var _e of Je.cases){var te={pattern:A(_e.pattern,{integer:!0}),textRuns:_e.textRuns};ue.cases.push(te)}Ue.textRuns.push(ue)}else u.fF.assertNever(Je);Ve.push(Ue)}}return Ve}if(!he.queryTransform){if(he.exprList||he.selectedValues){var at={exprs:[],kind:"ExprList"};return at.exprs=_.map(Q.exprs,Ye=>Ye),at}if(he.itemLocation){var tt=Q,ut={kind:"ItemLocation",byReference:{itemId:(0,i.fL)(tt.byReference.itemId)}};tt.byReference.workspaceId&&(ut.byReference.workspaceId=(0,i.fL)(tt.byReference.workspaceId)),tt.byReference.folderId&&(ut.byReference.folderId=(0,i.fL)(tt.byReference.folderId));var ct=tt.metadata;if(ct){ut.metadata={};var Ne=ct.dataFunction;Ne&&(ut.metadata.dataFunction={name:Ne.name,autoRefresh:Ne.autoRefresh,parameters:Ne.parameters.map(Ye=>{switch(Ye.type){case"SlicerParameter":return{...Ye};case"ValueParameter":var ze;return ze=Ye.value?Ye.value instanceof i.Il?Ye.value:(0,i.kQ)(Ye.value,{}):(0,i.IF)(),{...Ye,value:ze}}})})}return ut}if(he.annotationTemplate){if(!Q)return;var ae;if((0,s.$V)(he.annotationTemplate)){var Le=Q;if(!Le.text)return;var X={kind:"AnnotationTemplate",annotationType:"callout",text:(0,i.fL)(Le.text)};null!=Le.offsetX&&(X.offsetX=(0,i.tx)(Le.offsetX)),null!=Le.offsetY&&(X.offsetY=(0,i.tx)(Le.offsetY)),null!=Le.width&&(X.width=(0,i.tx)(Le.width)),null!=Le.height&&(X.height=(0,i.tx)(Le.height)),null!=Le.lastEditUTCTimestamp&&(X.lastEditUTCTimestamp=(0,i.tx)(Le.lastEditUTCTimestamp)),ae=X}else{var be=Q;if(!be.color)return;var Ie={kind:"AnnotationTemplate",annotationType:"highlight",color:(0,i.fL)(be.color)};be.backgroundColor&&(Ie.backgroundColor=(0,i.fL)(be.backgroundColor)),be.emphasizeText&&(Ie.emphasizeText=(0,i.O7)(be.emphasizeText)),ae=Ie}return ae}u.fF.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return Q}function T(Q){var ne={};for(var le in Q){var he=Q[le];_.isEmpty(he)||(ne[le]=U(he))}return ne}function R(Q){if(_.isEmpty(Q))return!0;for(var ne in Q){var le=Q[ne];if(!_.isEmpty(le))for(var he of le)if(!_.isEmpty(he.properties))return!1}return!0}function U(Q){var ne=[];for(var le of Q)ne.push({properties:z(le.properties),selector:le.selector});return ne}function z(Q){return u.fF.assertValue(Q,"original"),_.clone(Q)}function j(Q){return!!Q&&!!(Q instanceof i.Il||(0,c.hl)(Q))}function H(Q,ne,le){for(var he in Q){var Se=Q[he],Ke=ne&&ne[he];if(Se&&(!ne||Ke))for(var Ge of Se)for(var ye in Ge.properties)!Ge.properties[ye]||ne&&(!Ke||!Ke.properties[ye])||le(Ge.properties,ye,Ge.selector,he,Ke)}}function q(Q){var ne=Q.definitions,le=Q.descriptors,he=Q.visitor,Se=Q.structuralObjectVisitor;u.fF.assertValue(ne,"dataViewObjectDefinition.visitPropertyExprs - definitions"),u.fF.assertAnyValue(le,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),u.fF.assertAnyValue(he,"dataViewObjectDefinition.visitPropertyExprs - visitor"),u.fF.assertAnyValue(Se,"dataViewObjectDefinition.visitPropertyExprs - visitor"),u.fF.assert(()=>!!he||!!Se,"Either sqExprVisitor or structuralObjectVisitor are required");var Ke=[],Ge={stopVisiting:!1};function ye(Ue,Je,De){var ue=Ue[Je];if(he&&ue instanceof i.Il)he(ue,Ue,Je,De,Ke,Ge);else if("object"==typeof ue&&(Se&&Se(ue,Ue,Je,De,Ke,Ge),he))for(var _e in ue){if(Ge.stopVisiting)return;Ke.push(_e),ye(ue,_e,De),Ke.pop()}}for(var we in ne){var je=le&&le[we];if(!_.isEmpty(ne[we])&&(je||!le)){for(var de of ne[we]){var Pe=de.properties;if(Pe)for(var Ve in Pe){if(Ge.stopVisiting)return;var Ze=je&&je.properties[Ve];(Ze||!le)&&ye(Pe,Ve,Ze&&Ze.type)}}u.fF.assert(()=>_.isEmpty(Ke),"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function G(Q){if(u.fF.assertAnyValue(Q,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(Q)){for(var ne in Q)if(Q[ne]){var le=[];for(var he of Q[ne]){var Se=(0,d.u4)(he);Se&&le.push(Se)}_.isEmpty(le)?delete Q[ne]:Q[ne]=le}else delete Q[ne];if(!_.isEmpty(Q))return Q}}function J(Q){return Q instanceof i.Il}function Z(Q){return Q&&"ExprWithContext"===Q.propertyDefinitionKind}},447666:function(Ce,k,r){r.d(k,{Ow:function(){return e},e4:function(){return u},u4:function(){return t}});var a=r(939123);function e(C,y){if(y in C.properties)return delete C.properties[y],!0}function u(C){return!_.startsWith(C,"$")}function t(C){a.fF.assertAnyValue(C,"DataViewObjectDefinition.reduce - defn can have any value.");var y=C&&C.properties;if(y){for(var i in y)_.isEmpty(y[i])&&e(C,i);if(!_.isEmpty(y))return C}}},129535:function(Ce,k,r){r.d(k,{$v:function(){return u},Cr:function(){return y},H_:function(){return o},Ln:function(){return c},MD:function(){return t},VM:function(){return h},n7:function(){return C}});var a=r(939123),e=r(931145);function u(n){return d(n,s=>{var p=e.Ge.fromDescriptor(s.type).formatting;return p&&p.formatString})}function t(n){return d(n,s=>{var p=s.type;return p&&p.filter&&!p.filter.selfFilter})}function C(n){return d(n,s=>{var p=s.type;return p&&!!p.selectedValues})}function y(n){return d(n,i)}function i(n){var s=n&&n.type;return s&&s.filter&&s.filter.selfFilter}function o(n){return d(n,s=>{var p=s.type;return p&&p.operations&&p.operations.searchEnabled})}function c(n){return d(n,s=>{var p=s.type;return p&&!!p.expression&&p.expression.defaultValue})}function h(n,s){if(a.fF.assertValue(n,"descriptors"),a.fF.assertValue(s,"propertyId"),!_.isEmpty(n)){var p=n[s.objectName];if(p&&!_.isEmpty(p.properties))return p.properties[s.propertyName]}}function d(n,s){if(a.fF.assertAnyValue(n,"descriptors"),a.fF.assertAnyValue(s,"propPredicate"),n)for(var p in n){var l=n[p].properties;for(var m in l)if(s(l[m]))return{objectName:p,propertyName:m}}}},333736:function(Ce,k,r){r.d(k,{Me:function(){return i},PJ:function(){return y},UQ:function(){return c}});var a=r(939123),e=r(132640),u=r(528836),t=r(123537),C=r(129535);function y(V,g,v,f,S){var P;for(var D of(a.fF.assertValue(g,"evalContext"),a.fF.assertValue(v,"objectDescriptors"),a.fF.assertValue(f,"objectDefns"),f)){var M=D.name;S&&(S.objectName=M);var E=V.run(M,g,v[M],D.properties,S);E&&(P||(P={}),P[M]?(0,t.PM)(P,{[M]:E}):P[M]=E)}return P}function i(V){a.fF.assertAnyValue(V,"objectDefinitions");var g={data:[]};if(V)for(var v in V)for(var f=V[v],S=0,P=f.length;S<P;S++){var D=f[S];o(g,D.selector).objects.push({name:v,properties:D.properties})}return g}function o(V,g){var v;for(var f of(a.fF.assertValue(V,"grouped"),a.fF.assertAnyValue(g,"selector"),g&&g.data?v=V.data:g&&g.metadata?(V.metadata||(V.metadata=[]),v=V.metadata):(V.metadataOnce||(V.metadataOnce=[]),v=V.metadataOnce),a.fF.assert(()=>!!v,"GroupedObjects is not defined.  Indicates malformed selector."),v))if((0,e.fS)(g,f.selector))return f;var S={selector:g,objects:[]};return v.push(S),S}function c(V,g,v,f){a.fF.assertValue(V,"objectsForAllSelectors"),a.fF.assertValue(g,"objectDescriptors"),a.fF.assertValue(v,"columns"),a.fF.assertAnyValue(f,"selectTransforms"),f&&(function(V,g,v,f){a.fF.assertValue(V,"objectsForAllSelectors"),a.fF.assertValue(g,"objectDescriptors"),a.fF.assertValue(v,"columns"),a.fF.assertValue(f,"selectTransforms");var S=(0,C.$v)(g);if(S)for(var P=0,D=f.length;P<D;P++){var M=f[P];M&&(a.fF.assertValue(M.queryName,"selectTransform.queryName"),s(V,S,M.queryName,M.format||n(v,P)))}}(V,g,v,f),function(V,g,v){a.fF.assertValue(V,"objectsForAllSelectors"),a.fF.assertValue(g,"objectDescriptors"),a.fF.assertValue(v,"selectTransforms");var f=(0,C.Ln)(g);if(f)for(var S of v)S&&(a.fF.assertValue(S.queryName,"selectTransform.queryName"),p(V,f,S.queryName,S.defaultValue))}(V,g,f))}function n(V,g){for(var v=0,f=V.length;v<f;v++){var S=V[v];if(S&&S.index===g)return S.format}}function s(V,g,v,f){f&&l(V,g,{metadata:v},(0,u.fL)(f))}function p(V,g,v,f){f&&l(V,g,{metadata:v},f)}function l(V,g,v,f){var S;if(v){var P=V.metadata;P||(P=V.metadata=[]),S=P}else{var D=V.metadataOnce;D||(D=V.metadataOnce=[{selector:v,objects:[]}]),S=D}var E,M=function(V,g){a.fF.assertValue(V,"objects"),a.fF.assertAnyValue(g,"selector");for(var v=0,f=V.length;v<f;v++){var S=V[v];if((0,e.fS)(S.selector,g))return S}}(S,v);if(M){var w=M.objects;if(E=function(V,g){a.fF.assertValue(V,"objectDefns"),a.fF.assertValue(g,"objectName");for(var v=0,f=V.length;v<f;v++){var S=V[v];if(S.name===g)return S}}(w,g.objectName),E){if(E.properties[g.propertyName])return}else w.push(E={name:g.objectName,properties:{}})}else S.push({selector:v,objects:[E={name:g.objectName,properties:{}}]});E.properties[g.propertyName]=f}},501715:function(Ce,k,r){r.d(k,{Q:function(){return f}});var a=r(270862),e=r(939123),u=r(360216),t=r(737466),C=r(528836),y=r(693713),i=r(140294),o=r(197799),c=r(939349),h=r(776073),d=r(379712),n=r(931145),s=r(606682),p=r(138038);class m{constructor(){this.cache=[]}get(D){for(var M of(e.fF.assertValue(D,"key"),this.cache))if(M.key===D)return M.allocator}register(D,M){return e.fF.assertValue(D,"key"),e.fF.assert(()=>void 0!==M,"colorAllocator (it can be null, but not undefined)"),e.fF.assert(()=>null==this.get(D),"Trying to re-register for same key expr."),this.cache.push({key:D,allocator:M}),this}}var b=r(453855),V=r(823231),g=r(734249),f=(()=>{class P{constructor(M,E){this.featureSwitches=M,this.visualStyle=E,e.fF.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new m,this.expressionEvaluator=new S(w=>this.evaluateThemeDataColor(w),(w,x)=>this.ensureColorAllocator(w,x))}getObjectsRules(){return this.objectsRules}run(M,E,w,x,N){if(e.fF.assertValue(E,"evalContext"),e.fF.assertAnyValue(w,"objectDescriptor"),e.fF.assertValue(x,"propertyDefinitions"),w){var L,B=w.properties;for(var I in x){this.propertyId={objectName:M,propertyName:I};var W=x[I],O=B[I];if(O){N&&(N.objectDescriptor=w,N.propertyName=I);var F=this.evaluateProperty(E,O,W);void 0!==F&&(L||(L={}),L[I]=F)}}return this.propertyId=void 0,L}}evaluateProperty(M,E,w,x){e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"propertyDescriptor"),e.fF.assertValue(w,"propertyDefinition");var N=E.type;if(N?.expression)return w;var B,L=this.evaluateValue(M,w,n.Ge.fromDescriptor(E.type));return void 0!==L||w instanceof V.t?L:(N.fillRule?B=this.evaluateFillRule(w):N.fill?.solid?.color&&w?.solid?.color?B=this.evaluateSolidColorFill(M,w,N.fill.solid.color.nullable):N.dataBars&&(B=this.evaluateDataBars(M,w)),B?(x&&B.error&&x.warnings.push(new p.L(this.featureSwitches,0,{objectName:x.objectName,propertyName:x.propertyName},x.selector,x.objectDescriptor.displayName,E.displayName,B.error.expr,B.error.value,null,x.targetExpr)),B.value):N.queryTransform?this.evaluateQueryTransform(M,w):N.image?this.evaluateImage(M,w):N.paragraphs?this.evaluateParagraphs(M,w):N.geoJson?this.evaluateGeoJson(M,w):N.filter?this.evaluateSemanticFilter(w):N.icon?this.evaluateIcon(M,w):N.exprList?this.evaluateExprList(w):N.errorRange?this.evaluateErrorRange(M,w):N.qnaVisualLink?this.evaluateQnaVisualLink(M,w):N.itemLocation?this.evaluateItemLocation(M,w):N.annotationType?this.evaluateAnnotationType(M,w):N.annotationTemplate?this.evaluateAnnotationTemplate(M,w,N.annotationTemplate):void 0)}evaluateSemanticFilter(M){return M}evaluateSolidColorFill(M,E,w){if(E?.solid?.color){var x=this.evaluateColor(M,E.solid.color,w);if(x.error)return x;var N=x.value;if(N||null===N&&w)return{value:{solid:{color:N}}}}}ensureColorAllocator(M,E){var w=this.colorAllocatorCache.get(M);return void 0!==w||(w=this.createColorAllocator(M,E),this.colorAllocatorCache.register(M,w,this.propertyId),this.propertyId&&w&&this.addObjectRule(w)),w}addObjectRule(M){this.objectsRules||(this.objectsRules={});var E=this.objectsRules[this.propertyId.objectName];E||(E=this.objectsRules[this.propertyId.objectName]={}),E[this.propertyId.propertyName]={gradient:{options:M.getRule(),source:M.getSource()}}}createColorAllocator(M,E){var w=E.getExprColumn(M.input,this.featureSwitches.categoricalSecondaryCF);if(!w)return null;var x=this.evaluateFillRule(M.rule).value;return x?(0,s.V)().fromFillRule(x,w):null}evaluateFillRule(M){var w,E=(0,b.X)();if(M.linearGradient2){var x=M.linearGradient2,N=this.evaluateColorStop(E,x.min);if(N.error)return N;var L=this.evaluateColorStop(E,x.max);if(L.error)return L;w={linearGradient2:{min:N.value,max:L.value}};var B=this.evaluateNullStrategy(E,x.nullColoringStrategy);if(B){if(B.error)return B;w.linearGradient2.nullColoringStrategy=B.value}}else if(M.linearGradient3){var W=M.linearGradient3,O=this.evaluateColorStop(E,W.min);if(O.error)return O;var F=this.evaluateColorStop(E,W.mid);if(F.error)return F;var A=this.evaluateColorStop(E,W.max);if(A.error)return A;w={linearGradient3:{min:O.value,mid:F.value,max:A.value}};var T=this.evaluateNullStrategy(E,W.nullColoringStrategy);if(T){if(T.error)return T;w.linearGradient3.nullColoringStrategy=T.value}}return{value:w}}evaluateColorStop(M,E){e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"colorStop");var w=this.evaluateColor(M,E.color,!1);if(w.error)return w;var x={color:w.value},N=this.evaluateValue(M,E.value,P.numericType);return null!=N&&(x.value=N),{value:x}}evaluateColor(M,E,w){e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"evaluateColor - color");var x=this.evaluateValue(M,E,P.colorValueType),N=null!=x?(0,u.pe)(this.visualStyle,x):x;if(null!=N)return{value:N};if(null===x&&w)return{value:null};if(!x)return{value:void 0};var L=x.toString();if(L){var B=L.replace(/\s+/g,"");(0,a.HS)(B)?L=B:null==(L=(0,a.iC)(B))&&(L=(0,u.js)(B))}return void 0===L?{error:{expr:E,value:x}}:{value:L}}evaluateNullStrategy(M,E){if(E){e.fF.assertValue(M,"evaluateNullStrategy - undefined evalContext"),e.fF.assertValue(E.strategy,"evaluateNullStrategy - undefined strategy");var w={strategy:this.evaluateValue(M,E.strategy,P.nullStrategyType)};if(E.color){var x=this.evaluateColor(M,E.color,!1);if(x.error)return x;w.color=x.value}return{value:w}}}evaluateQueryTransform(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertAnyValue(E,"definition"),E)return{algorithm:E.algorithm,parameters:E.parameters.map(w=>({name:w.name,value:this.evaluateValue(M,w.expr,n.Ge.fromDescriptor({}))}))}}evaluateImage(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertAnyValue(E,"definition"),E){var w={name:this.evaluateValue(M,E.name,P.textType),url:this.evaluateValue(M,E.url,n.Ge.fromDescriptor(o.z))};return E.scaling&&(w.scaling=this.evaluateValue(M,E.scaling,P.textType)),w}}evaluateParagraphs(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertAnyValue(E,"definition"),E)return this.evaluateArrayCopyOnChange(M,E,(w,x)=>this.evaluateParagraph(w,x))}evaluateParagraph(M,E){e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definition");var w,x=E.textRuns,N=this.evaluateArrayCopyOnChange(M,x,(L,B)=>this.evaluateTextRun(L,B));return x!==N&&((w=_.clone(E)).textRuns=N),w||E}evaluateTextRun(M,E){return e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definition"),(0,c.IM)(E)?this.evaluateTextRunDefinition(M,E):(0,c.Kt)(E)?this.evaluateTextRunConditional(M,E):void e.fF.assertNever(E)}evaluateTextRunDefinition(M,E){var w,x;E.value instanceof C.Il?(w=E.value,x=this.evaluateValue(M,E.value,P.textType)):x=E.value;var N={value:x};return E.textStyle&&(N.textStyle=E.textStyle),E.url&&(N.url=E.url),E.mentionEmail&&(N.mentionEmail=E.mentionEmail),w&&(N.valueExpr=w),N}evaluateTextRunConditional(M,E){return{cases:this.evaluateArrayCopyOnChange(M,E.cases,(x,N)=>this.evaluateTextRunConditionalCase(x,N)),defaultCase:this.evaluateTextRunCaseValue(M,E.defaultCase),expression:this.evaluateTextRunConditionalExpression(M,E.expression)}}evaluateTextRunConditionalCase(M,E){return{pattern:this.evaluateValue(M,E.pattern,P.textType),...this.evaluateTextRunCaseValue(M,E)}}evaluateTextRunCaseValue(M,E){return{textRuns:this.evaluateArrayCopyOnChange(M,E.textRuns,(x,N)=>this.evaluateTextRunDefinition(x,N))}}evaluateTextRunConditionalExpression(M,E){return E instanceof C.Il?this.evaluateValue(M,E,P.textType):(0,d.U)(E)?E:void e.fF.assertNever(E)}evaluateGeoJson(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertAnyValue(E,"definition"),E)return{name:this.evaluateValue(M,E.name,P.textType),type:this.evaluateValue(M,E.type,P.textType),content:this.evaluateValue(M,E.content,P.textType)}}evaluateDataBars(M,E){var w=this.evaluateSolidColorFill(M,E.positiveColor,!1);if(w.error)return{error:w.error};var x=this.evaluateSolidColorFill(M,E.negativeColor,!1);if(x.error)return{error:x.error};var N=this.evaluateSolidColorFill(M,E.axisColor,!1);return N.error?{error:N.error}:{value:{minValue:this.evaluateValue(M,E.minValue,P.numericType),maxValue:this.evaluateValue(M,E.maxValue,P.numericType),positiveColor:w.value,negativeColor:x.value,axisColor:N.value,reverseDirection:this.evaluateValue(M,E.reverseDirection,P.boolType),hideText:this.evaluateValue(M,E.hideText,P.boolType),totalMatchingOption:this.evaluateValue(M,E.totalMatchingOption,P.integerType)}}}evaluateIcon(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertAnyValue(E,"definition"),(0,h.r)(E)){var w={kind:"Icon"};if(E.layout&&(w.layout=this.evaluateValue(M,E.layout,P.textType)),E.verticalAlignment&&(w.verticalAlignment=this.evaluateValue(M,E.verticalAlignment,P.textType)),E.value){var x=this.evaluateValue(M,E.value,P.textType);if(null===x)w.value=null;else if(void 0===x)w.value=null;else{var N=(0,u.lQ)(this.visualStyle,x);if(N)if(N.svgId){var L=N.description?.resourceKey;w.value={svgId:N.svgId},L&&(w.value.descriptionKey=L)}else N.url?w.value={url:N.url}:e.fF.assertFail("incorrect themeIcon");else w.value={url:x}}}return w}}evaluateThemeDataColor(M){return(0,u.GK)(this.visualStyle,M)}evaluateExprList(M){if(e.fF.assertAnyValue(M,"definition"),(0,h.bA)(M))return{exprs:M.exprs,kind:"ExprList"}}evaluateArrayCopyOnChange(M,E,w){e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definitions"),e.fF.assertValue(w,"evaluator");for(var x,N=0,L=E.length;N<L;N++){var B=E[N],I=w(M,B);!x&&B!==I&&(x=_.take(E,N)),x&&x.push(I)}return x||E}evaluateErrorRange(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definition"),(0,h.ZG)(E)){if(E.explicit)return this.evaluateExplicitErrorRange(M,E.explicit);if(E.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(M,E.symmetricalExplicit);if(E.standardDeviation)return this.evaluateStandardDeviationErrorRange(M,E.standardDeviation);if(E.percentage)return this.evaluatePercentageErrorRange(M,E.percentage);if(E.percentile)return this.evaluatePercentileErrorRange(M,E.percentile)}}evaluateExplicitErrorRange(M,E){var w={isRelative:!0===this.evaluateValue(M,E.isRelative,P.boolType)};return E.lowerBound&&(w.lowerBound=this.evaluateValue(M,E.lowerBound,P.numericType)),E.upperBound&&(w.upperBound=this.evaluateValue(M,E.upperBound,P.numericType)),{explicit:w}}evaluateSymmetricalErrorRange(M,E){return{symmetricalExplicit:{delta:this.evaluateValue(M,E.delta,P.numericType)}}}evaluateStandardDeviationErrorRange(M,E){return{standardDeviation:{value:this.evaluateValue(M,E.value,P.numericType),multiplier:this.evaluateValue(M,E.multiplier,P.numericType)}}}evaluatePercentageErrorRange(M,E){return{percentage:{lowerBoundDelta:this.evaluateValue(M,E.lowerBoundDelta,P.numericType),upperBoundDelta:this.evaluateValue(M,E.upperBoundDelta,P.numericType)}}}evaluatePercentileErrorRange(M,E){return{percentile:{lowerBound:this.evaluateValue(M,E.lowerBound,P.numericType),upperBound:this.evaluateValue(M,E.upperBound,P.numericType)}}}evaluateQnaVisualLink(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definition"),(0,h.Xz)(E))return{suggestedUtterances:_.map(E.suggestedUtterances,w=>({utterance:w.utterance}))}}evaluateItemLocation(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definition"),(0,h.DS)(E)){var w;if(E.byReference&&(w={byReference:{itemId:this.evaluateValue(M,E.byReference.itemId,P.textType)}},E.byReference.workspaceId&&(w.byReference.workspaceId=this.evaluateValue(M,E.byReference.workspaceId,P.textType)),E.byReference.folderId&&(w.byReference.folderId=this.evaluateValue(M,E.byReference.folderId,P.textType))),w){var x=E.metadata;if(x){w.metadata={};var N=x.dataFunction;N&&(w.metadata.dataFunction={name:N.name,autoRefresh:N.autoRefresh,parameters:N.parameters.map(L=>{switch(L.type){case"SlicerParameter":return{...L};case"ValueParameter":return{...L,value:this.evaluateValue(M,L.value)}}})})}}return w}}evaluateAnnotationType(M,E){if(e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definition"),E&&(0,h.ND)(E)){var w={};if(E.highlights&&(E.highlights.color&&(w.color=this.evaluateValue(M,E.highlights.color,P.textType)),E.highlights.backColor&&(w.backColor=this.evaluateValue(M,E.highlights.backColor,P.textType)),E.highlights.emphasizeText&&(w.emphasizeText=this.evaluateValue(M,E.highlights.emphasizeText,P.boolType))),E.datapoints&&(E.datapoints?.text&&(w.text=this.evaluateValue(M,E.datapoints.text,P.textType)),E.datapoints?.key&&(w.key=this.evaluateValue(M,E.datapoints.key,P.textType)),E.datapoints.offsetX&&(w.offsetX=this.evaluateValue(M,E.datapoints.offsetX,P.numericType)),E.datapoints.offsetY&&(w.offsetY=this.evaluateValue(M,E.datapoints.offsetY,P.numericType)),E.datapoints.width&&(w.width=this.evaluateValue(M,E.datapoints.width,P.numericType)),E.datapoints.height&&(w.height=this.evaluateValue(M,E.datapoints.height,P.numericType)),E.datapoints.lastEditUTCTimestamp&&(w.lastEditUTCTimestamp=this.evaluateValue(M,E.datapoints.lastEditUTCTimestamp,P.numericType))),!_.isEmpty(w))return w}}evaluateAnnotationTemplate(M,E,w){if(e.fF.assertValue(M,"evalContext"),e.fF.assertValue(E,"definition"),(0,h.oQ)(E)){if((0,g.$V)(w)){var x=E;if(!x.text)return;var N={annotationType:"callout",text:this.evaluateValue(M,x.text,P.textType)};return null!=x.offsetX&&(N.offsetX=this.evaluateValue(M,x.offsetX,P.numericType)),null!=x.offsetY&&(N.offsetY=this.evaluateValue(M,x.offsetY,P.numericType)),null!=x.width&&(N.width=this.evaluateValue(M,x.width,P.numericType)),null!=x.height&&(N.height=this.evaluateValue(M,x.height,P.numericType)),null!=x.lastEditUTCTimestamp&&(N.lastEditUTCTimestamp=this.evaluateValue(M,x.lastEditUTCTimestamp,P.numericType)),N}var L=E;if(!L.color)return;var B={annotationType:"highlight",color:this.evaluateValue(M,L.color,P.textType)};return null!=L.backgroundColor&&(B.backgroundColor=this.evaluateValue(M,L.backgroundColor,P.textType)),null!=L.emphasizeText&&(B.emphasizeText=this.evaluateValue(M,L.emphasizeText,P.boolType)),B}}evaluateValue(M,E,w){return E instanceof C.Il?this.expressionEvaluator.evaluate(E,M):E instanceof V.t?E.evaluate(M):void 0}}return P.boolType=n.Ge.fromDescriptor({bool:!0}),P.colorValueType=n.Ge.fromDescriptor({formatting:{color:!0}}),P.numericType=n.Ge.fromDescriptor({numeric:!0}),P.integerType=n.Ge.fromDescriptor({integer:!0}),P.textType=n.Ge.fromDescriptor({text:!0}),P.nullStrategyType=n.Ge.fromDescriptor({enumeration:i.dt}),P})();class S extends y.Ml{constructor(D,M){super(),this.dataColorEvaluator=D,this.colorAllocatorGetter=M}evaluate(D,M){if(null!=D)return D.accept(this,M)}visitColumnRef(D,M){return M.getExprValue(D)}visitConstant(D,M){return D.value}visitMeasureRef(D,M){return M.getExprValue(D)}visitArithmetic(D,M){return M.getExprValue(D)}visitNativeMeasure(D,M){return M.getExprValue(D)}visitAggr(D,M){return M.getExprValue(D)}visitScopedEval(D,M){return M.getScopedEvalExprValue(D)}visitFillRule(D,M){var E=this.colorAllocatorGetter(D,M);if(E){var w=this.evaluate(D.input,M);if(void 0!==w)return E.color(w)}}visitPercentile(D,M){return M.getExprValue(D)}visitRangePercent(D,M){var E=this.evaluate(D.min,M);if(_.isFinite(E)){var w=this.evaluate(D.max,M);if(_.isFinite(w)){var x=D.percent;return 0===x?E:1===x?w:E+x*(w-E)}}}visitSelectRef(D,M){return M.getExprValue(D)}visitThemeDataColor(D,M){var E=this.dataColorEvaluator(D.colorId);if(E)return(0,a.HO)(E,D.percent)}visitNot(D,M){return!this.evaluate(D.arg,M)}visitAnd(D,M){return D.left.accept(this,M)&&D.right.accept(this,M)}visitContains(D,M){if(!D.isOrdinalEvaluation())return e.fF.assertFail("Contains expression should be evaluated as ordinal"),!1;var E=this.getExprString(D.left,M),w=this.getExprString(D.right,M);return _.isString(E)?(0,t.r3)(E,w):(e.fF.warn("Contains expression should only be applied to string types"),!1)}visitStartsWith(D,M){if(!D.isOrdinalEvaluation())return e.fF.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var E=this.getExprString(D.left,M),w=this.getExprString(D.right,M);return _.isString(E)?(0,t.Ny)(E,w):(e.fF.warn("StartsWith expression should only be applied to strings"),!1)}getExprString(D,M){if(null!==D)return(0,C.Ls)(D)??this.evaluate(D,M)}visitCompare(D,M){var E=this.evaluate(D.left,M);if(_.isNaN(E))return!1;var w=this.evaluate(D.right,M);if(_.isNaN(w))return!1;var x=D.comparison;if(D.isOrdinalEvaluation())return 0===x?E===w:(e.fF.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===w||null===E)return w===E&&(0===x||2===x||4===x);switch(x){case 0:return E===w;case 1:return E>w;case 2:return E>=w;case 3:return E<w;case 4:return E<=w}}visitConditional(D,M){var E=D.cases;if(e.fF.assertNonEmpty(E,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(E))for(var w of E){var N=w.value;if(!0===this.evaluate(w.condition,M))return this.evaluate(N,M)}return this.evaluate(D.defaultValue,M)}}},847912:function(Ce,k,r){r.d(k,{AR:function(){return c},wi:function(){return n}});var a=r(722709),e=r(939123),u=r(542666),t=r(454865),C=r(434143),y=r(988206),i=r(214817),o=r(278042);function c(b,V,g,v,f,S){!V||1!==V.length||!g.categorical||!g.categorical.dataReductionAlgorithm||b&&function(b){return!(!h(b.Primary)||!h(b.Secondary)||1!==b.Secondary.Groupings[0].Projections.length||b.DataReduction&&(b.DataReduction.Primary||b.DataReduction.Secondary||b.DataReduction.Intersection))}(b)&&(b.Primary.Groupings=[b.Secondary.Groupings[0],b.Primary.Groupings[0]],b.Secondary=void 0,b.DataReduction={Primary:(0,C.P)(g.categorical.dataReductionAlgorithm,v),DataVolume:S||g.categorical.dataVolume||f})}function h(b){return b&&b.Groupings&&1===b.Groupings.length&&!_.isEmpty(b.Groupings[0].Projections)&&!b.Groupings[0].Subtotal&&_.isEmpty(b.Groupings[0].SuppressedProjections)}function n(b,V,g,v,f){if(!function(b,V,g,v,f){if(_.isEmpty(V)||!b||_.isEmpty(f))return!1;var S=_.filter(f,L=>!(0,y.zY)(L));if(1!==S.length)return!1;var P=S[0].categorical;if(!P)return!1;var D=b.matrix;if(!D||!D.rows||!D.rows.levels||2!==D.rows.levels.length)return!1;var M=[],E=[],w=(L,B)=>{var I=v[L];if(I)for(var W of I.all())g[W.queryRef]===t.DW.Grouping&&B.push(W.queryRef)};if((0,i.Sr)(P.categories,{visitRole:L=>{w(L,M)}}),(0,i.vS)(P.values,{visitRole:L=>{w(L,E)}}),(0,i.fl)(P.values,{visitRole:L=>{w(L,E)}}),_.isEmpty(M)||_.isEmpty(E))return!1;for(var x of D.columns.levels)for(var N of x.sources)if(!N.isMeasure)return!1;return!0}(b,V,g,v,f))return b;var S={metadata:{columns:(0,a.JG)(b.metadata.columns)}};if(b.single&&(S.single=b.single),b.table&&(S.table=b.table),b.matrix){var P=function(b){var he,Se,V=b.rows,g=V.root,v=g.children,f=[],S=V.levels[0],P=g.childIdentityFields,D={},M=[],E=V.levels[1],w=_.isEmpty(v)?void 0:v[0].childIdentityFields,x=b.valueSources.length,N=he=>{var Se=D[he.key];return e.fF.assert(()=>void 0!==Se,"findcat() !== undefined"),Se};if(v){for(var B of v)for(var I of(f.push(B),B.children))Se=void 0,void 0,void 0===D[Se=(he=I).identity.key]&&(D[Se]=M.length,M.push(he))}for(var W=new Array(M.length),O=0;O<f.length;++O){var F=v[O];for(var A of F.children){var T=N(A.identity);W[T]||(W[T]=new Array(f.length)),W[T][O]=A.values}}var R={root:{children:_.map(f,he=>{var Se=(0,u.qO)(he);return Se.level=0,Se.children=void 0,Se.childIdentityFields=void 0,Se}),childIdentityFields:P},levels:[S]};if(x>0){var U=_.map(b.columns.root.children,he=>{var Se={level:1};return he.levelSourceIndex&&(Se.levelSourceIndex=he.levelSourceIndex),Se});for(var z of R.root.children)z.children=U;R.levels.push(b.columns.levels[0])}var j={root:{children:_.map(M,he=>{var Se=(0,u.qO)(he);return Se.level=0,Se.children=void 0,Se.childIdentityFields=void 0,Se}),childIdentityFields:w},levels:[E]};if(x>0)for(var H=0;H<M.length;++H){for(var q=j.root.children[H],G={},J=0;J<f.length;++J)for(var Z=W[H]&&W[H][J],Q=0;Q<x;++Q)G[J*x+Q]=Z?Z[Q]:0===Q?{value:null}:{value:null,valueSourceIndex:Q};q.values=G}return{rows:j,columns:R,valueSources:b.valueSources}}(b.matrix);_.isEmpty(P.valueSources)||(0,o.CF)(P.columns)||(S.categorical=function(b,V){for(var g=b.columns.root.children.length,v=b.valueSources,f=v.length,S=function(b){e.fF.assertValue(b,"unpivotedMatrix"),e.fF.assert(()=>b&&b.rows&&b.rows.levels&&1===b.rows.levels.length,"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var V=_.map(b.rows.root.children,M=>M.identity),g=b.rows.root.childIdentityFields,v=b.rows.levels[0].sources,f=[],S=0,P=v.length;S<P;S++){var D=_.map(b.rows.root.children,M=>{var E=M.levelValues;if(void 0!==E)return e.fF.assert(()=>E[S]&&E[S].levelSourceIndex===S,"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),E[S].value});f.push({source:v[S],values:D,identity:V,identityFields:g})}return f}(b),P=[],D=0;D<g;++D){var M=b.columns.root.children[D],E={values:[],identity:M.identity,name:null!=M.value?M.value:null};P.push(E);for(var w=0;w<f;++w){var N={...v[w]};N.groupName=E.name,V.push(N);var L={source:N,values:[],identity:E.identity};E.values.push(L);var B=w+D*f;for(var I of b.rows.root.children)L.values.push(I.values[B].value)}}var O=[];for(var F of P)for(var A=0;A<f;++A)O.push(F.values[A]);return O.grouped=()=>P,O.identityFields=b.columns.root.childIdentityFields,O.source=b.columns.levels[0].sources[0],{categories:S,values:O}}(P,S.metadata.columns))}return S}},169058:function(Ce,k,r){r.d(k,{JM:function(){return f},KH:function(){return n}});var a=r(939123),e=r(528836),u=r(639981),t=r(988206),C=r(123537),y=r(571619),i=r(888021),o=r(834734),c="RegressionX",h="RegressionSeries",d="RegressionY";function n(P){a.fF.assertValue(P,"options");var D=P.visualDataViews,M=P.dataRoles,E=P.objectDescriptors,w=P.objectDefinitions,x=P.transformSelects,N=P.applicableDataViewMappings,L=P.roleKindByQueryRef,B=P.queryProjectionsByRole,I=P.visualStyle,W=P.featureSwitches;if(!_.isEmpty(D)&&x){if(!L||!B||_.isEmpty(N)||!E||!w)return D;var O=_.find(N,R=>!!(0,t.zY)(R));if(O){var F=[];for(var A of D){var T=s(A,N,M,O,E,w,I,W);T&&F.push(T)}_.isEmpty(F)||D.push(...F||[])}}return D}function s(P,D,M,E,w,x,N,L){return a.fF.assertValue(D,"applicableDataViewMappings"),2===(0,t._1)(D)?function(){function P(L,B,I,W,O,F,A){a.fF.assertValue(L,"sourceDataView"),a.fF.assertValue(L.matrix,"sourceDataView.matrix"),a.fF.assertValue(B,"dataRoles"),a.fF.assertValue(W,"objectDescriptors"),a.fF.assertValue(O,"objectDefinitions");var T=L.matrix;if(T&&T.rows&&T.rows.root&&0!==_.size(T.rows.root.children)&&!(_.size(T.rows.levels)>2)){var R=D(0,T,B),U=D(1,T,B);if(void 0!==R&&void 0!==U){var z=R.valuesCol,j=U.valuesCol,H=function(L,B,I){var W=L.matrix;if(W){var O=(z,j)=>{if(z.children)for(var H of z.children)H.isSubtotal||(j.xValues.push(B(H)),j.yValues.push(I(H)))},F=[],A=W.rows;if(2===A.levels.length){for(var T of W.rows.root.children)if(!T.isSubtotal){var R={xValues:[],yValues:[]};F.push(R),O(T,R)}}else if(1===A.levels.length){var U={xValues:[],yValues:[]};F.push(U),O(A.root,U)}return F}}(L,R.getValues,U.getValues),q=!0,G=(0,t.zY)(I);if(G&&L.metadata.objects){var J=G.combineSeries;J&&(q=(0,C.NA)(L.metadata.objects,J,!0))}var Z=H;q&&(Z=function(L){var B=[];for(var I of L)_.isEmpty(I.xValues)||_.isEmpty(I.yValues)||(B[0]||B.push({xValues:[],yValues:[]}),B[0].xValues.push(...I.xValues||[]),B[0].yValues.push(...I.yValues||[]));return B}(H));var Q=b(Z);if(V(Q)){var ne=Q.xMin,le=Q.xMax,he=[];for(var Se of Q.lineDefs)he.push(S(Se,+ne,+le));return function(L,B,I,W,O,F,A,T,R,U){a.fF.assertValue(L,"xColumnSource"),a.fF.assertValue(B,"yColumnSource"),a.fF.assertValue(W,"categories"),a.fF.assertValue(O,"values"),a.fF.assertValue(A,"objectDescriptors"),a.fF.assertValue(T,"objectDefinitions");var Q,G={[F.matrix.values.select[0].for.in]:!0},J={[F.matrix.rows.select[1].bind.to]:!0},Z={columns:[]},ne={levels:[],root:{children:[]}},le={metadata:Z,matrix:{rows:ne,columns:Q,valueSources:[]}},he=m(L,c,!1,"",{[F.matrix.rows.select[0].bind.to]:!0}),Se=m(B,h,B.isMeasure,"Regression",J),Ke=m(B,d,B.isMeasure,"",G);Z.columns.push(Se),Z.columns.push(he),Z.columns.push(Ke),ne.levels.push({sources:[Se]}),ne.levels.push({sources:[he]}),le.matrix.valueSources.push(Ke);for(var Ge=(0,e.Oh)((0,e.nw)("s","RegressionEntity"),"RegressionSeries"),ye=(0,e.Oh)((0,e.nw)("s","RegressionEntity"),"RegressionCategories"),we=0;we<I.length;we++){var je=I[we],de={level:0,value:je,levelValues:[{levelSourceIndex:0,value:je}],children:[],childIdentityFields:[ye],identity:(0,y.TZ)((0,e.xD)(Ge,(0,e.kQ)(je,Se.type)))};_.isEmpty(ne.root.childIdentityFields)&&(ne.root.childIdentityFields=[Ge]),ne.root.children.push(de);for(var Pe=0;Pe<W.length;Pe++){var Ve=W[Pe],Ze={level:1,value:Ve,levelValues:[{levelSourceIndex:1,value:Ve}],values:{},identity:(0,y.TZ)((0,e.xD)(ye,(0,e.kQ)(Ve,he.type)))};Ze.values[0]={value:O[we][Pe]},de.children.push(Ze)}}return(0,i.ni)(le,1,A,T,[],R,U),le}(z,j,q?["combinedRegressionSeries"]:2===T.rows.levels.length?_.chain(T.rows.root.children).filter(ye=>!ye.isSubtotal).map(ye=>ye.value).value():["combinedRegressionSeries"],[ne,le],he,I,W,O,F,A)}}}}function D(L,B,I){var O,F,W=B.valueSources,A=function(L,B,I){if(!_.isEmpty(B))return _.findIndex(B,W=>{var F,O=function(T){if(!W.roles[T])return 0;var R=_.find(I,U=>U.name===T);return R&&R.cartesianKind===L?{v:!0}:void 0};for(var A in W.roles)if(0!==(F=O(A))&&F)return F.v})}(L,B.valueSources,I);if(A>=0&&void 0!==A)O=W[A],F=R=>R.values[A].value;else{var T=function(L,B,I){if(!_.isEmpty(B.root.children)){for(var W=-1,O=0,F=B.levels.length;O<F&&-1===(W=_.findIndex(B.levels[O].sources,T=>{var U,R=function(j){if(!T.roles[j])return 0;var H=_.find(I,q=>q.name===j);return H&&H.cartesianKind===L?{v:!0}:void 0};for(var z in T.roles)if(0!==(U=R(z))&&U)return U.v}));O++);return{level:O,index:W}}}(L,B.rows,I);if(-1===(A=T?T.index:-1))return;O=B.rows.levels[T.level].sources[A],F=R=>R.levelValues[A].value}return{valuesCol:O,getValues:F}}return{apply:(L,B,I,W,O,F,A)=>P(L,B,I,W,O,F,A)}}().apply(P,M,E,w,x,N,L):function(){function P(B,I,W,O,F,A,T){if(a.fF.assertValue(B,"sourceDataView"),a.fF.assertValue(B.categorical,"sourceDataView.categorical"),a.fF.assertValue(I,"dataRoles"),a.fF.assertValue(O,"objectDescriptors"),a.fF.assertValue(F,"objectDefinitions"),B.categorical){var R=D(0,B.categorical,I),U=D(1,B.categorical,I);if(!_.isEmpty(R)&&!_.isEmpty(U)){var z=R[0].source,j=U[0].source,H=!0,q=(0,t.zY)(W);if(q&&B.metadata.objects){var G=q.combineSeries;G&&(H=(0,C.NA)(B.metadata.objects,G,!0))}var Z=b(x(R,U,H,!1));if(V(Z)){var he,Q=Z.xMin,ne=Z.xMax,le=L(U)||L(R);le&&(V(he=b(x(R,U,H,!0)))?(Q=_.min([Q,he.xMin]),ne=_.max([ne,he.xMax])):le=!1);var ye,je,Ke=[];for(var Ge of Z.lineDefs)Ke.push(S(Ge,+Q,+ne));if(le)for(var we of(ye=[],he.lineDefs))ye.push(S(we,+Q,+ne));if(H)je=["combinedRegressionSeries"];else if(B.categorical.values.source){var de=B.categorical.values.grouped();je=_.map(de,Ve=>Ve.name)}else je=_.map(U,Ve=>Ve.source.queryName);return function(B,I,W,O,F,A,T,R,U,z,j){a.fF.assertValue(B,"xColumnSource"),a.fF.assertValue(I,"yColumnSource"),a.fF.assertValue(O,"categories"),a.fF.assertValue(F,"values"),a.fF.assertValue(R,"objectDescriptors"),a.fF.assertValue(U,"objectDefinitions"),a.fF.assertAnyValue(A,"highlights"),a.fF.assert(()=>!A||A.length===F.length,"highlights should have the same length as values");var G,J,H=T.categorical.categories.for.in,q=T.categorical.values.group;if(q&&!_.isEmpty(q.select)&&(G=q.select[0].for?q.select[0].for.in:q.select[0].bind.to,J=q.by),G&&J){var Z={[H]:!0},Q={[G]:!0},ne={[J]:!0},le=[];for(var he in F){var Se={values:F[he]};A&&(Se.highlights=A[he]),le.push([Se])}var Ke=(0,u.h)().withCategory({source:m(B,c,!1,"",Z),values:O,identityFrom:{fields:[(0,e.Oh)((0,e.nw)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:m(I,h,I.isMeasure,"Regression",ne),values:W,identityFrom:{fields:[(0,e.Oh)((0,e.nw)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:m(I,d,I.isMeasure,"",Q)}],data:le}).build();return(0,i.ni)(Ke,1,R,U,[],z,j),Ke}}(z,j,je,[Q,ne],Ke,ye,W,O,F,A,T)}}}}function D(B,I,W){a.fF.assertValue(B,"roleKind"),a.fF.assertValue(I,"categorical");var O=M(B,I.values,W);if(!_.isEmpty(O))return O;var F=I.categories;if(!_.isEmpty(F)){var A=F[0],T=M(B,[A],W);if(!_.isEmpty(T)&&(1===F.length||_.isEmpty(A.values)||!_.isEmpty(A.objects)&&void 0!==E(A.objects[0])))return T}}function M(B,I,W){if(!_.isEmpty(I))return _.filter(I,O=>{var A,F=function(R){if(!O.source.roles[R])return 0;var U=_.find(W,z=>z.name===R);return U&&U.cartesianKind===B?{v:!0}:void 0};for(var T in O.source.roles)if(0!==(A=F(T))&&A)return A.v;return!1})}function E(B){return(0,C.NA)(B,o.i)}function w(B,I){var W=_.head(B.objects);return W&&E(W)?_.map(B.objects,F=>E(F)):I&&B.highlights?B.highlights:B.values}function x(B,I,W,O){for(var F=[],A=_.map(B,H=>w(H,O)),T=_.map(I,H=>w(H,O)),R=B.length>1,U=0;U<T.length;U++){var z=R?A[U]:A[0],j=T[U];W&&F.length>0?(F[0].xValues=F[0].xValues.concat(z),F[0].yValues=F[0].yValues.concat(j)):F.push({xValues:z,yValues:j})}return F}function L(B){return _.some(B,I=>null!=I.highlights)}return{apply:(B,I,W,O,F,A,T)=>P(B,I,W,O,F,A,T)}}().apply(P,M,E,w,x,N,L)}function m(P,D,M,E,w){return{displayName:P.displayName+E,queryName:D,type:P.type,isMeasure:M,roles:w}}function b(P){var D,M,E=[];for(var w of P){var x=w.xValues,N=w.yValues;if(_.isEmpty(x)||_.isEmpty(N))E.push(null);else{var L=g(x),B=g(N);if(L&&B){var I=v(x,N);if(!I||_.isEmpty(I.xValues)||_.isEmpty(I.yValues))E.push(null);else{var W=I.xValues[0],O=I.xValues[I.xValues.length-1],F=f(I.xValues,I.yValues);D=_.min([D,W]),M=_.max([M,O]),E.push(F)}}else E.push(null)}}return{lineDefs:E,xMin:D,xMax:M}}function V(P){return P&&!_.isEmpty(P.lineDefs)&&_.some(P.lineDefs,D=>D)}function g(P){var D=_.find(P,E=>null!=E);if(null!=D){var M=typeof D;if(!_.some(P,E=>null!=E&&typeof E!==M))return M}}function v(P,D){a.fF.assertValue(P,"unsortedXValues"),a.fF.assertValue(D,"unsortedYValues");var M=_.zip(P,D),[E,w]=_.chain(M).filter(x=>null!=x[0]&&null!=x[1]).sortBy(x=>x[0]).unzip().value();return{xValues:E=_.map(E,_.toNumber),yValues:w=_.map(w,_.toNumber)}}function f(P,D,M=!1){a.fF.assertValue(P,"xValues"),a.fF.assertValue(D,"yValues");var E=_.sum(P),w=_.sum(D),x=E/P.length,N=w/D.length,L=_.chain(P).map(z=>(z-x)**2).sum().value();if(0!==L){var O,I=_.chain(P).map((z,j)=>(z-x)*(D[j]-N)).sum().value()/L,W=N-x*I;if(M){var F=_.size(P),A=_.chain(P).map((z,j)=>z*D[j]).sum().value(),T=_.chain(P).map(z=>z*z).sum().value(),R=_.chain(D).map(z=>z*z).sum().value(),U=Math.sqrt((F*T-E**2)*(F*R-w**2));0!==U&&(O=((F*A-E*w)/U)**2)}return{incline:I,intercept:W,rSquared:O}}}function S(P,D,M){return P?[D*P.incline+P.intercept,M*P.incline+P.intercept]:[null,null]}},393789:function(Ce,k,r){r.d(k,{Yp:function(){return C},fS:function(){return y}});var a=r(722709),e=r(939123),u=r(238175),t=r(930746);function C(o){return new i(o)}function y(o,c){return o.key&&c.key&&o.key===c.key&&(0,a.NF)(o.roles,c.roles,(h,d)=>h===d)}class i{constructor(c){this.kind=0,e.fF.assertNonEmpty(c,"roles"),this._roles=c,this._key=new u.o(()=>JSON.stringify(this.roles))}get roles(){return this._roles}get key(){return this._key.getValue()}}(0,t.y)(i.prototype)},571619:function(Ce,k,r){r.d(k,{Lu:function(){return n},SN:function(){return d},TZ:function(){return s},fS:function(){return c},rP:function(){return p},yz:function(){return h}});var a=r(939123),e=r(238175),u=r(930746),t=r(336508),C=r(377176),y=r(528836),i=r(913186),o=r(257738);function c(l,m,b){return(l=l||null)===(m=m||null)||!l==!m&&(a.fF.assertValue(l,"x"),a.fF.assertValue(m,"y"),(0,o.fS)(l.expr,m.expr,b))}function h(l,m,b){if(!(l=l||null)!=!(m=m||null))return!1;a.fF.assertValue(l,"thisComparisonExpr"),a.fF.assertValue(m,"otherComparisonIdentity");var g=l,v=(0,t.Dh)(m.expr),f=(0,t.Dh)(g);if(!v||!f)return c(s(g),m,b);var P,S=function(M){if(!_.some(v,E=>(0,o.fS)(M,E,b)))return{v:!1}};for(var D of f)if(P=S(D))return P.v;return!0}function d(l,m){if(!_.isEmpty(l)){var b=[];for(var V of l)b.push(V.expr);return n(b,m)}}function n(l,m){if(!_.isEmpty(l)){var b;for(var V of l){var g=(0,t.FD)(V);b=b?(0,y.or)(b,g):g||V}return b&&m&&(b=(0,y.ff)(b)),(0,t.Cj)(b)?void a.fF.assertFail("SelectRef based identities can not be translated into a filter without additional context."):C.yl.fromSQExpr(b)}}function s(l){return new p(l)}class p{constructor(m){this.kind=1,a.fF.assertValue(m,"expr"),this._expr=m,this._key=new e.o(()=>(0,i.qC)(m))}get expr(){return this._expr}get key(){return this._key.getValue()}}(0,u.y)(p.prototype)},791108:function(Ce,k,r){r.d(k,{fS:function(){return i},ms:function(){return o},wB:function(){return y}});var a=r(939123),e=r(238175),u=r(930746),t=r(517273),C=r(913186);function y(h,d){return!_.isEmpty(d)&&t.m.sequenceEqual(h.exprs,d)}function i(h,d){return h===d||t.m.sequenceEqual(h.exprs,d.exprs)}function o(h){return new c(h)}class c{constructor(d){this.kind=2,a.fF.assertValue(d,"scopeExprs"),this._exprs=d,this._key=new e.o(()=>(0,C.Gg)(d))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,u.y)(c.prototype)},670808:function(Ce,k,r){r.d(k,{fS:function(){return o},ms:function(){return c},wB:function(){return i}});var a=r(939123),e=r(238175),u=r(930746),t=r(336508),C=r(517273),y=r(913186);function i(d,n){var s=(0,t.RR)(n.expr);return!!s&&C.m.sequenceEqual(d.exprs,s)}function o(d,n){return d===n||C.m.sequenceEqual(d.exprs,n.exprs)}function c(d){return new h(d)}class h{constructor(n){this.kind=3,a.fF.assertValue(n,"exprs"),this._exprs=n,this._key=new e.o(()=>(0,y.Gg)(n))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,u.y)(h.prototype)},662663:function(Ce,k,r){r.d(k,{_v:function(){return y},bG:function(){return i},f_:function(){return h},ij:function(){return c}});var a=r(953474),e=r(257738),u=r(939123),t=r(454865),C=r(79964);function y(d,n){if(u.fF.assertAnyValue(d,"selects"),u.fF.assertAnyValue(n,"projectionActiveItems"),_.isEmpty(d))return{};var s={};for(var p of d)if(p){var l=p.roles;if(l)for(var m in l)if(l[m]){var b=s[m];b||(b=s[m]=new C.NQ([])),b.addProjection({queryRef:p.queryName}),n&&n[m]&&(b.activeProjectionRefs=_.map(n[m],V=>V.queryRef))}}return s}function i(d,n){var s={};for(var p of n.columns)if(!(!p.index&&0!==p.index||p.index<0||p.index>=d.length)){var l=d[p.index];if(l){var m=l.queryName;m&&void 0===s[m]&&(s[m]=p.isMeasure?t.DW.Measure:t.DW.Grouping)}}return s}function c(d,n,s){if(u.fF.assertValue(d,"expr"),u.fF.assertAnyValue(n,"selectTransforms"),!n)return-1;var p;(0,a.NH)(d)&&(p=d.expressionName);for(var l=s||0,m=n.length;l<m;l++){var b=n[l];if(b&&(!p||b.queryName))if(p){if(b.queryName===p)return l}else if((0,e.fS)(b.expr,d))return l}return-1}function h(d,n){if(!_.isEmpty(d)&&!_.isEmpty(n)){for(var s={},p=function(V){var g=d[V];if(!_.isEmpty(g.relatedSelects)){var v=function(){var S=f.queryName,P=_.findIndex(d,N=>N.queryName&&N.queryName===S),D=d[P];if(P>-1)for(var M of _.keys(D.roles)){var E=_.remove(n[M],N=>N===V);if(!_.isEmpty(E)){var w=s[P]=s[P]||{};(w[M]=w[M]||[]).push(V)}}};for(var f of g.relatedSelects)v()}},l=0;l<d.length;l++)p(l);if(!_.isEmpty(s)){var m=function(V){var g=s[V];for(var v in g){var f=n[v],S=_.findIndex(f,P=>P===parseInt(V,10));f.splice(S+1,0,...g[v])}};for(var b in s)m(b)}}}},678023:function(Ce,k,r){r.d(k,{nn:function(){return Fr},G3:function(){return it},iZ:function(){return _r}});var a=r(722709),e=r(939123),u=r(542666),t=r(265230),C=r(262730),y=r(336508),i=r(517273),o=r(931145),c=r(888021);function h(Be){return void 0===Be.source.index}function d(Be){return _.some(Be,h)}var s=r(87051);function p(Be){e.fF.assertValue(Be,"categorical");var nt=Be.values;if(nt){var mt;if(nt.source){mt=(0,u.qO)(nt.grouped());var ot=0===(0,s.Ed)(Be),ie=nt.length>=1&&(ot||void 0!==_.head(nt).identity);if(!_.isEmpty(nt)&&ie)for(var Oe,We=0,lt=function(){var tr=nt[gt];if(h(tr))return 1;if(!Oe||tr.identity!==Oe.identity){var Yt=mt[We];Yt?Oe=(0,u.qO)(Yt):(e.fF.assert(()=>!tr.identity,"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),Oe=Yt=mt[We]={values:null}),mt[We]=Oe,Oe.values=[],We++,e.fF.assert(()=>tr.identity===Oe.identity,"expecting the value columns are sequenced by series groups")}Oe.values.push(tr)},gt=0,_t=nt.length;gt<_t;gt++)lt();else for(var Ft=0,xt=mt.length;Ft<xt;Ft++){var Wt=mt[Ft];_.isEmpty(Wt.values)||(mt[Ft]=Wt=(0,u.qO)(Wt),Wt.values=[])}}else mt=[{values:nt}];nt.grouped=()=>mt,Be.values=nt}}var l=r(988206),m=r(205754);function N(Be,nt){e.fF.assertValue(Be,"measureSources"),e.fF.assertValue(nt,"projectionOrder");var dt=(0,m.jh)(Be,nt);if(dt=_.chain(dt).filter(ot=>void 0!==ot.projectionOrderIndex).sortBy(ot=>ot.projectionOrderIndex).value(),!(0,a.NF)(Be,dt,(ot,ie)=>ot.index===ie.metadataColumn.index))return dt}function B(Be){if(e.fF.assertValue(Be,"groups"),!_.isEmpty(Be))return _.chain(Be[0].values).map(dt=>dt.source).filter(dt=>void 0!==dt.index).value()}var I=r(992104),W=r(616113),O=r(528836),F=r(412413),A=r(334673),T=r(571619),R=r(624310),U=r(834734);function j(Be,nt,dt){if(e.fF.assertValue(nt,"Category type is not specified"),!_.isDate(Be)||!nt||!nt.temporal)return null;var mt=Be;return nt.temporal.year?function(Be){return e.fF.assertValue(Be,"date"),Be.getFullYear()}(mt):nt.temporal.quarter?function(Be,nt){e.fF.assertValue(Be,"date");var mt=Math.floor((Be.getMonth()+3)/3);return(0,W.W)(nt,mt.toLocaleString())}(mt,dt):nt.temporal.month?function(Be){return e.fF.assertValue(Be,"date"),A.dx.formatValue(Be,"MMMM")}(mt):nt.temporal.day?function(Be){return e.fF.assertValue(Be,"date"),Be.getDate()}(mt):void 0}function Z(Be,nt){e.fF.assertValue(Be,"dataViewMatrix"),nt.columnHierarchyRewritten||(Be.columns=(0,u.ED)(Be.columns));var dt=Be.columns;nt.rowHierarchyRewritten||(Be.rows=(0,u.ED)(Be.rows));var mt=Be.rows;if(!(dt.levels.length>1)){var ot={level:0},ie=dt.root.children,We=_.size(ie),Oe=mt.levels.length;if(We>0){var lt=0,gt=function(xt){if(xt.values){ot.values||(ot.values={});for(var Wt=0;Wt<We;Wt++)ot.values[lt++]=xt.values[Wt];xt.values=void 0}if(We>1){xt.children||(xt.children=[]);for(var tr=0;tr<We;tr++){var Yt={level:Oe};Yt.levelSourceIndex=ie[tr].levelSourceIndex,xt.isSubtotal&&(Yt.isSubtotal=!0),xt.children.push(Yt)}}};nt.hierarchyTreesRewritten?Q(mt.root,gt):Be.columns.root=le(mt.root,gt)}else nt.hierarchyTreesRewritten||(Be.columns.root=function(Be){return le(Be)}(mt.root));if(We>1&&(mt.levels.push({sources:dt.levels[0].sources}),dt.levels.length=0),nt.hierarchyTreesRewritten)Be.columns.root=mt.root,Be.rows.root={children:[ot]};else{var Ft=(0,u.ED)(Be.rows.root);Ft.children=[ot],Be.rows.root=Ft}Be.columns.levels=mt.levels,Be.rows.levels=[]}}function Q(Be,nt){var dt=Be.children;if(dt&&dt.length>0)for(var mt=0,ot=dt.length;mt<ot;mt++)Q(dt[mt],nt);else nt(Be)}function le(Be,nt){var dt={};return nt&&(dt.nodeProcessor=mt=>{_.isEmpty(mt.children)&&nt(mt)}),he(Be,dt)}function he(Be,nt){var dt=(0,u.ED)(Be),mt=Be.children;if(!(nt.nodeProcessor&&nt.nodeProcessor(dt),_.isEmpty(mt)||nt.skipChildren?.(Be)))for(var ie=mt.length,We=dt.children=new Array(ie),Oe=0;Oe<ie;Oe++)We[Oe]=he(mt[Oe],nt);return dt}var Se=r(278042);function Ge(Be,nt,dt){if(_.isEmpty(dt))return[];var mt=l.nG.fromMatrixValues(nt);if(_.isEmpty(mt))return[];var ot=je(Be,mt),ie=(0,m.jh)(dt,ot,mt);return _.chain(ie).filter(We=>void 0!==We.projectionOrderIndex).sortBy(We=>We.projectionOrderIndex).value()}function je(Be,nt){e.fF.assertValue(Be,"projectionOrdering"),e.fF.assertValue(nt,"roles");var dt=[];for(var mt of nt){var ot=Be[mt];_.isEmpty(ot)||dt.push(...ot||[])}return dt}function de(Be,nt){return e.fF.assertValue(Be,"valueSources"),e.fF.assertValue(nt,"valueProjectionOrdering"),(0,a.NF)(Be,nt,(dt,mt)=>dt===mt.metadataColumn)}function Pe(Be,nt,dt,mt,ot){e.fF.assertValue(Be,"prototypeRowHierarchy"),e.fF.assertNonEmpty(nt,"originalValueSources"),e.fF.assertValue(dt,"projectedValueSourceEntries"),e.fF.assert(()=>void 0===ot||0===mt.length,"staticValueSources are not supported with Scoped Measures");var Oe,gt,ie=nt.length,We=dt.length,lt=(0,u.qO)(Be),_t=(xt,Wt)=>{var tr=Wt?xt.values:(0,Se.Lr)(xt);if(tr&&0!==ie){if(!gt){gt=0;var Yt={};for(var ar in tr)gt++,Yt[tr[ar].valueSourceIndex||0]=!0;ie=Object.keys(Yt).length}if(void 0===Oe){if(ie>We&&mt.length>0&&(ie-=mt.length,0==(gt-=mt.length)))return;e.fF.assert(()=>gt%ie==0,"expecting the intersection values to have one value per measure column per column group instance"),Oe=gt/ie}else e.fF.assert(()=>Oe===gt/ie,"expecting every interaction values collection to have the same length");var sr;if(We>0){sr={};for(var Vr=0;Vr<Oe;Vr++)for(var Tr=Vr*ie,Br=Vr*We,Lr=0;Lr<We;Lr++){var Ar=tr[Tr+dt[Lr].sourceIndex];Lr!==(Ar.valueSourceIndex||0)&&((Ar=(0,u.qO)(Ar)).valueSourceIndex=Lr||void 0),sr[Br+Lr]=Ar}for(var Nr=We,Dr=Object.keys(sr).length,qr=gt+mt.length,Gr=gt;Gr<qr;Gr++){var aa=tr[Gr];aa.valueSourceIndex=Nr++||void 0,sr[Dr++]=aa}}else sr=void 0;Wt?xt.values=sr:xt.nodeValues=sr?{0:sr}:void 0}};return lt.root=void 0===ot?le(lt.root,xt=>_t(xt,!0)):he(lt.root,{nodeProcessor:xt=>{xt.level===ot&&_t(xt,!1)},skipChildren:xt=>xt.level>=ot}),lt}function Ze(Be,nt){e.fF.assertValue(Be,"matrixHierarchy"),e.fF.assertValue(nt,"projectionOrdering");var mt,dt=Be.levels,ot=_.chain(dt).map((Ft,xt)=>xt).filter(Ft=>{var xt=dt[Ft];return _.size(xt.sources)>=2&&!(0,Se.Ro)(xt)}).value();if(!_.isEmpty(ot)){for(var ie=_.uniq(nt),We=ot.length-1;We>=0;We--){var Oe=ot[We],lt=Be.levels[Oe],gt=Ue(lt,ie);if(!_.isEmpty(gt)){void 0===mt&&((mt=(0,u.qO)(Be)).levels=(0,u.qO)(Be.levels),mt.root=(0,Se.no)(Be.root,Oe,!0));var _t=(0,u.qO)(lt);mt.levels[Oe]=Je(_t,gt),De(mt.root,Oe,gt)}}return mt}}function Ue(Be,nt){e.fF.assertValue(Be,"hierarchyLevel"),e.fF.assertValue(nt,"hierarchyProjection");var dt,mt=Be.sources;if(mt&&mt.length>=2){var ot=(0,m.jh)(mt,nt);e.fF.assert(()=>_.every(ot,We=>We.metadataColumn.isMeasure||void 0!==We.projectionOrderIndex||null==nt[We.sourceIndex]),"Removed grouping during Matrix Projection ordering");var ie=_.sortBy(ot,We=>We.projectionOrderIndex);dt=_.map(ie,(We,Oe)=>({originalSourceIndex:We.sourceIndex,newSourceIndex:Oe}))}return dt}function Je(Be,nt){e.fF.assertValue(Be,"transformingHierarchyLevel"),e.fF.assertNonEmpty(nt,"levelSourceIndexMappings");var dt=Be.sources;Be.sources=dt.slice(0);var mt=function(ie){e.fF.assert(()=>ie.originalSourceIndex<dt.length,"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),Be.sources[ie.newSourceIndex]=dt[ie.originalSourceIndex]};for(var ot of nt)mt(ot);return Be}function De(Be,nt,dt){e.fF.assertValue(Be,"transformingHierarchyRootNode"),e.fF.assertNonEmpty(dt,"levelSourceIndexMappings"),e.fF.assert(()=>dt.length===_.uniqBy(dt,ot=>ot.originalSourceIndex).length,"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var mt=_.reduce(dt,(ot,ie)=>(ot[ie.originalSourceIndex]=ie,ot),{});return(0,Se.X2)(Be,nt,ot=>{var ie=ot.levelValues;if(!_.isEmpty(ie)){e.fF.assert(()=>_.every(ie,xt=>!!mt[xt.levelSourceIndex]),"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var We=_.sortBy(ie,xt=>{var Wt=mt[xt.levelSourceIndex];return Wt&&Wt.newSourceIndex}),Oe=0,lt=We.length;Oe<lt;Oe++){var gt=(0,u.qO)(We[Oe]),_t=mt[gt.levelSourceIndex];gt.levelSourceIndex=_t&&_t.newSourceIndex,We[Oe]=gt}ot.levelValues=We;var Ft=_.last(We);ot.value!==Ft.value&&(ot.value=Ft.value),(ot.levelSourceIndex||0)!==Ft.levelSourceIndex&&(ot.levelSourceIndex=Ft.levelSourceIndex)}}),Be}function at(Be,nt){e.fF.assert(()=>Be&&_.every(Be.children,mt=>mt.level===Be.children[0].level),"node must be defined and all of its child nodes must have the same level value."),e.fF.assertValue(nt,"measureHeadersLevelIndex");var dt=Be.children;return!_.isEmpty(dt)&&dt[0].level===nt}function tt(Be,nt,dt,mt){for(var ot=new Array(nt),ie=0,We=nt;ie<We;ie++){var Oe=void 0,lt=mt&&mt[ie].sourceIndex;null!=lt&&(Oe=dt.children&&dt.children[lt]);var gt=Oe?(0,u.qO)(Oe):{};gt.level=Be,dt.isSubtotal&&(gt.isSubtotal=!0),gt.levelSourceIndex=ie>0?ie:void 0,ot[ie]=gt}return ot}function ut(Be){e.fF.assertValue(Be,"options");var nt=_.filter(Be.dataRoles,dt=>!_.isEmpty(dt.requiredTypes));!function(Be,nt,dt){if(e.fF.assertValue(Be,"dataview"),!_.isEmpty(nt)&&!_.isEmpty(dt)){var mt=function(Be,nt){if(!Be||!nt)return()=>!1;var dt={};for(var mt of Be){var ot=mt.roles;if(ot)for(var ie of nt)if(ot[ie.name]){dt[mt.index]=!0;break}}return We=>!isNaN(We)&&!!dt[We]}(Be.metadata.columns,dt),ot=function(Be,nt){if(!Be||!nt)return()=>!0;var dt=[];for(var mt of Be){var ot=Le(mt,nt);ot&&(dt[mt.index]=ot)}return(ie,We)=>!dt[ie]||dt[ie](We)}(Be.metadata.columns,dt),ie={};for(var We of nt)We.table&&Be.table&&(ie.table=!0),We.matrix&&Be.matrix&&(ie.matrix=!0),We.categorical&&Be.categorical&&(ie.categorical=!0),We.tree&&Be.tree&&(ie.tree=!0),We.single&&Be.single&&(ie.single=!0);ie.categorical&&function(Be,nt,dt){var mt=Be&&Be.values;if(mt){var ot=mt.grouped();if(ot)for(var ie of ot){var We=ie.values;for(var Oe of We){var lt=Oe.source.index;if(nt(lt))for(var gt=0,_t=Oe.values.length;gt<_t;gt++)Oe.values=Te(Oe.values,gt,lt,dt)}}}}(Be.categorical,mt,ot),ie.table&&function(Be,nt,dt){var mt=Be&&Be.columns;if(mt){var ot=[];for(var ie of mt)nt(ie.index)&&ot.push(ie.index);for(var We=Be.rows,Oe=0,lt=We.length;Oe<lt;Oe++)for(var gt of ot)We[Oe]=Te(We[Oe],gt,gt,dt)}}(Be.table,mt,ot),ie.tree&&Ye(Be.tree.root,mt,ot),ie.matrix&&function(Be,nt,dt){var mt=Be&&Be.rows&&Be.rows.root;mt&&ee(Be,mt,nt,dt)}(Be.matrix,mt,ot),ie.single&&function(Be,nt,dt,mt){if(Be.single){var ot=[];for(var ie of dt)ie.name&&ot.push(ie.name);var We=Be.metadata.columns;for(var Oe of nt){var lt=Oe.single.role;if(-1!==ot.indexOf(lt)){var gt=He(We,lt);return void(gt&&(Be.single=Te(Be.single,"value",gt.index,mt)))}}}}(Be,nt,dt,ot)}}(Be.dataview,Be.dataViewMappings,nt)}function Le(Be,nt){var dt=function(Be,nt){var dt=[],mt=Be&&Be.roles;if(!mt)return dt;for(var ot of nt)if(mt[ot.name])for(var ie of ot.requiredTypes){var We=o.Ge.fromDescriptor(ie);dt.push(We)}return dt}(Be,nt);if(!_.isEmpty(dt))return mt=>function(Be,nt){for(var dt of nt)if(dt.numeric||dt.integer)return"number"==typeof Be;return!1}(mt,dt)}function Ye(Be,nt,dt){if(Be.values)for(var mt in Be.values)nt(mt)&&("object"==typeof Be.values[mt]&&"value"in Be.values[mt]?Be.values[mt]=Te(Be.values[mt],"value",mt,dt):Be.values=Te(Be.values,+mt,+mt,dt));else if(Be.children)for(var ot of Be.children)Ye(ot,nt,dt)}function ee(Be,nt,dt,mt){if(nt.values)for(var ot in nt.values){var ie=nt.values[ot],Oe=Be.valueSources[ie.valueSourceIndex||0].index;_.isNumber(Oe)&&dt(Oe)&&(nt.values[ot]=Te(ie,"value",Oe,mt))}else if(nt.children)for(var lt of nt.children)ee(Be,lt,dt,mt)}function Te(Be,nt,dt,mt){if(Be){var ot=Be[nt];return null!==ot&&!mt(dt,ot)&&((Be=(0,u.qO)(Be))[nt]=null),Be}}function He(Be,nt){for(var dt of Be){var mt=dt&&dt.roles;if(mt&&mt[nt])return dt}}var qe=r(123537),rt=r(333736),me=r(501715);class fe{constructor(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}trackOriginalDynamicFormatColumn(nt,dt){this.originalDynamicFormatColumns.push({valueColumnIndex:nt,dynamicFormatStringColumn:dt})}addPivotedDynamicFormatColumn(nt,dt,mt){void 0===this.categoryIndexToDynamicFormatColumn[nt]&&(this.categoryIndexToDynamicFormatColumn[nt]=[]),e.fF.assert(()=>void 0===this.categoryIndexToDynamicFormatColumn[nt][dt],`categoryIndexToDynamicFormatColumn[${nt}][${dt}] === undefined`),this.categoryIndexToDynamicFormatColumn[nt][dt]=mt}getPivotedDynamicFormatColumn(nt,dt){var mt=this.getValueColumnIndex(nt);if(void 0!==mt)return e.fF.assertValue(this.categoryIndexToDynamicFormatColumn[mt][dt],`categoryIndexToDynamicFormatColumn[${mt}][${dt}]`),this.categoryIndexToDynamicFormatColumn[mt][dt]}getValueColumnIndex(nt){var dt=_.find(this.originalDynamicFormatColumns,mt=>mt.dynamicFormatStringColumn===nt);if(dt)return dt.valueColumnIndex}}var Re=r(847912);var ce=r(169058),Me=r(639981);function Ut(Be,nt,dt){var mt=(0,u.ED)(Be);for(var ot of dt)mt[ot]=nt[ot];return mt}var Kt=r(179962),Qt=r(662663),Xt=["Series","Category"],cr=["Series","X","Y"];function Lt(Be,nt,dt,mt){e.fF.assertValue(Be,"groupingLevelSelectIndices"),e.fF.assertValue(nt,"selectTransforms"),e.fF.assertAnyValue(dt,"drillableRoles"),e.fF.assertValue(mt,"rolesToMatch");var ot=0,ie=Be.length;for(var We of mt){if(ie<=ot)return!1;var Oe=Qe(Be,nt,We);if(0===Oe)return!1;if(Oe>=2&&!_.includes(dt,We))return!1;ot+=Oe}return!(ot<ie)}function Qe(Be,nt,dt){e.fF.assertValue(Be,"selectIndices"),e.fF.assertValue(nt,"selectTransforms"),e.fF.assertValue(dt,"roleToMatch");var mt=0;for(var ot of Be)if((0,m.iN)(nt[ot]&&nt[ot].roles,dt))mt++;else if(mt>0)break;return mt}var Gt=r(453855),ir=r(113147),Ht=r(257738),vr={quarterPrefix:"Qtr {0}"};function _r(Be){e.fF.assertValue(Be,"options"),vr=Be}function Fr(Be){e.fF.assertValue(Be,"options");var nt=Be.prototype,dt=Be.objectDescriptors,mt=Be.transforms,ot=Be.visualStyle,ie=Be.withWarnings?[]:void 0;if(!nt)return{dataViews:Sr(dt,mt,ot,Be.featureSwitches)};if(!mt)return{dataViews:[nt]};var We=function(Be,nt,dt,mt,ot,ie,We,Oe,lt,gt){e.fF.assertValue(Be,"queryDataViewMetadata"),e.fF.assertAnyValue(nt,"objectDescriptors"),e.fF.assertAnyValue(dt,"dataViewMappings"),e.fF.assertAnyValue(mt,"dataRoles"),e.fF.assertAnyValue(ot,"drillCapabilities"),e.fF.assertValue(We,"transforms"),e.fF.assertValue(Oe,"DataViewTransformContext.create - visualStyle");var _t=We.selects,Ft=We.roles&&We.roles.activeItems,xt=_.isEmpty(_t)?{}:(0,Qt.bG)(_t,Be),Wt=(0,Qt._v)(_t,Ft),Yt=(0,Kt.Lo)(Wt,dt,xt,gt,nt,We.objects).supportedMappings;return{queryDataViewMetadata:Be,objectDescriptors:nt,dataRoles:mt,drillCapabilities:ot,expandCollapseCapabilities:ie,transforms:We,selectTransforms:_t,projectionOrdering:We.roles&&We.roles.ordering,projectionActiveItems:Ft,roleKindByQueryRef:xt,queryProjectionsByRole:Wt,visualCapabilitiesRoleMappings:dt,visualCapabilitiesDataViewKinds:(0,l._1)(dt),applicableRoleMappings:Yt,applicableDataViewKinds:(0,l._1)(Yt),visualStyle:Oe,visualCapabilitiesKeepAllMetadataColumns:lt}}(nt.metadata,dt,Be.dataViewMappings,Be.dataRoles,Be.drillCapabilities,Be.expandCollapseCapabilties,mt,ot,Be.keepAllMetadataColumnsCapability,Be.featureSwitches),Oe=function(Be,nt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"transformContext");var dt=nt.transforms,mt=nt.applicableRoleMappings,ot=(0,Re.wi)(Be,nt.selectTransforms,nt.roleKindByQueryRef,nt.queryProjectionsByRole,mt),ie=nt.transforms?.roles?.isDrillDisabled;return ot=function(Be,nt,dt,mt){if(e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"transformActions"),e.fF.assertAnyValue(dt,"applicableRoleMappings"),e.fF.assertAnyValue(mt,"drillableRoles"),!_.isEmpty(nt.splits))return Be;var ot=Be.matrix;if(!ot)return Be;var ie=_.chain(dt).map(gt=>function(Be){e.fF.assertValue(Be,"dataViewMapping");var nt=Be.matrix;if(nt&&nt.rows&&!nt.columns&&!nt.values){var dt=l.nG.fromMatrixRows(nt.rows);if((0,a.NF)(dt,Xt,(ot,ie)=>ot===ie)||(0,a.NF)(dt,cr,(ot,ie)=>ot===ie))return{primaryAxisRoles:dt.slice(1),secondaryAxisRole:dt[0]}}}(gt)).filter(gt=>!!gt).value();if(1!==ie.length)return Be;if(!function(Be,nt,dt,mt){e.fF.assertValue(Be,"dataViewSelectIndices"),e.fF.assertValue(nt,"transformActions"),e.fF.assertAnyValue(dt,"drillableRoles"),e.fF.assertValue(mt,"matchingUpgradeSourceRolesStructure");var ot=Be.primaryAxis,ie=Be.secondaryAxis;if(!_.isEmpty(Be.intersection)||1!==_.size(ot)||1!==_.size(ie))return!1;var We=nt.selects;return!(!Lt(ot[0].selectIndices,We,dt,mt.primaryAxisRoles)||!Lt(ie[0].selectIndices,We,dt,[mt.secondaryAxisRole]))}((0,Se.GJ)(ot),nt,mt,ie[0]))return Be;var Oe=function(Be){e.fF.assertValue(Be,"dataViewMatrix"),e.fF.assert(()=>1===Be.columns.levels.length,"dataViewMatrix.columns.levels.length === 1"),e.fF.assert(()=>1===Be.rows.levels.length,"dataViewMatrix.rows.levels.length === 1"),e.fF.assert(()=>_.isEmpty(Be.valueSources),"_.isEmpty(dataViewMatrix.valueSources)");var nt=(0,u.qO)(Be),dt=nt.rows=(0,u.qO)(Be.rows),mt=nt.columns=(0,u.qO)(Be.columns),ie=(mt.levels=(0,u.qO)(mt.levels)).splice(0,1)[0];(dt.levels=(0,u.qO)(dt.levels)).splice(0,0,ie);var Oe=Be.rows.root,lt=dt.root=(0,u.qO)(mt.root);mt.root={children:[]};var gt=(0,u.VW)(lt.children,_t=>{var Ft=(0,u.qO)(_t);return Ft.childIdentityFields=Oe.childIdentityFields,Ft.children=function(Be){if(e.fF.assertAnyValue(Be,"nodes"),!Be)return Be;var nt=(0,u.VW)(Be,dt=>{var mt=(0,u.ED)(dt);return mt.level+=1,mt});return nt||(0,u.ED)(Be)}(Oe.children),Ft});return gt&&(lt.children=gt),nt}(ot),lt=(0,u.qO)(Be);return lt.matrix=Oe,lt}(ot,dt,mt,Cr(nt.drillCapabilities,ie)),ot=function(Be,nt,dt,mt){if(!function(Be,nt,dt,mt){if(_.isEmpty(nt)||!Be||_.isEmpty(dt))return!1;var ot=Be.matrix;if(!ot||!ot.rows||_.isEmpty(ot.rows.levels)||!ot.columns||_.isEmpty(ot.columns.levels))return!1;var ie=[];for(var We of ot.columns.levels)for(var Oe of We.sources)Oe.isMeasure||ie.push(Oe);var lt=[];for(var gt of ot.rows.levels)for(var _t of gt.sources)_t.isMeasure||lt.push(_t);var Ft=[];for(var xt of ot.rows.levels)for(var Wt of xt.sources)Wt.isMeasure&&Ft.push(Wt);if(!_.isEmpty(Ft)||1!==ie.length||lt.length<1)return!1;var tr=_.filter(dt,Lr=>!(0,l.zY)(Lr));if(1!==tr.length)return!1;if(2!==(0,l._1)(tr))return!1;var ar=tr[0].matrix;if(!ar)return!1;var sr=l.nG.fromMatrixRows(ar.rows),Vr=l.nG.fromMatrixColumns(ar.columns);if(_.size(sr)<2||0!==_.size(Vr))return!1;var Tr=_.uniq([].concat(..._.map(lt,Lr=>Object.keys(nt[Lr.index].roles)))),Br=_.uniq([].concat(..._.map(ie,Lr=>Object.keys(nt[Lr.index].roles))));return _.isEqual(sr,[].concat(Br,Tr))&&_.isEqual(mt,Tr)}(Be,nt,mt,dt))return Be;var ot={metadata:{columns:[...Be.metadata.columns||[]]}};if(Be.single&&(ot.single=Be.single),Be.table&&(ot.table=Be.table),Be.matrix){var ie=function(Be){var nt=Be.rows,dt=Be.columns,mt=nt.root,ot=mt.children;e.fF.assert(()=>1===nt.levels.length,"oldRows.levels.length ===1"),e.fF.assert(()=>dt.levels.length>=1,"oldColumns.levels.length >=1"),e.fF.assert(()=>1===dt.levels[0].sources.length,"oldColumns.levels[0].sources.length === 1");var ie={levels:[],root:{children:[]}},Oe={rows:ie,columns:{levels:[],root:{children:[]}},valueSources:Be.valueSources},lt=ie.root.children;for(var gt of(ie.levels.push(dt.levels[0]),ie.root.childIdentityFields=dt.root.childIdentityFields,dt.root.children))void 0!==gt.levelValues&&void 0!==gt.value&&lt.push({children:[],value:gt.value,levelValues:gt.levelValues,identity:gt.identity,level:0});var _t=_.size(Be.valueSources);if(ie.levels.push(nt.levels[0]),_.isEmpty(lt))return Oe;for(var Ft in ot){var xt=ot[Ft];for(var Wt in xt.values){var Yt=lt[Math.floor(Wt/_t)];Yt.childIdentityFields||(Yt.childIdentityFields=mt.childIdentityFields);var ar=xt.values[Wt];if(null!=ar){var sr=Yt.children[Ft];sr||Yt.children.push(sr={level:Yt.level+1,value:xt.value,levelValues:xt.levelValues,values:{},identity:xt.identity}),sr.values[Wt%_t]=ar}}}return Oe}(Be.matrix);_.isEmpty(ie.valueSources)||(0,Se.CF)(ie.columns)||(ot.matrix=ie)}return ot}(ot,nt.selectTransforms,Cr(nt.drillCapabilities,ie),mt),ot}(nt,We),lt=function(Be,nt,dt,mt,ot,ie){e.fF.assertValue(nt,"transformContext");var We=[],Oe=nt.transforms.splits;if(_.isEmpty(Oe))We.push(Or(Be,nt,dt,mt,null,ot,ie));else for(var lt of Oe){var gt=Or(Be,nt,dt,mt,lt.selects,null,ie);We.push(gt)}return We}(Oe,We,Be.featureSwitches,ie,Be.bypassConcatenation,Be.orderIndependentSelectorMatching);return{dataViews:lt=(0,ce.KH)({visualDataViews:lt,dataRoles:We.dataRoles,objectDescriptors:dt,objectDefinitions:mt.objects,transformSelects:mt.selects,applicableDataViewMappings:We.applicableRoleMappings,roleKindByQueryRef:We.roleKindByQueryRef,queryProjectionsByRole:We.queryProjectionsByRole,visualStyle:We.visualStyle,featureSwitches:Be.featureSwitches}),warnings:ie}}function Sr(Be,nt,dt,mt){if(nt&&nt.objects){var ot={metadata:{columns:[]}};return(0,c.ni)(ot,0,Be,nt.objects,nt.selects,dt,mt),[ot]}return[]}function Or(Be,nt,dt,mt,ot,ie,We){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"transformContext"),e.fF.assert(()=>!ot||_.every(ot,(Vr,Tr)=>!Vr||nt.selectTransforms?.[Tr]),"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var Oe=(0,u.ED)(Be);Oe.metadata=(0,u.ED)(Be.metadata),Oe=function(Be,nt){if(e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"transformContext"),(0,t.Js)(nt.visualCapabilitiesDataViewKinds)<=1)return Be;var mt=nt.applicableDataViewKinds;if(0===(0,t.Js)(mt))return Be;var ie=(0,u.qO)(Be);return ie.categorical&&!(0,t.yE)(mt,1)&&(ie.categorical=void 0),ie.matrix&&!(0,t.yE)(mt,2)&&(ie.matrix=void 0),ie.table&&!(0,t.yE)(mt,8)&&(ie.table=void 0),ie.tree&&!(0,t.yE)(mt,16)&&(ie.tree=void 0),ie.single&&!(0,t.yE)(mt,4)&&(ie.single=void 0),ie}(Oe,nt);var lt=nt.visualCapabilitiesDataViewKinds,gt=nt.visualCapabilitiesRoleMappings,_t=nt.selectTransforms,Ft=nt.expandCollapseCapabilities,xt=nt.objectDescriptors,Wt=nt.visualStyle,tr=nt.transforms?.roles,Yt=tr?.isDrillDisabled,ar={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},sr=[];return Oe=function(Be,nt,dt,mt,ot,ie,We,Oe,lt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"targetDataViewKinds"),e.fF.assert(()=>0===nt||!_.isEmpty(dt),"if targetDataViewKinds !== None, then roleMappings must be non-empty"),e.fF.assertAnyValue(mt,"selectTransforms"),e.fF.assertValue(ot,"columnRewrites"),e.fF.assertValue(ie,"matrixTransformationContext"),e.fF.assertValue(We,"DataViewTransform.transformSelects - visualStyle");var gt=new me.Q(lt,We);return ot.length=0,mt&&(Be.metadata.columns=function(Be,nt,dt,mt){if(e.fF.assertValue(Be,"columns"),!nt)return Be;for(var ot=(0,u.ED)(Be),ie={},We=function(){var Yt=Be[Oe],ar=nt[Yt.index];ie[Yt.index]=!0;var sr=Yt;if(ar)sr=ot[Oe]=Dt(Yt,ar);else if(!_.some(Be,Vr=>Vr.formatSource&&Vr.formatSource.formatString===Yt))return 1;dt.push({from:Yt,to:sr})},Oe=0,lt=Be.length;Oe<lt;Oe++)We();if(mt)for(var gt=0;gt<nt.length;gt++)if(!ie[gt]){var _t=nt[gt],Ft={displayName:_t.displayName,index:gt,identityExprs:_t.identityExprs};Ft=St(_t,Ft),ot.push(Ft)}var xt={};for(var Wt of ot)if(Wt.roles&&!Wt.groupName&&Wt.index)for(var tr in Wt.rolesIndex||(Wt.rolesIndex={}),Wt.roles)void 0===xt[tr]&&(xt[tr]=0),Wt.roles[tr]&&(Wt.rolesIndex[tr]=[xt[tr]++]);return e.fF.assert(()=>_.every(dt,Yt=>Yt.from.index===Yt.to.index),"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),ot}(Be.metadata.columns,mt,ot,Oe.visualCapabilitiesKeepAllMetadataColumns),function(Be,nt,dt){if(e.fF.assertValue(Be,"dataView"),e.fF.assertAnyValue(dt,"selects"),dt)for(var ot,mt=Be.metadata.columns,ie=0,We=dt.length;ie<We;ie++){var Oe=dt[ie],lt=Oe&&Oe.aggregateSources;if(lt){ot||(ot=(0,ir._x)(Be,dt));var gt=Bt(mt,ie,Oe),_t=gt.aggregates={},Ft=o.Ge.fromDescriptor(gt.type),xt=lr(nt,ot,dt,Ft,lt.min);void 0!==xt&&(_t.min=xt),void 0!==(xt=lr(nt,ot,dt,Ft,lt.max))&&(_t.max=xt)}}}(Be,gt,mt)),Be.categorical&&(0,t.yE)(nt,1)&&(Be.categorical=function(Be,nt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"columnRewrites");var dt=(0,u.ED)(Be);function mt(Oe){var{source:lt,rootSource:gt}=function(Be,nt){var dt={},mt=Be.source,ot=Be.source.rootSource;for(var ie of nt)ie.from===mt&&(dt.source=ie.to),ie.from===ot&&(dt.rootSource=ie.to);return dt}(Oe,nt);if(lt){var _t=(0,u.ED)(Oe);return _t.source=lt,gt&&(_t.source.rootSource=gt),_t}}var ot=(0,u.VW)(Be.categories,mt);if(ot&&(dt.categories=ot),Be.values){var ie=(0,u.VW)(Be.values,mt)||(0,u.qO)(Be.values);if(dt.values=ie,ie.source){var We=kt(ie.source,nt);We&&(ie.source=We)}}return p(dt),dt}(Be.categorical,ot),Be=function(Be,nt){e.fF.assertValue(Be,"dataView");var dt,mt=function(Be,nt){if(Be&&!_.isEmpty(nt)){var dt=Be.categories;if(!_.isEmpty(dt)){var mt=Be.values;if(!_.isEmpty(mt)&&!mt.grouped().some(lt=>!!lt.identity))for(var ie,ot=function(){var lt=nt[We].categorical;if(!lt)return 0;for(var gt of(e.fF.assert(()=>_.filter(dt,Wt=>Hr(Wt.source.roles,lt.values)).length<=1,"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories."),dt)){var _t=gt.source.roles;if(Hr(_t,lt.values)){var Ft=lt.categories;if(br(_t,Ft)||Wr(_t,Ft))return{v:{type:2,selfCrossJoinCategory:gt}};if(1===dt.length)return{v:{type:1}}}}},We=0,Oe=nt.length;We<Oe;We++)if(0!==(ie=ot())&&ie)return ie.v}}}(Be.categorical,nt);if(mt)switch(mt.type){case 1:dt=function(Be){e.fF.assertValue(Be,"dataView");var nt=Be.categorical;if(!nt)return null;var dt=nt.categories;if(!dt||1!==dt.length)return null;var mt=nt.values;if(_.isEmpty(mt)||mt.source)return null;for(var ot=dt[0],ie=ot.identity,We=ot.values,Oe=[],lt=[],gt=new fe,_t=0,Ft=We.length;_t<Ft;_t++)for(var xt=We[_t],Wt=ie[_t],tr=0,Yt=mt.length;tr<Yt;tr++){var ar=mt[tr],sr=gt.getPivotedDynamicFormatColumn(ar.source,_t);if(void 0===sr&&(sr=(0,u.ED)(ar.source)),ar.identity)return null;if(sr.groupName=xt,sr.rootSource=ar.source,sr.formatSource?.formatString){var Vr=sr.formatSource.formatString;gt.trackOriginalDynamicFormatColumn(tr,Vr);var Tr=(0,u.ED)(Vr);sr.formatSource={formatString:Tr},gt.addPivotedDynamicFormatColumn(tr,_t,Tr)}var Br={source:sr,values:[ar.values[_t]],identity:Wt,min:ar.min,max:ar.max,subtotal:ar.subtotal},Lr=ar.highlights;Lr&&(Br.highlights=[Lr[_t]]),Oe.push(sr),lt.push(Br)}var kr=(0,u.ED)(Be.metadata);return kr.columns=Oe,{metadata:kr,categorical:{values:mt=(0,c.Yv)(lt,ot.identityFields,ot.source)},matrix:Be.matrix}}(Be);break;case 2:e.fF.assertValue(mt.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),dt=function(Be,nt){if(e.fF.assertValue(Be,"dataView"),e.fF.assert(()=>!nt||_.includes(Be.categorical.categories,nt),"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),Be.categorical&&nt){var dt=Be.categorical;if(!(_.isEmpty(dt.categories)||dt.values&&dt.values.source)){var mt=function(Be,nt){return e.fF.assertValue(Be,"dataViewCategorical"),e.fF.assertValue(nt,"selfCrossJoinCategory"),e.fF.assert(()=>_.includes(Be.categories,nt),"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),nt.source.identityExprs||(1===Be.categories.length?nt.identityFields:void 0)}(dt,nt);if(!_.isEmpty(mt))return function(Be,nt,dt,mt){e.fF.assertValue(Be,"dataViewMetadata"),e.fF.assertValue(nt,"dataViewCategorical"),e.fF.assertValue(nt.categories,"dataViewCategorical.categories"),e.fF.assertValue(dt,"selfCrossJoinCategory"),e.fF.assert(()=>_.size(dt.values)===_.size(dt.identity),"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),e.fF.assertValue(mt,"seriesGroupIdentityFields");var ie=dt.values.length;if(0!==ie){var We=nt.values?nt.values.grouped()[0].values:[],Oe=function(Be,nt,dt,mt){e.fF.assertValue(Be,"category"),e.fF.assertValue(nt,"categoryLength"),e.fF.assertValue(dt,"measures"),e.fF.assertValue(mt,"seriesGroupIdentityFields");var ot=function(Be){e.fF.assertValue(Be,"length");for(var nt=new Array(Be),dt=0;dt<Be;dt++)nt[dt]=null;return nt}(nt),ie=function(Be,nt){e.fF.assertValue(Be,"category"),e.fF.assert(()=>_.size(Be.values)===_.size(Be.identity),"_.size(category.values) === _.size(category.identity)"),e.fF.assertValue(!_.isEmpty(nt),"!_.isEmpty(seriesGroupIdentityFields)");for(var dt=Be.identity,mt=Be.values,ot=[],ie={},We=0,Oe=_.size(dt);We<Oe;We++){var gt=(0,y.J2)(dt[We].expr,nt),_t=gt&&(0,T.TZ)(gt),Ft=_t&&_t.key,xt=ie[Ft],Wt=void 0;void 0===xt?(ot.push(Wt={identity:_t,groupValue:mt[We],groupIndex:ot.length,valueRowIndices:[]}),ie[Ft]=Wt.groupIndex):Wt=ot[xt],Wt.valueRowIndices.push(We)}return e.fF.assert(()=>(0,a.pT)(ot,(tr,Yt)=>tr.groupIndex-Yt.groupIndex),"post-condition: seriesGroups is sorted by group index"),ot}(Be,mt);if(!_.isEmpty(ie)){var We=_.map(ie,Oe=>{var lt=Oe.valueRowIndices;return _.map(dt,_t=>{var Ft={values:Ut(ot,_t.values,lt)};return _t.highlights&&(Ft.highlights=Ut(ot,_t.highlights,lt)),Ft})});return{groupColumn:{source:Be.source,identityFrom:{fields:mt,identities:_.map(ie,Oe=>Oe.identity)},values:_.map(ie,Oe=>Oe.groupValue)},valueColumns:_.map(dt,Oe=>({source:Oe.source})),data:We}}}(dt,ie,We,mt);if(Oe){var lt=(0,Me.h)().withCategories(nt.categories).withGroupedValues(Oe).build();return(Be=(0,u.ED)(Be)).columns=lt.metadata.columns,{metadata:Be,categorical:lt.categorical}}}}(Be.metadata,dt,nt,mt)}}}(Be,mt.selfCrossJoinCategory)}return dt||Be}(Be,dt)),Be.matrix&&(0,t.yE)(nt,2)&&(Be.matrix=function(Be,nt,dt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"columnRewrites");var mt=(0,u.ED)(Be),ot=gt=>kt(gt,nt);function ie(gt){var _t=null,Ft=(0,u.VW)(gt.levels,xt=>{var Wt=null,tr=(0,u.VW)(xt.sources,ot);if(tr&&(Wt=er(Wt,xt,ar=>ar.sources=tr)),xt.valueSources){e.fF.assert(()=>_.isEqual(_.keys(xt.valueSources),["0"]),"Scoped Measures with column groupings are not supported"),e.fF.assertValue(xt.valueSources[0],"Empty Scoped measures metadata");var Yt=(0,u.VW)(xt.valueSources[0],ot);Yt&&(Wt=er(Wt,xt,ar=>ar.valueSources={0:Yt}))}return Wt});return Ft&&(_t=er(_t,gt,xt=>xt.levels=Ft)),_t}var We=ie(mt.rows);We&&(mt.rows=We,dt.rowHierarchyRewritten=!0);var Oe=ie(mt.columns);Oe&&(mt.columns=Oe,dt.columnHierarchyRewritten=!0);var lt=(0,u.VW)(mt.valueSources,ot);return lt&&(mt.valueSources=lt),mt}(Be.matrix,ot,ie),function(Be,nt){if(Be&&!_.isEmpty(nt)){var dt=Be.rows.levels;if(!(dt.length<1)){var mt=Be.rows.root.children;if(mt&&0!==mt.length)for(var ot=dt[0].sources[0].roles,ie=0,We=nt.length;ie<We;ie++){var Oe=nt[ie].matrix;if(Oe&&!Wr(ot,Oe.rows)&&Wr(ot,Oe.columns))return!0}}}}(Be.matrix,Oe.applicableRoleMappings)&&Z(Be.matrix,ie)),Be.table&&(0,t.yE)(nt,8)&&(Be.table=function(Be,nt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"columnRewrites");var dt=(0,u.ED)(Be),ot=(0,u.VW)(Be.columns,ie=>kt(ie,nt));return ot&&(dt.columns=ot),dt}(Be.table,ot)),Be.single&&(0,t.yE)(nt,4)&&(Be.single=function(Be,nt){var dt=kt(Be.column,nt);return dt&&((Be=(0,u.qO)(Be)).column=dt),Be}(Be.single,ot)),Be}(Oe,lt,gt,_t,sr,ar,Wt,nt,dt),(0,c.ni)(Oe,nt.visualCapabilitiesDataViewKinds,xt,nt.transforms.objects,_t,Wt,dt,mt,We),Oe=function(Be,nt,dt,mt,ot){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"transformContext"),e.fF.assertValue(mt,"matrixTransformationContext"),e.fF.assertAnyValue(ot,"selectsToInclude");var ie=nt.projectionOrdering,We=nt.applicableRoleMappings,Oe=(0,u.qO)(Be);if(function(Be,nt,dt){if(nt){var mt=new Array(dt.length);for(var ot of Be)if(void 0!==ot.index&&void 0!==ot.roles&&null==ot.groupName)for(var ie in mt[ot.index]=ot,ot.rolesIndex=ot.rolesIndex||{},ot.roles)ot.roles[ie]&&(ot.rolesIndex[ie]=[]);for(var We in nt)for(var Oe=nt[We],lt=0;lt<Oe.length;lt++){var _t=mt[Oe[lt]];_t&&_t.rolesIndex[We].push(lt)}}}(Oe.metadata.columns,ie,dt),Oe.table&&(0,t.yE)(nt.applicableDataViewKinds,8)&&function(Be,nt,dt){if(!nt)return Be;var mt=function(Be,nt){var dt=Object.keys(Be);if(1===dt.length){var mt=dt[0],ot=_.map(nt,We=>We.from.index);return function(Be,nt){if(!(0,a.NF)(Be,nt,(We,Oe)=>We===Oe)){for(var dt=[],mt=0,ot=nt.length;mt<ot;++mt)dt[mt]=Be.indexOf(nt[mt]);return dt}}(ot,Be[mt])}}(nt,dt);if(!mt)return Be;var ot=We=>{for(var Oe=mt.length,lt=new Array(Oe),gt=0;gt<Oe;gt++)lt[gt]=We[mt[gt]];return lt};if((Be=(0,u.qO)(Be)).columns=ot(Be.columns),_.isEmpty(Be.rows)||(Be.rows=(0,u.VW)(Be.rows,We=>{var Oe=ot(We);return We.objects&&(Oe.objects=ot(We.objects)),Oe})),Be.totals){var ie=ot(Be.totals);Be.totals.objects&&(ie.objects=ot(Be.totals.objects)),Be.totals=ie}}(Oe.table,ie,dt),Oe.matrix&&(0,t.yE)(nt.applicableDataViewKinds,2)){var lt=_.filter(We,gt=>!!gt.matrix);e.fF.assertValue(0!==lt.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),e.fF.assertValue(lt.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),Oe.matrix=function(Be,nt,dt,mt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"matrixMapping"),e.fF.assertAnyValue(dt,"projectionOrdering"),e.fF.assertValue(mt,"context");var ot=Be;if(dt){ot=function(Be,nt,dt,mt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"matrixRoleMapping"),e.fF.assertValue(dt,"projectionOrdering"),e.fF.assertValue(mt,"context");var ot=Be.valueSources,ie=Ge(dt,nt.values,ot);if(de(ot,ie))return Be;e.fF.assert(()=>ie.length>0||!_.isEmpty(ot),"Nothing to re-order!");var We=(0,u.qO)(Be),Oe=We.columns.levels,lt=[];Oe.length>0&&(lt=Oe[0].sources.filter(_t=>_t.isMeasure&&null!=_t.index&&!_.isEmpty(_t.roles)&&!_.find(ie,Ft=>Ft.metadataColumn===_t))),We.rows=Pe(We.rows,We.valueSources,ie,lt);var gt=_.map(ie,_t=>_t.metadataColumn);return We.valueSources=gt,We.valueSources=We.valueSources.concat(lt),We.columns=function(Be,nt,dt,mt){e.fF.assertValue(Be,"prototypeColumnHierarchy"),e.fF.assertValue(nt,"newValueSources");var lt,ot=Be.levels,ie=(0,Se.Lt)(ot),Oe=(ie?_.size(ot)>=2:_.size(ot)>=1)?nt.length>=2:nt.length>=1;return lt=ie?Oe?function(Be,nt,dt,mt){e.fF.assert(()=>Be&&(0,Se.Lt)(Be.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),e.fF.assertValue(nt,"newValueSources");var ot=(0,u.qO)(Be),ie=ot.levels=(0,u.qO)(ot.levels),We=ie.length-1,Oe=ie[We]=(0,u.qO)(ie[We]);return Oe.sources=nt,ot.root=(0,Se.no)(ot.root,We,!0),(0,Se.w1)(ot.root,lt=>{if(at(lt,We)){var gt=tt(We,nt.length,lt,mt);if(0===We&&dt.length>0){for(var _t=Oe.sources.length,Ft=0;Ft<dt.length;Ft++)gt.push({level:0,levelSourceIndex:_t+Ft});lt.children=gt,Oe.sources.push(...dt||[])}else lt.children=gt;return 2}return 1}),ot}(Be,nt,dt,mt):function(Be){e.fF.assert(()=>Be&&(0,Se.Lt)(Be.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var nt=(0,u.qO)(Be),dt=nt.levels=(0,u.qO)(nt.levels),mt=dt.length-1;return dt.splice(mt,1),nt.root=(0,Se.no)(nt.root,mt,!0),(0,Se.w1)(nt.root,ot=>at(ot,mt)?(ot.children=void 0,2):1),nt}(Be):Oe?function(Be,nt){e.fF.assert(()=>Be&&!(0,Se.Lt)(Be.levels),"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),e.fF.assertValue(nt,"newValueSources");var dt=(0,u.qO)(Be),mt=dt.levels=(0,u.qO)(dt.levels);mt.push({sources:nt});var ie=mt.length-1;return dt.root=(0,Se.no)(dt.root,ie,!0),(0,Se.w1)(dt.root,We=>(0,Se.N9)(We)?(We.children=tt(ie,nt.length,We),2):1),dt}(Be,nt):Be,lt}(We.columns,[...gt||[]],lt,ie),mt.hierarchyTreesRewritten=!0,We}(ot,nt,dt,mt),ot=function(Be,nt,dt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"applicableDataViewMapping"),e.fF.assertValue(dt,"projectionOrdering");var gt,ot=je(dt,l.nG.fromMatrixRows(nt.rows)),ie=Ze(Be.rows,ot),Oe=je(dt,l.nG.fromMatrixColumns(nt.columns)),lt=Ze(Be.columns,Oe);return(ie||lt)&&((gt=(0,u.qO)(Be)).rows=ie||gt.rows,gt.columns=lt||gt.columns),gt||Be}(ot,nt,dt);var ie=nt.rows?.values;_.isEmpty(ie)||(ot=function(Be,nt,dt,mt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"scopedMeasuresRoleMapping"),e.fF.assertValue(dt,"projectionOrdering"),e.fF.assertValue(mt,"context");for(var ot=Be,ie=0;ie<Be.rows.levels.length;ie++){var Oe=(0,Se.vC)(Be.rows.levels[ie]);if(!_.isEmpty(Oe)){var lt=[];ie===Be.rows.levels.length-1&&(e.fF.assert(()=>(0,Se.pr)(Be.columns)>0,"Scoped measures at last row level aren't expected without Column grouping"),lt=Ge(dt,nt,Oe)),de(Oe,lt)||((ot=(0,u.qO)(ot)).rows=Pe(ot.rows,Oe,lt,[],ie),ot.rows.levels=(0,u.qO)(ot.rows.levels),(ot.rows.levels[ie]=(0,u.qO)(ot.rows.levels[ie])).valueSources=lt.length>0?{0:_.map(lt,_t=>_t.metadataColumn)}:void 0,mt.hierarchyTreesRewritten=!0)}}return ot}(ot,ie,dt,mt))}return ot}(Oe.matrix,lt[0].matrix,ie,mt)}return Oe=function(Be,nt,dt,mt,ot){e.fF.assertValue(Be,"prototype"),e.fF.assertAnyValue(nt,"applicableRoleMappings"),e.fF.assertAnyValue(dt,"dataRoles"),e.fF.assertAnyValue(mt,"projectionOrdering"),e.fF.assertAnyValue(ot,"splitSelects");var ie,We=_.chain(nt).filter(gt=>gt.categorical&&!(0,l.zY)(gt)).map(gt=>gt.categorical).value();if(Be.categorical&&We.length>=1){var Oe=Be.categorical,lt=function(Be,nt,dt,mt){if(e.fF.assertValue(Be,"prototypeCategorical"),e.fF.assertValue(nt,"categoricalRoleMappingsWithoutRegression"),e.fF.assert(()=>_.every(nt,We=>!!We),"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),e.fF.assertAnyValue(dt,"projectionOrdering"),e.fF.assertAnyValue(mt,"splitSelects"),!_.isEmpty(Be.categories)){var ot=(0,l.y4)(nt,l.O2);if(ot){var ie=function(Be,nt,dt){if(e.fF.assertValue(Be,"roles"),e.fF.assertAnyValue(nt,"projectionOrdering"),e.fF.assertAnyValue(dt,"splitSelects"),nt){var mt=_.reduce(Be,(ot,ie)=>{var We=_.filter(nt[ie],Oe=>!dt||dt[Oe]);return ot.push(...We||[]),ot},[]);return mt}}(ot,dt,mt);if(ie)return function(Be,nt,dt){e.fF.assertValue(Be,"prototypeCategorical"),e.fF.assertValue(nt,"projectionOrder"),e.fF.assertValue(dt,"categoryRoles");var mt=Be.categories;if(_.isEmpty(mt))e.fF.assert(()=>_.isEmpty(nt),"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function(Be,nt){return e.fF.assertValue(Be,"categories"),e.fF.assertValue(nt,"selectIndexOrder"),Be.length===nt.length&&_.every(nt,(dt,mt)=>Be[mt].source.index===dt)}(mt,nt)){var ot=_.map(mt,_t=>_t.source),ie=(0,m.jh)(ot,nt,dt),We=_.chain(ie).filter(_t=>void 0!==_t.projectionOrderIndex).sortBy(_t=>_t.projectionOrderIndex).value(),Oe=_.map(We,_t=>mt[_t.sourceIndex]),lt=(0,u.qO)(Be);if(_.isEmpty(Oe))lt.categories=void 0;else{var gt=(0,s.OC)(mt);gt&&(Oe=(0,s.gp)(Oe,gt)||Oe),lt.categories=Oe}return lt}}(Be,ie,ot)}}}(Oe,We,mt,ot);lt=function(Be,nt,dt,mt){e.fF.assertValue(Be,"prototypeCategorical"),e.fF.assertAnyValue(nt,"dataRoles"),e.fF.assertAnyValue(dt,"projectionOrdering"),e.fF.assertAnyValue(mt,"splitSelects");var ot=Be.values;if(ot){var ie=function(Be){if(d(Be)){var nt=(0,c.Yv)(Be.filter(dt=>!h(dt)),void 0,Be.source);return nt.grouped=Be.grouped.bind(nt),nt}}(ot),We=function(Be){e.fF.assertValue(Be,"values"),e.fF.assert(()=>!d(Be),"Dynamic format values should have already been removed");var dt,mt,ot,ie,nt=Be.source,We=Be.grouped();if(nt){mt=B(We);var lt=(dt=We.length)*_.size(mt),gt=Be.length-lt;gt>0&&(ot=lt,ie=_.chain(Be).takeRight(gt).map(_t=>_t.source).value())}else ot=0,ie=B(We);return{secondaryAxisSource:nt,dynamicSeriesGroupCount:dt,dynamicSeriesMeasureSources:mt,staticSeriesMeasureStartingIndex:ot,staticSeriesMeasureSources:ie}}(ie||ot),Oe=function(Be,nt,dt,mt){if(e.fF.assertValue(Be,"valueColumnsInfo"),e.fF.assertAnyValue(nt,"dataRoles"),e.fF.assertAnyValue(dt,"projectionOrdering"),e.fF.assertAnyValue(mt,"splitSelects"),!dt)return function(Be,nt){e.fF.assertValue(Be,"valueColumnsInfo"),e.fF.assertAnyValue(nt,"splitSelects");var ot=(Be.dynamicSeriesMeasureSources||[]).concat(Be.staticSeriesMeasureSources||[]),ie=_.chain(ot).filter(We=>!nt||!!nt[We.index]).map(We=>We.index).uniq().value();return ie}(Be,mt);var ot=_.reduce(nt,(_t,Ft,xt)=>{var Wt=Ft.name;return void 0===_t[Wt]&&(_t[Wt]=xt),_t},{}),Oe=(Be.dynamicSeriesMeasureSources||[]).concat(Be.staticSeriesMeasureSources||[]),lt=_.chain(Oe).filter(_t=>!mt||!!mt[_t.index]).uniqBy(_t=>_t.index).map(_t=>{var Ft=_t.roles;return Ft?_.filter(Object.keys(Ft),xt=>Ft[xt]):[]}).flatten().uniq().sortBy(_t=>ot[_t]).value(),gt=_.chain(lt).map(_t=>dt[_t]||[]).flatten().filter(_t=>!mt||!!mt[_t]).uniq().value();return gt}(We,nt,dt,mt);if(ie=function(Be,nt,dt){e.fF.assertValue(Be,"prototypeValues"),e.fF.assertValue(nt,"prototypeValueColumnsInfo"),e.fF.assertValue(dt,"measureRolesProjectionOrder"),e.fF.assert(()=>!d(Be),"Dynamic format values should have already been removed");var mt=function(Be,nt,dt){if(e.fF.assertValue(Be,"prototypeValues"),e.fF.assertValue(nt,"prototypeValueColumnsInfo"),e.fF.assertValue(dt,"measureRolesProjectionOrder"),nt.dynamicSeriesGroupCount&&!_.isEmpty(nt.dynamicSeriesMeasureSources)){var mt=N(nt.dynamicSeriesMeasureSources,dt);if(mt){var ot=mt.length;if(0===ot)return[];for(var ie=nt.dynamicSeriesMeasureSources.length,We=nt.dynamicSeriesGroupCount,Oe=[],lt=0;lt<We;lt++)for(var gt=lt*ie,_t=0;_t<ot;_t++)Oe.push(Be[gt+mt[_t].sourceIndex]);return Oe}}}(Be,nt,dt),ot=function(Be,nt,dt){if(e.fF.assertValue(Be,"prototypeValues"),e.fF.assertValue(nt,"prototypeValueColumnsInfo"),e.fF.assertValue(dt,"measureRolesProjectionOrder"),!_.isEmpty(nt.staticSeriesMeasureSources)){var mt=N(nt.staticSeriesMeasureSources,dt);if(mt){var ot=mt.length;if(0===ot)return[];for(var ie=nt.staticSeriesMeasureStartingIndex,We=[],Oe=0;Oe<ot;Oe++)We.push(Be[ie+mt[Oe].sourceIndex]);return We}}}(Be,nt,dt);if(mt||ot){var ie=(0,u.qO)(Be);return mt?ot?(e.fF.assert(()=>_.isEmpty(mt)||_.isEmpty(ot),"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),ie.splice(0,ie.length),ie.push(...mt||[]),ie.push(...ot||[])):(e.fF.assertValue(nt.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),e.fF.assertValue(nt.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),ie.splice(0,nt.dynamicSeriesMeasureSources.length*nt.dynamicSeriesGroupCount,...mt||[])):ot&&(e.fF.assertValue(nt.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),e.fF.assertValue(nt.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),ie.splice(nt.staticSeriesMeasureStartingIndex,nt.staticSeriesMeasureSources.length,...ot||[])),ie}}(ie||ot,We,Oe)||ie,ie=function(Be,nt){if(e.fF.assertValue(Be,"prototypeValues"),e.fF.assertAnyValue(nt,"splitSelects"),nt&&Be.source&&!nt[Be.source.index]){var mt=(0,u.qO)(Be);return mt.source=void 0,mt.identityFields=void 0,mt}}(ie||ot,mt)||ie,ie){var lt=!!ie.source,gt=ie.length>0,_t=(0,u.qO)(Be);return lt||gt?(_t.values=ie,p(_t)):_t.values=void 0,_t}}}(lt||Oe,dt,mt,ot),lt&&((ie=(0,u.qO)(Be)).categorical=lt)}return ie||Be}(Oe,We,nt.dataRoles,ie,ot),Oe}(Oe,nt,sr,ar,ot),Oe=function(Be,nt,dt,mt,ot,ie,We){if(_.isEmpty(dt)||!ot)return Be;var Oe=ot&&ot.roles;if(_.isEmpty(Oe)||We)return Be;e.fF.assertValue(Be,"dataView"),e.fF.assertValue(nt,"targetDataViewKinds"),e.fF.assertNonEmpty(mt,"selectTransforms"),e.fF.assertAnyValue(ie,"expansionStates");var lt=ot.addDataViewFlags;if(e.fF.assertValue(lt,"addDataViewFlags"),!0!==(lt.propertyIdentifier?(0,qe.NA)(Be.metadata.objects,lt.propertyIdentifier,lt.defaultValue):lt.defaultValue))return Be;var _t=_.find(dt,Wt=>Wt.matrix),Ft=_t&&_t.matrix;if(Ft&&Be.matrix&&(0,t.yE)(nt,2)){var xt=function(Be,nt,dt,mt,ot,ie,We){e.fF.assertNonEmpty(mt,"Expand/Collapse is not supported");var Oe=l.nG.fromMatrixRows(nt.rows),lt=ot&&(0,C.Vt)(ot,Oe),gt=function(Be,nt,dt,mt,ot,ie,We){if(e.fF.assertAnyValue(ot,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(nt,xt=>!_.includes(mt,xt))){var Oe=0,lt=function(xt){_.some(nt,Wt=>xt.roles[Wt])&&Oe++};for(var gt of dt)lt(gt);if(Oe>0){(Be=(0,u.qO)(Be)).levels=(0,u.qO)(Be.levels),e.fF.assertValue(Be.levels,"hierarchy.levels");for(var _t=0;_t<Be.levels.length;_t++)_t<Oe-1&&(Be.levels[_t]=(0,u.qO)(Be.levels[_t]),Be.levels[_t].canBeExpanded=!0);var Ft=yt(Be.root,Be.levels,ot&&ot.root,ot&&ot.levels,Oe);return Ft&&(Be.root=Ft),We&&ot&&function(Be,nt,dt){e.fF.assertValue(Be,"hierarchy"),e.fF.assertValue(nt,"metadataColumns"),e.fF.assertValue(dt,"expansionState");var mt=dt.levels;if(!_.isEmpty(mt)){var ot={};for(var ie of nt)ot[ie.queryName]=ie;var We=new Array(mt.length),Oe=Be.levels,lt=0,gt=function(){var xt=_t.queryRefs;if(!_.isEmpty(xt)&&!_.isEmpty(Oe)&&Oe[lt]){var Wt=Oe[lt].sources,tr=function(ar){e.fF.assert(()=>_.some(Wt,sr=>sr.queryName===ar),"ExpansionState levels should match matrix levels.")};for(var Yt of xt)tr(Yt)}We[lt++]={isCollapsed:_t.isCollapsed,isPinned:_t.isPinned,isLocked:_t.isLocked,AIInformation:_.cloneDeep(_t.AIInformation),sources:_.map(xt,ar=>ot[ar])}};for(var _t of mt)gt();var Ft=$t(dt.root,We,void 0,i.m.getPrimitiveValuesFromSQConstantExpr);Be.expansionStates=[{levels:We,root:Ft}]}}(Be,ie,ot),Be}}}(Be.rows,Oe,dt,mt,lt,ie,We);if(gt)return(Be=(0,u.qO)(Be)).rows=gt,Be}(Be.matrix,Ft,mt,Oe,ie,Be.metadata.columns,ot.addDataViewExpansionState);xt&&((Be=(0,u.qO)(Be)).matrix=xt)}return Be}(Oe,lt,gt,_t,Ft,nt.transforms.expansionStates,!!Yt),Oe=function(Be,nt){e.fF.assertValue(Be,"prototype"),e.fF.assertValue(nt,"quarterPrefix");var dt=Be.categorical;if(!dt||_.isEmpty(dt.categories))return Be;var mt=dt.categories,ot=(0,R.A8)(mt[0],U.i);if(!ot||_.isEmpty(ot.values))return Be;for(var ie,We,Oe,gt,lt=[],_t=0,Ft=mt.length;_t<Ft;_t++)for(var xt=mt[_t],Wt=xt.source.type,tr=xt.values,Yt=void 0,ar=void 0,sr=0,Vr=_.size(tr);sr<Vr;sr++){var Br=ot.values[sr];if(null==tr[sr]&&null!=Br){ie||(We=(ie=(0,u.qO)(Be)).categorical=(0,u.qO)(dt),Oe=We.categories=(0,u.qO)(mt)),Yt||(ar=(Yt=Oe[_t]=(0,u.qO)(xt)).values=(0,u.qO)(tr));var Lr=j(Br.min,Wt,nt);ar[sr]=Lr,lt[sr]||(gt||(gt=sr),lt[sr]=[]),lt[sr][_t]=(0,O.kQ)(Lr,Wt)}}for(var kr=function(){for(var Dr=Oe[Ar],qr=function(){var ea=lt[Gr];ea&&(e.fF.assert(()=>ea.length===Dr.identityFields.length,"category values must match category identities"),Dr.identity[Gr]=(0,T.TZ)((0,F.R)(Dr.identityFields,ea)))},Gr=gt,aa=_.size(Dr.identity);Gr<aa;Gr++)qr()},Ar=0,Nr=_.size(Oe);Ar<Nr;Ar++)kr();return ie||Be}(Oe,vr.quarterPrefix),Oe=function(Be){var nt=Be.table;if(nt&&1===nt.columns.length&&nt.columns[0].isMeasure&&1===nt.rows.length&&1===nt.rows[0].length){var mt=nt.rows[0];return Be.single={column:nt.columns[0],value:mt[0]},mt.objects&&(Be.single.objects=mt.objects[0]),Be}return Be}(Oe),ie||(Oe=(0,I.pP)(Oe,xt,nt.applicableRoleMappings,nt.projectionActiveItems,Cr(nt.drillCapabilities,Yt))),ut({dataview:Oe,dataViewMappings:gt,dataRoles:nt.dataRoles}),Oe.metadata&&nt?.transforms?.isDataFilterApplied&&(Oe.metadata.isDataFilterApplied=!0),tr&&Oe.metadata&&(tr.drillableRoles&&(Oe.metadata.dataRoles||(Oe.metadata.dataRoles={}),Oe.metadata.dataRoles.drillableRoles=tr.drillableRoles),void 0!==Yt&&(Oe.metadata.dataRoles||(Oe.metadata.dataRoles={}),Oe.metadata.dataRoles.isDrillDisabled=Yt)),Oe}function Dt(Be,nt){return e.fF.assertValue(Be,"prototypeColumn"),e.fF.assertValue(nt,"select"),St(nt,(0,u.ED)(Be))}function St(Be,nt){return Be.roles&&(nt.roles=Be.roles),Be.type&&(nt.type=Be.type),nt.format=function(Be,nt){return Be.format||nt.format}(Be,nt),Be.displayName&&(nt.displayName=Be.displayName),Be.queryName&&(nt.queryName=Be.queryName),Be.expr&&(nt.expr=Be.expr),Be.sourceFieldParameters&&(nt.sourceFieldParameters=Be.sourceFieldParameters),Be.kpi&&Be.kpi.graphic&&(nt.kpi=Be.kpi),Be.sort&&(nt.sort=Be.sort),null!=Be.sortOrder&&(nt.sortOrder=Be.sortOrder),Be.discourageAggregationAcrossGroups&&(nt.discourageAggregationAcrossGroups=Be.discourageAggregationAcrossGroups),Be.parameter&&(nt.parameter=Be.parameter),Be.relatedObjects&&(nt.relatedObjects=Be.relatedObjects),nt}function Bt(Be,nt,dt){for(var mt of(e.fF.assertValue(Be,"columns"),e.fF.assertValue(nt,"selectIdx"),e.fF.assertValue(dt,"select"),Be))if(mt.index===nt&&void 0===mt.groupName)return mt;var ot=Dt({displayName:dt.displayName},dt);return Be.push(ot),ot}function lr(Be,nt,dt,mt,ot){e.fF.assertValue(nt,"evalContext"),e.fF.assertValue(dt,"selects"),e.fF.assertValue(mt,"type"),e.fF.assertValue(ot,"source");var ie=dt[ot.index];if(ie)return Be.evaluateValue(nt,ie.expr,mt)}function kt(Be,nt){var dt=_.find(nt,mt=>mt.from===Be);if(dt)return dt.to}function er(Be,nt,dt){return Be||(Be=(0,u.ED)(nt)),dt&&dt(Be),Be}function it(Be,nt,dt,mt,ot,ie,We){var Oe=(0,rt.Me)(Be);if(_.isEmpty(Oe.metadataOnce))return{dataViewObjects:void 0};var lt,gt,_t=new me.Q(mt,dt);gt=ie&&We?(0,ir._x)(ie,We):(0,Gt.X)();var Ft=ot?{warnings:[]}:void 0;for(var xt of Oe.metadataOnce){var Wt=xt.selector&&xt.selector.id,tr=xt.selector?.order;Ft&&(Ft.selector=xt.selector);var Yt=(0,rt.PJ)(_t,gt,nt,xt.objects,Ft);Yt&&(lt||(lt={}),(0,qe.PM)(lt,Yt,Wt,tr))}return Ft&&!_.isEmpty(Ft.warnings)?{dataViewObjects:lt,warnings:Ft.warnings}:{dataViewObjects:lt}}function yt(Be,nt,dt,mt,ot){if(!Be.isSubtotal&&Be.level!==ot-1){var ie=!1;if(void 0!==Be.level){if(Be=(0,u.qO)(Be),mt){var Oe=mt[Be.level];Be.isCollapsed=!!(+!(!Oe||!Oe.isCollapsed)^+!(!dt||!dt.isToggled))}else Be.isCollapsed=_.isEmpty(Be.children)||1===Be.children.length&&!!Be.children[0].isSubtotal;ie=!0}if(!_.isEmpty(Be.children))for(var gt=function(){var Ft=Be.children[_t],xt=Ft.identity,Wt=xt&&(0,y.KX)(xt.expr),tr=Wt&&_.find(dt&&dt.children,ar=>(0,a.NF)(ar.identityValues,Wt,Ht.fS)),Yt=yt(Ft,nt,tr,mt,ot);Yt&&((Be=(0,u.qO)(Be)).children=(0,u.qO)(Be.children),Be.children[_t]=Yt,ie=!0)},_t=0;_t<Be.children.length;_t++)gt();return ie?Be:void 0}e.fF.assert(()=>_.isEmpty(Be.children),"Leaf node with children")}function $t(Be,nt,dt,mt){if(Be){var ie,We,ot=Be.identityValues;if(_.isEmpty(ot)||(ie=_.map(ot,mt)),!_.isEmpty(Be.children)){var Oe=Be.children;We=new Array(Oe.length);var lt=0;for(var gt of Oe){var _t=$t(gt,nt,void 0===dt?0:dt+1,mt);We[lt++]=_t}}return{isExpanded:void 0===dt?void 0:!!nt[dt].isCollapsed==!!Be.isToggled,values:ie,children:We}}}function br(Be,nt){if(Be&&nt&&nt.bind)return Be[nt.bind.to]}function Wr(Be,nt){if(Be&&nt&&nt.for)return Be[nt.for.in]}function Hr(Be,nt){if(Be&&nt&&nt.group)return Be[nt.group.by]}function Cr(Be,nt){return nt?[]:Be?.roles??[]}},888021:function(Ce,k,r){r.d(k,{Yv:function(){return Q},ni:function(){return ne}});var a=r(939123),e=r(542666),u=r(265230),t=r(132640),C=r(528836),y=r(606682),i=r(518195),o=r(496899),c=r(123537),h=r(333736),d=r(842864),n=r(278042),s=r(205754);class l{constructor(Pe,Ve){if(this.dataView=Pe,a.fF.assertValue(Pe,"dataView"),Pe){this.columnLeavesPath=(0,n.sx)(Pe.columns.root),this.hasColumnGrouping=(0,n.pr)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(Pe.valueSources,De=>De.queryName),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var Ze=Pe.rows.levels;if(a.fF.assertAnyValue(Ze,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(Ze))for(var Ue=0;Ue<Ze.length;Ue++){var Je=(0,n.vC)(Ze[Ue]);this.scopedValueSourcesByLevel[Ue]=Je,Je&&(this.scopedValuesQueryNamesByLevel[Ue]=_.map(Je,De=>De.queryName))}}}setAsRowNode(Pe){a.fF.assertNonEmpty(Pe,"Invalid context: Empty rowPath"),this.rowPath=Pe,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1}setAsColumnNode(Pe){a.fF.assertNonEmpty(Pe,"Invalid context: Empty columnPath"),this.columnPath=Pe,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1}setAsIntersection(Pe,Ve,Ze,Ue,Je=!1){a.fF.assertValue(Pe,"Invalid context: Undefined intersection"),a.fF.assertNonEmpty(Ve,"Intersection context must have a rowPath"),a.fF.assertNonEmpty(Ze,"Intersection context must have a columnPath"),a.fF.assert(()=>null!=Ue&&Ue>=0,"Intersection context must have a valid nodeValueIndex"),a.fF.assertAnyValue(Je,"By default, FALSE"),this.nodeValue=Pe,this.rowPath=Ve,this.columnPath=Ze,this.nodeValueIndex=Ue,this.forHighlight=!!Je,this.isScopedValue=!1}setAsScopedValue(Pe,Ve,Ze,Ue=!1){a.fF.assertValue(Pe,"Invalid context: Undefined intersection"),a.fF.assertNonEmpty(Ve,"Intersection context must have a rowPath"),a.fF.assertAnyValue(Ue,"By default, FALSE"),this.nodeValue=Pe,this.rowPath=Ve,this.columnPath=void 0,this.nodeValueIndex=Ze,this.forHighlight=!!Ue,this.isScopedValue=!0,a.fF.assert(()=>_.isEqual(_.keys(_.last(Ve).nodeValues),["0"]),"Scoped Values are expected to be grouped by Rows only")}getScopedEvalExprValue(Pe){var Ve=Pe.decomposeGlobalAggregateOfScopedExpr();if(Ve){var Ze=(0,s.T5)(Ve.source,this.getContextValueSources());return Ze?(0,s._L)(Ze,Ve.func):void 0}if(Pe.hasInnerMostScope())return this.getExprValue(Pe.expression);Pe.hasGlobalScope()?a.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):a.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(Pe){return a.fF.assertValue(Pe,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(Pe):this.rowPath?this.evaluateRowHeader(Pe):this.columnPath?this.evaluateColumnHeader(Pe):void a.fF.assertFail("getExprValue - context is empty")}getExprColumn(Pe){return(0,s.T5)(Pe,this.getContextValueSources())}findExprValueSourceIndex(Pe){var Ve=this.getContextValueSources();if(a.fF.assertAnyValue(Ve,"For ScopedValues, DataView may contain cached Data without Value Sources"),!Ve)return-1;var Ze=(0,s.T5)(Pe,Ve);return Ze?Ve.indexOf(Ze):-1}evaluateMatrixMeasure(Pe){a.fF.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),a.fF.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var Ve=this.nodeValue.valueSourceIndex||0,Ze=this.findExprValueSourceIndex(Pe);if(!(Ze<0)){var Ue;if(Ze===Ve)Ue=this.nodeValue;else{var Je=Ze-Ve+this.nodeValueIndex,De=_.last(this.rowPath),ue=this.isScopedValue?(0,n.Lr)(De):De.values;if(Ue=ue?.[Je],!Ue)return}return this.forHighlight?Ue.highlight:Ue.value}}evaluateRowHeader(Pe){a.fF.assert(()=>!this.columnPath,"matrixEvalContext.evaluateRowHeader - context has columnNode"),a.fF.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateRowHeader - context has value");var Ve=this.findExprValueSourceIndex(Pe);if(!(Ve<0)){var Ue,Ze=_.last(this.rowPath);if(Ze&&(Ue=this.shouldConsiderScopedValues(Ze.level)?(0,n.Lr)(Ze):Ze.values,a.fF.assertAnyValue(Ue,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),Ue))return Ue[Ve].value}}evaluateColumnHeader(Pe){a.fF.assert(()=>!this.rowPath,"matrixEvalContext.evaluateColumnHeader - context has rowNode"),a.fF.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateColumnHeader - context has value"),a.fF.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")}getRoleValues(Pe){a.fF.assert(()=>!this.columnPath||!this.nodeValue,"getRoleValues returns values for row groupings only"),a.fF.assert(()=>!this.isScopedValue,"getRoleValues is unimplemented for ScopedMeasures");var Ve=_.last(this.rowPath);if(Ve&&!Ve.isSubtotal){for(var Ze=this.dataView.valueSources,Ue=[],Je=0,De=Ze.length;Je<De;Je++)(0,d.nu)(Ze[Je],Pe)&&Ue.push(Ve.values[Je].value);if(Ue.length>0)return Ue}}getDataView(){return this.dataView}getValueSourcesQueryNames(){return this.valueSourcesQueryNames}getScopedValueSourcesQueryNames(Pe){return this.scopedValuesQueryNamesByLevel[Pe]}getContextValueSourcesQueryNames(){return this.isScopedValue?(a.fF.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames}getContextValueSources(){if(this.nodeValue)return a.fF.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var Pe=this.getRowLevelIndex();return this.shouldConsiderScopedValues(Pe)?this.scopedValueSourcesByLevel[Pe]:this.dataView.valueSources}a.fF.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")}shouldConsiderScopedValues(Pe){return this.hasColumnGrouping||Pe<this.dataView.rows.levels.length-1}getRowLevelIndex(){return a.fF.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level}}var m=r(879972);function V(de){if(_.isEmpty(de))return[];var Pe=[];for(var Ve of de){var Ze=[];for(var Ue of Ve.sources)Ue.identityExprs&&Ze.push(...Ue.identityExprs||[]);_.isEmpty(Ze)||Pe.push(Ze)}return Pe}function g(de,Pe){for(var Ve=[],Ze=de.length,Ue=0;Ue<Ze;Ue++)if(Ve.push(de[Ue]),Pe.matchesKeys(Ve,Ze))return!0;return!1}function f(de,Pe,Ve,Ze,Ue,Je,De,ue,_e){if(a.fF.assertAnyValue(Ze,"dataViewMatrixHierarchy"),a.fF.assertValue(Ue,"objectDescriptors"),a.fF.assertValue(De,"selector"),a.fF.assertValue(Je,"objectDefns"),Ze){var te=Ze.root;if(te){var ke=S(de,Pe,Ve,[te],Ue,Je,De,ue,_e);if(ke){var at=(0,e.qO)(Ze);return at.root=ke,at}}}}function S(de,Pe,Ve,Ze,Ue,Je,De,ue,_e){a.fF.assertValue(Pe,"evalContext"),a.fF.assertValue(Ze,"nodePath"),a.fF.assertValue(Ue,"objectDescriptors"),a.fF.assertValue(De,"selectorInfo"),a.fF.assertValue(Je,"objectDefns");var te=_.last(Ze);return(0,n.N9)(te)?"Rows"===de&&(De.canMatchScopedValue||De.canMatchIntersection)?function(de,Pe,Ve,Ze,Ue,Je,De,ue){a.fF.assertNonEmpty(Ve,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),a.fF.assert(()=>Je.canMatchIntersection||Je.canMatchScopedValue,"Unexpected Selector");var _e=_.last(Ve),te=(0,e.qO)(_e),ke=Je.canMatchScopedValue,at=Je.selector,tt=ke?(0,n.Lr)(_e):_e.values,ut=ke?de.getScopedValueSourcesQueryNames(_e.level)||[]:de.getValueSourcesQueryNames(),ct=ke?ut.length:de.columnLeavesPath.length;if(!_.isEmpty(tt)){tt=(0,e.qO)(tt);for(var Ne=!1,ae=function(be){var Ie=tt[be];if(a.fF.assertAnyValue(Ie,"By-Design, ValueCollection can be sparse"),!Ie)return 0;var ee,Ye=ke?void 0:de.columnLeavesPath[be];if(!function(de,Pe,Ve,Ze,Ue,Je){if(Pe!==de.metadata)return!1;var De=[],ue=[];for(var _e of Ve)_e.identity&&De.push(_e.identity);if(!Ue){for(var te of Ze)te.identity&&De.push(te.identity);_.last(Ze).isSubtotal&&ue.push(...E(Ze)||[])}return _.last(Ve).isSubtotal&&ue.push(...E(Ve)||[]),_.isEmpty(ue)&&(ue=void 0),Je.matches(De,ue)}(Je.selector,ut[Ie.valueSourceIndex||0],Ve,Ye,ke,Je.selectorComparer))return 0;ue&&(ee={warnings:ue,selector:at,targetExpr:(0,t.AV)(at,Pe)});var ve=Xe=>{ke?de.setAsScopedValue(Ie,Ve,be,Xe):de.setAsIntersection(Ie,Ve,Ye,be,Xe);var He=(0,h.PJ)(De,de,Ze,Ue,ee);if(He){var qe=(0,e.qO)(Ie);Xe&&!qe.highlightObjects?qe.highlightObjects={}:!Xe&&!qe.objects&&(qe.objects={}),(0,c.PM)(Xe?qe.highlightObjects:qe.objects,He,at.id,at.order),Ne=!0,Ie=tt[be]=qe}},Te=void 0!==Ie.highlight;switch(at.highlightMatching){case void 0:case 0:ve(!1);break;case 1:ve(!1),Te&&ve(!0);break;case 2:ve(!!Te);break;default:a.fF.assertNever(at.highlightMatching)}},X=0;X<ct;X++)ae(X);if(Ne)return ke?te.nodeValues={0:tt}:te.values=tt,te}}(Pe,Ve,Ze,Ue,Je,De,ue,_e):void 0:function(de,Pe,Ve,Ze,Ue,Je,De,ue,_e){var tt,te=De.selector,ke=De.selectorComparer,at=Pe.getDataView();Ze[0]===at.rows.root?tt=at.rows:Ze[0]===at.columns.root?tt=at.columns:a.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var ut=_.last(Ze),ct=ut.children;a.fF.assertNonEmpty(ct,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var Ne=!1,ae=!1,Le=ut.childIdentityFields,X=[],be=ct[0].level;a.fF.assert(()=>0===be||be<tt.levels.length,"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var Ie=at.valueSources.length>1&&tt===at.columns,Ye=Ie&&be===tt.levels.length-1;if(!_.isEmpty(tt.levels)){var ze=tt.levels[be],ee=ze.sources;if(Ye){X=Pe.getValueSourcesQueryNames();var Te,ve=_.compact(_.map(Ze,Kt=>Kt.identity));ut.isSubtotal&&Ze.length>1&&(Te=Ze[Ze.length-2].childIdentityFields),Ne=null!=De.selector.metadata&&_.some(X,Kt=>Kt===te.metadata)&&ke.matches(ve,Te),ae=!1}else if(!_.isEmpty(Le)){X=_.map(ee,Kt=>Kt.queryName);var Xe=_.map(Ze,Kt=>Kt.childIdentityFields);Ne=null==te.metadata&&ke.matchesKeys(Xe,tt.levels.length-(Ie?1:0));var qe=(0,n.vC)(ze);a.fF.assert(()=>!qe||tt===at.rows,"Scoped measures on Column nodes are not supported"),ae=qe&&null!=te.metadata&&null!=_.find(qe,Kt=>Kt.queryName===te.metadata),a.fF.assert(()=>!Ne||!ae,"A Selector can't match nodes and Scoped measures")}}for(var rt=!1,me=w(ut),Ee=0,fe=ct.length;Ee<fe;Ee++){var Re=!1,re=ct[Ee],se=w(re),Ae=Ze.concat(se),ce=!1;if(Ne||ae){tt===at.rows?Ne&&Pe.setAsRowNode(Ae):tt===at.columns?Pe.setAsColumnNode(Ae):a.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var Me=[];for(var $e of Ae)$e.identity&&Me.push($e.identity);var st=void 0;_.isEmpty(X)||(st=X[re.levelSourceIndex||0]);var pt=void 0;if(re.isSubtotal&&(Ye?Ze.length>1&&(pt=Ze[Ze.length-2].childIdentityFields):pt=Le),(null==te.metadata||te.metadata===st&&!De.isWildcard)&&ke.matches(Me,pt)){ce=!0;var Pt=void 0;_e&&(Pt={warnings:_e,selector:te,targetExpr:(0,t.AV)(te,Ve)});var At=(0,h.PJ)(ue,Pe,Ue,Je,Pt);At&&(Re=!0,se.objects||(se.objects={}),(0,c.PM)(se.objects,At,te.id,te.order))}}if(ce&&!De.isWildcard||S(de,Pe,Ve,Ae,Ue,Je,De,ue,_e)&&(Re=!0),Re&&(rt=!0,me.children[Ee]=se,!De.containsWildcard))break}if(rt)return me}(de,Pe,Ve,Ze,Ue,Je,De,ue,_e)}function E(de){var Pe=_.findLast(de,Ve=>null!=Ve.childIdentityFields);return Pe?Pe.childIdentityFields:[]}function w(de){if(Object.getPrototypeOf(de)!==Object.prototype)return de;var Pe=(0,e.qO)(de);return de.children&&(Pe.children=(0,e.qO)(de.children)),Pe}function L(de,Pe){if(!de||!Pe)return[];var Ve=[];for(var Ze of Pe.levels){var Ue=[];for(var Je of Ze.sources)Je.identityExprs&&(0,o.s)([Je],de)&&Ue.push(...Je.identityExprs||[]);_.isEmpty(Ue)||Ve.push(Ue)}return Ve}var B=r(969143),I=r(129535),W=r(501715),O=r(393789),F=r(113147);function T(de,Pe){return new R(de,Pe)}class R{constructor(Pe,Ve){this.dataView=Pe,this.selectTransforms=Ve,a.fF.assertValue(Pe,"dataView"),a.fF.assertValue(Ve,"selectTransforms")}getExprColumn(Pe){return(0,s.T5)(Pe,this.dataView.columns)}getScopedEvalExprValue(Pe){var Ve=Pe.decomposeGlobalAggregateOfScopedExpr();if(Ve){var Ze=(0,s.T5)(Ve.source,this.dataView.columns);return Ze?(0,s._L)(Ze,Ve.func):void 0}if(Pe.hasInnerMostScope())return this.getExprValue(Pe.expression);Pe.hasGlobalScope()?a.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):a.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(Pe){a.fF.assertValue(Pe,"expr");var Ve=this.row;if(null!=Ve)return(0,F.vR)(Pe,this.selectTransforms,this.dataView.columns,Ve)}getRoleValues(Pe){}setCurrentRow(Pe){a.fF.assertValue(Pe,"row"),this.row=Pe}}function z(de,Pe,Ve,Ze,Ue,Je,De,ue,_e,te,ke,at,tt){if(a.fF.assertValue(de,"evalContext"),a.fF.assertValue(Ve,"columns"),a.fF.assertValue(Ze,"rows"),a.fF.assertAnyValue(Ue,"identities"),a.fF.assertAnyValue(Je,"identityFields"),a.fF.assertValue(De,"objectDescriptors"),a.fF.assertValue(ue,"selector"),a.fF.assertValue(te,"objectDefns"),ue.metadata&&!_.isEmpty(ue.data)){var ut=_.findIndex(Ve,ve=>ve.queryName===ue.metadata);if(!(ut<0)&&ke.matchesKeys([Je],1)){var ct;if(_.every(Ve,ve=>ve.isMeasure)){a.fF.assert(()=>_.isEmpty(Ue),"table identity mismatch with identityFields"),a.fF.assert(()=>_.isEmpty(Je),"table identity mismatch with identityFields"),a.fF.assert(()=>1===Ze.length,"table without identity has incorrect row count");var Ne=q(de,Pe,Ve,Ze[0],Je,De,ue,te,ke,at,tt);Ne&&((ct=(0,e.qO)(Ze))[0]=Ne)}else{if(_.some(ue.data,ve=>(0,t.qm)(ve)&&2===ve.matchingOption))return;a.fF.assert(()=>Ze.length===Ue.length,"row length mismatch");for(var ae=Ve.length,Le=0,X=Ue.length;Le<X;Le++)if(_e||ke.matches([Ue[Le]])){de.setCurrentRow(Ze[Le]);var Ie=void 0;tt&&(Ie={warnings:tt,selector:ue,targetExpr:(0,t.AV)(ue,Pe)});var Ye=(0,h.PJ)(at,de,De,te,Ie);if(Ye){ct||(ct=(0,e.qO)(Ze));var ze=ct[Le]=(0,e.qO)(ct[Le]),ee=ze.objects;ee||(ze.objects=ee=new Array(ae)),ee[ut]||(ee[ut]={}),(0,c.PM)(ee[ut],Ye,ue.id,ue.order)}if(!_e)break}}return ct}}}function j(de,Pe){return(0,t._Q)(Pe)&&(Pe=(0,o.w)(Pe,Ve=>function(de,Pe){if(!de)return[];var Ve=[];for(var Ze of Pe.columns)Ze.identityExprs&&(0,o.s)([Ze],de)&&Ve.push([...Ze.identityExprs||[]]);return Ve}(Ve,de))),Pe}function q(de,Pe,Ve,Ze,Ue,Je,De,ue,_e,te,ke){a.fF.assertValue(de,"evalContext"),a.fF.assertValue(Ve,"columns"),a.fF.assertValue(Ze,"row"),a.fF.assertValue(Je,"objectDescriptors"),a.fF.assertValue(De,"selector"),a.fF.assertValue(ue,"objectDefns");var at=_.isEmpty(Ue)?void 0:Ue;if(De.metadata&&_e.matches([],at)){var tt=_.findIndex(Ve,X=>X.queryName===De.metadata);if(!(tt<0)){var ct,Ne,ut=Ve.length;de.setCurrentRow(Ze),ke&&(Ne={warnings:ke,selector:De,targetExpr:(0,t.AV)(De,Pe)});var ae=(0,h.PJ)(te,de,Je,ue,Ne);if(ae){var Le=(ct=(0,e.qO)(Ze)).objects;Le||(ct.objects=Le=new Array(ut)),Le[tt]||(Le[tt]={}),(0,c.PM)(Le[tt],ae)}return ct}}}var G=r(26026),J=r(823231);class Z extends J.t{constructor(Pe,Ve){a.fF.assertValue(Pe,"inputRole"),a.fF.assertValue(Ve,"allocator"),super(),this.inputRole=Pe,this.allocator=Ve}evaluate(Pe){a.fF.assertValue(Pe,"evalContext");var Ve=Pe.getRoleValues(this.inputRole);a.fF.assert(()=>_.size(Ve)<=1,"Color Rule Evaluation can run with only one value");var Ze=_.head(Ve);if(void 0!==Ze)return this.allocator.color(Ze)}}function Q(de=[],Pe,Ve){var Ze=de;return(0,i.PO)(Ze),Pe&&(Ze.identityFields=Pe),Ve&&(Ze.source=Ve),Ze}function ne(de,Pe,Ve,Ze,Ue,Je,De,ue,_e){if(a.fF.assertValue(de,"dataView"),a.fF.assertValue(Pe,"targetDataViewKinds"),a.fF.assertAnyValue(Ve,"objectDescriptors"),a.fF.assertAnyValue(Ze,"objectDefinitions"),a.fF.assertAnyValue(Ue,"selectTransforms"),Ve){var te=function(de,Pe,Ve,Ze,Ue){a.fF.assertValue(de,"dataView"),a.fF.assertValue(Ve,"objectDescriptors"),a.fF.assertAnyValue(Ze,"prototype");var Je=(0,I.$v)(Ve);if(Je&&de.metadata&&!_.isEmpty(de.metadata.columns)){var ue,De=!1,_e=function(){var ke=te.queryName,at=_.find(Pe,Ie=>Ie?.queryName===ke);if((!at||!at.ignoreDynamicFormat)&&te.formatSource&&!te?.aggregates?.single){De||(ue=Ze?(0,e.qO)(Ze):{},De=!0);var ut={metadata:te.queryName,data:[G.Ue()],highlightMatching:1},ct=(0,C.xA)(ke,0);if((0,B.sO)(ue,Je,ut,ct),Ue?.cardReferenceLabels&&te.relatedObjects)for(var Ne of Object.keys(te.relatedObjects)){var ae=te.relatedObjects[Ne];for(var Le of Object.keys(ae)){var X=(0,I.VM)(Ve,{objectName:Ne,propertyName:Le});if(X?.formatStringProperty)for(var be of ae[Le])(0,B.sO)(ue,X.formatStringProperty,be,ct)}}}};for(var te of de.metadata.columns)_e();return ue}}(de,Ue,Ve,Ze,De);te&&(Ze=te);var ke=(0,h.Me)(Ze);(0,h.UQ)(ke,Ve,de.metadata.columns,Ue);var at=ke.metadataOnce,tt=ke.data;at&&function(de,Pe,Ve,Ze,Ue,Je,De,ue,_e){a.fF.assertValue(de,"dataView"),a.fF.assertAnyValue(Pe,"selectTransforms"),a.fF.assertValue(Ve,"objectDescriptors"),a.fF.assertValue(Ze,"objectDefnsForSelector"),a.fF.assertValue(Ue,"dataObjects"),a.fF.assertValue(Je,"targetDataViewKinds");var te=new W.Q(ue,De);for(var ke of Ze){var at=ke.selector&&ke.selector.id,tt=ke.selector?.order,ut=ke.objects;a.fF.assertValue(!_.isEmpty(ut),"objectDefns");var ct=(0,F._x)(de,Pe),Ne=void 0;_e&&(Ne={warnings:_e,selector:ke.selector,targetExpr:(0,t.AV)(ke.selector,Pe)});var ae=(0,h.PJ)(te,ct,Ve,ut,Ne);if(ae){var Le=de.metadata.objects;for(var X in Le||(Le=de.metadata.objects={}),(0,c.PM)(Le,ae,at,tt),ae){var be=ae[X],Ie=Ve[X];for(var Ye in be){var ze=Ie.properties[Ye],ee=ze.rule;if(ee){var ve=Ke(de,ee,X,be[Ye],ze.type);_.isEmpty(ve)||Ue.push(...ve||[])}}}}}}(de,Ue,Ve,at,tt,Pe,Je,De,ue);var ut=ke.metadata;_.isEmpty(ut)||function(de,Pe,Ve,Ze,Ue,Je,De){a.fF.assertValue(de,"dataView"),a.fF.assertAnyValue(Pe,"selectTransforms"),a.fF.assertValue(Ve,"objectDescriptors"),a.fF.assertValue(Ze,"objectDefnsForSelector");var ue=new W.Q(Je,Ue);for(var _e of Ze){var te=_e.selector,ke=_e.objects;a.fF.assertValue(te,"selector"),a.fF.assertValue(ke,"objectDefns");for(var at=de.metadata.columns,tt=te.metadata,ut=(0,F._x)(de,Pe),ct=0,Ne=at.length;ct<Ne;ct++){var ae=at[ct];if(ae.queryName===tt){var Le=void 0;De&&(Le={warnings:De,selector:te,targetExpr:(0,t.AV)(te,Pe)});var X=(0,h.PJ)(ue,ut,Ve,ke,Le);X&&(ae.objects||(ae.objects={}),(0,c.PM)(ae.objects,X,te.id,te.order))}}}}(de,Ue,Ve,ut,Je,De,ue),_.isEmpty(tt)||function(de,Pe,Ve,Ze,Ue,Je,De,ue,_e){a.fF.assertValue(de,"dataView"),a.fF.assertValue(Pe,"targetDataViewKinds"),a.fF.assertAnyValue(Ve,"selectTransforms"),a.fF.assertValue(Ze,"objectDescriptors"),a.fF.assertValue(Ue,"dataViewObjectDefnsForSelector"),a.fF.assertValue(Je,"DataViewTransform.evaluateDataRepetition - visualStyle");var te=new W.Q(ue,Je);de.categorical&&(0,u.yE)(Pe,1)&&(0,i.KH)(de.categorical,Ve,Ze,Ue,De,te,_e&&{warnings:_e},ue);var at=de.matrix;if(at&&(0,u.yE)(Pe,2)){var tt=function(de,Pe,Ve,Ze,Ue,Je,De,ue){a.fF.assertValue(de,"dataViewMatrix"),a.fF.assertValue(Ve,"objectDescriptors"),a.fF.assertValue(Ze,"objectDefnsForSelector");var _e=de.valueSources,te=_e.length,ke=function(de,Pe){return new l(de,Pe)}(de,Je),at=de.rows.levels;a.fF.assertAnyValue(at,"A Matrix with no Row groupings has empty Row levels");var tt=V(at),ut=V(de.columns.levels),ct=[];ct.push(...tt||[]),ct.push(...ut||[]);var Ne=!1,ae=(0,e.qO)(de),Le=function(){a.fF.assertValue(X.selector,"selector"),a.fF.assertAnyValue(X.rules,"rules");var be=X.objects;a.fF.assertValue(be,"objectDefns");var rt,me,Ie=function(de,Pe){return(0,t._Q)(Pe)&&(Pe=(0,o.w)(Pe,Ve=>function(de,Pe){if(Pe){var Ve=[];return Ve.push(...L(de,Pe.rows)||[]),Ve.push(...L(de,Pe.columns)||[]),Ve}}(Ve,de))),Pe}(de,X.selector),Ye=(0,m.U)(Ie,Ue),ze=(0,t.GT)(Ie),ee=(0,t.N6)(Ie),ve=null==Ie.metadata&&g(tt,Ye),Te=function(de,Pe,Ve,Ze){if(a.fF.assertAnyValue(de,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(de)||(a.fF.assertValue(Ve,"selectorComparer"),a.fF.assertAnyValue(Ze,"selectorMetadata"),a.fF.assert(()=>de.length===Pe.length,"levels identity keys mismatch"),!Ze))return!1;for(var Ue=0;Ue<de.length;Ue++)if(Ve.matchesKeys(_.take(Pe,Ue+1),Ue+1)){var Je=(0,n.vC)(de[Ue]);if(!_.isEmpty(Je)&&_.find(Je,De=>De.queryName===Ze))return!0}return!1}(at,tt,Ye,Ie.metadata),Xe=(te>1||te<=1&&null==Ie.metadata)&&g(ut,Ye),He=null!=Ie.metadata&&te>0&&_.some(_e,Ee=>Ee.queryName===Ie.metadata)&&Ye.matchesKeys(ct,ct.length),qe={selector:Ie,selectorComparer:Ye,containsWildcard:ze,isWildcard:ee,canMatchColumnNode:Xe,canMatchRowNode:ve,canMatchIntersection:He,canMatchScopedValue:Te};Xe&&(me=f("Columns",ke,Pe,ae.columns,Ve,be,qe,De,ue)),(He||Te||ve)&&(rt=f("Rows",ke,Pe,ae.rows,Ve,be,qe,De,ue)),(rt||me)&&(Ne=!0,rt&&(ae.rows=rt),me&&(ae.columns=me))};for(var X of Ze)Le();if(Ne)return ae}(at,Ve,Ze,Ue,De,ue,te,_e);tt&&(de.matrix=tt)}var ut=de.table;if(ut&&(0,u.yE)(Pe,8)){var ct=function(de,Pe,Ve,Ze,Ue,Je,De){a.fF.assertValue(de,"dataViewTable"),a.fF.assertAnyValue(Pe,"selectTransforms"),a.fF.assertValue(Ve,"objectDescriptors"),a.fF.assertValue(Ze,"objectDefnsForSelector");var ue=!1;for(var _e of Ze){var te=_e.selector,ke=_e.objects;a.fF.assertValue(te,"selector"),a.fF.assertValue(ke,"objectDefns");var at=(0,t.GT)(te);te=j(de,te);var tt=(0,m.U)(te,Ue),ut=T(de,Pe),ct=void 0;_.isEmpty(de.rows)||(ct=z(ut,Pe,de.columns,de.rows,de.identity,de.identityFields,Ve,te,at,ke,tt,Je,De));var Ne=void 0;de.totals&&(Ne=q(ut,Pe,de.columns,de.totals,de.identityFields,Ve,te,ke,tt,Je,De)),(ct||Ne)&&(ue=!0,de=(0,e.qO)(de),ct&&(de.rows=ct),Ne&&(de.totals=Ne))}if(ue)return de}(ut,Ve,Ze,Ue,De,te,_e);ct&&(de.table=ct)}var Ne=de.single;if(a.fF.assert(()=>!Ne||!!Ne&&!!ut,"DataViewTable should be always present with DataViewSingle"),Ne&&ut&&(0,u.yE)(Pe,4)){var ae=function(de,Pe,Ve,Ze,Ue,Je,De){a.fF.assertValue(de,"dataView"),a.fF.assertAnyValue(Pe,"selectTransforms"),a.fF.assertValue(Ve,"objectDescriptors"),a.fF.assertValue(Ze,"objectDefnsForSelector");var ue,_e=(0,F._x)(de,Pe);for(var te of Ze){var ke=te.selector,at=te.objects,tt=(0,m.U)(ke,Ue);if(a.fF.assertValue(ke,"selector"),a.fF.assertValue(at,"objectDefns"),ke.metadata===de.single.column.queryName&&tt.matches([])){var ut=void 0;De&&(ut={warnings:De,selector:ke,targetExpr:(0,t.AV)(ke,Pe)});var ct=(0,h.PJ)(Je,_e,Ve,at,ut);ct&&(ue||(ue=(0,e.qO)(de.single)),ue.objects||(ue.objects={}),(0,c.PM)(ue.objects,ct,ke.id,ke.order))}}return ue}(de,Ve,Ze,Ue,De,te,_e);ae&&(de.single=ae)}de.metadata.objectsRules=te.getObjectsRules()}(de,Pe,Ue,Ve,tt,Je,_e,De,ue)}}function Ke(de,Pe,Ve,Ze,Ue){a.fF.assertValue(de,"dataView"),a.fF.assertValue(Pe,"ruleDesc"),a.fF.assertValue(Ze,"propertyValue"),a.fF.assertValue(Ue,"ruleType");var Je=Pe.output;if(Je){var De=function(de){return a.fF.assertValue(de,"selectorRoles"),[{data:[(0,O.Yp)(de)]}]}(Je.selector);if(Ue.fillRule)return function(de,Pe,Ve,Ze,Ue){a.fF.assertValue(de,"dataView"),a.fF.assertValue(Pe,"ruleDesc"),a.fF.assertValue(Ve,"selectorsToCreate"),a.fF.assertValue(Ue,"propertyValue");var Je=function(de,Pe,Ve){a.fF.assertValue(de,"dataView"),a.fF.assertValue(Pe,"identifier"),a.fF.assertValue(1,"identifierKind");var Ze=de.metadata.columns;return _.find(Ze,Ue=>Ue.roles&&Ue.roles[Pe])}(de,Pe.inputRole);if(Je){var De=(0,y.V)().fromFillRule(Ue,Je);if(De){var ue=new Z(Pe.inputRole,De),_e={};_e[Pe.output.property]={solid:{color:ue}};for(var te=[],ke=0,at=Ve.length;ke<at;ke++)te.push({selector:Ve[ke],rules:[ue],objects:[{name:Ze,properties:_e}]});return te}}}(de,Pe,De,Ve,Ze)}}},26026:function(Ce,k,r){r.d(k,{Ue:function(){return y},fS:function(){return t},wB:function(){return C}});var a=r(939123),e=r(238175),u=r(930746);function t(o,c){return!o&&!c||!(!o||!c)&&(a.fF.assertValue(o,"x"),a.fF.assertValue(c,"y"),o===c||o.matchingOption===c.matchingOption)}function C(o,c){switch(a.fF.assertValue(o,"DataViewWildcard.matches - wildcard"),o.matchingOption){case 0:return!0;case 1:return!c;case 2:return c;default:a.fF.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function y(o){return null==o&&(o=0),new i(o)}class i{constructor(c){this.kind=4,a.fF.assertValue(c,"matchingOption"),this._matchingOption=c,this._key=new e.o(()=>JSON.stringify(this._matchingOption))}get matchingOption(){return this._matchingOption}get key(){return this._key.getValue()}}(0,u.y)(i.prototype)},453855:function(Ce,k,r){function a(){var e=u=>{};return{getExprValue:e,getExprColumn:e,getScopedEvalExprValue:e,getRoleValues:e}}r.d(k,{X:function(){return a}})},823231:function(Ce,k,r){r.d(k,{t:function(){return e}});var a=r(939123);class e{evaluate(t){a.fF.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")}}},113147:function(Ce,k,r){r.d(k,{_x:function(){return C},vR:function(){return i}});var a=r(953474),e=r(939123),u=r(662663),t=r(205754);function C(d,n){return new y(d,n)}class y{constructor(n,s){this.dataView=n,this.selectTransforms=s,e.fF.assertValue(n,"dataView"),e.fF.assertAnyValue(s,"selectTransforms")}getExprColumn(n){var s=(0,u.ij)(n,this.selectTransforms);if(!(s<0))return _.find(this.dataView.metadata.columns,p=>p.index===s)}getScopedEvalExprValue(n){var s=n.decomposeGlobalAggregateOfScopedExpr();if(s){var p=(0,t.T5)(s.source,this.dataView.metadata.columns);return p?(0,t._L)(p,s.func):void 0}if(n.hasGlobalScope())return this.getExprValue(n.expression);n.hasInnerMostScope()?e.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):e.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(n){var s=this.dataView,p=this.selectTransforms;if(s&&p){if((0,a.iV)(n)||(0,a.T5)(n)||(0,a.kb)(n)||(0,a.cY)(n)||(0,a.NH)(n)){var l=function(d,n,s){e.fF.assertValue(d,"expr"),e.fF.assertValue(n,"selectTransforms"),e.fF.assertValue(s,"columns");var p,l=-1,m=d;do{if((l=null==m?-1:(0,u.ij)(m,n,l+1))<0)break;if(p=_.find(s,V=>V.index===l&&V.aggregates&&void 0!==V.aggregates.single))return p.aggregates.single;(0,a.NH)(m)&&e.fF.assertValue(m=n[l].expr,"Select that matches selectRef points to a null field.")}while(l<n.length);if((0,a.iV)(d)||(0,a.T5)(d)){var b=d.arg;if((0,a.g5)(b)&&b.hasInnerMostScope()?l=(0,u.ij)(b.expression,n):((0,a.NH)(b)||(0,a.kb)(b)||(0,a.iV)(b)||(0,a.jk)(b))&&(l=(0,u.ij)(b,n)),!(l<0)&&(p=_.find(s,V=>V.index===l&&V.aggregates)))return function(d,n){if(e.fF.assertValue(d,"aggregates"),e.fF.assertValue(n,"expr"),(0,a.T5)(n)){var s=_.find(d.percentiles,p=>p.k===n.k&&n.exclusive===!!p.exclusive);if(s)return s.value}else if((0,a.iV)(n))switch(e.fF.assertValue(n.func,"func"),n.func){case 3:return d.min??d.minLocal;case 4:return d.max??d.maxLocal;case 6:return d.median;case 1:return d.average}e.fF.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(p.aggregates,d)}}(n,p,s.metadata.columns);if(void 0!==l)return l}if(s.table)return _.isEmpty(s.table.columns)||_.isEmpty(s.table.rows)||!_.isEmpty(s.table.identityFields)?void 0:(e.fF.assert(()=>1===s.table.rows.length,"A data view with no identity fields should have a single row"),i(n,p,s.table.columns,s.table.rows[0]));if(s.categorical&&!_.isEmpty(s.metadata.columns)&&!_.isEmpty(s.categorical.values))return function(d,n,s){e.fF.assertValue(d,"expr"),e.fF.assertValue(n,"selectTransforms"),e.fF.assertValue(s,"categorical");var p=s.values;if(e.fF.assertValue(p,"categorical.values"),1===p.grouped().length&&!s.categories){var l=(0,u.ij)(d,n);if(!(l<0)){var m=_.findIndex(p,V=>V.source.index===l);if(-1!==m){var b=p[m].values;if(b&&1===b.length)return b[0]}}}}(n,p,s.categorical);s.matrix||s.tree||e.fF.assert(()=>_.isEqual(Object.getOwnPropertyNames(s),["metadata"]),"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}}getRoleValues(n){}}function i(d,n,s,p){if(e.fF.assertValue(d,"expr"),e.fF.assertValue(n,"selectTransforms"),e.fF.assertNonEmpty(s,"tableColumns"),e.fF.assertValue(p,"tableRow"),1===p.length&&null===p[0])return null;var l=(0,u.ij)(d,n);if(!(l<0)){var m=_.findIndex(s,g=>g.index===l);if(!(m<0)){if((0,a.NH)(d)&&0===d.attributeKind){var b=s[m];if((m=s.indexOf(b.formatSource&&b.formatSource.formatString))<0)return}return e.fF.assert(()=>m in p,"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),p[m]}}}},709302:function(Ce,k,r){r.d(k,{$T:function(){return p},Hc:function(){return s},QB:function(){return l},Uo:function(){return f},oy:function(){return n}});var a=r(939123),e=r(753104),u=r(616113),t=r(737466),C=r(564619),y=r(895127),i=r(650611),o=r(123537),c=r(856632),h=r(969143),d="png";function n(M){if(a.fF.assertAnyValue(M,"dataViewMappings"),M&&1===M.length&&M[0])return M[0].scriptResult}function s(M){a.fF.assertAnyValue(M,"dataViewMappings");var E=n(M);if(E)return function(M,E){if(M&&M.script&&M.script.source&&M.script.provider&&E)return g((0,o.NA)(E,M.script.source),(0,o.NA)(E,M.script.provider),M.script.scriptOutputType)}(E,M[0].metadata&&M[0].metadata.objects)}function p(M,E){if(a.fF.assertAnyValue(M,"dataViewMappings"),a.fF.assertAnyValue(E,"objects"),E){var w=n(M);if(w&&w.script&&w.script.source&&w.script.provider){var x=(0,h.NA)(E,w.script.source,null),N=(0,h.NA)(E,w.script.provider,null);return g(x?x.value:null,N?N.value:null,w.script.scriptOutputType)}}}function l(M){return a.fF.assertAnyValue(M,"dataViewMappings"),function(M){return V(M&&M.script)}(n(M))}function V(M){if(a.fF.assertAnyValue(M,"scriptMapping"),M)return g(M.scriptSourceDefault,M.scriptProviderDefault,M.scriptOutputType)}function g(M,E,w){if(!(0,u.g)(M)&&!(0,u.g)(E))return{source:M,provider:E,outputType:w||d}}function f(M,E,w,x,N){a.fF.assertAnyValue(M,"projections"),a.fF.assertAnyValue(E,"selects"),a.fF.assertAnyValue(w,"schema"),a.fF.assertAnyValue(x,"scriptDefinition");var L=!!V(x),B={VariableName:"dataset",Columns:[],Parameters:[]};if(M&&E&&!_.isEmpty(E)){var I=[],W=[];for(var O in M)for(var F of M[O].all()){var A=E.withName(F.queryRef);if(A){var T={QueryName:A.name},R=(0,C.Vn)((0,y.Q)(A.expr),new D(w));L&&(T.Role=O,R=O+"."+R),W.push(T),I.push(R)}}I=(0,t.hM)(I);for(var U=0;U<I.length;U++)W[U].Name=I[U];B.Columns=W}return B.Parameters=function(M,E){var w=[];if(E)for(var x in E){var N=(0,o.RK)(E,x);if(N)for(var L in N){var B=P(M,N,x,L);B&&w.push({ObjectName:x,PropertyName:L,Value:B})}}return w}(x,N),B}function P(M,E,w,x){if(!(M&&M.source&&M.source.objectName===w&&M.source.propertyName===x||M&&M.provider&&M.provider.objectName===w&&M.provider.propertyName===x)){var N=(0,c.y)(E,x);if(N)return(0,i.fL)(N);var L=(0,c.N)(E,x);if(null!=L)switch(typeof L){case"string":return(0,i.fL)(L);case"number":var B=L;return(0,e.U)(B)?(0,i._L)(B):(0,i.tx)(B);case"boolean":return(0,i.O7)(L)}}}class D{constructor(E){this.federatedSchema=E}visitNativeVisualCalc(E){}visitColumn(E){return D.getNameForProperty(E,this.federatedSchema)}visitColumnAggr(E){return D.getNameForProperty(E,this.federatedSchema)}visitGroupingColumn(E){return D.getNameForProperty(E,this.federatedSchema)}visitGroupingColumnAggr(E){return D.getNameForProperty(E,this.federatedSchema)}visitColumnHierarchyVariation(E){return D.getVariationHierarchyName(E,this.federatedSchema)}visitColumnHierarchyLevelVariation(E){return D.getVariationLevelName(E,this.federatedSchema)}visitColumnSubquery(E){}visitColumnAggrSubquery(E){}visitColumnTransformRef(E){}visitEntity(E){return E.entity}visitEntityAggr(E){return E.entity}visitHierarchy(E){return D.getNameForHierarchy(E,this.federatedSchema)}visitHierarchyLevel(E){return D.getNameForHierarchyLevel(E,this.federatedSchema)}visitHierarchyLevelAggr(E){return D.getNameForProperty(E,this.federatedSchema)}visitMeasure(E){return D.getNameForProperty(E,this.federatedSchema)}visitSelectRef(E){return(0,C.Vn)(E,this)}visitPercentile(E){return(0,C.Vn)(E.arg,this)}visitPercentOfGrandTotal(E){return(0,C.Vn)(E.baseExpr,this)}visitPercentOfRoleTotal(E){return(0,C.Vn)(E.baseExpr,this)}visitTransformOutputRoleRef(E){return(0,C.Vn)(E,this)}visitFilteredEval(E){return(0,C.Vn)(E,this)}visitArithmetic(E){}visitConstant(E){a.fF.assertFail("ScriptResultUtil - Not expecting to be called")}visitSparklineData(E){}static getNameForHierarchy(E,w){a.fF.assertValue(E,"pattern");var N=w.schema(E.schema).findHierarchy(E.entity,E.name);if(N)return N.name}static getNameForHierarchyLevel(E,w){a.fF.assertValue(E,"pattern");var N=w.schema(E.schema).findHierarchyLevel(E.entity,E.name,E.level);if(N)return N.column.name}static getNameForProperty(E,w){a.fF.assertValue(E,"pattern");var N=w.schema(E.schema).findProperty(E.entity,E.name);if(N)return N.name}static getVariationHierarchyName(E,w){a.fF.assertValue(E,"pattern"),a.fF.assertValue(w,"federatedSchema");var x=E.source,N=w.schema(x.schema).findProperty(x.entity,x.name);if(N){var L=N.column.variations;for(var B of L)if(B.name===E.variationName&&E.hierarchy.name===B.defaultHierarchy.name)return E.hierarchy.name}}static getVariationLevelName(E,w){a.fF.assertValue(E,"pattern");var x=E.source,N=w.schema(x.schema).findProperty(x.entity,x.name);if(N){var L=N.column.variations;for(var B of L)if(B.name===E.variationName)for(var I of B.defaultHierarchy.levels)if(I.name===E.level.level)return I.column.name}}}},879972:function(Ce,k,r){r.d(k,{U:function(){return h}});var a=r(257738),e=r(722709),u=r(939123),t=r(132640),C=r(336508),y=r(571619),i=r(791108),o=r(670808),c=r(26026);function h(s,p){return p?new d(s):new n(s)}class d{constructor(p){if(u.fF.assertValue(p,"selector"),u.fF.assertValue(p.data,"selector.data"),this.dataParts=p.data,(0,t.N6)(p))this.isWildcard=!0;else{var l=_.last(p.data);this.totalIdentity=(0,t.tQ)(l)?l:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,p.data.length-1)),this.selectorDataExprs=d.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,m=>m.key),this.totalIdentity&&this.keys.push(...this.totalIdentity.exprs||[])}}matches(p,l){if(this.isWildcard)return(0,c.wB)(this.dataParts[0],!_.isEmpty(l));if(p.length!==this.dataParts.length||_.isEmpty(l)&&this.totalIdentity||!_.isEmpty(l)&&!this.totalIdentity||this.totalIdentity&&!(0,e.s_)(this.totalIdentity.exprs,l,a.fS))return!1;if(_.isEmpty(p)&&_.isEmpty(this.dataParts))return!0;var m=d.flattenDataParts(p);return!_.isEmpty(m)&&(0,e.s_)(this.selectorDataExprs,m,d.isDataExprsMatch)}matchesKeys(p,l){if(this.isWildcard)return p.length===l;var m=_.flatten(p);return 0!==this.keys.length&&0!==m.length&&this.keys.length===m.length&&(0,e.s_)(m,this.keys,a.fS)}static flattenDataParts(p){var l=[];for(var m of p)if((0,t.yN)(m)){var b=new C.aL;m.expr.accept(b);for(var V=0;V<b.pairs.length;V++)l.push({value:b.values[V],key:b.keys[V]})}else if((0,t.QV)(m))for(var g of m.exprs)l.push({key:g});else{if(!(0,t.tQ)(m))return u.fF.assertFail("unexpected Selector data item kind: "+m.kind.toString()),[];u.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}return l}static isDataExprsMatch(p,l){return u.fF.assert(()=>null!=p.value||null!=l.value,"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),p.value&&l.value?(0,a.fS)(p.key,l.key)&&(0,a.fS)(p.value,l.value):(0,a.fS)(p.key,l.key)}}class n{constructor(p){if(this.selector=p,u.fF.assertValue(this.selector,"selector"),u.fF.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,t.N6)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var l of this.dataParts){var m=n.getDataRepetitionIdentityKeys(l);if(!m){this.keys=[];break}this.keys.push(...m)}}matches(p,l){u.fF.assertValue(p,"identities");var m=this.dataParts,b=m.length,V=p.length,g=!_.isEmpty(l);if(g&&V++,this.isWildcard)return(0,c.wB)(m[0],g);if(b!==V)return!1;for(var v=0,f=p.length;v<f;v++){var S=m[v],P=p[v];if((0,t.j9)(S))return u.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,t.yN)(S)){if(!(0,y.fS)(S,P))return!1}else{if(!(0,t.QV)(S))return(0,t.tQ)(S)?(_.isEmpty(l)||u.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(u.fF.assertFail("unexpected Selector data item kind: "+S.kind.toString()),!1);if(!(0,o.wB)(S,P))return!1}}if(!_.isEmpty(l)){var D=_.last(m);return(0,t.tQ)(D)&&(0,i.wB)(D,l)}return!0}matchesKeys(p,l){if(u.fF.assertValue(p,"keysList"),u.fF.assert(()=>p.length<=l,"expected keysList to be within the hierarchy levels"),this.isWildcard)return p.length===l;var m=_.flatten(p),b=this.keys.length;if(0===b||0===m.length||b!==m.length)return!1;for(var V=0;V<b;V++)if(!(0,a.fS)(m[V],this.keys[V]))return!1;return!0}static getDataRepetitionIdentityKeys(p){return(0,t.yN)(p)?(0,C.RR)(p.expr):(0,t.QV)(p)||(0,t.tQ)(p)?p.exprs:void((0,t.j9)(p)?u.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,t.qm)(p)?u.fF.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):u.fF.assertNever(p))}}},87051:function(Ce,k,r){r.d(k,{Ed:function(){return C},OC:function(){return u},gp:function(){return t}});var a=r(939123),e=r(542666);function u(y){return a.fF.assertValue(y,"categories"),!_.isEmpty(y)&&y[0].objects}function t(y,i){if(a.fF.assertValue(y,"prototypeCategories"),a.fF.assertValue(i,"objects"),!_.isEmpty(y)){var o=(0,e.qO)(y);return(o[0]=(0,e.qO)(o[0])).objects=i,o}}function C(y){a.fF.assertValue(y,"dataViewCategorical");var i=_.isEmpty(y.categories)?_.isEmpty(y.values)?0:y.values[0].values.length:y.categories[0].values.length;return a.fF.assert(()=>_.every(y.categories,o=>o.values.length===i),"Invariant: every category column is expected to have the same number of values."),a.fF.assert(()=>_.every(y.categories,o=>o.identity.length===i),"Invariant: every category column is expected to have the same number of identities as there are values."),a.fF.assert(()=>_.every(y.values,o=>o.values.length===i),"Invariant: every value column is expected to have the same number of values."),i}},997012:function(Ce,k,r){r.d(k,{Oj:function(){return t},VR:function(){return o},Vh:function(){return u},kK:function(){return i},qt:function(){return y}});var a=r(988206),e=r(783203);function u(c){if(_.isEmpty(c))return!1;for(var h of c)if(h.matrix&&h.matrix.rows&&void 0!==h.matrix.rows.values)return!0;return!1}function t(c){if(_.isEmpty(c))return!1;var h=c.filter(D=>void 0!==D.categorical&&void 0!==D.categorical.categories);if(_.isEmpty(h))return!1;for(var d=0;d<h.length;d++){var n=h[d],s=n.conditions;if(!_.isEmpty(s))for(var p=d+1;p<h.length;p++){var l=h[p];if(_.isEqual(n.categorical.categories,l.categorical.categories)&&!_.isEqual(n.categorical.values,l.categorical.values)){var m=l.conditions;if(_.isEmpty(m))return!0;var b=C(s),V=C(m),g=Object.keys(b),v=Object.keys(V);if(g.length!==v.length||!_.isEqual(g,v))return!0;for(var f of g)if(!_.isEqual(b[f],V[f]))return!0}}}return!1}function C(c){var h={};for(var d of c)for(var n in d)h[n]||(h[n]=d[n]);return h}function y(c,h){if(_.isEmpty(c))return!1;var d=c.map(v=>v.matrix).filter(v=>void 0!==v);if(_.isEmpty(d)||_.isEmpty(h))return!1;var n=new Set,s=new Set;for(var p of d){var l=p.rows?a.nG.fromMatrixRows(p.rows):[],m=p.columns?a.nG.fromMatrixColumns(p.columns):[];for(var b of l)n.add(b);for(var V of m)s.add(V)}for(var g of h)if(n.has(g)&&s.has(g))return!0;return!1}function i(c){if(_.isEmpty(c))return!1;var h=c.filter(s=>!(0,e.D4)(s)),d=h.some(s=>void 0!==s.categorical),n=h.some(s=>void 0!==s.matrix);return d&&n}function o(c,h){if(_.isEmpty(c))return!1;var d=c.map(f=>f.categorical).filter(f=>void 0!==f);if(_.isEmpty(d)||_.isEmpty(h))return!1;var n=new Set,s=new Set;for(var p of d){var l=p.categories?a.nG.fromCategoricalCategories(p.categories):[],m=p.values,b=m&&m.group?a.nG.FromCategoricalValues(m):[];for(var V of l)n.add(V);for(var g of b)s.add(g)}for(var v of h)if(n.has(v)&&s.has(v))return!0;return!1}},278042:function(Ce,k,r){r.d(k,{CF:function(){return d},GJ:function(){return n},Lr:function(){return f},Lt:function(){return m},N9:function(){return t},Ro:function(){return b},X2:function(){return c},be:function(){return p},no:function(){return h},pr:function(){return l},sx:function(){return g},vC:function(){return v},w1:function(){return C},y9:function(){return i}});var a=r(722709),e=r(939123),u=r(542666);function t(S){return e.fF.assertValue(S,"node"),_.isEmpty(S.children)}function C(S,P){if(e.fF.assertAnyValue(S,"rootNodes"),e.fF.assertValue(P,"callback"),S)if(function(S){return(0,a.rd)(S)}(S))for(var D of S)D&&y(D,[],P);else y(S,[],P)}function y(S,P,D){e.fF.assertValue(S,"matrixNode"),e.fF.assertValue(P,"traversalPath"),e.fF.assertValue(D,"callback"),e.fF.assert(()=>!_.includes(P,S),"pre-condition: traversalPath must not already contain matrixNode"),P.push(S);var M=D(S,P),E=null!=M&&0!==M;if(1===M){var w=S.children;if(!_.isEmpty(w))for(var x of w)if(x&&!(E=y(x,P,D)))break}return e.fF.assert(()=>_.last(P)===S,"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),P.pop(),E}function i(S,P){e.fF.assertAnyValue(S,"rootNodes"),e.fF.assertValue(P,"callback");var D=0;C(S,(M,E)=>(t(M)&&(P(M,D,E),D++),1))}function c(S,P,D){if(e.fF.assertValue(S,"node"),e.fF.assert(()=>P>=0,"targetLevel >= 0"),e.fF.assertValue(D,"callback"),S.level!==P){var M=S.children;if(M&&M.length>0)for(var E=0,w=M.length;E<w;E++)c(M[E],P,D)}else D(S)}function h(S,P,D){e.fF.assertValue(S,"node"),e.fF.assert(()=>P>=0,"deepestLevelToInherit >= 0"),e.fF.assertValue(D,"useInheritSingle");var M=S,E=void 0===S.level;if(E||S.level<=P){var x=D?u.qO:u.ED,N=x(S);if((E||S.level<P)&&!_.isEmpty(S.children)){N.children=x(S.children);for(var B=0,I=N.children.length;B<I;B++)N.children[B]=h(N.children[B],P,D)}M=N}return M}function d(S){e.fF.assertAnyValue(S,"matrixOrHierarchy");var P=!1;if(S)if(function(S){return"rows"in S&&"columns"in S&&"valueSources"in S}(S))P=d(S.rows)||d(S.columns);else{var D=S.levels;if(!_.isEmpty(D))for(var M of D)if(M.sources&&M.sources.length>=2&&(e.fF.assert(()=>_.every(M.sources,w=>w.isMeasure===M.sources[0].isMeasure),"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!M.sources[0].isMeasure)){P=!0;break}}return P}function n(S){e.fF.assertValue(S,"matrix");var P=S.rows&&S.rows.levels,D=S.columns&&S.columns.levels,M=S.valueSources;return{primaryAxis:!_.isEmpty(P)&&s(P),secondaryAxis:!_.isEmpty(D)&&s(D),intersection:!_.isEmpty(M)&&_.map(M,w=>w.index)}}function s(S){return e.fF.assertValue(S,"levels"),_.map(S,P=>({selectIndices:_.map(P.sources,E=>E.index)}))}function p(S){return S&&S.rows&&!_.isEmpty(S.rows.levels)?S.rows.levels.length:0}function l(S){return!S||_.isEmpty(S.levels)?0:S.levels.length-(m(S.levels)?1:0)}function m(S){return e.fF.assertAnyValue(S,"columnHierarchyLevels"),!_.isEmpty(S)&&b(_.last(S))}function b(S){return e.fF.assertAnyValue(S,"columnHierarchyLevel"),S&&_.every(S.sources,P=>P.isMeasure)}function g(S){if(e.fF.assertAnyValue(S?.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!S||_.isEmpty(S.children))return[];var P=[];return i(S,(D,M,E)=>{P.push(_.clone(E))}),P}function v(S){e.fF.assertValue(S,"undefined Level");var P=S.valueSources;if(P)return e.fF.assert(()=>_.isEqual(_.keys(P),["0"]),"There is no support for Measures with a Scope containing any column levels"),e.fF.assertValue(P[0],"Empty Scoped measures metadata"),P[0]}function f(S){if(e.fF.assertValue(S,"getNodeScopedValues called for an Undefined node"),e.fF.assertAnyValue(S.nodeValues,"Synchronized nodes have undefined nodeValues"),S.nodeValues)return e.fF.assert(()=>_.isEqual(_.keys(S.nodeValues),["0"]),"There is no support for Measures with a Scope containing any column levels"),S.nodeValues[0]}},205754:function(Ce,k,r){r.d(k,{Gq:function(){return n},T5:function(){return h},_L:function(){return d},dM:function(){return o},iN:function(){return y},jh:function(){return i}});var a=r(953474),e=r(257738),u=r(939123);function C(s,p){u.fF.assertValue(s,"metadataColumn"),u.fF.assertValue(p,"targetRoles");var l=s.roles;return!!l&&_.some(p,m=>l[m])}function y(s,p){if(u.fF.assertAnyValue(s,"roles"),u.fF.assertValue(p,"targetRole"),!s||!s[p])return!1;if(_.size(s)>=2)for(var l in s)if(l!==p&&s[l])return!1;return!0}function i(s,p,l){u.fF.assertAnyValue(s,"columnSources"),u.fF.assertValue(p,"projectionOrdering"),u.fF.assertAnyValue(l,"filterByRoles");var m=[];if(!_.isEmpty(s))for(var b=function(s){u.fF.assertValue(s,"selectIndicesByProjectionOrder");for(var p={},l=0,m=s.length;l<m;l++){var b=s[l],V=p[b];V||(V=p[b]=[]),V.push(l)}return p}(p),V=0,g=s.length;V<g;V++){var v=s[V];if(!l||C(v,l)){var f=b[v.index];if(_.isEmpty(f))m.push({metadataColumn:v,sourceIndex:V,projectionOrderIndex:void 0});else for(var S of f)m.push({metadataColumn:v,sourceIndex:V,projectionOrderIndex:S})}}return m}function o(s){var p=_.find(s,V=>V.expr&&(0,a.ez)(V.expr));if(p){var m=p.expr.arg;if((0,a.y3)(m)){var b=m.arg;if((0,a.jc)(b))return b.property}}}function h(s,p,l){if(u.fF.assertValue(s,"expr"),u.fF.assertNonEmpty(p,"columns"),!(0,a.NH)(s))return _.find(p,b=>(0,e.fS)(b.expr,s)&&b.groupName===l);var m=_.find(p,b=>b.queryName===s.expressionName&&b.groupName===l);return m?0!==s.attributeKind?m:m.formatSource&&m.formatSource.formatString?m.formatSource.formatString:void 0:void 0}function d(s,p){u.fF.assertValue(s,"column"),u.fF.assertValue(p,"aggrFunc");var l=s.aggregates;if(l)switch(p){case 3:return l.min;case 4:return l.max;case 2:return l.count;case 1:return l.average;case 6:return l.median;default:return}}function n(s,p){if(!_.isEmpty(s)){var l=[],m=!0;for(var b of s)if(b.roles&&b.roles[p]&&void 0!==b.index)if(b.rolesIndex&&b.rolesIndex[p]){u.fF.assert(()=>!0===m,".initMetadataColumns if any of the columns has roleIndex all of them are supposed to have it.");var V=b.rolesIndex[p];for(var g of V)l[g]=b}else m=!1,l.push(b);return l}}},631553:function(Ce,k,r){r.d(k,{C0:function(){return u},F:function(){return t},Mw:function(){return e},jR:function(){return y},rX:function(){return C}});var a=r(939123);function e(i,o){return!i&&!o||!(!i||!o||i.displayName!==o.displayName||i.queryName!==o.queryName||i.isMeasure!==o.isMeasure||i.type!==o.type||i.sort!==o.sort)}function u(i,o){if(!i&&!o)return!0;if(!i||!o)return!1;var h=o.columns.length;if(i.columns.length!==h)return!1;for(var d=0;d<h;d++)if(!e(i.columns[d],o.columns[d]))return!1;return!0}function t(i){return i&&i.values&&i.values[0]&&!!i.values[0].values}function C(i){return i&&void 0!==i.length}function y(i,o){return a.fF.assert(()=>0!==o),!!i&&!!(1&o&&i.categorical||2&o&&i.matrix||4&o&&i.single||8&o&&i.table||16&o&&i.tree)}},871423:function(Ce,k,r){r.d(k,{SA:function(){return t},VZ:function(){return y},XP:function(){return u},r:function(){return C}});var a=r(939123),e=r(517273);function u(c,h,d){a.fF.assertValue(c,"query"),a.fF.assertValue(h,"projectionsByRole"),a.fF.assertValue(d,"roleName");var n=h[d];if(n){var s=n.all();return _.filter(_.map(s,p=>t(c,p)),p=>p)}}function t(c,h){var d=i(c,h);if(d)return d}function C(c,h,d){var n=h[d];if(n){var s=n.getFieldParameters();if(_.isEmpty(s)){var p=u(c,h,d);return _.map(p,M=>{var E=_.find(n.all(),w=>w.queryRef===M.name)?.hidden;return e.m.transformToVisualQueryField(M.expr,M.name,!1,M.nativeReferenceName,E)})}var l=[],m=n.all()||[],b=0,V=0;for(var g of s=_.sortBy(s,M=>M.index)){var f=g.index+V,S=m.slice(b,f);l.push(...o(c,S)),l.push(e.m.transformToVisualQueryField(g.expr,void 0,!0));var P=g.length??0;V+=P-1,b=f+P}var D=m.slice(b,m.length);return l.push(...o(c,D)),l}}function y(c,h){var d=_.filter(h,p=>p.index<c),n=c;for(var s of d)n+=(s.length??0)-1;return n}function i(c,h){if(a.fF.assertValue(c,"query"),h)return c.select().withName(h.queryRef)}function o(c,h){var d=_.filter(_.map(h,n=>i(c,n)),n=>n);return _.map(d,n=>{var s=_.find(h,p=>p.queryRef===n.name)?.hidden;return e.m.transformToVisualQueryField(n.expr,n.name,!1,n.nativeReferenceName,s)})}},834734:function(Ce,k,r){r.d(k,{i:function(){return a}});var a={objectName:"scalarKey",propertyName:"min"}},624310:function(Ce,k,r){r.d(k,{A8:function(){return n},A9:function(){return s},YN:function(){return l},_T:function(){return p}});var a=r(939123),e=r(895127),u=r(528836),t=r(761830),C=r(517273),y=r(906741),i=r(937892),o=r(569276),c=r(123537),h=r(871423),d=r(834734);function n(m,b=d.i){var V;if(m&&(V=m.objects),!_.isEmpty(V)){for(var g,v=V.length,f=0;f<v;f++){var P=(0,c.NA)(V[f],b);void 0!==P&&(g||(g={values:new Array(v)}),g.values[f]={min:P})}return g}}function s(m){var b=!1,V={visitRole:f=>{b=b||_.some(f.items,S=>S.scalarKeyInfo&&S.scalarKeyInfo.hasScalarKey)}};return m.categorical?(0,o.Sr)(m.categorical.categories,V):m.matrix&&(0,o.Ay)(m.matrix.rows,V),b}function p(m,b,V,g){a.fF.assertValue(m,"schema"),a.fF.assertValue(b,"query"),a.fF.assertValue(V,"projections"),a.fF.assertValue(g,"roleName");var v=(0,h.XP)(b,V,g);if(_.isEmpty(v)||!(v[0]?.expr instanceof u.vD))return!1;var f=v[0]?.expr;if(1!==(0,t.q)(m,_.map(v,I=>I.expr),{}).length)return!1;var P=(0,e.Q)(f,m),D=(0,y.S7)(m,P),M=D&&D.column;if(!M)return!1;var E=M.type;if(!E.temporal||!E.temporal.year||!l(v[0]?.expr,m))return!1;var w=V[g],x=w.getLastActiveQueryReference();if(x){var N=w.all(),L=_.findIndex(N,I=>I.queryRef===x);if(-1===L)return!1;for(var B=0;B<L;B++)if(!_.includes(w.activeProjectionRefs,N[B].queryRef))return!1}return!0}function l(m,b){if(a.fF.assertValue(b,"schema"),m){var V=(m=(0,i.K)(m,b)).getTargetEntity();if(V){var g=C.m.getConceptualEntity(V,b),v=_.filter(g.properties,f=>f.type.temporal&&f.type.temporal.paddedDateTableDate);if(1===v.length)return(0,u.Oh)(V,v[0].name)}}}},211699:function(Ce,k,r){r.d(k,{x9:function(){return u}});var a=r(939123),e=r(336508);function u(o){if(o&&o.matrix&&o.matrix.rows&&o.matrix.rows.root&&!_.isEmpty(o.matrix.rows.levels))return a.fF.assert(()=>_.every(o.matrix.rows.levels,c=>1===_.size(c.sources)),"Composite groups are not supported"),{levels:_.map(o.matrix.rows.levels,c=>({identityKeys:c.sources[0].identityExprs})),root:y(o.matrix.rows.root)}}function t(o,c){if(!_.isEmpty(o)){var h,d;switch(c){case 1:var n=_.findIndex(o,p=>p&&!p.isSubtotal&&p.identity);h=o[n],d=o[n+1];break;case 2:var s=_.findLastIndex(o,p=>p&&!p.isSubtotal&&p.identity);h=o[s],d=o[s-1];break;default:a.fF.assertFail("Unexpected restart kind "+c)}if(h&&h.restartKind===c)return h;if(d&&d.restartKind===c)return d}}function C(o){return{restartValues:o.restartValues,identityValues:(0,e.KX)(o.identity.expr),windowKind:i(o.restartKind)}}function y(o){var c=[],h=t(o.children,1);h&&c.push(C(h));var d=t(o.children,2);d&&c.push(C(d));var n=_.filter(o.children,s=>_.some(s.children,p=>p.identity&&!p.isSubtotal));return{identityValues:o.identity&&o.identity.expr&&(0,e.KX)(o.identity.expr),children:_.map(n,s=>y(s)),windowValues:c}}function i(o){switch(o){case 1:return 2;case 2:return 1}a.fF.assertFail("Invalid restartKind")}},438043:function(Ce,k,r){function a(u){return t=>t.get(u)}function e(u,t){return"function"==typeof u?u(t):"string"==typeof u?u:void 0}r.d(k,{G:function(){return e},V:function(){return a}})},477732:function(Ce,k,r){r.d(k,{EP:function(){return o}});var a=r(939123),e=r(753104),u=r(467562),t=r(334673),C=(()=>{class f{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){var M,P=this.min,D=(0,e.mv)(Math.abs(P));D>=0&&D<4?(M=.5,this.forcedSingleStop=P):(M=(0,e.wA)(D)/2,this.forcedSingleStop=null),this.min=P-M,this.max=P+M}else this.min=0,this.max=f.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){var P=this.min;this.min=this.max,this.max=P}}getSize(){return this.max-this.min}shrinkByStep(P,D){a.fF.assertValue(P,"range"),a.fF.assert(()=>D>0,"step");var M=this.min/D,E=P.min/D,w=Math.floor(E-M);this.min+=w*D,M=this.max/D,E=P.max/D,w=Math.ceil(E-M),this.max+=w*D}static calculate(P,D,M,E,w){a.fF.assert(()=>P<=D,"dataMin should be less or equal to dataMax."),a.fF.assert(()=>!M||!E||M<=E,"fixedMin should be less or equal to fixedMax.");var x=new f;return x.includeZero=!!w,x.hasDataRange=y(P)&&y(D),x.hasFixedMin=y(M),x.hasFixedMax=y(E),P=(0,e.QO)(P,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),D=(0,e.QO)(D,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),x.hasFixedMin&&x.hasFixedMax?(x.min=M,x.max=E):x.hasFixedMin?(x.min=M,x.max=D>M?D:M):x.hasFixedMax?(x.min=P<E?P:E,x.max=E):x.hasDataRange?(x.min=P,x.max=D):(x.min=0,x.max=0),x._ensureIncludeZero(),x._ensureNotEmpty(),x._ensureDirection(),0===x.min?x.hasFixedMin=!0:0===x.max&&(x.hasFixedMax=!0),x}static calculateDataRange(P,D,M){return y(P)&&y(D)?f.calculate(P,D,null,null,M):f.calculateFixedRange(0,f.DEFAULT_MAX)}static calculateFixedRange(P,D,M){a.fF.assertValue(P,"fixedMin"),a.fF.assertValue(D,"fixedMax");var E=new f;return E.hasDataRange=!1,E.includeZero=M,E.min=P,E.max=D,E._ensureIncludeZero(),E._ensureNotEmpty(),E._ensureDirection(),E.hasFixedMin=!0,E.hasFixedMax=!0,E}}return f.DEFAULT_MAX=10,f.MIN_SUPPORTED_DOUBLE=-1e307,f.MAX_SUPPORTED_DOUBLE=1e307,f})();function y(f){return null!=f}var i=(()=>{class f{static calculate(P,D,M,E,w,x){a.fF.assertValue(P,"range"),a.fF.assert(()=>void 0===D||D>=f.MIN_COUNT&&D<=f.MAX_COUNT,"expectedCount"),a.fF.assert(()=>void 0===E||E>=e.Xo&&E<=e.kg,"minPower"),a.fF.assert(()=>void 0===M||M>=0,"maxAllowedMargin");var N=new f;if(D=void 0===D?10:(0,e.QO)(D,f.MIN_COUNT,f.MAX_COUNT),void 0===E&&(E=e.Xo),void 0===w&&(w=!1),void 0===M&&(M=1),void 0===x&&(x=[1,2,5]),P.forcedSingleStop)return N.interval=P.getSize(),N.intervalOffset=N.interval-(P.forcedSingleStop-P.min),N.min=P.min,N.max=P.max,N.sequence=[P.forcedSingleStop],N;var U,L=0,B=0,I=9,W=M>0&&!P.hasFixedMin,O=M>0&&!P.hasFixedMax,F=P.getSize(),A=(0,e.mv)(F),T=(0,e.mv)(x[0]);if(A-=T,A-=(0,e.mv)(D),A=Math.max(A,E-T+1),0!==L){var z=(0,e.wA)(A),j=(0,e.cT)(P.min,z),H=(0,e.iD)(P.max,z),q=C.calculateFixedRange(j,H);q.shrinkByStep(P,L),B=q.min,I=q.max,U=Math.floor(q.getSize()/L)}else{var G;for(G=0;G<3;G++){for(var J=A+G,Z=(0,e.wA)(J),Q=(0,e.cT)(P.min,Z),ne=(0,e.iD)(P.max,Z),le=x.length,he=(0,e.wA)(J-1),Se=0;Se<le;Se++){var Ke=x[Se]*he,Ge=C.calculateFixedRange(Q,ne,w);if(Ge.shrinkByStep(P,Ke),W&&P.min===Ge.min&&M>=1&&(Ge.min-=Ke),O&&P.max===Ge.max&&M>=1&&(Ge.max+=Ke),(U=(0,e.Eo)(Ge.getSize()/Ke,e.qO))<=D||2===G&&Se===le-1||1===D&&2===U&&(Ke>P.getSize()||P.min<0&&P.max>0&&2*Ke>=P.getSize())){L=Ke,B=Ge.min,I=Ge.max;break}}if(0!==L)break}}(U>32*D||U>f.MAX_COUNT)&&(L=(I-B)/(U=Math.min(32*D,f.MAX_COUNT))),N.min=B,N.max=I,N.interval=L,N.intervalOffset=B-P.min,N.maxAllowedMargin=M,N.canExtendMin=W,N.canExtendMax=O;var ye=(0,e.p8)(L,0);N.precision=ye;var we=[],je=(0,e.W0)(B,ye);we.push(je);for(var de=0;de<U;de++)je=(0,e.W0)(je+L,ye),we.push(je);return N.sequence=we,N.trimMinMax(P.min,P.max),N}static calculateUnits(P,D,M,E){M=(0,e.QO)(M,f.MIN_COUNT,f.MAX_COUNT),P===D&&(D=P+1);var x=0;for(x of E)if((0,e.Eo)(D/x)-(0,e.Uy)(P/x)<=M)break;var B=-P;B%=x;var I=new f;I.sequence=[];for(var W=P+B;I.sequence.push(W),!(W>=D);W+=x);return I.interval=x,I.intervalOffset=B,I.min=I.sequence[0],I.max=I.sequence[I.sequence.length-1],I}trimMinMax(P,D){var M=(P-this.min)/this.interval,E=(this.max-D)/this.interval;(!this.canExtendMin||M>this.maxAllowedMargin&&M>.001)&&(this.min=P),(!this.canExtendMax||E>this.maxAllowedMargin&&E>.001)&&(this.max=D)}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),o=(()=>{class f{constructor(P){this.unit=P,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}add(P){P<this.min&&(this.min=P),P>this.max&&(this.max=P),this.sequence.push(P)}moveToCover(P,D){var M=f.getDelta(P,D,this.unit),E=Math.floor(M/this.interval);for(this.min=f.addInterval(this.min,E*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<D;)this.max=f.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)}static calculate(P,D,M,E){switch(E||(E=f.getIntervalUnit(P,D,M)),E){case u.l.Year:return f.calculateYears(P,D,M);case u.l.Month:return f.calculateMonths(P,D,M);case u.l.Week:return f.calculateWeeks(P,D,M);case u.l.Day:return f.calculateDays(P,D,M);case u.l.Hour:return f.calculateHours(P,D,M);case u.l.Minute:return f.calculateMinutes(P,D,M);case u.l.Second:return f.calculateSeconds(P,D,M);case u.l.Millisecond:return f.calculateMilliseconds(P,D,M);default:a.fF.assertFail("Unsupported DateTimeUnit")}}static calculateYears(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>!M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"Expected count is out of range");var E=C.calculateDataRange(P.getFullYear(),D.getFullYear(),!1),w=i.calculate(C.calculate(0,E.max-E.min),M,0,null,null,[1,2,5]),x=Math.floor(E.min/w.interval)*w.interval,N=t.y3.fromDateParts(x,0,1);return f.fromNumericSequence(N,w,u.l.Year)}static calculateMonths(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var E=P.getFullYear(),w=D.getFullYear(),x=P.getMonth(),N=12*(w-E)+D.getMonth(),L=t.y3.fromDateParts(E,0,1),B=i.calculateUnits(x,N,M,[1,2,3,6,12]);return f.fromNumericSequence(L,B,u.l.Month)}static calculateWeeks(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var x=(P.getDay()-0+7)%7,N=P.getDate()-x,L=t.y3.fromDateParts(P.getFullYear(),P.getMonth(),N),I=(0,e.Eo)(f.getDelta(L,D,u.l.Week)),W=i.calculateUnits(0,I,M,[1,2,4,8]);return f.fromNumericSequence(L,W,u.l.Week)}static calculateDays(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var E=t.y3.fromDateParts(P.getFullYear(),P.getMonth(),P.getDate()),x=(0,e.Eo)(f.getDelta(P,D,u.l.Day)),N=i.calculateUnits(0,x,M,[1,2,7,14]);return f.fromNumericSequence(E,N,u.l.Day)}static calculateHours(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var E=t.y3.fromDateParts(P.getFullYear(),P.getMonth(),P.getDate()),w=(0,e.Uy)(f.getDelta(E,P,u.l.Hour)),x=(0,e.Eo)(f.getDelta(E,D,u.l.Hour)),N=i.calculateUnits(w,x,M,[1,2,3,6,12,24]);return f.fromNumericSequence(E,N,u.l.Hour)}static calculateMinutes(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var E=t.y3.fromDateParts(P.getFullYear(),P.getMonth(),P.getDate(),P.getHours()),w=(0,e.Uy)(f.getDelta(E,P,u.l.Minute)),x=(0,e.Eo)(f.getDelta(E,D,u.l.Minute)),N=i.calculateUnits(w,x,M,[1,2,5,10,15,30,60,120,180,360,720,1440]);return f.fromNumericSequence(E,N,u.l.Minute)}static calculateSeconds(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var E=t.y3.fromDateParts(P.getFullYear(),P.getMonth(),P.getDate(),P.getHours(),P.getMinutes()),w=(0,e.Uy)(f.getDelta(E,P,u.l.Second)),x=(0,e.Eo)(f.getDelta(E,D,u.l.Second)),N=i.calculateUnits(w,x,M,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return f.fromNumericSequence(E,N,u.l.Second)}static calculateMilliseconds(P,D,M){a.fF.assertValue(P,"dataMin"),a.fF.assertValue(D,"dataMax"),a.fF.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var E=t.y3.fromDateParts(P.getFullYear(),P.getMonth(),P.getDate(),P.getHours(),P.getMinutes(),P.getSeconds()),w=f.getDelta(E,P,u.l.Millisecond),x=f.getDelta(E,D,u.l.Millisecond),N=i.calculate(C.calculate(w,x),M,0);return f.fromNumericSequence(E,N,u.l.Millisecond)}static addInterval(P,D,M){switch(D=Math.round(D),M){case u.l.Year:return function(f,S){var P=f.getFullYear(),D=f.getMonth(),M=f.getDate(),E=2===D&&29===M,w=t.y3.fromTimeValue(f.getTime());return P+=S,E&&!d(P)&&(M=28),w.setUTCFullYear(P,D,M),w}(P,D);case u.l.Month:return function(f,S){var P=f.getFullYear(),D=f.getMonth(),M=f.getDate(),E=t.y3.fromTimeValue(f.getTime());return P+=(S-S%12)/12,(D+=S%12)>11&&(D%=12,P++),M=Math.min(M,function(f,S){return d(f)?h[S]:c[S]}(P,D)),E.setUTCFullYear(P,D,M),E}(P,D);case u.l.Week:return function(f,S){return m(f,7*S)}(P,D);case u.l.Day:return m(P,D);case u.l.Hour:return function(f,S){return t.y3.fromTimeValue(f.getTime()+36e5*S)}(P,D);case u.l.Minute:return function(f,S){return t.y3.fromTimeValue(f.getTime()+6e4*S)}(P,D);case u.l.Second:return function(f,S){return t.y3.fromTimeValue(f.getTime()+1e3*S)}(P,D);case u.l.Millisecond:return function(f,S){return t.y3.fromTimeValue(f.getTime()+S)}(P,D)}}static fromNumericSequence(P,D,M){var E=new f(M);for(var w of D.sequence){var x=f.addInterval(P,w,M);E.add(x)}return E.interval=D.interval,E.intervalOffset=D.intervalOffset,E}static getDelta(P,D,M){var E=0;switch(M){case u.l.Year:E=D.getFullYear()-P.getFullYear();break;case u.l.Month:E=12*(D.getFullYear()-P.getFullYear())+D.getMonth()-P.getMonth();break;case u.l.Week:E=(D.getTime()-P.getTime())/6048e5;break;case u.l.Day:E=(D.getTime()-P.getTime())/864e5;break;case u.l.Hour:E=(D.getTime()-P.getTime())/36e5;break;case u.l.Minute:E=(D.getTime()-P.getTime())/6e4;break;case u.l.Second:E=(D.getTime()-P.getTime())/1e3;break;case u.l.Millisecond:E=D.getTime()-P.getTime()}return E}static getIntervalUnit(P,D,M){M=Math.max(M,2);var E=f.getDelta(P,D,u.l.Day);if(E>356&&E>=180*M)return u.l.Year;if(E>58&&E>7*M)return u.l.Month;if(E>14&&E>2*M)return u.l.Week;var w=f.getDelta(P,D,u.l.Hour);if(E>2&&w>12*M)return u.l.Day;if(w>=24&&w>=M)return u.l.Hour;var x=f.getDelta(P,D,u.l.Minute);if(x>2&&x>=M)return u.l.Minute;var N=f.getDelta(P,D,u.l.Second);if(N>2&&N>=.8*M)return u.l.Second;if(f.getDelta(P,D,u.l.Millisecond)>0)return u.l.Millisecond;var B=P;return 0!==B.getMilliseconds()?u.l.Millisecond:0!==B.getSeconds()?u.l.Second:0!==B.getMinutes()?u.l.Minute:0!==B.getHours()?u.l.Hour:1!==B.getDate()?u.l.Day:0!==B.getMonth()?u.l.Month:u.l.Year}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),c=[31,28,31,30,31,30,31,31,30,31,30,31],h=[31,29,31,30,31,30,31,31,30,31,30,31];function d(f){return f%4==0&&f%100!=0||f%400==0}function m(f,S){var P=f.getFullYear(),D=f.getMonth(),M=f.getDate(),E=t.y3.fromTimeValue(f.getTime());return E.setUTCFullYear(P,D,M+S),E}},79619:function(Ce,k,r){r.d(k,{KO:function(){return u},Re:function(){return y},hU:function(){return t},t0:function(){return o},wj:function(){return C}});var a=r(939123),e=r(334673),u=function(c){return c[c.Last=0]="Last",c[c.Current=1]="Current",c[c.Next=2]="Next",c}({}),t=function(c){return c[c.Second=0]="Second",c[c.Minute=1]="Minute",c[c.Hour=2]="Hour",c[c.Day=3]="Day",c[c.Week=4]="Week",c[c.CalendarWeek=5]="CalendarWeek",c[c.Month=6]="Month",c[c.CalendarMonth=7]="CalendarMonth",c[c.Year=8]="Year",c[c.CalendarYear=9]="CalendarYear",c}({}),C=function(c){return c[c.Unsupported=0]="Unsupported",c[c.Time=1]="Time",c[c.Date=2]="Date",c}({});function y(c){switch(c){case t.Minute:case t.Hour:return!0;default:return!1}}class o{static convertRelativeDateUnitToRelativeFilterType(h){switch(h){case t.Second:case t.Minute:case t.Hour:return C.Time;case t.Day:case t.Week:case t.CalendarWeek:case t.Month:case t.CalendarMonth:case t.Year:case t.CalendarYear:return C.Date;default:return void a.fF.assertNever(h)}}static convertTimeUnitToRelativeFilterType(h){switch(h){case 5:return C.Unsupported;case 6:case 7:return C.Time;case 0:case 1:case 2:case 3:case 4:return C.Date;default:return void a.fF.assertNever(h)}}static getDateRange(h,d){switch(d.relativeUnit){case t.Minute:return this.getMinutesRange(h,d);case t.Hour:return this.getHoursRange(h,d);case t.Day:return this.getDaysRange(h,d);case t.Week:return this.getWeeksRange(h,d);case t.CalendarWeek:return this.getCalendarWeekRange(h,d);case t.Month:return this.getMonthRange(h,d);case t.CalendarMonth:return this.getCalendarMonthRange(h,d);case t.Year:return this.getYearRange(h,d);case t.CalendarYear:return this.getCalendarYearRange(h,d);default:return void a.fF.assertFail("Unexpected RelativeDateUnit: "+d.relativeUnit)}}static getMinutesRange(h,d){var n={min:null,max:null};switch(d.relativeQualifier){case u.Last:n.min=new Date(h.valueOf()-6e4*d.duration),n.max=h;break;case u.Current:n.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),0)),n.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),59));break;case u.Next:n.min=h,n.max=new Date(h.valueOf()+6e4*d.duration)}return n}static getHoursRange(h,d){var n={min:null,max:null},s=36e5;switch(d.relativeQualifier){case u.Last:n.min=new Date(h.valueOf()-d.duration*s),n.max=h;break;case u.Current:n.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),0,0)),n.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),59,59));break;case u.Next:n.min=h,n.max=new Date(h.valueOf()+d.duration*s)}return n}static getDaysRange(h,d){var n={min:null,max:null};switch(d.relativeQualifier){case u.Last:n.max=d.includeToday?h:this.addDays(h,-1),n.min=this.addDays(n.max,1-d.duration);break;case u.Current:n.min=h,n.max=h;break;case u.Next:n.min=d.includeToday?h:this.addDays(h,1),n.max=this.addDays(n.min,d.duration-1)}return n}static getWeeksRange(h,d){var n={min:null,max:null};switch(d.relativeQualifier){case u.Last:n.max=d.includeToday?h:this.addDays(h,-1),n.min=this.addDays(n.max,-7*d.duration+1);break;case u.Current:n=this.getCalendarWeek(h);break;case u.Next:n.min=d.includeToday?h:this.addDays(h,1),n.max=this.addDays(n.min,7*d.duration-1)}return n}static getCalendarWeekRange(h,d){var n={min:null,max:null},s=h.getUTCDay();switch(d.relativeQualifier){case u.Last:var p=this.addDays(h,-s-1);n.min=this.addDays(p,-7*d.duration+1),n.max=p;break;case u.Current:n=this.getCalendarWeek(h);break;case u.Next:var l=this.addDays(h,7-s);n.min=l,n.max=this.addDays(l,7*d.duration-1)}return n}static getMonthRange(h,d){var n={min:null,max:null};switch(d.relativeQualifier){case u.Last:n.max=d.includeToday?h:this.addDays(h,-1),n.min=this.addMonths(n.max,-d.duration);break;case u.Current:n=this.getCalendarMonth(h);break;case u.Next:n.min=d.includeToday?h:this.addDays(h,1),n.max=this.addMonths(n.min,d.duration)}return n}static getCalendarMonthRange(h,d){var n={min:null,max:null};switch(d.relativeQualifier){case u.Last:n.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()-d.duration,1)),n.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),0));break;case u.Current:n=this.getCalendarMonth(h);break;case u.Next:n.min=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+1,1)),n.max=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+1+d.duration,0))}return n}static getYearRange(h,d){var n={min:null,max:null};switch(d.relativeQualifier){case u.Last:n.max=d.includeToday?h:this.addDays(h,-1),n.min=this.addYears(n.max,-d.duration);break;case u.Current:n=this.getCalendarYear(h);break;case u.Next:n.min=d.includeToday?h:this.addDays(h,1),n.max=this.addYears(n.min,d.duration)}return n}static getCalendarYearRange(h,d){var n={min:null,max:null};switch(d.relativeQualifier){case u.Last:n.min=new Date(Date.UTC(h.getUTCFullYear()-d.duration,0,1)),n.max=new Date(Date.UTC(h.getUTCFullYear()-1,11,31));break;case u.Current:n=this.getCalendarYear(h);break;case u.Next:n.min=new Date(Date.UTC(h.getUTCFullYear()+1,0,1)),n.max=new Date(Date.UTC(h.getUTCFullYear()+d.duration,11,31))}return n}static getTimeRangeRestatement(h,d,n,s){return d?this.getDetailedTimeRestatement(n):this.getSimplifiedTimeRestatement(h,s)}static getDetailedTimeRestatement(h){return Math.abs(h.max.valueOf()-h.min.valueOf())/864e5>1||h.max.getUTCDate()!==h.min.getUTCDate()?e.dx.format("{0} - {1}",[h.min,h.max]):e.dx.format("{0:T} - {1:T}",[h.min,h.max])}static getSimplifiedTimeRestatement(h,d){switch(h.relativeQualifier){case u.Current:switch(h.relativeUnit){case t.Minute:return d("RelativeTimeRestatement_this_Minute");case t.Hour:return d("RelativeTimeRestatement_this_Hour");default:a.fF.assertFail(`The following relative unit is not a relative time unit: ${h.relativeUnit}`)}break;case u.Last:switch(h.relativeUnit){case t.Minute:return 1===h.duration?d("RelativeTimeRestatement_last_Minute"):d("RelativeTimeRestatement_last_Minutes",h.duration);case t.Hour:return 1===h.duration?d("RelativeTimeRestatement_last_Hour"):d("RelativeTimeRestatement_last_Hours",h.duration);default:a.fF.assertFail(`The following relative unit is not a relative time unit: ${h.relativeUnit}`)}break;case u.Next:switch(h.relativeUnit){case t.Minute:return 1===h.duration?d("RelativeTimeRestatement_next_Minute"):d("RelativeTimeRestatement_next_Minutes",h.duration);case t.Hour:return 1===h.duration?d("RelativeTimeRestatement_next_Hour"):d("RelativeTimeRestatement_next_Hours",h.duration);default:a.fF.assertFail(`The following relative unit is not a relative time unit: ${h.relativeUnit}`)}break;default:a.fF.assertFail(`The following is an Unsupported relativeQualifer: ${h.relativeQualifier}`)}return""}static getDateRangeRestatement(h){return e.dx.format("{0:d} - {1:d}",[h.min,h.max])}static getRestatement(h,d,n,s){var p;if(y(h.relativeUnit)?(a.fF.assert(()=>!!s,"For Relative time restatement, anchor time should be defined"),p=s||new Date):p=new Date,h.anchorDate&&!y(h.relativeUnit)){var l=h.anchorDate;p=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()))}var m=this.getDateRange(p,h);return m.min.epochTimeStamp=m.min.getTime(),m.max.epochTimeStamp=m.max.getTime(),y(h.relativeUnit)?this.getTimeRangeRestatement(h,d,m,n):o.getDateRangeRestatement(m)}static addMinutes(h,d){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes()+d,h.getSeconds())}static addHours(h,d){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours()+d,h.getMinutes(),h.getSeconds())}static addDays(h,d){return new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()+d))}static addMonths(h,d){if(0===d)return h;var p=h.getUTCDate()-(d>0?1:-1),l=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+d,p)),m=l.getUTCDate();if(p>0)if(m!==p&&d>0)l=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+d+1,0));else if(d<0){var b=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),p));(m!==p||b.getUTCMonth()!==h.getUTCMonth())&&(l=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+d+1,1)))}return l}static addYears(h,d){return this.addMonths(h,12*d)}static getDurationMax(h,d){if(h===u.Current)return 1;switch(d){case t.Year:case t.CalendarYear:return 100;case t.Month:case t.CalendarMonth:case t.CalendarWeek:case t.Week:return 1e3;default:return 1e4}}static getCalendarWeek(h){var d=h.getUTCDay(),n=this.addDays(h,-d);return{min:n,max:this.addDays(n,6)}}static getCalendarMonth(h){return{min:new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),1)),max:new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+1,0))}}static getCalendarYear(h){return{min:new Date(Date.UTC(h.getUTCFullYear(),0,1)),max:new Date(Date.UTC(h.getUTCFullYear(),11,31))}}}},359155:function(Ce,k,r){r.d(k,{g:function(){return q},CH:function(){return x},J6:function(){return w},Ue:function(){return z},E3:function(){return U},Ym:function(){return G},WU:function(){return j},aY:function(){return Ge},KF:function(){return ye},kA:function(){return H},v1:function(){return le},p$:function(){return J},G2:function(){return T},EO:function(){return ne},eU:function(){return Se},h1:function(){return he},Z:function(){return L},X0:function(){return R}});var a=r(939123),e=r(753104),u=r(845856),t=r(616113),C=r(890770),y=r(123537),i=r(334673),o=r(931145),c=r(477732),h=r(786016),n=1e15,s=1e-4,b=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i;class V{project(Pe){return this.value?(0,e.oI)(Pe/this.value):Pe}isApplicableTo(Pe){Pe=Math.abs(Pe);var Ve=(0,e.p8)(Pe,3);return(0,e.bA)(Pe,this.applicableRangeMin,Ve)&&(0,e.Po)(Pe,this.applicableRangeMax,Ve)}isScaling(){return this.value>1}}var g=(()=>{class de{constructor(Ve){this.units=Ve||[]}getUnits(Ve=!1){var Ze=_.clone(this.units);return Ve&&_.remove(Ze,Ue=>0===Ue.value),Ze}get title(){return this.displayUnit?this.displayUnit.title:void 0}update(Ve){void 0!==Ve&&(this.displayUnit=this.findApplicableDisplayUnit(Ve))}findApplicableDisplayUnit(Ve){for(var Ze of this.units)if(Ze.isApplicableTo(Ve))return Ze}format(Ve,Ze,Ue,Je){a.fF.assert(()=>"number"==typeof Ve,"value must be a number"),Ue=this.getNumberOfDecimalsForFormatting(Ue);var De="";return this.isFormatSupported(Ze)&&!this.hasScientificFormat(Ze)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(Ve=this.displayUnit.project(Ve),De=this.displayUnit.labelFormat),this.formatHelper(Ve,De,Ze,Ue,Je)}isFormatSupported(Ve){return!de.UNSUPPORTED_FORMATS.test(Ve)}isPercentageFormat(Ve){return Ve&&Ve.indexOf("%")>=0}shouldRespectScalingUnit(){return!0}getNumberOfDecimalsForFormatting(Ve){return Ve}isScalingUnit(){return this.displayUnit&&this.displayUnit.isScaling()}formatHelper(Ve,Ze,Ue,Je,De){if(("g"===Ue||"G"===Ue)&&null!=Je&&(Ue=h.Pe),(Ue=(0,i.dc)(Ue,Je,De))&&!i.dx.isStandardNumberFormat(Ue))return i.dx.formatNumberWithCustomOverride(Ve,Ue,Ze);Ue||(Ue="G"),Ze||(Ze="{0}");var ue=i.dx.formatValue(Ve,Ue);return i.dx.format(Ze,[ue])}formatSingleValue(Ve,Ze,Ue,Je){return this.update(this.shouldUseValuePrecision(Ve)?(0,e.p8)(Ve,8):Ve),this.format(Ve,Ze,Ue,Je)}shouldUseValuePrecision(Ve){if(0===this.units.length)return!0;var Ze=0;for(var Ue of this.units)if(Ue.isScaling()){Ze=Ue.applicableRangeMin;break}return Math.abs(Ve)<Ze}isScientific(Ve){return Ve<-n||Ve>n||-s<Ve&&Ve<s&&0!==Ve}hasScientificFormat(Ve){return Ve&&(-1!==Ve.toUpperCase().indexOf("E+")||-1!==Ve.toUpperCase().indexOf("E-"))}supportsScientificFormat(Ve){return!Ve||b.test(Ve)}shouldFallbackToScientific(Ve,Ze){return!this.hasScientificFormat(Ze)&&this.supportsScientificFormat(Ze)&&this.isScientific(Ve)}getScientificFormat(Ve,Ze,Ue,Je){if(this.isFormatSupported(Ze)&&this.shouldFallbackToScientific(Ve,Ze)){var De=(0,i.IE)(Ve,Ze);return Ue&&(De=(0,i.dc)(De||"0",Math.abs(Ue),Je)),De?De+"E+0":"0.##E+0"}return Ze}}return de.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,de})();class v extends g{constructor(){super([])}}class f extends g{constructor(Pe){super(f.getUnits(Pe))}format(Pe,Ve,Ze,Ue){return Ve=this.getScientificFormat(Pe,Ve,Ze,Ue),super.format(Pe,Ve,Ze,Ue)}static reset(){f.units=null}static getUnits(Pe){return f.units||(f.units=D(Pe,(Ve,Ze,Ue)=>Ve-Ze>=1e3?Ve/10:Ue),f.units.length>=1&&(f.units[f.units.length-1].applicableRangeMax=1/0)),f.units}}class S extends g{constructor(Pe){super(S.getUnits(Pe))}static reset(){S.units=null}static getUnits(Pe){return S.units||(S.units=D(Pe),S.units.length>=1&&(S.units[S.units.length-1].applicableRangeMax=1/0)),S.units}format(Pe,Ve,Ze,Ue){return Ve=this.getScientificFormat(Pe,Ve,Ze,Ue),super.format(Pe,Ve,Ze,Ue)}}var P=(()=>{class de extends g{constructor(Ve){super(de.getUnits(Ve))}isFormatSupported(Ve){return!de.UNSUPPORTED_FORMATS.test(Ve)}static getUnits(Ve){if(!de.units){var Ze=[],Ue=(De,ue,_e)=>-1===De&&De-ue>=1e3?De/10:_e,Je=Ve(-1);M(Ze,0,Je.title,Je.format,Ue),M(Ze,1,(Je=Ve(0)).title,Je.format,Ue),de.units=Ze.concat(D(Ve,Ue)),de.units.length>=1&&(de.units[de.units.length-1].applicableRangeMax=1/0)}return de.units}format(Ve,Ze,Ue,Je){return Ze=this.getScientificFormat(Ve,Ze,Ue,Je),super.format(Ve,Ze,Ue,Je)}}return de.UNSUPPORTED_FORMATS=/^(e\d*)$/i,de})();function D(de,Pe){for(var Ve=[],Ze=3;Ze<24;Ze++){var Ue=de(Ze);Ue&&M(Ve,(0,e.wA)(Ze),Ue.title,Ue.format,Pe)}return Ve}function M(de,Pe,Ve,Ze,Ue){if(Ve||Ze){var Je=Pe;if(de.length>0){var De=de[de.length-1];Ue&&(Je=Ue(Pe,De.value,Je)),De.applicableRangeMax=Je}var ue=new V;ue.value=Pe,ue.applicableRangeMin=Je,ue.applicableRangeMax=1e3*Je,ue.title=Ve,ue.labelFormat=Ze,de.push(ue)}}function w(de){x||(u.f.information("allowFormatBeautification used",void 0,{key:de}),x=!0)}var x=!1;function L(de){return h.um[de]}var B={null:h.um.NullValue,true:h.um.BooleanTrue,false:h.um.BooleanFalse,NaN:h.um.NaNValue,infinity:h.um.InfinityValue,negativeInfinity:h.um.NegativeInfinityValue,beautify:de=>function(de){var Pe=h.A0[de];return Pe?(w(Pe),h.um[Pe]||de):de}(de),describe:de=>function(de){var Pe=-1===de?"Auto":de.toString(),Ue=h.um["DisplayUnitSystem_E"+Pe+"_Title"],Je=de<=0?"{0}":h.um["DisplayUnitSystem_E"+Pe+"_LabelFormat"];if(Ue||Je)return{title:Ue,format:Je}}(de),restatementComma:h.um.RestatementComma,restatementCompoundAnd:h.um.RestatementCompoundAnd,restatementCompoundOr:h.um.RestatementCompoundOr},I=2,W=1e3,O=1e4,F=2,A={displayName:"",type:o.Ge.fromPrimitiveTypeAndCategory(7)};function T(de){return(0,i.rH)(de)}function R(de){a.fF.assertValue(de,"options"),B=de,f.reset(),S.reset()}function U(de,Pe=!1){var Ve=Pe?B.beautify(de):de;return{format:function(Ze){return null==Ze?B.null:we(Ze,Ve)}}}function z(de){a.fF.assertValue(de,"options");var Pe=de.allowFormatBeautification?B.beautify(de.format):de.format;if(function(de){var Pe=de.value,Ve=de.value2,Ze=de.format,Ue=de.columnType;if(de.formatSingleValues&&Ze&&Math.abs(Pe)<O)if((0,i.iH)(Ze)){if((0,e.U)(Pe))return!1}else if((0,i.rH)(Ze,!0).precision<F)return!1;if("number"==typeof Pe||"number"==typeof Ve)return!(Ue&&Ue.temporal&&Ue.temporal.year)}(de)){var Ve=G(de.displayUnitSystemType),Ze=!!de.formatSingleValues;Ve.update(Math.max(Math.abs(de.value||0),Math.abs(de.value2||0)));var Je,Ue=null!=de.precision;return Ue?Je=-de.precision:Ve.displayUnit&&Ve.displayUnit.value>1&&(Je=-I),{format:function(ue){var _e=je(ue,!0);if(!(0,t.g)(_e))return _e;var te=Number(ue);return te&&!Ve.isScalingUnit()&&Math.abs(te)<W&&!Ue&&(ue=(0,e.W0)(te)),Ze?Ve.formatSingleValue(te,Pe,Je,Ue):Ve.format(te,Pe,Je,Ue)},displayUnit:Ve.displayUnit,options:de}}if(function(de,Pe,Ve){return de instanceof Date&&Pe instanceof Date&&null!=Ve}(de.value,de.value2,de.tickCount)){var De=c.EP.getIntervalUnit(de.value,de.value2,de.tickCount);return{format:function(ue){return null==ue?B.null:we(ue,i.dx.dateFormatString(De))},options:de}}return U(Pe)}function j(de,Pe,Ve){return null==de?B.null:we(de,Ve?B.beautify(Pe):Pe)}function H(de,Pe,Ve,Ze,Ue){return!(Ve&&Ve.type&&Ve.type.dateTime)&&de instanceof Date?we(de,ne(A,null,!1),Ue):we(de,Se(Pe,Ve,Ze),Ue)}class q{constructor(Pe){a.fF.assertValue(Pe,"createVariantMeasureFormatter - options"),a.fF.assertValue(Pe.column,"createVariantMeasureFormatter - options.column"),a.fF.assertValue(Pe.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=Pe,this.columnFormatString=ne(Pe.column,Pe.formatStringPropId,!1),this.isDateTimeColumn=Pe.column&&Pe.column.type&&Pe.column.type.dateTime,(null!=Pe.displayUnit&&1!==Pe.displayUnit||null!=Pe.precision)&&(this.displayUnitSystem=G(Pe.displayUnitSystemType),this.displayUnitSystem.update(Pe.displayUnit))}setDisplayUnitSystem(Pe,Ve){null==Pe&&null==Ve?this.displayUnitSystem=void 0:(this.displayUnitSystem=G(Ve),this.displayUnitSystem.update(Pe))}format(Pe,Ve){var Ze=this.options;if(!this.isDateTimeColumn&&Pe instanceof Date)return we(Pe,ne(A,null,!1),Ze.nullsAreBlank);var Je=this.columnFormatString;if(Ve){var De=(0,y.NA)(Ve,Ze.formatStringPropId);null!=De&&(Je=De)}if(this.displayUnitSystem&&"number"==typeof Pe&&null!=Pe){var ue=Ze.precision;return Ze.defaultPrecisionForScaledValues&&null==(ue=he(ue,Je))&&Ze.displayUnit>1&&(ue=I),Ze.formatSingleValues?this.displayUnitSystem.formatSingleValue(Pe,Je,ue,Ze.trailingZeroes):this.displayUnitSystem.format(Pe,Je,ue,Ze.trailingZeroes)}return we(Pe,Je,Ze.nullsAreBlank)}}function G(de){if(null==de)return new f(B.describe);switch(de){case C.V.Default:return new f(B.describe);case C.V.WholeUnits:return new S(B.describe);case C.V.Verbose:return new v;case C.V.DataLabels:return new P(B.describe);default:return a.fF.assertFail("Unknown display unit system type"),new f(B.describe)}}function J(de=!1){return new P(B.describe).getUnits(de)}function ne(de,Pe,Ve){if(de){if(Pe){var Ze=(0,y.NA)(de.objects,Pe);if(Ze)return Ze}if(!Ve&&de.type)return le(de.type)}}function le(de){return a.fF.assertValue(de,"type must be defined"),de.dateTime?h.eF:de.integer?de.temporal&&de.temporal.year?"0":h.Bq:de.numeric?h.Pe:void 0}function he(de,Pe){if(a.fF.assertAnyValue(Pe,"format"),void 0!==de)return de;if("g"!==Pe&&"G"!==Pe){if(Pe){var Ve=(0,i.OQ)(Pe).positive,Ze=(0,i.rH)(Ve,!0);if(Ze.hasDots)return Ze.optionalPrecision?void 0:Ze.precision}return 0}}function Se(de,Pe,Ve,Ze){return(0,y.NA)(de,Ve)||ne(Pe,Ve,Ze)}function Ke(de,Pe){var Ve;if(!de)return null;var Ze=de.length;if(Ze>0){Ve=de[0];for(var Ue=Ze-1,Je=1,De=Ue;Je<De;Je++)Ve=(0,t.W)(B.restatementComma,Ve,de[Je]);Ze>1&&(Ve=(0,t.W)(Pe,Ve,de[Ue]))}else Ve=null;return Ve}function Ge(de){return Ke(de,B.restatementCompoundAnd)}function ye(de){return Ke(de,B.restatementCompoundOr)}function we(de,Pe,Ve){var Ze=je(de,Ve||!1);return(0,t.g)(Ze)?i.dx.formatValue(de,Pe):Ze}function je(de,Pe){return null==de&&Pe?B.null:!0===de?B.true:!1===de?B.false:"number"==typeof de&&isNaN(de)?B.NaN:de===Number.NEGATIVE_INFINITY?B.negativeInfinity:de===Number.POSITIVE_INFINITY?B.infinity:""}},786016:function(Ce,k,r){r.d(k,{A0:function(){return C},Bq:function(){return a},Pe:function(){return e},eF:function(){return u},um:function(){return t}});var a="g",e="#,0.00",u="d",t={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},C={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},467562:function(Ce,k,r){r.d(k,{l:function(){return a}});var a=function(e){return e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.Week=2]="Week",e[e.Day=3]="Day",e[e.Hour=4]="Hour",e[e.Minute=5]="Minute",e[e.Second=6]="Second",e[e.Millisecond=7]="Millisecond",e}({})},473634:function(Ce,k,r){r.d(k,{$n:function(){return u},Iu:function(){return h},dp:function(){return c}});var a=r(939123),e=r(631553);function u(b,V){if(b.matrix||a.fF.assert(()=>(0,e.C0)(b.metadata,V.metadata),"Cannot merge data views with different metadata columns"),V.metadata.segment?b.metadata.segment=V.metadata.segment:delete b.metadata.segment,b.table&&V.table&&function(b,V){if(a.fF.assertValue(b,"source"),a.fF.assertValue(V,"segment"),!_.isEmpty(V.rows)){var g=V.lastMergeIndex+1;y(b.rows,V.rows,g),a.fF.assert(()=>!b.identity==!V.identity,"The existence of identity in the new segment is different than the source"),V.identity&&y(b.identity,V.identity,g)}}(b.table,V.table),b.categorical&&V.categorical&&function(b,V){if(a.fF.assertValue(b,"source"),a.fF.assertValue(V,"segment"),a.fF.assert(()=>_.size(b.categories)===_.size(V.categories),"pre-condition: source categories and segment categories should have the same length"),a.fF.assert(()=>_.every(b.categories,E=>b.categories[0].identity===E.identity),"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(b.categories)&&!_.isEmpty(V.categories)){for(var g=V.lastMergeIndex+1,v=V.categories.length,f=function(){var E=V.categories[S],w=b.categories[S];a.fF.assert(()=>(0,e.Mw)(w.source,E.source),"Source and segment category have different sources."),a.fF.assert(()=>void 0!==w.values||void 0===w.identity,"Source category is missing values but has identities."),E.values&&y(w.values,E.values,g)},S=0;S<v;S++)f();V.categories[0].identity&&y(b.categories[0].identity,V.categories[0].identity,g)}if(b.values&&V.values){var P=V.values.length;a.fF.assert(()=>b.values.length===P,"Source and segment values have different lengths.");for(var D=function(){var E=V.values[M],w=b.values[M];a.fF.assert(()=>(0,e.Mw)(w.source,E.source),"Source and segment value have different sources."),!w.values&&E.values&&(w.values=[]);var x=V.lastMergeIndex+1;E.values&&y(w.values,E.values,x),E.highlights&&y(w.highlights,E.highlights,x)},M=0;M<P;M++)D()}}(b.categorical,V.categorical),b.tree&&V.tree&&i(b.tree.root,V.tree.root,!0),b.matrix&&V.matrix){a.fF.assertValue(b.matrix.rows,"source.matrix.rows"),a.fF.assertValue(b.matrix.rows.levels,"source.matrix.rows.levels"),a.fF.assertValue(V.matrix.rows,"segment.matrix.rows"),a.fF.assertValue(V.matrix.rows.levels,"segment.matrix.rows.levels"),a.fF.assertValue(b.metadata,"source.metadata"),a.fF.assertValue(b.metadata.columns,"source.metadata.columns"),a.fF.assertValue(V.metadata,"segment.metadata"),a.fF.assertValue(V.metadata.columns,"segment.metadata.columns");var g=b.matrix.rows.levels.length,v=V.matrix.rows.levels.length;if(g>v)_.remove(b.metadata.columns,D=>null!=D.index&&!_.some(V.metadata.columns,M=>M.index===D.index)),b.metadata.columns.length=V.metadata.columns.length,function(b,V){var g=V.levels.length;b.levels.length=g,a.fF.assert(()=>_.isEqual(b.levels,V.levels),"Segments have different levels");var v=[];for(var f of(l(b.root.children,g-1,v),v))n(f)}(b.matrix.rows,V.matrix.rows);else if(g<v){var f=_.filter(V.metadata.columns,D=>null!=D.index&&!_.some(b.metadata.columns,M=>M.index===D.index)),S=0;for(var P of f){for(;S<b.metadata.columns.length&&(null==b.metadata.columns[S].index||b.metadata.columns[S].index<P.index);)S++;b.metadata.columns.splice(S,0,P)}!function(b,V){for(var g=V.levels.length,v=b.levels.length,f=v;f<g;f++)b.levels.push(V.levels[f]);a.fF.assert(()=>_.isEqual(b.levels,V.levels),"Segments have different levels");var S=[];for(var P of(l(b.root.children,v-1,S),S))p(P,v);(function(b,V){for(var g=b.root,v=0;v<V;v++)if(_.isEmpty(g.children)||(a.fF.assertValue(g=g.children[0],"Segment has fewer levels than expected"),!g.isMerge||g.isSubtotal))return!1;return!0})(V,v)&&delete _.last(S).children}(b.matrix.rows,V.matrix.rows)}i(b.matrix.rows.root,V.matrix.rows.root,g!==v)}}function y(b,V,g){if(g>=V.length)return V;var v=[];return void 0!==g&&(v=V.splice(0,g)),Array.prototype.push.apply(b,V),v}function i(b,V,g){if(a.fF.assertValue(b,"sourceRoot"),a.fF.assertValue(V,"segmentRoot"),V.children&&0!==V.children.length){if(g&&(!b.children||0===b.children.length))return void(b.children=V.children);a.fF.assert(()=>b.children&&b.children.length>=0,"Source tree has different structure than segment.");var v=o(V.children),f=b.children[b.children.length-1],S=y(b.children,V.children,v);S.length>0&&i(f,S[S.length-1],g)}}function o(b){if(0===b.length)return 0;for(var V=0;V<b.length&&b[V].isMerge;V++);return V}function c(b,V){var g;for(var v of(a.fF.assertValue(b,"dataViewMerger.pruneTree - root"),a.fF.assertNonEmpty(V,"dataViewMerger.pruneTree - Zero-depth index"),V)){if(g=b.children,_.isEmpty(g))return!0;if(v>=g.length)return!1;g.length=v+1,b=_.last(g)}return!0}function h(b,V){var g=b.children;a.fF.assertNonEmpty(b.children,"Empty segment");for(var v=0,f=!0;!_.isEmpty(g);){var S=o(g);if(S>=g.length)f=!0;else{var P=g.length-S;f?void 0===V[v]?V[v]=P-1:V[v]+=P:V[v]=P-1,f=!1}g=_.last(g).children,v++}v<V.length&&(V.length=v)}function n(b){if(!_.isEmpty(b.children)){var V=_.find(b.children,g=>g.isSubtotal);V&&(b.values=V.values),delete b.children,delete b.childIdentityFields}}function p(b,V){b.isSubtotal||(a.fF.assert(()=>b.level===V-1,"Leaf was found on a non-last level"),a.fF.assert(()=>0===_.size(b.children),"Node has children"),b.children=[{isSubtotal:!0,level:V,values:b.values}],delete b.values)}function l(b,V,g){for(var v of(a.fF.assertValue(b,"nodes"),b))v.isSubtotal||(v.level===V?g.push(v):!_.isEmpty(v.children)&&void 0!==v.level&&v.level<V&&l(v.children,V,g))}},145741:function(Ce,k,r){r.d(k,{Y:function(){return c},dw:function(){return h},l0:function(){return o}});var a=r(939123),e=r(238175),u=r(132640),t=r(571619),C=r(631553),y=r(359155),i=function(d){return d[d.Contains=0]="Contains",d[d.Equals=1]="Equals",d}({});class o{constructor(n,s,p){this.selector=o.ensureSelector(n),this.highlight=s,this._columnLevelKeys=new e.o(()=>{if(n)return(0,u.AZ)(n,!1)}),this._identityLevelKeys=new e.o(()=>{if(n)return(0,u.AZ)(n,!0)}),this.selectorsByColumn=p}static fromSelectorsByColumn(n){var s=(0,u.tV)(n);return new o(s,!1,n)}static fromSelectorsByColumnAndRoles(n,s){var p=(0,u.tV)(n),l=new o(p,!1,n);return l.role=s,l}equals(n){return this.selector&&n.selector?this.highlight===n.highlight&&(0,u.fS)(this.selector,n.selector):!this.selector==!n.selector&&this.highlight===n.highlight}static isEqual(n,s){return n===s||null!=n&&null!=s&&n.equals(s)}includes(n,s=!1,p=!1,l){var m=this;if(!n)return!1;var b=this.selector,V=n.selector;if(!b||!V)return!1;var g=b.data,v=V.data;if(!g&&b.metadata&&b.metadata!==V.metadata||!s&&this.highlight!==n.highlight)return!1;if(g){if(!v)return!1;if(g.length>0)if(l){for(var M,f=p?i.Contains:i.Equals,S=this.getComparisonTypeCache(l,f),P=this.isOrderIndependentComparison(f),D=function(){var I=g[E];if(!v.some(W=>m.runComparison(I,W,f,S,P)))return{v:!1}},E=0,w=g.length;E<w;E++)if(M=D())return M.v}else for(var N,x=function(){var I=g[L];if(p){var W=I.expr;if(!_.some(v,O=>(0,t.yz)(W,O)))return{v:!1}}else if(!v.some(O=>(0,t.fS)(I,O)))return{v:!1}},L=0,B=g.length;L<B;L++)if(N=x())return N.v}return!0}getKey(){return void 0===this._key&&(this._key=`{selector: ${this.selector?this.getSelectorKey():null}, highlight: ${this.highlight}}`),this._key}getDecomposedKeys(n){return n?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()}getKeyWithoutHighlight(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight=`{selector: ${this.selector?this.getSelectorKey():null}}`),this._keyWithoutHighlight}hasIdentity(){return this.selector&&!!this.selector.data}getSelector(){return this.selector}getSelectorsByColumn(){return this.selectorsByColumn}getSelectorKey(){return void 0===this._selectorKey&&(this._selectorKey=(0,u.km)(this.selector)),this._selectorKey}runComparison(n,s,p,l,m){var b=this.extractComparisonFromCache(n,s,l);if(void 0===b){switch(p){case i.Contains:b=(0,t.yz)(n.expr,s);break;case i.Equals:b=(0,t.fS)(n,s);break;default:a.fF.assertNever(p)}this.addComparisonToCache(n,s,b,l,m)}return b}extractComparisonFromCache(n,s,p){if(p){var l=p[n.key];if(l)return l[s.key]}}addComparisonToCache(n,s,p,l,m){if(l){var b=l[n.key];if(b||(b=l[n.key]={}),b[s.key]=p,m){var V=l[s.key];V||(V=l[s.key]={}),V[n.key]=p}}}getComparisonTypeCache(n,s){switch(s){case i.Contains:return n.containsComparisonCache;case i.Equals:return n.equalsComparisonCache;default:a.fF.assertNever(s)}}isOrderIndependentComparison(n){switch(n){case i.Contains:case i.Equals:return!0;default:a.fF.assertNever(n)}}static createNull(n=!1){return new o(null,n)}static createWithId(n,s=!1){var p=null;return n&&(p={data:[n]}),new o(p,s)}static createWithMeasure(n,s=!1){a.fF.assertValue(n,"measureId");var l=new o({metadata:n},s);return l.selectorsByColumn={metadata:[n]},l}static createWithIdAndMeasure(n,s,p=!1){var l={};return n&&(l.data=[n]),s&&(l.metadata=s),!n&&!s&&(l=null),new o(l,p)}static createWithIdAndMeasureAndCategory(n,s,p,l=!1,m=[]){var b=this.createWithIdAndMeasure(n,s,l);return b.selector&&(b.selectorsByColumn={},n&&p&&(b.selectorsByColumn.dataMap={},b.selectorsByColumn.dataMap[p]=[n]),s&&(b.selectorsByColumn.metadata=[s]),_.isEmpty(m)||(b.selectorsByColumn.valueDetails=m)),b}static createWithIds(n,s,p=!1){var l=null,m=o.idArray(n,s);return m&&(l={data:m}),new o(l,p)}static createWithIdsAndMeasure(n,s,p,l=!1){var m={},b=o.idArray(n,s);return b&&(m.data=b),p&&(m.metadata=p),!n&&!s&&!p&&(m=null),new o(m,l)}static createWithSelectorForColumnAndMeasure(n,s,p=!1,l=[]){var m={};_.isEmpty(n)||(m.dataMap=n),s&&(m.metadata=[s]),!n&&!s&&(m=null),_.isEmpty(l)||(m.valueDetails=l);var b=(0,u.tV)(m);return new o(b,p,m)}static createWithSelectorForColumnAndMeasures(n,s,p,l=!1){var m={};_.isEmpty(n)||(m.dataMap=n),_.isEmpty(s)||(m.metadata=s),p&&(m.valueDetails=p),!n&&_.isEmpty(s)&&(m=null);var b=(0,u.tV)(m);return new o(b,l,m)}static createWithHighlight(n){a.fF.assertValue(n,"original"),a.fF.assert(()=>!n.highlight,"!original.highlight");var s=new o(n.getSelector(),!0);return s.selectorsByColumn=n.selectorsByColumn,s}static idArray(n,s){if(n||s){var p=[];return n&&p.push(n),s&&s!==n&&p.push(s),p}}static ensureSelector(n){return n&&n.data&&(n.data=_.uniqWith(n.data,u.cY)),n}}function c(d,n,s){var l,p=d.format;return{expr:d.expr,get formattedValue(){return void 0===l&&(l=(0,y.WU)(n,p)),l},value:n,identity:s,queryName:d.queryName}}class h{static builder(){return new h}withColumnIdentity(n,s,p){return this.addItemToDataMap(s,n),p&&(this.ensureValueDetails(),this.valueDetails.push(...p)),this}withCategoryIdentity(n,s,p){return n&&n.source&&n.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(c(n.source,n.values[s],n.identity[s])),this.addItemToDataMap(n.source.queryName,p)),this}withCategory(n,s,p,l=!1){if((0,C.rX)(n)){if(l&&p)for(var m of n)this.addCategoryValueDetails(m,s);n[0]&&p&&n[0].identity&&this.addItemToDataMap(p,n[0].identity[s])}else l&&this.addCategoryValueDetails(n,s),n&&n.source&&n.source.queryName&&n.identity&&this.addItemToDataMap(n.source.queryName,n.identity[s]);return this}addCategoryValueDetails(n,s){n&&n.source&&n.source.queryName&&n.identity&&(this.ensureValueDetails(),this.valueDetails.push(c(n.source,n.values[s],n.identity[s])))}withSeries(n,s,p=!1){return n&&n.source&&n.source.queryName&&s&&(p&&(0,C.F)(s)&&(this.ensureValueDetails(),this.valueDetails.push(c(n.source,s.name,s.identity))),this.addItemToDataMap(n.source.queryName,s.identity)),this}withMeasure(n,s,p){if(this.ensureMeasures(),null!=n&&this.measures.push(n),s&&s.source.queryName===n)if(this.ensureValueDetails(),p>=0)this.valueDetails.push(c(s.source,s.values[p],void 0));else for(var l of s.values)this.valueDetails.push(c(s.source,l,void 0));return this}withMeasures(n){for(var s of(this.ensureMeasures(),n))this.measures.push(s);return this}createSelectionId(){return o.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)}clone(){var n=new h,s=this.dataMap;if(s){var p=n.dataMap={};for(var l in this.dataMap)p[l]=[...s[l]||[]]}return this.measures&&(n.measures=[...this.measures||[]]),n}ensureMeasures(){void 0===this.measures&&(this.measures=[])}ensureValueDetails(){void 0===this.valueDetails&&(this.valueDetails=[])}addItemToDataMap(n,s){if(s){this.dataMap||(this.dataMap={});var p=this.dataMap,l=p[n];if(null==l)return void(p[n]=[s]);l.push(s)}}}},564619:function(Ce,k,r){r.d(k,{$s:function(){return I},Hp:function(){return N},J1:function(){return O},Um:function(){return R},Vn:function(){return e},_6:function(){return W},gz:function(){return L},pV:function(){return U}});var a=r(939123);function e(H,q){return a.fF.assertValue(H,"expr"),a.fF.assertValue(q,"visitor"),a.fF.assertValue(H,"expected sqExpr to conform to a fieldExprPattern"),H.column?function(H,q){return a.fF.assertValue(H,"column"),a.fF.assertValue(q,"visitor"),q.visitColumn(H)}(H.column,q):H.columnAggr?function(H,q){return a.fF.assertValue(H,"columnAggr"),a.fF.assertValue(q,"visitor"),q.visitColumnAggr(H)}(H.columnAggr,q):H.groupingColumn?function(H,q){return a.fF.assertValue(H,"column"),a.fF.assertValue(q,"visitor"),q.visitGroupingColumn(H)}(H.groupingColumn,q):H.groupingColumnAggr?function(H,q){return a.fF.assertValue(H,"columnAggr"),a.fF.assertValue(q,"visitor"),q.visitGroupingColumnAggr(H)}(H.groupingColumnAggr,q):H.columnHierarchyVariation?function(H,q){return a.fF.assertValue(H,"columnHierarchyVariation"),a.fF.assertValue(q,"visitor"),q.visitColumnHierarchyVariation(H)}(H.columnHierarchyVariation,q):H.columnHierarchyLevelVariation?function(H,q){return a.fF.assertValue(H,"columnHierarchyLevelVariation"),a.fF.assertValue(q,"visitor"),q.visitColumnHierarchyLevelVariation(H)}(H.columnHierarchyLevelVariation,q):H.columnSubquery?function(H,q){return a.fF.assertValue(H,"columnSubquery"),a.fF.assertValue(q,"visitor"),q.visitColumnSubquery(H)}(H.columnSubquery,q):H.columnAggrSubquery?function(H,q){return a.fF.assertValue(H,"columnAggrSubquery"),a.fF.assertValue(q,"visitor"),q.visitColumnAggrSubquery(H)}(H.columnAggrSubquery,q):H.columnTransformRef?function(H,q){return a.fF.assertValue(H,"columnTransformRef"),a.fF.assertValue(q,"visitor"),q.visitColumnTransformRef(H)}(H.columnTransformRef,q):H.entity?function(H,q){return a.fF.assertValue(H,"entity"),a.fF.assertValue(q,"visitor"),q.visitEntity(H)}(H.entity,q):H.entityAggr?function(H,q){return a.fF.assertValue(H,"entityAggr"),a.fF.assertValue(q,"visitor"),q.visitEntityAggr(H)}(H.entityAggr,q):H.hierarchy?function(H,q){return a.fF.assertValue(H,"hierarchy"),a.fF.assertValue(q,"visitor"),q.visitHierarchy(H)}(H.hierarchy,q):H.hierarchyLevel?function(H,q){return a.fF.assertValue(H,"hierarchyLevel"),a.fF.assertValue(q,"visitor"),q.visitHierarchyLevel(H)}(H.hierarchyLevel,q):H.hierarchyLevelAggr?function(H,q){return a.fF.assertValue(H,"hierarchyLevelAggr"),a.fF.assertValue(q,"visitor"),q.visitHierarchyLevelAggr(H)}(H.hierarchyLevelAggr,q):H.measure?function(H,q){return a.fF.assertValue(H,"measure"),a.fF.assertValue(q,"visitor"),q.visitMeasure(H)}(H.measure,q):H.percentile?function(H,q){return a.fF.assertValue(H,"percentile"),a.fF.assertValue(q,"visitor"),q.visitPercentile(H)}(H.percentile,q):H.percentOfGrandTotal?function(H,q){return a.fF.assertValue(H,"percentOfGrandTotal"),a.fF.assertValue(q,"visitor"),q.visitPercentOfGrandTotal(H)}(H.percentOfGrandTotal,q):H.percentOfRoleTotal?function(H,q){return a.fF.assertValue(H,"percentOfRoleTotal"),a.fF.assertValue(q,"visitor"),q.visitPercentOfRoleTotal(H)}(H.percentOfRoleTotal,q):H.selectRef?function(H,q){return a.fF.assertValue(H,"selectRef"),a.fF.assertValue(q,"visitor"),q.visitSelectRef(H)}(H.selectRef,q):H.transformOutputRoleRef?function(H,q){return a.fF.assertValue(H,"transformOutputRoleRef"),a.fF.assertValue(q,"visitor"),q.visitTransformOutputRoleRef(H)}(H.transformOutputRoleRef,q):H.filteredEval?function(H,q){return a.fF.assertValue(H,"filteredEval"),a.fF.assertValue(q,"visitor"),q.visitFilteredEval(H)}(H.filteredEval,q):H.arithmetic?function(H,q){return a.fF.assertValue(H,"arithmetic"),a.fF.assertValue(q,"visitor"),q.visitArithmetic(H)}(H.arithmetic,q):H.constant?function(H,q){return a.fF.assertValue(H,"constant"),a.fF.assertValue(q,"visitor"),q.visitConstant(H)}(H.constant,q):H.sparklineData?function(H,q){return a.fF.assertValue(H,"sparkline"),a.fF.assertValue(q,"visitor"),q.visitSparklineData(H)}(H.sparklineData,q):H.nativeVisualCalc?function(H,q){return a.fF.assertValue(H,"nativeVisualCalc"),a.fF.assertValue(q,"visitor"),q.visitNativeVisualCalc(H)}(H.nativeVisualCalc,q):void a.fF.assertFail("failed to visit a fieldExprPattern.")}function N(H){var q=e(H,j.instance);return a.fF.assert(()=>!q||1===_.size(q),"If there are more than 1 property names, then use getPropertyNames instead"),q?.[0]}function L(H){return e(H,j.instance)}function I(H){return H.columnHierarchyLevelVariation?H.columnHierarchyLevelVariation.source:H.column||H.groupingColumn||H.groupingColumnAggr||H.measure||H.columnAggr}function W(H){return N(H)||R(H).entity}function O(H){var q=function(H){a.fF.assertValue(H,"fieldExpr");var q=U(H);return a.fF.assertAnyValue(q,"expected fieldExpr to be an entity item"),_.isEmpty(q)?void 0:_.map(q,G=>G.schema)}(H);return a.fF.assert(()=>!q||1===_.size(q),"If there are more than 1 schema, then use getSchemas instead"),q?.[0]}function R(H){var q=e(H,z.instance);return a.fF.assert(()=>!q||1===_.size(q),"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),q?.[0]}function U(H){return e(H,z.instance)}var z=(()=>{class H{visitColumn(G){return[H.toEntityItemExprPattern(G)]}visitColumnAggr(G){return[H.toEntityItemExprPattern(G)]}visitGroupingColumn(G){return[H.toEntityItemExprPattern(G)]}visitGroupingColumnAggr(G){return[H.toEntityItemExprPattern(G)]}visitColumnHierarchyVariation(G){return[H.toEntityItemExprPattern(G.source)]}visitColumnHierarchyLevelVariation(G){return[H.toEntityItemExprPattern(G.source)]}visitColumnSubquery(G){}visitColumnAggrSubquery(G){}visitColumnTransformRef(G){}visitEntity(G){return[H.toEntityItemExprPattern(G)]}visitEntityAggr(G){return[H.toEntityItemExprPattern(G)]}visitHierarchy(G){return[H.toEntityItemExprPattern(G)]}visitHierarchyLevel(G){return[H.toEntityItemExprPattern(G)]}visitHierarchyLevelAggr(G){return[H.toEntityItemExprPattern(G)]}visitMeasure(G){return[H.toEntityItemExprPattern(G)]}visitSelectRef(G){}visitPercentile(G){return e(G.arg,this)}visitPercentOfGrandTotal(G){return e(G.baseExpr,this)}visitPercentOfRoleTotal(G){return e(G.baseExpr,this)}visitTransformOutputRoleRef(G){}visitFilteredEval(G){return e(G.baseExpr,this)}visitArithmetic(G){var J=e(G.left,this),Z=e(G.right,this),Q=J&&Z?[...J,...Z]:J??Z;return _.isEmpty(Q)?void 0:Q}visitConstant(G){}visitSparklineData(G){return[...e(G.measure,this),..._.chain(G.grouping).map(J=>e(J,this)).flatten().value()]}visitNativeVisualCalc(G){}static toEntityItemExprPattern(G){a.fF.assertValue(G,"exprPattern");var J={schema:G.schema,entity:G.entity};return G.entityVar&&(J.entityVar=G.entityVar),J}}return H.instance=new H,H})(),j=(()=>{class H{visitColumn(G){return[G.name]}visitColumnAggr(G){return[G.name]}visitGroupingColumn(G){return[G.name]}visitGroupingColumnAggr(G){return[G.name]}visitColumnHierarchyVariation(G){}visitColumnHierarchyLevelVariation(G){}visitColumnSubquery(G){return[G.name]}visitColumnAggrSubquery(G){return[G.name]}visitColumnTransformRef(G){return[G.name]}visitEntity(G){}visitEntityAggr(G){}visitHierarchy(G){}visitHierarchyLevel(G){}visitHierarchyLevelAggr(G){}visitMeasure(G){return[G.name]}visitSelectRef(G){}visitPercentile(G){return e(G.arg,this)}visitPercentOfGrandTotal(G){return e(G.baseExpr,this)}visitPercentOfRoleTotal(G){return e(G.baseExpr,this)}visitTransformOutputRoleRef(G){}visitFilteredEval(G){return e(G.baseExpr,this)}visitArithmetic(G){var J=e(G.left,this),Z=e(G.right,this),Q=J&&Z?[...J,...Z]:J??Z;return _.isEmpty(Q)?void 0:Q}visitConstant(G){}visitSparklineData(G){return[...e(G.measure,this),..._.chain(G.grouping).map(J=>e(J,this)).flatten().value()]}visitNativeVisualCalc(G){return[G.name]}}return H.instance=new H,H})()},895127:function(Ce,k,r){r.d(k,{P:function(){return o},Q:function(){return i}});var a=r(939123),e=r(377176),u=r(953474),t=r(693713),C=r(109562),y=r(946057);function i(d,n){return d.accept(new o(n))}class o extends t.vq{constructor(n){super(),this.schema=n}visitColumnRef(n){var s=n.source.accept(c.instance);if(s){if(s.entity){var p=s.entity;return p.name=n.ref,{column:p}}if(s.subquery)return s.subquery.variable?{columnSubquery:{name:n.ref,subqueryRef:s.subquery.variable}}:{columnSubquery:{name:n.ref,subquery:s.subquery.query}};if(s.transform)return{columnTransformRef:{name:n.ref,transformTable:s.transform}}}}visitMeasureRef(n){var s=n.source.accept(c.instance);if(s&&s.entity){var p=s.entity;return p.name=n.ref,{measure:p}}}visitEntity(n){var s={schema:n.schema,entity:n.entity};return n.variable&&(s.entityVar=n.variable),{entity:s}}visitAggr(n){var s=n.arg.accept(this);if(s){if(s.column){var p=s.column;return p.aggregate=n.func,{columnAggr:p}}if(s.columnAggr){var l=s.columnAggr;return l.aggregate=n.func,{columnAggr:l}}if(s.groupingColumn){var m=s.groupingColumn;return m.aggregate=n.func,{groupingColumnAggr:m}}if(s.groupingColumnAggr){var b=s.groupingColumnAggr;return b.aggregate=n.func,{groupingColumnAggr:b}}if(s.hierarchyLevel){var V=s.hierarchyLevel;return V.aggregate=n.func,{hierarchyLevelAggr:V}}if(s.columnHierarchyLevelVariation){var g=s.columnHierarchyLevelVariation.level;return g.aggregate=n.func,{hierarchyLevelAggr:g}}if(s.columnSubquery){var v=s.columnSubquery;return v.aggregate=n.func,{columnAggrSubquery:v}}}var f=n.arg.accept(c.instance);if(f&&f.entity){var S=f.entity;return S.aggregate=n.func,{entityAggr:S}}}visitPercentile(n){return{percentile:{arg:n.arg.accept(this),k:n.k,exclusive:n.exclusive}}}visitGroupRef(n){var s=n.source.accept(c.instance);if(s&&s.entity){var p=s.entity;for(var l of(p.name=n.ref,p.groupedColumns=[],n.groupedExprs)){var m=l.accept(this);(m.column||m.groupingColumn||m.hierarchyLevel)&&p.groupedColumns.push(m)}return{groupingColumn:p}}}visitHierarchy(n){var s=n.arg.accept(c.instance);if(s){if(s.entity)return{hierarchy:{entity:s.entity.entity,name:n.hierarchy,schema:s.entity.schema}};if(s.variation&&s.variation.column){var p=s.variation;if((0,u.jc)(n.arg)){var l=n.arg;if((0,u.Lk)(l.arg)){var m=l.arg,b=this.schema.schema(p.column.schema).findTargetEntityOfVariation(m.entity,p.column.name,p.variationName);if(b)return{columnHierarchyVariation:{source:{...p.column},hierarchy:{schema:p.column.schema,entity:b.name,name:n.hierarchy},variationName:s.variation.variationName}}}}}}}visitHierarchyLevel(n){var s=n.arg.accept(h.instance);if(s){var p;if(s.hierarchy&&(p={entity:s.hierarchy.entity,schema:s.hierarchy.schema,name:s.hierarchy.name,level:n.level}),s.variation){if(this.schema){var l=s.variation,m=this.schema.schema(s.variation.column.schema).findTargetEntityOfVariation(p.entity,l.column.name,l.variationName);m&&(p.entity=m.name)}return{columnHierarchyLevelVariation:{source:{entity:s.variation.column.entity,schema:s.variation.column.schema,name:s.variation.column.name},level:p,variationName:s.variation.variationName}}}return{hierarchyLevel:p}}}visitArithmetic(n){if(!(0,u.g5)(n.right)||3!==n.operator)return{arithmetic:{left:n.left.accept(this),right:n.right.accept(this),operator:n.operator}};var s=n.right.scope;return _.isEmpty(s)?{percentOfGrandTotal:{baseExpr:n.left.accept(this)}}:_.every(s,p=>(0,u.yL)(p))?{percentOfRoleTotal:{baseExpr:n.left.accept(this),roles:_.map(s,p=>p.role)}}:void 0}visitSelectRef(n){return{selectRef:{expressionName:n.expressionName}}}visitTransformOutputRoleRef(n){return{transformOutputRoleRef:{expressionName:n.role}}}visitFilteredEval(n){var s=_.map(n.filters,p=>{var l=(0,y.zz)(e.yl.fromSQFromAndSQFilters(new C.cL,[p]),this.schema);if(l)return a.fF.assert(()=>1===l.length,"There are more than one filter pattern in this Semantic Filter"),l[0]});return{filteredEval:{baseExpr:n.expression.accept(this),filters:s}}}visitConstant(n){return{constant:{value:n.value,type:n.type}}}visitSparklineData(n){return{sparklineData:{measure:n.measure.accept(this),grouping:_.map(n.grouping,s=>s.accept(this))}}}visitNativeVisualCalc(n){return{nativeVisualCalc:{name:n.name,language:n.language,expression:n.expression}}}}var c=(()=>{class d extends t.vq{visitEntity(s){var p={schema:s.schema,entity:s.entity};return s.variable&&(p.entityVar=s.variable),{entity:p}}visitPropertyVariationSource(s){var p=s.arg;if((0,u.Lk)(p)){var l={schema:p.schema,entity:p.entity,name:s.property};return p.variable&&(l.entityVar=p.variable),{variation:{column:l,variationName:s.name}}}}visitSubqueryRef(s){return s.variable?{subquery:{variable:s.variable}}:{subquery:{query:s.query}}}visitTransformTableRef(s){return a.fF.assertValue(s,"expr"),a.fF.assertValue(s.source,"source"),{transform:{name:s?.source}}}}return d.instance=new d,d})(),h=(()=>{class d extends t.vq{visitHierarchy(s){var l,m,p=s.arg.accept(c.instance);return p.variation?(l={name:s.hierarchy,schema:p.variation.column.schema,entity:p.variation.column.entity},m=p.variation):l={name:s.hierarchy,schema:p.entity.schema,entity:p.entity.entity},{hierarchy:l,variation:m}}}return d.instance=new d,d})()},693365:function(Ce,k,r){r.d(k,{$x:function(){return g},Bn:function(){return w},Gk:function(){return l},Ig:function(){return M},Mu:function(){return I},R$:function(){return b},SO:function(){return h},Sr:function(){return N},TI:function(){return m},U5:function(){return S},W2:function(){return v},_L:function(){return L},a4:function(){return x},bO:function(){return B},dR:function(){return n},fv:function(){return F},jS:function(){return E},lH:function(){return D},og:function(){return c},qP:function(){return V},tg:function(){return s},uT:function(){return A},vH:function(){return f},vf:function(){return P},ym:function(){return p}});var a=r(939123),e=r(528836),u=r(564619),t=r(895127),C=r(946057),y=r(953474),i=r(257738),o=r(169076);function c(U){var z=(0,u.Vn)(U,O.instance);return a.fF.assertValue(z,"Failed to convert FieldExprPattern into SQExpr"),z}function h(U){var z={condition:(0,C.Vn)(U,d.instance)};return _.isEmpty(U.target)||(z.target=_.map(U.target,j=>c(j))),z}var d=(()=>{class U{visitIn(j){var H=(0,e.Sh)(_.map(j.args,q=>c(q)),_.map(j.values,q=>_.map(q,G=>(0,e.kQ)(G.value,G.type))));return j.not?(0,e.ff)(H):H}visitBetween(j){var H,q;if(j&&j.lower&&j.upper&&((0,C.ty)(j.lower)&&(0,C.ty)(j.upper)?(H=(0,e.uQ)(j.lower.unit,(0,e.CQ)(j.lower.value)),q=(0,e.uQ)(j.upper.unit,(0,e.CQ)(j.upper.value))):(0,C.gq)(j.lower)&&(0,C.gq)(j.upper)&&(H=(0,e.kQ)(j.lower.value,j.lower.type),q=(0,e.kQ)(j.upper.value,j.upper.type)),H&&q))return(0,e.vX)(c(j.arg),H,q)}visitRelativeDateRange(j){return(0,o.kW)({field:c(j.arg),options:j.options})}visitComposite(j){return null}visitTopN(j){return null}visitComplex(j){a.fF.assertFail("cannot recreate complex patterns as SQExprs")}visitAdvanced(j){var H=j.logicalOperator,q=(0,C.kL)(j.left)?this.visitCompare(j.left):this.visitAdvanced(j.left),G=(0,C.kL)(j.right)?this.visitCompare(j.right):this.visitAdvanced(j.right);return 0===H?(0,e.xD)(q,G):(0,e.or)(q,G)}visitCompare(j){var H=c(j.arg),q=this.getValueExpr(j.condition);if(q&&H)return this.expandExpr(j.filterOperator,q,H)}expandExpr(j,H,q){switch(j){case 9:return(0,e.qu)(0,q,H);case 10:return(0,e.ff)((0,e.qu)(0,q,H));case 11:return(0,e.qu)(0,q,(0,e.IF)());case 12:return(0,e.ff)((0,e.qu)(0,q,(0,e.IF)()));case 5:return(0,e.r3)(q,H);case 6:return(0,e.ff)((0,e.r3)(q,H));case 7:return(0,e.Ny)(q,H);case 8:return(0,e.ff)((0,e.Ny)(q,H));case 3:return(0,e.qu)(1,q,H);case 4:return(0,e.qu)(2,q,H);case 1:return(0,e.qu)(3,q,H);case 2:return(0,e.qu)(4,q,H);case 13:return(0,e.qu)(0,q,(0,e.fL)(""));case 14:return(0,e.ff)((0,e.qu)(0,q,(0,e.fL)("")));default:a.fF.assertFail("Not valid filter operator type.")}}getValueExpr(j){var H;return j.constant?H=(0,e.kQ)(j.constant.value,j.constant.type):j.dateSpan?H=(0,e.uQ)(j.dateSpan.unit,(0,e.CQ)(j.dateSpan.value)):j.defaultValue?a.fF.assertFail("DefaultValue is not supported yet"):j.anyValue&&a.fF.assertFail("AnyValue is not supported yet"),H}visitHierarchical(j){}visitVisualTopN(j){return new e.YX(j.itemCount)}}return U.instance=new U,U})();function n(U){return(0,e.m_)(s(U),U.aggregate)}function s(U){return(0,e.Oh)(m(U),U.name)}function p(U){return(0,e.m_)((0,e.Wp)(U.name,m(U),W(U.groupedColumns)),U.aggregate)}function l(U){return(0,e.Wp)(U.name,m(U),W(U.groupedColumns))}function m(U){return(0,e.nw)(U.schema,U.entity,U.entityVar)}function b(U){return(0,e.m_)(m(U),U.aggregate)}function V(U){var z=m(U.source),j=(0,e.yU)(z,U.variationName,U.source.name);return(0,e.bT)(j,U.hierarchy.name)}function g(U){var z=m(U.source),j=(0,e.yU)(z,U.variationName,U.source.name),H=(0,e.bT)(j,U.level.name);return(0,e.os)(H,U.level.level)}function v(U){return U.subqueryRef?(0,e.Oh)((0,e.v5)(U.subqueryRef),U.name):U.subquery?(0,e.Oh)((0,e.v5)(U.subquery),U.name):void 0}function f(U){return(0,e.m_)((0,e.Oh)((0,e.v5)(U.subqueryRef),U.name),U.aggregate)}function S(U){return(0,e.Oh)((0,e.GB)(U.transformTable.name),U.name)}function P(U){return(0,e.m_)(D(U),U.aggregate)}function D(U){return(0,e.os)(M(U),U.level)}function M(U){return(0,e.bT)(m(U),U.name)}function E(U){return(0,e.Y8)(c(U.left),c(U.right),U.operator)}function w(U){return(0,e.kQ)(U.value,U.type)}function x(U){return(0,e.Zy)(c(U.measure),_.map(U.grouping,z=>c(z)))}function N(U){return new e.Wr(U.name,U.language,U.expression)}function L(U){return a.fF.assertValue(U,"fieldExpr"),(0,u.Vn)(U,T.instance)}function B(U){return a.fF.assertValue(U,"fieldExpr"),(0,u.Vn)(U,R.instance)}function I(U){return(0,e.Oh)((0,e.nw)(U.schema,U.entity,U.entityVar),U.name)}function W(U){return _.map(U,z=>c(z))}var O=(()=>{class U{visitColumn(j){return s(j)}visitColumnAggr(j){return n(j)}visitGroupingColumn(j){return l(j)}visitGroupingColumnAggr(j){return p(j)}visitColumnHierarchyVariation(j){return V(j)}visitColumnHierarchyLevelVariation(j){return g(j)}visitColumnSubquery(j){return v(j)}visitColumnAggrSubquery(j){return f(j)}visitColumnTransformRef(j){return S(j)}visitEntity(j){return m(j)}visitEntityAggr(j){return b(j)}visitHierarchy(j){return M(j)}visitHierarchyLevel(j){return D(j)}visitHierarchyLevelAggr(j){return P(j)}visitMeasure(j){return(0,e.mv)(this.visitEntity(j),j.name)}visitPercentile(j){var H=c(j.arg);return(0,e.Pe)(H,j.k,j.exclusive)}visitPercentOfGrandTotal(j){var H=c(j.baseExpr);return(0,e.Y8)(H,(0,e.ed)(H,[]),3)}visitPercentOfRoleTotal(j){var H=c(j.baseExpr);return(0,e.Y8)(H,(0,e.ed)(H,_.map(j.roles,q=>(0,e.Wu)(q))),3)}visitSelectRef(j){return(0,e.xA)(j.expressionName)}visitTransformOutputRoleRef(j){return(0,e.hu)(j.expressionName)}visitFilteredEval(j){return(0,e.Xw)(c(j.baseExpr),_.map(j.filters,H=>h(H)))}visitArithmetic(j){return E(j)}visitConstant(j){return w(j)}visitSparklineData(j){return x(j)}visitNativeVisualCalc(j){return N(j)}}return U.instance=new U,U})();function F(U){return a.fF.assertValue(U,"expr"),(0,y.lF)(U)&&(0,y.g5)(U.right)&&!_.isEmpty(U.right.scope)&&_.every(U.right.scope,z=>(0,y.yL)(z))}function A(U,z){if(a.fF.assertValue(U,"expr"),!(0,y.lF)(U)||!(0,y.g5)(U.right))return!1;var j={percentOfGrandTotal:{baseExpr:U.left.accept(new t.P(z))}};return(0,i.fS)(U,c(j))}var T=(()=>{class U{visitColumn(j){}visitColumnAggr(j){return j.aggregate}visitGroupingColumn(j){}visitGroupingColumnAggr(j){return j.aggregate}visitColumnHierarchyVariation(j){}visitColumnHierarchyLevelVariation(j){}visitColumnSubquery(j){}visitColumnAggrSubquery(j){return j.aggregate}visitColumnTransformRef(j){}visitEntity(j){}visitEntityAggr(j){return j.aggregate}visitHierarchy(j){}visitHierarchyLevel(j){}visitHierarchyLevelAggr(j){return j.aggregate}visitMeasure(j){}visitSelectRef(j){}visitPercentile(j){}visitPercentOfGrandTotal(j){return(0,e._L)(c(j.baseExpr))}visitPercentOfRoleTotal(j){return(0,e._L)(c(j.baseExpr))}visitTransformOutputRoleRef(j){}visitFilteredEval(j){return(0,e._L)(c(j.baseExpr))}visitArithmetic(j){}visitConstant(j){a.fF.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(j){}visitNativeVisualCalc(j){}}return U.instance=new U,U})(),R=(()=>{class U{visitColumn(j){return s(j)}visitColumnAggr(j){return n(j)}visitGroupingColumn(j){return l(j)}visitGroupingColumnAggr(j){return p(j)}visitColumnHierarchyVariation(j){return V(j)}visitColumnHierarchyLevelVariation(j){return g(j)}visitColumnSubquery(j){return v(j)}visitColumnAggrSubquery(j){return f(j)}visitColumnTransformRef(j){return S(j)}visitEntity(j){return m(j)}visitEntityAggr(j){return b(j)}visitHierarchy(j){return M(j)}visitHierarchyLevel(j){return D(j)}visitHierarchyLevelAggr(j){return P(j)}visitMeasure(j){return(0,e.mv)(this.visitEntity(j),j.name)}visitSelectRef(j){return(0,e.xA)(j.expressionName)}visitPercentile(j){return(0,u.Vn)((0,t.Q)(c(j.arg)),this)}visitPercentOfGrandTotal(j){return(0,u.Vn)((0,t.Q)(c(j.baseExpr)),this)}visitPercentOfRoleTotal(j){return(0,u.Vn)((0,t.Q)(c(j.baseExpr)),this)}visitTransformOutputRoleRef(j){return(0,e.hu)(j.expressionName)}visitFilteredEval(j){return(0,u.Vn)((0,t.Q)(c(j.baseExpr)),this)}visitArithmetic(j){return E(j)}visitConstant(j){a.fF.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(j){return x(j)}visitNativeVisualCalc(j){return new e.Wr(j.name,j.language,j.expression)}}return U.instance=new U,U})()},372474:function(Ce,k,r){r.d(k,{N:function(){return u}});var a=r(939123),e=r(693713);function u(C){a.fF.assertValue(C,"expr");var y=new t;return C.accept(y),y.analyze()}class t extends e.PA{constructor(){super(),this.fieldsBeingFiltered=[]}analyze(){return{fieldsBeingFiltered:this.fieldsBeingFiltered,subqueryName:this.subqueryName}}visitColumnRef(y){this.fieldsBeingFiltered.push(y)}visitHierarchyLevel(y){this.fieldsBeingFiltered.push(y)}visitGroupRef(y){this.fieldsBeingFiltered.push(y)}visitSubqueryRef(y){y.variable?this.subqueryName=y.variable:a.fF.assertFail("SubqueryRef with a inlined subquery not expected here")}visitAggr(y){this.fieldsBeingFiltered.push(y)}visitPropertyVariationSource(y){this.fieldsBeingFiltered.push(y)}visitMeasureRef(y){this.fieldsBeingFiltered.push(y)}}},438905:function(Ce,k,r){r.d(k,{C:function(){return u},_:function(){return t}});var a=r(939123),e=r(693713);function u(y){a.fF.assertValue(y,"expr");var i=new C;return y.accept(i),i.analyze()}function t(y){a.fF.assertValue(y,"expr");var i=new C;return y.accept(i),i.analyze().filterKind}class C extends e.PA{constructor(){super(),this.entityExprs={},this.filterKind=0,this.isSubquery=!1}analyze(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?3:this.filterKind}}visitMeasureRef(i){this.filterKind=1,i.source.accept(this)}visitExists(i){this.filterKind=2,i.arg.accept(this)}visitAggr(i){this.filterKind=1,i.arg.accept(this)}visitSubqueryRef(i){this.isSubquery=!0}visitEntity(i){this.entityExprs[i.entity]=!0}visitVisualTopN(i){this.filterKind=4}}},946057:function(Ce,k,r){r.d(k,{G7:function(){return n},Vn:function(){return D},_f:function(){return g},gq:function(){return b},kL:function(){return h},ty:function(){return m},zz:function(){return d}});var a=r(953474),e=r(939123),u=r(79619),t=r(528836),C=r(517273),y=r(895127),i=r(481486),o=r(169076),c=r(219753);function h(F){return void 0!==F.arg}function d(F,A){if(F){var T=F.where();if(T){var R=new P(A),U=F.from();return T.map(z=>{var j=R.tryMatchPattern(z,U);if(j){var H={condition:j};return _.isEmpty(z.target)||(H.target=_.map(z.target,q=>(0,y.Q)(q))),H}})}}}function n(F){if(function(F){return!!F.lower&&!!F.upper&&!!F.arg}(F))return function(F){if(F){var A,T;if(function(F){return void 0!==F.lower.unit}(F)){if(F.lower.unit!==F.upper.unit)return void e.fF.assertFail("DateSpanPattern units should match");A={dateSpan:F.lower},T={dateSpan:F.upper}}else A={constant:F.lower},T={constant:F.upper};return{logicalOperator:0,left:{arg:F.arg,filterOperator:4,condition:A},right:{arg:F.arg,filterOperator:2,condition:T}}}}(F);var A=F.args;if(1===A.length){var R=F.not;return V(A[0],F.values,R?0:1,R??!1)}}function m(F){return void 0!==F.unit}function b(F){return void 0!==!!F.type}function V(F,A,T,R){return 1===A.length?{arg:F,filterOperator:R?10:9,condition:{constant:A[0][0]}}:{logicalOperator:T,left:V(F,A.slice(0,(A.length+1)/2),T,R),right:V(F,A.slice((A.length+1)/2),T,R)}}function g(F){if(F)return h(F)?9!==F.filterOperator&&10!==F.filterOperator||!F.condition.constant?void 0:{args:[F.arg],values:[[F.condition.constant]],not:10===F.filterOperator}:v(F,F.logicalOperator)}function v(F,A){if(F&&F.logicalOperator===A){var T=[],R=[],U=f(F.left,A);if(U){T.push(...U.args),R.push(...U.values);var z=f(F.right,A);if(z){T.push(...z.args),R.push(...z.values);var j=T[0];if(T.every(H=>_.isEqual(H,j)))return{args:[T[0]],values:R,not:0===A}}}}}function f(F,A){var T=[],R=[];if(h(F)){if(!function(F,A){return 0===F&&10===A||1===F&&9===A}(A,F.filterOperator))return;T.push(F.arg),R.push([F.condition.constant])}else{var U=v(F,A);if(!U)return;T.push(...U.args),R.push(...U.values)}return{args:T,values:R}}class P{constructor(A){this.schema=A}tryMatchPattern(A,T){var R;if(e.fF.assert(()=>void 0!==A,"There is no SQFilter for this Semantic filter"),R=this.matchTopN(A,T))return R;var U=A&&A.condition;if(U){if((R=this.tryMatchExpr(U,2))||(R=this.tryMatchComplex(A,T)))return R;e.fF.assert(()=>null==R,"There is no pattern that currently matches `expr`")}}tryMatchExpr(A,T){var R;if((R=this.matchBasicFilter(A))||(R=this.matchRelativeRange(A,u.wj.Date))||(R=this.matchRelativeRange(A,u.wj.Time))||(R=this.matchBetweenFilter(A))||(R=this.matchAdvanced(A))||(R=this.matchCompareOperator(A))||1!==T&&(R=this.tryMatchHierarchical(A))||(R=this.matchComposite(A,T))||(R=this.matchVisualTopNFilter(A)))return R;e.fF.assert(()=>null==R,"There is no pattern that currently matches `expr`")}tryMatchComplex(A,T){var R=(0,i.J)(A,T);if(R)return{complex:{args:_.map(R.fieldsBeingFiltered,U=>(0,y.Q)(U))}}}matchBasicFilter(A){var T=!1;if((0,a.Ym)(A)&&(T=!0,A=A.arg),(0,a.Hi)(A)&&!A.table&&A.values)return{in:{args:_.map(A.args,R=>(0,y.Q)(R)),values:_.map(A.values,R=>_.map(R,(U,z)=>({value:U.value,type:U.type}))),not:T}}}matchVisualTopNFilter(A){if((0,a.Hz)(A))return{visualTopN:{itemCount:A.itemCount}}}matchBetweenFilter(A){if((0,a.Kh)(A)){if((0,a.dZ)(A.lower)&&(0,a.dZ)(A.upper))return{between:{arg:(0,y.Q)(A.arg),lower:{value:A.lower.arg.value,unit:A.lower.unit},upper:{value:A.upper.arg.value,unit:A.upper.unit}}};if((0,a.VC)(A.lower)&&(0,a.VC)(A.upper))return{between:{arg:(0,y.Q)(A.arg),lower:{value:A.lower.value,type:A.lower.type},upper:{value:A.upper.value,type:A.upper.type}}}}}matchTopN(A,T){if(A&&T){var R=(0,c.J_)(A,T);if(R)return{topN:{fieldBeingFiltered:(0,y.Q)(R.fieldBeingFiltered),isTop:R.isTop,itemCount:R.itemCount,orderByField:(0,y.Q)(R.orderByField)}}}}matchRelativeRange(A,T){var R=(0,o.ym)(A,T);if(R)return{relativeDateRange:{arg:(0,y.Q)(R.field),options:R.options}}}matchCompareOperator(A){var T=A,R=!1;if((0,a.Ym)(A)&&(T=A.arg,R=!0),(0,a.$Q)(T)||(0,a.IS)(T)||(0,a.f8)(T)){var U=this.getValuePattern(T.left,T.right);if(U)return{compareOperator:{arg:(0,y.Q)(T.left),filterOperator:this.mapFromSQExprKindToFilterOperator(T,R),condition:U}}}}getValuePattern(A,T){if((0,a.dZ)(T)){var R=T.arg;if((0,a.VC)(R))return{dateSpan:{value:R.value,unit:T.unit}}}if((0,a.VC)(T))return{constant:{value:T.value,type:T.type}};if((0,a.FU)(T)){var U=C.m.getDefaultValue(A,this.schema);return{defaultValue:{value:U.value,type:U.type}}}return(0,a.cw)(T)?{anyValue:{}}:void 0}matchAdvanced(A){if((0,a.un)(A)||(0,a.Z8)(A)){var T=(0,a.un)(A)?0:1,R=this.matchAdvanced(A.left)||this.matchCompareOperator(A.left);if(R){var U=this.matchAdvanced(A.right)||this.matchCompareOperator(A.right);if(U)return{advancedOperator:{logicalOperator:T,left:R.advancedOperator||R.compareOperator,right:U.advancedOperator||U.compareOperator}}}}}mapFromSQExprKindToFilterOperator(A,T){var U=0;switch(A.kind){case 12:U=T?6:5;break;case 14:U=T?8:7;break;case 13:var z=A;0===z.comparison?U=(0,a.VC)(z.right)&&null==z.right.value?T?12:11:(0,a.VC)(z.right)&&""===z.right.value?T?14:13:T?10:9:1===z.comparison?U=3:2===z.comparison?U=4:3===z.comparison?U=1:4===z.comparison&&(U=2);break;default:U=0}return U}tryMatchHierarchical(A){var z,j,T=[],R=[],U={hierarchical:{included:T,excluded:R}};if(A instanceof t.uV){if(z=this.tryGetHierarchicalNode(A.left,!1)||this.tryGetHierarchicalNode(A.right,!1),j=this.tryGetHierarchicalNode(A.left,!0)||this.tryGetHierarchicalNode(A.right,!0),!z||!j)return}else if(z=this.tryGetHierarchicalNode(A,!1),j=this.tryGetHierarchicalNode(A,!0),!z&&!j)return;return z&&!this.matchHierarchicalNode(z,!1,T)||j&&!this.matchHierarchicalNode(j,!0,R)?void 0:U}tryGetHierarchicalNode(A,T){if(T){if(A instanceof t.v3){if(A.arg instanceof t.Xg||A.arg instanceof t.uV)return A.arg}else if(A instanceof t.uV)return A}else if(A instanceof t.Cc||A instanceof t.Xg)return A}matchHierarchicalNode(A,T,R){if(A instanceof t.Xg)return this.matchHierarchicalExpr(A,T,R);var U=this.tryGetHierarchicalNode(A,T);if(!U)return!1;e.fF.assert(()=>U instanceof t.Cc||U instanceof t.uV,".matchHierarchicalNode does not expect any other expr type");var z=U;return this.matchHierarchicalExpr(z.left,T,R)&&this.matchHierarchicalExpr(z.right,T,R)}matchHierarchicalExpr(A,T,R){if(A instanceof t.Xg){var U=this.matchBasicFilter(A);return!!U&&(R.push(U.in),U.in.not=T,!0)}return this.matchHierarchicalNode(A,T,R)}matchComposite(A,T){var R=!1;(0,a.Ym)(A)&&(R=!0,A=A.arg);var U=(0,a.Z8)(A);if((!U||0!==T)&&((0,a.Z8)(A)||(0,a.un)(A))){var z=U?1:0,j=this.tryMatchExpr(A.left,z),H=this.tryMatchExpr(A.right,z);if(j&&H)return{composite:{not:R,operator:z,filters:[j,H]}}}}}function D(F,A){e.fF.assertValue(F,"filterPattern"),e.fF.assertValue(A,"visitor");var T=F.condition;return T.in?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitIn(F)}(T.in,A):T.between?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitBetween(F)}(T.between,A):T.relativeDateRange?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitRelativeDateRange(F)}(T.relativeDateRange,A):T.compareOperator?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitCompare(F)}(T.compareOperator,A):T.advancedOperator?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitAdvanced(F)}(T.advancedOperator,A):T.composite?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitComposite(F)}(T.composite,A):T.topN?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitTopN(F)}(T.topN,A):T.complex?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitComplex(F)}(T.complex,A):T.hierarchical?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitHierarchical(F)}(T.hierarchical,A):T.visualTopN?function(F,A){return e.fF.assertValue(F,"pattern"),e.fF.assertValue(A,"visitor"),A.visitVisualTopN(F)}(T.visualTopN,A):void e.fF.assertFail("Failed to visit filterPattern")}},90824:function(Ce,k,r){r.d(k,{F8:function(){return n},Gl:function(){return o},Qq:function(){return i},Xz:function(){return d},oJ:function(){return c}});var a=r(528836),e=r(571619),u=r(939123),t=r(693713),C=r(257738),y=r(722709);function i(m,b){var V=o(m,b,!1);if(V)return{isNot:_.some(V,g=>!g.selected),scopeIds:[_.map(V,g=>g.identity)]}}function o(m,b,V=!0){return h(m,b,!1,V)}function c(m,b,V=!0){return h(m,b,!0,V)}function h(m,b,V,g){u.fF.assertValue(m,"filter"),u.fF.assertValue(b,"fieldSQExprs"),u.fF.assert(()=>b.length>0,"There should be at least 1 field expression.");var v=m.conditions();u.fF.assert(()=>1===v.length,"There should be exactly 1 filter expression.");var f=v[0];if(f){var S=new s(b,g,f);if(f.accept(S))return V?S.getHierarchyResult():S.getResult()}}function d(m){u.fF.assertValue(m,"identity");var b=m.expr.accept(new p);if(b)return b.value}function n(m){return u.fF.assertValue(m,"identity"),m.expr.accept(new l)}class s extends t.vq{constructor(b,V,g){super(),this.supportsMultiLevelFilters=V,this.filter=g,this.isNot=!1,this.isAnd=!1,this.keyIndex=0,this.valueIndex=0,this.fieldExprs=[],this.groups=[],this.supportedGroups={};var v=0,f=0;for(var S of(this.values=[],b))if(u.fF.assertNonEmpty(S,"FilterScopeIdsCollectorVisitor identities should not be empty."),!_.isEmpty(S)){var P=_.map(S,D=>(0,a.p7)(D));this.supportedGroups[f+=S.length]=!0,this.fieldExprs.push(...P||[]),this.groups.push(..._.map(S,D=>v)),v++}}getResult(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})}getHierarchyResult(){return this.addScopeId(),this.toHierarchyScopeIdentityFilterNode(this.values)}toFilterNode(b,V){var g=[];for(var v of b)g.push({identity:v.identity,selected:v.selected,checked:v.checked,children:_.isEmpty(v.children)?void 0:this.toFilterNode(v.children,V),index:v.checked?V.index++:void 0});return g}toHierarchyScopeIdentityFilterNode(b){var V=[];for(var g of b)V.push({identity:g.identity,operator:g.checked?g.selected?"Selected":"NotSelected":"Inherited",children:_.isEmpty(g.children)?void 0:this.toHierarchyScopeIdentityFilterNode(g.children)});return V}static getScopeIdentity(b,V){u.fF.assert(()=>V.length>0,"valueExprs has at least one valueExpr"),u.fF.assert(()=>V.length===b.length,"fieldExpr and valueExpr count should match");for(var g,v=0,f=b.length;v<f;v++){var S=(0,a.Dg)(b[v],V[v]);g=g?(0,a.xD)(g,S):S}return(0,e.TZ)(g)}visitOr(b){this.resetState();var V=b.left.accept(this);return this.resetState(),V&&b.right.accept(this)}visitAnd(b){if(this.supportsMultiLevelFilters){var V=!1;if((this.isNot&&(b.left instanceof a.uV||b.left instanceof a.Xg)&&(b.right instanceof a.Xg||b.right instanceof a.uV)||!this.isNot&&(b.left instanceof a.Cc||b.left instanceof a.Xg||b.left instanceof a.uV||b.left instanceof a.v3)&&(b.right instanceof a.Cc||b.right instanceof a.Xg||b.right instanceof a.uV||b.right instanceof a.v3)||(b.left instanceof a.wU||b.left instanceof a.uV)&&(b.right instanceof a.wU||b.right instanceof a.uV))&&(V=!0),V){var g=!1===this.isAnd;g&&this.resetState(),this.isAnd=!0;var v=b.left.accept(this)&&b.right.accept(this);return g&&(this.isAnd=!1),v}}return this.unsupportedSQExpr()}visitNot(b){this.isNot=!0;var V=b.arg.accept(this);return this.isNot=!1,V}visitConstant(b){return 0===this.keyIndex&&0===b.type.primitiveType?this.unsupportedSQExpr():(this.addValue(b),!0)}visitCompare(b){return this.keyIndex>0&&!this.supportsMultiLevelFilters||0!==b.comparison?this.unsupportedSQExpr():b.right instanceof a.iE||b.left.accept(this)&&b.right.accept(this)}visitIn(b){var g,V=this;if(!b.values)return!1;for(var v of(this.resetState(),b.args))if(!(g=v.accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();var P,f=b.values,S=function(M){for(var E of(u.fF.assert(()=>M.length===V.keyIndex,"keys count and values count should match"),M))if(!(g=E.accept(V)))return{v:V.unsupportedSQExpr()}};for(var D of f)if(P=S(D))return P.v;return g}visitColumnRef(b){var V=(0,a.p7)(b),g=(0,C.fS)(this.fieldExprs[this.keyIndex],V);return this.keyIndex++,g}visitDefaultValue(b){return this.addValue(b),!0}visitAnyValue(b){return!0}visitDefault(b){return this.unsupportedSQExpr()}unsupportedSQExpr(){return!1}addValue(b){var V=this.valueIndex%this.keyIndex,g=this.groups[V];0===V?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(b)):this.currentNode.groupIndex===g?(this.currentNode.values.push(b),this.currentNode.columns.push(this.fieldExprs[V])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(b)),this.valueIndex++}addScopeId(){if(this.currentNode){var b=this.currentNode,V=this.parent&&this.parent.children||this.values,g=_.find(V,v=>(0,y.NF)(v.values,b.values,C.fS));return g?b.checked&&!g.checked&&(g.selected=b.selected,g.checked=b.checked):(b.identity=s.getScopeIdentity(b.columns,b.values),V.push(b)),g||b}}createNode(b){var V=this.valueIndex%this.keyIndex;return{children:[],selected:!this.isNot,checked:!0,values:[b],columns:[this.fieldExprs[V]],groupIndex:this.groups[V],identity:void 0}}resetState(){this.keyIndex=0,this.valueIndex=0}}class p extends t.vq{visitAnd(b){return b.left.accept(this)||b.right.accept(this)}visitCompare(b){if(0===b.comparison){if(b.right instanceof a.jz)return b.right;if(b.left instanceof a.jz)return b.left}}}class l extends t.vq{visitAnd(b){var V=[];return(V=V.concat(b.left.accept(this))).concat(b.right.accept(this))}visitCompare(b){if(0===b.comparison){var V=[];return b.right instanceof a.jz?V.push({expr:b.left,value:b.right.value}):b.left instanceof a.jz&&V.push({expr:b.right,value:b.left.value}),V}}}},481486:function(Ce,k,r){r.d(k,{J:function(){return C}});var a=r(257738),e=r(377176),u=r(666195),t=r(372474);function C(i,o){if(i){if(i instanceof e.yl){var c=i.conditions();return _.isEmpty(c)||c.length>1?void 0:y(i.from(),c[0])}return y(o,i.condition)}}function y(i,o){var c=(0,t.N)(o),h={fieldsBeingFiltered:_.uniqWith(c.fieldsBeingFiltered,a.fS),isSubquery:!1};if(c.subqueryName){h.isSubquery=!0;var d=i.sources(),s=(0,u.K)(d&&d[c.subqueryName]);s&&(h.orderByField=s.orderByField,h.itemCount=s.itemCount,h.isTop=s.isTop)}return h}},379445:function(Ce,k,r){r.d(k,{VM:function(){return y},pi:function(){return t}});var a=r(953474),e=r(939123),u=r(405427);function t(d){if(d){var n=d.conditions();if(n&&1===n.length)return function(d){var n=new h;return n.tryParseCondition(d)?{field:n.field,options:n.options}:null}(n[0])}}function y(d){return c(d,1)}function c(d,n){var s={};if(null!=d.min){e.fF.assert(()=>(0,u.M4)(d.min),"Implementing DateWithEpochValue is needed for serialization");var p=(0,u.Fh)(d.min);p.setHours(0,0,0,0);var l=new Date(p.epochTimeStamp);l.setUTCHours(0,0,0,0),p.epochTimeStamp=l.getTime(),s.min=p}if(null!=d.max){e.fF.assert(()=>(0,u.M4)(d.max),"Implementing DateWithEpochValue is needed for serialization");var m=new Date(d.max.getFullYear(),d.max.getMonth(),d.max.getDate()+n);m.epochTimeStamp=Date.UTC(m.getFullYear(),m.getMonth(),m.getDate()),s.max=m}return s}class h{tryParseCondition(n){return(0,a.un)(n)?this.tryParseAndCondition(n):!!(0,a.$Q)(n)&&this.tryParseCompareCondition(n)}tryParseAndCondition(n){var s=n;return!(!(0,a.$Q)(s.left)||!(0,a.$Q)(s.right))&&this.tryParseCompareCondition(s.left)&&this.tryParseCompareCondition(s.right)}tryParseCompareCondition(n){var s=n;return!(!(0,a.t3)(s.left)&&!(0,a.ez)(s.left))&&(this.field=s.left,this.options=this.options||{},this.tryParseNumericCompareCondition(s)||this.tryParseDateCompareCondition(s))}tryParseNumericCompareCondition(n){if(!(0,a.S9)(n.right))return!1;switch(n.comparison){case 0:this.options.min=n.right.value,this.options.max=n.right.value;break;case 1:case 2:this.options.min=n.right.value;break;case 3:case 4:this.options.max=n.right.value;break;default:return e.fF.assertNever(n.comparison),!1}return!0}tryParseDateCompareCondition(n){return(0,a.dZ)(n.right)&&n.right.arg&&(0,a.fU)(n.right.arg)?this.tryParseDateConstantCondition(n.comparison,n.right.arg):!!(0,a.fU)(n.right)&&this.tryParseDateConstantCondition(n.comparison,n.right)}parseDateValue(n){return(0,u.M4)(n)?n:(0,u.Fg)(new Date(n))}tryParseDateConstantCondition(n,s){switch(n){case 0:this.options.min=this.parseDateValue(s.value),this.options.max=this.parseDateValue(s.value);break;case 1:case 2:this.options.min=this.parseDateValue(s.value);break;case 3:this.options.max=this.parseDateValue(s.value),this.options=c(this.options,-1);break;case 4:this.options.max=this.parseDateValue(s.value);break;default:return e.fF.assertNever(n),!1}return 3!==n&&(this.options=c(this.options,0)),!0}}},169076:function(Ce,k,r){r.d(k,{UX:function(){return n},hN:function(){return m},kW:function(){return c},nh:function(){return o},pi:function(){return p},ym:function(){return l}});var a=r(953474),e=r(257738),u=r(939123),t=r(79619),C=r(377176),y=r(528836),i=r(561154);function o(v){var f=c(v);return C.yl.fromSQExpr(f)}function c(v,f=!1){var S=v.field,P=v.options,D=null,M=(0,y.zO)();if(v.options.anchorDate&&!(0,t.Re)(P.relativeUnit)){var E=v.options.anchorDate;E.epochTimeStamp=Date.UTC(E.getFullYear(),E.getMonth(),E.getDate(),E.getHours(),E.getMinutes(),E.getSeconds(),E.getMilliseconds()),M=(0,y.CQ)(v.options.anchorDate)}var w=function(v){switch(v){case t.hU.CalendarYear:case t.hU.Year:return 3;case t.hU.CalendarMonth:case t.hU.Month:return 2;case t.hU.CalendarWeek:case t.hU.Week:return 1;case t.hU.Day:return 0;case t.hU.Hour:return 7;case t.hU.Minute:return 6;case t.hU.Second:return 5;default:return void u.fF.assertFail("Unsupported RelativeDateUnit")}}(P.relativeUnit),x=n(P.relativeUnit,f);switch(P.relativeQualifier){case t.KO.Current:var N=(0,y.uQ)(w,M);D=(0,y.qu)(0,S,N);break;case t.KO.Last:if(x)D=h(-P.duration,-1,w,M,S);else if((0,t.Re)(P.relativeUnit)){var L=M,B=(0,y.sO)(w,-P.duration,M);D=(0,y.vX)(S,B,L)}else{var I=P.includeToday?M:(0,y.sO)(0,-1,M),W=(0,y.uQ)(0,I),O=(0,y.uQ)(0,(0,y.sO)(w,-P.duration,(0,y.sO)(0,1,I)));D=(0,y.vX)(S,O,W)}break;case t.KO.Next:if(x)D=h(1,P.duration,w,M,S);else if((0,t.Re)(P.relativeUnit)){var F=M,A=(0,y.sO)(w,P.duration,M);D=(0,y.vX)(S,F,A)}else{var T=P.includeToday?M:(0,y.sO)(0,1,M),R=(0,y.uQ)(0,T),U=(0,y.uQ)(0,(0,y.sO)(w,P.duration,(0,y.sO)(0,-1,T)));D=(0,y.vX)(S,R,U)}}return D}function h(v,f,S,P,D){var M=(0,y.uQ)(S,(0,y.sO)(S,v,P)),E=(0,y.uQ)(S,(0,y.sO)(S,f,P));return(0,y.vX)(D,M,E)}function n(v,f=!1){switch(v){case t.hU.Second:case t.hU.Minute:case t.hU.Hour:case t.hU.Year:case t.hU.Month:case t.hU.Week:return!1;case t.hU.Day:return f;case t.hU.CalendarYear:case t.hU.CalendarMonth:case t.hU.CalendarWeek:return!0;default:return void u.fF.assertFail("Unsupported RelativeDateUnit")}}function s(v,f){switch(v){case 0:return t.hU.Day;case 1:return f?t.hU.CalendarWeek:t.hU.Week;case 2:return f?t.hU.CalendarMonth:t.hU.Month;case 3:return f?t.hU.CalendarYear:t.hU.Year;case 7:return t.hU.Hour;case 6:return t.hU.Minute;case 5:return t.hU.Second;default:return}}function p(v,f){if(v){var S=v.conditions();if(S&&1===S.length)return l(S[0],f)}}function l(v,f){var S=new g(f);if(S.tryExtractParametersFrom(v))return{field:S.field,options:S.options}}function m(v){return!!v&&(!(!v.where()||!function(v){var f=new g(t.wj.Time);for(var S of v)if(S.condition&&f.tryExtractParametersFrom(S.condition))return!0;return!1}(v.where()))||function(v){var f=v.sources();if(!f)return!1;for(var S of v.keys()){var P=f[S];if((0,i.y)(P)&&P.subquery&&m(P.subquery))return!0}return!1}(v.from()))}class g{constructor(f){this.relativeFilterType=f}tryExtractParametersFrom(f){return this.tryExtractCurrent(f)||this.tryExtractLastOrNext(f)}tryExtractCurrent(f){if((0,a.$Q)(f)){var S=f;if(((0,a.t3)(S.left)||(0,a.ez)(S.left))&&(this.field=S.left,(0,a.dZ)(S.right))){var P=S.right,D=t.t0.convertTimeUnitToRelativeFilterType(P.unit);if(this.relativeFilterType!==D)return!1;if(void 0!==s(P.unit,!1)&&((0,a.jr)(P.arg)||(0,a.fU)(P.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:t.KO.Current,relativeUnit:s(P.unit,!1)},(0,a.fU)(P.arg)&&(this.options.anchorDate=P.arg.value),this.validateOptions(f)))return!0}}return!1}tryExtractLastOrNext(f){if((0,a.Kh)(f)){var S=f;if((0,a.t3)(S.arg)||(0,a.ez)(S.arg))if(this.field=S.arg,(0,a.dZ)(S.upper)&&(0,a.dZ)(S.lower)){if(this.options=this.getOptionsFromDateSpan(S.lower,t.KO.Last),this.validateOptions(f)||(this.options=this.getOptionsFromDateSpan(S.upper,t.KO.Next),this.validateOptions(f)))return!0}else if((0,a.Ok)(S.upper)||(0,a.Ok)(S.lower)){var P=S.lower,D=S.upper;if(this.options=this.getOptionsFromDateAdd(P,P.unit,t.KO.Last),this.validateOptions(f)||(this.options=this.getOptionsFromDateAdd(D,D.unit,t.KO.Next),this.validateOptions(f)))return!0}}return!1}getOptionsFromDateSpan(f,S){if((0,a.dZ)(f))return this.getOptionsFromDateAdd(f.arg,f.unit,S)}getOptionsFromDateAdd(f,S,P){if((0,a.Ok)(f)){var D=f,M=t.t0.convertTimeUnitToRelativeFilterType(D.unit);if(this.relativeFilterType!==M)return;var E=S===D.unit&&0!==S,w=!!E||this.getIncludeToday(D.arg),x=this.getAnchorDate(D);switch(P){case t.KO.Last:if(D.amount<0)return{duration:-D.amount,includeToday:w,relativeQualifier:P,relativeUnit:s(D.unit,E),anchorDate:x};break;case t.KO.Next:if(D.amount>0)return{duration:D.amount,includeToday:w,relativeQualifier:P,relativeUnit:s(D.unit,E),anchorDate:x}}}}getAnchorDate(f){for(var S=f;(0,a.Ok)(S);)S=S.arg;if((0,a.fU)(S))return S.value}getIncludeToday(f){if((0,a.Ok)(f)){var S=f;return(0,a.jr)(S.arg)||(0,a.fU)(S.arg)}return!1}validateOptions(f){if(!this.field||!this.options)return!1;var S={field:this.field,options:this.options};return(0,e.fS)(f,c(S))||this.options.relativeUnit===t.hU.Day&&!this.options.includeToday&&(0,e.fS)(f,c(S,!0))}}},336508:function(Ce,k,r){r.d(k,{Cj:function(){return s},Dh:function(){return c},FD:function(){return h},J2:function(){return d},KX:function(){return o},RR:function(){return i},aL:function(){return p},lZ:function(){return n}});var a=r(953474),e=r(257738),u=r(722709),t=r(939123),C=r(528836),y=r(693713);function i(V){var g=new p;return V.accept(g),g.malformed?null:(0,u.rm)(g.keys)}function o(V){var g=new p;return V.accept(g),g.malformed?null:(0,u.rm)(g.values)}function c(V){var g=new p;return V.accept(g),g.malformed?null:(0,u.rm)(g.pairs)}function h(V){if((0,a.Hi)(V))return V;var g=new p;if(V.accept(g),!g.malformed){var v=(0,u.rm)(g.keys),f=(0,u.rm)(g.values);if(v&&f)return(0,C.Sh)(v,[f])}}function d(V,g){t.fF.assertValue(V,"expr"),t.fF.assertNonEmpty(g,"subsetFieldExprs");var v=new l(g);return V.accept(v),v.getResult()}function n(V,g){if(!g||!V)return[];var v=new b(V);return g.accept(v),v.getValues()}function s(V){var g=new m;return V.accept(g),!!g.containsSelectRef}class p extends y.vq{constructor(){super(...arguments),this.keys=[],this.values=[],this.pairs=[]}visitAnd(g){g.left.accept(this),g.right.accept(this)}visitCompare(g){0===g.comparison?(t.fF.assert(()=>g.left instanceof C.Il&&g.right instanceof C.jz,"invalid compare expr operands"),this.pairs.push(g),g.left.accept(this),g.right.accept(this)):this.visitDefault(g)}visitIn(g){for(var v of g.args)v.accept(this);for(var f of g.values)for(var S of f)S.accept(this)}visitSelectRef(g){this.keys.push(g)}visitColumnRef(g){this.keys.push(g)}visitGroupRef(g){this.keys.push(g)}visitHierarchyLevel(g){this.keys.push(g)}visitConstant(g){this.values.push(g)}visitArithmetic(g){this.keys.push(g)}visitDefault(g){this.malformed=!0}}class l extends y.vq{constructor(g){super(),t.fF.assertNonEmpty(g,"identityFieldExprs"),this.identityFieldExprs=g,this.identityComparisonExprs=[],this.identityComparisonExprCount=0}getResult(){if(t.fF.assert(()=>this.identityComparisonExprCount===_.filter(this.identityComparisonExprs,f=>!!f).length,"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){var g;for(var v of this.identityComparisonExprs)g=g?(0,C.xD)(g,v):v;return g}}visitAnd(g){g.left.accept(this),g.right.accept(this)}visitCompare(g){if(0===g.comparison){var v=_.findIndex(this.identityFieldExprs,f=>(0,e.fS)(g.left,f));v>=0&&!this.identityComparisonExprs[v]&&(this.identityComparisonExprs[v]=g,this.identityComparisonExprCount++)}else this.visitDefault(g)}visitDefault(g){this.malformed=!0}}class m extends y.PA{visitSelectRef(g){this.containsSelectRef=!0}}class b extends y.vq{constructor(g){super(),this.targetExpr=g,this.orderedValues=[]}getValues(){return _.uniq(this.orderedValues)}visitAnd(g){g.left.accept(this),g.right.accept(this)}visitOr(g){g.left.accept(this),g.right.accept(this)}visitCompare(g){0===g.comparison&&(g.right instanceof C.Wh&&(0,e.fS)(g.right,this.targetExpr)&&g.left instanceof C.jz&&this.orderedValues.push(g.left.value),g.left instanceof C.Wh&&(0,e.fS)(g.left,this.targetExpr)&&g.right instanceof C.jz&&this.orderedValues.push(g.right.value))}visitIn(g){var v=-1;if(!g.table){for(var f=0;f<g.args.length;f++)if((0,e.fS)(g.args[f],this.targetExpr)){v=f;break}if(-1!==v)for(var S of g.values){var P=S[v];P instanceof C.jz&&this.orderedValues.push(P.value)}}}}},666195:function(Ce,k,r){r.d(k,{K:function(){return C}});var a=r(561154),e=r(939123),u=r(693713),t=r(895127);function C(i){if(i&&(0,a.y)(i)){var o=i.subquery.orderBy();if(!o||1!==o.length)return;var c=o[0],h=new y;return h.visitOrderBy(c.expr)?{orderByField:h.orderByField,isTop:2===c.direction,itemCount:i.subquery.top()}:void 0}}class y extends u.Ml{constructor(){super(),this.orderByField=null}visitOrderBy(o){return o.accept(this,0)}visitAggr(o,c){return 0===c&&(e.fF.assertValue((0,t.Q)(o),"expected field pattern"),this.orderByField=o,!0)}visitMeasureRef(o,c){return 0===c&&(this.orderByField=o,!0)}}},219753:function(Ce,k,r){r.d(k,{J_:function(){return o},VK:function(){return c}});var a=r(939123),e=r(377176),u=r(528836),t=r(693713),C=r(109562),y=r(561154),i=r(666195);function o(s,p){if(s){if(s instanceof e.yl){var l=s.conditions();return a.fF.assertValue(l,"conditions"),a.fF.assert(()=>1===l.length,"should be exactly one filter condition for a TopN filter"),h(s.from(),l[0])}return h(p,s.condition)}}function c(s){var p=function(s){var p=new C.cL,l=e.cX.rewrite(s.fieldBeingFiltered,null,p),m=e.cX.rewrite(s.orderByField,null,p);return e.vQ.createWith({from:p,orderBy:[{expr:m,direction:s.isTop?2:1}],select:[{name:"field",expr:l}],top:s.itemCount})}(s),l=new C.vd(p),m=new C.cL,b=m.ensureSource(l,"subquery"),V=(0,u.dY)([s.fieldBeingFiltered],(0,u.v5)(b.name));return e.yl.fromSQFromAndSQExpr(m,V)}function h(s,p){a.fF.assertValue(s,"from"),a.fF.assertValue(p,"condition");var l=new n;if(l.visitCondition(p)){var m=s.sources(),b=m&&m[l.subqueryName],V=(0,i.K)(b);if(V&&(0,y.y)(b))return{fieldBeingFiltered:l.fieldBeingFiltered,isTop:V.isTop,itemCount:b.subquery.top(),orderByField:V.orderByField}}}class n extends t.Ml{constructor(){super(),this.fieldBeingFiltered=null,this.subqueryName=null}visitCondition(p){return p.accept(this,0)}visitIn(p,l){return!!(0===l&&p.args&&1===p.args.length&&p.args[0].accept(this,1)&&p.table&&p.table.accept(this,2))}visitColumnRef(p,l){return 1===l&&(this.fieldBeingFiltered=p,!0)}visitHierarchyLevel(p,l){return 1===l&&(this.fieldBeingFiltered=p,!0)}visitGroupRef(p,l){return 1===l&&(this.fieldBeingFiltered=p,!0)}visitSubqueryRef(p,l){return 2===l&&(p.variable?this.subqueryName=p.variable:a.fF.assertFail("SubqueryRef with a direct subquery not expected here"),!0)}}},428963:function(Ce,k,r){r.d(k,{k:function(){return o}});var a=r(564619),e=r(895127),u=r(693365),t=r(939123),C=r(528836),y=r(328469);class i extends y.p{constructor(d){t.fF.assertValue(d,"func"),super(),this.func=d}visitAggr(d){return d.func===this.func?d:new C.v0(d.arg,this.func)}visitColumnRef(d){return new C.v0(d,this.func)}visitGroupRef(d){return new C.v0(d,this.func)}visitHierarchyLevel(d){return new C.v0(d,this.func)}static rewrite(d,n){t.fF.assertValue(d,"expr"),t.fF.assertValue(n,"func");var s=new i(n);return d.accept(s)}}function o(h,d){return c.rewrite(h,d)}class c{constructor(d,n){this.sqExpr=d,this.aggregate=n}static rewrite(d,n){return(0,a.Vn)((0,e.Q)(d),new c(d,n))}visitPercentOfGrandTotal(d){return d.baseExpr=(0,e.Q)(i.rewrite((0,u.og)(d.baseExpr),this.aggregate)),(0,u.og)({percentOfGrandTotal:d})}visitPercentOfRoleTotal(d){return d.baseExpr=(0,e.Q)(i.rewrite((0,u.og)(d.baseExpr),this.aggregate)),(0,u.og)({percentOfRoleTotal:d})}visitFilteredEval(d){return d.baseExpr=(0,e.Q)(i.rewrite((0,u.og)(d.baseExpr),this.aggregate)),(0,u.og)({filteredEval:d})}visitColumn(d){return this.defaultRewrite()}visitColumnAggr(d){return this.defaultRewrite()}visitGroupingColumn(d){return this.defaultRewrite()}visitGroupingColumnAggr(d){return this.defaultRewrite()}visitColumnHierarchyVariation(d){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(d){return this.defaultRewrite()}visitColumnSubquery(d){return this.defaultRewrite()}visitColumnAggrSubquery(d){return this.defaultRewrite()}visitColumnTransformRef(d){return this.defaultRewrite()}visitSelectRef(d){return this.defaultRewrite()}visitEntity(d){return this.defaultRewrite()}visitEntityAggr(d){return this.defaultRewrite()}visitHierarchy(d){return this.defaultRewrite()}visitHierarchyLevel(d){return this.defaultRewrite()}visitHierarchyLevelAggr(d){return this.defaultRewrite()}visitMeasure(d){return this.defaultRewrite()}visitPercentile(d){return this.defaultRewrite()}visitTransformOutputRoleRef(d){return this.defaultRewrite()}visitArithmetic(d){return this.defaultRewrite()}visitConstant(d){return this.defaultRewrite()}visitSparklineData(d){return this.defaultRewrite()}visitNativeVisualCalc(d){return this.defaultRewrite()}defaultRewrite(){return i.rewrite(this.sqExpr,this.aggregate)}}},246135:function(Ce,k,r){r.d(k,{n:function(){return y}});var a=r(564619),e=r(895127),u=r(693365),t=r(328469),C=r(939123);function y(c,h){return o.rewrite(c,h)}var i=(()=>{class c extends t.p{visitAggr(d){return d.arg}static rewrite(d){return C.fF.assertValue(d,"expr"),d.accept(c.instance)}}return c.instance=new c,c})();class o{constructor(h){this.sqExpr=h}static rewrite(h,d){return(0,a.Vn)((0,e.Q)(h,d),new o(h))}visitPercentOfGrandTotal(h){return o.rewrite((0,u.og)(h.baseExpr))}visitPercentOfRoleTotal(h){return o.rewrite((0,u.og)(h.baseExpr))}visitFilteredEval(h){return o.rewrite((0,u.og)(h.baseExpr))}visitColumn(h){return this.defaultRewrite()}visitColumnAggr(h){return this.defaultRewrite()}visitGroupingColumn(h){return this.defaultRewrite()}visitGroupingColumnAggr(h){return this.defaultRewrite()}visitColumnHierarchyVariation(h){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(h){return this.defaultRewrite()}visitColumnSubquery(h){return this.defaultRewrite()}visitColumnAggrSubquery(h){return this.defaultRewrite()}visitColumnTransformRef(h){return this.defaultRewrite()}visitSelectRef(h){return this.defaultRewrite()}visitEntity(h){return this.defaultRewrite()}visitEntityAggr(h){return this.defaultRewrite()}visitHierarchy(h){return this.defaultRewrite()}visitHierarchyLevel(h){return this.defaultRewrite()}visitHierarchyLevelAggr(h){return this.defaultRewrite()}visitMeasure(h){return this.defaultRewrite()}visitPercentile(h){return this.defaultRewrite()}visitTransformOutputRoleRef(h){return this.defaultRewrite()}visitArithmetic(h){return this.defaultRewrite()}visitConstant(h){return this.defaultRewrite()}visitSparklineData(h){return this.defaultRewrite()}visitNativeVisualCalc(h){return this.defaultRewrite()}defaultRewrite(){return i.rewrite(this.sqExpr)}}},684356:function(Ce,k,r){r.d(k,{F:function(){return C}});var a=r(269556),e=r(528836),u=r(109562),t=r(722709);class C extends a.b{constructor(i){super(),this.query=i,this.hasRewrites=!1}visitSubqueryRef(i){if(!i.query)return i;var c=new C(i.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());var h=new u.vd(c),d=this.mergedFrom.ensureSource(h);return this.hasRewrites=!0,(0,e.v5)(d.name)}get didRewrite(){return this.hasRewrites}rewrite(){var i=this.query.select(),o=(0,t.z8)((0,t.UU)(i,c=>{var h=c.expr.accept(this);return h===c.expr?c:{name:c.name,expr:h}}));return o===i?this.query:this.query.createModified({from:this.mergedFrom,select:o})}}},650611:function(Ce,k,r){r.d(k,{CI:function(){return d},O7:function(){return h},Wv:function(){return c},_L:function(){return i},fL:function(){return o},tx:function(){return y}});var a=r(939123),e=r(405427),u=/'/g,t=/\.000$/;function y(n){return a.fF.assertValue(n,"value"),n+"D"}function i(n){return a.fF.assertValue(n,"value"),n+"L"}function o(n){return a.fF.assertValue(n,"value"),"'"+n.replace(u,"''")+"'"}function c(){return"null"}function h(n){return n?"true":"false"}function d(n,s){if(null===n)return"null";switch(s.primitiveType){case 4:return a.fF.assert(()=>_.isString(n)||_.isNumber(n),`Expected either a string or number value to encode for type ${s}`),n+"L";case 2:return a.fF.assert(()=>_.isString(n)||_.isNumber(n),`Expected either a string or number value to encode for type ${s}`),n+"M";case 3:return a.fF.assert(()=>_.isString(n)||_.isNumber(n),`Expected either a string or number value to encode for type ${s}`),n+"D";case 7:case 6:var l;return n instanceof Date?(l=(0,e.M4)(n)?new Date(n.epochTimeStamp).toISOString():new Date(n.getTime()-6e4*n.getTimezoneOffset()).toISOString(),_.endsWith(l,"Z")&&(l=l.substr(0,l.length-1)),l=l.replace(t,"")):(a.fF.assert(()=>_.isString(n),`Expected a string or a Date value for type ${s}`),l=n),`datetime'${l}'`;case 1:return a.fF.assert(()=>_.isString(n),`Expected a string value to encode for type ${s}`),o(n);case 5:return a.fF.assert(()=>_.isBoolean(n),`Expected boolean values for type ${s}`),h(n);case 13:return a.fF.assert(()=>_.isString(n),`Expected string values to encode for type ${s}`),n;default:a.fF.assertFail(`unsupported dsrValue for type ${s}`)}}},377176:function(Ce,k,r){r.d(k,{cX:function(){return M},yl:function(){return D},vQ:function(){return P},Je:function(){return S},RD:function(){return L},d3:function(){return B}});var a=r(722709),e=r(939123),u=r(616113),t=r(438905),C=r(528836),y=r(269556),i=r(693713),o=r(109562),c=r(561154),d=r(953474),n=r(257738),s=r(149184),p=r(737466),l=r(267956);function m(W,O,F){e.fF.assertValue(W,"namedItems");for(var A={},T=0,R=W.length;T<R;T++)A[W[T].name]=!0;return(0,p.zE)(A,F||(0,l.L)(O))}var b=r(960196),g=(()=>{class W extends i.vq{visitCompare(F){return 0===F.comparison&&F.right.accept(this)}visitAnd(F){return F.left.accept(this)&&F.right.accept(this)}visitAnyValue(F){return!0}visitDefault(F){return!1}}return W.instance=new W,W})(),v=r(693851),f=r(412413);class S{constructor(O){this.exprRewriter=O}static rewriteFrom(O,F){for(var A,T=O,R=T.keys(),U=0,z=R.length;U<z;U++){var j=R[U],H=T.source(j),q=H.accept(F,j);(H!==q||A)&&(A||(A=_.pick(T.sources(),R.slice(0,U))),A[j]=q)}return A?new o.cL(A):T}rewriteFrom(O){return S.rewriteFrom(O,new o.Ww(this.exprRewriter))}rewriteSelect(O,F){return e.fF.assertValue(O,"selectItems"),e.fF.assertValue(F,"from"),this.rewriteNamedSQExpressions(O,F)}rewriteGroupBy(O,F){if(e.fF.assertAnyValue(O,"groupByitems"),e.fF.assertValue(F,"from"),!_.isEmpty(O))return this.rewriteNamedSQExpressions(O,F)}rewriteNamedSQExpressions(O,F){return e.fF.assertValue(O,"expressions"),_.map(O,A=>({name:A.name,expr:M.rewrite(A.expr.accept(this.exprRewriter),F,F),nativeReferenceName:A.nativeReferenceName}))}rewriteOrderBy(O,F){if(e.fF.assertAnyValue(O,"orderByItems"),e.fF.assertValue(F,"from"),!_.isEmpty(O)){for(var A=[],T=0,R=O.length;T<R;T++){var U=O[T],z=M.rewrite(U.expr.accept(this.exprRewriter),F,F);A.push({direction:U.direction,expr:z})}return A}}rewriteWhere(O,F){if(e.fF.assertAnyValue(O,"whereItems"),e.fF.assertValue(F,"from"),!_.isEmpty(O)){for(var A=[],T=0,R=O.length;T<R;T++){var U=O[T],z={condition:M.rewrite(U.condition.accept(this.exprRewriter),F,F)};U.target&&(z.target=_.map(U.target,j=>M.rewrite(j.accept(this.exprRewriter),F,F))),U.annotations&&(z.annotations=U.annotations),A.push(z)}return A}}rewriteTransform(O,F){if(e.fF.assertAnyValue(O,"transformItems"),e.fF.assertAnyValue(F,"from"),!_.isEmpty(O)){var A=[];for(var T of O){var R=void 0;T.input.table&&!_.isEmpty(T.input.table.columns)&&(R=_.map(T.input.table.columns,z=>({role:z.role,expression:{name:z.expression.name,expr:M.rewrite(z.expression.expr.accept(this.exprRewriter),F,F)}})));var U={name:T.name,algorithm:T.algorithm,input:{parameters:T.input.parameters},output:T.output};T.input.table&&(U.input.table={name:T.input.table.name,columns:R}),A.push(U)}return A}}}class P{constructor(O,F,A,T,R,U,z){e.fF.assertValue(O,"from"),e.fF.assertValue(T,"select"),this.fromValue=O,this.whereItems=F,this.orderByItems=A,this.selectItems=T,this.groupByItems=R,this.transformItems=U,null!=z&&(this.topValue=z)}static create(){return P.empty||(P.empty=new P(new o.cL,null,null,[],null,null,null)),P.empty}static createWith(O,F){return e.fF.assertValue(O,"clauses"),F||(O=P.normalize(O)),new P(O.from,O.where,O.orderBy,O.select,O.groupBy,O.transforms,O.top)}createModified(O){return P.createWith({from:void 0!==O.from?O.from:this.fromValue,where:void 0!==O.where?O.where:this.whereItems,transforms:void 0!==O.transforms?O.transforms:this.transformItems,orderBy:void 0!==O.orderBy?O.orderBy:this.orderByItems,select:void 0!==O.select?O.select:this.selectItems,groupBy:void 0!==O.groupBy?O.groupBy:this.groupByItems,top:void 0!==O.top?O.top:this.topValue})}static normalize(O){var F={clauses:{from:O.from,where:O.where,orderBy:O.orderBy,select:O.select,groupBy:O.groupBy,transforms:O.transforms,top:O.top},usedSourceNames:{}};return P.removeUnreferencedKeys(F),P.renameSources(F),P.renameSourcesInSubqueries(F),F.clauses}static removeUnreferencedKeys(O){var F=O.clauses,A=F.from,T=F.where,R=F.orderBy,U=F.select,z=F.groupBy,j=F.transforms,H=new E(A.keys());if(T)for(var q=0,G=T.length;q<G;q++){var J=T[q];J.condition.accept(H);var Z=J.target;if(Z)for(var Q=0,ne=Z.length;Q<ne;Q++)Z[Q]&&Z[Q].accept(H)}if(j)for(var le=0,he=j.length;le<he;le++){var Se=j[le].input.table;if(Se&&!_.isEmpty(Se.columns))for(var Ke of Se.columns)Ke.expression.expr.accept(H)}if(R)for(var Ge=0,ye=R.length;Ge<ye;Ge++)R[Ge].expr.accept(H);for(var we=0,je=U.length;we<je;we++)U[we].expr.accept(H);if(z)for(var de=0,Pe=z.length;de<Pe;de++)z[de].expr.accept(H);var Ve=H.result();if(Ve){var Ze=A.clone();for(var Ue of Ve)Ze.remove(Ue);O.clauses.from=Ze}}static renameSources(O){var F=O.clauses.from,A=F.renameSources(O.usedSourceNames);A!==F&&(O.clauses.from=A,P.rewriteClauses(O.clauses,new M(F,A)))}static renameSourcesInSubqueries(O){O.clauses.from=x.renameSources(P.renameSourcesInQuery,O.clauses.from,O.usedSourceNames)}static renameSourcesInQuery(O,F){var A={clauses:O.getClauses(),usedSourceNames:F},T=A.clauses.from;return P.renameSources(A),P.renameSourcesInSubqueries(A),A.clauses.from===T?O:P.createWith(A.clauses)}from(O){return O?this.createModified({from:O}):this.fromValue.clone()}select(O){return _.isEmpty(arguments)?this.getSelect():this.setSelect(O)}getSelect(){return P.createNamedExpressionArray(this.selectItems)}static createNamedExpressionArray(O){return(0,a.z8)(_.map(O,F=>({name:F.name,expr:F.expr,nativeReferenceName:F.nativeReferenceName})))}setSelect(O){var F=this.fromValue.clone(),A=P.rewriteExpressionsWithSourceRenames(O,F);return this.createModified({from:F,select:A})}static rewriteExpressionsWithSourceRenames(O,F){for(var A=[],T=0,R=O.length;T<R;T++){var U=O[T];A.push({name:U.name,expr:M.rewrite(U.expr,null,F)})}return A}removeSelect(O){e.fF.assertValue(O,"expr");for(var F=this.selectItems,A=[],T=0,R=F.length;T<R;T++){var U=F[T];(0,n.fS)(U.expr,O)||A.push(U)}return this.createModified({select:A})}removeOrderBy(O){for(var F=this.orderBy(),A=F.length-1;A>=0;A--)(0,n.fS)(F[A].expr,O)&&F.splice(A,1);return this.createModified({orderBy:F})}removeTransform(O){for(var F=this.transforms(),A=0,T=F.length;A<T;A++)if(F[A].name===O.name){F.splice(A,1);break}return this.createModified({transforms:F})}selectNameOf(O){return this.getSelectFor(O)?.name}selectNamesOf(O){return _.map(this.getSelectsFor(O),F=>F.name)}selectNativeReferenceNameOf(O){return this.getSelectFor(O)?.nativeReferenceName}getSelectFor(O){var F=(0,s.p)(this.selectItems,O);if(F>=0)return this.selectItems[F]}getSelectsFor(O){return _.filter(this.selectItems,F=>(0,n.fS)(F.expr,O))}setSelectAt(O,F,A){if(e.fF.assertValue(F,"expr"),!(O>=this.selectItems.length)){var T=this.select(),R=this.fromValue.clone(),z=A??T[O].nativeReferenceName;return T[O]={name:T[O].name,expr:M.rewrite(F,null,R),nativeReferenceName:z},this.createModified({from:R,select:T})}}addSelect(O,F,A){e.fF.assertValue(O,"expr");var T=this.select(),R=this.fromValue.clone();return T.push(this.createNamedExpr(T,R,O,F,A)),this.createModified({from:R,select:T})}setNativeReferenceNameAt(O,F){e.fF.assert(()=>0<=O&&O<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[O].nativeReferenceName=F}getNativeReferenceNameAt(O){return e.fF.assert(()=>0<=O&&O<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[O].nativeReferenceName}getNativeReferenceNames(O){var F=this.selectItems.map(A=>A.nativeReferenceName);return O?_.filter(F,A=>!(0,u.g)(A)):F}createNamedExpr(O,F,A,T,R){return{name:m(O,A,T),expr:M.rewrite(A,F,F),nativeReferenceName:R}}groupBy(O){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(O)}getGroupBy(){return P.createNamedExpressionArray(this.groupByItems)}setGroupBy(O){var F=this.fromValue.clone(),A=P.rewriteExpressionsWithSourceRenames(O,F);return this.createModified({from:F,groupBy:A})}addGroupBy(O){e.fF.assertValue(O,"expr");var F=this.groupBy(),A=this.fromValue.clone();return F.push(this.createNamedExpr(F,A,O)),this.createModified({from:A,groupBy:F})}orderBy(O){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(O)}getOrderBy(){var O=[],F=this.orderByItems;if(F)for(var A=0,T=F.length;A<T;A++){var R=F[A];O.push({expr:R.expr,direction:R.direction})}return O}setOrderBy(O){e.fF.assertValue(O,"values");for(var F=[],A=this.fromValue.clone(),T=0,R=O.length;T<R;T++){var U=O[T];F.push({expr:M.rewrite(U.expr,A,A),direction:U.direction})}return this.createModified({from:A,orderBy:F})}where(O,F){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],O,F)}getWhere(){var O=[],F=this.whereItems;if(F)for(var A=0,T=F.length;A<T;A++)O.push(F[A]);return O}setWhere(O,F,A){e.fF.assertValue(O,"existingFilters"),e.fF.assertValue(F,"newFilters");var T=_.clone(O),R=this.fromValue.clone();for(var U of F){var z={condition:M.rewrite(U.condition,A,R)};U.target&&(z.target=_.map(U.target,j=>M.rewrite(j,A,R))),U.annotations&&(z.annotations=U.annotations),T.push(z)}return this.createModified({from:R,where:T})}addWhere(O,F){return this.setWhere(this.where(),O,F)}addSemanticFilter(O){return e.fF.assertValue(O,"filter"),this.setWhere(this.where(),O.where(),O.from())}transforms(O){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(O)}getTransforms(){var O=[];if(!_.isEmpty(this.transformItems))for(var F of this.transformItems)O.push(F);return O}setTransforms(O){var F=this.fromValue.clone(),A=[];for(var T of O){var R=void 0;T.input.table&&!_.isEmpty(T.input.table.columns)&&(R=_.map(T.input.table.columns,z=>({role:z.role,expression:this.createNamedExpr((0,a.z8)([]),F,z.expression.expr,z.expression.name)})));var U={name:T.name,algorithm:T.algorithm,input:{parameters:T.input.parameters},output:T.output};T.input.table&&(U.input.table={name:T.input.table.name,columns:R}),A.push(U)}return this.createModified({from:F,transforms:O})}top(O){return _.isEmpty(arguments)?this.topValue:this.setTop(O)}setTop(O){return e.fF.assert(()=>null==O||O>0,"if top is specified, it must be positive"),this.createModified({top:O})}rewrite(O){var F=this.getClauses();return P.rewriteClauses(F,O),this.createModified(F)}hasVisualCalculations(){for(var O of this.selectItems)if((0,d.jX)(O.expr))return!0;return!1}getClauses(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}}static rewriteClauses(O,F){var A=new S(F);O.from=A.rewriteFrom(O.from),O.where=A.rewriteWhere(O.where,O.from),O.orderBy=A.rewriteOrderBy(O.orderBy,O.from),O.select=A.rewriteSelect(O.select,O.from),O.groupBy=A.rewriteGroupBy(O.groupBy,O.from),O.transforms=A.rewriteTransform(O.transforms,O.from)}static willFiltersAffectQuery(O){return e.fF.assertValue(O,"query"),new w(O).willFilterAffectQuery()}}class D{constructor(O,F){e.fF.assertValue(O,"from"),e.fF.assertValue(F,"where"),this.fromValue=O,this.whereItems=F}static fromSQExpr(O){return D.fromSQFromAndSQExpr(new o.cL,O)}static fromSQFromAndSQExpr(O,F){e.fF.assertValue(O,"from"),e.fF.assertValue(F,"condition");var A=M.rewrite(F,O,O);return new D(O,[{condition:A}])}static fromSQFromAndSQFilters(O,F){return new D(O,F)}static clone(O){return D.fromSQFromAndSQFilters(O.from(),O.where())}static fromMeasureFilters(O,F,A){e.fF.assertValue(O,"query"),e.fF.assert(()=>!_.isEmpty(F),"measureFilters not empty"),e.fF.assert(()=>_.every(F,Q=>1===(0,t._)(Q.condition)),"Require measure filter");var T,j,R=[],U=O.where(),z=function(Q){var ne=_.find(U,le=>(0,n.fS)(le.condition,Q.condition));if(!ne||!ne.target)return{v:void 0};T=T||ne.target,e.fF.assert(()=>(()=>{for(var le=0;le<T.length;le++)if(!(0,n.fS)(T[le],ne.target[le]))return!1;return!0})(),"Expected targets to be the same."),R.push(ne)};for(var H of F)if(j=z(H))return j.v;var q=_.filter(U,Q=>1!==(0,t._)(Q.condition)&&4!==(0,t._)(Q.condition)),G=_.map(T,Q=>_.find(O.select(),ne=>(0,n.fS)(Q,ne.expr)));A&&G.push(...this.getMeasuresForJoinPredicates(O,A)||[]);var J=P.createWith({from:O.from(),select:G,where:[...q||[],...R||[]]});return B(D.fromSubquery(J,T),O)}static fromVisualTopNFilter(O,F,A,T){e.fF.assertValue(O,"query"),e.fF.assertValue(F,"visualTopNExpr"),e.fF.assertValue(T,"capabilities");var R=this.getSubquerySelects(O,A,T),U=P.createWith({from:O.from(),select:R,orderBy:O.orderBy()||[],top:F.itemCount,where:O.where()}),z=_.chain(R).filter(H=>!(0,b.k)(H.expr)).map(H=>H.expr).value();return B(D.fromSubquery(U,z,!0),O)}static fromSubquery(O,F,A){var T=new o.vd(O,A),R=new o.cL,U=R.ensureSource(T,"subquery"),z=(0,C.dY)(F,(0,C.v5)(U.name)),j=M.rewrite(z,R,R),H=[];return H.push({condition:j}),D.fromSQFromAndSQFilters(R,H)}static getDefaultValueFilter(O){return D.getDataViewScopeIdentityComparisonFilters(O,(0,C.LS)())}static getAnyValueFilter(O){return D.getDataViewScopeIdentityComparisonFilters(O,(0,C.n7)())}static getDefaultAnyValueFilter(O,F){if(_.isEmpty(O))return D.getAnyValueFilter(F);if(_.isEmpty(F))return D.getDefaultValueFilter(O);var A=Array.apply(null,Array(O.length)).map(()=>(0,C.LS)()),T=Array.apply(null,Array(O.length)).map(()=>(0,C.n7)()),R=(0,f.R)(O,A),U=(0,f.R)(F,T),z=(0,C.xD)(R,U);return D.fromSQExpr(z)}static getDataViewScopeIdentityComparisonFilters(O,F){if(e.fF.assertValue(O,"fieldSQExprs"),e.fF.assertValue(F,"value"),O instanceof Array){var A=Array.apply(null,Array(O.length)).map(()=>F);return D.fromSQExpr((0,f.R)(O,A))}return D.fromSQExpr((0,C.Dg)(O,F))}from(){return this.fromValue.clone()}conditions(){for(var O=[],F=this.whereItems,A=0,T=F.length;A<T;A++)O.push(F[A].condition);return O}where(){for(var O=[],F=this.whereItems,A=0,T=F.length;A<T;A++)O.push(F[A]);return O}rewrite(O){var F=new S(O),A=F.rewriteFrom(this.fromValue),T=F.rewriteWhere(this.whereItems,A);return new D(A,T)}validate(O,F,A){var T=new C._R(O,F,A);return this.rewrite(T),T.errors}static merge(O){if(_.isEmpty(O))return null;if(1===O.length)return O[0];for(var F=O[0],A=F.from(),T=(0,a.qn)(F.whereItems,F.whereItems.length),R=1,U=O.length;R<U;R++)D.applyFilter(O[R],A,T);return new D(A,T)}static unmerge(O){var F=[];for(var A of O.whereItems){var T=new D(O.fromValue,[A]);Object.keys(T.from().sources()).length>1&&(T=D.removeUnreferencedKeys(T)),F.push(T)}return F}static removeUnreferencedKeys(O){var F=O.from(),A=O.where(),T=new E(F.keys());if(A)for(var R=0,U=A.length;R<U;R++){var z=A[R];z.condition.accept(T);var j=z.target;if(j)for(var H=0,q=j.length;H<q;H++)j[H]&&j[H].accept(T)}var G=T.result();if(G){for(var J of G)F.remove(J);return new D(F,A)}}static getMeasuresForJoinPredicates(O,F){for(var A=this,T=O.select(),R=[],U=function(j){var H=T[j];if((0,b.k)(H.expr)){if(_.some(F.SuppressedJoinPredicates,q=>q===j))return 1;(A.isSelectProjected(F.Primary,j)||A.isSelectProjected(F.Secondary,j))&&R.push(H)}},z=0;z<T.length;z++)U(z);return R}static isSelectProjected(O,F){if(O&&O.Groupings)for(var A of O.Groupings)if(_.some(A.Projections,T=>T===F)&&!_.some(A.SuppressedProjections,T=>T===F))return!0;return!1}static getSubquerySelects(O,F,A){var R=_.chain(A.dataRoles).filter(j=>0!==j.joinPredicate).map(j=>j.name).value(),U=_(F.projections).entries().filter(([j])=>R.includes(j)).flatMap(([,j])=>j.all().map(H=>H.queryRef)).value();return _.chain(O.select()).filter(j=>!(0,b.k)(j.expr)||U.includes(j.name)).sortBy(j=>(0,b.k)(j.expr)?1:0).value()}static isDefaultFilter(O){return!(!O||1!==O.where().length)&&(0,v.F)(O.where()[0].condition)}static isAnyFilter(O){return!(!O||1!==O.where().length)&&(W=O.where()[0].condition,e.fF.assertValue(W,"expr"),W.accept(g.instance));var W}static isSameFilter(O,F){return O===F||!!(O&&F&&O.from().equals(F.from())&&(0,a.NF)(O.where(),F.where(),(A,T)=>(0,n.Me)(A,T)))&&!(D.isDefaultFilter(O)&&D.isAnyFilter(F)||D.isAnyFilter(O)&&D.isDefaultFilter(F))}static isInFilter(O){return!(!O||1!==O.where().length)&&(0,d.Hi)(O.where()[0].condition)}static applyFilter(O,F,A){e.fF.assertValue(O,"filter"),e.fF.assertValue(F,"from"),e.fF.assertValue(A,"where");var T=O.whereItems;for(var R of T){var U={condition:M.rewrite(R.condition,O.fromValue,F)};R.target&&(U.target=_.map(R.target,z=>M.rewrite(z,O.fromValue,F))),A.push(U)}}setIgnoreMParameter(){var O=this.whereItems;for(var F of O)F.annotations||(F.annotations={}),F.annotations["PowerBI.MParameterBehavior"]=1}}class M extends y.b{constructor(O,F){e.fF.assertValue(F,"destinationFrom"),super(),this.sourceFrom=O,this.destinationFrom=F}visitEntity(O){var F=this.destinationFrom.source(O.variable);if(F&&(0,o.$r)(F)&&F.schema===O.schema&&F.entity===O.entity)return O;var A=this.destinationFrom.ensureSource(new o.SX(O.schema,O.entity),O.variable);return A.name!==O.variable?new C.PN(O.schema,O.entity,A.name):O}visitSubqueryRef(O){if(!this.sourceFrom)return e.fF.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),O;var F=this.sourceFrom.source(O.variable);if(!F)return O;var A=this.destinationFrom.source(O.variable);if(A&&(0,c.y)(A)&&(0,n.C6)(F.subquery,A.subquery))return O;var T=this.destinationFrom.ensureSource(new o.vd(F.subquery,F.inheritsSorting),O.variable);return T.name!==O.variable?new C.wb(T.name):O}visitNamedQueryRef(O){var F=this.destinationFrom.source(O.variable);if(F&&(0,o.Ms)(F)&&(0,n.fS)(F.expr,O))return O;var T=this.destinationFrom.ensureSource(new o.Qo(O),O.variable);return T.name!==O.variable?new C.nz(O.queryName,T.name):void 0}static rewrite(O,F,A){e.fF.assertValue(O,"expr"),e.fF.assertValue(A,"destinationFrom");var T=new M(F,A);return O.accept(T)}}class E extends i.PA{constructor(O){e.fF.assertValue(O,"keys"),super(),this.keys=O}visitEntity(O){this.removeKey(O.variable)}visitSubqueryRef(O){this.removeKey(O.variable)}visitNamedQueryRef(O){this.removeKey(O.variable)}removeKey(O){var F=this.keys.indexOf(O);F>=0&&this.keys.splice(F,1)}result(){return this.keys}}class w extends i.PA{constructor(O){super(),this.query=O,this.containsEntityRefs=!1,this.containsSubqueries=!1}visitEntity(O){this.containsEntityRefs=!0}visitPropertyVariationSource(O){this.containsEntityRefs=!0}visitSubqueryRef(O){this.containsSubqueries=!0}willFilterAffectQuery(){var O=this.query.select();for(var F of O)F.expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)}}class x{constructor(O,F,A){this.renameSources=O,this.from=F,this.usedSourceNames=A,e.fF.assertValue(O,"renameSources"),e.fF.assertValue(F,"from"),e.fF.assertValue(A,"usedSourceNames")}static renameSources(O,F,A){var T=new x(O,F,A);return S.rewriteFrom(F,T)}visitEntity(O,F){return O}visitPod(O,F){return O}visitSubquery(O,F){var A=O.subquery,T=this.renameSources(A,this.usedSourceNames);return T===A?O:new o.vd(T,O.inheritsSorting)}visitExpr(O,F){return O}}function L(W,O){var F=W.from(),A=F,T=D.merge(O);return F===(A=I.ensureFiltersInSubqueries(A,T.where(),T.from()))?W:D.fromSQFromAndSQFilters(A,W.where())}function B(W,O){var F=_.filter(_.map(O.select(),U=>U.expr),U=>!(0,b.k)(U));if(_.isEmpty(F))return W;var A=_.map(F,U=>({condition:(0,C.Dg)(U,(0,C.n7)(!0))})),T=W.from(),R=I.ensureFiltersInSubqueries(T,A,T);return T===R?W:D.fromSQFromAndSQFilters(R,W.where())}class I{constructor(O,F){this.filtersToEnsure=O,this.filtersToEnsureFrom=F,this.modifiedSubquery=!1,e.fF.assertNonEmpty(O,"expected filters to ensure exist in each subquery")}static ensureFiltersInSubqueries(O,F,A){var T=new I(F,A),R=S.rewriteFrom(O,T);return e.fF.assert(()=>R!==O===T.modifiedSubquery,"expected to rewrite the from clause if and only if we modified a subquery"),R}visitEntity(O,F){return O}visitPod(O,F){return O}visitSubquery(O,F){var A=O.subquery.where(),T=[],R=function(z){_.find(A,j=>(0,n.Me)(z,j))||T.push(z)};for(var U of this.filtersToEnsure)R(U);return 0===T.length?O:(this.modifiedSubquery=!0,new o.vd(O.subquery.addWhere(T,this.filtersToEnsureFrom),O.inheritsSorting))}visitExpr(O,F){return O}}},528836:function(Ce,k,r){r.d(k,{X1:function(){return er},v0:function(){return F},uV:function(){return q},iE:function(){return Pe},MH:function(){return M},I6:function(){return G},Wh:function(){return B},wU:function(){return Q},c8:function(){return ne},jz:function(){return Ge},ev:function(){return le},YB:function(){return we},AC:function(){return ye},ex:function(){return ke},PN:function(){return f},eX:function(){return Se},Il:function(){return v},F0:function(){return kt},_R:function(){return fr},DJ:function(){return Ve},Gv:function(){return x},UG:function(){return E},qg:function(){return U},jE:function(){return z},vD:function(){return j},Xg:function(){return J},UY:function(){return I},Jm:function(){return at},nz:function(){return D},F1:function(){return O},$f:function(){return W},Wr:function(){return S},v3:function(){return Ke},Cc:function(){return Z},_n:function(){return A},c7:function(){return R},LE:function(){return T},nd:function(){return Ue},kC:function(){return w},GF:function(){return tt},fw:function(){return he},wb:function(){return P},YX:function(){return ut},m_:function(){return Ye},lI:function(){return Me},xD:function(){return $e},n7:function(){return Gt},Y8:function(){return Te},vX:function(){return st},O7:function(){return ir},$_:function(){return Ct},Oh:function(){return Le},qu:function(){return Ut},u7:function(){return Kt},r3:function(){return Qt},sO:function(){return Ht},uQ:function(){return _r},CQ:function(){return vr},gH:function(){return Fr},LS:function(){return Rt},h5:function(){return Dt},tx:function(){return Ur},$t:function(){return Qe},nw:function(){return ct},Dg:function(){return Xt},Gg:function(){return rr},x5:function(){return Rr},Xw:function(){return qe},GW:function(){return Xe},f7:function(){return xr},_L:function(){return yr},Ls:function(){return dr},Wp:function(){return me},bT:function(){return Ee},os:function(){return Re},dY:function(){return wt},Sh:function(){return pt},cA:function(){return Pr},mv:function(){return X},fP:function(){return St},kD:function(){return ae},sl:function(){return Ie},PB:function(){return be},YU:function(){return Bt},ff:function(){return cr},zO:function(){return bt},IF:function(){return Nt},or:function(){return Pt},Pe:function(){return ee},yU:function(){return fe},Mj:function(){return ve},p7:function(){return pr},nF:function(){return Vt},Wu:function(){return Ae},ed:function(){return He},xA:function(){return ze},eu:function(){return jr},Zy:function(){return zr},Ny:function(){return et},v5:function(){return Ne},bO:function(){return ce},fL:function(){return Sr},e7:function(){return Kr},hu:function(){return se},GB:function(){return re},kQ:function(){return Or},Fo:function(){return lr},Oe:function(){return rt}});var a=r(753104),e=r(930746),u=r(270862),t=r(939123),C=r(334673),y=r(931145),i=r(564619),o=r(895127),c=r(650611),h=r(434032),d=it=>null!=it&&1===it[h.L],n=r(269556),s=r(257738),p=r(953474),l=r(517273),m=r(693713),b=r(906741),V=r(328469),g=r(960196);class v{constructor(K,Y){t.fF.assertValue(K,"kind"),t.fF.assertAnyValue(Y,"annotations"),this._kind=K,this._annotations=Y}validate(K,Y,xe,yt){var Tt=new fr(K,Y,xe,yt);return this.accept(Tt),Tt.errors}accept(K,Y){t.fF.assertFail("abstract method")}get kind(){return this._kind}getMetadata(K,Y){t.fF.assertValue(K,"federatedSchema");var xe=(0,o.Q)(this,K);if(xe)return xe.column||xe.columnAggr||xe.groupingColumn||xe.groupingColumnAggr||xe.measure?this.getMetadataForProperty(xe,K):xe.hierarchyLevel||xe.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(xe,K):xe.columnHierarchyLevelVariation?this.getMetadataForVariation(xe,K):xe.columnSubquery||xe.columnAggrSubquery?this.getMetadataForSubqueryColumn(xe,K,Y):xe.columnTransformRef?this.getMetadataForColumnTransformRef():v.getMetadataForEntity(xe,K)}isOrdinalEvaluation(){return!1}getAnnotations(){return this._annotations}getKeyColumns(K){var Y=ft.getColumnRefSQExpr(K,this);if(Y){var xe=[],yt=this.getPropertyKeys(K);if(yt&&yt.length>0)for(var Tt=0,$t=yt.length;Tt<$t;Tt++)xe.push(Le(Y.source,yt[Tt].name));else xe.push(Y);return xe}}hasGroupOnKeys(K){var Y=this.getTargetColumnRef(K);if(Y){var xe=this.getPropertyKeys(K);if(!xe||xe.length<1)return!1;if(xe.length>1)return!0;var yt=Le(Y.source,xe[0].name);return!(0,s.fS)(yt,this)}}getPropertyKeys(K){var Y=this.getConceptualProperty(K,!0);if(Y)return Y.column?Y.column.keys:void 0}getOrderByColumns(K){var Y=this.getTargetColumnRef(K);if(Y){var xe=Y.getConceptualProperty(K,!0),yt=xe&&xe.column&&xe.column.orderBy;if(_.isEmpty(yt))return[];for(var Tt=new Array(yt.length),$t=0,qt=yt.length;$t<qt;$t++)Tt[$t]=Le(Y.source,yt[$t].name);return Tt}}getConceptualProperty(K,Y){var xe=(0,o.Q)(this,K);if(xe){var yt=(0,i.pV)(xe);if(yt&&1===_.size(yt)){var Tt=(0,i.Hp)(xe);if(Tt){var $t=K.schema(yt[0].schema);return $t?$t.findProperty(yt[0].entity,Tt):void 0}if(Y){var qt,hr;if(xe.columnHierarchyLevelVariation)(qt=xe.columnHierarchyLevelVariation.level)&&(hr=K.schema(qt.schema).findHierarchy(qt.entity,qt.name));else if(qt=xe.hierarchyLevel||xe.hierarchyLevelAggr){var gr=(0,i.Um)(xe);hr=K.schema(gr.schema).findHierarchy(gr.entity,qt.name)}if(hr){var br=hr.levels.withName(qt.level);if(br)return br.column}}}}}getTargetEntityForVariation(K,Y){var xe=this.getConceptualProperty(K);if(xe&&xe.column&&!_.isEmpty(xe.column.variations)){var yt=xe.column.variations;for(var Tt of yt)if(Tt.name===Y)return Tt.navigationProperty.targetEntity.name}}getTargetEntity(){return Et.getEntityExpr(this)}getTargetSchemaName(){return It.getSchemaName(this)}getTargetColumnRef(K){return t.fF.assertValue(K,"schema"),ft.getColumnRefSQExpr(K,this)}getMetadataForVariation(K,Y){t.fF.assertValue(K,"field"),t.fF.assertValue(Y,"federatedSchema");var xe=K.columnHierarchyLevelVariation,yt=(0,i.Um)(K),Tt=Y.schema(yt.schema).findProperty(yt.entity,xe.source.name);if(Tt&&Tt.column&&Tt.column.variations)for(var $t of Tt.column.variations)if($t.defaultHierarchy&&$t.defaultHierarchy.levels)for(var qt of $t.defaultHierarchy.levels)if(qt.name===xe.level.level){var hr=qt.column;return{kind:1===hr.kind?1:0,type:hr.type,format:hr.format,idOnEntityKey:!!hr.column&&hr.column.idOnEntityKey,defaultAggregate:hr.column?hr.column.defaultAggregate:null}}}getMetadataForHierarchyLevel(K,Y){t.fF.assertValue(K,"field"),t.fF.assertValue(Y,"federatedSchema");var xe=this.getConceptualProperty(Y,!0);if(xe)return this.getPropertyMetadata(K,xe)}getPropertyMetadata(K,Y){var xe=K.columnAggr||K.groupingColumnAggr||K.hierarchyLevelAggr,{format:yt,type:Tt}=xe?this.getFormatAndTypeForAggregate(xe.aggregate,Y.format,Y.type):Y;return{kind:1===Y.kind||xe&&void 0!==xe.aggregate?1:0,type:Tt,format:yt,idOnEntityKey:!!Y.column&&Y.column.idOnEntityKey,aggregate:xe?xe.aggregate:void 0,defaultAggregate:Y.column?Y.column.defaultAggregate:null}}getMetadataForProperty(K,Y){t.fF.assertValue(K,"field"),t.fF.assertValue(Y,"federatedSchema");var xe=this.getConceptualProperty(Y);if(xe)return this.getPropertyMetadata(K,xe)}getFormatAndTypeForAggregate(K,Y,xe){var yt=Y,Tt=xe;switch(K){case 2:case 5:Tt=y.Ge.fromExtendedType(260),yt=void 0;break;case 1:case 7:case 8:Tt.integer&&(Tt=y.Ge.fromExtendedType(259),yt=(0,C.SU)(yt))}return{format:yt,type:Tt}}getMetadataForSubqueryColumn(K,Y,xe){t.fF.assertValue(K,"field"),t.fF.assertValue(Y,"federatedSchema"),t.fF.assert(()=>!(!xe||!xe.sources),"context sources should be available for evaluating subquery source");var yt=l.m.getSubqueryExpression(this,xe);t.fF.assertValue(yt,"could not find original select expr of subquery from context");var Tt=yt.getMetadata(Y,xe);if(Tt){if(Tt.kind=0,K.columnAggrSubquery){var $t=this.getFormatAndTypeForAggregate(K.columnAggrSubquery.aggregate,Tt.format,Tt.type);Tt.type=$t.type,Tt.format=$t.format,Tt.aggregate=K.columnAggrSubquery.aggregate}else K.columnSubquery?Tt.aggregate=void 0:t.fF.assertFail("invalid field expression for subquery column");return Tt}}getMetadataForColumnTransformRef(){return{idOnEntityKey:!1,kind:0,type:y.Ge.fromVariant([y.Ge.fromPrimitiveTypeAndCategory(5),y.Ge.fromPrimitiveTypeAndCategory(7),y.Ge.fromPrimitiveTypeAndCategory(2),y.Ge.fromPrimitiveTypeAndCategory(3),y.Ge.fromPrimitiveTypeAndCategory(4),y.Ge.fromPrimitiveTypeAndCategory(1)])}}static getMetadataForEntity(K,Y){t.fF.assertValue(K,"field"),t.fF.assertValue(Y,"federatedSchema");var xe=(0,i.Um)(K);if(Y.schema(xe.schema).entities.withName(xe.entity)&&K.entityAggr)switch(K.entityAggr.aggregate){case 2:case 5:return{kind:1,type:y.Ge.fromExtendedType(260),format:void 0,idOnEntityKey:!1,aggregate:K.entityAggr.aggregate}}}}(0,e.y)(v.prototype);class f extends v{constructor(K,Y,xe,yt){t.fF.assertValue(Y,"entity"),super(0,yt),this.schema=K,this.entity=Y,xe&&(this.variable=xe)}accept(K,Y){return K.visitEntity(this,Y)}as(K,Y){return new f(this.schema,this.entity,K,Y)}}class S extends v{constructor(K,Y,xe,yt,Tt){t.fF.assertValue(K,"name"),super(47,Tt),this.name=K,this.language=Y,this.expression=xe,this.dataType=yt}accept(K,Y){return K.visitNativeVisualCalc(this,Y)}getMetadata(K){return{kind:1,type:y.Ge.fromPrimitiveTypeAndCategory(this.dataType??3)}}}class P extends v{constructor(K,Y){t.fF.assertValue(K,"source"),t.fF.assertAnyValue(Y,"annotations"),super(1,Y),_.isString(K)?this.variable=K:this.query=K}accept(K,Y){return K.visitSubqueryRef(this,Y)}as(K,Y){return new P(K,Y)}}class D extends v{constructor(K,Y,xe){t.fF.assertValue(K,"source"),super(39,xe),this.queryName=K,Y&&(this.variable=Y)}accept(K,Y){return K.visitNamedQueryRef(this,Y)}as(K,Y){return new D(this.queryName,K,Y)}}class M extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"left"),t.fF.assertValue(Y,"right"),t.fF.assertValue(xe,"operator"),super(23,yt),this.left=K,this.right=Y,this.operator=xe}accept(K,Y){return K.visitArithmetic(this,Y)}getMetadata(K){var Y=this.left.getMetadata(K);if((0,p.g5)(this.right))return Y?(t.fF.assert(()=>3===this.operator,"unexpected usage of scoped eval with arithmetic"),Y.format="#,##0.00%",Y.type=y.Ge.fromExtendedType(259),Y):void 0;var $t,xe=this.right.getMetadata(K),yt=Y?.type,Tt=xe?.type;$t=yt&&Tt?this.getArithmeticResultType(yt,Tt):yt??Tt,t.fF.assertValue($t,"SQExpr - cannot get proper type for arithmetic expression");var gr,qt=Y?.format,hr=xe?.format;return(0===this.operator||1===this.operator)&&(gr=qt===hr?qt:void 0),{format:gr,type:$t,kind:1}}getArithmeticResultType(K,Y){return 0!==this.operator&&1!==this.operator&&2!==this.operator&&3!==this.operator&&t.fF.assertNever(this.operator),2===K.primitiveType?y.Ge.fromPrimitiveTypeAndCategory(3===this.operator&&2===Y.primitiveType?3:2):3===K.primitiveType?y.Ge.fromPrimitiveTypeAndCategory(3!==this.operator&&2===Y.primitiveType?2:3):4===K.primitiveType?3===this.operator&&4===Y.primitiveType?y.Ge.fromPrimitiveTypeAndCategory(3):Y:void t.fF.assertFail("unsupported arithmetic expression type")}}class E extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"arg"),t.fF.assertValue(Y,"size"),super(35,yt),this.arg=K,this.size=Y,null!=xe&&(this.timeUnit=xe)}accept(K,Y){return K.visitFloor(this,Y)}}class w extends v{constructor(K,Y,xe){t.fF.assertValue(K,"expression"),t.fF.assertValue(Y,"scope"),super(26,xe),this.expression=K,this.scope=Y}accept(K,Y){return K.visitScopedEval(this,Y)}getMetadata(K){return this.expression.getMetadata(K)}hasGlobalScope(){return t.fF.assertValue(this.scope,"scope"),0===this.scope.length}hasInnerMostScope(){return t.fF.assertValue(this.scope,"scope"),1===this.scope.length&&(0,p.LX)(this.scope[0])}static createGlobalAggregateOfScopedExpr(K,Y){var xe=new w(K,[new te]);return new w(new F(xe,Y),[])}decomposeGlobalAggregateOfScopedExpr(){if(this.hasGlobalScope()){var K=this.expression;if((0,p.iV)(K)){var Y=K.arg;if((0,p.g5)(Y)&&Y.hasInnerMostScope())return{source:Y.expression,func:K.func}}}}}class x extends v{constructor(K,Y,xe){t.fF.assertValue(K,"expression"),t.fF.assertValue(Y,"filters"),super(41,xe),this.expression=K,this.filters=Y}accept(K,Y){return K.visitFilteredEval(this,Y)}getMetadata(K){return this.expression.getMetadata(K)}}class N extends v{constructor(K,Y){t.fF.assertValue(K,"expressionName"),super(27,Y),this.expressionName=K}accept(K,Y){return K.visitWithRef(this,Y)}}class L extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"kind"),t.fF.assertValue(Y,"source"),t.fF.assertValue(xe,"ref"),super(K,yt),this.source=Y,this.ref=xe}}class B extends L{constructor(K,Y,xe,yt){super(xe||2,K,Y,yt)}accept(K,Y){return K.visitColumnRef(this,Y)}}class I extends L{constructor(K,Y,xe){super(3,K,Y,xe)}accept(K,Y){return K.visitMeasureRef(this,Y)}}class W extends v{constructor(K,Y,xe,yt,Tt,$t,qt){super(43,qt),t.fF.assertValue(K,"language"),t.fF.assertValue(Y,"expression"),t.fF.assertValue(xe,"dataType"),t.fF.assertAnyValue(yt,"proposedName"),t.fF.assertAnyValue(Tt,"expressionContentCache"),t.fF.assertAnyValue($t,"format"),this.language=K,this.expression=Y,this.dataType=xe,this.proposedName=yt,this.expressionContentCache=Tt,this.format=$t}getMetadata(K){return t.fF.assertValue(K,"federatedSchema"),{kind:1,type:y.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(K,Y){return K.visitNativeMeasure(this,Y)}}class O extends v{constructor(K,Y,xe,yt,Tt,$t,qt,hr){super(44,hr),t.fF.assertValue(K,"language"),t.fF.assertValue(Y,"expression"),t.fF.assertValue(xe,"dataType"),t.fF.assertValue(yt,"source"),t.fF.assertAnyValue(Tt,"proposedName"),t.fF.assertAnyValue($t,"expressionContentCache"),t.fF.assertAnyValue(qt,"format"),this.language=K,this.expression=Y,this.dataType=xe,this.source=yt,this.proposedName=Tt,this.expressionContentCache=$t,this.format=qt}getMetadata(K){return t.fF.assertValue(K,"federatedSchema"),{kind:0,type:y.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(K,Y){return K.visitNativeColumn(this,Y)}}class F extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"arg"),t.fF.assertValue(Y,"func"),super(4,yt),this.arg=K,this.func=Y,this.includeAllTypes=xe,t.fF.assert(()=>_.isNil(this.includeAllTypes)||3===this.func||4===this.func,"includeAllTypes has a value and the aggregate is not min/max - not a valid combination.")}accept(K,Y){return K.visitAggr(this,Y)}getMetadata(K,Y){if(t.fF.assertValue(K,"federatedSchema"),(0,p.jk)(this.arg)){var xe=this.getFormatAndTypeForAggregate(this.func,this.arg.format,y.Ge.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:1,type:xe.type,format:xe.format}}return super.getMetadata(K,Y)}}class A extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"arg"),t.fF.assertValue(Y,"k"),t.fF.assert(()=>0<=Y&&Y<=1,"0 <= k && k <= 1"),t.fF.assertValue(xe,"exclusive"),super(28,yt),this.arg=K,this.k=Y,this.exclusive=xe}getMetadata(K){t.fF.assertValue(K,"federatedSchema");var Y=this.arg.getMetadata(K);if(Y)return{kind:1,type:Y.type}}accept(K,Y){return K.visitPercentile(this,Y)}}class T extends v{constructor(K,Y,xe,yt){super(29,yt),this.min=K,this.max=Y,this.percent=xe,t.fF.assert(()=>xe>=0&&xe<=1,"Invalid percent value. Valid values are 0 to 1")}accept(K,Y){return K.visitRangePercent(this,Y)}static overRangeOf(K,Y){var xe=w.createGlobalAggregateOfScopedExpr(K,3),yt=w.createGlobalAggregateOfScopedExpr(K,4);return new T(xe,yt,Y)}decomposeOverRangePattern(){var K=this.min,Y=this.max;if((0,p.g5)(K)&&(0,p.g5)(Y)){var xe=K.decomposeGlobalAggregateOfScopedExpr(),yt=Y.decomposeGlobalAggregateOfScopedExpr();if(xe&&yt&&3===xe.func&&4===yt.func&&(0,s.fS)(xe.source,yt.source))return{sourceExpr:xe.source,percent:this.percent}}}}class R extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"arg"),t.fF.assertValue(Y,"name"),t.fF.assertValue(xe,"property"),super(5,yt),this.arg=K,this.name=Y,this.property=xe}accept(K,Y){return K.visitPropertyVariationSource(this,Y)}}class U extends B{constructor(K,Y,xe,yt){t.fF.assertValue(K,"name"),t.fF.assertValue(xe,"groupedExprs"),t.fF.assert(()=>xe.length>0,"groupedExprs.length > 0"),super(Y,K,34,yt),this.groupedExprs=xe}accept(K,Y){return K.visitGroupRef(this,Y)}}class z extends v{constructor(K,Y,xe){t.fF.assertValue(K,"arg"),t.fF.assertValue(Y,"hierarchy"),super(6,xe),this.arg=K,this.hierarchy=Y}accept(K,Y){return K.visitHierarchy(this,Y)}}class j extends v{constructor(K,Y,xe){t.fF.assertValue(K,"arg"),t.fF.assertValue(Y,"level"),super(7,xe),this.arg=K,this.level=Y}accept(K,Y){return K.visitHierarchyLevel(this,Y)}}class H extends v{constructor(K,Y,xe){t.fF.assertValue(K,"expressionName"),super(30,xe),this.expressionName=K,this.attributeKind=Y}accept(K,Y){return K.visitSelectRef(this,Y)}}class q extends v{constructor(K,Y,xe){t.fF.assertValue(K,"left"),t.fF.assertValue(Y,"right"),super(8,xe),this.left=K,this.right=Y}accept(K,Y){return K.visitAnd(this,Y)}}class G extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"arg"),t.fF.assertValue(Y,"lower"),t.fF.assertValue(xe,"upper"),super(9,yt),this.arg=K,this.lower=Y,this.upper=xe}accept(K,Y){return K.visitBetween(this,Y)}}class J extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"args"),t.fF.assert(()=>null==Y!=(null==xe),"values or table"),super(10,yt),this.args=K,Y&&(this.values=Y),xe&&(this.table=xe)}accept(K,Y){return K.visitIn(this,Y)}}class Z extends v{constructor(K,Y,xe){t.fF.assertValue(K,"left"),t.fF.assertValue(Y,"right"),super(11,xe),this.left=K,this.right=Y}accept(K,Y){return K.visitOr(this,Y)}}class Q extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"kind"),t.fF.assertValue(Y,"left"),t.fF.assertValue(xe,"right"),super(13,yt),this.comparison=K,this.left=Y,this.right=xe}accept(K,Y){return K.visitCompare(this,Y)}isOrdinalEvaluation(){return d(this.getAnnotations())}}class ne extends v{constructor(K,Y,xe){t.fF.assertNonEmpty(K,"cases"),t.fF.assertAnyValue(Y,"defaultValue"),super(42,xe),this.cases=K,this.defaultValue=Y}accept(K,Y){return K.visitConditional(this,Y)}}class le extends v{constructor(K,Y,xe){t.fF.assertValue(K,"left"),t.fF.assertValue(Y,"right"),super(12,xe),this.left=K,this.right=Y}accept(K,Y){return K.visitContains(this,Y)}isOrdinalEvaluation(){return d(this.getAnnotations())}}class he extends v{constructor(K,Y,xe){t.fF.assertValue(K,"left"),t.fF.assertValue(Y,"right"),super(14,xe),this.left=K,this.right=Y}accept(K,Y){return K.visitStartsWith(this,Y)}isOrdinalEvaluation(){return d(this.getAnnotations())}}class Se extends v{constructor(K,Y){t.fF.assertValue(K,"arg"),t.fF.assert(()=>K instanceof f,"Exists only supports Entity argument"),super(15,Y),this.arg=K}accept(K,Y){return K.visitExists(this,Y)}}class Ke extends v{constructor(K,Y){t.fF.assertValue(K,"arg"),super(16,Y),this.arg=K}accept(K,Y){return K.visitNot(this,Y)}}class Ge extends v{get valueEncoded(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=(0,c.CI)(this.rawValue||this.value,this.type)),this.typeEncodedValue}constructor(K,Y,xe,yt,Tt){t.fF.assertValue(K,"type"),super(17,Tt),this.type=K,this.value=Y,this.typeEncodedValue=xe,yt&&(this.rawValue=yt)}accept(K,Y){return K.visitConstant(this,Y)}getMetadata(){return{kind:1,type:this.type}}static getNumericValue(K){if((0,p.S9)(K)&&_.isNumber(K.value))return K.value;t.fF.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")}static getTextValue(K){if((0,p.AW)(K)&&_.isString(K.value))return K.value;t.fF.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")}static getBooleanValue(K){if((0,p.g)(K)&&_.isBoolean(K.value))return K.value;t.fF.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")}static getDateValue(K){if((0,p.fU)(K)&&_.isDate(K.value))return K.value;t.fF.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")}}(0,e.y)(Ge.prototype);class ye extends v{constructor(K,Y,xe){t.fF.assertValue(K,"unit"),t.fF.assertValue(Y,"arg"),super(18,xe),this.unit=K,this.arg=Y}accept(K,Y){return K.visitDateSpan(this,Y)}}class we extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"unit"),t.fF.assertValue(Y,"amount"),t.fF.assertValue(xe,"arg"),super(19,yt),this.unit=K,this.arg=xe,this.amount=Y}accept(K,Y){return K.visitDateAdd(this,Y)}getMetadata(K){return this.arg.getMetadata(K)}}class je extends v{constructor(K){super(20,K)}accept(K,Y){return K.visitNow(this,Y)}getMetadata(){return{kind:1,type:y.Ge.fromExtendedType(519)}}}class de extends v{constructor(K){super(22,K)}accept(K,Y){return K.visitDefaultValue(this,Y)}}class Pe extends v{constructor(K,Y){t.fF.assertAnyValue(K,"defaultValueOverridesAncestors"),super(21,Y),this.defaultValueOverridesAncestors=K}accept(K,Y){return K.visitAnyValue(this,Y)}}class Ve extends v{constructor(K,Y,xe){t.fF.assertValue(K,"input"),t.fF.assertValue(Y,"fillRule"),super(24,xe),this.input=K,this.rule=Y}accept(K,Y){return K.visitFillRule(this,Y)}}class Ze extends v{constructor(K,Y,xe){t.fF.assertValue(K,"SQThemeDataColorExpr - colorId"),t.fF.assertValue(Y,"SQThemeDataColorExpr - percent"),t.fF.assertValue(-1<=Y&&Y<=1,"percent"),super(33,xe),this.colorId=K,this.percent=Y}accept(K,Y){return K.visitThemeDataColor(this,Y)}}class Ue extends v{constructor(K,Y,xe,yt){t.fF.assertValue(K,"packageName"),t.fF.assertValue(xe,"itemName"),super(25,yt),this.packageName=K,this.packageType=Y,this.itemName=xe}accept(K,Y){return K.visitResourcePackageItem(this,Y)}}class Je extends v{constructor(K,Y){t.fF.assertValue(K,"source"),super(31,Y),this.source=K}accept(K,Y){return K.visitTransformTableRef(this,Y)}}class De extends v{constructor(K,Y,xe){t.fF.assertValue(K,"role"),super(32,xe),this.role=K,Y&&(this.transform=Y)}accept(K,Y){return K.visitTransformOutputRoleRef(this,Y)}getMetadata(K){}}class ue extends v{constructor(K,Y){t.fF.assertValue(K,"role"),super(36,Y),this.role=K}accept(K,Y){return K.visitRoleRef(this,Y)}}class _e extends v{constructor(K,Y){t.fF.assert(()=>!_.isEmpty(K),"name"),t.fF.assertAnyValue(Y,"annotations"),super(45,Y),this.name=K}accept(K,Y){return K.visitSummaryValueRef(this,Y)}}class te extends v{constructor(K){super(37,K)}accept(K,Y){return K.visitAllRolesRef(this,Y)}}class ke extends v{constructor(K,Y,xe){t.fF.assertValue(K,"source"),super(38,xe),this.source=K,this.count=Y}accept(K,Y){return K.visitDiscretize(this,Y)}}class at extends v{constructor(K,Y,xe){t.fF.assertValue(K,"source"),t.fF.assertValue(Y,"member"),super(40,xe),this.source=K,this.member=Y}accept(K,Y){return K.visitMember(this,Y)}}class tt extends v{constructor(K,Y,xe,yt,Tt,$t){super(46,$t),t.fF.assertValue(K,"measure"),t.fF.assertValue(Y,"grouping"),t.fF.assertAnyValue(xe,"scalarKey"),t.fF.assert(()=>1===_.size(Y),"exactly 1 grouping is allowed"),this.measure=K,this.grouping=Y,this.scalarKey=xe,this.pointsPerSparkline=yt,this.includeMinGroupingInterval=Tt}getMetadata(K){return t.fF.assertValue(K,"federatedSchema"),t.fF.assert(()=>1===_.size(this.grouping),"exactly 1 grouping is allowed"),{kind:1,type:y.Ge.fromDescriptor({misc:{sparkline:{groupingType:this.grouping[0].getMetadata(K)?.type}}})}}accept(K,Y){return K.visitSparklineData(this,Y)}}class ut extends v{constructor(K){super(48),t.fF.assertValue(K,"itemCount"),this.itemCount=K}accept(K,Y){return K.visitVisualTopN(this,Y)}}function ct(it,K,Y,xe){return new f(it,K,Y,xe)}function Ne(it,K){return _.isString(it),new P(it,K)}function ae(it,K,Y){return new D(it,K,Y)}function Le(it,K,Y){return new B(it,K,null,Y)}function X(it,K,Y){return new I(it,K,Y)}function be(it,K,Y,xe,yt,Tt,$t){return new W(it,K,Y,xe,yt,Tt,$t)}function Ie(it,K,Y,xe,yt,Tt,$t,qt){return new O(it,K,Y,xe,yt,Tt,$t,qt)}function Ye(it,K,Y,xe){return new F(it,K,Y,xe)}function ze(it,K,Y){return new H(it,K,Y)}function ee(it,K,Y,xe){return new A(it,K,Y,xe)}function ve(it,K,Y,xe){return new T(it,K,Y,xe)}function Te(it,K,Y,xe){return new M(it,K,Y,xe)}function Xe(it,K,Y,xe){return new E(it,K,Y,xe)}function He(it,K,Y){return new w(it,K,Y)}function qe(it,K,Y){return new x(it,K,Y)}function rt(it,K){return new N(it,K)}function me(it,K,Y,xe){return new U(it,K,Y,xe)}function Ee(it,K,Y){return new z(it,K,Y)}function fe(it,K,Y,xe){return new R(it,K,Y,xe)}function Re(it,K,Y){return new j(it,K,Y)}function re(it,K){return new Je(it,K)}function se(it,K,Y){return new De(it,K,Y)}function Ae(it,K){return new ue(it,K)}function ce(it,K){return new _e(it,K)}function Me(it){return new te(it)}function $e(it,K,Y){return it?K?new q(it,K,Y):it:K}function st(it,K,Y,xe){return new G(it,K,Y,xe)}function pt(it,K,Y){return new J(it,K,null,Y)}function wt(it,K,Y){return new J(it,null,K,Y)}function Pt(it,K,Y){if(!it)return K;if(!K)return it;if((0,p.Hi)(it)&&(0,p.Hi)(K)){var xe=function(it,K,Y){if(it.args&&K.args&&it.values&&K.values){var xe=it.args.length;if(xe===K.args.length){for(var Tt=0;Tt<xe;++Tt)if(!(0,s.fS)(it.args[Tt],K.args[Tt]))return;var $t=it.values.concat(K.values);return pt(it.args,$t,Y)}}}(it,K,Y);if(xe)return xe}return new Z(it,K,Y)}function Ut(it,K,Y,xe){return new Q(it,K,Y,xe)}function Kt(it,K,Y){return new ne(it,K,Y)}function Qt(it,K,Y){return new le(it,K,Y)}function rr(it,K){return new Se(it,K)}function Xt(it,K,Y){return Ut(0,it,K,Y)}function cr(it,K){return new Ke(it,K)}function et(it,K,Y){return new he(it,K,Y)}var ht=new Ge(y.Ge.fromExtendedType(0),null,(0,c.Wv)());function Nt(){return ht}var Lt=new Ge(y.Ge.fromExtendedType(1),"");function Qe(){return Lt}function bt(it){return new je(it)}function Rt(it){return new de(it)}function Gt(it,K){return new Pe(it,K)}function ir(it,K){return new Ge(y.Ge.fromExtendedType(5),it,(0,c.O7)(it),void 0,K)}function Ht(it,K,Y,xe){return new we(it,K,Y,xe)}function vr(it,K,Y){return new Ge(y.Ge.fromExtendedType(519),it,K,void 0,Y)}function _r(it,K,Y){return new ye(it,K,Y)}function Fr(it,K,Y){return new Ge(y.Ge.fromExtendedType(258),it,K,void 0,Y)}function Ur(it,K,Y){return new Ge(y.Ge.fromExtendedType(259),it,K,void 0,Y)}function Pr(it,K,Y){return new Ge(y.Ge.fromExtendedType(260),it,K,void 0,Y)}function Sr(it,K,Y){return t.fF.assert(()=>!K||K===(0,c.fL)(it),"Incorrect encoded value specified."),new Ge(y.Ge.fromExtendedType(1),it,K,void 0,Y)}function Or(it,K){return null==it?Nt():_.isBoolean(it)?ir(it):_.isString(it)?Sr(it):_.isNumber(it)?K.integer&&(0,a.U)(it)?Pr(it):Ur(it):it instanceof Date?vr(it):void 0}function xr(it,K,Y,xe){return new Ge(y.Ge.fromExtendedType(it),K,void 0,Y,xe)}function zr(it,K,Y,xe,yt,Tt){return new tt(it,K,Y,xe,yt,Tt)}function pr(it){return kt.rewrite(it)}function jr(it,K,Y,xe){if((0,p.jX)(it))return Jt.rewrite(it,K,Y,xe)}function Rr(it,K,Y){return t.fF.assertValue(it,"expr"),t.fF.assertValue(K,"rule"),new Ve(it,K,Y)}function Kr(it,K,Y){return t.fF.assertValue(it,"themeDataColor - colorId"),t.fF.assertValue(K,"themeDataColor - percent"),new Ze(it,K,Y)}function Vt(it,K,Y,xe){return new Ue(it,K,Y,xe)}function Dt(it,K,Y){return new ke(it,K,Y)}function St(it,K,Y){return new at(it,K,Y)}function Ct(it,K,Y){return t.fF.assertValue(null==it||(0,u.A7)(it),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),t.fF.assertValue(K,"SQExprBuilder.color - colorName has to exist"),Sr(it||K,void 0,Y)}function Bt(it,K,Y,xe){return new S(it,"dax",K,Y,xe)}function lr(it){return new ut(it)}function yr(it){return ur.getAggregate(it)}function dr(it){if(t.fF.assertValue(it,"expr"),(0,p.VC)(it)&&it.type.text)return it.value}class fr extends n.b{constructor(K,Y,xe,yt){t.fF.assertValue(K,"schema"),t.fF.assertValue(Y,"aggrUtils"),super(),this.schema=K,this.aggrUtils=Y,this.context=yt,xe&&(this.errors=xe)}visitIn(K){var Y=this,xe=super.visitIn(K),yt=xe.args,Tt=xe.values;if(Tt){t.fF.assert(()=>!xe.table,"values and table cannot both be specified for the In operator");var $t=function(gr){t.fF.assert(()=>gr.length===yt.length,"args and value tuple are not the same length");for(var br=0,Wr=gr.length;br<Wr;++br)Y.validateCompatibleType(yt[br],gr[br])};for(var qt of Tt)$t(qt)}else{var hr=xe.table;t.fF.assert(()=>!!hr,"either values or table must be non-null for an In operator"),this.validateIsTableRef(hr)}return xe}visitCompare(K){var Y=super.visitCompare(K);return this.validateCompatibleType(Y.left,Y.right),Y}visitColumnRef(K){if((0,p.jv)(K.source))return l.m.getSubqueryExpression(K,this.context)||this.register(18),K;var xe=(0,o.Q)(K);return xe&&this.validateColumnExpr(xe),K}visitMeasureRef(K){var Y=(0,o.Q)(K);if(Y){var xe=(0,i.Um)(Y),yt=this.validateEntity(xe.schema,xe.entity);if(yt){var Tt=yt.properties.withName(Y.measure.name);(!Tt||1!==Tt.kind||!this.isQueryable(Y))&&this.register(5)}}return K}visitAggr(K){var Y=super.visitAggr(K);return ft.getColumnRefSQExpr(this.schema,Y.arg)&&(this.aggrUtils.isSupportedAggregate(K,this.schema,K.func,null,this.context)||this.register(0)),Y}visitGroupRef(K){var Y=(0,o.Q)(K);if(Y){var xe=(0,i.Um)(Y),yt=this.validateEntity(xe.schema,xe.entity);if(yt){var Tt=yt.properties.withName(Y.groupingColumn.name);(!Tt||0!==Tt.kind||!this.validateExprSequence(K.groupedExprs)||!Tt.column.groupingMetadata||!this.isQueryable(Y))&&this.register(4)}}return K}visitHierarchy(K){var Y=(0,o.Q)(K);if(Y){var xe=Y.hierarchy;xe?this.validateHierarchy(xe.schema,xe.entity,xe.name):this.register(6)}return K}visitHierarchyLevel(K){var Y=(0,o.Q)(K);if(Y){var xe=Y.hierarchyLevel,yt=Y.columnHierarchyLevelVariation;xe?this.validateHierarchyLevel(xe.schema,xe.entity,xe.name,xe.level):yt?this.validateHierarchyLevelVariation(yt):this.register(7)}return K}visitPercentile(K){if(K.arg.accept(this),_.isEmpty(this.errors)){var Y=K.arg.getMetadata(this.schema,this.context);(!Y||0!==Y.kind||!Y.type||!Y.type.integer&&!Y.type.numeric)&&this.register(12)}return K}visitRangePercent(K){return(K.percent>1||K.percent<0)&&this.register(13),K.min.accept(this),K.max.accept(this),K}visitDiscretize(K){return K.source.accept(this),K.count<=0&&this.register(16),K}visitEntity(K){return this.validateEntity(K.schema,K.entity),K}visitSubqueryRef(K){return K}visitNamedQueryRef(K){return K}visitContains(K){return this.validateStartOrContainsArgs(K.left,K.right),K}visitStartsWith(K){return this.validateStartOrContainsArgs(K.left,K.right),K}visitArithmetic(K){return this.validateArithmeticTypes(K.operator,K.left,K.right),K}visitScopedEval(K){if(K.hasGlobalScope()||K.hasInnerMostScope())return K;for(var Y of K.scope)(0,p.DB)(Y)||(0,p.t3)(Y)||this.register(14);return K}visitFilteredEval(K){for(var Y of(K.expression.accept(this),0===_.size(K.filters)&&this.register(17),K.filters)){if(!_.isEmpty(Y.target))for(var xe of Y.target)xe.accept(this);Y.condition.accept(this)}return K}visitWithRef(K){return K}visitTransformTableRef(K){return K}visitTransformOutputRoleRef(K){return K}visitRoleRef(K){return K}visitSummaryValueRef(K){return K}visitAllRolesRef(K){return K}visitSparklineData(K){if((0,g.k)(K.measure)){var Y=K.measure.getMetadata(this.schema),xe=Y?.type;!xe?.numeric&&!xe?.integer&&this.register(5)}else this.register(5);for(var yt of(t.fF.assert(()=>1===_.size(K.grouping),"Only support 1 grouping for now"),_.some(K.grouping,Tt=>(0,g.k)(Tt))&&this.register(3),K.measure.accept(this),K.grouping))yt.accept(this);return K.scalarKey&&K.scalarKey.accept(this),K}visitNativeVisualCalc(K){return K}validateExprSequence(K){return _.reduce(K,(Y,xe)=>Y&&_.isEmpty(xe.validate(this.schema,this.aggrUtils,this.errors,this.context)),!0)}validateStartOrContainsArgs(K,Y){K.accept(this),Y.accept(this),_.isEmpty(this.errors)&&((0,p.VC)(Y)&&Y.type.text?this.validateCompatibleType(K,Y,!0):this.register(10))}validateArithmeticTypes(K,Y,xe){l.m.supportsArithmetic(K,Y,this.schema)||this.register(9),l.m.supportsArithmetic(K,xe,this.schema)||this.register(10)}validateCompatibleType(K,Y,xe){var yt=K.getMetadata(this.schema,this.context),Tt=yt&&yt.type,$t=Y.getMetadata(this.schema,this.context),qt=$t&&$t.type;(xe?!Tt||!qt||!Tt.isCompatibleFrom(qt):Tt&&qt&&!Tt.isCompatibleFrom(qt))&&this.register(11)}validateEntity(K,Y){var xe=this.schema.schema(K);if(xe){var yt=xe.entities.withName(Y);if(yt)return yt;this.register(2)}else this.register(1)}validateIsTableRef(K){1!==K.kind&&0!==K.kind&&this.register(15)}validateHierarchy(K,Y,xe){var yt=this.validateEntity(K,Y);if(yt){var Tt=yt.hierarchies.withName(xe);if(Tt)return Tt;this.register(6)}}validateHierarchyLevel(K,Y,xe,yt){var Tt=this.validateHierarchy(K,Y,xe);if(Tt){var $t=Tt.levels.withName(yt);if($t)return $t;this.register(7)}}validateHierarchyLevelVariation(K){var Y=K.source,xe=this.schema.schema(Y.schema),yt=xe.findProperty(Y.entity,Y.name);if(this.validateColumnExpr({column:K.source}),yt&&yt.column){var $t=yt.column.variations.withName(K.variationName);if($t){var qt=xe.findHierarchyByVariation(Y.entity,Y.name,K.variationName,K.level.name);if(qt&&qt.levels.withName(K.level.level))return $t}this.register(8)}}validateColumnExpr(K){var Y=K.column,xe=this.validateEntity(Y.schema,Y.entity);if(xe){var yt=xe.properties.withName(Y.name);if(yt&&0===yt.kind&&this.isQueryable(K))return yt;this.register(3)}}register(K){this.errors||(this.errors=[]),this.errors.push(K)}isQueryable(K){var Y=(0,i.Um)(K);if(K.hierarchyLevel||K.hierarchyLevelAggr){var xe=(0,b.S7)(this.schema,K);return xe&&1!==xe.column.queryable}return 1!==this.schema.schema(Y.schema).findProperty(Y.entity,(0,i.Hp)(K)).queryable}}class ur extends m.vq{visitAggr(K){return K.func}visitDefault(K){}static getAggregate(K){var Y=new ur;return K.accept(Y)}}class ft extends m.vq{constructor(K){super(),this.schema=K}visitColumnRef(K){return K}visitGroupRef(K){return K}visitHierarchyLevel(K){var Y=K.level,xe=K.arg,yt=xe.accept(this);if(xe&&(0,p.jc)(xe.arg)){var $t=yt.getTargetEntityForVariation(this.schema,xe.arg.name);if(yt&&$t){var qt=yt.source.schema,hr=ct(qt,$t),gr=this.schema.schema(qt).findHierarchy($t,xe.hierarchy);if(gr)for(var br of gr.levels)if(br.name===Y)return new B(hr,br.column.name)}}else{var Wr=xe.arg,Hr=(0,b.g8)(this.schema,Wr.schema,Wr.entity,xe.hierarchy,K.level);if(Hr)return new B(xe.arg,Hr.column.name)}}visitHierarchy(K){return K.arg.accept(this)}visitPropertyVariationSource(K){return new B(K.arg,K.property)}visitAggr(K){return K.arg.accept(this)}visitDefault(K){}static getColumnRefSQExpr(K,Y){var xe=new ft(K);return Y.accept(xe)}}class Et extends m.PA{visitEntity(K){var Y=this.result;this.result=void 0===Y||(0,s.fS)(Y,K)?K:null}visitFilteredEval(K){K.expression.accept(this)}static getEntityExpr(K){var Y=new Et;return K.accept(Y),Y.result||void 0}}var It=(()=>{class it extends m.vq{visitNativeVisualCalc(Y){}visitDefault(Y){return Y.getTargetEntity()?.schema}static getSchemaName(Y){return Y.accept(it.instance)}}return it.instance=new it,it})(),kt=(()=>{class it extends n.b{visitEntity(Y){return Y.variable?ct(Y.schema,Y.entity):Y}static rewrite(Y){return t.fF.assertValue(Y,"expr"),Y.accept(it.instance)}}return it.instance=new it,it})(),Jt=(()=>{class it extends V.p{static rewrite(Y,xe,yt,Tt){return t.fF.assertValue(Y,"expr"),t.fF.assert(()=>(0,p.jX)(Y),"should be a native visual calc"),Y.accept(it.instance,{expression:xe,name:yt,dataType:Tt})}visitNativeVisualCalc(Y,xe){return Bt(xe.name,xe.expression,xe.dataType,Y.getAnnotations())}}return it.instance=new it,it})();class er extends m.vq{visitHierarchyLevel(K){return K.arg.accept(this)}visitHierarchy(K){return K.arg.accept(this)}visitPropertyVariationSource(K){return K.property}static getProperty(K){var Y=new er;return K.accept(Y)}}},257738:function(Ce,k,r){r.d(k,{C6:function(){return b},FK:function(){return o},Me:function(){return i},fS:function(){return C},ll:function(){return h},qV:function(){return c}});var a=r(737466),e=r(722709),u=r(939123),t=r(953474);function C(V,g,v,f,S){return y.run(V,g,v,f,S)}var y=(()=>{class V{static getInstance(v,f,S){v||(v=!1),f||(f=!1),S||(S=!1);var P=[+v,+f,+S].reduce((M,E)=>M<<1|E),D=V.instances[P];return D||(D=new V(v,f,S)),D}static run(v,f,S,P,D){return(v=v||null)===(f=f||null)||!v==!f&&(u.fF.assertValue(v,"x"),u.fF.assertValue(f,"y"),v.accept(V.getInstance(S,P,D),f))}constructor(v,f,S){this.ignoreCase=v,this.ignoreVariables=f,this.ignoreAnnotations=S}visitColumnRef(v,f){return!(!(0,t.t3)(f)&&!(0,t.wD)(f))&&v.ref===f.ref&&this.equals(v.source,f.source)&&this.equalAnnotations(v,f)}visitMeasureRef(v,f){return!(!(0,t.kb)(f)||!this.equalAnnotations(v,f))&&v.ref===f.ref&&this.equals(v.source,f.source)}visitNativeMeasure(v,f){if(!(0,t.cY)(f)||v.language!==f.language||v.expression!==f.expression||v.dataType!==f.dataType||v.format!==f.format||v.proposedName!==f.proposedName||!this.equalAnnotations(v,f))return!1;var S=v.expressionContentCache,P=f.expressionContentCache;return!S&&!P||!(!S||!P)&&S.unrecognizedIdentifiers===P.unrecognizedIdentifiers&&this.equalsAll(S.dependencies,P.dependencies)}visitNativeColumn(v,f){if(!(0,t.jk)(f)||v.language!==f.language||v.expression!==f.expression||v.dataType!==f.dataType||v.proposedName!==f.proposedName||v.format!==f.format||!this.equals(v.source,f.source)||!this.equalAnnotations(v,f))return!1;var S=v.expressionContentCache,P=f.expressionContentCache;return!S&&!P||!(!S||!P)&&S.unrecognizedIdentifiers===P.unrecognizedIdentifiers&&this.equalsAll(S.dependencies,P.dependencies)}visitAggr(v,f){return(0,t.iV)(f)&&this.equalAnnotations(v,f)&&v.func===f.func&&this.equals(v.arg,f.arg)}visitPercentile(v,f){return!(!(0,t.T5)(f)||!this.equalAnnotations(v,f))&&v.exclusive===f.exclusive&&v.k===f.k&&this.equals(v.arg,f.arg)}visitRangePercent(v,f){return!(!(0,t.YF)(f)||!this.equalAnnotations(v,f))&&v.percent===f.percent&&this.equals(v.min,f.min)&&this.equals(v.max,f.max)}visitGroupRef(v,f){var S=!1;return((0,t.wD)(f)||(0,t.t3)(f))&&(S=v.ref===f.ref&&this.equals(v.source,f.source)&&this.equalAnnotations(v,f)),(0,t.wD)(f)&&this.equalAnnotations(v,f)&&(S=S&&this.equalsAll(v.groupedExprs,f.groupedExprs)),S}visitHierarchy(v,f){return!(!(0,t.y3)(f)||!this.equalAnnotations(v,f))&&v.hierarchy===f.hierarchy&&this.equals(v.arg,f.arg)}visitHierarchyLevel(v,f){return!(!(0,t.ez)(f)||!this.equalAnnotations(v,f))&&v.level===f.level&&this.equals(v.arg,f.arg)}visitPropertyVariationSource(v,f){return!(!(0,t.jc)(f)||!this.equalAnnotations(v,f))&&v.name===f.name&&v.property===f.property&&this.equals(v.arg,f.arg)}visitSelectRef(v,f){return!(!(0,t.NH)(f)||!this.equalAnnotations(v,f)||v.expressionName!==f.expressionName||v.attributeKind!==f.attributeKind&&this.isNullOrUndefined(v.attributeKind)!==this.isNullOrUndefined(f.attributeKind))}isNullOrUndefined(v){return null==v}visitBetween(v,f){return!(!(0,t.Kh)(f)||!this.equalAnnotations(v,f))&&this.equals(v.arg,f.arg)&&this.equals(v.lower,f.lower)&&this.equals(v.upper,f.upper)}visitIn(v,f){if(!(0,t.Hi)(f)||!this.equalsAll(v.args,f.args)||!this.equalAnnotations(v,f))return!1;var S=f,P=v.values;if(P){var D=S.values;if(!D||P.length!==D.length)return!1;for(var M=0,E=P.length;M<E;M++)if(!this.equalsAll(P[M],D[M]))return!1}else if(u.fF.assert(()=>!!v.table,"either values or table must be non-null for an In operator"),!S.table||!this.equals(v.table,S.table))return!1;return!0}visitEntity(v,f){return!(!(0,t.Lk)(f)||!this.equalAnnotations(v,f))&&v.schema===f.schema&&v.entity===f.entity&&(this.ignoreVariables||this.optionalEqual(v.variable,f.variable))}visitSubqueryRef(v,f){return!(!(0,t.jv)(f)||!this.equalAnnotations(v,f)||!v.query&&f.query||v.query&&!f.query)&&(v.query&&f.query?v.variable===f.variable&&b(v.query,f.query):v.variable===f.variable)}visitNamedQueryRef(v,f){return!(!(0,t.Il)(f)||!this.equalAnnotations(v,f))&&v.queryName===f.queryName&&(this.ignoreVariables||this.optionalEqual(v.variable,f.variable))}visitAnd(v,f){return!(!(0,t.un)(f)||!this.equalAnnotations(v,f))&&this.equals(v.left,f.left)&&this.equals(v.right,f.right)}visitOr(v,f){return!(!(0,t.Z8)(f)||!this.equalAnnotations(v,f))&&this.equals(v.left,f.left)&&this.equals(v.right,f.right)}visitCompare(v,f){return!(!(0,t.$Q)(f)||!this.equalAnnotations(v,f))&&v.comparison===f.comparison&&this.equals(v.left,f.left)&&this.equals(v.right,f.right)}visitConditional(v,f){return!(!(0,t.Gs)(f)||!this.equalAnnotations(v,f))&&(0,e.NF)(v.cases,f.cases,(S,P)=>this.visitCase(S,P))&&this.equalsNullableObject(v.defaultValue,f.defaultValue,(S,P)=>this.equals(S,P))}visitCase(v,f){return this.equals(v.condition,f.condition)&&this.equals(v.value,f.value)}visitContains(v,f){return!(!(0,t.IS)(f)||!this.equalAnnotations(v,f))&&this.equals(v.left,f.left)&&this.equals(v.right,f.right)}visitDateSpan(v,f){return!(!(0,t.dZ)(f)||!this.equalAnnotations(v,f))&&v.unit===f.unit&&this.equals(v.arg,f.arg)}visitDateAdd(v,f){return!(!(0,t.Ok)(f)||!this.equalAnnotations(v,f))&&v.unit===f.unit&&v.amount===f.amount&&this.equals(v.arg,f.arg)}visitExists(v,f){return!(!(0,t.hV)(f)||!this.equalAnnotations(v,f))&&this.equals(v.arg,f.arg)}visitNot(v,f){return!(!(0,t.Ym)(f)||!this.equalAnnotations(v,f))&&this.equals(v.arg,f.arg)}visitNow(v,f){return!!this.equalAnnotations(v,f)&&(0,t.jr)(f)}visitDefaultValue(v,f){return!!this.equalAnnotations(v,f)&&(0,t.FU)(f)}visitAnyValue(v,f){return!!this.equalAnnotations(v,f)&&(0,t.cw)(f)}visitResourcePackageItem(v,f){return!(!(0,t.MI)(f)||!this.equalAnnotations(v,f))&&v.packageName===f.packageName&&v.packageType===f.packageType&&v.itemName===f.itemName}visitStartsWith(v,f){return!(!(0,t.f8)(f)||!this.equalAnnotations(v,f))&&this.equals(v.left,f.left)&&this.equals(v.right,f.right)}visitConstant(v,f){return!!((0,t.VC)(f)&&v.type.equals(f.type)&&this.equalAnnotations(v,f))&&(v.type.text&&this.ignoreCase?(0,a.vr)(v.valueEncoded,f.valueEncoded):v.valueEncoded===f.valueEncoded)}visitFillRule(v,f){if(!(0,t.Tu)(f)||!this.equals(v.input,f.input)||!this.equalAnnotations(v,f))return!1;var S=v.rule,P=f.rule;return S===P||this.equalsNullableObject(S.linearGradient2,P.linearGradient2,(D,M)=>this.visitLinearGradient2(D,M))&&this.equalsNullableObject(S.linearGradient3,P.linearGradient3,(D,M)=>this.visitLinearGradient3(D,M))}visitLinearGradient2(v,f){return u.fF.assertValue(v,"left"),u.fF.assertValue(f,"right"),this.equalsFillRuleStop(v.min,f.min)&&this.equalsFillRuleStop(v.max,f.max)&&this.equalsNullableObject(v.nullColoringStrategy,f.nullColoringStrategy,(S,P)=>this.equalsNullStrategy(S,P))}visitLinearGradient3(v,f){return u.fF.assertValue(v,"left"),u.fF.assertValue(f,"right"),this.equalsFillRuleStop(v.min,f.min)&&this.equalsFillRuleStop(v.mid,f.mid)&&this.equalsFillRuleStop(v.max,f.max)&&this.equalsNullableObject(v.nullColoringStrategy,f.nullColoringStrategy,(S,P)=>this.equalsNullStrategy(S,P))}visitThemeDataColor(v,f){return u.fF.assertValue(v,"expr"),u.fF.assertValue(f,"comparand"),(0,t.wt)(f)&&v.colorId===f.colorId&&v.percent===f.percent}equalsFillRuleStop(v,f){return u.fF.assertValue(v,"stop1"),u.fF.assertValue(f,"stop2"),this.equals(v.color,f.color)&&this.equalsNullable(v.value,f.value)}equalsNullStrategy(v,f){return u.fF.assertValue(v,"equalsNullStrategy - left"),u.fF.assertValue(f,"equalsNullStrategy - right"),this.equals(v.strategy,f.strategy)&&this.equalsNullable(v.color,f.color)}visitArithmetic(v,f){return!(!(0,t.lF)(f)||!this.equalAnnotations(v,f))&&v.operator===f.operator&&this.equals(v.left,f.left)&&this.equals(v.right,f.right)}visitFloor(v,f){return!(!(0,t.xb)(f)||!this.equalAnnotations(v,f))&&v.timeUnit===f.timeUnit&&v.size===f.size&&this.equals(v.arg,f.arg)}visitScopedEval(v,f){return!(!(0,t.g5)(f)||!this.equalAnnotations(v,f))&&this.equals(v.expression,f.expression)&&this.equalsAll(v.scope,f.scope)}visitFilteredEval(v,f){return!(!(0,t.ZG)(f)||!this.equalAnnotations(v,f))&&this.equals(v.expression,f.expression)&&v.filters.length===f.filters.length&&_.every(v.filters,(S,P)=>i(S,f.filters[P]))}visitWithRef(v,f){return!(!(0,t.DB)(f)||!this.equalAnnotations(v,f))&&v.expressionName===f.expressionName}visitTransformTableRef(v,f){return!(!(0,t.PA)(f)||!this.equalAnnotations(v,f))&&v.source===f.source}visitTransformOutputRoleRef(v,f){return!(!(0,t.Im)(f)||!this.equalAnnotations(v,f))&&v.role===f.role&&v.transform===f.transform}visitRoleRef(v,f){return!(!(0,t.yL)(f)||!this.equalAnnotations(v,f))&&v.role===f.role}visitSummaryValueRef(v,f){return!(!(0,t.Bm)(f)||!this.equalAnnotations(v,f))&&v.name===f.name}visitAllRolesRef(v,f){return(0,t.LX)(f)}visitDiscretize(v,f){return!(!(0,t.P4)(f)||!this.equalAnnotations(v,f))&&v.count===f.count&&this.equals(v.source,f.source)}visitMember(v,f){return!(!(0,t.RN)(f)||!this.equalAnnotations(v,f))&&v.member===f.member&&this.equals(v.source,f.source)}visitSparklineData(v,f){return!!(0,t.tO)(f)&&this.equals(v.measure,f.measure)&&this.equalsAll(v.grouping,f.grouping)&&!!(!v.scalarKey&&!f.scalarKey||v.scalarKey&&f.scalarKey&&this.equals(v.scalarKey,f.scalarKey))&&v.pointsPerSparkline===f.pointsPerSparkline&&v.includeMinGroupingInterval===f.includeMinGroupingInterval}optionalEqual(v,f){return!v||!f||v===f}equals(v,f){return v.accept(this,f)}equalsNullable(v,f){return this.equalsNullableObject(v,f,(S,P)=>this.equals(S,P))}equalsNullableObject(v,f,S){return null==v&&null==f||null!=v&&null!=f&&S(v,f)}equalsAll(v,f){return(0,e.NF)(v,f,(S,P)=>this.equals(S,P))}equalAnnotations(v,f){return!(!this.ignoreAnnotations&&!_.isEqual(v.getAnnotations(),f.getAnnotations()))}visitNativeVisualCalc(v,f){return!(!this.ignoreAnnotations&&!_.isEqual(v.getAnnotations(),f.getAnnotations()))&&v.language===f.language&&v.expression===f.expression&&v.name===f.name&&v.dataType===f.dataType}visitVisualTopN(v,f){return!!(0,t.Hz)(f)&&v.itemCount===f.itemCount}}return V.instances=[],V})();function i(V,g){return u.fF.assertAnyValue(V,"leftFilter"),u.fF.assertAnyValue(g,"rightFilter"),V||(V=null),g||(g=null),V===g||!(!!V!=!!g||!o(V,g))&&C(V.condition,g.condition)}function o(V,g){return u.fF.assertValue(V,"leftFilter"),u.fF.assertValue(g,"rightFilter"),(0,e.NF)(V.target,g.target,C)}function c(V,g){return u.fF.assertAnyValue(V,"filters"),u.fF.assertValue(g,"searchTarget"),!_.isEmpty(V)&&_.some(V,v=>i(v,g))}function h(V,g){return!V&&!g||!(!V||!g)&&V.direction===g.direction&&C(V.expr,g.expr)}function d(V,g){return!V&&!g||!(!V||!g)&&C(V.expr,g.expr)}function s(V,g){return!V&&!g||!(!V||!g)&&(0,e.NF)(V.columns,g.columns,(v,f)=>function(V,g){return!V&&!g||!(!V||!g)&&V.role===g.role&&d(V.expression,g.expression)}(v,f))}function m(V,g){return!V&&!g||!(!V||!g)&&V.algorithm===g.algorithm&&function(V,g){return!V&&!g||!(!V||!g)&&(0,e.NF)(V.parameters,g.parameters,(v,f)=>d(v,f))&&s(V.table,g.table)}(V.input,g.input)&&function(V,g){return!V&&!g||!(!V||!g)&&s(V.table,g.table)}(V.output,g.output)}function b(V,g){return u.fF.assertValue(V,"x SemanticQuery"),u.fF.assertValue(g,"y SemanticQuery"),V.from().equals(g.from())&&(0,e.NF)(V.where(),g.where(),i)&&(0,e.NF)(V.orderBy(),g.orderBy(),h)&&(0,e.NF)(V.select(),g.select(),d)&&(0,e.NF)(V.groupBy(),g.groupBy(),d)&&(0,e.NF)(V.transforms(),g.transforms(),m)&&V.top()===g.top()}},761830:function(Ce,k,r){r.d(k,{q:function(){return y}});var a=r(939123),e=r(953474),u=r(257738),t=r(517273),C=r(906741);function y(o,c,h){var p,{disableHierarchyLevelGrouping:d,useNativeReferenceNames:n}=h,s=[];if(0===c.length)return s;for(var l=0,m=(p=t.m.isSQExprArray(c)?c.map(v=>t.m.transformToVisualQueryField(v)):c).length;l<m;l++){var b=p[l],V=b.expr,g=b.isFieldParameter;a.fF.assertValue(V,"Expression not found"),n||!(0,e.ez)(V)?s.push({expr:V,children:null,selectQueryIndex:l,isHierarchyLevelsGroup:!1,isFieldParameter:g}):i(o,s,V,l,d)}return s}function i(o,c,h,d,n){var s=!0,p=(0,C.ZB)(h)||(0,C.uW)(h),l=_.last(c);if(!n&&l&&l.children&&(0,u.fS)(l.expr,p)){var m=(0,C.wA)(o,h.arg);m instanceof Array&&(s=!(0,C.hG)(m,_.last(l.children),h))}s||n?c.push({expr:p,children:[h],selectQueryIndex:d,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(a.fF.assertValue(l,"There should be a group to add the variation to"),a.fF.assertValue(l.children,"The group should have children to add the variation to"),l.children.push(h))}},707526:function(Ce,k,r){r.d(k,{H:function(){return C}});var a=r(939123),e=r(895127),u=r(328469),t=r(693365);function C(i){return y.rewrite(i)}var y=(()=>{class i extends u.p{static rewrite(c){return a.fF.assertValue(c,"expr"),c.accept(i.instance)}visitDefault(c){var h=(0,e.Q)(c);return h&&h.percentOfGrandTotal&&(c=(0,t.og)(h.percentOfGrandTotal.baseExpr)),c}}return i.instance=new i,i})()},10013:function(Ce,k,r){r.d(k,{E:function(){return C}});var a=r(939123),e=r(895127),u=r(328469),t=r(693365);function C(i){return y.rewrite(i)}var y=(()=>{class i extends u.p{static rewrite(c){return a.fF.assertValue(c,"expr"),c.accept(i.instance)}visitDefault(c){var h=(0,e.Q)(c);return h&&h.percentOfRoleTotal&&(c=(0,t.og)(h.percentOfRoleTotal.baseExpr)),c}}return i.instance=new i,i})()},269556:function(Ce,k,r){r.d(k,{b:function(){return C}});var a=r(722709),e=r(939123),u=r(528836),t=r(257738);class C{visitColumnRef(o){var c=o.source,h=c.accept(this);return c===h?o:new u.Wh(h,o.ref,void 0,o.getAnnotations())}visitMeasureRef(o){var c=o.source,h=c.accept(this);return c===h?o:new u.UY(h,o.ref,o.getAnnotations())}visitNativeMeasure(o){var c=o.expressionContentCache&&o.expressionContentCache.dependencies,h=c&&this.rewriteAll(c);return c===h?o:new u.$f(o.language,o.expression,o.dataType,o.proposedName,{...o.expressionContentCache,dependencies:h},o.format,o.getAnnotations())}visitNativeColumn(o){var c=o.expressionContentCache&&o.expressionContentCache.dependencies,h=c&&this.rewriteAll(c),d=o.source.accept(this);if(c===h&&o.source===d)return o;var n=o.expressionContentCache?{...o.expressionContentCache,dependencies:h}:void 0;return new u.F1(o.language,o.expression,o.dataType,d,o.proposedName,n,o.format,o.getAnnotations())}visitAggr(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.v0(h,o.func,o.includeAllTypes,o.getAnnotations())}visitSelectRef(o){return o}visitPercentile(o){var c=o.arg,h=c.accept(this);return c===h?o:new u._n(h,o.k,o.exclusive,o.getAnnotations())}visitRangePercent(o){var c=o.min,h=c.accept(this),d=o.max,n=d.accept(this);return c===h&&d===n?o:new u.LE(h,n,o.percent,o.getAnnotations())}visitGroupRef(o){for(var c=o.source,h=o.source.accept(this),d=o.groupedExprs,n=new Array(d.length),s=0;s<d.length;s++)n[s]=d[s].accept(this);return c===h&&function(i,o){e.fF.assertValue(i,"x"),e.fF.assertValue(o,"y");var c=i.length;if(c!==o.length)return!1;for(var h=0;h<c;h++)if(!(0,t.fS)(i[h],o[h]))return!1;return!0}(d,n)?o:new u.qg(o.ref,h,n,o.getAnnotations())}visitHierarchy(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.jE(h,o.hierarchy,o.getAnnotations())}visitHierarchyLevel(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.vD(h,o.level,o.getAnnotations())}visitPropertyVariationSource(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.c7(h,o.name,o.property,o.getAnnotations())}visitEntity(o){return o}visitSubqueryRef(o){return o}visitNamedQueryRef(o){return o}visitAnd(o){var c=o.left,h=c.accept(this),d=o.right,n=d.accept(this);return c===h&&d===n?o:new u.uV(h,n,o.getAnnotations())}visitBetween(o){var c=o.arg,h=c.accept(this),d=o.lower,n=d.accept(this),s=o.upper,p=s.accept(this);return c===h&&d===n&&s===p?o:new u.I6(h,n,p,o.getAnnotations())}visitIn(o){var n,c=o.args,h=this.rewriteAll(c),d=o.values,s=o.table,p=s;if(d){e.fF.assert(()=>!s,"values and table cannot be both specified for the In operator");for(var l=0,m=d.length;l<m;l++){var b=d[l],V=this.rewriteAll(b);b!==V&&!n&&(n=(0,a.qn)(d,l)),n&&n.push(V)}}return s&&(e.fF.assert(()=>!d,"values and table cannot be both specified for the In operator"),p=s.accept(this)),c!==h||n||s!==p?new u.Xg(h,n||d,p,o.getAnnotations()):o}rewriteAll(o){return e.fF.assertValue(o,"origExprs"),(0,a.UU)(o,c=>c.accept(this))}visitOr(o){var c=o.left,h=c.accept(this),d=o.right,n=d.accept(this);return c===h&&d===n?o:new u.Cc(h,n,o.getAnnotations())}visitCompare(o){var c=o.left,h=c.accept(this),d=o.right,n=d.accept(this);return c===h&&d===n?o:new u.wU(o.comparison,h,n,o.getAnnotations())}visitConditional(o){e.fF.assertNonEmpty(o.cases,"orig.cases");for(var n,c=o.defaultValue,h=c&&c.accept(this),d=o.cases,s=0,p=d.length;s<p;s++){var l=d[s],m=this.visitCase(l);l!==m&&!n&&(n=(0,a.qn)(d,s)),n&&n.push(m)}return n||(n=d),h===c&&n===d?o:new u.c8(n,h,o.getAnnotations())}visitCase(o){var c=o.condition,h=c.accept(this),d=o.value,n=d.accept(this);return c===h&&d===n?o:{condition:h,value:n}}visitContains(o){var c=o.left,h=c.accept(this),d=o.right,n=d.accept(this);return c===h&&d===n?o:new u.ev(h,n,o.getAnnotations())}visitExists(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.eX(h,o.getAnnotations())}visitNot(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.v3(h,o.getAnnotations())}visitStartsWith(o){var c=o.left,h=c.accept(this),d=o.right,n=d.accept(this);return c===h&&d===n?o:new u.fw(h,n,o.getAnnotations())}visitConstant(o){return o}visitFloor(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.UG(h,o.size,o.timeUnit,o.getAnnotations())}visitDateSpan(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.AC(o.unit,h,o.getAnnotations())}visitDateAdd(o){var c=o.arg,h=c.accept(this);return c===h?o:new u.YB(o.unit,o.amount,h,o.getAnnotations())}visitNow(o){return o}visitDefaultValue(o){return o}visitAnyValue(o){return o}visitArithmetic(o){var c=o.left,h=c.accept(this),d=o.right,n=d.accept(this);return c===h&&d===n?o:new u.MH(h,n,o.operator,o.getAnnotations())}visitScopedEval(o){var c=o.expression,h=c.accept(this),d=o.scope,n=this.rewriteAll(d);return c===h&&d===n?o:new u.kC(h,n,o.getAnnotations())}visitFilteredEval(o){var c=o.expression,h=c.accept(this),d=!1,n=[];for(var s of o.filters){var p=s.target,l=void 0;_.isEmpty(p)||(l=this.rewriteAll(p));var m=s.condition,b=s.condition.accept(this);(p!==l||m!==b)&&(d=!0),n.push({target:l,condition:b})}return c!==h||d?new u.Gv(h,n,o.getAnnotations()):o}visitWithRef(o){return o}visitTransformTableRef(o){return o}visitTransformOutputRoleRef(o){return o}visitRoleRef(o){return o}visitSummaryValueRef(o){return o}visitAllRolesRef(o){return o}visitFillRule(o){var c=o.input,h=c.accept(this),d=o.rule,n=d.linearGradient2,s=n;n&&(s=this.visitLinearGradient2(n));var p=d.linearGradient3,l=p;if(p&&(l=this.visitLinearGradient3(p)),c!==h||n!==s||p!==l){var m={};return s&&(m.linearGradient2=s),l&&(m.linearGradient3=l),new u.DJ(h,m,o.getAnnotations())}return o}visitLinearGradient2(o){e.fF.assertValue(o,"origGradient");var c=o.min,h=this.visitFillRuleStop(c),d=o.max,n=this.visitFillRuleStop(d),s=o.nullColoringStrategy,p=this.visitFillNullStrategy(s);if(c!==h||d!==n||s!==p){var l={min:h,max:n};return p&&(l.nullColoringStrategy=p),l}return o}visitLinearGradient3(o){e.fF.assertValue(o,"origGradient");var c=o.min,h=this.visitFillRuleStop(c),d=o.mid,n=this.visitFillRuleStop(d),s=o.max,p=this.visitFillRuleStop(s),l=o.nullColoringStrategy,m=this.visitFillNullStrategy(l);if(c!==h||d!==n||s!==p||l!==m){var b={min:h,mid:n,max:p};return m&&(b.nullColoringStrategy=m),b}return o}visitFillRuleStop(o){e.fF.assertValue(o,"stop");var c=o.color,h=o.color.accept(this),d=o.value,n=d;if(d&&(n=d.accept(this)),c!==h||d!==n){var s={color:h};return n&&(s.value=n),s}return o}visitFillNullStrategy(o){if(o){var c=o.strategy,h=c.accept(this),d=o.color,n=d;if(d&&(n=d.accept(this)),c!==h||d!==n){var s={strategy:h};return n&&(s.color=n),s}return o}}visitThemeDataColor(o){return o}visitResourcePackageItem(o){return o}visitDiscretize(o){var c=o.source.accept(this);return c===o.source?o:new u.ex(c,o.count,o.getAnnotations())}visitMember(o){var c=o.source.accept(this);return c===o.source?o:new u.Jm(c,o.member,o.getAnnotations())}visitSparklineData(o){var c=o.measure.accept(this),h=this.rewriteAll(o.grouping),d=o.scalarKey?.accept(this),n=o.pointsPerSparkline,s=o.includeMinGroupingInterval;return c===o.measure&&h===o.grouping&&o.scalarKey===d&&o.pointsPerSparkline===n&&o.includeMinGroupingInterval===s?o:new u.GF(c,h,d,n,s)}visitNativeVisualCalc(o){return o}visitVisualTopN(o){return o}}},328469:function(Ce,k,r){r.d(k,{p:function(){return a}});class a{visitEntity(u,t){return this.visitDefault(u,t)}visitSubqueryRef(u,t){return this.visitDefault(u,t)}visitColumnRef(u,t){return this.visitDefault(u,t)}visitMeasureRef(u,t){return this.visitDefault(u,t)}visitAggr(u,t){return this.visitDefault(u,t)}visitPercentile(u,t){return this.visitDefault(u,t)}visitRangePercent(u,t){return this.visitDefault(u,t)}visitGroupRef(u,t){return this.visitDefault(u,t)}visitHierarchy(u,t){return this.visitDefault(u,t)}visitHierarchyLevel(u,t){return this.visitDefault(u,t)}visitPropertyVariationSource(u,t){return this.visitDefault(u,t)}visitSelectRef(u,t){return this.visitDefault(u,t)}visitAnd(u,t){return this.visitDefault(u,t)}visitBetween(u,t){return this.visitDefault(u,t)}visitIn(u,t){return this.visitDefault(u,t)}visitOr(u,t){return this.visitDefault(u,t)}visitCompare(u,t){return this.visitDefault(u,t)}visitConditional(u,t){return this.visitDefault(u,t)}visitContains(u,t){return this.visitDefault(u,t)}visitExists(u,t){return this.visitDefault(u,t)}visitNot(u,t){return this.visitDefault(u,t)}visitStartsWith(u,t){return this.visitDefault(u,t)}visitConstant(u,t){return this.visitDefault(u,t)}visitDateSpan(u,t){return this.visitDefault(u,t)}visitDateAdd(u,t){return this.visitDefault(u,t)}visitNow(u,t){return this.visitDefault(u,t)}visitDefaultValue(u,t){return this.visitDefault(u,t)}visitAnyValue(u,t){return this.visitDefault(u,t)}visitArithmetic(u,t){return this.visitDefault(u,t)}visitFloor(u,t){return this.visitDefault(u,t)}visitFillRule(u,t){return this.visitDefault(u,t)}visitThemeDataColor(u,t){return this.visitDefault(u,t)}visitResourcePackageItem(u,t){return this.visitDefault(u,t)}visitScopedEval(u,t){return this.visitDefault(u,t)}visitFilteredEval(u,t){return this.visitDefault(u,t)}visitWithRef(u,t){return this.visitDefault(u,t)}visitTransformTableRef(u,t){return this.visitDefault(u,t)}visitTransformOutputRoleRef(u,t){return this.visitDefault(u,t)}visitRoleRef(u,t){return this.visitDefault(u,t)}visitAllRolesRef(u,t){return this.visitDefault(u,t)}visitDiscretize(u,t){return this.visitDefault(u,t)}visitMember(u,t){return this.visitDefault(u,t)}visitNamedQueryRef(u,t){return this.visitDefault(u,t)}visitNativeMeasure(u,t){return this.visitDefault(u,t)}visitNativeColumn(u,t){return this.visitDefault(u,t)}visitSummaryValueRef(u,t){return this.visitDefault(u,t)}visitSparklineData(u,t){return this.visitDefault(u,t)}visitNativeVisualCalc(u,t){return this.visitDefault(u,t)}visitVisualTopN(u,t){return this.visitDefault(u,t)}visitDefault(u,t){return u}}},944159:function(Ce,k,r){r.d(k,{F:function(){return C}});var a=r(939123),e=r(895127),u=r(693365),t=r(328469);function C(i){return y.rewrite(i)}var y=(()=>{class i extends t.p{static rewrite(c){return a.fF.assertValue(c,"expr"),c.accept(i.instance)}visitDefault(c){var h=(0,e.Q)(c);return h&&!h.percentOfGrandTotal&&(c=(0,u.og)({percentOfGrandTotal:{baseExpr:h}})),c}}return i.instance=new i,i})()},280766:function(Ce,k,r){r.d(k,{z:function(){return C}});var a=r(939123),e=r(895127),u=r(328469),t=r(693365);function C(i,o){return y.rewrite(i,o)}var y=(()=>{class i extends u.p{static rewrite(c,h){return a.fF.assertValue(c,"expr"),c.accept(i.instance,h)}visitDefault(c,h){var d=(0,e.Q)(c);return d&&!d.percentOfRoleTotal&&(c=(0,t.og)({percentOfRoleTotal:{baseExpr:d,roles:h}})),c}}return i.instance=new i,i})()},953474:function(Ce,k,r){r.d(k,{$Q:function(){return J},AW:function(){return c},Az:function(){return ue},Bm:function(){return U},DB:function(){return I},FU:function(){return Ge},Gs:function(){return Z},HK:function(){return De},Hi:function(){return p},Hz:function(){return _e},IS:function(){return Q},Il:function(){return j},Im:function(){return O},Kh:function(){return H},LX:function(){return z},Lk:function(){return d},MI:function(){return F},NH:function(){return x},Ny:function(){return V},Ok:function(){return le},P4:function(){return Pe},PA:function(){return W},Pe:function(){return A},RN:function(){return Ve},S9:function(){return y},T5:function(){return M},Tu:function(){return je},VC:function(){return C},WC:function(){return Ue},X5:function(){return m},Xx:function(){return g},YF:function(){return E},Ym:function(){return Se},Z8:function(){return G},ZG:function(){return L},cY:function(){return P},cw:function(){return ye},dZ:function(){return ne},ez:function(){return s},f8:function(){return we},fU:function(){return o},g:function(){return i},g5:function(){return N},hJ:function(){return f},hV:function(){return he},iV:function(){return l},jX:function(){return Je},jc:function(){return w},jk:function(){return D},jr:function(){return Ke},jv:function(){return B},kb:function(){return S},lF:function(){return e},lg:function(){return b},sK:function(){return v},t3:function(){return t},tO:function(){return Ze},uR:function(){return h},un:function(){return q},wD:function(){return T},wt:function(){return de},xb:function(){return u},y3:function(){return n},yL:function(){return R}});var a=r(939123);function e(te){return a.fF.assertValue(te,"expr"),23===te.kind}function u(te){return a.fF.assertValue(te,"expr"),35===te.kind}function t(te){return a.fF.assertValue(te,"expr"),2===te.kind}function C(te){return a.fF.assertValue(te,"expr"),17===te.kind}function y(te){return a.fF.assertValue(te,"expr"),C(te)&&te.type.numeric}function i(te){return a.fF.assertValue(te,"expr"),C(te)&&te.type.bool}function o(te){return a.fF.assertValue(te,"expr"),C(te)&&te.type.dateTime}function c(te){return a.fF.assertValue(te,"expr"),C(te)&&te.type.text}function h(te){return a.fF.assertValue(te,"expr"),C(te)&&0===te.type.primitiveType&&null===te.value}function d(te){return a.fF.assertValue(te,"expr"),0===te.kind}function n(te){return a.fF.assertValue(te,"expr"),6===te.kind}function s(te){return a.fF.assertValue(te,"expr"),7===te.kind}function p(te){return a.fF.assertValue(te,"expr"),10===te.kind}function l(te){return a.fF.assertValue(te,"expr"),4===te.kind}function m(te){return a.fF.assertValue(te,"expr"),l(te)&&3===te.func}function b(te){return a.fF.assertValue(te,"expr"),l(te)&&4===te.func}function V(te){return a.fF.assertValue(te,"expr"),l(te)&&1===te.func}function g(te){return a.fF.assertValue(te,"expr"),l(te)&&6===te.func}function v(te){return a.fF.assertValue(te,"expr"),l(te)&&7===te.func}function f(te){return a.fF.assertValue(te,"expr"),l(te)&&8===te.func}function S(te){return a.fF.assertValue(te,"expr"),3===te.kind}function P(te){return a.fF.assertValue(te,"expr"),43===te.kind}function D(te){return a.fF.assertValue(te,"expr"),44===te.kind}function M(te){return a.fF.assertValue(te,"expr"),28===te.kind}function E(te){return a.fF.assertValue(te,"expr"),29===te.kind}function w(te){return a.fF.assertValue(te,"expr"),5===te.kind}function x(te){return a.fF.assertValue(te,"expr"),30===te.kind}function N(te){return a.fF.assertValue(te,"expr"),26===te.kind}function L(te){return a.fF.assertValue(te,"expr"),41===te.kind}function B(te){return a.fF.assertValue(te,"expr"),1===te.kind}function I(te){return a.fF.assertValue(te,"expr"),27===te.kind}function W(te){return a.fF.assertValue(te,"expr"),31===te.kind}function O(te){return a.fF.assertValue(te,"expr"),32===te.kind}function F(te){return a.fF.assertValue(te,"expr"),25===te.kind}function A(te){return a.fF.assertValue(te,"expr"),13===te.kind}function T(te){return a.fF.assertValue(te,"expr"),34===te.kind}function R(te){return a.fF.assertValue(te,"expr"),36===te.kind}function U(te){return a.fF.assertValue(te,"expr"),45===te.kind}function z(te){return a.fF.assertValue(te,"expr"),37===te.kind}function j(te){return a.fF.assertValue(te,"expr"),39===te.kind}function H(te){return a.fF.assertValue(te,"expr"),9===te.kind}function q(te){return a.fF.assertValue(te,"expr"),8===te.kind}function G(te){return a.fF.assertValue(te,"expr"),11===te.kind}function J(te){return a.fF.assertValue(te,"expr"),13===te.kind}function Z(te){return a.fF.assertValue(te,"expr"),42===te.kind}function Q(te){return a.fF.assertValue(te,"expr"),12===te.kind}function ne(te){return a.fF.assertValue(te,"expr"),18===te.kind}function le(te){return a.fF.assertValue(te,"expr"),19===te.kind}function he(te){return a.fF.assertValue(te,"expr"),15===te.kind}function Se(te){return a.fF.assertValue(te,"expr"),16===te.kind}function Ke(te){return a.fF.assertValue(te,"expr"),20===te.kind}function Ge(te){return a.fF.assertValue(te,"expr"),22===te.kind}function ye(te){return a.fF.assertValue(te,"expr"),21===te.kind}function we(te){return a.fF.assertValue(te,"expr"),14===te.kind}function je(te){return a.fF.assertValue(te,"expr"),24===te.kind}function de(te){return a.fF.assertValue(te,"expr"),33===te.kind}function Pe(te){return a.fF.assertValue(te,"expr"),38===te.kind}function Ve(te){return a.fF.assertValue(te,"expr"),40===te.kind}function Ze(te){return a.fF.assertValue(te,"expr"),46===te.kind}function Ue(te){return a.fF.assertValue(te,"expr"),0===te.comparison&&(h(te.right)||h(te.left))}function Je(te){return a.fF.assertValue(te,"expr"),47===te.kind}function De(te){return a.fF.assertValue(te,"expr"),l(te)&&2===te.func}function ue(te){return a.fF.assertValue(te,"expr"),l(te)&&5===te.func}function _e(te){return a.fF.assertValue(te,"expr"),48===te.kind}},434032:function(Ce,k,r){r.d(k,{L:function(){return a},Q:function(){return e}});var a="PowerBI.SQExprEvaluationKind",e="PowerBI.SQExprTextOperatorOption"},517273:function(Ce,k,r){r.d(k,{m:function(){return p}});var a=r(722709),e=r(939123),u=r(571619),t=r(564619),C=r(895127),y=r(336508),i=r(528836),o=r(693713),c=r(109562),h=r(561154),d=r(953474),n=r(257738),s=r(412413),p=(()=>{class g{static supportsArithmetic(f,S,P){var D=S.getMetadata(P),M=D&&D.type;return!(!D||!M)&&(2===f||3===f?M.numeric:M.numeric||M.dateTime||M.duration)}static indexOfExpr(f,S){e.fF.assertValue(f,"items"),e.fF.assertValue(S,"searchElement");for(var P=0,D=f.length;P<D;P++)if((0,n.fS)(f[P],S))return P;return-1}static sequenceEqual(f,S){e.fF.assertValue(f,"x"),e.fF.assertValue(S,"y");var P=f.length;if(P!==S.length)return!1;for(var D=0;D<P;D++)if(!(0,n.fS)(f[D],S[D]))return!1;return!0}static isSubset(f,S){e.fF.assertValue(f,"x"),e.fF.assertValue(S,"y");var D,P=function(E){if(-1===_.findIndex(S,x=>(0,n.fS)(x,E)))return{v:!1}};for(var M of f)if(D=P(M))return D.v;return!0}static isFromVariation(f){return e.fF.assertValue(f,"expr"),(0,d.y3)(f)&&(0,d.jc)(f.arg)||(0,d.ez)(f)&&this.isFromVariation(f.arg)}static discourageAggregation(f,S){var P=this.getSchemaCapabilities(f,S);return _.some(P,D=>D.discourageQueryAggregateUsage)}static getAggregateBehavior(f,S){e.fF.assertValue(f,"expr"),e.fF.assertValue(S,"schema");var P=this.getConceptualColumn(f,S);if(P)return P.aggregateBehavior}static getSchemaCapabilities(f,S){e.fF.assertValue(f,"expr"),e.fF.assertValue(S,"schema");var P=(0,C.Q)(f,S);if(P){var D=(0,t.pV)(P);return _.chain(D).map(M=>S.schema(M.schema)?.capabilities).filter(M=>!!M).value()}}static getKpiMetadata(f,S){var P=this.getKpiStatusProperty(f,S);if(P)return P.kpiValue.measure.kpi.statusMetadata;var D=this.getKpiTrendProperty(f,S);return D?D.kpiValue.measure.kpi.trendMetadata:void 0}static getParameterMetadata(f,S){var P=f.getConceptualProperty(S,!0),D=P&&P.column&&P.column.parameterMetadata;return D&&this.getDataViewParameterColumnMetadata(D)}static getWhatIfParameterMetadata(f){if(f&&f.parameterMetadata&&0===f.parameterMetadata.kind)return f.parameterMetadata}static getFieldParameterQuerySelects(f,S){if(!_.isEmpty(f)){var P=f.getConceptualProperty(S);if(P){var D=P.column;if(D&&2===f.kind&&2===D.parameterMetadata?.kind){var M=f.getTargetEntity(),E=S.schema(M.schema).entities.withName(M.entity),w=_.some(E.properties,L=>L.column&&L.column.keys);for(var x of(e.fF.assert(()=>w,"A key should always exist within the fieldParameter entity"),E.properties))if(x.column&&x.column.keys&&1===x.column.keys.length){var N=x.column.keys[0];if(N===P)return{parameterColumn:f,labelColumn:(0,i.Oh)(M,x.name)};if(P===x)return{labelColumn:f,parameterColumn:(0,i.Oh)(M,N.name)}}return{parameterColumn:f}}}}}static getFieldParameters(f){var S=[];for(var P in f){var M=f[P].getFieldParameters();S.push({role:P,parameters:M})}return S}static getParameterValuesOrder(f,S){if(!_.isEmpty(f))for(var P of f){var D=P?.conditions();if(!_.isEmpty(D)){var M=(0,y.lZ)(S,D[0]);if(!_.isEmpty(M))return M}}return[]}static isFilterForFieldParameter(f,S,P){if(f){var D=g.getFieldParameters(f);for(var M of D)for(var E of M.parameters){var w=g.getFieldParameterQuerySelects(E.expr,P);if(w&&!_.isEmpty(g.getParameterValuesOrder([S],w.parameterColumn)))return!0}}return!1}static shouldUseAsFieldParameter(f,S,P,D,M){return!(!f||M||!D||(0,d.ez)(P)||!g.getFieldParameterQuerySelects(P,S))}static getDataViewParameterColumnMetadata(f){return{kind:this.getDataViewParameterKind(f),mappedMParameterNames:f.mappedMParameterNames,supportsMultipleValues:f.supportsMultipleValues,supportsSelectAll:f.supportsSelectAll}}static getDataViewParameterKind(f){if(null!=f){var S=f.kind;if(null==S)return 0;switch(S){case 0:return 0;case 1:return 1;case 2:return 2;default:return void e.fF.assertNever(S)}}}static hasMappedMParameter(f,S){var P=this.getConceptualParameterMetadata(f,S);return 1===P?.kind}static isSupportMulitpleValuesEnabled(f,S){var P=this.getConceptualParameterMetadata(f,S);return P?.supportsMultipleValues}static getConceptualParameterMetadata(f,S){var P=this.getConceptualColumn(f,S);return P?.parameterMetadata}static getConceptualEntity(f,S){return e.fF.assertValue(f,"entityExpr"),S.schema(f.schema).entities.withName(f.entity)}static hasMappedColumn(f,S){return l.hasMappedColumn(f,S)}static getColumnnsWithKey(f,S){e.fF.assertValue(f,"keyExpr"),e.fF.assertValue(S,"schema");var P=f.getTargetColumnRef(S);if(P){var D=P.getConceptualProperty(S);if(D&&D.column){var M=P.getTargetEntity();if(M){var E=this.getConceptualEntity(M,S);if(E){var w=[];for(var x of E.properties)x.column&&x.column.keys&&_.includes(x.column.keys,D)&&w.push((0,i.Oh)(M,x.name));return w}}}}}static tryGetExprFromFilter(f){if((0,d.Hi)(f.condition)&&1===_.size(f.condition.args))return f.condition.args[0];if((0,d.$Q)(f.condition)){if((0,d.VC)(f.condition.left))return f.condition.right;if((0,d.VC)(f.condition.right))return f.condition.left}}static checkExprForValidMParameters(f,S){return this.checkExprForMapped(f,S).isValidSQExpr}static checkExprForMapped(f,S){return(0,d.$Q)(f)?this.checkComparsionForMapped(f,S):(0,d.Hi)(f)?this.checkInForMapped(f,S):(0,d.Z8)(f)?this.checkOrForMapped(f,S):{isValidSQExpr:!g.hasMappedColumn(f,S)}}static checkComparsionForMapped(f,S){if(!(0,d.t3)(f.left))return{isValidSQExpr:!0};var M,P=g.getConceptualParameterMetadata(f.left,S);if(1===P?.kind){if(0!==f.comparison||(0,d.uR)(f.right))return{isValidSQExpr:!1};if(!P.supportsSelectAll&&(0,d.cw)(f.right))return{isValidSQExpr:!1};M=f.left}return{isValidSQExpr:!0,columnExpr:M}}static checkInForMapped(f,S){var D,P=f.args,M=!1,E=!1;for(var w of P)if((0,d.t3)(w)){var x=g.getConceptualParameterMetadata(w,S);if(M=1===x?.kind){D=w,E=x?.supportsMultipleValues;break}}if(M){if(P.length>1||f.table&&(0,d.jv)(f.table)||f.values.length>1&&!E)return{isValidSQExpr:!1};if(_.some(f.values,L=>_.some(L,B=>(0,d.uR)(B))))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:D}}static checkOrForMapped(f,S){var P=this.checkExprForMapped(f.left,S),D=this.checkExprForMapped(f.right,S),M=P.columnExpr,E=D.columnExpr;return(0,n.fS)(M,E)?M&&!g.isSupportMulitpleValuesEnabled(M,S)||E&&!g.isSupportMulitpleValuesEnabled(E,S)?{isValidSQExpr:!1}:{isValidSQExpr:P.isValidSQExpr&&D.isValidSQExpr,columnExpr:M}:{isValidSQExpr:!1}}static getKpiStatusProperty(f,S){var P=f.getConceptualProperty(S);if(P){var D=P.kpiValue;if(D&&D.measure.kpi.status===P)return P}}static getKpiTrendProperty(f,S){var P=f.getConceptualProperty(S);if(P){var D=P.kpiValue;if(D&&D.measure.kpi.trend===P)return P}}static getDefaultValue(f,S){var P=this.getConceptualColumn(f,S);if(P)return P.defaultValue}static getConceptualColumn(f,S){if(f&&S){var P=(0,C.Q)(f);if(P){var D=P.column||P.groupingColumn;if(D){if(S.schema(D.schema)&&D.name){var M=S.schema(D.schema).findProperty(D.entity,D.name);if(M)return M.column}}else{var E=P.hierarchyLevel;if(E){var w=(0,t.Um)(P),x=w.schema;if(S.schema(x)){var N=S.schema(x).findHierarchy(w.entity,E.name);if(N){var L=N.levels.withName(E.level);if(L&&L.column)return L.column.column}}}}}}}static getDefaultValues(f,S){if(!_.isEmpty(f)&&S){var P=[];for(var D of f){var M=this.getDefaultValue(D,S);M&&P.push(M)}return P}}static getPrimitiveValuesFromSQConstantExpr(f){if((0,d.VC)(f)){if((0,d.AW)(f))return i.jz.getTextValue(f);if((0,d.fU)(f))return i.jz.getDateValue(f);if((0,d.S9)(f))return i.jz.getNumericValue(f);if((0,d.g)(f))return i.jz.getBooleanValue(f)}}static convertSemanticFilterToDataViewScopeIdentity(f){var S=[],P=f.conditions();if(P)for(var D of P){var M=new y.aL;if(D.accept(M),M.keys&&M.values&&M.values.length>0&&M.keys.length>0&&M.values.length%M.keys.length==0)for(var E=0;E<M.values.length;E+=M.keys.length){for(var w=[],x=[],N=0;N<M.keys.length;N++)w.push(M.keys[N]),x.push(M.values[E+N]);var L=(0,s.R)(w,x),B=(0,u.TZ)(L);S.push(B)}}return S}static getActiveTablesNames(f){var P=new c.Nh;if(f){var D=f.from();if(void 0!==D)for(var M of D.keys())D.source(M).accept(P,null)}return _.map(P.entities,E=>E.entity)}static isRelatedToMany(f,S,P,D){return this.isRelated(f,S,P,0,2,D)||this.isRelated(f,P,S,2,0,D)}static isRelatedToOne(f,S,P,D){return this.isRelated(f,S,P,2,0,D)||this.isRelated(f,P,S,0,2,D)}static isRelated(f,S,P,D,M,E){var w=g.getConceptualEntity(S,f);if(e.fF.assertValue(w,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(w.navigationProperties))return!1;var x=g.getConceptualEntity(P,f);e.fF.assertValue(x,"could not resolve conceptual entity form targetExpr.");var N=[];for(N.push(w);!_.isEmpty(N);){var B=N.shift().navigationProperties;if(!_.isEmpty(B))for(var I of B)if(I.isActive&&(null==E||I.behavior===E)&&I.targetMultiplicity===M&&I.sourceMultiplicity===D){if(I.targetEntity===x)return!0;N.push(I.targetEntity)}}return!1}static isRelatedOneToOne(f,S,P,D){var M=g.getConceptualEntity(S,f);e.fF.assertValue(M,"could not resolve conceptual entity form sourceExpr.");var E=g.getConceptualEntity(P,f);e.fF.assertValue(E,"could not resolve conceptual entity form targetExpr.");var w=M.navigationProperties,x=E.navigationProperties;return(!_.isEmpty(w)||!_.isEmpty(x))&&(this.hasOneToOneNavigation(w,E,D)||this.hasOneToOneNavigation(x,M,D))}static haveTheSameSchema(f){e.fF.assertNonEmpty(f,"exprs should not be null, undefined, or empty");var S=f[0].schema;return _.chain(f).drop(1).every(P=>P.schema===S).value()}static areHierarchicallyRelated(f,S){if(_.isEmpty(S)||!this.haveTheSameSchema(S))return!1;if(1===(S=_.values(_.keyBy(S,x=>x.entity))).length)return!0;var P=S[0].schema,D=_.find(f.schemas,x=>x.name===P);if(!D)return!1;var M=S.map(x=>g.getConceptualEntity(x,f));if(_.some(M,x=>!x))return!1;var w=g.buildEntityGraph(M,this.allowedHierarchicalMultiplicityPairForTraversal,0);return!!this.searchEntityGraph(M,w)||(w=g.buildEntityGraph(D.entities,this.allowedHierarchicalMultiplicityPairForTraversal,0),this.searchEntityGraph(M,w))}static searchEntityGraph(f,S){var P=[].concat(f),D=P.shift(),M=this.findEntityPath([D],P,S,!0);if(1===M.length&&0===M[0].unableToVisit.length)return!0;var E=_.values(_.keyBy(_.flatten(M.map(B=>B.unableToVisit)),B=>B.name)),w=this.findEntityPath([D],E,S,!1);if(1===w.length&&0===w[0].unableToVisit.length)return!0;var N,x=function(B){if(_.find(w,W=>{var O=!0;for(var F of B.unableToVisit)if(W.unableToVisit.indexOf(F)>=0){O=!1;break}return O}))return{v:!0}};for(var L of M)if(N=x(L))return N.v;return!1}static buildEntityGraph(f,S,P){var D={};for(var M of f)D[M.name]={entity:M};for(var E of f){var w=E.navigationProperties;if(!_.isEmpty(w)){var x=D[E.name];for(var N of w)if(N.isActive&&(void 0===N.behavior||void 0===P||N.behavior===P)){var L=D[N.targetEntity.name];L&&(this.multiplicityPairMatches([N.targetMultiplicity,N.sourceMultiplicity],S)&&this.addTraversalNodes(L,x),1===N.crossFilterDirection&&this.multiplicityPairMatches([N.sourceMultiplicity,N.targetMultiplicity],S)&&this.addTraversalNodes(x,L))}}}return D}static addTraversalNodes(f,S){f.forwardNodes=f.forwardNodes||[],_.find(f.forwardNodes,P=>P.entity.name===S.entity.name)||f.forwardNodes.push(S),S.backwardNodes=S.backwardNodes||[],_.find(S.backwardNodes,P=>P.entity.name===f.entity.name)||S.backwardNodes.push(f)}static multiplicityPairMatches(f,S){if(f&&2===f.length&&!_.isEmpty(S))for(var P of S)if(2===P.length&&f[0]===P[0]&&f[1]===P[1])return!0;return!1}static findEntityPath(f,S,P,D){if(S=S||[],0===(f=f||[]).length||0===S.length||!P)return[{path:f,unableToVisit:S}];for(var M of f)if(!P[M.name])return[{path:f,unableToVisit:S}];var w=P[f[f.length-1].name],x=D?w.forwardNodes:w.backwardNodes;if(!x||0===x.length)return[{path:f,unableToVisit:S}];var N=this.getEntityLoopPatterns(f),L=[];for(var B of x){var I=B.entity,W=[].concat(f);W.push(I);var O=!1;for(var F of N)if(this.endsWith(W,F)){O=!0;break}if(!O){var A=S,T=S.indexOf(I);T>=0&&(A=[].concat(S)).splice(T,1);var R=this.findEntityPath(W,A,P,D);if(1===R.length&&0===R[0].unableToVisit.length){L=R;break}for(var U of R)L.push(U)}}return 0===L.length&&(L=[{path:f,unableToVisit:S}]),L}static getEntityLoopPatterns(f){var S=[],P=_.values(_.keyBy(f,E=>E.name)),D=function(E){if(f.filter(L=>L===E).length>=2){var x,w=E;for(var N of f)N===w?(x&&(x.push(N),S.push(x)),x=[N]):x&&x.push(N)}};for(var M of P)D(M);return S}static endsWith(f,S){if(S.length>f.length)return!1;for(var P=!0,D=f.length-1,M=S.length-1;M>=0;--M){if(S[M]!==f[D]){P=!1;break}D--}return P}static hasOneToOneNavigation(f,S,P){if(_.isEmpty(f))return!1;for(var D of f)if(D.isActive&&(null==P||D.behavior===P)&&D.targetEntity===S&&0===D.sourceMultiplicity&&0===D.targetMultiplicity)return!0;return!1}static concatUnique(f,S){e.fF.assertValue(f,"leftExprs"),e.fF.assertValue(S,"rightExprs");var P=(0,a.JG)(f);for(var D of S)-1===this.indexOfExpr(P,D)&&P.push(D);return P}static detectTransformExpr(f){e.fF.assertValue(f,"expr");var S=new m;return f.accept(S),S.sawTransformOutputRoleRef}static isExprValidForAggregation(f){return e.fF.assertValue(f,"expr"),!this.isFromVariation(f)&&!(0,d.y3)(f)}static isExprValidForSorting(f){return e.fF.assertValue(f,"expr"),!(0,d.ZG)(f)}static isExprValidForFiltering(f){return e.fF.assertValue(f,"expr"),!((0,d.ZG)(f)||(0,d.Im)(f)||(0,d.tO)(f)||(0,d.jX)(f))}static isExprValidForClustering(f){return e.fF.assertValue(f,"expr"),!((0,d.ZG)(f)||(0,d.y3)(f)||(0,d.ez)(f)||(0,d.tO)(f)||(0,d.jX)(f))}static isExprValidForAnalysisTransform(f){return e.fF.assertValue(f,"expr"),!(0,d.ZG)(f)}static getSubqueryExpression(f,S){var D,M,P=(0,C.Q)(f);if(P.columnSubquery)P.columnSubquery.subqueryRef?D=P.columnSubquery.subqueryRef:P.columnSubquery.subquery?M=new c.vd(P.columnSubquery.subquery):e.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!P.columnAggrSubquery)return void e.fF.assertFail("invalid fieldExpr in subquery");P.columnAggrSubquery.subqueryRef?D=P.columnAggrSubquery.subqueryRef:P.columnAggrSubquery.subquery?M=new c.vd(P.columnAggrSubquery.subquery):e.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}M||(e.fF.assert(()=>!(!S||!S.sources),"context sources should be available for evaluating subquery source"),S.sources[D]?(M=S.sources[D],e.fF.assert(()=>M&&(0,h.y)(M),"column referencing source should be available and be a subquery source")):e.fF.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var E=M;if(E){var x,w=(0,t._6)(P);if(E.subquery&&(x=E.subquery.select().withName(w)),x)return x.expr}}static buildExprEvaluationContext(f){e.fF.assertValue(f,"from");var S=f.sources();if(S)return{sources:S}}static transformToVisualQueryField(f,S,P,D,M){return{expr:f,queryName:S,isFieldParameter:!!P,nativeReferenceName:D,isHidden:M}}static isSQExprArray(f){return f[0]instanceof i.Il}static syncSQExprWithFilterIdenities(f,S){var P=new V(f,(0,d.Ym)(S)),D=S.accept(P);if(D)return D.accept(new b)}static validate(f,S,P){e.fF.assertValue(S,"schema");var D=[];if(f&&(D=f.validate(S,P,D)),!_.isEmpty(D))return D}static tryMergeSQInExprs(f,S,P){if("Replace"===P)return S;var D=f.args,M=S.args;if(D.length===M.length&&D.every((w,x)=>(0,n.fS)(w,M[x],!1,!0,!0))){var E=[];return"Append"===P?(E=_.concat(f.values,S.values),E=_.uniqWith(E,(w,x)=>(0,n.fS)(w[0],x[0],!1,!0,!0))):E=_.filter(f.values,w=>!_.some(S.values,x=>(0,n.fS)(w[0],x[0],!1,!0,!0))),(0,i.Sh)(D,E)}}}return g.allowedHierarchicalMultiplicityPairForTraversal=[[0,2],[0,0]],g})();class l extends o.PA{constructor(v){super(),this.schema=v,this.detectedMappedColumn=!1}visitIn(v){for(var f of v.args)if(f.accept(this),this.detectedMappedColumn)return}visitColumnRef(v){p.hasMappedMParameter(v,this.schema)&&(this.detectedMappedColumn=!0)}static hasMappedColumn(v,f){var S=new l(f);return v.accept(S),S.detectedMappedColumn}}class m extends o.PA{constructor(){super(),this.sawTransformOutputRoleRef=!1}visitTransformOutputRoleRef(v){this.sawTransformOutputRoleRef=!0}}class b extends o.vq{visitIn(v){return(0,i.Sh)(v.args,this.removeDuplicates(v.values),v.getAnnotations())}visitAnd(v){var f=v.right.accept(this),S=v.left.accept(this);return(0,i.xD)(S,f,v.getAnnotations())}visitOr(v){var f=v.right.accept(this),S=v.left.accept(this);return(0,i.or)(S,f,v.getAnnotations())}visitDefault(v){return v}removeDuplicates(v){return _.uniqWith(v,(f,S)=>{for(var P=f.length,D=0;D<P;D++)if(!(0,n.fS)(f[D],S[D]))return!1;return!0})}}class V extends o.vq{constructor(v,f){super(),this.isRootNotExpr=!1,this.hasBeenModified=!1,this.isSupportedSQExpr=!1,this.filterIdentities=v,this.isRootNotExpr=f}visitIn(v){if(this.verifyIsSupportedSQExpr(v),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(v.args))return v;var{newArgs:f,newValues:S}=this.tryToRemoveColumnsToMatchVisual(v);if(!this.shouldDropWholeSQExpr()&&0!==f.length)return(0,i.Sh)(f,S,v.getAnnotations())}}visitDefault(v){if(this.verifyIsSupportedSQExpr(v),!this.shouldDropWholeSQExpr()){var f=v.left,S=v.right;if(f&&_.some(this.filterIdentities,P=>(0,n.fS)(P,f))||S&&_.some(this.filterIdentities,P=>(0,n.fS)(P,S)))return v;this.hasBeenModified=!0}}visitAnd(v){if(this.verifyIsSupportedSQExpr(v),!this.shouldDropWholeSQExpr()){var f=v.right.accept(this),S=v.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(S&&f)return(0,i.xD)(S,f,v.getAnnotations());if(S)return S;if(f)return f}}}visitOr(v){if(this.verifyIsSupportedSQExpr(v),!this.shouldDropWholeSQExpr()){var f=v.right.accept(this),S=v.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(S&&f)return(0,i.or)(S,f,v.getAnnotations());if(S)return S;if(f)return f}}}visitNot(v){if(this.verifyIsSupportedSQExpr(v),!this.shouldDropWholeSQExpr()){var f=v.arg.accept(this);if(f&&(this.isRootNotExpr||!this.hasBeenModified))return(0,i.ff)(f,v.getAnnotations())}}verifyIsSupportedSQExpr(v){this.isSupportedSQExpr=(0,d.Z8)(v)?(0,d.Hi)(v.right)&&((0,d.Z8)(v.left)||(0,d.Hi)(v.left)):(0,d.un)(v)?(0,d.Ym)(v.right)&&((0,d.Hi)(v.left)||(0,d.Z8)(v.left)):(0,d.Ym)(v)?(0,d.Z8)(v.arg)||(0,d.Ym)(v.arg):!(0,d.Hi)(v)||!!v.values&&v.values.length>0}shouldDropWholeSQExpr(){return this.hasBeenModified&&!this.isSupportedSQExpr}noChangeRequired(v){var f=v.map(S=>({expr:[S],index:_.findIndex(this.filterIdentities,D=>(0,n.fS)(D,S))}));return 0===f[0].index&&f.every((S,P)=>S.index>-1&&(P===f.length-1||S.index+1===f[P+1].index))}tryToRemoveColumnsToMatchVisual(v){var f=[],S=[],{args:P,values:D}=v,M=P.map(L=>({expr:[L],index:_.findIndex(this.filterIdentities,I=>(0,n.fS)(I,L))}));if(M[0].index>0)return this.hasBeenModified=!0,{newArgs:f,newValues:S};D=_.unzip(D);var E=M.map((L,B)=>({expr:D[B],index:L.index}));f=M.filter(L=>L.index>-1).map(L=>L.expr[0]),S=E.filter(L=>L.index>-1).map(L=>L.expr),M=M.filter(L=>L.index>-1);for(var w=0;w<M.length-1;w++)if(M[w].index+1<M[w+1].index){f=f.splice(0,w+1),S=S.splice(0,w+1);break}return S=_.unzip(S),this.hasBeenModified=!0,{newArgs:f,newValues:S}}}},267956:function(Ce,k,r){r.d(k,{L:function(){return u}});var a=r(698581),e=r(693713);function u(C,y="select"){return C?C.accept(t.instance,y):y}var t=(()=>{class C extends e.Ml{visitEntity(i){return i.entity}visitNamedQueryRef(i){return`QueryRef(${i.queryName})`}visitColumnRef(i){return i.source.accept(this)+"."+i.ref}visitGroupRef(i){return i.source.accept(this)+"."+i.ref}visitMeasureRef(i){return i.source.accept(this)+"."+i.ref}visitNativeMeasure(i){return`NativeMeasure(${i.proposedName})`}visitNativeColumn(i){return`NativeColumn(${i.proposedName})`}visitHierarchy(i){return i.arg.accept(this)+"."+i.hierarchy}visitHierarchyLevel(i){return i.arg.accept(this)+"."+i.level}visitPropertyVariationSource(i){return i.arg.accept(this)+"."+i.property+"."+i.name}visitAggr(i){return(0,a.b)(i.func)+"("+i.arg.accept(this)+")"}visitPercentile(i){return(i.exclusive?"Percentile.Exc(":"Percentile.Inc(")+i.arg.accept(this)+", "+i.k+")"}visitRangePercent(i){return"RangePercent("+i.min.accept(this)+", "+i.max.accept(this)+", "+i.percent.toString()+")"}visitArithmetic(i){return(0,a.K)(i.operator)+"("+i.left.accept(this)+", "+i.right.accept(this)+")"}visitConstant(i){return"const"}visitTransformOutputRoleRef(i){var o=i.role;return i.transform&&(o+="."+i.transform),o}visitScopedEval(i){return"ScopedEval("+i.expression.accept(this)+", ["+_.map(i.scope,o=>o.accept(this)).join(", ")+"])"}visitFilteredEval(i){var o=c=>{var h="{";return _.isEmpty(c.target)||(h+=`Target(${_.map(c.target,d=>d.accept(this)).join(", ")}), `),h+`Condition(${c.condition.accept(this)})}`};return`FilteredEval(${i.expression.accept(this)}, [${_.map(i.filters,c=>o(c)).join(", ")}])`}visitRoleRef(i){return"Role."+i.role}visitSummaryRef(i){return"SummaryValueRef."+i.name}visitAllRolesRef(i){return"AllRoles"}visitDiscretize(i){return`Discretize(${i.source.accept(this)}, ${i.count})`}visitMember(i){return`Member(${i.source.accept(this)}, ${i.member})`}visitCompare(i){var o=i.left.accept(this),c=i.right.accept(this),h="";switch(i.comparison){case 0:h="=";break;case 1:h=">";break;case 2:h=">=";break;case 3:h="<";break;case 4:h="<="}return`${o}${h}${c}`}visitSparklineData(i){return`SparklineData(${i.measure.accept(this)}_[${_.map(i.grouping,o=>o.accept(this)).join(",")}])`}visitDefault(i,o){return o||"expr"}}return C.instance=new C,C})()},412413:function(Ce,k,r){r.d(k,{R:function(){return u}});var a=r(939123),e=r(528836);function u(t,C){a.fF.assert(()=>t.length===C.length,"fileds and values need to be the same size");for(var y=[],i=0;i<t.length;i++)y.push((0,e.qu)(0,t[i],C[i]));if(!_.isEmpty(y)){var o;for(var c of y)o=(0,e.xD)(o,c);return o}}},149184:function(Ce,k,r){r.d(k,{p:function(){return u}});var a=r(939123),e=r(257738);function u(t,C){a.fF.assertValue(t,"items"),a.fF.assertValue(C,"searchElement");for(var y=0,i=t.length;y<i;y++){var o=t[y];if(o&&(0,e.fS)(o.expr,C))return y}return-1}},693851:function(Ce,k,r){r.d(k,{F:function(){return u}});var a=r(939123),e=r(693713);function u(C){return a.fF.assertValue(C,"expr"),C.accept(t.instance)}var t=(()=>{class C extends e.vq{visitCompare(i){return 0===i.comparison&&i.right.accept(this)}visitAnd(i){return i.left.accept(this)&&i.right.accept(this)}visitDefaultValue(i){return!0}visitDefault(i){return!1}}return C.instance=new C,C})()},960196:function(Ce,k,r){r.d(k,{k:function(){return u}});var a=r(939123),e=r(693713);function u(C){return a.fF.assertValue(C,"expr"),C.accept(t.instance)}var t=(()=>{class C extends e.vq{visitMeasureRef(i){return!0}visitNativeMeasure(i){return!0}visitNativeVisualCalc(i){return!0}visitAggr(i){return!0}visitArithmetic(i){return!0}visitFilteredEval(i){return i.expression.accept(this)}visitSparklineData(i){return!0}visitDefault(i){return!1}}return C.instance=new C,C})()},693713:function(Ce,k,r){r.d(k,{Ml:function(){return t},PA:function(){return y},vq:function(){return C}});var a=r(939123),e=r(140294),u=r(781344);class t{visitEntity(o,c){return this.visitDefault(o,c)}visitSubqueryRef(o,c){return this.visitDefault(o,c)}visitNamedQueryRef(o,c){return this.visitDefault(o,c)}visitColumnRef(o,c){return this.visitDefault(o,c)}visitMeasureRef(o,c){return this.visitDefault(o,c)}visitAggr(o,c){return this.visitDefault(o,c)}visitPercentile(o,c){return this.visitDefault(o,c)}visitRangePercent(o,c){return this.visitDefault(o,c)}visitGroupRef(o,c){return this.visitDefault(o,c)}visitHierarchy(o,c){return this.visitDefault(o,c)}visitHierarchyLevel(o,c){return this.visitDefault(o,c)}visitPropertyVariationSource(o,c){return this.visitDefault(o,c)}visitSelectRef(o,c){return this.visitDefault(o,c)}visitBetween(o,c){return this.visitDefault(o,c)}visitIn(o,c){return this.visitDefault(o,c)}visitAnd(o,c){return this.visitDefault(o,c)}visitOr(o,c){return this.visitDefault(o,c)}visitCompare(o,c){return this.visitDefault(o,c)}visitConditional(o,c){return this.visitDefault(o,c)}visitContains(o,c){return this.visitDefault(o,c)}visitExists(o,c){return this.visitDefault(o,c)}visitNot(o,c){return this.visitDefault(o,c)}visitStartsWith(o,c){return this.visitDefault(o,c)}visitConstant(o,c){return this.visitDefault(o,c)}visitDateSpan(o,c){return this.visitDefault(o,c)}visitDateAdd(o,c){return this.visitDefault(o,c)}visitNow(o,c){return this.visitDefault(o,c)}visitDefaultValue(o,c){return this.visitDefault(o,c)}visitAnyValue(o,c){return this.visitDefault(o,c)}visitArithmetic(o,c){return this.visitDefault(o,c)}visitFloor(o,c){return this.visitDefault(o,c)}visitFillRule(o,c){return this.visitDefault(o,c)}visitThemeDataColor(o,c){return this.visitDefault(o,c)}visitResourcePackageItem(o,c){return this.visitDefault(o,c)}visitScopedEval(o,c){return this.visitDefault(o,c)}visitFilteredEval(o,c){return this.visitDefault(o,c)}visitWithRef(o,c){return this.visitDefault(o,c)}visitTransformTableRef(o,c){return this.visitDefault(o,c)}visitTransformOutputRoleRef(o,c){return this.visitDefault(o,c)}visitRoleRef(o,c){return this.visitDefault(o,c)}visitSummaryValueRef(o,c){return this.visitDefault(o,c)}visitAllRolesRef(o,c){return this.visitDefault(o,c)}visitDiscretize(o,c){return this.visitDefault(o,c)}visitMember(o,c){return this.visitDefault(o,c)}visitNativeMeasure(o,c){return this.visitDefault(o,c)}visitNativeColumn(o,c){return this.visitDefault(o,c)}visitSparklineData(o,c){return this.visitDefault(o,c)}visitNativeVisualCalc(o,c){return this.visitDefault(o,c)}visitVisualTopN(o,c){return this.visitDefault(o,c)}visitDefault(o,c){}}class C extends t{}class y{visitEntity(o){this.visitDefault(o)}visitSubqueryRef(o){this.visitDefault(o)}visitNamedQueryRef(o){this.visitDefault(o)}visitColumnRef(o){o.source.accept(this)}visitMeasureRef(o){o.source.accept(this)}visitAggr(o){o.arg.accept(this)}visitPercentile(o){o.arg.accept(this)}visitRangePercent(o){o.min.accept(this),o.max.accept(this)}visitGroupRef(o){for(var c of(o.source.accept(this),o.groupedExprs))c.accept(this)}visitHierarchy(o){o.arg.accept(this)}visitHierarchyLevel(o){o.arg.accept(this)}visitPropertyVariationSource(o){o.arg.accept(this)}visitSelectRef(o){this.visitDefault(o)}visitBetween(o){o.arg.accept(this),o.lower.accept(this),o.upper.accept(this)}visitIn(o){for(var c=o.args,h=0,d=c.length;h<d;h++)c[h].accept(this);var n=o.values;if(n)for(var s=0,p=n.length;s<p;s++)for(var l=n[s],m=0,b=l.length;m<b;m++)l[m].accept(this);else o.table.accept(this)}visitAnd(o){o.left.accept(this),o.right.accept(this)}visitOr(o){o.left.accept(this),o.right.accept(this)}visitCompare(o){o.left.accept(this),o.right.accept(this)}visitConditional(o){for(var c of(a.fF.assertValue(o,"expr"),a.fF.assertNonEmpty(o.cases,"expr.cases"),o.cases))c.condition.accept(this),c.value.accept(this);o.defaultValue&&o.defaultValue.accept(this)}visitContains(o){o.left.accept(this),o.right.accept(this)}visitExists(o){o.arg.accept(this)}visitNot(o){o.arg.accept(this)}visitStartsWith(o){o.left.accept(this),o.right.accept(this)}visitConstant(o){this.visitDefault(o)}visitDateSpan(o){o.arg.accept(this)}visitDateAdd(o){o.arg.accept(this)}visitNow(o){this.visitDefault(o)}visitDefaultValue(o){this.visitDefault(o)}visitAnyValue(o){this.visitDefault(o)}visitArithmetic(o){o.left.accept(this),o.right.accept(this)}visitFloor(o){o.arg.accept(this)}visitFillRule(o){o.input.accept(this),(0,e.RL)(o.rule,new u._(this,null))}visistExists(o){o.arg.accept(this)}visitThemeDataColor(o){this.visitDefault(o)}visitResourcePackageItem(o){this.visitDefault(o)}visitScopedEval(o){for(var c of(o.expression.accept(this),o.scope))c.accept(this)}visitFilteredEval(o){for(var c of(o.expression.accept(this),o.filters)){if(!_.isEmpty(c.target))for(var h of c.target)h.accept(this);c.condition.accept(this)}}visitWithRef(o){this.visitDefault(o)}visitTransformTableRef(o){this.visitDefault(o)}visitTransformOutputRoleRef(o){this.visitDefault(o)}visitRoleRef(o){this.visitDefault(o)}visitSummaryValueRef(o){this.visitDefault(o)}visitAllRolesRef(o){this.visitDefault(o)}visitDiscretize(o){this.visitDefault(o)}visitMember(o){this.visitDefault(o)}visitNativeMeasure(o){this.visitDefault(o)}visitNativeColumn(o){this.visitDefault(o)}visitSparklineData(o){for(var c of(o.measure.accept(this),o.grouping))c.accept(this);o.scalarKey?.accept(this)}visitNativeVisualCalc(o,c){this.visitDefault(o)}visitVisualTopN(o,c){this.visitDefault(o)}visitDefault(o){}}},109562:function(Ce,k,r){r.d(k,{$r:function(){return s},Ms:function(){return l},Nh:function(){return b},QS:function(){return o},Qo:function(){return h},SX:function(){return i},Ww:function(){return V},Yg:function(){return p},cL:function(){return d},vd:function(){return c}});var a=r(722709),e=r(939123),u=r(737466),t=r(528836),C=r(257738),y=r(561154);class i{constructor(v,f){this.schema=v,this.entity=f}accept(v,f){return v.visitEntity(this,f)}equals(v){return v&&this.entity===v.entity&&this.schema===v.schema}}class o{constructor(v,f){this.schema=v,this.pod=f}accept(v,f){return v.visitPod(this,f)}equals(v){return v&&this.pod===v.pod&&this.schema===v.schema}}class c{constructor(v,f){this.subquery=v,this.inheritsSorting=f}accept(v,f){return v.visitSubquery(this,f)}equals(v){return v&&(0,C.C6)(this.subquery,v.subquery)}}class h{constructor(v){this.expr=v}accept(v,f){return v.visitExpr(this,f)}equals(v){return v&&(0,C.fS)(this.expr,v.expr)}}class d{constructor(v,f){if(this.items=v||{},this.usedNames=f||{},!_.isEmpty(this.items))for(var S of this.keys())this.usedNames[S]=!0}keys(){return Object.keys(this.items)}source(v){return this.items[v]}sources(){return this.items}usedSourceNames(){return this.usedNames}ensureSource(v,f){e.fF.assertValue(v,"source");var S=this.getSourceKeyFromItems(v);return S?{name:S}:{name:this.addSource(v,f),new:!0}}remove(v){this.items[v]&&delete this.usedNames[v],delete this.items[v]}getSourceKeyFromItems(v){var f=this.keys();for(var S in f){var P=f[S];if(n(this.items[P],v))return P}}addSource(v,f){var P=f||v.accept(new m,null);return P=(0,u.zE)(this.usedNames,P),this.items[P]=v,this.usedNames[P]=!0,P}clone(){var v=new d(null,_.clone(this.usedNames));return $.extend(v.items,this.items),v}equals(v){if(!v)return!1;var f=this.keys(),S=v.keys();return f.length===S.length&&(0,a.NF)(f,S,(P,D)=>n(this.source(P),v.source(D)))}renameSources(v){for(var S,f=this.items,P=Object.keys(f),D=0,M=P.length;D<M;D++){var E=P[D],w=E;if(v[E]&&(w=(0,u.zE)(v,E),!S)){S={};for(var x=0;x<D;x++){var N=P[x];S[N]=f[N]}}v[w]=!0,S&&(S[w]=f[E])}return S?new d(S):this}getSubquerySources(){var v={};for(var f in this.items){var S=this.items[f];(0,y.y)(S)&&(v[f]=S)}return v}}function n(g,v){if(g===v)return!0;if(g&&v){if(s(g)&&s(v)||p(g)&&p(v))return g.equals(v);if((0,y.y)(g)&&(0,y.y)(v))return g.equals(v);if(l(g)&&l(v))return g.equals(v)}return!1}function s(g){return e.fF.assertValue(g,"source"),null!=g.entity}function p(g){return e.fF.assertValue(g,"source"),null!=g.pod}function l(g){return e.fF.assertValue(g,"source"),null!=g.expr}class m{visitEntity(v){return this.getShortName(v.entity)}visitPod(v){return this.getShortName(v.pod)}visitSubquery(v){return"q"}visitExpr(v){return"x"}getShortName(v){var f=v,S=f.lastIndexOf(".");return S>=0&&S!==f.length-1&&(f=f.substr(S+1)),(0,u.Nx)(f.charCodeAt(0))?f.charAt(0).toLowerCase():"a"}}class b{constructor(){this.entities=[]}visitEntity(v,f){this.entities.push(new t.PN(v.schema,v.entity,f))}visitPod(v,f){}visitSubquery(v,f){}visitExpr(v,f){}}class V{constructor(v){this.exprRewriter=v}visitEntity(v,f){var P=(0,t.nw)(v.schema,v.entity,f).accept(this.exprRewriter);return new i(P.schema,P.entity)}visitPod(v,f){var P=(0,t.nw)(v.schema,v.pod,f).accept(this.exprRewriter);return new o(P.schema,P.entity)}visitSubquery(v,f){var P=v.subquery.rewrite(this.exprRewriter);return new c(P,v.inheritsSorting)}visitExpr(v,f){var P=v.expr.accept(this.exprRewriter);return new h(P)}}},561154:function(Ce,k,r){r.d(k,{y:function(){return e}});var a=r(939123);function e(u){return a.fF.assertValue(u,"source"),null!=u.subquery}},906741:function(Ce,k,r){r.d(k,{hG:function(){return b},OQ:function(){return v},wA:function(){return n},g8:function(){return h},S7:function(){return c},cH:function(){return m},u8:function(){return V},uW:function(){return l},ZB:function(){return p},K8:function(){return s}});var a=r(939123),e=r(895127),u=r(528836),t=r(257738),C=r(517273),y=r(564619);function c(f,S){var P=function(f){return f.hierarchyLevel||f.hierarchyLevelAggr||f.columnHierarchyLevelVariation&&f.columnHierarchyLevelVariation.level}(S);if(P)return h(f,P.schema,P.entity,P.name,P.level)}function h(f,S,P,D,M){var w=f.schema(S).findHierarchy(P,D);if(w)return w.levels.withName(M)}function n(f,S,P){return v(S,f)||function(f,S){a.fF.assertValue(f,"sqExpr"),a.fF.assertValue(S,"federatedSchema");var P,D=f.getConceptualProperty(S);if(D){var M=D.column;if(M&&M.variations&&M.variations.length>0){var E=M.variations;a.fF.assert(()=>1===E.length,"variations.length");var w=E[0],x=(0,e.Q)(f),N=(0,y.Um)(x);if(P=[],w.defaultHierarchy){var L=(0,u.bT)((0,u.yU)((0,u.nw)(N.schema,N.entity,N.entityVar),w.name,D.name),w.defaultHierarchy.name);for(var B of w.defaultHierarchy.levels)P.push((0,u.os)(L,B.name))}}}return P}(S,f)||!P&&function(f,S){a.fF.assertValue(f,"sqExpr"),a.fF.assertValue(S,"federatedSchema");var P=[];if(f instanceof u.vD){var D=(0,e.Q)(f);if(D.hierarchyLevel){var M=(0,y.Um)(D),E=S.schema(M.schema).findHierarchy(M.entity,D.hierarchyLevel.name);if(E){var w=E.levels;for(var x of w){if(x.name===D.hierarchyLevel.level){P.push(f);break}P.push((0,u.os)((0,u.bT)((0,u.nw)(M.schema,M.entity,M.entityVar),E.name),x.name))}}}}if(!_.isEmpty(P))return P}(S,f)||S}function s(f,S){if(S instanceof u.jE||S instanceof u.vD)return!0;var P=S.getConceptualProperty(f);if(P){var D=P.column;if(D&&D.variations&&D.variations.length>0)return!0}return!1}function p(f){var S=(0,e.Q)(f);if(S.columnHierarchyLevelVariation){var P=(0,u.nw)(S.columnHierarchyLevelVariation.source.schema,S.columnHierarchyLevelVariation.source.entity);return(0,u.Oh)(P,S.columnHierarchyLevelVariation.source.name)}}function l(f){var P=(0,e.Q)(f).hierarchyLevel;if(P){var D=(0,u.nw)(P.schema,P.entity,P.entityVar);return(0,u.bT)(D,P.name)}}function m(f){if(f.arg instanceof u.jE){var S=f.arg;if(S.arg instanceof u.c7)return S.arg}}function b(f,S,P){if(!(S instanceof u.vD&&P instanceof u.vD))return!1;var D=S,M=P;if(!(0,t.fS)(D.arg,M.arg))return!1;var E=C.m.indexOfExpr(f,D),w=C.m.indexOfExpr(f,M);return-1!==E&&-1!==w&&E<w}function V(f,S,P){for(var D=0;D<S.length&&b(f,S[D],P);)D++;return D}function v(f,S){if(a.fF.assertValue(f,"sqExpr"),a.fF.assertValue(S,"federatedSchema"),f instanceof u.jE){var D=function(f,S){if(f instanceof u.jE){var P=f;if(f.arg instanceof u.PN){var D=f.arg;return S.schema(D.schema).findHierarchy(D.entity,P.hierarchy)}if(f.arg instanceof u.c7){var M=f.arg,E=M.arg;return S.schema(E.schema).findHierarchyByVariation(E.entity,M.property,M.name,P.hierarchy)}}}(f,S);if(D)return _.map(D.levels,M=>(0,u.os)(f,M.name))}}},937892:function(Ce,k,r){r.d(k,{K:function(){return t}});var a=r(939123),e=r(528836),u=r(269556);function t(y,i){return a.fF.assertValue(y,"expr"),a.fF.assertValue(i,"schema"),y.accept(new C(i))}class C extends u.b{constructor(i){super(),this.schema=i}visitPropertyVariationSource(i){var o=i.arg.getTargetEntity();if(!o)return i;var c=o.schema,h=this.schema.schema(c).findTargetEntityOfVariation(o.entity,i.property,i.name);return h?(0,e.nw)(c,h.name):i}}},334673:function(Ce,k,r){r.d(k,{y3:function(){return l},dc:function(){return ne},dx:function(){return ct},OQ:function(){return Se},rH:function(){return Ue},SU:function(){return ye},IE:function(){return Z},iH:function(){return Ge},JN:function(){return g}});var t,a=r(939123),e=r(753104),u=r(310420),i=r(845856),o=r(864237),c=r(405427),h=r(397129),d=r(737466),n=r(467562);class s{static canFormat(ae){return ae instanceof Date}static format(ae,Le,X){Le=Le||"G",(0,c.M4)(ae)&&(ae=l.fromTimeValue(ae.epochTimeStamp));var Ye=1===Le.length;try{return Ye?L(ae,Le,X):function(Ne,ae,Le){var X,be=[];if((ae=g(ae,be)).indexOf("F")>-1){ae=(0,d.ko)(ae,"FFFF","FFF");var Ie=Ne.getMilliseconds();if(Ie%10>=1&&(ae=(0,d.ko)(ae,"FFF","fff")),ae=(0,d.ko)(ae,"FFF","FF"),Ie%100/10>=1&&(ae=(0,d.ko)(ae,"FF","ff")),ae=(0,d.ko)(ae,"FF","F"),Ie%1e3/100>=1&&(ae=(0,d.ko)(ae,"F","f")),""===(ae=(0,d.ko)(ae,"F",""))||"%"===ae)return""}var Ye=function(Ne){return null!=Ne.match(/gg/)}(ae);ae=function(Ne){return Ne===x?N:(x=Ne,Ne=function(Ne){if(Ne=(Ne=(Ne=(Ne=(Ne=(Ne=(Ne=(Ne=Ne.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),t||(t=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(Le=>({r:new RegExp("%"+Le+"(?!"+Le+")","g"),s:Le}))),-1!==Ne.indexOf("%")&&Ne.length>2)for(var ae of t)Ne=Ne.replace(ae.r,ae.s);return Ne}(Ne),N=Ne,Ne)}(ae);var ze=Le.calendar;return Ye&&(Le.calendar=Le.calendars.Japanese),X=Globalize.format(Ne,ae,Le),Ye&&(Le.calendar=ze),X=v(X=s.localize(X,Le.calendar),be,!1)}(ae,Le,X)}catch{return L(ae,"G",X)}}static localize(ae,Le){var X=Le[":"];if(":"===X)return ae;for(var be="",Ie=ae.length,Ye=0;Ye<Ie;Ye++){var ze=ae.charAt(Ye);be+=":"===ze?X:ze}return be}}class p{static canFormat(ae){return"number"==typeof ae}static format(ae,Le,X){Le=Le||"G";try{return Ge(Le)?function(Ne,ae,Le){var X,be=ae.length>1?parseInt(ae.substr(1,ae.length-1),10):void 0,Ie=Le.numberFormat,Ye=ae.charAt(0);switch(Ye){case"e":case"E":void 0===be&&(be=6);var ze=_.repeat("0",be);X=de(Ne,ae="0."+ze+Ye+"+000",Le);break;case"f":case"F":X=Ne.toFixed(void 0!==be?be:Ie.decimals),X=p.localize(X,Ie);break;case"g":case"G":var ee=Math.abs(Ne);if(0===ee||1e-4<=ee&&ee<1e15)X=void 0!==be?Ne.toPrecision(be):Ne.toString();else{if(a.fF.assert(()=>"number"==typeof Ne,"value must be a number"),"number"!=typeof Ne)return String(Ne);X=(X=void 0!==be?Ne.toExponential(be):Ne.toExponential()).replace("e","E")}X=p.localize(X,Ie);break;case"r":case"R":X=Ne.toString(),X=p.localize(X,Ie);break;case"x":case"X":if(X=Ne.toString(16),"X"===Ye&&(X=X.toUpperCase()),void 0!==be){var ve=X.length,Te=Ne<0;Te&&ve--;var He,Xe=be-ve;Xe>0&&(He=_.repeat("0",Xe)),X=Te?"-"+He+X.substr(1):He+X}X=p.localize(X,Ie);break;default:X=Globalize.format(Ne,ae,Le)}return X}(ae,Le,X):de(ae,Le,X)}catch{return Globalize.format(ae,void 0,X)}}static localize(ae,Le){var X=Le["+"],be=Le["-"],Ie=Le["."],Ye=Le[","];if("+"===X&&"-"===be&&"."===Ie&&","===Ye)return ae;for(var ze=ae.length,ee="",ve=0;ve<ze;ve++){var Te=ae.charAt(ve);switch(Te){case"+":ee+=X;break;case"-":ee+=be;break;case".":ee+=Ie;break;case",":ee+=Ye;break;default:ee+=Te}}return ee}}class l extends Date{setInternalDate(ae){this.date=ae}static fromTimeValue(ae){var Le=new l(ae);return"function"!=typeof Le.setInternalDate&&i.f.information(`epochTimeStamp is '${ae}' of type '${typeof ae}'`),Le.setInternalDate(new Date(ae)),Le}static fromDateParts(ae,Le=0,X=1,be=0,Ie=0,Ye=0,ze=0){var ee=Date.UTC(ae,Le,X,be,Ie,Ye,ze),ve=new l(ee);return ve.setInternalDate(new Date(ee)),ve}static fromString(ae){a.fF.assert(()=>/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(ae),"Only ISO 8601 is guaranteed to be parsed as UTC");var Le=new Date(ae),X=new l(Le.getTime());return X.setInternalDate(Le),X}static fromDateWithEpochValue(ae){return l.fromTimeValue(ae.epochTimeStamp)}static isDate(ae){return ae instanceof Date}getDate(){return this.date.getUTCDate()}getDay(){return this.date.getUTCDay()}getFullYear(){return this.date.getUTCFullYear()}getHours(){return this.date.getUTCHours()}getMilliseconds(){return this.date.getUTCMilliseconds()}getMinutes(){return this.date.getUTCMinutes()}getMonth(){return this.date.getUTCMonth()}getSeconds(){return this.date.getUTCSeconds()}setDate(ae){return this.date.setUTCDate.apply(this.date,arguments)}setFullYear(ae,Le,X){return this.date.setUTCFullYear.apply(this.date,arguments)}setHours(ae,Le,X,be){return this.date.setUTCHours.apply(this.date,arguments)}setMilliseconds(ae){return this.date.setUTCMilliseconds.apply(this.date,arguments)}setMinutes(ae,Le,X){return this.date.setUTCMinutes.apply(this.date,arguments)}setMonth(ae,Le){return this.date.setUTCMonth.apply(this.date,arguments)}setSeconds(ae,Le){return this.date.setUTCSeconds.apply(this.date,arguments)}toString(){var ae=this.date.toUTCString(),Le=ae.length-4;return ae.indexOf(" GMT")===Le&&(ae=ae.substr(0,Le)),ae}getTime(){return this.date.getTime()}getTimezoneOffset(){return this.date.getTimezoneOffset()}getUTCDate(){return this.date.getUTCDate()}getUTCDay(){return this.date.getUTCDay()}getUTCFullYear(){return this.date.getUTCFullYear()}getUTCHours(){return this.date.getUTCHours()}getUTCMilliseconds(){return this.date.getUTCMilliseconds()}getUTCMinutes(){return this.date.getUTCMinutes()}getUTCMonth(){return this.date.getUTCMonth()}getUTCSeconds(){return this.date.getUTCSeconds()}setUTCDate(ae){return this.date.setUTCDate.apply(this.date,arguments)}setUTCFullYear(ae,Le,X){return this.date.setUTCFullYear.apply(this.date,arguments)}setUTCHours(ae,Le,X,be){return this.date.setUTCHours.apply(this.date,arguments)}setUTCMilliseconds(ae){return this.date.setUTCMilliseconds.apply(this.date,arguments)}setUTCMinutes(ae,Le,X){return this.date.setUTCMinutes.apply(this.date,arguments)}setUTCMonth(ae,Le){return this.date.setUTCMonth.apply(this.date,arguments)}setUTCSeconds(ae,Le){return this.date.setUTCSeconds.apply(this.date,arguments)}toDateString(){return this.date.toDateString()}toISOString(){return this.date.toISOString()}toJSON(){return this.date.toJSON()}toLocaleDateString(){return this.date.toLocaleDateString()}toLocaleString(){return this.date.toLocaleString()}toLocaleTimeString(){return this.date.toLocaleTimeString()}toTimeString(){return this.date.toTimeString()}toUTCString(){return this.date.toUTCString()}valueOf(){return this.date.valueOf()}}var b=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function V(Ne){return b.lastIndex=0,Ne.replace(b,"\ue100")}function g(Ne,ae){for(b.lastIndex=0;;){var Le=b.exec(Ne);if(!Le)break;var X=Le[0],be=b.lastIndex-X.length,Ie=String.fromCharCode(57600+ae.length);ae.push(X),Ne=Ne.substr(0,be)+Ie+Ne.substr(b.lastIndex),b.lastIndex=be+1}return Ne}function v(Ne,ae,Le=!0){for(var X=ae.length,be=0;be<X;be++){var Ie=String.fromCharCode(57600+be),Ye=ae[be];if(!Le){var ze=Ye[0];Ye="\\"===ze||1===Ye.length||Ye[Ye.length-1]!==ze?Ye.substring(1):Ye.substring(1,Ye.length-1)}Ne=Ne.replace(Ie,Ye)}return Ne}var x,N,f=/({{)|(}})|{(\d+[^}]*)}/g,S="0",P="#",D="E",E=new RegExp([S,P].join("|"),"g");function L(Ne,ae,Le){var X=Le.calendar.patterns;!function(Ne){var ae=Ne.patterns;void 0===ae.g&&(ae.g=ae.f.replace(ae.D,ae.d),ae.G=ae.F.replace(ae.D,ae.d))}(Le.calendar);var be=function(Ne,ae,Le){switch(ae){case"m":ae="M";break;case"O":case"o":ae="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":Ne=new Date(Ne.getUTCFullYear(),Ne.getUTCMonth(),Ne.getUTCDate(),Ne.getUTCHours(),Ne.getUTCMinutes(),Ne.getUTCSeconds(),Ne.getUTCMilliseconds()),ae="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":ae="S";break;case"u":Ne=new Date(Ne.getUTCFullYear(),Ne.getUTCMonth(),Ne.getUTCDate(),Ne.getUTCHours(),Ne.getUTCMinutes(),Ne.getUTCSeconds(),Ne.getUTCMilliseconds()),ae="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":Ne=new Date(Ne.getUTCFullYear(),Ne.getUTCMonth(),Ne.getUTCDate(),Ne.getUTCHours(),Ne.getUTCMinutes(),Ne.getUTCSeconds(),Ne.getUTCMilliseconds()),ae="F";break;case"y":case"Y":switch(Le){case"default":case"en":case"en-US":ae="MMMM, yyyy";break;default:ae="Y"}}return{value:Ne,format:ae}}(Ne,ae,Le.name);return ae=1===be.format.length?X[be.format]:be.format,Globalize.format(be.value,ae,Le)}var Ke,F=/^\{.+\}.*/,A=/\{.+\}/,T=/e[+-]*[0#]+/i,R=/^[a-z]\d{0,2}$/i,U=/0+$/,z=/([,]*)\.([0#]*)/g,j=/[0#,\.]+[0,#]*/g,H=/([0#])(?=[^0#]*$)/,q=".",G=";";function Z(Ne,ae){if(null==ae)return ae;if(he(ae)){var{positive:Le,negative:X,zero:be}=Se(ae);return Q(Ne>0?Le:0===Ne?be:X)}return Q(ae)}function Q(Ne){var ae=(0,h.KH)(j,Ne);return ae?ae[0]:Ne}function ne(Ne,ae,Le){if(null==ae)return Ne;if(null==Ne&&(Ne=S),he(Ne)){for(var{positive:X,negative:be,zero:Ie}=Se(Ne),Ye=[X,be,Ie],ze=0;ze<Ye.length;ze++)Ye[ze]=le(Ye[ze],ae,Le);return Ye.join(G)}return le(Ne,ae,Le)}function le(Ne,ae,Le){if((ae=Math.abs(ae))>=0){var X=[];Ne=g(Ne,X);var Ie=_.repeat(Le?S:P,Math.abs(ae)),Ye=(0,h.KH)(z,Ne);if(Ye){var ze=Ne.substr(0,Ye.index+Ye[1].length),ee=Ne.substr(Ye.index+Ye[1].length+1,Ye[2].length),ve=Ye[1],Te=Ne.substr(Ye.index+Ye[0].length);if(Le)ee=Ie;else{var Xe=Ie.length-ee.length;Xe>0?ee+=Ie.slice(-Xe):Xe<0&&(ee=ee.slice(0,Xe))}ee.length>0?ee=q+ee:ve.length>0&&(ee=q),Ne=ze+ee+Te}else Ie.length>0&&(Ne=Ne.replace(H,"$1"+q+Ie));0!==X.length&&(Ne=v(Ne,X))}return Ne}function he(Ne){return-1!==V(Ne).indexOf(G)}function Se(Ne){var ae={hasNegative:!1,positive:Ne,negative:Ne,zero:Ne},Le=[],X=(Ne=g(Ne,Le)).split(G),be=X.length;return be>1&&(0!==Le.length&&(X=_.map(X,Ie=>v(Ie,Le))),ae.hasNegative=!0,ae.positive=ae.zero=X[0],ae.negative=X[1],be>2&&(ae.zero=X[2])),ae}function Ge(Ne){return a.fF.assertValue(Ne,"format"),R.test(Ne)}function ye(Ne){return!Ne||Ge(Ne)||Ue(Ne).hasDots?Ne:ne(Ne,2,!0)}function de(Ne,ae,Le,X){var be,Ie=Le.numberFormat;if(!isFinite(Ne))return Globalize.format(Ne,void 0);var Ye=Se(ae);ae=Ne>0?Ye.positive:0===Ne?Ye.zero:Ye.negative,Ye.hasNegative&&(Ne=Math.abs(Ne));var ze=Ue(ae,!0),ee=[];if(ze.hasLiterals&&(ae=g(ae,ee)),ze.hasE&&!X){var ve=(0,h.KH)(T,ae);if(ve){var Te=ae.substr(0,ve.index),Xe=ae.substr(ve.index+2),He=Je(Te,ze),qe=te(Te,ze);if(1!==qe&&(Ne*=qe),a.fF.assert(()=>"number"==typeof Ne,"value must be a number"),"number"!=typeof Ne)return String(Ne);var rt=Ne.toExponential(He),me=rt.indexOf("e"),Ee=rt.substr(0,me),fe=rt.substr(me+1),Re=ke(Ee,Te,Ie),re=ke(fe,Xe,Ie);"+"===re.charAt(0)&&"+"!==ve[0].charAt(1)&&(re=re.substr(1)),be=Re+ve[0].charAt(0)+re}}if(void 0===be){var Ae,ce=!1,Me=Je(ae,ze),$e=te(ae,ze);if(1!==$e&&(Ne*=$e),Ne=parseFloat(Ve(Ne,Me)),!isFinite(Ne))return Globalize.format(Ne,void 0);X?(X=function(Ne,ae){return ae&&void 0!==Ne?Ne.replace("{0}","{0:"+ae+"}"):Ne}(X,Z(Ne,ae)),Ae=ct.format(X,[Ne],Le.name),ce=!0):(Ae=Ve(Ne,Me),Ae=function(Ne,ae,Le,X){if(0===X)return ae;var be=ae.indexOf(".");if(-1===be)return ae;for(var Ie=be+1,ze=Ie+(Le-X);ze<ae.length;++ze){var ee=ae[ze];if("0"===ee||"9"===ee){var ve=Ve(Ne,ze-Ie);if(parseFloat(ve)===Ne)return ve}}return ae}(Ne,Ae,Me,function(Ne,ae){return ue(Ne,ae),ae.optionalPrecision}(ae,ze))),be=ke(Ae,ae,Ie,X,ce)}return ze.hasLiterals&&(be=v(be,ee,!1)),Ke=ze,be}function Ve(Ne,ae){var Le="",X=0;ae>16&&(X=ae-16,ae=16);var be=(0,e.mv)(Math.abs(Ne))+1;if(be<16){if(be>0){var Ie=16-be;ae>Ie&&(X+=ae-Ie,ae=Ie)}Le=function(Ne,ae){if(!Ne||isFinite(Ne)){var Le=Ne<0;Le&&(Ne=-Ne);var X=Math.pow(2,Math.floor(Math.log(Ne)/Math.LN2)-52),be=Math.pow(10,ae);1/be>10*X&&(Ne=Math.round((Ne+X)*be)/be),Le&&(Ne=-Ne)}return Ne.toFixed(ae)}(Ne,ae)}else if(16===be)Le=Ne.toFixed(0),(X+=ae)>0&&(Le+=".");else{if(a.fF.assert(()=>"number"==typeof Ne,"value must be a number"),"number"!=typeof Ne)return String(Ne);var Ye=(Le=Ne.toExponential(15)).indexOf("e");if(Ye>0){var ze=Le.indexOf("."),ee=Le.substr(0,Ye),ve=Le.substr(Ye+1),Te=parseInt(ve,10)-(ee.length-ze-1);Le=ee.replace(".","")+_.repeat("0",Te),ae>0&&(Le=Le+"."+_.repeat("0",ae))}}return X>0&&(Le+=_.repeat("0",X)),Le}function Ue(Ne,ae,Le,X){if(void 0!==Ke&&Ne===Ke.format)return Ke;for(var be=[],Ie=g(Ne,be),Ye={format:Ne,hasLiterals:0!==be.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},ze=0,ee=Ie.length;ze<ee;ze++)switch(Ie.charAt(ze)){case"e":case"E":Ye.hasE=!0;break;case",":Ye.hasCommas=!0;break;case".":Ye.hasDots=!0;break;case"%":Ye.hasPercent=!0;break;case"\u2030":Ye.hasPermile=!0}var Te=Se(Ne);return ae&&(Ye.precision=Je(Te.positive,Ye)),X&&(Ye.partsPerScale=_e(Te.positive,Ye)),Le&&(Ye.scale=te(Te.positive,Ye)),Ye}function Je(Ne,ae){return ue(Ne,ae),ae.precision}function ue(Ne,ae){if(!(ae.precision>-1)){var Le=0,X=0;if(ae.hasDots){ae.hasLiterals&&(Ne=V(Ne));var be=Ne.indexOf(".");if(be>-1){for(var Ie=Ne.length,Ye=be;Ye<Ie;Ye++){var ze=Ne.charAt(Ye);if(ze.match(E)&&++Le,ze===P?++X:X=0,ze===D)break}Le>19&&(X=Math.max(0,X-(Le-19)),Le=19)}}ae.precision=Le,ae.optionalPrecision=X}}function _e(Ne,ae){if(null!=ae.partsPerScale)return ae.partsPerScale;var Le=1;return ae.hasPercent&&Ne.indexOf("%")>-1&&(Le*=100),ae.hasPermile&&Ne.indexOf("\u2030")>-1&&(Le*=1e3),ae.partsPerScale=Le,Le}function te(Ne,ae){if(ae.scale>-1)return ae.scale;var Le=_e(Ne,ae);if(ae.hasCommas){var X=Ne.indexOf(".");if(-1===X)for(X=Ne.length;X>0&&")"===Ne.charAt(X-1);)X--;for(var be=X-1;be>-1&&","===Ne.charAt(be);be--)Le/=1e3}return ae.scale=Le,Le}function ke(Ne,ae,Le,X,be){var Ie=!!X,Ye=ae.split(".",2);if(2===Ye.length){var ze=Ye[0],ee=Ye[1],ve="";X&&(a.fF.assert(()=>F.test(X),"Number should always precede the display unit"),ve=X.replace(A,""),Ne=Ne.replace(ve,""));var Te=Le["."],He=Ne.split(be?Te:".",2),qe=1===He.length?He[0]+ve:He[0],rt=2===He.length?He[1]+ve:"";rt=rt.replace(U,"");var me=at(qe,ze,Le,Ie),Ee=function(Ne,ae,Le){var X=0,be=ae.length,Ie=Ne.length;if(Le){a.fF.assert(()=>be>0,"Empty formatting string");var Ye=ae.charAt(be-1);return Ye.match(E)?{value:Ne,fmtOnly:""===Ne}:{value:Ne+Ye,fmtOnly:""===Ne}}for(var ze="",ee=!0,ve=0;ve<be;ve++){var Te=ae.charAt(ve);if(X<Ie)switch(Te){case S:case P:ze+=Ne[X++],ee=!1;break;default:ze+=Te}else Te!==P&&(ze+=Te,ee=ee&&Te!==S)}return{value:ze,fmtOnly:ee}}(rt,ee,Ie);return Ee.fmtOnly||""===Ee.value?me+Ee.value:me+Te+Ee.value}return at(Ne,ae,Le,Ie)}function at(Ne,ae,Le,X){var be=ae.indexOf(","),Ie=be>-1&&be<Math.max(ae.lastIndexOf("0"),ae.lastIndexOf("#"))&&Le[","],Ye=0,ze=0,ee=Le.groupSizes||[3],ve=ee[0],Te=Le[","],Xe="",He=Ne.charAt(0);("+"===He||"-"===He)&&(Xe=Le[He],Ne=Ne.substr(1));for(var qe="0"===Ne,rt="",me="",Ee=Ne.length-1,fe=!0,Re=ae.length-1;Re>-1;Re--){var re=ae.charAt(Re);switch(re){case S:case P:fe=!1,""!==me&&(rt=me+rt,me=""),X||((Ee>-1||re===S)&&Ie&&(Ye===ve?(rt=Te+rt,++ze<ee.length&&(ve=ee[ze]),Ye=1):Ye++),Ee>-1?(qe&&re===P||(rt=Ne.charAt(Ee)+rt),Ee--):re!==P&&(rt=re+rt));break;case",":break;default:me=re+me}}if(!X){if(Ee>-1&&""!==rt)if(Ie)for(;Ee>-1;)Ye===ve?(rt=Te+rt,++ze<ee.length&&(ve=ee[ze]),Ye=1):Ye++,rt=Ne.charAt(Ee)+rt,Ee--;else rt=Ne.substr(0,Ee+1)+rt;return Xe+me+rt}return fe?Xe+me+rt:Xe+me+Ne+rt}class ut{constructor(ae){var Le=ae.calendar,X=Le.patterns,be=null!=Le.months?.namesAbbr?.[0],Ie=X.Y,Ye=X.M,ze=X.f,ee=X.T,ve=X.t,Te=ze.indexOf(",")>-1?", ":" ",Xe=0===Ie.indexOf("yyyy'")&&Ie.length>6&&"'"===Ie[6];this.YearPattern=Xe?Ie.substr(0,7):"yyyy";var He=ze.indexOf("yy"),qe=ze.indexOf("MMMM");this.MonthPattern=be&&qe>-1?He>qe?"MMM yyyy":"yyyy MMM":Ie,this.DayPattern=be?Ye.replace("MMMM","MMM"):Ye;var rt=ze.indexOf("mm"),Ee=ze.indexOf("tt")>-1?ve.replace(":mm ",""):ve;this.HourPattern=He<rt?this.DayPattern+Te+Ee:Ee+Te+this.DayPattern,this.MinutePattern=ve,this.SecondPattern=ee,this.MillisecondPattern=ee.replace("ss","ss.fff")}getFormatString(ae){switch(ae){case n.l.Year:return this.YearPattern;case n.l.Month:return this.MonthPattern;case n.l.Week:case n.l.Day:return this.DayPattern;case n.l.Hour:return this.HourPattern;case n.l.Minute:return this.MinutePattern;case n.l.Second:return this.SecondPattern;case n.l.Millisecond:return this.MillisecondPattern}a.fF.assertFail("Unexpected unit: "+ae)}}var ct=new class{formatValue(ae,Le,X){if(null==ae)return"";var be=this.getCulture(X);return s.canFormat(ae)?s.format(ae,Le,be):p.canFormat(ae)?p.format(ae,Le,be):ae.toString()}format(ae,Le,X){return ae?ae.replace(f,(Ie,Ye,ze,ee)=>{if(Ye)return"{";if(ze)return"}";var ve=ee.split(":"),Te=parseInt(ve[0],10);return this.formatValue(Le[Te],ve[1],X)}):""}isStandardNumberFormat(ae){return Ge(ae)}formatNumberWithCustomOverride(ae,Le,X,be){return function(Ne,ae,Le,X){return a.fF.assertValue(Ne,"value"),a.fF.assert(()=>"number"==typeof Ne,"value must be a number"),a.fF.assertValue(ae,"format"),a.fF.assertValue(Le,"nonScientificOverrideFormat"),a.fF.assertValue(X,"culture"),a.fF.assert(()=>!Ge(ae),"Standard format"),de(Ne,ae,X,Le)}(ae,Le,X,this.getCulture(be))}dateFormatString(ae){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(ae)}setCurrentCulture(ae){this._currentCultureSelector!==ae&&(this._currentCulture=this.getCulture(ae),this._currentCultureSelector=ae,this._dateTimeScaleFormatInfo=new ut(this._currentCulture))}normalizeCultureSelector(ae){var Le=ae.split("-");return 2===Le.length&&2===Le[1].length&&(ae=Le[0]+"-"+Le[1].toUpperCase()),ae}getCulture(ae){if(null==ae)return null==this._currentCulture&&this.initialize(),this._currentCulture;ae=this.normalizeCultureSelector(ae);var Le=Globalize.findClosestCulture(ae);return Le||(Le=Globalize.culture("en-US")),Le}parseFloat(ae){return Globalize.parseFloat(ae,this.getCulture())}parseDate(ae){var Le=Globalize.parseDate(ae,null,this.getCulture());return Le&&(0,c.Fg)(Le)}getCurrentCulture(){return this.getCulture()}initialize(){var ae=this.getCurrentLocale();this.setCurrentCulture(ae);var Le=this.getUrlParam("calendar");if(Le){var X=this._currentCulture,be=X.calendars[Le];be&&(X.calendar=be)}}getCurrentLocale(){var ae=o.M.getLanguage()||Globalize.culture().name,Le=(0,u.hG)().cultureInfo;return ae=(0,u.hG)().formattingLocale||Le||ae,this.getUrlParam("formatLocale")||this.getUrlParam("language")||ae}getUrlParam(ae){var Le=window.location.search.match(RegExp("[?&]"+ae+"=([^&]*)"));return Le?Le[1]:void 0}}},913186:function(Ce,k,r){r.d(k,{Gg:function(){return y},qC:function(){return C}});var a=r(939123),e=r(405427),u=r(693713),t=r(334673);function C(c){return JSON.stringify(c.accept(i.instance))}function y(c){for(var h="[",d=0,n=c.length;d<n;d++)d>0&&(h+=","),h+=C(c[d]);return h+"]"}var i=(()=>{class c extends u.vq{visitColumnRef(d){return{col:{s:d.source.accept(this),r:d.ref}}}visitMeasureRef(d){return{measure:{s:d.source.accept(this),r:d.ref}}}visitNativeMeasure(d){var n={l:d.language,e:d.expression,t:d.dataType};return d.proposedName&&(n.p=d.proposedName),d.expressionContentCache&&(n.c={}),d.expressionContentCache.dependencies&&(n.c.d=y(d.expressionContentCache.dependencies)),null!=d.expressionContentCache.unrecognizedIdentifiers&&(n.c.u=d.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:n}}visitNativeColumn(d){var n={l:d.language,e:d.expression,t:d.dataType,s:d.source.accept(this),f:d.format};return d.proposedName&&(n.p=d.proposedName),d.expressionContentCache&&(n.c={}),d.expressionContentCache.dependencies&&(n.c.d=y(d.expressionContentCache.dependencies)),null!=d.expressionContentCache.unrecognizedIdentifiers&&(n.c.u=d.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:n}}visitAggr(d){return{agg:{a:d.arg.accept(this),f:d.func}}}visitEntity(d){return a.fF.assertValue(d,"expr"),a.fF.assertValue(d.entity,"expr.entity"),{e:d.entity}}visitHierarchyLevel(d){return{h:d.arg.accept(this),l:d.level}}visitHierarchy(d){return{e:d.arg.accept(this),h:d.hierarchy}}visitPropertyVariationSource(d){return{e:d.arg.accept(this),n:d.name,p:d.property}}visitAnd(d){return a.fF.assertValue(d,"expr"),{and:{l:d.left.accept(this),r:d.right.accept(this)}}}visitCompare(d){return a.fF.assertValue(d,"expr"),{comp:{k:d.comparison,l:d.left.accept(this),r:d.right.accept(this)}}}visitConstant(d){return a.fF.assertValue(d,"expr"),{const:{t:d.type.primitiveType,v:o(d.value)}}}visitArithmetic(d){return a.fF.assertValue(d,"expr"),{arithmetic:{o:d.operator,l:d.left.accept(this),r:d.right.accept(this)}}}visitScopedEval(d){return a.fF.assertValue(d,"expr"),{scopedEval:{e:d.expression.accept(this),s:y(d.scope)}}}visitFilteredEval(d){a.fF.assertValue(d,"expr");var n=s=>{var p={};return _.isEmpty(s.target)||(p.t=_.map(s.target,l=>l.accept(this))),p.c=s.condition.accept(this),p};return{filteredEval:{e:d.expression.accept(this),f:`[${_.map(d.filters,s=>JSON.stringify(n(s))).join(", ")}]`}}}visitWithRef(d){return a.fF.assertValue(d,"expr"),{withRef:{e:d.expressionName}}}visitTransformTableRef(d){return a.fF.assertValue(d,"expr"),{transformTableRef:{source:d.source}}}visitTransformOutputRoleRef(d){a.fF.assertValue(d,"expr");var n={transformOutputRoleRef:{role:d.role}};return d.transform&&(n.transformOutputRoleRef.transform=d.transform),n}visitFloor(d){a.fF.assertValue(d,"expr");var n={floor:{a:d.arg.accept(this),s:d.size}};return null!=d.timeUnit&&(n.floor.timeunit=d.timeUnit),n}visitRoleRef(d){return a.fF.assertValue(d,"expr"),{roleRef:{role:d.role}}}visitSummaryValueRef(d){return a.fF.assertValue(d,"expr"),{summaryValueRef:{name:d.name}}}visitAllRolesRef(d){return a.fF.assertValue(d,"expr"),{allRolesRef:{}}}visitNot(d){return a.fF.assertValue(d,"expr"),{not:d.arg.accept(this)}}visitIn(d){return a.fF.assertValue(d,"expr"),{in:{c:y(d.args),v:_.map(d.values,n=>y(n))}}}visitSelectRef(d){return a.fF.assertValue(d,"expr"),{n:d.expressionName}}visitSparklineData(d){return a.fF.assertValue(d,"expr"),{sparklineData:{m:d.measure.accept(this),g:y(d.grouping),s:d.scalarKey?.accept(this)}}}visitDefault(d){a.fF.assertFail("Unexpected expression type found in DataViewScopeIdentity.")}}return c.instance=new c,c})();function o(c){return(0,e.M4)(c)?t.y3.fromDateWithEpochValue(c):c}},443092:function(Ce,k,r){r.d(k,{C:function(){return t},J:function(){return u}});var a=r(939123),e=r(124463);function u(C,y){if(a.fF.assertValue(C,"getStylePreset called with undefined stylePresets"),C){_.isEmpty(y)&&(y=C.defaultPresetName);var i=C.presets[y];return i||(i=C.presets[C.defaultPresetName]),a.fF.assertValue(i,"VisualStylePreset not found and no valid default exists"),i}}function t(C,y){var i=[];if(C){var o=C.presets;if(o)for(var c in o){var h=o[c];h.isDeprecated&&h.name!==y||i.push({value:h.name,displayName:h.displayName})}}return(0,e.i)(i)}},982583:function(Ce,k,r){function a(t){return"callout"===t.annotationType}function u(t,C){"callout"===t.annotationType?(t.text&&C.visitExpr(t.text),t.offsetX&&C.visitExpr(t.offsetX),t.offsetY&&C.visitExpr(t.offsetY),t.width&&C.visitExpr(t.width),t.height&&C.visitExpr(t.height),t.lastEditUTCTimestamp&&C.visitExpr(t.lastEditUTCTimestamp)):"highlight"===t.annotationType&&(t.color&&C.visitExpr(t.color),t.backgroundColor&&C.visitExpr(t.backgroundColor),t.emphasizeText&&C.visitExpr(t.emphasizeText))}r.d(k,{RL:function(){return u},lP:function(){return a}})},124463:function(Ce,k,r){r.d(k,{i:function(){return e}});var a=r(939123);function e(t){return new u(t)}class u{constructor(C){a.fF.assertValue(C,"allMembers"),this.allMembers=C}members(C){var y=this.allMembers;if(!C)return y;var i=[];for(var o of y)_.includes(C,o.value)&&i.push(o);return i}}},180084:function(Ce,k,r){r.d(k,{AG:function(){return y},EV:function(){return C},Gl:function(){return u},RL:function(){return t}});var a=r(939123),e=r(528836);function u(i){return i&&(void 0!==i.solid&&void 0!==i.solid.color||void 0!==i.gradient&&(void 0!==i.gradient.startColor||void 0!==i.gradient.endColor)||void 0!==i.pattern&&(void 0!==i.pattern.patternKind||void 0!==i.pattern.color))}function t(i,o){a.fF.assertValue(i,"fill"),i.solid&&i.solid.color?o.visitExpr(i.solid.color):a.fF.assertFail("Unsupported FillDefinition")}function C(i,o){return o?{solid:{color:(0,e.$_)(i,o)}}:null===i?{solid:{color:(0,e.IF)()}}:i?{solid:{color:(0,e.fL)(i)}}:void 0}function y(i){return a.fF.assertValue(i,"descriptor"),!0!==i&&!!i.nullable}},140294:function(Ce,k,r){r.d(k,{LX:function(){return u},RL:function(){return i},Sx:function(){return C},TJ:function(){return t},dt:function(){return y}});var a=r(939123),e=r(124463),u="asZero",t="noColor",C="specificColor",y=(0,e.i)([{value:u,displayName:n=>n.get("ConditionalFormattingDialog_FormatNull_AsZero")},{value:t,displayName:n=>n.get("ConditionalFormattingDialog_FormatNull_NoFormat")},{value:C,displayName:n=>n.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}]);function i(n,s){a.fF.assertValue(n,"fillRule"),n.linearGradient2?function(n,s){a.fF.assertValue(n,"gradient2"),h(n.min,s),h(n.max,s),d(n.nullColoringStrategy,s)}(n.linearGradient2,s):n.linearGradient3?function(n,s){a.fF.assertValue(n,"gradient3"),h(n.min,s),h(n.mid,s),h(n.max,s),d(n.nullColoringStrategy,s)}(n.linearGradient3,s):a.fF.assertFail("Unsupported FillRuleDefinition")}function h(n,s){a.fF.assertValue(n,"stop"),s.visitExpr(n.color);var p=n.value;p&&s.visitExpr(p)}function d(n,s){n&&(s.visitExpr(n.strategy),n.color&&s.visitExpr(n.color))}},107057:function(Ce,k,r){r.d(k,{BD:function(){return e},Ms:function(){return u},c1:function(){return a},t_:function(){return t}});var a="shared",e="packaged",u="geojson",t="topojson"},197799:function(Ce,k,r){r.d(k,{z:function(){return a}});var a={misc:{imageUrl:!0}}},939349:function(Ce,k,r){r.d(k,{IM:function(){return C},Kt:function(){return o},RL:function(){return t},Y0:function(){return y},Zm:function(){return c}});var a=r(939123),e=r(528836),u=r(379712);function t(p,l){for(var m of(a.fF.assertValue(p,"paragraphs"),p))h(m,l)}function C(p){var l=p;return a.fF.assertValue(l,"textRunDefinition"),_.isString(l.value)||(0,u.U)(l.value)||l.value instanceof e.Il}function y(p){var l=p;return a.fF.assertValue(l,"textRunDefinitionGeneric"),_.isString(l.value)||function(p){return p&&p.expr}(l.value)||(0,u.U)(l.value)}function o(p){var l=p;return a.fF.assertValue(l,"textRunConditionalDefinition"),_.isArray(l.cases)&&void 0!==l.defaultCase&&_.isArray(l.defaultCase.textRuns)&&(0,u.U)(l.expression)}function c(p){var l=p;return a.fF.assertValue(l,"conditionalDefinitionGeneric"),_.isArray(l.cases)&&void 0!==l.defaultCase&&void 0!==l.expression}function h(p,l){if(a.fF.assertValue(p,"paragraph"),!_.isEmpty(p.textRuns))for(var m of p.textRuns)C(m)?d(m,l):o(m)?s(m,l):a.fF.assertNever(m)}function d(p,l){a.fF.assertValue(p,"textRun"),a.fF.assertValue(p.value,"textRun.value"),!_.isString(p.value)&&n(p.value,l)}function n(p,l){if((0,u.U)(p))return l.visitValueRef(p);l.visitExpr(p)}function s(p,l){for(var m of(a.fF.assertValue(p,"textRunConditional"),a.fF.assertValue(p.expression,"expression"),a.fF.assertValue(p.defaultCase,"defaultCase"),a.fF.assertValue(p.cases,"cases"),p.cases))for(var b of m.textRuns)d(b,l);for(var V of p.defaultCase.textRuns)d(V,l);(0,u.U)(p.expression)&&n(p.expression,l)}},781344:function(Ce,k,r){r.d(k,{_:function(){return e}});var a=r(939123);class e{constructor(t,C){this.exprVisitor=t,this.valueRefVisitor=C}visitExpr(t){return a.fF.assertValue(t,"expr"),a.fF.assertValue(this.exprVisitor,"exprVisitor"),t.accept(this.exprVisitor)}visitValueRef(t){return a.fF.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(t)}}},776073:function(Ce,k,r){r.d(k,{DS:function(){return V},Fq:function(){return h},Hr:function(){return n},JY:function(){return D},ND:function(){return g},RL:function(){return f},TS:function(){return P},X2:function(){return y},Xz:function(){return b},ZG:function(){return m},bA:function(){return l},dS:function(){return t},gO:function(){return i},hl:function(){return C},oQ:function(){return v},r:function(){return p}});var a=r(939123),e=r(377176),u=r(528836);function t(M){var E=M.kind;if(!E)return!1;switch(E){case"AnnotationTemplate":case"Icon":case"ExprList":case"ErrorRange":case"ItemLocation":return!0;default:return a.fF.assertNever(E),!1}return!1}function C(M){return!!M&&(M instanceof e.yl||y(M)||i(M)||function(M){return!!M.identityFieldsValues}(M)||function(M){return M.name instanceof u.Il&&M.url instanceof u.Il}(M)||h(M)||function(M){return M.name instanceof u.Il&&M.content instanceof u.Il&&M.type instanceof u.Il}(M)||n(M)||s(M)||p(M)||l(M)||m(M)||b(M)||V(M)||g(M)||v(M))}function y(M){return!!(M.gradient||M.solid||M.pattern)}function i(M){return!(!M.linearGradient2&&!M.linearGradient3)}function h(M){var E=M;if(!_.isArray(E))return!1;for(var w of E)if(!w.textRuns)return!1;return!0}function n(M){return!(!M.algorithm||!M.parameters)}function s(M){return!!(M.axisColor&&M.negativeColor&&M.negativeColor)}function p(M){return"Icon"===M.kind}function l(M){return"ExprList"===M.kind}function m(M){return null!=M&&"ErrorRange"===M.kind}function b(M){var E=M;return null!=E?.suggestedUtterances}function V(M){if(null==M)return!1;if("ItemLocation"!==M.kind)return!1;var w=M.byReference;if(w.folderId&&!(w.folderId instanceof u.Il)||w.workspaceId&&!(w.workspaceId instanceof u.Il)||w.itemId&&!(w.itemId instanceof u.Il))return!1;var x=M.metadata;if(x){var N=x.dataFunction;if(N&&_.some(N.parameters,L=>"ValueParameter"===L.type&&!(L.value instanceof u.Il)))return!1}return!0}function g(M){return!(null==M||!M.highlights&&!M.datapoints)}function v(M){return null!=M&&"AnnotationTemplate"===M.kind}function f(M,E){y(M)?E.visitFillDefinition(M):i(M)?E.visitFillRuleDefinition(M):h(M)?E.visitParagraphs(M):s(M)?E.visitDataBarsDefinition(M):p(M)?E.visitIconDefinition(M):m(M)?E.visitErrorRangeDefinition(M):V(M)?E.visitItemLocationDefinition(M):v(M)&&E.visitAnnotationTemplateDefinition(M)}function P(M,E){return E?M?"Icon"===M.kind&&"Icon"===E.kind?{kind:"Icon",layout:null!=E.layout?E.layout:M.layout,verticalAlignment:null!=E.verticalAlignment?E.verticalAlignment:M.verticalAlignment,value:void 0!==E.value?E.value:M.value}:void a.fF.assertFail("unsupported StructuralObjectValues merging"):E:M}function D(M){return a.fF.assertValue(M,"type"),!!(M.fill||M.fillRule||M.filter||M.expression||M.image||M.paragraphs||M.geoJson||M.queryTransform||M.dataBars||M.icon||M.exprList||M.errorRange||M.qnaVisualLink||M.itemLocation||M.annotationTemplate)}},379712:function(Ce,k,r){function a(u){return!!u&&(void 0!==u.selector&&void 0!==u.propertyIdentifier)}r.d(k,{S:function(){return e},U:function(){return a}});class e{constructor(){this.references=[]}accept(t){this.references.push(t)}}},931145:function(Ce,k,r){r.d(k,{Ep:function(){return d},Ge:function(){return t},yf:function(){return n}});var a=r(939123),e=r(930746),u=r(265230),t=(()=>{class S{constructor(D,M,E,w,x,N){a.fF.assert(()=>!!D&&null!=n[D]||0===D,"type"),a.fF.assert(()=>!!M||null===M,"category"),a.fF.assert(()=>26214401!==D||!!E,"enumType"),a.fF.assert(()=>26280196!==D||!!w,"flagsEnumType"),this.underlyingType=D,this.category=M,(0,u.yE)(D,512)&&(this.temporalType=new y(D)),(0,u.yE)(D,1024)&&(this.geographyType=new i(D)),(0,u.yE)(D,2048)&&(this.miscType=new o(D,N)),(0,u.yE)(D,4096)&&(this.formattingType=new h(D)),(0,u.yE)(D,26214401)&&(this.enumType=E),(0,u.yE)(D,26280196)&&(this.flagsEnumType=w),(0,u.yE)(D,8192)&&(this.scriptingType=new C(D)),(0,u.yE)(D,16384)&&(this.referenceType=new c(D)),(0,u.yE)(D,13)&&(this.variationTypes=x)}static isValueTypeDescriptor(D){return 0!==S.fromDescriptor(D).primitiveType}static fromDescriptor(D){if((D=D||{}).scripting&&D.scripting.source)return S.fromExtendedType(32776193);if(D.enumeration)return S.fromEnum(D.enumeration);if(D.flagsEnumeration)return S.fromFlagsEnum(D.flagsEnumeration);if(D.temporal){if(D.temporal.year)return S.fromExtendedType(66308);if(D.temporal.quarter)return S.fromExtendedType(262916);if(D.temporal.month)return S.fromExtendedType(131844);if(D.temporal.day)return S.fromExtendedType(328452);if(D.temporal.paddedDateTableDate)return S.fromExtendedType(197127)}if(D.geography){if(D.geography.address)return S.fromExtendedType(6554625);if(D.geography.city)return S.fromExtendedType(6620161);if(D.geography.continent)return S.fromExtendedType(6685697);if(D.geography.country)return S.fromExtendedType(6751233);if(D.geography.county)return S.fromExtendedType(6816769);if(D.geography.region)return S.fromExtendedType(6882305);if(D.geography.postalCode)return S.fromExtendedType(6947841);if(D.geography.stateOrProvince)return S.fromExtendedType(7013377);if(D.geography.place)return S.fromExtendedType(7078913);if(D.geography.latitude)return S.fromExtendedType(7144707);if(D.geography.longitude)return S.fromExtendedType(7210243)}if(D.misc){if(D.misc.image)return S.fromExtendedType(13109259);if(D.misc.imageUrl)return S.fromExtendedType(13174785);if(D.misc.webUrl)return S.fromExtendedType(13240321);if(D.misc.barcode)return S.fromExtendedType(13305857);if(D.misc.sparkline)return S.fromSparklineType(D.misc.sparkline)}if(D.formatting){if(D.formatting.color)return S.fromExtendedType(19664897);if(D.formatting.formatString)return S.fromExtendedType(19730433);if(D.formatting.alignment)return S.fromExtendedType(20058113);if(D.formatting.labelDisplayUnits)return S.fromExtendedType(20123649);if(D.formatting.displayUnitsWithoutAuto)return S.fromExtendedType(20516865);if(D.formatting.fontFamily)return S.fromExtendedType(20385793);if(D.formatting.fontSize)return S.fromExtendedType(20189443);if(D.formatting.altText)return S.fromExtendedType(20451329);if(D.formatting.stylePreset)return S.fromExtendedType(20582401);if(D.formatting.dashArray)return S.fromExtendedType(20647937)}if(D.text)return S.fromExtendedType(1);if(D.integer)return S.fromExtendedType(260);if(D.numeric)return S.fromExtendedType(259);if(D.bool)return S.fromExtendedType(5);if(D.dateTime)return S.fromExtendedType(519);if(D.duration)return S.fromExtendedType(10);if(D.binary)return S.fromExtendedType(11);if(D.json)return S.fromExtendedType(14);if(D.none)return S.fromExtendedType(12);if(D.extendedType)return S.fromExtendedType(D.extendedType);if(D.operations&&D.operations.searchEnabled)return S.fromExtendedType(65541);if(D.reference){if(D.reference.bookmark)return S.fromExtendedType(39337985);if(D.reference.bookmarkGroup)return S.fromExtendedType(39534593);if(D.reference.section)return S.fromExtendedType(39403521);if(D.reference.perspective)return S.fromExtendedType(39469057);if(D.reference.rowRefText)return S.fromExtendedType(39600129)}if(D.variant){var M=_.map(D.variant,E=>S.fromDescriptor(E));return S.fromVariant(M)}if(D.annotationType?.datapoints){if(D.annotationType?.datapoints.text||D.annotationType?.datapoints.key)return S.fromExtendedType(1);if(D.annotationType?.datapoints.offsetX||D.annotationType?.datapoints.offsetY||D.annotationType?.datapoints.width||D.annotationType?.datapoints.height||D.annotationType?.datapoints.lastEditUTCTimestamp)return S.fromExtendedType(256)}return S.fromExtendedType(0)}static fromExtendedType(D){var M=b(D=D||0),E=function(S){if(function(S){return(S&l)===S}(S))return null;var P=n[S];if(!P)return null;var D=P.lastIndexOf("_");if(D>0){var M=P.slice(0,D);M in s&&(a.fF.assert(()=>(S&m)==(S&m),"Unexpected value for ExtendedType base member of "+S),P=M)}return P}(D);return a.fF.assert(()=>0!==M||0===D,"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),S.fromPrimitiveTypeAndCategory(M,E)}static fromPrimitiveTypeAndCategory(D,M){M=M||null;var E=(D=D||0).toString();return M&&(E+="|"+M),S.typeCache[E]||(S.typeCache[E]=new S(function(S,P){var D=d[S],M=s[D];if(null==M&&(a.fF.assertFail("Unexpected primitiveType "+S),M=0),S&&P){var E=s[P];if(E){var w=b(E);0===w?n[E|=M]&&(a.fF.assert(()=>n[E]===P+"_"+D,"Unexpected name for ExtendedType member "+E),M=E):w===S&&(M=E)}}return M}(D,M),M))}static fromEnum(D){return a.fF.assertValue(D,"enumType"),new S(26214401,null,D)}static fromFlagsEnum(D){return a.fF.assertValue(D,"enumType"),new S(26280196,null,null,D)}static fromVariant(D){return a.fF.assertValue(D,"variantTypes"),new S(13,null,null,null,D)}static fromSparklineType(D){return new S(13371406,"Sparkline",null,null,null,D)}static isCompatibleFromAny(D,M,E){a.fF.assertValue(D,"type"),a.fF.assertValue(M,"otherType");var w=S.fromDescriptor(D);return!!S.isCompatibleTo(w,[M],E)||w&&w.isCompatibleFrom(S.fromDescriptor(M),E)}static isCompatibleTo(D,M,E){a.fF.assertValue(D,"type"),a.fF.assertValue(M,"otherTypes");var w=S.fromDescriptor(D);for(var x of M)if(S.fromDescriptor(x).isCompatibleFrom(w,E))return!0;return!1}isCompatibleFrom(D,M){if(a.fF.assertValue(D,"other"),this===D)return!0;if(D.variant)for(var E of D.variant)if(!this.isCompatibleFrom(E,M))return!1;if(this.variant)for(var w of this.variant)if(w.isCompatibleFrom(D,M))return!0;var x=D.primitiveType;return this.primitiveType===x||0===x||this.numeric&&D.numeric&&(!M||!this.integer||D.integer)}equals(D){return _.isEqual(this,D)}get primitiveType(){return b(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return 1===this.primitiveType}get numeric(){return(0,u.yE)(this.underlyingType,256)}get integer(){return 4===this.primitiveType}get bool(){return 5===this.primitiveType}get dateTime(){return 7===this.primitiveType||6===this.primitiveType||9===this.primitiveType}get duration(){return 10===this.primitiveType}get binary(){return 11===this.primitiveType}get json(){return 14===this.primitiveType}get none(){return 12===this.primitiveType}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enum(){return this.enumType}get flagsEnum(){return this.flagsEnumType}get scripting(){return this.scriptingType}get reference(){return this.referenceType}get variant(){return this.variationTypes}}return S.typeCache={},S})();(0,e.y)(t.prototype);class C{constructor(P){a.fF.assert(()=>!!P&&(0,u.yE)(P,8192),"type"),this.underlyingType=P}get source(){return f(this.underlyingType,32776193)}}class y{constructor(P){a.fF.assert(()=>!!P&&(0,u.yE)(P,512),"type"),this.underlyingType=P}get year(){return f(this.underlyingType,66048)}get quarter(){return f(this.underlyingType,262656)}get month(){return f(this.underlyingType,131584)}get day(){return f(this.underlyingType,328192)}get paddedDateTableDate(){return f(this.underlyingType,197127)}}class i{constructor(P){a.fF.assert(()=>!!P&&(0,u.yE)(P,1024),"type"),this.underlyingType=P}get address(){return f(this.underlyingType,6554625)}get city(){return f(this.underlyingType,6620161)}get continent(){return f(this.underlyingType,6685697)}get country(){return f(this.underlyingType,6751233)}get county(){return f(this.underlyingType,6816769)}get region(){return f(this.underlyingType,6882305)}get postalCode(){return f(this.underlyingType,6947840)}get stateOrProvince(){return f(this.underlyingType,7013377)}get place(){return f(this.underlyingType,7078913)}get latitude(){return f(this.underlyingType,7144448)}get longitude(){return f(this.underlyingType,7209984)}}class o{constructor(P,D){a.fF.assert(()=>!!P&&(0,u.yE)(P,2048),"type"),this.underlyingType=P,this.sparklineType=D}get image(){return f(this.underlyingType,13109259)}get imageUrl(){return f(this.underlyingType,13174785)}get webUrl(){return f(this.underlyingType,13240321)}get barcode(){return f(this.underlyingType,13305856)}get sparkline(){if(f(this.underlyingType,13371406))return this.sparklineType}}Object.getOwnPropertyNames(o.prototype).forEach(S=>{"constructor"!==S&&Object.defineProperty(o.prototype,S,{enumerable:!0})});class c{constructor(P){a.fF.assert(()=>!!P&&(0,u.yE)(P,16384),"type"),this.underlyingType=P}get bookmark(){return f(this.underlyingType,39337985)}get bookmarkGroup(){return f(this.underlyingType,39534593)}get section(){return f(this.underlyingType,39403521)}get perspective(){return f(this.underlyingType,39469057)}get rowRefText(){return f(this.underlyingType,39600129)}}class h{constructor(P){a.fF.assert(()=>!!P&&(0,u.yE)(P,4096),"type"),this.underlyingType=P}get color(){return f(this.underlyingType,19664897)}get formatString(){return f(this.underlyingType,19730433)}get alignment(){return f(this.underlyingType,20058113)}get labelDisplayUnits(){return f(this.underlyingType,20123649)}get displayUnitsWithoutAuto(){return f(this.underlyingType,20516865)}get fontFamily(){return f(this.underlyingType,20385793)}get fontSize(){return f(this.underlyingType,20189443)}get altText(){return f(this.underlyingType,20451329)}get stylePreset(){return f(this.underlyingType,20582401)}get dashArray(){return f(this.underlyingType,20647937)}}Object.getOwnPropertyNames(h.prototype).forEach(S=>{"constructor"!==S&&Object.defineProperty(h.prototype,S,{enumerable:!0})});var d={0:"Null",1:"Text",2:"Decimal",3:"Double",4:"Integer",5:"Boolean",6:"Date",7:"DateTime",8:"DateTimeZone",9:"Time",10:"Duration",11:"Binary",12:"None",13:"Variant",14:"Json"},n={256:"Numeric",512:"Temporal",1024:"Geography",2048:"Miscellaneous",4096:"Formatting",8192:"Scripting",0:"Null",1:"Text",258:"Decimal",259:"Double",260:"Integer",5:"Boolean",518:"Date",519:"DateTime",520:"DateTimeZone",521:"Time",10:"Duration",11:"Binary",12:"None",13:"Variant",66048:"Years",66049:"Years_Text",66308:"Years_Integer",66054:"Years_Date",66055:"Years_DateTime",131584:"Months",131585:"Months_Text",131844:"Months_Integer",131590:"Months_Date",131591:"Months_DateTime",197127:"PaddedDateTableDates",262656:"Quarters",262657:"Quarters_Text",262916:"Quarters_Integer",262662:"Quarters_Date",262663:"Quarters_DateTime",328192:"DayOfMonth",328193:"DayOfMonth_Text",328452:"DayOfMonth_Integer",328198:"DayOfMonth_Date",328199:"DayOfMonth_DateTime",6554625:"Address",6620161:"City",6685697:"Continent",6751233:"Country",6816769:"County",6882305:"Region",6947840:"PostalCode",6947841:"PostalCode_Text",6948100:"PostalCode_Integer",7013377:"StateOrProvince",7078913:"Place",7144448:"Latitude",7144706:"Latitude_Decimal",7144707:"Latitude_Double",7209984:"Longitude",7210242:"Longitude_Decimal",7210243:"Longitude_Double",13109259:"Image",13174785:"ImageUrl",13240321:"WebUrl",13305856:"Barcode",13305857:"Barcode_Text",13306116:"Barcode_Integer",19664897:"Color",19730433:"FormatString",20058113:"Alignment",20123649:"LabelDisplayUnits",20516865:"DisplayUnitsWithoutAuto",20385793:"FontFamily",20451329:"AltText",20189443:"FontSize",26214401:"Enumeration",26280196:"FlagsEnumeration",32776193:"ScriptSource",65541:"SearchEnabled",39337985:"BookmarkRef",39534593:"BookmarkGroupRef",39403521:"SectionRef",20582401:"StylePreset",20647937:"DashArray",39469057:"PerspectiveRef",16384:"Reference",14:"Json",13371406:"Sparkline",39600129:"RowRefText"},s={Numeric:256,Temporal:512,Geography:1024,Miscellaneous:2048,Formatting:4096,Scripting:8192,Null:0,Text:1,Decimal:258,Double:259,Integer:260,Boolean:5,Date:518,DateTime:519,DateTimeZone:520,Time:521,Duration:10,Binary:11,None:12,Variant:13,Years:66048,Years_Text:66049,Years_Integer:66308,Years_Date:66054,Years_DateTime:66055,Months:131584,Months_Text:131585,Months_Integer:131844,Months_Date:131590,Months_DateTime:131591,PaddedDateTableDates:197127,Quarters:262656,Quarters_Text:262657,Quarters_Integer:262916,Quarters_Date:262662,Quarters_DateTime:262663,DayOfMonth:328192,DayOfMonth_Text:328193,DayOfMonth_Integer:328452,DayOfMonth_Date:328198,DayOfMonth_DateTime:328199,Address:6554625,City:6620161,Continent:6685697,Country:6751233,County:6816769,Region:6882305,PostalCode:6947840,PostalCode_Text:6947841,PostalCode_Integer:6948100,StateOrProvince:7013377,Place:7078913,Latitude:7144448,Latitude_Decimal:7144706,Latitude_Double:7144707,Longitude:7209984,Longitude_Decimal:7210242,Longitude_Double:7210243,Image:13109259,ImageUrl:13174785,WebUrl:13240321,Barcode:13305856,Barcode_Text:13305857,Barcode_Integer:13306116,Color:19664897,FormatString:19730433,Alignment:20058113,LabelDisplayUnits:20123649,DisplayUnitsWithoutAuto:20516865,FontFamily:20385793,AltText:20451329,FontSize:20189443,Enumeration:26214401,FlagsEnumeration:26280196,ScriptSource:32776193,SearchEnabled:65541,BookmarkRef:39337985,BookmarkGroupRef:39534593,SectionRef:39403521,StylePreset:20582401,DashArray:20647937,PerspectiveRef:39469057,Reference:16384,Json:14,Sparkline:13371406,RowRefText:39600129},p=255,l=65535,m=4294901760;function b(S){return S&p}function f(S,P){return(S&m)==(P&m)}},571594:function(Ce,k,r){r.d(k,{L:function(){return a}});var a=(()=>{class e{constructor(t){this.options=t,this.flow=void 0,this.options=_.defaults(t,{duration:250,easing:d3.easeCubicInOut,suppressed:!1,suppressFullToFull:!0}),this.options.duration=Math.max(0,this.options.duration)}get duration(){return this.suppressed?0:this.options.duration}get suppressed(){return this.options.suppressed}get easing(){return this.options.easing}get isActive(){return this.duration>0}get isSuppressed(){return this.suppressed}suppress(t=!0){return this.options.suppressed=t,this}transition(t,C){return this.isActive?t.transition().duration(this.duration).ease(this.easing):C?t.interrupt():t}transitionForced(t){return t.transition().duration(this.duration).ease(this.easing)}FullToHighlighted(){return this.isHighlighted()&&!this.wasHighlighted()}HighlightedToFull(){return this.wasHighlighted()&&!this.isHighlighted()}HighlightedToHighlighted(){return this.wasHighlighted()&&this.isHighlighted()}FullToFull(){return!this.wasHighlighted()&&!this.isHighlighted()}hasSelection(){return!!(this.flow&e.Bit_HasSelection)}hadSelection(){return!!(this.flow&e.Bit_HasSelection<<e.BitArraySize)}isHighlighted(){return!!(this.flow&e.Bit_Highlighted)}wasHighlighted(){return!!(this.flow&e.Bit_Highlighted<<e.BitArraySize)}highlightOverflows(){return!!(this.flow&e.Bit_HighlightOverflows)}didHighlightOverflow(){return!!(this.flow&e.Bit_HighlightOverflows<<e.BitArraySize)}isFiltered(){return!!(this.flow&e.Bit_Filtered)}wasFiltered(){return!!(this.flow&e.Bit_Filtered<<e.BitArraySize)}advanceFlow(t=!1,C=!1,y,i=!1){this.suppress(t||null===this.flow||this.didHighlightOverflow()||i),this.flow=this.flow<<e.BitArraySize|(C&&e.Bit_Highlighted)|(i&&e.Bit_HighlightOverflows)|(y?.hasSelection()&&e.Bit_HasSelection),this.options.suppressFullToFull&&this.FullToFull()&&this.suppress(!0)}}return e.BitArraySize=16,e.Bit_Highlighted=1,e.Bit_HighlightOverflows=2,e.Bit_HasSelection=4,e.Bit_Filtered=8,e})()},444667:function(Ce,k,r){r.d(k,{Mb:function(){return u},dt:function(){return e},r5:function(){return t}});var e=1e3;function u(C,y){return y||!C?0:C.getDuration()}class t{constructor(y){y&&y.duration&&(this.animationDuration=y.duration),this.animationDuration=this.animationDuration>=0?this.animationDuration:250}getDuration(){return this.animationDuration}animate(y){return null}getEasing(){return d3.easeCubicInOut}}},821521:function(Ce,k,r){r.d(k,{B9:function(){return l},EK:function(){return o},aH:function(){return c},k6:function(){return i},kx:function(){return h},mx:function(){return y}});var a=r(438043),e=r(668294),u=r(430945),t=r(245388),C=r(963993);function y(m){return m&&m.buttonTileFormatting?n:p}var i={fill:C.OV.fill,outline:C.OV.outline,text:t.nm.text,icon:t.nm.icon,shape:C.OV.shape,shadow:C.OV.shadow,glow:C.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},o={fill:C.eM.fill,outline:C.eM.outline,text:t.Vz.text,icon:t.Vz.icon,shape:C.eM.shape,shadow:C.eM.shadow,glow:C.eM.glow,rotation:"rotation"},c={...C.Mn,...t.WI,rotation:"angle"},h={default:"default",hover:"hover",selected:"selected",disabled:"disabled",loading:"loading"},n={objects:{[o.fill]:C.zC.fill,[o.outline]:C.zC.outline,[o.text]:t.p.text,[o.icon]:t.p.icon,[o.shape]:C.zC.shape,[o.shadow]:C.zC.shadow,[o.glow]:C.zC.glow,[o.rotation]:{displayName:(0,a.V)("Visual_BasicShape_Rotate"),properties:{[c.rotation]:u.iD.genericRotation,[c.shapeRotation]:u.iD.shapeRotation,[c.textRotation]:u.iD.textRotation}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},p={objects:{text:{displayName:(0,a.V)("ActionButton_Text"),properties:{show:u.iD.show,text:{displayName:(0,a.V)("ActionButton_Text"),type:{text:!0},suppressFormatPainterCopy:!0},...u.KG,padding:{displayName:(0,a.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:u.iD.verticalAlignment,horizontalAlignment:u.iD.horizontalAlignment}},icon:{displayName:(0,a.V)("Icon"),properties:{show:u.iD.show,shapeType:{displayName:(0,a.V)("BasicShape_ToolTip"),type:{enumeration:e.i}},padding:{displayName:(0,a.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:u.iD.verticalAlignment,horizontalAlignment:u.iD.horizontalAlignment,lineColor:u.iD.lineColor,lineWeight:{displayName:(0,a.V)("Visual_BasicShape_Weight"),type:{integer:!0}},lineTransparency:u.iD.lineTransparency}},outline:{displayName:(0,a.V)("Visual_Outline"),properties:{show:u.iD.show,lineColor:u.iD.outlineColor,transparency:u.iD.lineTransparency,weight:u.iD.outlineWeight,roundEdge:{displayName:(0,a.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,a.V)("Visual_Fill"),properties:{show:u.iD.show,fillColor:{displayName:(0,a.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:u.iD.backgroundTransparency,image:u.iD.image}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},l={text:{show:{objectName:"text",propertyName:"show"},text:{objectName:"text",propertyName:"text"},fontColor:{objectName:"text",propertyName:"fontColor"},padding:{objectName:"text",propertyName:"padding"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},bold:{objectName:"text",propertyName:"bold"},italic:{objectName:"text",propertyName:"italic"},underline:{objectName:"text",propertyName:"underline"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},padding:{objectName:"icon",propertyName:"padding"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},fillColor:{objectName:"icon",propertyName:"fillColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},transparency:{objectName:"outline",propertyName:"transparency"},weight:{objectName:"outline",propertyName:"weight"},roundEdge:{objectName:"outline",propertyName:"roundEdge"}},fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}}}},918818:function(Ce,k,r){r.d(k,{$u:function(){return E},B0:function(){return d},O:function(){return v},P8:function(){return L},R9:function(){return n},VD:function(){return B},d1:function(){return N},yD:function(){return w}});var a=r(454865),e=r(438043),u=r(937779),t=r(3230),C=r(430945),y=r(900222),i=r(963993),o=r(134840),c=r(124463),h=r(775888),d={Tooltips:"Tooltips"},n={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:i.eM.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:i.eM.outline,shapeCustomRectangle:i.eM.shapeCustomRectangle,layout:"layout",shadowCustom:i.eM.shadowCustom,glowCustom:i.eM.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent",indentation:"indentation",reverseIndentation:"reverseIndentation",containerIndentation:"containerIndentation",fixedButtonsCount:"fixedButtonsCount"},s={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}},layout:{...i.OV.layout,style:{objectName:"layout",propertyName:"style"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"}},selectionIcon:{color:{objectName:"selectionIcon",propertyName:"color"},overlayPosition:{objectName:"selectionIcon",propertyName:"overlayPosition"},overlayToggle:{objectName:"selectionIcon",propertyName:"overlayToggle"},position:{objectName:"selectionIcon",propertyName:"position"},size:{objectName:"selectionIcon",propertyName:"size"},show:{objectName:"selectionIcon",propertyName:"show"},showIconByState:{objectName:"selectionIcon",propertyName:"showIconByState"},spacing:{objectName:"selectionIcon",propertyName:"spacing"},transparency:{objectName:"selectionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"selectionIcon",propertyName:"verticalAlignment"}},expansionIcon:{color:{objectName:"expansionIcon",propertyName:"color"},position:{objectName:"expansionIcon",propertyName:"position"},size:{objectName:"expansionIcon",propertyName:"size"},spacing:{objectName:"expansionIcon",propertyName:"spacing"},transparency:{objectName:"expansionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"expansionIcon",propertyName:"verticalAlignment"}}},p={show:C.iD.show,[n.iconType]:{displayName:(0,e.V)("Button_Icon_Type"),type:{enumeration:u.j}},[n.icon]:C.iD.image,[n.iconUrl]:{displayName:(0,e.V)("Image_Url"),type:{text:!0}},[n.transparency]:C.iD.backgroundTransparency,[n.position]:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:t.CX}},[n.padding]:{displayName:(0,e.V)("Visual_Padding"),type:{integer:!0}},[n.size]:{displayName:(0,e.V)("Visual_BubbleSize"),type:{integer:!0}},[n.altText]:{displayName:(0,e.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}}},l={show:C.iD.show,[n.color]:C.iD.fill,[n.transparency]:C.iD.backgroundTransparency,[n.wrapContent]:{displayName:(0,e.V)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}}},m=(I,W)=>({[n.image]:{displayName:(0,e.V)("Field"),type:{variant:[{text:!0}]}},[n.imageFit]:{displayName:(0,e.V)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:o.H}},[n.transparency]:C.iD.backgroundTransparency,[n.position]:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:W?.advancedSlicerTypeList&&I===h.y.List?V:t.CX}},[n.saturation]:{displayName:(0,e.V)("Visual_Saturation"),type:{integer:!0}},[n.blur]:{displayName:(0,e.V)("Visual_DropShadow_Blur"),type:{integer:!0}},[n.ignorePadding]:{displayName:(0,e.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},[n.setAsBackGround]:{displayName:(0,e.V)("Visual_SetAsBackGround"),type:{bool:!0}},[n.padding]:{displayName:(0,e.V)("Visual_Space_Between_Image"),type:{integer:!0}},[n.imageAreaSize]:{displayName:(0,e.V)("Visual_Image_Area_Size"),type:{integer:!0}}}),b=(0,c.i)([{value:"topLeft",displayName:I=>I.get("Visual_LabelPosition_TopLeft")},{value:"topCenter",displayName:I=>I.get("Visual_LabelPosition_TopCenter")},{value:"topRight",displayName:I=>I.get("Visual_LabelPosition_TopRight")},{value:"middleLeft",displayName:I=>I.get("Visual_LabelPosition_MiddleLeft")},{value:"middleRight",displayName:I=>I.get("Visual_LabelPosition_MiddleRight")},{value:"bottomLeft",displayName:I=>I.get("Visual_LabelPosition_BottomLeft")},{value:"bottomCenter",displayName:I=>I.get("Visual_LabelPosition_BottomCenter")},{value:"bottomRight",displayName:I=>I.get("Visual_LabelPosition_BottomRight")}]),V=(0,c.i)([{value:t.zw.left,displayName:I=>I.get("Visual_TextAlignment_Left")},{value:t.zw.right,displayName:I=>I.get("Visual_TextAlignment_Right")}]),g={displayName:(0,e.V)("Role_DisplayName_Values"),properties:{...i.zC.value.properties,[n.verticalAlignment]:C.iD.verticalAlignment}};function v(I,W){return I=I??h.y.Tile,{dataRoles:[{name:y.CT.value,kind:a.DW.Grouping,displayName:(0,e.V)("Field"),description:(0,e.V)("Role_DisplayName_FieldDescription")},{name:d.Tooltips,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description")}],objects:M(I,W),dataViewMappings:D(I,W),drilldown:S(I,W),expandCollapse:P(I,W),tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:[d.Tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,keepAllMetadataColumns:!0}}function f(I){var W=i.zC.layout;return I===h.y.List&&(W={displayName:W.displayName,properties:{...W.properties,[n.indentation]:{displayName:(0,e.V)("Visual_PivotTable_Indentation"),type:{integer:!0}},[n.reverseIndentation]:{displayName:(0,e.V)("Visual_ReverseIndentation"),type:{bool:!0}},[n.containerIndentation]:{displayName:(0,e.V)("Visual_ContainerIndentation"),type:{bool:!0}},[n.fixedButtonsCount]:{displayName:(0,e.V)("Visual_FixedButtonsCount"),type:{bool:!0}}}}),W}function S(I,W){if(W?.advancedSlicerTypeList&&I===h.y.List)return{roles:[y.CT.value],suppresDrillOperations:!0}}function P(I,W){if(W?.advancedSlicerTypeList&&I===h.y.List)return{roles:[y.CT.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!0}}function D(I,W){var O=[];return O.push(W?.advancedSlicerTypeList&&I===h.y.List?{conditions:[{[y.CT.value]:{min:1,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:y.CT.value},dataReductionAlgorithm:{window:{count:500}}},values:{select:[{for:{in:d.Tooltips}}]},includeEmptyGroups:!0}}:{conditions:[{[y.CT.value]:{max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:y.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:d.Tooltips}}]},includeEmptyGroups:!0}}),O}function M(I,W){var O={general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:C.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},[n.fill]:i.zC.fillCustom,[n.outline]:i.zC.outline,[i.eM.value]:g,[i.eM.label]:x(i.zC.label),[n.shapeCustomRectangle]:i.zC.shapeCustomRectangle,[n.layout]:f(I),[i.eM.overFlow]:i.zC.overFlow,[n.shadowCustom]:i.zC.shadowCustom,[n.glowCustom]:i.zC.glowCustom,[n.rotation]:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),properties:{[n.angle]:C.iD.genericRotation,[n.shapeRotation]:C.iD.shapeRotation,[n.textRotation]:C.iD.textRotation}},[n.spacing]:i.zC.spacing,[n.padding]:i.zC.padding,[n.accentBar]:i.zC.accentBar,[n.icon]:{displayName:(0,e.V)("Icon"),properties:p},[n.image]:{displayName:(0,e.V)("Image"),properties:m(I,W)},[n.background]:{displayName:(0,e.V)("Visual_Background"),properties:l},selection:{displayName:(0,e.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,e.V)("Visual_SelectAll"),description:(0,e.V)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,e.V)("Visual_ForceSelection"),description:(0,e.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,e.V)("Visual_StrictSingleSelect"),description:(0,e.V)("Visual_StrictSingleSelect"),type:{bool:!0}}}},data:{suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selectionIcon:{displayName:(0,e.V)("Visual_SelectionIcon_Label"),properties:{color:C.iD.genericColor,overlayPosition:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:b}},overlayToggle:{displayName:(0,e.V)("Visual_Overlay"),type:{bool:!0}},position:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:V}},size:{displayName:(0,e.V)("Visual_BubbleSize"),type:{integer:!0}},show:C.iD.show,showIconByState:C.iD.show,spacing:{displayName:(0,e.V)("Visual_Spacing"),type:{integer:!0}},transparency:C.iD.genericTransparency,verticalAlignment:C.iD.verticalAlignment}}};return I===h.y.List&&(O.expansionIcon={displayName:(0,e.V)("Slicer_ExpandCollapse_Toggle"),properties:{color:C.iD.genericColor,position:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:V}},size:{displayName:(0,e.V)("Visual_BubbleSize"),type:{integer:!0}},spacing:{displayName:(0,e.V)("Visual_Spacing"),type:{integer:!0}},transparency:C.iD.genericTransparency,verticalAlignment:{displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}}}}),O}var E={...i.OV.value,verticalAlignment:{objectName:"value",propertyName:"verticalAlignment"}},w={general:{formatString:C.e0.formatString},fillCustom:i.OV.fillCustom,outline:i.OV.outline,value:E,label:i.OV.label,shapeCustomRectangle:i.OV.shapeCustomRectangle,layout:s.layout,shadowCustom:i.OV.shadowCustom,glowCustom:i.OV.glowCustom,spacing:i.OV.spacing,padding:i.OV.padding,accentBar:i.OV.accentBar,icon:s.icon,image:s.image,overFlow:i.OV.overFlow,background:s.background,selection:{advancedSlicerType:{objectName:"selection",propertyName:"type"}},selectionIcon:s.selectionIcon,expansionIcon:s.expansionIcon};function x(I){var W=_.cloneDeep(I);return delete W.properties[i.Mn.text],W.properties[n.field]={displayName:(0,e.V)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},W}var N={default:"default",hover:"hover",press:"press",selected:"selected",mixed:"mixed"},L={hover:"hover",press:"press",rest:"rest",disabled:"disabled"},B={mixed:"mixed",selected:"selected",unselected:"unselected",default:"default"}},559742:function(Ce,k,r){r.d(k,{Tf:function(){return t},w$:function(){return y}});var a=r(160590),e=r(438043),u=r(430945);function t(){return C}var C={objects:{userPrompt:{properties:{text:{displayName:(0,e.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,e.V)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:u.iD.fontColor,fontSize:u.iD.fontSize,fontFamily:u.iD.fontFamily,textAlignment:u.iD.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1},y=(0,a.wZ)(C.objects)},875757:function(Ce,k,r){r.d(k,{$E:function(){return g},DQ:function(){return V},Do:function(){return b},Wx:function(){return o},a:function(){return c},azureMapProps:function(){return D}});var a=r(454865),e=r(438043),u=r(124463),t=r(107057),C=r(252582),y=r(946056),i=r(430945),o={pathID:"PathID",category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips",pointOrder:"PointOrder"},c={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},h=(0,u.i)([{value:c.road,displayName:(0,e.V)("Visual_MapThemeRoad")},{value:c.satellite,displayName:(0,e.V)("Visual_AzureMapsSatelliteStyle")},{value:c.satelliteRoadLabels,displayName:(0,e.V)("ContentList_Datasets_Hybrid")},{value:c.grayscaleDark,displayName:(0,e.V)("Visual_AzureMapsGrayScaleDarkStyle")},{value:c.night,displayName:(0,e.V)("Visual_AzureMapsNightStyle")},{value:c.grayscaleLight,displayName:(0,e.V)("Visual_AzureMapsGrayScaleLightStyle")},{value:c.roadShadedRelief,displayName:(0,e.V)("Visual_AzureMapsTerraStyle")},{value:c.blank,displayName:(0,e.V)("ReportAppBar_Blank")},{value:c.blankAccessible,displayName:(0,e.V)("Visual_AzureMapsBlankAccessibleStyle")},{value:c.highContrastDark,displayName:(0,e.V)("Visual_AzureMapsHighContrastDarkStyle")},{value:c.highContrastLight,displayName:(0,e.V)("Visual_AzureMapsHighContrastLightStyle")}]),d=(0,u.i)([{value:0,displayName:(0,e.V)("Visual_AzureMapsBoxShape")},{value:1,displayName:(0,e.V)("Visual_AzureMapsCylinderShape")}]),n=(0,u.i)([{value:0,displayName:(0,e.V)("Visual_Axis_Linear")},{value:1,displayName:(0,e.V)("Visual_Axis_Log")},{value:2,displayName:(0,e.V)("Visual_AzureMapsCubicBezier")}]),s=(0,u.i)([{value:"map",displayName:(0,e.V)("Visual_ShapeMap_Map")},{value:"viewport",displayName:(0,e.V)("Visual_AzureMapsViewport")}]),p=(0,u.i)([{value:"",displayName:(0,e.V)("Visual_AzureMapsLayerAboveLabels")},{value:"labels",displayName:(0,e.V)("Visual_AzureMapsLayerBelowLabels")},{value:"transit",displayName:(0,e.V)("Visual_AzureMapsLayerBelowRoads")}]),l=(0,u.i)([{value:"pixels",displayName:M=>M.get("Generic_Pixels")},{value:"meters",displayName:M=>M.get("Visual_MapUnitMeters")}]),m=(0,u.i)([{value:"url",displayName:(0,e.V)("Url")},{value:"file_upload",displayName:(0,e.V)("Visual_AzureMapsFileUpload")}]),b={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap",pathLayer:"pathLayer"},V={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius",clusteredBubbleFillColor:"clusteredBubbleFillColor",clusteredBubbleFontSize:"clusteredBubbleFontSize",clusteredBubbleFontColor:"clusteredBubbleFontColor",clusteredBubbleStrokeColor:"clusteredBubbleStrokeColor",clusteredBubbleStrokeWidth:"clusteredBubbleStrokeWidth",datasourceType:"datasourceType",referenceLayerUrl:"referenceLayerUrl",bubbleFillColor:"bubbleFillColor",bubbleStrokeColor:"bubbleStrokeColor",bubbleStrokeTransparency:"bubbleStrokeTransparency",lineStrokeColor:"lineStrokeColor",lineStrokeWidth:"lineStrokeWidth",lineStrokeTransparency:"lineStrokeTransparency",polygonFillColor:"polygonFillColor",polygonStrokeColor:"polygonStrokeColor",polygonStrokeWidth:"polygonStrokeWidth",polygonStrokeTransparency:"polygonStrokeTransparency",unmappedObjectFillColor:"unmappedObjectFillColor",unmappedObjectStrokeColor:"unmappedObjectStrokeColor",dataSource:"dataSource",point:"point",line:"line",polygon:"polygon",unmappedObject:"unmappedObject",unmappedObjectVisibility:"unmappedObjectVisibility",unmappedObjectUseCustomColors:"unmappedObjectUseCustomColors"};function g(M){return{dataRoles:v(M),objects:f(M),dataViewMappings:S(M),visualShapeDataViewMappings:[{conditions:[{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{min:1,max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1}},{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{min:1,max:1,kind:a.DW.Measure},[o.size]:{max:1}},{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{min:1,max:1}},{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1},[o.tooltips]:{min:1}},{[o.category]:{min:1},[o.series]:{max:0},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1}},{[o.category]:{min:1},[o.series]:{max:1,min:1},[o.x]:{max:0},[o.y]:{max:0},[o.size]:{max:0},[o.tooltips]:{max:0}}],matrix:{rows:{select:[{bind:{to:o.category}}]},columns:{for:{in:o.series}},values:{select:[{bind:{to:o.x}},{bind:{to:o.y}},{bind:{to:o.size}},{for:{in:o.tooltips}}]}}},{conditions:[{[o.category]:{max:0},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Grouping},[o.y]:{max:1,kind:a.DW.Grouping},[o.size]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:o.x}},{for:{in:o.y}}]}]},columns:{for:{in:o.series}},values:{select:[{bind:{to:o.size}},{for:{in:o.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[...M?.azureMapsPathLayer?[{role:o.pointOrder,direction:1}]:[],{role:o.size,direction:2}]}},drilldown:{roles:[o.category],...M?.azureMapsPathLayer?{canDisableDrill:{}}:{}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0,suppressVisualCalc:!M?.enableCalculationScatterChartMap}}function v(M){var E=[{name:o.y,kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)("Role_DisplayName_Latitude"),description:(0,e.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:o.x,kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)("Role_DisplayName_Longitude"),description:(0,e.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:o.series,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Legend"),description:(0,e.V)("Role_DisplayName_LegendDescription")},{name:o.size,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Size"),description:(0,e.V)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:o.tooltips,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description"),joinPredicate:0}];return M?.azureMapsGeocoding&&E.unshift({name:o.category,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Location"),description:(0,e.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),M?.azureMapsPathLayer&&E.push({name:o.pathID,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_PathID"),description:(0,e.V)("Role_DisplayName_PathIDMapDescription"),disallowedWithVisualCalculations:!0},{name:o.pointOrder,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_PointOrder"),description:(0,e.V)("Role_DisplayName_PointOrderDescription"),preferredTypes:[{numeric:!0},{integer:!0},{dateTime:!0}],disallowedWithVisualCalculations:!0}),E}function f(M){var E={general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:i.iD.formatString}},legend:i.TQ.legend,dataPoint:{displayName:(0,e.V)("Visual_DataPoint"),description:(0,e.V)("Visual_DataPointDescription"),properties:{showAllDataPoints:i.iD.showAllDataPoints,fill:i.iD.genericColor}},labels:{displayName:(0,e.V)("Visual_DataPointsLabels"),properties:{show:i.iD.show,color:i.iD.dataColor,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision}},[b.mapControls]:{displayName:(0,e.V)("Visual_AzureMapsMapSettings"),description:(0,e.V)("Visual_MapControlsDescription"),properties:{[V.defaultStyle]:{displayName:(0,e.V)("Visual_AzureMapsDefaultStyle"),description:(0,e.V)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:h}},[V.showStylePicker]:{displayName:(0,e.V)("Visual_AzureMapsStylePicker"),description:(0,e.V)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},[V.showLabels]:{displayName:(0,e.V)("Visual_MapShowLabels"),description:(0,e.V)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},[V.showNavigationControls]:{displayName:(0,e.V)("Visual_AzureMapsNavigationControls"),description:(0,e.V)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},[V.zoom]:{displayName:(0,e.V)("Visual_ShapeMap_Zoom"),description:(0,e.V)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},[V.centerLatitude]:{displayName:(0,e.V)("Visual_AzureMapsCenterLatitude"),description:(0,e.V)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},[V.centerLongitude]:{displayName:(0,e.V)("Visual_AzureMapsCenterLongitude"),description:(0,e.V)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},[V.heading]:{displayName:(0,e.V)("Visual_AzureMapsHeading"),description:(0,e.V)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},[V.pitch]:{displayName:(0,e.V)("Visual_AzureMapsPitch"),description:(0,e.V)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},[V.autoZoom]:{displayName:(0,e.V)("Visual_AutoZoom"),description:(0,e.V)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},[V.worldWrap]:{displayName:(0,e.V)("Visual_AzureMapsWorldWrap"),description:(0,e.V)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},[V.showSelectionControl]:{displayName:(0,e.V)("Visual_AzureMapsSelectionControl"),description:(0,e.V)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}}}},[b.filledMap]:{displayName:(0,e.V)("FilledMap_ToolTip"),description:(0,e.V)("Visual_AzureMapsFilledMapDescription"),properties:{show:i.iD.show,[V.defaultColor]:{displayName:(0,e.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},[V.mapTransparency]:{displayName:(0,e.V)("Visual_Fill_Transparency"),type:{numeric:!0}},[V.strokeColor]:{displayName:(0,e.V)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},[V.strokeTransparency]:{displayName:(0,e.V)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},[V.strokeWidth]:{displayName:(0,e.V)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},[V.minZoom]:{displayName:(0,e.V)("Visual_AzureMapsMinZoom"),description:(0,e.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[V.maxZoom]:{displayName:(0,e.V)("Visual_AzureMapsMaxZoom"),description:(0,e.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[V.layerPosition]:{displayName:(0,e.V)("Visual_AzureMapsLayerPosition"),description:(0,e.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:p}}}},[b.bubbleLayer]:{displayName:(0,e.V)("Visual_Bubbles"),description:(0,e.V)("Visual_BubblesDescription"),properties:{show:i.iD.show,[V.mapTransparency]:{displayName:(0,e.V)("Visual_Fill_Transparency"),description:(0,e.V)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},[V.bubbleRadius]:{displayName:(0,e.V)("Visual_BubbleSize"),description:(0,e.V)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},[V.minBubbleRadius]:{displayName:(0,e.V)("Visual_AzureMapsMinBubbleRadius"),description:(0,e.V)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},[V.markerRangeType]:{displayName:(0,e.V)("Visual_MarkerRangeType"),description:(0,e.V)("Visual_MarkerRangeType"),type:{enumeration:C.v6}},[V.radiusScalingMethod]:{displayName:(0,e.V)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,e.V)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:n}},[V.maxRadius]:{displayName:(0,e.V)("Visual_AzureMapsBubbleMaxRadius"),description:(0,e.V)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},[V.logScale]:{displayName:(0,e.V)("Visual_AzureMapsLogScale"),description:(0,e.V)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},[V.x1]:{displayName:(0,e.V)("Visual_AzureMapsX1"),description:(0,e.V)("Visual_AzureMapsX1Description"),type:{numeric:!0}},[V.x2]:{displayName:(0,e.V)("Visual_AzureMapsX2"),description:(0,e.V)("Visual_AzureMapsX2Description"),type:{numeric:!0}},[V.y1]:{displayName:(0,e.V)("Visual_AzureMapsY1"),description:(0,e.V)("Visual_AzureMapsY1Description"),type:{numeric:!0}},[V.y2]:{displayName:(0,e.V)("Visual_AzureMapsY2"),description:(0,e.V)("Visual_AzureMapsY2Description"),type:{numeric:!0}},[V.strokeColor]:{displayName:(0,e.V)("Visual_OutlineColor"),description:(0,e.V)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},[V.autoStrokeColor]:{displayName:(0,e.V)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,e.V)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},[V.strokeTransparency]:{displayName:(0,e.V)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,e.V)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},[V.bubbleStrokeWidth]:{displayName:(0,e.V)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,e.V)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},[V.blur]:{displayName:(0,e.V)("Visual_DropShadow_Blur"),description:(0,e.V)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},[V.pitchAlignment]:{displayName:(0,e.V)("Visual_AzureMapsBubblePitchAlignment"),description:(0,e.V)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:s}},[V.zoomScaleFactor]:{displayName:(0,e.V)("Visual_AzureMapsZoomScaleFactor"),description:(0,e.V)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},[V.minZoom]:{displayName:(0,e.V)("Visual_AzureMapsMinZoom"),description:(0,e.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[V.maxZoom]:{displayName:(0,e.V)("Visual_AzureMapsMaxZoom"),description:(0,e.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[V.layerPosition]:{displayName:(0,e.V)("Visual_AzureMapsLayerPosition"),description:(0,e.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:p}}}},[b.categoryLabels]:{displayName:(0,e.V)("Visual_CategoryLabels"),description:(0,e.V)("Visual_CategoryLabelsDescription"),properties:{...i.PP,...i.BO}},[b.heatMapLayer]:{displayName:(0,e.V)("Visual_HeatMap"),description:(0,e.V)("Visual_HeatMapDescription"),properties:{show:i.iD.show,[V.heatMapRadius]:{displayName:(0,e.V)("Visual_Radius"),description:(0,e.V)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},[V.heatMapRadiusUnit]:{displayName:(0,e.V)("Visual_Forecast_Parameter_Units"),description:(0,e.V)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:l}},[V.mapTransparency]:{displayName:(0,e.V)("Transparency"),description:(0,e.V)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},[V.heatMapIntensity]:{displayName:(0,e.V)("Visual_AzureMapsHeatMapIntensity"),description:(0,e.V)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},[V.heatMapColorLow]:{displayName:(0,e.V)("Visual_Color0"),description:(0,e.V)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},[V.heatMapColorCenter]:{displayName:(0,e.V)("Visual_Color50"),description:(0,e.V)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},[V.heatMapColorHigh]:{displayName:(0,e.V)("Visual_Color100"),description:(0,e.V)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},[V.heatMapUseSize]:{displayName:(0,e.V)("Visual_AzureMapsHeatMapUseSize"),description:(0,e.V)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},[V.minZoom]:{displayName:(0,e.V)("Visual_AzureMapsMinZoom"),description:(0,e.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[V.maxZoom]:{displayName:(0,e.V)("Visual_AzureMapsMaxZoom"),description:(0,e.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[V.layerPosition]:{displayName:(0,e.V)("Visual_AzureMapsLayerPosition"),description:(0,e.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:p}}}},[b.barChart]:{displayName:(0,e.V)("Visual_AzureMapsBarChart"),description:(0,e.V)("Visual_AzureMapsBarChartDescription"),properties:{show:i.iD.show,[V.barShape]:{displayName:(0,e.V)("Visual_AzureMapsBarShape"),description:(0,e.V)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:d}},[V.height]:{displayName:(0,e.V)("Visual_General_Properties_Height"),description:(0,e.V)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},[V.scaleHeightOnZoom]:{displayName:(0,e.V)("Visual_AzureMapsScaleBarHeight"),description:(0,e.V)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},[V.thickness]:{displayName:(0,e.V)("Visual_General_Properties_Width"),description:(0,e.V)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},[V.scaleThicknessOnZoom]:{displayName:(0,e.V)("Visual_AzureMapsScaleBarThickness"),description:(0,e.V)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},[V.defaultColor]:{displayName:(0,e.V)("Visual_FillColor"),description:(0,e.V)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},[V.mapTransparency]:{displayName:(0,e.V)("Transparency"),description:(0,e.V)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},[V.minZoom]:{displayName:(0,e.V)("Visual_AzureMapsMinZoom"),description:(0,e.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[V.maxZoom]:{displayName:(0,e.V)("Visual_AzureMapsMaxZoom"),description:(0,e.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[V.layerPosition]:{displayName:(0,e.V)("Visual_AzureMapsLayerPosition"),description:(0,e.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:p}}}},[b.commonDataOptions]:{displayName:(0,e.V)("Visual_AzureMapsCommonDataLayer"),description:(0,e.V)("Visual_AzureMapsCommonDataLayerDescription"),properties:{[V.unselectedTransparency]:{displayName:(0,e.V)("Visual_AzureMapsUnselectedTransparency"),description:(0,e.V)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},[V.showZeros]:{displayName:(0,e.V)("Visual_AzureMapsShowZeros"),description:(0,e.V)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},[V.showNegatives]:{displayName:(0,e.V)("Visual_AzureMapsShowNegatives"),description:(0,e.V)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},[V.minDataValue]:{displayName:(0,e.V)("Visual_AzureMapsMinDataValue"),description:(0,e.V)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},[V.maxDataValue]:{displayName:(0,e.V)("Visual_AzureMapsMaxDataValue"),description:(0,e.V)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}}}},[b.referenceLayer]:{displayName:(0,e.V)("Visual_AzureMapsReferenceLayer"),description:(0,e.V)(M?.azureMapsMultiDataFormats?"Visual_AzureMapsReferenceLayerDescriptionMultiDataFormats":"Visual_AzureMapsReferenceLayerDescription"),properties:{[V.additionalDatasource]:{displayName:M?.azureMapsMultiDataFormats?"":(0,e.V)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:t.Ms}}}}},[b.traffic]:{displayName:(0,e.V)("Visual_AzureMapsTrafficLayer"),description:(0,e.V)("Visual_AzureMapsTrafficLayerDescription"),properties:{show:i.iD.show,[V.showIncidents]:{displayName:(0,e.V)("Visual_AzureMapsShowIncidents"),description:(0,e.V)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},[V.showTrafficControl]:{displayName:(0,e.V)("Visual_AzureMapsShowTrafficControl"),description:(0,e.V)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}}}},[b.tileLayer]:{displayName:(0,e.V)("Visual_AzureMapsTileLayer"),description:(0,e.V)("Visual_AzureMapsTileLayerDescription"),properties:{[V.tileLayerUrl]:{displayName:(0,e.V)("Url"),description:(0,e.V)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},[V.tileSize]:{displayName:(0,e.V)("Visual_AzureMapsTileSize"),description:(0,e.V)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},[V.northBounds]:{displayName:(0,e.V)("Visual_AzureMapsTileNorthBounds"),description:(0,e.V)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},[V.southBounds]:{displayName:(0,e.V)("Visual_AzureMapsTileSouthBounds"),description:(0,e.V)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},[V.eastBounds]:{displayName:(0,e.V)("Visual_AzureMapsTileEastBounds"),description:(0,e.V)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},[V.westBounds]:{displayName:(0,e.V)("Visual_AzureMapsTileWestBounds"),description:(0,e.V)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},[V.mapTransparency]:{displayName:(0,e.V)("Transparency"),description:(0,e.V)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},[V.isTMS]:{displayName:(0,e.V)("Visual_AzureMapsTileIsTMS"),description:(0,e.V)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},[V.minZoom]:{displayName:(0,e.V)("Visual_AzureMapsMinZoom"),description:(0,e.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[V.maxZoom]:{displayName:(0,e.V)("Visual_AzureMapsMaxZoom"),description:(0,e.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[V.layerPosition]:{displayName:(0,e.V)("Visual_AzureMapsLayerPosition"),description:(0,e.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:p}}}}};return M?.azureMapsMultiDataFormats&&(E[b.referenceLayer].properties[V.datasourceType]={displayName:(0,e.V)("Type"),description:(0,e.V)("Visual_AzureMapsTypeDescription"),type:{enumeration:m}},E[b.referenceLayer].properties[V.referenceLayerUrl]={displayName:(0,e.V)("Visual_AzureMapsEnterAUrl"),description:(0,e.V)("Visual_AzureMapsReferenceLayerUploadAFileDescription"),type:{text:!0}}),M?.azureMapsCustomFormattingReferenceLayer&&(E[b.referenceLayer].properties[V.bubbleFillColor]={displayName:(0,e.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},E[b.referenceLayer].properties[V.bubbleStrokeColor]={displayName:(0,e.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},E[b.referenceLayer].properties[V.bubbleStrokeWidth]={displayName:(0,e.V)("Visual_DonutBorderWidth"),type:{integer:!0}},E[b.referenceLayer].properties[V.bubbleStrokeTransparency]={displayName:(0,e.V)("Visual_Border_Transparency"),type:{numeric:!0}},E[b.referenceLayer].properties[V.polygonFillColor]={displayName:(0,e.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},E[b.referenceLayer].properties[V.polygonStrokeColor]={displayName:(0,e.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},E[b.referenceLayer].properties[V.polygonStrokeWidth]={displayName:(0,e.V)("Visual_DonutBorderWidth"),type:{integer:!0}},E[b.referenceLayer].properties[V.polygonStrokeTransparency]={displayName:(0,e.V)("Visual_Border_Transparency"),type:{numeric:!0}},E[b.referenceLayer].properties[V.lineStrokeColor]={displayName:(0,e.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},E[b.referenceLayer].properties[V.lineStrokeWidth]={displayName:(0,e.V)("Visual_General_Properties_Width"),type:{integer:!0}},E[b.referenceLayer].properties[V.lineStrokeTransparency]={displayName:(0,e.V)("Transparency"),type:{numeric:!0}},E[b.referenceLayer].properties[V.unmappedObjectVisibility]={displayName:(0,e.V)("Visual_Show"),type:{bool:!0}},E[b.referenceLayer].properties[V.unmappedObjectUseCustomColors]={displayName:(0,e.V)("Visual_AzureMapsUnmappedObjectUseCustomColors"),type:{bool:!0}},E[b.referenceLayer].properties[V.unmappedObjectFillColor]={displayName:(0,e.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},E[b.referenceLayer].properties[V.unmappedObjectStrokeColor]={displayName:(0,e.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}}),M?.azureMapsGeocoding&&(E[b.mapControls].properties[V.geocodingCulture]={displayName:(0,e.V)("Visual_MapGeocodingCulture"),type:{enumeration:y.dt}}),M?.azureMapsBubbleCluster&&(E[b.bubbleLayer].properties[V.clusteringEnabled]={displayName:(0,e.V)("Visual_AzureMapsClusterBubbles"),description:(0,e.V)("Visual_AzureMapsClusterBubbles_Description"),type:{bool:!0}},E[b.bubbleLayer].properties[V.clusteredBubbleRadius]={displayName:(0,e.V)("Visual_AzureMapsClusterSize"),type:{integer:!0}},E[b.bubbleLayer].properties[V.clusteredBubbleFillColor]={displayName:(0,e.V)("Visual_AzureMapsClusterColor"),type:{fill:{solid:{color:!0}}}},E[b.bubbleLayer].properties[V.clusteredBubbleFontSize]=i.iD.fontSize,E[b.bubbleLayer].properties[V.clusteredBubbleFontColor]={displayName:(0,e.V)("Text_Color"),type:{fill:{solid:{color:!0}}}},E[b.bubbleLayer].properties[V.clusteredBubbleStrokeColor]=i.iD.borderColor,E[b.bubbleLayer].properties[V.clusteredBubbleStrokeWidth]={displayName:(0,e.V)("Visual_DonutBorderWidth"),type:{integer:!0}}),M?.azureMapsPathLayer&&(E[b.pathLayer]={displayName:(0,e.V)("Visual_AzureMaps_PathLayer"),description:(0,e.V)("Visual_AzureMaps_PathLayerDescription"),properties:{color:{displayName:(0,e.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},strokeWidth:{displayName:(0,e.V)("Visual_General_Properties_Width"),type:{integer:!0}},strokeTransparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0}},[V.minZoom]:{displayName:(0,e.V)("Visual_AzureMapsMinZoom"),description:(0,e.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[V.maxZoom]:{displayName:(0,e.V)("Visual_AzureMapsMaxZoom"),description:(0,e.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}}}}),E}function S(M){var E=[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.DW.Measure},Y:{min:1,max:1,kind:a.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:o.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:o.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:o.y}},{bind:{to:o.x}},{bind:{to:o.size}},{for:{in:o.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:o.series}},{composite:[{for:{in:o.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:a.DW.Grouping},Y:{max:1,kind:a.DW.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:o.series}},{composite:[{bind:{to:o.x}},{bind:{to:o.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:o.size}},{bind:{to:o.tooltips}}]},dataVolume:6}}];return M?.azureMapsPathLayer&&(E.forEach(w=>{w.conditions.forEach(x=>{x[o.pointOrder]={max:0},x[o.pathID]={max:0}})}),E.push({conditions:[{[o.series]:{max:1},[o.pathID]:{min:1,max:1},[o.category]:{min:1},[o.pointOrder]:{max:1},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:o.series}},{bind:{to:o.pathID}},{composite:[{for:{in:o.category}},{bind:{to:o.pointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:o.y}},{bind:{to:o.x}},{bind:{to:o.size}},{for:{in:o.tooltips}}]},dataVolume:6}},{conditions:[{[o.series]:{max:1},[o.pathID]:{min:1,max:1},[o.category]:{max:0},[o.pointOrder]:{max:1},[o.x]:{min:1,max:1,kind:a.DW.Grouping},[o.y]:{min:1,max:1,kind:a.DW.Grouping},[o.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:o.series}},{bind:{to:o.pathID}},{composite:[{bind:{to:o.x}},{bind:{to:o.y}},{bind:{to:o.pointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:o.size}},{for:{in:o.tooltips}}]},dataVolume:6}})),E}var D={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},clusteredBubbleFillColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},clusteredBubbleFontSize:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},clusteredBubbleFontColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},clusteredBubbleStrokeColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},clusteredBubbleStrokeWidth:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"},referenceLayerUrl:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},datasourceType:{objectName:"referenceLayer",propertyName:"datasourceType"},unmappedObjectVisibility:{objectName:"referenceLayer",propertyName:"unmappedObjectVisibility"},unmappedObjectUseCustomColors:{objectName:"referenceLayer",propertyName:"unmappedObjectUseCustomColors"},unmappedObjectFillColor:{objectName:"referenceLayer",propertyName:"unmappedObjectFillColor"},unmappedObjectStrokeColor:{objectName:"referenceLayer",propertyName:"unmappedObjectStrokeColor"}},referenceLayerBubble:{fillColor:{objectName:"referenceLayer",propertyName:"bubbleFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"bubbleFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"bubbleStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"bubbleStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"bubbleStrokeTransparency"}},referenceLayerPolygon:{fillColor:{objectName:"referenceLayer",propertyName:"polygonFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"polygonFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"polygonStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"polygonStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"polygonStrokeTransparency"}},referenceLayerLine:{strokeColor:{objectName:"referenceLayer",propertyName:"lineStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"lineStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"lineStrokeTransparency"}},pathLayer:{show:{objectName:"pathLayer",propertyName:"show"},color:{objectName:"pathLayer",propertyName:"color"},strokeWidth:{objectName:"pathLayer",propertyName:"strokeWidth"},strokeTransparency:{objectName:"pathLayer",propertyName:"strokeTransparency"},minZoom:{objectName:"pathLayer",propertyName:"minZoom"},maxZoom:{objectName:"pathLayer",propertyName:"maxZoom"}}}},991711:function(Ce,k,r){r.d(k,{O:function(){return t},T:function(){return u}});var a=r(438043),e=r(430945),u={objects:{line:{displayName:(0,a.V)("Visual_BasicShape_Line"),properties:{lineColor:e.iD.lineColor,transparency:e.iD.backgroundTransparency,weight:{displayName:(0,a.V)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,a.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,a.V)("Visual_Fill"),properties:{show:e.iD.show,fillColor:{displayName:(0,a.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:e.iD.backgroundTransparency}},rotation:{displayName:(0,a.V)("Visual_BasicShape_Rotate"),properties:{angle:e.iD.genericRotation}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},t={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},117426:function(Ce,k,r){r.d(k,{C:function(){return t},cardProps:function(){return C}});var a=r(454865),e=r(438043),u=r(430945),t={dataRoles:[{name:"Values",kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Fields"),description:(0,e.V)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:u.iD.formatString}},labels:{displayName:(0,e.V)("Visual_DataPointLabel"),properties:{...u.Ns,labelDisplayUnits:u.iD.labelDisplayUnits,labelPrecision:u.iD.labelPrecision,preserveWhitespace:{displayName:(0,e.V)("Visual_LabelPreserveWhitespace"),description:(0,e.V)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,e.V)("Visual_CategoryLabel"),properties:{show:u.iD.show,...u.Ns,preserveWhitespace:{displayName:(0,e.V)("Visual_LabelPreserveWhitespace"),description:(0,e.V)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,e.V)("Visual_WordWrap"),properties:{show:u.iD.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},C={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},450635:function(Ce,k,r){r.d(k,{NX:function(){return p},cardVisualProps:function(){return b},gl:function(){return M},pz:function(){return l}});var a=r(454865),e=r(438043),u=r(937779),t=r(3230),C=r(430945),y=r(963993),i=r(608632),o=r(350953),c=r(528678),h=r(888103),d=r(582145),n=r(577675),s=r(783203),p={Data:"Data",Tooltips:"Tooltips",Rows:"Rows"},l={accentBar:"accentBar",altText:"altText",backgroundColor:"backgroundColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",angle:"angle",cards:"cards",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",dividerTransparency:"dividerTransparency",fill:y.eM.fillCustom,fixedSize:"fixedSize",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:y.eM.glowCustom,image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",layout:"layout",outline:y.eM.outline,padding:"padding",position:"position",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesOverFlow:"smallMultiplesOverFlow",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesAccentBar:"smallMultiplesAccentBar",spacing:"spacing",size:"size",shapeCustomRectangle:y.eM.shapeCustomRectangle,shadowCustom:y.eM.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",showBlankAs:"showBlankAs",width:"width"},m={image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},fixedSize:{objectName:"image",propertyName:"fixedSize"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"},verticalAlignment:{objectName:"image",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"image",propertyName:"horizontalAlignment"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{position:{objectName:"referenceLabelLayout",propertyName:"position"},arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"},dividerTransparency:{objectName:"divider",propertyName:"dividerTransparency"}}},b={general:{formatString:C.e0.formatString},fillCustom:y.OV.fillCustom,outline:y.OV.outline,value:y.OV.value,label:y.OV.label,referenceLabel:m.referenceLabel,shapeCustomRectangle:y.OV.shapeCustomRectangle,layout:y.OV.layout,overFlow:y.OV.overFlow,shadowCustom:y.OV.shadowCustom,glowCustom:y.OV.glowCustom,spacing:y.OV.spacing,padding:y.OV.padding,accentBar:y.OV.accentBar,image:m.image,referenceLabelTitle:m.referenceLabelTitle,referenceLabelValue:m.referenceLabelValue,referenceLabelDetail:m.referenceLabelDetail,referenceLabelLayout:m.referenceLabelLayout,divider:m.divider,smallMultiplesLayout:i.WK.smallMultiplesLayout,smallMultiplesBorder:i.WK.smallMultiplesBorder,smallMultiplesGrid:i.WK.smallMultiplesGrid,smallMultiplesOverFlow:i.WK.smallMultiplesOverFlow,smallMultiplesHeader:i.WK.smallMultiplesHeader,smallMultiplesAccentBar:i.WK.smallMultiplesAccentBar,smallMultiplesCellBackGround:i.WK.smallMultiplesCellBackGround,smallMultiplesOuterShape:i.WK.smallMultiplesOuterShape},V={show:C.iD.show,[l.imageType]:{displayName:(0,e.V)("Visual_ImageType"),type:{enumeration:u.j}},[l.image]:C.iD.image,[l.imageUrl]:{displayName:(0,e.V)("Image_Url"),type:{text:!0}},[l.transparency]:C.iD.backgroundTransparency,[l.position]:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:t.g4}},[l.padding]:{displayName:(0,e.V)("Visual_Space_Between_Image"),type:{integer:!0}},[l.size]:{displayName:(0,e.V)("Visual_BubbleSize"),type:{integer:!0}},[l.altText]:{displayName:(0,e.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},[l.fixedSize]:{displayName:(0,e.V)("Visual_FixSize"),type:{bool:!0}},[l.imageAreaSize]:{displayName:(0,e.V)("Visual_Image_Area_Size"),type:{integer:!0}},[l.verticalAlignment]:C.iD.verticalAlignment,horizontalAlignment:C.iD.horizontalAlignment},g={[l.value]:{displayName:(0,e.V)("Visual_Add_Label"),formatStringProperty:b.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},formatString:C.iD.formatString,[l.backgroundColor]:C.iD.genericColor,[l.backgroundTransparency]:C.iD.backgroundTransparency,[l.backgroundShow]:C.iD.show},v={show:C.iD.show,[l.titleText]:{displayName:(0,e.V)("Text"),type:{text:!0}},[l.titleFontSize]:C.iD.fontSize,[l.titleFontFamily]:C.iD.fontFamily,[l.titleUnderline]:C.iD.underline,[l.titleItalic]:C.iD.italic,[l.titleBold]:C.iD.bold,[l.titleFontColor]:C.iD.genericColor,[l.titleTransparency]:C.iD.genericTransparency,[l.titleContentType]:{displayName:(0,e.V)("Content"),type:{enumeration:c.FH}}},f={show:C.iD.show,[l.valueFontColor]:C.iD.genericColor,[l.valueFontSize]:C.iD.fontSize,[l.valueFontFamily]:C.iD.fontFamily,[l.valueUnderline]:C.iD.underline,[l.valueBold]:C.iD.bold,[l.valueItalic]:C.iD.italic,[l.valueTransparency]:C.iD.genericTransparency,[l.valuePrecision]:C.iD.labelPrecision,[l.valueDisplayUnits]:{...C.iD.labelDisplayUnits,type:{enumeration:h.d}},[l.showBlankAs]:C.iD.showBlankAs,[l.customFormatString]:C.iD.dataLabelCustomFormatString},S={show:C.iD.show,[l.detailFontColor]:C.iD.fontColor,[l.detailFontSize]:C.iD.fontSize,[l.detailFontFamily]:C.iD.fontFamily,[l.detailUnderline]:C.iD.underline,[l.detailBold]:C.iD.bold,[l.detailItalic]:C.iD.italic,[l.detailTransparency]:C.iD.genericTransparency,[l.detailPrecision]:C.iD.labelPrecision,[l.detailDisplayUnits]:{...C.iD.labelDisplayUnits,type:{enumeration:h.d}},[l.showBlankAs]:C.iD.showBlankAs,[l.detailValue]:{...C.iD.dynamicLabelValue,formatStringProperty:b.referenceLabelDetail.formatString},formatString:C.iD.formatString,[l.detailBackgroundColor]:C.iD.genericColor,[l.customFormatString]:C.iD.dataLabelCustomFormatString},P={...(0,C.uH)({strokeShow:"show",strokeColor:"dividerColor",strokeTransparency:"dividerTransparency",strokeWidth:"dividerWidth",strokePattern:"dividerLineStyle"}),dividerIgnorePadding:{displayName:(0,e.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}}},D={position:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:o.C}},arrangement:{displayName:(0,e.V)("Visual_Arrangement"),type:{enumeration:d.b}},style:{displayName:(0,e.V)("Visual_Axis_Style"),type:{enumeration:n.e}},horizontalAlignment:C.iD.horizontalAlignment,verticalAlignment:C.iD.verticalAlignment,valueArea:{displayName:(0,e.V)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:C.iD.textWrap,labelSpace:{displayName:(0,e.V)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,e.V)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,e.V)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,e.V)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,e.V)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}};function M(w){return{dataRoles:E(w),objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:C.iD.formatString}},[l.fill]:y.zC.fillCustom,[l.outline]:y.zC.outline,[y.eM.value]:y.zC.value,[y.eM.label]:y.zC.label,[l.shapeCustomRectangle]:y.zC.shapeCustomRectangle,[l.layout]:y.zC.layout,[y.eM.overFlow]:y.zC.overFlow,[l.shadowCustom]:y.zC.shadowCustom,[l.glowCustom]:y.zC.glowCustom,[l.rotation]:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),properties:{[l.angle]:C.iD.genericRotation,[l.shapeRotation]:C.iD.shapeRotation,[l.textRotation]:C.iD.textRotation}},[l.spacing]:y.zC.spacing,[l.padding]:y.zC.padding,[l.accentBar]:y.zC.accentBar,[l.image]:{displayName:(0,e.V)("Images"),properties:V},[l.referenceLabel]:{displayName:(0,e.V)("Visual_Reference_Labels"),properties:g},[l.referenceLabelTitle]:{displayName:(0,e.V)("Title"),properties:v},[l.referenceLabelValue]:{displayName:(0,e.V)("Value"),properties:f},[l.referenceLabelDetail]:{displayName:(0,e.V)("Visual_Label_DetailLabelName"),properties:S},[l.referenceLabelLayout]:{displayName:(0,e.V)("Layout"),properties:D},[l.divider]:{displayName:(0,e.V)("Visual_Divider"),properties:P},[l.smallMultiplesLayout]:i.Ff.smallMultiplesLayout,[l.smallMultiplesBorder]:i.Ff.smallMultiplesBorder,[l.smallMultiplesGrid]:i.Ff.smallMultiplesGrid,[l.smallMultiplesOverFlow]:i.Ff.smallMultiplesOverFlow,[l.smallMultiplesHeader]:i.Ff.smallMultiplesHeader,[l.smallMultiplesAccentBar]:i.Ff.smallMultiplesAccentBar,[i.MS.smallMultiplesOuterShape]:i.Ff.smallMultiplesOuterShape,[i.MS.smallMultiplesCellBackGround]:i.Ff.smallMultiplesCellBackGround},dataViewMappings:[{conditions:[{[p.Rows]:{max:1}},{[p.Data]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:p.Rows}}],dataReductionAlgorithm:{window:{count:(0,s.r8)(4,4)}}}]},values:{select:[{for:{in:p.Data}},{for:{in:p.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,sorting:{default:{}}}}function E(w){var x=[{name:p.Data,kind:a.DW.Measure,displayName:(0,e.V)("Data"),displayOrder:0},{name:p.Tooltips,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description"),joinPredicate:0,displayOrder:2}];return w&&w.cardVisualSmallMultiples&&x.push({name:p.Rows,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_SmallMultiples"),displayOrder:1,description:(0,e.V)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),x}},913615:function(Ce,k,r){r.d(k,{IT:function(){return i},Rm:function(){return C},TL:function(){return y},au:function(){return t},cartesianChartProps:function(){return c},rJ:function(){return o},xV:function(){return u}});var a=r(834734),e=r(430945),u={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},t={category:u.category,series:u.series,rows:u.rows,y:u.y,gradient:u.gradient,tooltips:u.tooltips},C={Rows:u.rows,Category:u.category,Series:u.series,Y:u.y,Y2:u.y2,Tooltips:u.tooltips},y={category:u.category,series:u.series,x:u.x,y:u.y,gradient:u.gradient,tooltips:u.tooltips,size:"Size",play:"Play"},i={category:u.category,y:u.y,tooltips:u.tooltips,breakdown:"Breakdown"},o={category:u.category,series:u.series,y:u.y,y2:u.y2,tooltips:u.tooltips,rows:u.rows},c={scalarKey:{min:a.i},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"categoryAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"categoryAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"categoryAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"categoryAxis",propertyName:"gridlineAutoScale"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"valueAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"valueAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"valueAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"valueAxis",propertyName:"gridlineAutoScale"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"},formatString:{objectName:"general",propertyName:"formatString"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{},annotations:{datapoints:{objectName:"annotations",propertyName:"datapoints"}},annotationTemplates:{callout:e.Wv}}},385460:function(Ce,k,r){r.d(k,{Ns:function(){return c},columnChartProps:function(){return d},gE:function(){return o},nn:function(){return h}});var a=r(160590),e=r(454865),u=r(438043),t=r(783203),C=r(913615),y=r(430945),i={borderShow:{displayName:(0,u.V)("Visual_Border"),type:{bool:!0}},borderSize:y.iD.width,borderColorMatchFill:{displayName:(0,u.V)("Visual_MatchFillColor"),description:(0,u.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:y.iD.genericColor,borderTransparency:y.iD.genericTransparency},o=(0,a.wZ)(c(!1,!1,!1,!1,!0));function c(n=!1,s=!1,p=!1,l=!1,m=!1){var b=p||s&&!l;return{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:y.iD.formatString,responsive:y.iD.responsive,responsiveLegacy:y.iD.responsiveLegacy}},annotations:{properties:{datapoints:y.iD.datapoints}},legend:{displayName:y.TQ.legend.displayName,description:y.TQ.legend.description,properties:{...y.TQ.legend.properties,showGradientLegend:y.iD.showGradientLegend}},subheader:y.TQ.subheader,[t.Xi]:y.TQ.smallMultiplesLayout,categoryAxis:{displayName:(0,u.V)(n?"Visual_YAxis":"Visual_XAxis"),properties:{show:y.iD.show,...y.pT,...y.Mu,...y.wF,...(0,y.Me)(n?"y":"x"),...y.WV,switchAxisPosition:y.iD.switchAxisPosition}},valueAxis:{displayName:(0,u.V)(n?"Visual_XAxis":"Visual_YAxis"),properties:{show:y.iD.show,...y.yl,...y.wF,...(0,y.Me)(n?"x":"y"),...y.WV,switchAxisPosition:y.iD.switchAxisPosition}},zoom:{displayName:y.TQ.zoom.displayName,properties:{show:y.TQ.zoom.properties.show,showOnCategoryAxis:{displayName:(0,u.V)(n?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:y.TQ.zoom.properties.categoryMin,categoryMax:y.TQ.zoom.properties.categoryMax,categorySize:y.TQ.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,u.V)(n?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:y.TQ.zoom.properties.valueMin,valueMax:y.TQ.zoom.properties.valueMax,valueSize:y.TQ.zoom.properties.valueSize,showLabels:y.TQ.zoom.properties.showLabels,showTooltip:y.TQ.zoom.properties.showTooltip}},dataPoint:{displayName:(0,u.V)("Visual_DataPoint"),description:(0,u.V)("Visual_DataPointDescription"),properties:{defaultColor:{...y.iD.defaultColor,...l&&{displayName:(0,u.V)("Visual_DefaultColumnColor")}},fill:y.iD.genericColor,fillRule:{displayName:(0,u.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:C.au.gradient,output:{property:"fill",selector:[C.au.category]}}},fillTransparency:y.iD.genericTransparency,...i,...(s||m)&&{borderOutlineOnly:y.iD.borderOutlineOnly}}},layout:{displayName:(0,u.V)("Layout"),properties:{seriesOrderReversed:y.iD.seriesOrderReversed,seriesOrderSorted:y.iD.seriesOrderSorted,...(s||m)&&{stackedGapSize:y.iD.stackedGapSize,...(!l||m)&&{stackedGapExplodes:y.iD.stackedGapExplodes}},...(!s||m)&&{clusteredGapSize:y.iD.clusteredGapSize,clusteredGapOverlaps:y.iD.clusteredGapOverlaps,clusteredGapOverlapReverse:y.iD.clusteredGapOverlapReverse},...(b||m)&&{ribbonGapSize:y.iD.ribbonGapSize}}},labels:{displayName:(0,u.V)("Visual_DataPointsLabels"),description:(0,u.V)("Visual_DataPointsLabelsDescription"),properties:{show:y.iD.show,showByDefault:y.iD.boolWithoutDescription,showSeries:y.iD.show,showAll:y.iD.labelSeriesShowAll,...y.Zt,labelOrientation:y.iD.labelOrientation,labelOverflow:{displayName:(0,u.V)("Visual_LabelOverflow"),description:(0,u.V)("Visual_LabelOverflow_Description"),type:{bool:!0}},wordWrap:y.iD.wordWrap,...y.BO,...y.t_,...y.QN,...y.Xn,...y.gq,labelContentLayout:y.iD.labelContentLayout,horizontalAlignment:y.iD.horizontalAlignment}},...(s||m)&&{totals:y.TQ.totalsWithNet},plotArea:y.TQ.plotArea,y1AxisReferenceLine:{displayName:(0,u.V)("Visual_Reference_Line"),description:(0,u.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...y.xF,...y.I3}},xAxisReferenceLine:{displayName:(0,u.V)("Visual_Reference_Line_X"),description:(0,u.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...y.xF,...y.cd}},trend:(0,y.Fe)(!0),error:{displayName:y.TQ.error.displayName,objectCategory:y.TQ.error.objectCategory,suppressFormatPainterCopy:y.TQ.error.suppressFormatPainterCopy,properties:{enabled:y.TQ.error.properties.enabled,errorRange:y.TQ.error.properties.errorRange,barShow:y.TQ.error.properties.barShow,barMatchSeriesColor:y.TQ.error.properties.barMatchSeriesColor,barColor:y.TQ.error.properties.barColor,barWidth:y.TQ.error.properties.barWidth,barBorderColor:y.TQ.error.properties.barBorderColor,barBorderSize:y.TQ.error.properties.barBorderSize,markerShow:y.TQ.error.properties.markerShow,markerShape:y.TQ.error.properties.markerShape,markerSize:y.TQ.error.properties.markerSize,labelShow:y.TQ.error.properties.labelShow,labelFontFamily:y.TQ.error.properties.labelFontFamily,labelFontSize:y.TQ.error.properties.labelFontSize,labelBold:y.TQ.error.properties.labelBold,labelItalic:y.TQ.error.properties.labelItalic,labelUnderline:y.TQ.error.properties.labelUnderline,labelColor:y.TQ.error.properties.labelColor,labelMatchSeriesColor:y.TQ.error.properties.labelMatchSeriesColor,labelFormat:y.TQ.error.properties.labelFormat,labelBackground:y.TQ.error.properties.labelBackground,labelBackgroundColor:y.TQ.error.properties.labelBackgroundColor,labelBackgroundTransparency:y.TQ.error.properties.labelBackgroundTransparency,tooltipShow:y.TQ.error.properties.tooltipShow,tooltipFormat:y.TQ.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(!s||m)&&{referenceLine:{displayName:(0,u.V)("Visual_Reference_Line"),description:(0,u.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...y.xF,...y.I3}}},...(b||m)&&{ribbonBands:{displayName:(0,u.V)("RibbonChart"),description:(0,u.V)("RibbonChart_Description"),properties:{show:y.iD.show,fillMatchColor:{displayName:(0,u.V)("RibbonChart_Color"),description:(0,u.V)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:y.iD.genericColor,fillTransparency:y.iD.genericTransparency,...i}}},...(0,y.A5)({callout:!0},!0)}}function h(n=!1,s=!1,p=!1,l){var P,D,M,E,m=l?.cartesianConditionalFormatting,b=l?.useModernFormatPane;return{dataRoles:(P=n,D=m,M=b,E=[{name:C.au.category,kind:e.DW.Grouping,displayName:(0,u.V)(M?P?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,u.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:C.au.series,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Legend"),displayOrder:M?3:2,description:(0,u.V)("Role_DisplayName_LegendDescription")},{name:C.au.y,kind:e.DW.Measure,displayName:(0,u.V)(M?P?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:M?2:3,description:(0,u.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],D||E.push({name:C.au.gradient,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,u.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),E.push({name:C.au.rows,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,u.V)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),E.push({name:C.au.tooltips,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,u.V)("Role_Tooltips_Description"),joinPredicate:0}),E),objects:c(n,s,p,void 0,void 0),dataViewMappings:[{conditions:[{[C.au.rows]:{min:1},[C.au.series]:{max:0}},{[C.au.rows]:{min:1},[C.au.series]:{min:1,max:1},[C.au.y]:{max:1}},{[C.au.rows]:{min:1},[C.au.series]:{min:1,max:1},[C.au.y]:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:C.au.rows}}],dataReductionAlgorithm:{window:{count:t.QS}}},{composite:[{for:{in:C.au.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:C.au.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:C.au.y}},{for:{in:C.au.tooltips}}]},dataVolume:6}},{conditions:[{[C.au.rows]:{max:0},[C.au.series]:{max:0},[C.au.gradient]:{max:0}},{[C.au.rows]:{max:0},[C.au.series]:{min:1,max:1},[C.au.y]:{max:1},[C.au.gradient]:{max:0}},{[C.au.rows]:{max:0},[C.au.series]:{max:0},[C.au.y]:{min:0,max:1},[C.au.gradient]:{max:1}}],categorical:{categories:{for:{in:C.au.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:C.au.series,select:[{for:{in:C.au.y}},{bind:{to:C.au.gradient}},{for:{in:C.au.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{[C.xV.rows]:{max:0},[C.au.series]:{max:0},[C.au.gradient]:{max:0}},{[C.xV.rows]:{max:0},[C.au.series]:{min:1,max:1},[C.au.y]:{max:1},[C.au.gradient]:{max:0}},{[C.xV.rows]:{max:0},[C.au.series]:{max:0},[C.au.y]:{min:0,max:1},[C.au.gradient]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[C.au.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[C.au.category]},annotationTemplates:(0,y.kW)({callout:!0}),grouping:{groupingRules:[{condition:{[C.au.category]:{min:1,max:1},[C.au.y]:{min:1,max:1},[C.au.series]:{max:0},[C.au.gradient]:{max:0}},groupingTargetRole:C.au.series,kind:0},{condition:{[C.au.category]:{min:1,max:1},[C.au.y]:{min:1},[C.au.series]:{max:0},[C.au.gradient]:{max:0}},groupingTargetRole:C.au.category,kind:1},{condition:{[C.au.category]:{min:1,max:1},[C.au.y]:{min:0,max:1},[C.au.series]:{max:0},[C.au.gradient]:{max:1}},groupingTargetRole:C.au.category,kind:1},{condition:{[C.au.category]:{max:0},[C.au.y]:{min:1,max:1},[C.au.series]:{max:1},[C.au.gradient]:{max:0}},groupingTargetRole:C.au.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:n?[]:[C.au.category],visualAnnotations:{annotationProperties:[{objectName:"annotations",propertyName:"datapoints"}]},supportsOnObjectFormatting:!0}}var d={dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},159805:function(Ce,k,r){r.d(k,{O:function(){return c},p:function(){return h}});var a=r(160590),e=r(454865),u=r(438043),t=r(783203),C=r(913615),y=r(385460),i=r(430945),o=r(430806),c=(0,a.wZ)(h(!0).objects);function h(n,s){var p=(0,y.Ns)(!1,n,!1,!0),l=(0,o.My)(!1,!1,!0);return{dataRoles:[{name:C.rJ.category,kind:e.DW.Grouping,displayName:(0,u.V)(s?.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,u.V)("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:C.rJ.series,kind:e.DW.Grouping,displayName:(0,u.V)(s?.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:s?.useModernFormatPane?4:2},{name:C.rJ.y,kind:e.DW.Measure,displayName:(0,u.V)(s?.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:s?.useModernFormatPane?2:3,description:(0,u.V)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:C.rJ.y2,kind:e.DW.Measure,displayName:(0,u.V)(s?.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:s?.useModernFormatPane?3:4,description:(0,u.V)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:C.rJ.rows,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,u.V)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0},{name:C.rJ.tooltips,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,u.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:i.iD.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:i.iD.responsive,responsiveLegacy:i.iD.responsiveLegacy}},legend:{displayName:i.TQ.legend.displayName,description:i.TQ.legend.description,properties:{...i.TQ.legend.properties,legendMarkerRendering:i.iD.legendMarkerRendering,matchLineColor:i.iD.matchLineColor}},subheader:{...i.TQ.subheader},[t.Xi]:i.TQ.smallMultiplesLayout,categoryAxis:{displayName:(0,u.V)("Visual_XAxis"),properties:{show:i.iD.show,...i.pT,...i.Mu,...i.wF,...i.WV,...(0,i.Me)("x"),reverseStackOrder:i.iD.reverseStackOrder}},valueAxis:{displayName:(0,u.V)("Visual_YAxis"),properties:{show:i.iD.show,...i.yl,...i.wF,...(0,i.Me)("y"),...i.WV,switchAxisPosition:i.iD.switchAxisPosition,axisLabel:{displayName:(0,u.V)("Visual_YAxis_ColumnTitle"),type:{none:!0}},...i.sJ}},zoom:{displayName:i.TQ.zoom.displayName,properties:{...i.TQ.zoom.properties,...i.DW.zoom.properties}},dataPoint:{displayName:(0,u.V)("Visual_DataPoint"),description:(0,u.V)("Visual_DataPointDescription"),properties:{...p.dataPoint.properties,transparency:l.dataPoint.properties.transparency}},layout:p.layout,lineStyles:l.lineStyles,labels:{displayName:(0,u.V)("Visual_DataPointsLabels"),description:(0,u.V)("Visual_DataPointsLabelsDescription"),properties:{show:i.iD.show,showByDefault:i.iD.boolWithoutDescription,showSeries:i.iD.show,showAll:i.iD.labelSeriesShowAll,...i.Zt,labelOrientation:i.iD.labelOrientation,...i.BO,...i.t_,...i.QN,...i.Xn,...i.gq,labelDisplayUnits:i.iD.dataLabelDisplayUnits,labelContentLayout:i.iD.labelContentLayout}},seriesLabels:i.TQ.seriesLabels,error:i.TQ.error,plotArea:i.TQ.plotArea,filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},xAxisReferenceLine:{displayName:(0,u.V)("Visual_Reference_Line_X"),description:(0,u.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...i.xF,...i.cd}},...n&&{totals:i.TQ.totalsWithNet},...!n&&{trend:(0,i.Fe)(!0)},annotations:{properties:{datapoints:i.iD.datapoints}},...(0,i.A5)({callout:!0},!0)},dataViewMappings:[{conditions:[{Series:{max:0},[C.rJ.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[C.rJ.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},Y2:{min:1},[C.rJ.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},Y2:{min:1},[C.rJ.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},[C.rJ.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[C.rJ.rows]:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[C.rJ.series]:{max:0},[C.rJ.rows]:{min:1}}],matrix:d(!1)},{conditions:[{[C.rJ.series]:{min:1,max:1},[C.rJ.y]:{max:1},[C.rJ.rows]:{min:1}}],matrix:d(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[C.au.category],supportsOnObjectFormatting:!0,suppressVisualCalc:!s?.visualCalculationOnComboChart,visualAnnotations:{annotationProperties:[{objectName:"annotations",propertyName:"datapoints"}]},annotationTemplates:(0,i.kW)({callout:!0})}}function d(n){var s={rows:{select:[{composite:[{for:{in:C.rJ.rows}}],dataReductionAlgorithm:{window:{count:t.QS}}},{composite:[{for:{in:C.rJ.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:C.rJ.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:C.rJ.y}},{for:{in:C.rJ.tooltips}}]},dataVolume:6};return n?s.rows.values={select:[{for:{in:C.rJ.y2}}]}:s.values.select.push({for:{in:C.rJ.y2}}),s}},811271:function(Ce,k,r){r.d(k,{KK:function(){return u},Qw:function(){return C},Te:function(){return y},YE:function(){return i},iu:function(){return t}});var a=r(454865),e=r(430945),u={values:"Values"},t={objectName:"general",propertyName:"formatString"},C={objectName:"overrideDataReduction",propertyName:"count"},y={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},i={dataRoles:[{name:"Values",kind:a.DW.GroupingOrMeasure}],objects:{general:{properties:{formatString:e.iD.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},430945:function(Ce,k,r){r.d(k,{PO:function(){return Pe},WV:function(){return ct},pT:function(){return Ve},wF:function(){return we},Mu:function(){return je},yl:function(){return de},Ns:function(){return j},d4:function(){return q},KG:function(){return H},Wv:function(){return He},PP:function(){return De},iQ:function(){return Ye},Oc:function(){return Ie},Qx:function(){return ve},BO:function(){return Z},gq:function(){return ye},t_:function(){return Se},Zt:function(){return he},Xn:function(){return Ge},QN:function(){return Ke},hk:function(){return le},r8:function(){return ue},I3:function(){return Ue},xF:function(){return X},cd:function(){return Je},sJ:function(){return z},DW:function(){return Xe},u0:function(){return te},TQ:function(){return _e},N_:function(){return ee},iD:function(){return U},e0:function(){return Te},PK:function(){return be},ZB:function(){return Le},Hs:function(){return Ne},vi:function(){return ae},GY:function(){return J},kW:function(){return me},A5:function(){return rt},Me:function(){return Ze},uH:function(){return ke},pN:function(){return tt},CG:function(){return at},Fe:function(){return ze}});var a=r(160590),e=r(438043),u=r(124463),t=r(939123),C=r(968087),y=r(641799),i=r(632151),h=(0,u.i)([{value:"Number of bins",displayName:Ee=>Ee.get("BinsDialog_ModeByCount")},{value:"Bin size",displayName:Ee=>Ee.get("BinsDialog_ModeBySize")}]),d=r(558124),n=r(39484),s=r(888103),p=r(741433),l=r(519060),m=r(851584),b=r(709529),V=r(755194),g=r(158799),v=r(414594),f=r(984582),S=r(78941),P=r(3230),D=r(252582),M=r(45376),E=r(520628),w=r(20985),x=r(887999),N=r(878310),L=r(346520),B=r(602679),I=r(502968),W=r(824213),O=r(457829),F=r(673552),A=r(597382),T=r(447683),R=r(155910),U={axisEnd:{displayName:(0,e.V)("Visual_Axis_End"),description:(0,e.V)("Visual_Axis_EndDescription"),placeHolderText:(0,e.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,e.V)("Visual_Axis_Start"),description:(0,e.V)("Visual_Axis_StartDescription"),placeHolderText:(0,e.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,e.V)("Visual_Axis_Style"),type:{enumeration:y.d}},axisType:{displayName:(0,e.V)("Type"),type:{enumeration:i.F}},backColor:{displayName:(0,e.V)("Background_Color"),description:(0,e.V)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,e.V)("BinsDialog_BinType"),type:{enumeration:h}},bold:{displayName:(0,e.V)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,e.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderOutlineOnly:{displayName:(0,e.V)("Visual_Border_OutlineOnly"),type:{bool:!0}},numOfBins:{displayName:(0,e.V)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,e.V)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,e.V)("Generic_Color"),description:(0,e.V)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,e.V)("Visual_FormatCode"),description:(0,e.V)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelDisplayUnits:{displayName:(0,e.V)("Visual_DisplayUnits"),description:(0,e.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,e.V)("Visual_DisplayUnits"),description:(0,e.V)("Visual_DisplayUnitsDescription"),type:{enumeration:s.d},suppressFormatPainterCopy:!0},defaultColor:{displayName:(0,e.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,e.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,e.V)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},dynamicLabelValue:{displayName:(0,e.V)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,e.V)("Visual_Error_Format"),type:{enumeration:p.y}},fill:{displayName:(0,e.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},genericColor:{displayName:(0,e.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},genericTransparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0}},genericRotation:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),type:{numeric:!0}},shapeRotation:{displayName:(0,e.V)("Visual_ShapeRotation"),type:{integer:!0}},textRotation:{displayName:(0,e.V)("Visual_TextRotation"),type:{integer:!0}},fontColor:{displayName:(0,e.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,e.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,e.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},horizontalAlignment:{displayName:(0,e.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},iconSize:{displayName:(0,e.V)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,e.V)("Italic"),type:{bool:!0}},image:{type:{image:{}}},labelBackgroundColor:{displayName:(0,e.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,e.V)("Visual_Reference_Line_Transparency"),type:{integer:!0}},labelContentLayout:{displayName:(0,e.V)("Layout"),type:{enumeration:b.c}},labelDisplayUnits:{displayName:(0,e.V)("Visual_DisplayUnits"),description:(0,e.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,e.V)("Visual_LabelEnableBackground"),type:{bool:!0}},labelOrientation:{displayName:(0,e.V)("Visual_LabelOrientation"),type:{enumeration:V.S}},labelPosition:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:g.O}},labelPrecision:{displayName:(0,e.V)("Visual_Precision"),description:(0,e.V)("Visual_PrecisionDescription"),placeHolderText:(0,e.V)("Visual_Auto"),type:{integer:!0}},labelSeriesShowAll:{displayName:(0,e.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},leaderLines:{displayName:(0,e.V)("Visual_LeaderLines"),type:{bool:!0}},matchLineColor:{displayName:(0,e.V)("Visual_LegendMatchLineColor"),description:(0,e.V)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,e.V)("Visual_Label_Maximum_Offset"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,e.V)("Visual_Label_Minimum_Offset"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}},percentageLabelPrecision:{displayName:(0,e.V)("Visual_Percentage_Precision"),description:(0,e.V)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,e.V)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,e.V)("Visual_Axis_Style"),description:(0,e.V)("Visual_LegendStyleDescription"),type:{enumeration:S.A}},legendPosition:{displayName:(0,e.V)("Visual_LegendPosition"),description:(0,e.V)("Visual_LegendPositionDescription"),type:{enumeration:P.FJ}},legendTitle:{displayName:(0,e.V)("Visual_LegendName"),description:(0,e.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,e.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},textWrap:{displayName:(0,e.V)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,e.V)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,e.V)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,e.V)("Visual_AxisTitleText"),placeHolderText:(0,e.V)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,e.V)("Visual_Outline"),type:{enumeration:E.dt}},outlineStyle:{displayName:(0,e.V)("Visual_Outline"),type:{flagsEnumeration:E.Ob}},outlineColor:{displayName:(0,e.V)("Visual_OutlineColor"),description:(0,e.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,e.V)("Visual_OutlineWeight"),description:(0,e.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},reverseStackOrder:{displayName:(0,e.V)("Visual_ReverseStackOrder"),type:{bool:!0}},show:{displayName:(0,e.V)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,e.V)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,e.V)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,e.V)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,e.V)("Visual_LegendShowTitle"),description:(0,e.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,e.V)("Visual_SeriesOrderReversed"),description:(0,e.V)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,e.V)("Visual_SeriesOrderSorted"),description:(0,e.V)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,e.V)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,e.V)("Visual_Spacing_Explode"),type:{bool:!0}},clusteredGapSize:{displayName:(0,e.V)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,e.V)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,e.V)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},switchAxisPosition:{displayName:(0,e.V)("Visual_SwitchAxisPosition"),type:{bool:!0}},showIcon:{displayName:(0,e.V)("Visual_ShowIcon"),type:{bool:!0}},markerShape:{displayName:(0,e.V)("Type"),type:{enumeration:M.ls}},fillPointStyle:{displayName:(0,e.V)("Style"),type:{enumeration:l.F}},markerSize:{displayName:(0,e.V)("Visual_BubbleSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,e.V)("Visual_MarkerRangeType"),type:{enumeration:D.v6}},boolWithoutDescription:{type:{bool:!0}},matchSeriesColor:{displayName:(0,e.V)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,e.V)("Visual_Space_Around_RibbonBands"),description:(0,e.V)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},backgroundTransparency:{displayName:(0,e.V)("Transparency"),description:(0,e.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,e.V)("Transparency"),description:(0,e.V)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},responsive:{displayName:(0,e.V)("Visual_General_ResponsiveLabel"),description:(0,e.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},showAxisTitle_Y:{displayName:(0,e.V)("Visual_Axis_Title"),description:(0,e.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,e.V)("Visual_Axis_Title"),description:(0,e.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,e.V)("Visual_Show"),type:{bool:!0}},tablixFontColor:{displayName:(0,e.V)("Visual_FontColor"),description:(0,e.V)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,e.V)("Visual_TextAlignment"),type:{enumeration:A.K}},underline:{displayName:(0,e.V)("Underline"),type:{bool:!0}},verticalAlignment:{displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},width:{displayName:(0,e.V)("Visual_General_Properties_Width"),type:{numeric:!0}},wordWrap:{displayName:(0,e.V)("Visual_WordWrap"),type:{bool:!0}},datapoints:{type:{annotationType:{datapoints:{text:!0,key:!0,offsetX:!0,offsetY:!0,width:!0,height:!0,lastEditUTCTimestamp:!0}}},transient:!0}},z={secShow:{displayName:(0,e.V)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,e.V)("Visual_YAxis_AlignZeros"),description:(0,e.V)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:(0,e.V)("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:(0,e.V)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,e.V)("Visual_Axis_Start"),description:(0,e.V)("Visual_Axis_StartDescription"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,e.V)("Visual_Axis_End"),description:(0,e.V)("Visual_Axis_EndDescription"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:U.showAxisTitle_Y,secAxisStyle:U.axisStyle,secLabelColor:U.genericColor,secFontFamily:U.fontFamily,secFontSize:U.fontSize,secBold:U.bold,secItalic:U.italic,secUnderline:U.underline,secLabelDisplayUnits:U.labelDisplayUnits,secLabelPrecision:U.labelPrecision,secTitleColor:U.titleColor,secTitleFontFamily:U.fontFamily,secTitleFontSize:U.titleFontSize,secTitleBold:U.bold,secTitleItalic:U.italic,secTitleUnderline:U.underline,secTitleText:U.titleText},j={fontFamily:U.fontFamily,fontSize:U.fontSize,bold:U.bold,italic:U.italic,underline:U.underline,color:U.dataColor},H={fontFamily:U.fontFamily,fontSize:U.fontSize,bold:U.bold,italic:U.italic,underline:U.underline,fontColor:U.fontColor},q={fontFamily:U.fontFamily,textSize:U.fontSize,bold:U.bold,italic:U.italic,underline:U.underline,fontColor:U.fontColor,background:U.labelBackgroundColor},G={fontFamily:U.fontFamily,fontSize:U.fontSize,bold:U.bold,italic:U.italic,underline:U.underline,labelColor:U.genericColor},J={fontFamily:U.fontFamily,fontSize:U.fontSize,bold:U.bold,italic:U.italic,underline:U.underline,fontColor:U.tablixFontColor,backColor:U.backColor},Z={enableBackground:U.labelEnableBackground,backgroundColor:U.labelBackgroundColor,backgroundTransparency:U.labelBackgroundTransparency},Q={displayName:(0,e.V)("Visual_DataTotalLabels"),description:(0,e.V)("Visual_DataTotalLabelsDescription"),properties:{show:U.show,labelDisplayUnits:U.dataLabelDisplayUnits,labelPrecision:{...U.labelPrecision,suppressFormatPainterCopy:!0},...j,...Z}},ne=_.cloneDeep(Q);ne.properties.showPositiveAndNegative={displayName:(0,e.V)("Visual_LabelPosAndNeg"),description:(0,e.V)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var le={transparency:{objectName:"markers",propertyName:"transparency"},rotation:{objectName:"markers",propertyName:"rotation"},strokeShow:{objectName:"markers",propertyName:"borderShow"},strokeColorMatch:{objectName:"markers",propertyName:"borderColorMatchFill"},strokeColor:{objectName:"markers",propertyName:"borderColor"},strokeTransparency:{objectName:"markers",propertyName:"borderTransparency"},strokeWidth:{objectName:"markers",propertyName:"borderWidth"}},he={labelPosition:U.labelPosition,labelDensity:{displayName:(0,e.V)("Visual_LabelDensity"),type:{integer:!0}},optimizeLabelDisplay:{displayName:(0,e.V)("Visual_Label_OptimizeLabelDisplay"),type:{bool:!0}},labelContainerMaxWidth:{displayName:(0,e.V)("Visual_Max_Width"),type:{numeric:!0}}},Se={showDynamicLabels:U.showDynamicLabels,dynamicLabelValue:U.dynamicLabelValue,dynamicLabelTitle:U.dynamicLabelValue,dynamicLabelDetail:U.dynamicLabelValue},Ke={enableValueDataLabel:U.boolWithoutDescription,...j,transparency:U.genericTransparency,labelDisplayUnits:U.dataLabelDisplayUnitsWithCustom,valueCustomFormatString:U.dataLabelCustomFormatString,labelPrecision:{...U.labelPrecision,suppressFormatPainterCopy:!0},showBlankAs:U.showBlankAs},Ge={enableTitleDataLabel:U.boolWithoutDescription,titleContentType:{displayName:(0,e.V)("Content"),type:{enumeration:T.D}},titleFontFamily:U.fontFamily,titleFontSize:U.fontSize,titleBold:U.bold,titleItalic:U.italic,titleUnderline:U.underline,titleColor:U.dataColor,titleTransparency:U.genericTransparency,titleLabelDisplayUnits:U.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:U.dataLabelCustomFormatString,titleLabelPrecision:U.labelPrecision,titleShowBlankAs:U.showBlankAs},ye={enableDetailDataLabel:U.boolWithoutDescription,detailContentType:{displayName:(0,e.V)("Content"),type:{enumeration:n.w}},detailFontFamily:U.fontFamily,detailFontSize:U.fontSize,detailBold:U.bold,detailItalic:U.italic,detailUnderline:U.underline,detailColor:U.dataColor,detailTransparency:U.genericTransparency,detailLabelDisplayUnits:U.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:U.dataLabelCustomFormatString,detailLabelPrecision:U.labelPrecision,detailShowBlankAs:U.showBlankAs},we={...G,labelDisplayUnits:U.labelDisplayUnits,labelPrecision:U.labelPrecision},je={start:U.axisStart,end:U.axisEnd,invertAxis:{displayName:(0,e.V)("Visual_InvertAxis"),type:{bool:!0}},logAxisScale:{displayName:(0,e.V)("Visual_LogarithmicScale"),type:{bool:!0}}},de={...je,sharedAxis:{displayName:(0,e.V)("Visual_Shared_YAxis"),type:{bool:!0}},scaleToFit:{displayName:(0,e.V)("ScaleToFit"),type:{bool:!0}}},Pe={axisType:U.axisType,preferredCategoryWidth:{displayName:(0,e.V)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,e.V)("Visual_MaxMarginFactor"),description:(0,e.V)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},innerPadding:{displayName:(0,e.V)("Visual_Axis_InnerPadding"),description:(0,e.V)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}}},Ve={...Pe,concatenateLabels:{displayName:(0,e.V)("Visual_Axis_ConcatenateLabels"),description:(0,e.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}}};function Ze(Ee){return{showAxisTitle:"y"===Ee?U.showAxisTitle_Y:U.showAxisTitle_X,titleText:U.titleText,axisStyle:U.axisStyle,titleFontFamily:U.fontFamily,titleFontSize:U.titleFontSize,titleBold:U.bold,titleItalic:U.italic,titleUnderline:U.underline,titleColor:U.titleColor}}var Ue={displayName:{displayName:(0,e.V)("Name"),description:(0,e.V)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:(0,e.V)("Visual_Reference_Line_Value"),description:(0,e.V)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},position:{displayName:(0,e.V)("Visual_Reference_Line_Arrange"),description:(0,e.V)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:w.dt}},dataLabelShow:{displayName:(0,e.V)("Visual_Reference_Line_Data_Label"),description:(0,e.V)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelText:{displayName:(0,e.V)("Text"),description:(0,e.V)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:f.dt}},dataLabelColor:{displayName:(0,e.V)("Generic_Color"),description:(0,e.V)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,e.V)("Visual_Precision"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}},dataLabelHorizontalPosition:{displayName:(0,e.V)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,e.V)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:x.dt}},dataLabelVerticalPosition:{displayName:(0,e.V)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,e.V)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:N.dt}},dataLabelDisplayUnits:U.dataLabelDisplayUnits},Je={...Ue,value:{displayName:(0,e.V)("Visual_Reference_Line_Value"),description:(0,e.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},shadeRegion:{displayName:(0,e.V)("Visual_ShadeRegion"),type:{enumeration:L.dt}},shadeColor:{displayName:(0,e.V)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeTransparency:{displayName:(0,e.V)("Visual_ShadeTransparency"),type:{numeric:!0}}},De={show:U.show,...j,color:{displayName:(0,e.V)("Generic_Color"),description:(0,e.V)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}}},ue={outlineStyle:U.outlineStyle,outlineColor:U.outlineColor,outlineWeight:U.outlineWeight},_e={legend:{displayName:(0,e.V)("Visual_Legend"),description:(0,e.V)("Visual_LegendDescription"),properties:{show:{displayName:(0,e.V)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,e.V)("Visual_LegendPosition"),description:(0,e.V)("Visual_LegendPositionDescription"),type:{enumeration:P.FJ}},showTitle:{displayName:(0,e.V)("Visual_LegendShowTitle"),description:(0,e.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,e.V)("Visual_LegendName"),description:(0,e.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},...G}},labels:{displayName:(0,e.V)("Visual_DataPointsLabels"),description:(0,e.V)("Visual_DataPointsLabelsDescription"),properties:{show:U.show,showSeries:{displayName:(0,e.V)("Visual_Show"),type:{bool:!0}},enableBackground:U.labelEnableBackground,labelPosition:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:g.O}}}},totals:Q,totalsWithNet:ne,zoom:{displayName:(0,e.V)("Visual_ZoomSlider"),properties:{show:{displayName:(0,e.V)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,e.V)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,e.V)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,e.V)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,e.V)("Visual_ZoomTooltips"),type:{bool:!0}}}},plotArea:{displayName:(0,e.V)("Visual_Plot"),properties:{transparency:U.backgroundTransparency,image:U.image}},markers:{displayName:(0,e.V)("Visual_Markers"),properties:{transparency:U.genericTransparency,rotation:U.genericRotation,borderShow:{displayName:(0,e.V)("Visual_Border"),type:{bool:!0}},borderWidth:U.width,borderColorMatchFill:{displayName:(0,e.V)("Visual_MatchFillColor"),description:(0,e.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:U.genericColor,borderTransparency:U.genericTransparency}},subheader:{displayName:(0,e.V)("Small_Multiples_Title"),description:(0,e.V)("Small_Multiples_Title_Description"),properties:{show:U.show,...H,alignment:{displayName:(0,e.V)("Visual_Title_Alignment"),description:(0,e.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:R.bZ}},titleWrap:U.wordWrap}},smallMultiplesLayout:{displayName:(0,e.V)("Small_Multiples_Layout"),description:(0,e.V)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,e.V)("Small_Multiples_Layout"),type:{enumeration:B.h}},rowCount:{displayName:(0,e.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,e.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,e.V)("Background_Color"),description:(0,e.V)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:{...U.backgroundTransparency,displayName:(0,e.V)("Small_Multiples_Layout_Background_Transparency")},gridLineType:{displayName:(0,e.V)("Visual_Gridline_Show"),description:(0,e.V)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:m.d}},...ke({strokeShow:"gridLineShow",strokeColor:"gridLineColor",strokeTransparency:"gridLineTransparency",strokeWidth:"gridLineWidth",strokePattern:"gridLineStyle"}),gridPadding:{displayName:(0,e.V)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,e.V)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,e.V)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,e.V)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,e.V)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,e.V)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,e.V)("Visual_Error_Bars"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,e.V)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,e.V)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:U.show,barMatchSeriesColor:U.matchSeriesColor,barColor:{displayName:(0,e.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:U.width,barBorderColor:U.borderColor,barBorderSize:{displayName:(0,e.V)("Visual_Border_Size"),type:{integer:!0}},shadeShow:U.show,shadeBandStyle:{displayName:(0,e.V)("Visual_Axis_Style"),type:{enumeration:d.uv}},shadeColor:{displayName:(0,e.V)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:U.matchSeriesColor,shadeTransparency:U.backgroundTransparency,markerShape:{displayName:(0,e.V)("Visual_MarkerShape"),type:{enumeration:(0,u.i)([...M.Dt,{value:"none",displayName:Ee=>Ee.get("None")}])}},showMarkerByDefault:U.boolWithoutDescription,markerShow:U.show,markerSize:U.markerSize,labelShow:U.show,labelFontFamily:U.fontFamily,labelFontSize:U.fontSize,labelBold:U.bold,labelItalic:U.italic,labelUnderline:U.underline,labelColor:U.genericColor,labelMatchSeriesColor:U.matchSeriesColor,labelFormat:U.errorFormat,labelBackground:U.labelEnableBackground,labelBackgroundColor:U.labelBackgroundColor,labelBackgroundTransparency:U.labelBackgroundTransparency,tooltipShow:{...U.show,displayName:(0,e.V)("Visual_ShowInTooltip")},tooltipFormat:U.errorFormat}},seriesLabels:{displayName:(0,e.V)("Visual_SeriesLabels"),description:(0,e.V)("Visual_SeriesDescription"),properties:{show:{displayName:(0,e.V)("Visual_ShowForThisSeries"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,e.V)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,e.V)("Visual_SeriesPosition"),type:{enumeration:v.B}},...Z,showAll:{displayName:(0,e.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,e.V)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:U.bold,italic:U.italic,underline:U.underline,seriesFontFamily:{displayName:(0,e.V)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:U.wordWrap,seriesMaximumWidth:{displayName:(0,e.V)("Visual_Max_Width"),placeHolderText:(0,e.V)("Visual_Auto"),type:{integer:!0}}}},sparklines:{displayName:(0,e.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,e.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:I.O}},dataColor:{displayName:(0,e.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:U.width,markers:{displayName:(0,e.V)("Sparkline_Formatting_Slice_Show_These_Markers"),type:{flagsEnumeration:W._}},markerColor:U.genericColor,markerSize:U.markerSize,markerShape:U.markerShape}}},te={chartType:{objectName:"sparklines",propertyName:"chartType"},dataColor:{objectName:"sparklines",propertyName:"dataColor"},strokeWidth:{objectName:"sparklines",propertyName:"strokeWidth"},markers:{objectName:"sparklines",propertyName:"markers"},markerColor:{objectName:"sparklines",propertyName:"markerColor"},markerSize:{objectName:"sparklines",propertyName:"markerSize"},markerShape:{objectName:"sparklines",propertyName:"markerShape"}};function ke(Ee){return at(Ee,!0)}function at(Ee,fe){var Re={[Ee.strokeShow]:U.show,[Ee.strokeWidth]:U.width,[Ee.strokeColor]:U.genericColor,[Ee.strokeColorMatch]:U.matchLineColor,[Ee.strokeTransparency]:U.genericTransparency,[Ee.strokePattern]:{displayName:(0,e.V)("Visual_LineStyle"),type:{enumeration:fe?F.yV:F.sb}},[Ee.strokeAutoScale]:{displayName:(0,e.V)("Visual_StrokeAutoScale"),description:(0,e.V)("Visual_StrokeAutoScale_Description"),type:{bool:!0}},[Ee.strokeDashArray]:{displayName:(0,e.V)("Visual_StrokeDashArray"),type:{formatting:{dashArray:!0}}},[Ee.strokeDashCap]:{displayName:(0,e.V)("Visual_StrokeDashCap"),type:{enumeration:F.Dd}},[Ee.strokeLineJoin]:{displayName:(0,e.V)("Visual_StrokeLineJoin"),type:{enumeration:O.A}}};return delete Re.undefined,Re}function tt(Ee,fe){var Re={};return C.f.forEach(re=>{fe[re]&&(Re[re]={objectName:Ee,propertyName:fe[re]})}),Re}var ct=at({strokeShow:"gridlineShow",strokeColor:"gridlineColor",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineThickness",strokePattern:"gridlineStyle",strokeDashArray:"gridlineDashArray",strokeDashCap:"gridlineDashCap",strokeAutoScale:"gridlineAutoScale"}),Ne={strokeShow:"leaderLines",strokeColor:"leaderLineColor",strokeTransparency:"leaderLineTransparency",strokeWidth:"leaderLineWidth",strokePattern:"leaderLinePattern",strokeDashArray:"leaderLineDashArray",strokeDashCap:"leaderLineDashCap",strokeAutoScale:"leaderLineAutoScale"},ae={strokeShow:"show",strokeColor:"lineColor",strokeTransparency:"transparency",strokeWidth:"width",strokePattern:"style",strokeDashArray:"dashArray",strokeDashCap:"dashCap",strokeAutoScale:"autoScale"},Le={...ae,strokeTransparency:"strokeTransparency"},X=at(ae),be={strokeShow:"bandLineShow",strokeColor:"bandLineColor",strokeTransparency:"bandLineTransparency",strokeWidth:"bandLineWidth",strokePattern:"bandLinePattern",strokeDashArray:"bandLineDashArray",strokeDashCap:"bandLineDashCap",strokeAutoScale:"bandLineAutoScale",strokeColorMatch:"bandLineMatchColor"},Ie={...at(be),bandLineMatchColor:U.matchLineColor},Ye={bandAreaShow:U.show,bandAreaMatchColor:U.matchLineColor,bandAreaColor:U.genericColor,bandAreaTransparency:U.genericTransparency};function ze(Ee){return{displayName:(0,e.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...X,displayName:{displayName:(0,e.V)("Name"),description:(0,e.V)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},combineSeries:{displayName:(0,e.V)("Visual_Trend_Line_Combine_Series"),description:(0,e.V)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},...Ee&&{useHighlightValues:{displayName:(0,e.V)("Visual_Trend_Line_UseHighlightValues"),description:(0,e.V)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}}}var ee=(0,a.wZ)(_e),ve=ee.error,Te={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},Xe={zoom:{properties:{showOnValueSecAxis:{displayName:(0,e.V)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}},He={objectName:"annotationTemplate",propertyName:"callout"},qe={objectName:"annotationTemplate",propertyName:"highlight"};function rt(Ee,fe=!1){t.fF.assert(()=>He.objectName===qe.objectName,"objectName should be the same");var Re={[He.objectName]:{properties:{}}},re=Re[He.objectName];if(Ee.callout){var se=He.propertyName;re.properties[se]={type:{annotationTemplate:{callout:!0}}},fe&&(re.properties[se].captureState=!0)}if(Ee.highlight){var Ae=qe.propertyName;re.properties[Ae]={type:{annotationTemplate:{highlight:!0}}},fe&&(re.properties[Ae].captureState=!0)}return Re}function me(Ee){var fe=[];return Ee.callout&&fe.push(He),Ee.highlight&&fe.push(qe),{annotationTemplateProperties:fe}}},277216:function(Ce,k,r){r.d(k,{Fw:function(){return C},I8:function(){return y},Sd:function(){return c},bR:function(){return o},hq:function(){return i}});var a=r(454865),e=r(438043),u=r(124463),t=r(430945),C={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},y={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},i={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},o={defaultValue:10,minValue:3,maxValue:30};function c(h){return{dataRoles:[{name:C.analyze,kind:a.DW.Measure,kindPreference:0,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,e.V)("Role_DisplayName_Target"),description:(0,e.V)("DecompositionTree_Analyze_Tooltip")},{name:C.explainBy,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_ExplainBy"),description:(0,e.V)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:C.tooltips,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description"),joinPredicate:0}],dataViewMappings:[{conditions:[{[C.analyze]:{max:1}}],matrix:{rows:{for:{in:C.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:{select:[{for:{in:C.analyze}},{for:{in:C.tooltips}}]}}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[C.tooltips],supportEnhancedTooltips:!1},objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:t.iD.formatString}},[y.analysis]:{displayName:(0,e.V)("Analysis"),description:(0,e.V)("Analysis"),properties:{[i.aiEnabled]:{displayName:(0,e.V)("DecompositionTree_Formatting_EnableAI"),description:(0,e.V)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},[i.aiMode]:{displayName:(0,e.V)("DecompositionTree_AnalysisType"),description:(0,e.V)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,u.i)([{displayName:(0,e.V)("DecompositionTree_AnalysisType_Absolute"),value:"absolute"},{displayName:(0,e.V)("DecompositionTree_AnalysisType_Relative"),value:"relative"}])}}}},[y.tree]:{displayName:(0,e.V)("DecompositionTree_Formatting_Tree"),description:(0,e.V)("DecompositionTree_Formatting_Tree"),properties:{[i.density]:{displayName:(0,e.V)("DecompositionTree_Density"),description:(0,e.V)("DecompositionTree_Density_Description"),type:{enumeration:(0,u.i)([{displayName:(0,e.V)("DecompositionTree_Density_Dense"),value:"dense"},{displayName:(0,e.V)("Default"),value:"default"},{displayName:(0,e.V)("DecompositionTree_Density_Sparse"),value:"sparse"}])}},[i.accentColor]:{displayName:(0,e.V)("DecompositionTree_Formatting_Selected_Line"),description:(0,e.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},[i.connectorDefaultColor]:{displayName:(0,e.V)("DecompositionTree_Formatting_Unselected_Line"),description:(0,e.V)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},[i.connectorType]:{displayName:(0,e.V)("Style"),description:(0,e.V)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,u.i)([{displayName:(0,e.V)("Default"),value:"curve"},{displayName:(0,e.V)("Visual_StrokeLineJoin_Round"),value:"round"}])}},[i.responsiveLayout]:{displayName:(0,e.V)("Visual_General_ResponsiveLabel"),description:(0,e.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},[i.effectiveBarsPerLevel]:{type:{integer:!0}},[i.barsPerLevel]:{displayName:(0,e.V)("DecompositionTree_BarsPerLevel"),description:(0,e.V)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},[i.defaultClickAction]:{displayName:(0,e.V)("DecompositionTree_DefaultAction"),description:(0,e.V)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,u.i)([{displayName:(0,e.V)("DecompositionTree_DefaultAction_Filter"),value:"select"},{displayName:(0,e.V)("Collapse"),value:"toggle"}])}}}},[y.dataBars]:{displayName:(0,e.V)("Visual_Bars_Title"),description:(0,e.V)("Visual_ConditionalFormatting_DataBars"),properties:{[i.positiveBarColor]:{displayName:(0,e.V)("DataBarsDialog_PositiveBar"),description:(0,e.V)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[i.negativeBarColor]:{displayName:(0,e.V)("DataBarsDialog_NegativeBar"),description:(0,e.V)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[i.dataBarBackgroundColor]:{displayName:(0,e.V)("DecompositionTree_Formatting_BarBackground"),description:(0,e.V)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},[i.dataBarColor]:{displayName:(0,e.V)("DecompositionTree_DataBarColor"),description:(0,e.V)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},[i.dataBarWidthPercent]:{displayName:(0,e.V)("DecompositionTree_Formatting_DataBarSize"),description:(0,e.V)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},[i.dataBarScalingType]:{displayName:(0,e.V)("DecompositionTree_Formatting_ScaleType"),description:(0,e.V)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,u.i)([{displayName:(0,e.V)("DecompositionTree_Formatting_ScaleType_TopNode"),value:"topNode"},{displayName:(0,e.V)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:"parentNode"},{displayName:(0,e.V)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:"levelMaximum"}])}},[i.axisStart]:t.iD.axisStart,[i.axisEnd]:t.iD.axisEnd}},[y.categoryLabels]:{displayName:(0,e.V)("Visual_CategoryLabels"),description:(0,e.V)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:{[i.categoryLabelFontFamily]:t.iD.fontFamily,[i.categoryLabelFontSize]:t.iD.fontSize,[i.categoryLabelBold]:t.iD.bold,[i.categoryLabelItalic]:t.iD.italic,[i.categoryLabelUnderline]:t.iD.underline,[i.categoryLabelFontColor]:t.iD.fontColor}},[y.dataLabels]:{displayName:(0,e.V)("Visual_Tablix_Values"),description:(0,e.V)("DecompositionTree_Formatting_ValueLabels_Description"),properties:{[i.dataLabelFontFamily]:t.iD.fontFamily,[i.dataLabelFontSize]:t.iD.fontSize,[i.dataLabelBold]:t.iD.bold,[i.dataLabelItalic]:t.iD.italic,[i.dataLabelUnderline]:t.iD.underline,[i.dataLabelFontColor]:t.iD.fontColor,[i.dataLabelDisplayUnits]:t.iD.labelDisplayUnits,[i.dataLabelPrecision]:t.iD.labelPrecision}},[y.levelHeader]:{displayName:(0,e.V)("Header_Plural"),description:(0,e.V)("DecompositionTree_Formatting_TreeHeader_Description"),properties:{[i.levelHeaderBackgroundColor]:{displayName:(0,e.V)("Generic_Color"),description:(0,e.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},[i.levelTitleFontFamily]:{displayName:(0,e.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,e.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[i.levelTitleFontSize]:{displayName:(0,e.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,e.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},[i.levelTitleBold]:t.iD.bold,[i.levelTitleItalic]:t.iD.italic,[i.levelTitleUnderline]:t.iD.underline,[i.levelTitleFontColor]:{displayName:(0,e.V)("Generic_Color"),description:(0,e.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},[i.showSubtitles]:{displayName:(0,e.V)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,e.V)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},[i.levelSubtitleFontFamily]:{displayName:(0,e.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,e.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[i.levelSubtitleFontSize]:{displayName:(0,e.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,e.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},[i.levelSubtitleBold]:t.iD.bold,[i.levelSubtitleItalic]:t.iD.italic,[i.levelSubtitleUnderline]:t.iD.underline,[i.levelSubtitleFontColor]:{displayName:(0,e.V)("Generic_Color"),description:(0,e.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}}}},[y.insights]:{properties:{[i.isAINode]:{type:{bool:!0}}}}},drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[C.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[C.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:C.analyze,explainByRole:C.explainBy,enableAIProperty:{objectName:y.analysis,propertyName:i.aiEnabled},highlightedAIMatrixNode:{objectName:y.insights,propertyName:i.isAINode},analysisType:{objectName:y.analysis,propertyName:i.aiMode}},ignoreHighlightFilter:!0},suppressVisualCalc:!0}}},539781:function(Ce,k,r){r.d(k,{Ag:function(){return o},V9:function(){return c},cw:function(){return h}});var a=r(160590),e=r(454865),u=r(438043),t=r(664122),C=r(208237),y=r(992840),i=r(430945),o={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},c=(0,a.wZ)(h().objects);function h(d){return{dataRoles:[{name:o.category,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Legend"),displayOrder:1,description:(0,u.V)("Role_DisplayName_LegendDescription")},{name:o.series,kind:e.DW.Grouping,displayName:(0,u.V)("Details"),displayOrder:d?.useModernFormatPane?3:2,description:(0,u.V)("Role_DisplayName_DetailsDonutChartDescription")},{name:o.y,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Values"),displayOrder:d?.useModernFormatPane?2:3,description:(0,u.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:o.tooltips,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,u.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:i.iD.formatString}},legend:i.TQ.legend,dataPoint:{displayName:(0,u.V)("Visual_DataPoint"),description:(0,u.V)("Visual_DataPointDescription"),properties:{defaultColor:i.iD.defaultColor,fill:i.iD.fill}},labels:{displayName:(0,u.V)("Visual_DetailLabels"),properties:{show:i.iD.show,...i.Ns,labelDisplayUnits:i.iD.dataLabelDisplayUnits,labelPrecision:{...i.iD.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...i.iD.percentageLabelPrecision,suppressFormatPainterCopy:!0},labelStyle:{displayName:(0,u.V)("Visual_LabelStyle"),type:{enumeration:y.dt}},position:{displayName:(0,u.V)("Visual_DonutLabelPosition"),type:{enumeration:C.dt}},overflow:{displayName:(0,u.V)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,u.V)("Visual_Background"),type:{enumeration:t.dt}}}},slices:{displayName:(0,u.V)("Visual_Shapes"),description:(0,u.V)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,u.V)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,u.V)("Visual_DonutStartAngle"),type:{integer:!0}},borderWidth:{displayName:(0,u.V)("Visual_DonutBorderWidth"),type:{integer:!0}},borderColor:i.iD.borderColor,explode:{displayName:(0,u.V)("Visual_DonutExplode"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},422919:function(Ce,k,r){r.d(k,{Vh:function(){return c},XN:function(){return i}});var a=r(454865),e=r(438043),u=r(30388),t=r(946056),C=r(430945),y={category:"Category",series:"Series",x:"X",y:"Y",gradient:"Size",tooltips:"Tooltips"};function i(h){return{dataRoles:o(h&&h.cartesianConditionalFormatting),objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:C.iD.formatString}},legend:C.TQ.legend,dataPoint:{displayName:(0,e.V)("Visual_DataPoint"),description:(0,e.V)("Visual_DataPointDescription"),properties:{defaultColor:C.iD.defaultColor,showAllDataPoints:C.iD.showAllDataPoints,fill:C.iD.defaultCategoryColor,fillRule:{displayName:(0,e.V)("Role_DisplayName_Values"),description:(0,e.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:y.gradient,output:{property:"fill",selector:[y.category]}}},transparency:C.iD.genericTransparency}},labels:{displayName:(0,e.V)("Visual_DataPointsLabels"),properties:{show:C.iD.show,color:C.iD.dataColor,labelDisplayUnits:C.iD.labelDisplayUnits,labelPrecision:C.iD.labelPrecision}},categoryLabels:{displayName:(0,e.V)("Visual_CategoryLabels"),properties:{show:C.iD.show}},mapControls:{displayName:(0,e.V)("Visual_MapControls"),description:(0,e.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,e.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,e.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,e.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,e.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,e.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,e.V)("Visual_MapGeocodingCulture"),type:{enumeration:t.dt}}}},mapStyles:{displayName:(0,e.V)("Visual_MapStyles"),description:(0,e.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,e.V)("Visual_MapTheme"),type:{enumeration:u.dt}},showLabels:{displayName:(0,e.V)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:C.iD.show,strokeColor:C.iD.genericColor,strokeWidth:C.iD.width}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:y.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:y.series,select:[{bind:{to:y.x}},{bind:{to:y.y}},{bind:{to:y.gradient}},{for:{in:y.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:y.series}},{composite:[{for:{in:y.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[y.category]:{max:1},[y.series]:{max:1,min:1},[y.x]:{max:0},[y.y]:{max:0},[y.gradient]:{max:0},[y.tooltips]:{max:0}},{[y.category]:{},[y.series]:{max:1},[y.x]:{min:1,max:1},[y.y]:{max:1},[y.gradient]:{max:0}},{[y.category]:{},[y.series]:{max:1},[y.x]:{max:1},[y.y]:{min:1,max:1},[y.gradient]:{max:0}},{[y.category]:{},[y.series]:{max:1},[y.x]:{max:1},[y.y]:{max:1},[y.gradient]:{max:0},[y.tooltips]:{min:1}},{[y.category]:{},[y.series]:{max:0},[y.x]:{max:1},[y.y]:{max:1},[y.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:y.category}}]},columns:{for:{in:y.series}},values:{select:[{bind:{to:y.x}},{bind:{to:y.y}},{bind:{to:y.gradient}},{for:{in:y.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:y.gradient,direction:2}]}},drilldown:{roles:[y.category]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[y.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!h?.enableCalculationScatterChartMap}}function o(h){var d=[{name:y.category,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Location"),description:(0,e.V)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:y.series,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Legend"),description:(0,e.V)("Role_DisplayName_LegendDescription")},{name:y.y,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Latitude"),description:(0,e.V)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:y.x,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Longitude"),description:(0,e.V)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return h||d.push({name:y.gradient,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Gradient"),description:(0,e.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),d.push({name:y.tooltips,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description"),joinPredicate:0}),d}var c={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},434228:function(Ce,k,r){r.d(k,{IW:function(){return i},jP:function(){return o},qW:function(){return c}});var a=r(160590),e=r(454865),u=r(438043),t=r(233317),C=r(158799),y=r(430945),i={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},o=(0,a.wZ)(c().objects);function c(h){return{dataRoles:[{name:i.category,kind:e.DW.Grouping,displayName:(0,u.V)(h?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,u.V)("Role_DisplayName_GroupFunnelDescription")},{name:i.y,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Values"),description:(0,u.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!h?.cartesianConditionalFormatting&&{name:i.gradient,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Gradient"),description:(0,u.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0},{name:i.tooltips,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Tooltips"),description:(0,u.V)("Role_Tooltips_Description"),joinPredicate:0}].filter(d=>d),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:y.iD.formatString}},categoryAxis:{displayName:(0,u.V)("Visual_CategoryLabels"),description:(0,u.V)("Visual_CategoryLabelOptionsDescription"),properties:{...y.PP}},dataPoint:{displayName:(0,u.V)("Visual_DataPoint"),description:(0,u.V)("Visual_DataPointDescription"),properties:{defaultColor:y.iD.defaultColor,showAllDataPoints:y.iD.showAllDataPoints,fill:y.iD.defaultCategoryColor,fillRule:{displayName:(0,u.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,u.V)("Visual_DataPointsLabels"),description:(0,u.V)("Visual_DataPointsLabelsDescription"),properties:{show:y.iD.show,labelPosition:{displayName:(0,u.V)("Visual_Position"),type:{enumeration:C.O},suppressFormatPainterCopy:!0},labelDisplayUnits:y.iD.dataLabelDisplayUnits,labelPrecision:{...y.iD.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...y.iD.percentageLabelPrecision,suppressFormatPainterCopy:!0},funnelLabelStyle:{displayName:(0,u.V)("Visual_LabelStyle"),type:{enumeration:t.dt}},...y.Ns,...y.BO}},percentBarLabel:{displayName:(0,u.V)("Visual_PercentBarLabel"),description:(0,u.V)("Visual_PercentBarLabelDescription"),properties:{show:y.iD.show,...y.Ns}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},693082:function(Ce,k,r){r.d(k,{J:function(){return C},V:function(){return t},gaugeProps:function(){return y}});var a=r(454865),e=r(438043),u=r(430945),t={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},C={dataRoles:[{name:t.y,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Value"),description:(0,e.V)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.minValue,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_MinValue"),description:(0,e.V)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.maxValue,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_MaxValue"),description:(0,e.V)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.targetValue,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_TargetValue"),description:(0,e.V)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{properties:{formatString:u.iD.formatString}},axis:{displayName:(0,e.V)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,e.V)("Min"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,e.V)("Max"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,e.V)("Visual_Gauge_Axis_Target"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,e.V)("Visual_DataPoint"),properties:{fill:u.iD.fill,target:{displayName:(0,e.V)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,e.V)("Visual_DataPointsLabels"),properties:{show:u.iD.show,...u.Ns,labelDisplayUnits:u.iD.labelDisplayUnits,labelPrecision:u.iD.labelPrecision}},target:{displayName:(0,e.V)("Visual_Gauge_Axis_Target"),properties:{show:u.iD.show,...u.Ns,labelDisplayUnits:u.iD.labelDisplayUnits,labelPrecision:u.iD.labelPrecision}},calloutValue:{displayName:(0,e.V)("Visual_Gauge_CalloutValue"),properties:{show:u.iD.show,..._.omit(u.Ns,["fontSize"]),labelDisplayUnits:u.iD.labelDisplayUnits,labelPrecision:u.iD.labelPrecision,showDynamicLabels:u.iD.showDynamicLabels,dynamicLabelValue:u.iD.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,supportsDataDrivenAlerts:!0},y={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},420708:function(Ce,k,r){r.d(k,{Jz:function(){return y},_g:function(){return C}});var a=r(160590),e=r(438043),u=r(134840),t={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:(0,e.V)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,e.V)("Visual_Image_Scaling_Type"),type:{enumeration:u.H}}}}},C=(0,a.wZ)(t),y={objects:t,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}},285261:function(Ce,k,r){r.d(k,{ml:function(){return h},qG:function(){return o},yM:function(){return d}});var a=r(160590),e=r(454865),u=r(438043),t=r(298932),C=r(825984),y=r(911114),i=r(51545),o={target:"Target",explainBy:"ExplainBy",details:"Details"},c={keyDrivers:{displayName:(0,u.V)("Analysis"),description:(0,u.V)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,u.V)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,u.V)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,u.V)("Visual_KeyDrivers_AllowProfiles"),description:(0,u.V)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,u.V)("Visual_KeyDrivers_NumericAnalysis"),description:(0,u.V)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:y.dt},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,u.V)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,u.V)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,u.V)("KeyDriver_CountType"),description:(0,u.V)("KeyDriver_CountType_Description"),type:{enumeration:C.dt}},selectedAnalysis:{type:{enumeration:t.dt},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:i.dt},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,u.V)("Visual_KeyDriversVisualColors"),description:(0,u.V)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,u.V)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,u.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,u.V)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,u.V)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,u.V)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,u.V)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,u.V)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,u.V)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,u.V)("Background_Color"),description:(0,u.V)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,u.V)("Visual_FontColor"),description:(0,u.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,u.V)("Visual_KeyDriversDrillVisualColors"),description:(0,u.V)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,u.V)("Visual_DefaultColor"),description:(0,u.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,u.V)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,u.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},h=(0,a.wZ)(c);function d(){return{dataRoles:[{name:o.target,kind:e.DW.GroupingOrMeasure,kindPreference:1,displayName:(0,u.V)("Role_DisplayName_Target"),description:(0,u.V)("Role_DisplayName_TargetDescription")},{name:o.explainBy,kind:e.DW.GroupingOrMeasure,displayName:(0,u.V)("Role_DisplayName_ExplainBy"),description:(0,u.V)("Role_DisplayName_ExplainByDescription")},{name:o.details,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Details"),description:(0,u.V)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:c,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[{[o.target]:{min:1,max:1}}],table:{rows:{select:[{bind:{to:o.target}},{for:{in:o.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}},714330:function(Ce,k,r){r.d(k,{Pn:function(){return o},Te:function(){return d},pW:function(){return h},xg:function(){return n}});var a=r(160590),e=r(454865),u=r(438043),t=r(23472),C=r(731528),y=r(422910),i=r(430945),o={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function c(s){var p=s&&s.useModernFormatPane;return[{name:o.indicator,kind:e.DW.Measure,displayName:(0,u.V)(p?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,u.V)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:o.trendLine,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_KPI_TrendLine"),description:(0,u.V)("Role_DisplayName_KPI_Trendline_Description")},{name:o.goal,kind:e.DW.Measure,displayName:(0,u.V)(p?"Target":"Role_DisplayName_KPI_Goal"),description:(0,u.V)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function h(s){return{dataRoles:c(s),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:i.iD.formatString}},indicator:{displayName:(0,u.V)("Role_DisplayName_KPI_Indicator"),description:(0,u.V)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,u.V)("Visual_DisplayUnits"),description:(0,u.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:i.iD.labelPrecision,...i.KG,showIcon:i.iD.showIcon,iconSize:i.iD.iconSize,verticalAlignment:i.iD.verticalAlignment,horizontalAlignment:i.iD.horizontalAlignment}},trendline:{displayName:(0,u.V)("Role_DisplayName_KPI_TrendLine"),description:(0,u.V)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:i.iD.show,transparency:i.iD.genericTransparency}},goals:{displayName:(0,u.V)("Role_DisplayName_KPI_Goals"),description:(0,u.V)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,u.V)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,u.V)("Role_DisplayName_Label"),type:{text:!0}},fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,goalFontFamily:i.iD.fontFamily,goalFontColor:i.iD.fontColor,showDistance:{displayName:(0,u.V)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,u.V)("Role_DisplayName_Label"),type:{enumeration:y.dt}},labelPrecision:i.iD.labelPrecision,titleFontSize:i.iD.fontSize,titleBold:i.iD.bold,titleItalic:i.iD.italic,titleUnderline:i.iD.underline,distanceFontFamily:i.iD.fontFamily,distanceFontColor:i.iD.fontColor,direction:{displayName:(0,u.V)("Visual_KPI_DistanceDirection"),type:{enumeration:C.dt}}}},status:{displayName:(0,u.V)("Role_DisplayName_KPI_Color_Coding"),description:(0,u.V)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,u.V)("Visual_KPI_Direction"),type:{enumeration:t.dt}},goodColor:{displayName:(0,u.V)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,u.V)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,u.V)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,u.V)("ConditionalFormattingDialog_Date"),description:(0,u.V)("Role_DisplayName_KPI_Date_Description"),properties:{show:i.iD.show,..._.omit(i.Ns,["fontFamily","color"]),lastDateFontFamily:i.iD.fontFamily,lastDateFontColor:i.iD.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:1}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var d=(0,a.wZ)(h().objects),n={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},430806:function(Ce,k,r){r.d(k,{BX:function(){return v},My:function(){return s},lineChartObjectProps:function(){return p},yg:function(){return l},zK:function(){return V}});var a=r(939123),e=r(160590),u=r(454865),t=r(438043),C=r(783203),y=r(13541),i=r(45376),o=r(558124),c=r(320810),h=r(913615),d=r(430945),n=r(486584);function s(S,P,D=!1){var M={general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:d.iD.formatString,responsive:d.iD.responsive,responsiveLegacy:d.iD.responsiveLegacy}},annotations:{properties:{datapoints:d.iD.datapoints}},legend:{displayName:d.TQ.legend.displayName,description:d.TQ.legend.description,properties:{...d.TQ.legend.properties,legendMarkerRendering:d.iD.legendMarkerRendering,matchLineColor:d.iD.matchLineColor}},subheader:{...d.TQ.subheader},[C.Xi]:{...d.TQ.smallMultiplesLayout},categoryAxis:{displayName:(0,t.V)("Visual_XAxis"),properties:{show:d.iD.show,...d.pT,...d.Mu,...d.wF,...(0,d.Me)("x"),...d.WV,...(S&&P||D)&&{reverseStackOrder:d.iD.reverseStackOrder}}},valueAxis:{displayName:(0,t.V)("Visual_YAxis"),properties:{show:d.iD.show,...d.yl,...d.wF,...(0,d.Me)("y"),...d.WV,switchAxisPosition:d.iD.switchAxisPosition}},y2Axis:{displayName:(0,t.V)("Visual_Y2Axis"),properties:{show:d.iD.show,..._.omit(d.sJ,["alignZeros","switchAxisPosition","secShow"])}},zoom:{displayName:d.TQ.zoom.displayName,properties:{...d.TQ.zoom.properties,...d.DW.zoom.properties}},dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,t.V)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:d.iD.defaultColor,fill:d.iD.genericColor,showAllDataPoints:d.iD.showAllDataPoints}},layout:{displayName:(0,t.V)("Layout"),properties:{...(S&&P||D)&&{seriesOrderReversed:d.iD.seriesOrderReversed}}},labels:{displayName:(0,t.V)("Visual_DataPointsLabels"),description:(0,t.V)("Visual_DataPointsLabelsDescription"),properties:{show:d.iD.show,showByDefault:d.iD.boolWithoutDescription,showSeries:d.iD.show,showAll:d.iD.labelSeriesShowAll,...d.Zt,maximumOffset:d.iD.maximumOffset,minimumOffset:d.iD.minimumOffset,...d.BO,...d.t_,...d.QN,...d.Xn,...d.gq,labelContentLayout:d.iD.labelContentLayout,horizontalAlignment:d.iD.horizontalAlignment,leaderLines:d.iD.leaderLines,...(!S||D)&&(0,d.CG)(d.Hs)}},...(S||D)&&{totals:d.TQ.totals},seriesLabels:d.TQ.seriesLabels,lineStyles:{displayName:(0,t.V)("Visual_Shapes"),description:(0,t.V)("Visual_ShapesDescription"),properties:{...(0,d.CG)({strokeShow:"strokeShow",strokeWidth:"strokeWidth",strokeColor:void 0,strokeTransparency:"strokeTransparency",strokePattern:"lineStyle",strokeLineJoin:"strokeLineJoin",strokeAutoScale:"strokeAutoScale",strokeDashArray:"strokeDashArray",strokeDashCap:"strokeDashCap"}),showMarker:d.iD.show,markerShape:d.iD.markerShape,markerSize:d.iD.markerSize,markerColor:d.iD.genericColor,showMarkerByDefault:d.iD.boolWithoutDescription,showSeries:d.iD.labelSeriesShowAll,...b({interpolation:"lineChartType"}),areaShow:{displayName:(0,t.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},areaColor:d.iD.genericColor,areaMatchStrokeColor:d.iD.matchLineColor}},markers:d.TQ.markers,plotArea:d.TQ.plotArea,trend:(0,d.Fe)(!0),scalarKey:{properties:{min:{type:{dateTime:!0}}}},y1AxisReferenceLine:{displayName:(0,t.V)("Visual_Reference_Line_Y"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...d.xF,...d.I3}},xAxisReferenceLine:{displayName:(0,t.V)("Visual_Reference_Line_X"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...d.xF,...d.cd}},...(!S||D)&&{referenceLine:{displayName:(0,t.V)("Visual_Reference_Line"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...d.xF,...d.I3}}},...(!S&&!P||D)&&{error:{...d.TQ.error},forecast:{displayName:(0,t.V)("Visual_Forecast"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{displayName:{displayName:(0,t.V)("Name"),description:(0,t.V)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},...(0,d.CG)(d.ZB),...d.Oc,...d.iQ,matchSeriesInterpolation:{displayName:(0,t.V)("Visual_MatchSeriesInterpolation"),type:{bool:!0}},...b(),transform:{type:{queryTransform:{}}}}}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(0,d.A5)({callout:!0},!0)};return delete M.categoryAxis.properties.innerPadding,M}var p=(0,e.wZ)(s(!0,!0,!0));function l(S,P,D){var M=D&&D.useModernFormatPane;a.fF.assert(()=>!S||P,"Non-area stacked line is not supported");var E=s(S,P,void 0),w=[{name:h.Rm.Category,kind:u.DW.Grouping,displayName:(0,t.V)(M?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,t.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:h.Rm.Series,kind:u.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Legend"),displayOrder:M?4:2,description:(0,t.V)("Role_DisplayName_LegendDescription")},{name:h.Rm.Y,kind:u.DW.Measure,displayName:(0,t.V)(M?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:M?2:3,description:(0,t.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];S||w.push({name:h.Rm.Y2,kind:u.DW.Measure,displayName:(0,t.V)(M?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:M?3:4,description:(0,t.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}),w.push({name:h.Rm.Rows,kind:u.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.V)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),w.push({name:h.Rm.Tooltips,kind:u.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:0});var O,x={dataRoles:w,objects:E,dataViewMappings:[(O={conditions:[{[h.Rm.Series]:{max:0},[h.Rm.Rows]:{min:1}},{[h.Rm.Series]:{min:1,max:1},[h.Rm.Y]:{max:1},[h.Rm.Rows]:{min:1}},{[h.Rm.Series]:{min:1,max:1},[h.Rm.Y]:{max:0},[h.Rm.Rows]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:h.Rm.Rows}}],dataReductionAlgorithm:{window:{count:C.QS}}},{composite:[{for:{in:h.Rm.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:h.Rm.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:h.Rm.Y}},{for:{in:h.Rm.Tooltips}}]},dataVolume:6}},S||m(O),O),function(){var O={conditions:[{[h.Rm.Series]:{max:0},[h.Rm.Rows]:{max:0}},{[h.Rm.Series]:{min:1,max:1},[h.Rm.Y]:{max:1},[h.Rm.Rows]:{max:0}},{[h.Rm.Series]:{min:1,max:1},[h.Rm.Y]:{max:0},[h.Rm.Rows]:{max:0}}],categorical:{categories:{for:{in:h.Rm.Category}},values:{group:{by:h.Rm.Series,select:[{for:{in:h.Rm.Y}},{for:{in:h.Rm.Tooltips}}]}}}};return S?function(S){a.fF.assertValue(S,"mapping"),a.fF.assertValue(S.categorical,"categorical mapping");var P=S.categorical;P.dataReductionAlgorithm=void 0,P.categories.dataReductionAlgorithm={sample:{}},P.values.group.dataReductionAlgorithm={top:{}}}(O):function(S){if(a.fF.assertValue(S,"mapping"),S.categorical){var P=S.categorical;P.dataReductionAlgorithm={binnedLineSample:{}},P.categories.dataReductionAlgorithm=void 0,P.values.group.dataReductionAlgorithm=void 0}else S.matrix&&a.fF.assertFail("Binned sampling not supported in this configuration")}(O),S||m(O),O}(),{conditions:[{[h.xV.rows]:{max:0},[h.Rm.Series]:{max:0}},{[h.xV.rows]:{max:0},[h.Rm.Series]:{min:1,max:1},[h.Rm.Y]:{max:1},[h.Rm.Y2]:{max:0}},{[h.xV.rows]:{max:0},[h.Rm.Series]:{min:1,max:1},[h.Rm.Y]:{max:0},[h.Rm.Y2]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[h.xV.rows]:{max:0},[h.Rm.Series]:{max:0},[h.Rm.Category]:{min:1},[h.Rm.Y]:{min:1,max:1},[h.Rm.Y2]:{max:0}}],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:h.Rm.Category}},values:{group:{by:h.Rm.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}},{conditions:[{[h.Rm.Rows]:{max:0},[h.Rm.Series]:{max:0},[h.Rm.Category]:{min:1},[h.Rm.Y]:{min:1,max:1},[h.Rm.Y2]:{max:0}}],requiredProperties:[{objectName:y.xn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:h.Rm.Category}},values:{group:{by:h.Rm.Series,select:[{for:{in:y.rj.ExpectedValue}},{for:{in:y.rj.ExpectedLow}},{for:{in:y.rj.ExpectedHigh}},{for:{in:y.rj.RawScore}},{for:{in:y.rj.Anomaly}},{for:{in:y.rj.BatchStart}},{for:{in:y.rj.BatchEnd}}]}}}}],sorting:{default:{}},drilldown:{roles:[h.Rm.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[h.Rm.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:y.r3}},expandAndSort:[h.Rm.Category],supportsOnObjectFormatting:!0,visualAnnotations:{annotationProperties:[{objectName:"annotations",propertyName:"datapoints"}]},annotationTemplates:(0,d.kW)({callout:!0})};return!S&&!P&&D&&D.daxTransformEnabled&&(x.objects[y.xn]={displayName:(0,t.V)("Visual_AnomalyDetection"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{[y.JS.showAnomalies]:d.iD.show,[y.JS.displayName]:{displayName:(0,t.V)("Name"),description:(0,t.V)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},[n.m6.show]:d.iD.show,[n.m6.shape]:{displayName:(0,t.V)("Type"),description:(0,t.V)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:i.XM}},[n.m6.size]:d.iD.markerSize,[n.m6.color]:d.iD.genericColor,[n.m6.transparency]:d.iD.genericTransparency,[n.m6.rotation]:d.iD.genericRotation,...(0,d.CG)(n.m6),[y.JS.confidenceBandShow]:d.iD.show,[y.JS.confidenceBandStyle]:{displayName:(0,t.V)("Style"),description:(0,t.V)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:o.Qm}},[y.JS.confidenceBandTransparency]:d.iD.genericTransparency,[y.JS.confidenceBandColor]:d.iD.genericColor,[y.K1.CategoryValue]:{type:{dateTime:!0}},[y.K1.Value]:{type:{numeric:!0}},[y.K1.ExpectedValue]:{type:{numeric:!0}},[y.K1.ExpectedLow]:{type:{numeric:!0}},[y.K1.ExpectedHigh]:{type:{numeric:!0}},[y.K1.BatchStart]:{type:{dateTime:!0}},[y.K1.BatchEnd]:{type:{dateTime:!0}},transform:{type:{queryTransform:{}}},[y.JS.explainBy]:{type:{exprList:{}}},[y.JS.isAnomalyHighlighted]:{type:{bool:!0}}}}),x}function m(S){var P;_.find(S.conditions,D=>_.isEqual(D[h.Rm.Series],{min:1,max:1})&&_.isEqual(D[h.Rm.Y],{max:1}))[h.Rm.Y2]={max:0},_.find(S.conditions,D=>_.isEqual(D[h.Rm.Series],{min:1,max:1})&&_.isEqual(D[h.Rm.Y],{max:0}))[h.Rm.Y2]={max:1},S.categorical?P=S.categorical.values.group.select:S.matrix&&(P=S.matrix.values.select),P.splice(1,0,{for:{in:h.Rm.Y2}})}function b(S={}){var{interpolation:P="interpolation",interpolationStep:D="interpolationStep",interpolationSmooth:M="interpolationSmooth",interpolationSmoothParam:E="interpolationSmoothParam"}=S;return{[P]:{displayName:(0,t.V)("Visual_Interpolation"),description:(0,t.V)("Visual_InterpolationDescription"),type:{enumeration:c.CO}},[D]:{displayName:(0,t.V)("Visual_SteppedPosition"),type:{enumeration:c.oI}},[M]:{displayName:(0,t.V)("Visual_SmoothType"),type:{enumeration:c.cZ}},[E]:{displayName:(0,t.V)("Visual_LineInterp_Tension"),type:{numeric:!0}}}}var V={dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},layout:{seriesOrderReversed:{objectName:"layout",propertyName:"seriesOrderReversed"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},legend:{legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},leaderLineColor:{objectName:"labels",propertyName:"leaderLineColor"},leaderLineTransparency:{objectName:"labels",propertyName:"leaderLineTransparency"},leaderLineWidth:{objectName:"labels",propertyName:"leaderLineWidth"},leaderLinePattern:{objectName:"labels",propertyName:"leaderLinePattern"},leaderLineDashArray:{objectName:"labels",propertyName:"leaderLineDashArray"},leaderLineDashCap:{objectName:"labels",propertyName:"leaderLineDashCap"},leaderLineAutoScale:{objectName:"labels",propertyName:"leaderLineAutoScale"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},markers:{show:{objectName:"lineStyles",propertyName:"showMarker"},shape:{objectName:"lineStyles",propertyName:"markerShape"},size:{objectName:"lineStyles",propertyName:"markerSize"},color:{objectName:"lineStyles",propertyName:"markerColor"},...d.hk},lineStyles:{areaShow:{objectName:"lineStyles",propertyName:"areaShow"},areaTransparency:{objectName:"dataPoint",propertyName:"transparency"},areaColor:{objectName:"lineStyles",propertyName:"areaColor"},areaMatchStrokeColor:{objectName:"lineStyles",propertyName:"areaMatchStrokeColor"},strokeShow:{objectName:"lineStyles",propertyName:"strokeShow"},strokeColor:{objectName:"dataPoint",propertyName:"fill"},strokeTransparency:{objectName:"lineStyles",propertyName:"strokeTransparency"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},strokePattern:{objectName:"lineStyles",propertyName:"lineStyle"},strokeDashArray:{objectName:"lineStyles",propertyName:"strokeDashArray"},strokeDashCap:{objectName:"lineStyles",propertyName:"strokeDashCap"},strokeAutoScale:{objectName:"lineStyles",propertyName:"strokeAutoScale"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},interpolation:{objectName:"lineStyles",propertyName:"lineChartType"},interpolationStep:{objectName:"lineStyles",propertyName:"interpolationStep"},interpolationSmooth:{objectName:"lineStyles",propertyName:"interpolationSmooth"},interpolationSmoothParam:{objectName:"lineStyles",propertyName:"interpolationSmoothParam"}}};function v(S,P){if(a.fF.assertValue(S,"mapping"),S.categorical){var D=S.categorical;if(!D)return;D.dataReductionAlgorithm=void 0,D.categories.dataReductionAlgorithm={window:{count:200}},D.values.group.dataReductionAlgorithm={top:{count:60}}}else P&&(0,C.qO)(S)&&(S.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},92946:function(Ce,k,r){r.d(k,{N:function(){return c},a:function(){return o},mapProps:function(){return s}});var a=r(454865),e=r(438043),u=r(30388),t=r(978342),C=r(946056),y=r(252582),i=r(430945),o={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"};function c(p){return{dataRoles:h(p&&p.cartesianConditionalFormatting,p&&p.useModernFormatPane),objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:i.iD.formatString}},legend:i.TQ.legend,dataPoint:{displayName:(0,e.V)("Visual_DataPoint"),description:(0,e.V)("Visual_DataPointDescription"),properties:{defaultColor:i.iD.defaultColor,showAllDataPoints:i.iD.showAllDataPoints,fill:i.iD.defaultCategoryColor,fillRule:{displayName:(0,e.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:o.gradient,output:{property:"fill",selector:[o.category,o.x,o.y]}}},transparency:i.iD.genericTransparency}},categoryLabels:{displayName:(0,e.V)("Visual_CategoryLabels"),description:(0,e.V)("Visual_CategoryLabelsDescription"),properties:{...i.PP,...i.BO}},bubbles:{displayName:(0,e.V)("Visual_Bubbles"),description:(0,e.V)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,e.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,e.V)("Visual_MarkerRangeType"),type:{enumeration:y.v6}}}},mapControls:{displayName:(0,e.V)("Visual_MapControls"),description:(0,e.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,e.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,e.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,e.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,e.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,e.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,e.V)("Visual_MapGeocodingCulture"),type:{enumeration:C.dt}}}},mapStyles:{displayName:(0,e.V)("Visual_MapStyles"),description:(0,e.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,e.V)("Visual_MapTheme"),type:{enumeration:u.dt}},showLabels:{displayName:(0,e.V)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,e.V)("Visual_HeatMap"),properties:{show:i.iD.show,filterRadius:{displayName:(0,e.V)("Visual_Radius"),type:{numeric:!0}},transparency:i.iD.backgroundTransparency,unit:{displayName:(0,e.V)("Visual_Forecast_Parameter_Units"),type:{enumeration:t.dt}},color0:{displayName:(0,e.V)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,e.V)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,e.V)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.DW.Measure},Y:{max:1,min:1,kind:a.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:a.DW.Measure},Y:{max:1,kind:a.DW.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:o.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:o.series,select:[{bind:{to:o.x}},{bind:{to:o.y}},{bind:{to:o.size}},{bind:{to:o.gradient}},{for:{in:o.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:a.DW.Grouping},Y:{max:1,kind:a.DW.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:a.DW.Grouping},Y:{max:1,kind:a.DW.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:o.x}},{bind:{to:o.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:o.series,select:[{bind:{to:o.size}},{bind:{to:o.gradient}},{for:{in:o.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:o.series}},{composite:[{for:{in:o.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:a.DW.Grouping},Y:{max:1,kind:a.DW.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:o.series}},{composite:[{bind:{to:o.x}},{bind:{to:o.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:o.tooltips}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[o.category]:{max:1,min:1},[o.series]:{max:1,min:1},[o.x]:{max:0},[o.y]:{max:0},[o.size]:{max:0},[o.gradient]:{max:0},[o.tooltips]:{max:0}},{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1,min:1},[o.gradient]:{max:0}},{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{max:1,min:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1},[o.gradient]:{max:0}},{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,min:1,kind:a.DW.Measure},[o.size]:{max:1},[o.gradient]:{max:0}},{[o.category]:{min:1},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1},[o.gradient]:{max:0},[o.tooltips]:{min:1}},{[o.category]:{min:1},[o.series]:{max:0},[o.x]:{max:1,kind:a.DW.Measure},[o.y]:{max:1,kind:a.DW.Measure},[o.size]:{max:1},[o.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:o.category}}]},columns:{for:{in:o.series}},values:{select:[{bind:{to:o.x}},{bind:{to:o.y}},{bind:{to:o.size}},{for:{in:o.tooltips}}]}}},{conditions:[{[o.category]:{max:0},[o.series]:{max:1,min:1},[o.x]:{max:1,kind:a.DW.Grouping},[o.y]:{max:1,kind:a.DW.Grouping},[o.size]:{max:0},[o.gradient]:{max:0},[o.tooltips]:{}},{[o.category]:{max:0},[o.series]:{max:1},[o.x]:{max:1,kind:a.DW.Grouping},[o.y]:{max:1,kind:a.DW.Grouping},[o.size]:{max:1,min:1},[o.gradient]:{max:0}},{[o.category]:{max:0},[o.series]:{max:0},[o.x]:{max:1,kind:a.DW.Grouping},[o.y]:{max:1,kind:a.DW.Grouping},[o.size]:{max:1},[o.gradient]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:o.x}},{for:{in:o.y}}]}]},columns:{for:{in:o.series}},values:{select:[{bind:{to:o.size}},{for:{in:o.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:o.size,direction:2}]}},drilldown:{roles:[o.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:o.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!p?.enableCalculationScatterChartMap}}function h(p,l){var m=[{name:o.category,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Location"),description:(0,e.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:o.series,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Legend"),description:(0,e.V)("Role_DisplayName_LegendDescription")},{name:o.y,kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)("Role_DisplayName_Latitude"),description:(0,e.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:o.x,kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)("Role_DisplayName_Longitude"),description:(0,e.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:o.size,kind:a.DW.Measure,displayName:(0,e.V)(l?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,e.V)(l?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return p||m.push({name:o.gradient,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Gradient"),description:(0,e.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),m.push({name:o.tooltips,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description"),joinPredicate:0}),m}var s={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},279794:function(Ce,k,r){r.d(k,{N6:function(){return t},Wj:function(){return e},eT:function(){return u}});var a=r(794371);function e(C){var y=C.dataViewMappings[0];if(y.categorical){var o,i=y.categorical.categories;if(i.select&&(o=y.categorical.values,_.isEmpty(o.group.select[0].bind.to.items))){i.dataReductionAlgorithm=void 0,o.group.dataReductionAlgorithm=void 0;var h={},d=_.find(i.select,p=>"X"===p.bind.to.role),n=_.find(i.select,p=>"Y"===p.bind.to.role);h.x=d?{role:d.bind.to}:void 0,h.y=n?{role:n.bind.to}:void 0,y.categorical.dataReductionAlgorithm={overlappingPointsSample:h}}(!o||_.isEmpty(o.group.by.items))&&y.metadata&&y.metadata.objects&&y.metadata.objects.heatMap&&y.metadata.objects.heatMap.show&&(y.categorical.dataVolume=5)}}function u(C,y){if(C&&y)for(var i of y)if(i.categorical&&i.categorical.categories&&i.categorical.categories.select&&!C.Size&&C.Series)return!0}function t(C){return(0,a.T6)(C,1)}},112072:function(Ce,k,r){r.d(k,{d:function(){return C},r:function(){return t}});var a=r(454865),e=r(438043),u=r(430945),t={rows:"Rows",columns:"Columns",values:"Values"},C={dataRoles:[{name:t.rows,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Rows"),description:(0,e.V)("Role_DisplayName_RowsDescription")},{name:t.columns,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Columns"),description:(0,e.V)("Role_DisplayName_ColumnsDescription")},{name:t.values,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:u.iD.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,e.V)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,e.V)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,e.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,e.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,e.V)("Visual_Grid"),properties:{outlineColor:u.iD.outlineColor,outlineWeight:u.iD.outlineWeight,gridVertical:{displayName:(0,e.V)("Visual_GridVertical"),description:(0,e.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,e.V)("Visual_GridVertical_Color"),description:(0,e.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,e.V)("Visual_GridVertical_Weight"),description:(0,e.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,e.V)("Visual_GridHorizontal"),description:(0,e.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,e.V)("Visual_GridHorizontal_Color"),description:(0,e.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,e.V)("Visual_GridHorizontal_Weight"),description:(0,e.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,e.V)("Visual_RowPadding"),description:(0,e.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,e.V)("Visual_Tablix_ImageHeight"),description:(0,e.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,e.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:u.iD.outline,fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor}},rowHeaders:{displayName:(0,e.V)("Visual_Tablix_RowHeaders"),properties:{outline:u.iD.outline,fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor,wordWrap:u.iD.wordWrap}},values:{displayName:(0,e.V)("Visual_Tablix_Values"),properties:{outline:u.iD.outline,backColor:{displayName:(0,e.V)("Background_Color"),description:(0,e.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,e.V)("Visual_FontColor"),description:(0,e.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,e.V)("Background_Color"),description:(0,e.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,e.V)("Visual_Tablix_FontColorSecondary"),description:(0,e.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,e.V)("Visual_Tablix_BackColorSecondary"),description:(0,e.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,e.V)("Visual_Tablix_TotalSub"),properties:{outline:u.iD.outline,fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor}},total:{displayName:(0,e.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:u.iD.outline,fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor,applyToHeaders:{displayName:(0,e.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor,styleHeader:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[t.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[t.columns],displayName:(0,e.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,e.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,e.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[t.rows],displayName:(0,e.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,e.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,e.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},395129:function(Ce,k,r){r.d(k,{Mb:function(){return y},Pt:function(){return o},_i:function(){return i}});var a=r(160590),e=r(454865),u=r(438043),t=r(430945),C={general:{properties:{formatString:t.iD.formatString}},dataLabels:{displayName:(0,u.V)("Visual_DataPointsLabels"),description:(0,u.V)("Visual_DataPointsLabelsDescription"),properties:{...t.Ns}},categoryLabels:{displayName:(0,u.V)("Visual_CategoryLabels"),description:(0,u.V)("Visual_CategoryLabelsDescription"),properties:{...t.PP}},cardTitle:{displayName:(0,u.V)("Visual_CardTitle"),description:(0,u.V)("Visual_CardTitleDescription"),properties:{...t.Ns}},card:{displayName:(0,u.V)("Card_ToolTip"),properties:{...t.r8,barShow:{displayName:(0,u.V)("Visual_MultiRowCard_BarShow"),description:(0,u.V)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,u.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,u.V)("Visual_MultiRowCard_BarWeight"),description:(0,u.V)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,u.V)("Visual_Padding"),description:(0,u.V)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,u.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},y=(0,a.wZ)(C),i={dataRoles:[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,u.V)("Role_DisplayName_Fields"),description:(0,u.V)("Role_DisplayName_FieldsDescription")}],objects:C,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!0,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},o={card:{outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},794371:function(Ce,k,r){r.d(k,{DS:function(){return o},T6:function(){return h},YW:function(){return l},gY:function(){return n},hK:function(){return C},vx:function(){return c}});var a=r(329034),e=r(913615),u=r(714330),t=r(707562);function C(m){return(0,t.uS)(m)&&m.for?i(m.for.in,3):(0,t.Ci)(m)&&m.bind?i(m.bind.to,3):void 0}function y(m){return m&&m.scalarKeyInfo&&m.scalarKeyInfo.hasScalarKey||(0,a.Hx)(m&&m.type)?2:1}function i(m,b){var V=[];if(!m||m.role===e.xV.tooltips||_.isEmpty(m.items))return V;var g=m.activeItems;for(var v of m.items)if(!_.some(g)||_.includes(g,v.queryName)){var f=0;m.role===u.Pn.goal&&(f=6),V.push({selectName:v.queryName,kind:b,roleKind:f})}return V}function o(m){var g,b=[],V=m.categorical.categories;return(0,t.uS)(V)&&V.for&&V.for.in&&(g=y(_.first(V.for.in.items)),b.push(...i(V.for.in,g))),b}function c(m){var b=[],V=m.categorical.values;if(V&&V.group){var g=V.group;if(b.push(...i(g.by,1)),g.select)for(var v of g.select){var f=C(v);_.isEmpty(f)||b.push(...f)}}if(V&&V.select)for(var S of V.select){var P=C(S);_.isEmpty(P)||b.push(...P)}return b}function h(m,b){var V=_.first(m.dataViewMappings);if(!V||!V.categorical||!V.categorical.categories)return{subjectKind:b,error:2,bindings:void 0};var g=o(V);return g.push(...c(V)),_.isEmpty(g)?{subjectKind:b,error:2,bindings:void 0}:{subjectKind:b,error:void 0,bindings:g}}function n(m,b){var V=function(m){var b=[],V=m.rows,g=[],v=[];for(var f of V.select)if((0,t.Ci)(f)&&f.bind&&f.bind.to){var P=y(_.first(f.bind.to.items));v.push(...i(f.bind.to,P))}else if((0,t.k2)(f)&&f.composite&&f.composite)for(var D of f.composite)if((0,t.uS)(D)&&D.for&&D.for.in){var E=y(_.first(D.for.in.items));g.push(...i(D.for.in,E))}b.push(...g),b.push(...v);var w=m.values;if(w&&w.select)for(var x of w.select){var N=C(x);_.isEmpty(N)||b.push(...N)}return b}(m);return _.isEmpty(V)?{subjectKind:b,error:2,bindings:void 0}:{subjectKind:b,error:void 0,bindings:V}}function s(m){var b=[],V=m.activeItems;for(var g of m.items)if(!_.some(V)||_.includes(V,g.queryName)){var v=0;switch(m.role){case"MinValue":v=8;break;case"MaxValue":v=9;break;case"TargetValue":v=6}b.push({selectName:g.queryName,kind:3,roleKind:v})}return b}function p(m,b){var V=[];if(!m||!b)return V;var g,v=0,f=0;switch(m.role){case"MinValue":b.min&&(g=b.min.toString(),v=4,f=8);break;case"MaxValue":b.max&&(g=b.max.toString(),v=4,f=9);break;case"TargetValue":b.target&&(g=b.target.toString(),v=4,f=6)}return g&&V.push({selectName:g,kind:v,roleKind:f}),V}function l(m){var b=[];if(!m||!m.categorical||!m.categorical.values)return b;var V=m.categorical.values;if(!V||!V.select)return b;for(var g of V.select)if((0,t.Ci)(g)&&g.bind){var v=g.bind.to;v&&v.items?b.push(...s(v)):v&&void 0===v.items&&m.metadata&&m.metadata.objects&&m.metadata.objects.axis&&b.push(...p(v,m.metadata.objects.axis))}return b}},249472:function(Ce,k,r){r.d(k,{JT:function(){return d},LU:function(){return v},QP:function(){return S},RI:function(){return o},Uo:function(){return n},a5:function(){return c},h:function(){return p},hx:function(){return i},j0:function(){return P},mr:function(){return h},tP:function(){return s},tp:function(){return y}});var a=r(438043),e=r(651806),u=r(430945),t=r(245388),C=r(963993),y={fill:C.OV.fill,outline:C.OV.outline,text:t.nm.text,shape:C.OV.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:C.OV.shadow,glow:C.OV.glow,accentBar:C.OV.accentBar,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},i={...y,pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}},o={...y,bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}},c={fill:C.eM.fill,outline:C.eM.outline,text:t.Vz.text,shape:C.eM.shape,layout:"layout",shadow:C.eM.shadow,glow:C.eM.glow,accentBar:C.eM.accentBar,rotation:"rotation"},h={...c,pages:"pages"},d={...c,bookmarks:"bookmarks"},n={...C.Mn,...t.WI,orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"},s={...n,showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"},p={...n,bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"},l={show:u.iD.show,[C.Mn.fillColor]:u.iD.fill,[C.Mn.fillTransparency]:u.iD.backgroundTransparency},m={show:u.iD.show,...u.KG,[t.WI.textVerticalAlignment]:u.iD.verticalAlignment,[t.WI.textHorizontalAlignment]:u.iD.horizontalAlignment,[t.WI.textLeftMargin]:{displayName:(0,a.V)("Visual_Margin_Left"),type:{integer:!0}},[t.WI.textRightMargin]:{displayName:(0,a.V)("Visual_Margin_Right"),type:{integer:!0}},[t.WI.textTopMargin]:{displayName:(0,a.V)("Visual_Margin_Top"),type:{integer:!0}},[t.WI.textBottomMargin]:{displayName:(0,a.V)("Visual_Margin_Bottom"),type:{integer:!0}}},b={[n.orientation]:{displayName:(0,a.V)("Slicer_Orientation"),type:{enumeration:e.oh}},[n.rowCount]:{displayName:(0,a.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[n.columnCount]:{displayName:(0,a.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[n.cellPadding]:{displayName:(0,a.V)("Visual_Padding"),type:{integer:!0}}},V={[s.showHiddenPages]:{displayName:(0,a.V)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},[s.showTooltipPages]:{displayName:(0,a.V)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},[s.showByDefault]:{displayName:(0,a.V)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},[s.showPage]:{displayName:(0,a.V)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0}},g={[p.bookmarkGroup]:{displayName:(0,a.V)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},[p.allowDeselectionBookmark]:{displayName:(0,a.V)("Visual_AllowDeselection"),description:(0,a.V)("Visual_AllowDeselection_Description"),type:{bool:!0}},[p.deselectionBookmark]:{displayName:(0,a.V)("Visual_LaunchOnDeselection"),description:(0,a.V)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},[p.hideDeselectedBookmark]:{displayName:(0,a.V)("Visual_HideDeselectionBookmark"),description:(0,a.V)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},[p.selectedBookmark]:{type:{text:!0}}},v={default:"default",hover:"hover",press:"press",selected:"selected"},f={[c.fill]:{displayName:(0,a.V)("Visual_Fill"),properties:l},[c.outline]:C.zC.outline,[c.text]:{displayName:(0,a.V)("Text"),properties:m},[c.shape]:C.zC.shape,[c.layout]:{displayName:(0,a.V)("Small_Multiples_Layout"),properties:b},[c.shadow]:C.zC.shadow,[c.glow]:C.zC.glow,[c.accentBar]:C.zC.accentBar,[c.rotation]:{displayName:(0,a.V)("Visual_BasicShape_Rotate"),properties:{[n.rotation]:u.iD.genericRotation,[n.shapeRotation]:u.iD.shapeRotation,[n.textRotation]:u.iD.textRotation}}},S={objects:{...f,[h.pages]:{displayName:(0,a.V)("Pages"),properties:V}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},P={objects:{...f,[d.bookmarks]:{displayName:(0,a.V)("ExplorationBookmarksPane_Title"),properties:g}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},969662:function(Ce,k,r){r.d(k,{R:function(){return d},t:function(){return n}});var a=r(160590),e=r(454865),u=r(438043),C=(0,r(124463).i)([{value:"Top",displayName:s=>s.get("Top")},{value:"Bottom",displayName:s=>s.get("Bottom")},{value:"TopAndBottom",displayName:s=>s.get("Top_And_Bottom")}]),y=r(337066),i=r(756188),o=r(597382),c=r(430945),h=r(112072);function d(s){return{dataRoles:[{name:h.r.rows,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Rows"),description:(0,u.V)("Role_DisplayName_RowsDescription")},{name:h.r.columns,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Columns"),description:(0,u.V)("Role_DisplayName_ColumnsDescription")},{name:h.r.values,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:c.iD.formatString,layout:{displayName:(0,u.V)("Layout"),type:{enumeration:y.e}}}},grid:{displayName:(0,u.V)("Visual_Grid"),properties:{...c.r8,gridVertical:{displayName:(0,u.V)("Visual_GridVertical"),description:(0,u.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,u.V)("Visual_GridVertical_Color"),description:(0,u.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,u.V)("Visual_GridVertical_Weight"),description:(0,u.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,u.V)("Visual_GridHorizontal"),description:(0,u.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,u.V)("Visual_GridHorizontal_Color"),description:(0,u.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,u.V)("Visual_GridHorizontal_Weight"),description:(0,u.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,u.V)("Visual_RowPadding"),description:(0,u.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,u.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,u.V)("Visual_General_Properties_Height"),description:(0,u.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,u.V)("Visual_General_Properties_Width"),description:(0,u.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,u.V)("Visual_Tablix_ColumnHeaders"),properties:{...c.r8,...c.GY,alignment:c.iD.textAlignment,titleAlignment:{displayName:(0,u.V)("Visual_TextAlignment_Title"),type:{enumeration:o.K}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,u.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,u.V)("Visual_Tablix_UrlIcon"),description:(0,u.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.iD.wordWrap}},rowHeaders:{displayName:(0,u.V)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},...c.r8,...c.GY,alignment:c.iD.textAlignment,stepped:{displayName:(0,u.V)("Visual_PivotTable_SteppedLayout"),description:(0,u.V)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,u.V)(s?.matrixLayouts?"Visual_PivotTable_Indentation":"Visual_PivotTable_SteppedLayoutIndentation"),description:(0,u.V)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,u.V)("Visual_Tablix_UrlIcon"),description:(0,u.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.iD.wordWrap,showExpandCollapseButtons:{displayName:(0,u.V)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,u.V)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,u.V)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}},repeatRowHeaders:{displayName:(0,u.V)("Visual_RepeatRowHeaders"),type:{bool:!0}},legacyStyleDisabled:{type:{bool:!0}}}},values:{displayName:(0,u.V)("Visual_Tablix_Values"),properties:{...c.r8,...c.GY,backColor:{displayName:(0,u.V)("Background_Color"),description:(0,u.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,u.V)("Visual_FontColor"),description:(0,u.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,u.V)("Visual_FontColor"),description:(0,u.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,u.V)("Background_Color"),description:(0,u.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,u.V)("Visual_Tablix_FontColorSecondary"),description:(0,u.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,u.V)("Visual_Tablix_BackColorSecondary"),description:(0,u.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,u.V)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,u.V)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,u.V)("Visual_Tablix_UrlIcon"),description:(0,u.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.iD.wordWrap,valuesOnRow:{displayName:(0,u.V)("Visual_PivotTable_ValuesOnRow"),description:(0,u.V)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,u.V)("Visual_Tablix_Icons"),description:(0,u.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,u.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,u.V)("Visual_Tablix_TotalSub"),properties:{...c.GY,rowSubtotals:{type:{bool:!0},displayName:(0,u.V)("Visual_SubtotalRow"),description:(0,u.V)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,u.V)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,u.V)("Visual_SubtotalRow_Position"),type:{enumeration:i.dt},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,u.V)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,u.V)("Visual_SubtotalColumn"),description:(0,u.V)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,u.V)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,u.V)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,u.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,u.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{...c.GY,applyToHeaders:{displayName:(0,u.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,u.V)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{...c.GY,applyToHeaders:{displayName:(0,u.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,u.V)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{...c.GY,applyToHeaders:{displayName:(0,u.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,u.V)("Visual_DisplayUnits"),description:(0,u.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:c.iD.labelPrecision,fontColor:c.iD.tablixFontColor,backColor:c.iD.backColor,alignment:c.iD.textAlignment,styleHeader:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,u.V)("Visual_ConditionalFormatting_DataBars"),description:(0,u.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:c.TQ.sparklines,accessibility:{displayName:(0,u.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,u.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}}}},blankRows:{displayName:(0,u.V)("Visual_Blank_Rows"),properties:{showBlankRows:c.iD.show,blankRowColor:c.iD.genericColor,blankRowTransparency:{displayName:(0,u.V)("Transparency"),type:{numeric:!0}},showBorder:c.iD.show,borderPosition:{displayName:(0,u.V)("Visual_Position"),type:{enumeration:C}},borderColor:c.iD.genericColor,borderTransparency:{displayName:(0,u.V)("Transparency"),type:{numeric:!0}},borderWidth:{displayName:(0,u.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},annotations:{properties:{highlights:{type:{annotationType:{highlights:{color:!0,backColor:!0,emphasizeText:!0}}},transient:!0}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[h.r.columns],displayName:(0,u.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,u.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,u.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[h.r.rows],displayName:(0,u.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,u.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,u.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[h.r.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[h.r.rows,h.r.columns]},expandCollapse:{roles:[h.r.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!!s?.fieldParameterDynamicSlicer},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,visualAnnotations:{annotationProperties:[{objectName:"annotations",propertyName:"highlights"}]},supportsOnObjectFormatting:!0}}var n=(0,a.wZ)(d().objects)},707562:function(Ce,k,r){r.d(k,{Bx:function(){return h},Ci:function(){return C},_F:function(){return d},k2:function(){return i},pn:function(){return n},uS:function(){return y},vR:function(){return o}});var a=r(988206),e=r(123537),u=r(783203),t=r(502968);function C(s){return s&&!!s.bind}function y(s){return s&&!!s.for}function i(s){return s&&!!s}function o(s,p){var l=s.metadata.objects;if(!l||!l.valueAxis||!1!==l.valueAxis.sharedAxis||!0!==l.valueAxis.scaleToFit){var m=s.matrix,b=c(m.values.select,p),V=m.rows.values;_.isEmpty(V)||b.push(...c(V.select,p)),h(b,{min:!0,max:!0})}}function c(s,p){return s.filter(l=>{if(!y(l))return!1;var m=l.for.in.role;return _.some(p,b=>b===m)})}function h(s,p){for(var l of s){var b=(0,a.eD)(l).items;if(!_.isEmpty(b))for(var V of b)V.hidden||(V.aggregates=V.aggregates||[]).push(p)}}function d(s){var p=s.matrix.rows.select[0].dataReductionAlgorithm;if(p.window){var l=s.metadata&&s.metadata.objects,m=l&&l[u.Xi];m&&(p.window.count=(0,u.r8)(m.rowCount||u.UE,m.columnCount||u.ZO))}}function n(s,p){var l=_.filter(s.metadata.columns,m=>{var b=m.type?.misc?.sparkline?.groupingType;if(!b)return!1;var V=b.temporal||b.dateTime||b.numeric,g=(0,e.NA)(m.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return V&&g===t.U.column});_.forEach(l,m=>{var b=_.find(p,V=>m.queryName===V.queryName);b&&(b.sparklineInfo={includeMinGroupingInterval:!0})})}},197260:function(Ce,k,r){r.d(k,{Fp:function(){return C},OF:function(){return y}});var a=r(160590),e=r(438043),u=r(430945),t={inputBox:{displayName:(0,e.V)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,e.V)("Background_Color"),description:(0,e.V)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,e.V)("Visual_Qna_QuestionFontColor"),description:(0,e.V)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,e.V)("Visual_Qna_QuestionFontSize"),description:(0,e.V)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:u.iD.bold,questionItalic:u.iD.italic,questionUnderline:u.iD.underline,questionFontFamily:{displayName:(0,e.V)("Visual_Qna_QuestionFontFamily"),description:(0,e.V)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,e.V)("Visual_Qna_HoverColor"),description:(0,e.V)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,e.V)("Visual_Qna_AcceptedUnderlineColor"),description:(0,e.V)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,e.V)("Visual_Qna_ErrorUnderlineColor"),description:(0,e.V)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,e.V)("Visual_Qna_WarningUnderlineColor"),description:(0,e.V)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,e.V)("Visual_Qna_RestatementFontColor"),description:(0,e.V)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,e.V)("Visual_Qna_RestatementFontSize"),description:(0,e.V)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,e.V)("Visual_Qna_RestatementFontFamily"),description:(0,e.V)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,e.V)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,e.V)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,e.V)("Suggestions"),properties:{show:u.iD.show,headerFontColor:{displayName:(0,e.V)("Visual_Qna_HeaderFontColor"),description:(0,e.V)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,e.V)("Visual_Qna_HeaderFontSize"),description:(0,e.V)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:u.iD.bold,headerItalic:u.iD.italic,headerUnderline:u.iD.underline,headerFontFamily:{displayName:(0,e.V)("Visual_Qna_HeaderFontFamily"),description:(0,e.V)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,e.V)("Visual_Qna_CardBackgroundColor"),description:(0,e.V)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,e.V)("Visual_Qna_CardFontColor"),description:(0,e.V)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,e.V)("Visual_Qna_CardFontSize"),description:(0,e.V)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:u.iD.bold,cardItalic:u.iD.italic,cardUnderline:u.iD.underline,cardFontFamily:{displayName:(0,e.V)("Visual_Qna_CardFontFamily"),description:(0,e.V)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},C=(0,a.wZ)(t),y={objects:t,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1},suppressVisualCalc:!0}},433544:function(Ce,k,r){r.d(k,{Cg:function(){return i},eH:function(){return o}});var a=r(454865),e=r(438043),u=r(124463),t=r(430945),C=r(160590),y=(0,u.i)([{value:0,displayName:(0,e.V)("Top")},{value:1,displayName:(0,e.V)("Bottom")}]),i={advancedEditModeSupport:2,objects:{toolbar:{displayName:(0,e.V)("RdlVisual_Capabilities_Toolbar"),properties:{show:t.iD.show,pageNavigation:{displayName:(0,e.V)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,e.V)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,e.V)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,e.V)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,e.V)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:y}}}},export:{displayName:(0,e.V)("Export"),properties:{show:t.iD.show,exportExcel:{displayName:(0,e.V)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,e.V)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,e.V)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,e.V)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,e.V)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,e.V)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,e.V)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,e.V)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,e.V)("RdlVisual_Capabilities_AutoFilter"),properties:{show:t.iD.show}},reportInfo:{suppressFormatPainterCopy:!0,properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}},reference:{type:{itemLocation:{}}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)("Parameters"),description:(0,e.V)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}],suppressVisualCalc:!0},o=(0,C.wZ)(i.objects)},72294:function(Ce,k,r){r.d(k,{CS:function(){return n},il:function(){return s},r4:function(){return o}});var a=r(939123),e=r(160590),u=r(454865),t=r(438043),C=r(252582),y=r(430945),i=r(913615);function o(p){return{dataRoles:c(p&&p.cartesianConditionalFormatting,p&&p.useModernFormatPane),objects:d,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:u.DW.Measure},Y:{max:1,kind:u.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:u.DW.Measure},Y:{max:1,kind:u.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:u.DW.Measure},Y:{max:1,kind:u.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},h(!0,!0,!1),h(!0,!1,!0),h(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:u.DW.Measure},Y:{max:1,kind:u.DW.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:u.DW.Measure},Y:{max:1,kind:u.DW.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,kind:u.DW.Grouping},Y:{max:1,kind:u.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,kind:u.DW.Grouping},Y:{max:1,kind:u.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"X"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"Y"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,max:1,kind:u.DW.Grouping},Y:{min:1,max:1,kind:u.DW.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,max:1,kind:u.DW.Grouping},Y:{min:1,max:1,kind:u.DW.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:"X"}},{for:{in:"Y"}}]}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:u.DW.Measure},Y:{min:1,max:1,kind:u.DW.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:u.DW.Measure},Y:{min:1,max:1,kind:u.DW.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Y"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}}]}}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:u.DW.Measure},Y:{max:1,kind:u.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:u.DW.Measure},Y:{max:1,kind:u.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Category"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}},{bind:{to:"Y"}}]}}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:1}]}},drilldown:{roles:[i.TL.category,i.TL.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0,suppressVisualCalc:!p?.enableCalculationScatterChartMap}}function c(p,l){var m=[{name:i.TL.category,kind:u.DW.Grouping,displayName:(0,t.V)(l?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,t.V)("Role_DisplayName_DetailsScatterChartDescription")},{name:i.TL.series,kind:u.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Legend"),displayOrder:l?4:2,description:(0,t.V)("Role_DisplayName_LegendDescription")},{name:i.TL.x,kind:u.DW.GroupingOrMeasure,displayName:(0,t.V)("Role_DisplayName_X"),displayOrder:l?2:3,description:(0,t.V)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:0},{name:i.TL.y,kind:u.DW.GroupingOrMeasure,displayName:(0,t.V)("Role_DisplayName_Y"),displayOrder:l?3:4,description:(0,t.V)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:i.TL.size,kind:u.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Size"),displayOrder:5,description:(0,t.V)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return p||m.push({name:i.TL.gradient,kind:u.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,t.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),m.push({name:i.TL.play,kind:u.DW.Grouping,displayName:(0,t.V)("Role_DisplayName_Play"),displayOrder:7,disallowedWithVisualCalculations:!0}),m.push({name:i.TL.tooltips,kind:u.DW.Measure,displayName:(0,t.V)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,t.V)("Role_Tooltips_Description"),joinPredicate:0}),m}function h(p,l,m){a.fF.assert(()=>p||l,"At least one of groupedX or groupedY must be true");var b={min:1,max:1,kind:u.DW.Grouping};m&&(b={min:1,kind:u.DW.Grouping});var g={max:1,kind:u.DW.Measure},v=p?b:g,f=l?{min:1,max:1,kind:u.DW.Grouping}:g,S={bind:{to:"X"}},D={bind:{to:"Y"}},M=[],E=[];p?M.push(m?{for:{in:"X"}}:S):E.push(S),l?M.push(D):E.push(D);var w,x=M.length;return x>=2||1===x&&p&&m?w={composite:M}:1===x&&(w=M[0]),{conditions:[{Category:{max:0},Series:{max:1},X:v,Y:f,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:v,Y:f,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},w],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[...E||[],{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}}}var d={general:{displayName:(0,t.V)("Visual_General"),properties:{formatString:y.iD.formatString,responsive:y.iD.responsive,responsiveLegacy:y.iD.responsiveLegacy,dataVolume:{displayName:(0,t.V)("Visual_DataVolume"),description:(0,t.V)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:y.TQ.legend.displayName,description:y.TQ.legend.description,properties:{...y.TQ.legend.properties,showGradientLegend:y.iD.showGradientLegend}},categoryAxis:{displayName:(0,t.V)("Visual_XAxis"),properties:{show:y.iD.show,...y.Mu,...y.PO,...y.wF,...(0,y.Me)("x"),...y.WV,treatNullsAsZero:{displayName:(0,t.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,t.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}}}},valueAxis:{displayName:(0,t.V)("Visual_YAxis"),properties:{show:y.iD.show,...y.Mu,...y.wF,...(0,y.Me)("y"),...y.WV,treatNullsAsZero:{displayName:(0,t.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,t.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},switchAxisPosition:y.iD.switchAxisPosition}},zoom:y.TQ.zoom,dataPoint:{displayName:(0,t.V)("Visual_DataPoint"),description:(0,t.V)("Visual_DataPointDescription"),properties:{defaultColor:y.iD.defaultColor,showAllDataPoints:y.iD.showAllDataPoints,fill:y.iD.defaultCategoryColor,fillRule:{displayName:(0,t.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},markers:y.TQ.markers,bubbles:{displayName:(0,t.V)("Visual_Shapes"),description:(0,t.V)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,t.V)("Visual_SizeMultiplier"),type:{integer:!0}},markerRangeType:{displayName:(0,t.V)("Visual_MarkerRangeType"),type:{enumeration:C.v6}},markerShape:y.iD.markerShape,showSeries:{displayName:(0,t.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:y.TQ.plotArea,categoryLabels:{displayName:(0,t.V)("Visual_CategoryLabels"),description:(0,t.V)("Visual_CategoryLabelsDescription"),properties:{...y.PP,...y.BO}},trend:(0,y.Fe)(!1),xAxisReferenceLine:{displayName:(0,t.V)("Visual_Reference_Line_X"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...y.xF,...y.I3}},y1AxisReferenceLine:{displayName:(0,t.V)("Visual_Reference_Line_Y"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...y.xF,...y.I3}},referenceLine:{displayName:(0,t.V)("Visual_Reference_Line"),description:(0,t.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{...y.xF,...y.I3}},colorBorder:{displayName:(0,t.V)("Visual_ColorBorder"),properties:{show:y.iD.show}},fillPoint:{displayName:(0,t.V)("Visual_FillPoint"),properties:{style:y.iD.fillPointStyle}},colorByCategory:{displayName:(0,t.V)("Visual_ColorByCategory"),properties:{show:y.iD.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,t.V)("Visual_Scatter_SymmetryShading"),description:(0,t.V)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:2,properties:{show:y.iD.show,displayName:{displayName:(0,t.V)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,t.V)("Visual_Scatter_SymmetryShadingUpper"),description:(0,t.V)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,t.V)("Visual_Scatter_SymmetryShadingLower"),description:(0,t.V)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:y.iD.backgroundTransparency}},ratioLine:{displayName:(0,t.V)("Visual_Scatter_RatioLine"),description:(0,t.V)("Visual_Scatter_RatioLineDescription"),objectCategory:2,properties:{displayName:{displayName:(0,t.V)("Name"),type:{text:!0}},...y.xF}}},n=(0,e.wZ)(d),s={general:{dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},markers:{color:{objectName:"dataPoint",propertyName:"fill"},rangeType:{objectName:"bubbles",propertyName:"markerRangeType"},shape:{objectName:"bubbles",propertyName:"markerShape"},...y.hk},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorBorder:{show:{objectName:"colorBorder",propertyName:"show"}},fillPoint:{style:{objectName:"fillPoint",propertyName:"style"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:(0,y.pN)("ratioLine",y.vi),categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},282315:function(Ce,k,r){r.d(k,{A:function(){return y},b:function(){return C}});var a=r(160590),e=r(438043),u=r(124463),t=r(430945),C={dataViewMappings:[],objects:{scorecard:{displayName:(0,e.V)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,e.V)("ContentHeader_URL"),suppressFormatPainterCopy:!0},scorecardReference:{type:{itemLocation:{}},suppressFormatPainterCopy:!0},goalIds:{displayName:(0,e.V)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,e.V)("ExplorationBookmarks_Display"),type:{enumeration:(0,u.i)([{displayName:(0,e.V)("Tile_Generic"),value:"tile"},{displayName:(0,e.V)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:t.iD.backColor,foregroundColor:t.iD.fontColor,fontFamily:t.iD.fontFamily,tableBackgroundColor:t.iD.backColor,showCommandBar:{type:{bool:!0},displayName:(0,e.V)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,e.V)("ThemeDialog_SubSection_Header"),properties:{show:t.iD.show,showTitle:{type:{bool:!0},displayName:(0,e.V)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,e.V)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,e.V)("Cards")},foregroundColor:t.iD.fontColor,backgroundColor:t.iD.backColor}},columnHeaders:{displayName:(0,e.V)("Visual_Tablix_ColumnHeaders"),properties:{show:t.iD.show,foregroundColor:t.iD.fontColor}},goals:{displayName:(0,e.V)("Role_DisplayName_KPI_Goals"),properties:{foregroundColor:t.iD.fontColor,backgroundColor:t.iD.backColor}},detailsPane:{displayName:(0,e.V)("DetailsPane"),properties:{foregroundColor:t.iD.fontColor,backgroundColor:t.iD.backColor,cardForegroundColor:{displayName:(0,e.V)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,e.V)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,e.V)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,e.V)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,e.V)("Visualization"),properties:{backgroundColor:t.iD.backColor,backgroundTransparency:t.iD.backgroundTransparency,showScorecardName:{displayName:(0,e.V)("ScorecardDialog_Name"),description:(0,e.V)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:t.iD.fontFamily,scorecardNameFontSize:t.iD.titleFontSize,scorecardNameFontColor:t.iD.fontColor,scorecardNameBold:t.iD.bold,scorecardNameItalic:t.iD.italic,scorecardNameUnderline:t.iD.underline,currentValueFontFamily:t.iD.fontFamily,currentValueFontSize:t.iD.titleFontSize,currentValueFontColor:t.iD.fontColor,currentValueBold:t.iD.bold,currentValueItalic:t.iD.italic,currentValueUnderline:t.iD.underline,targetValueFontFamily:t.iD.fontFamily,targetValueFontSize:t.iD.titleFontSize,targetValueFontColor:t.iD.fontColor,targetValueBold:t.iD.bold,targetValueItalic:t.iD.italic,targetValueUnderline:t.iD.underline,showGrowth:{displayName:(0,e.V)("ScorecardVisual_Growth"),description:(0,e.V)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:t.iD.fontFamily,growthFontSize:t.iD.titleFontSize,growthFontColor:t.iD.fontColor,growthBold:t.iD.bold,growthItalic:t.iD.italic,growthUnderline:t.iD.underline,showGoalName:{displayName:(0,e.V)("GoalName"),description:(0,e.V)("GoalName"),type:{bool:!0}},goalNameFontFamily:t.iD.fontFamily,goalNameFontSize:t.iD.titleFontSize,goalNameFontColor:t.iD.fontColor,goalNameBold:t.iD.bold,goalNameItalic:t.iD.italic,goalNameUnderline:t.iD.underline,showOwner:{displayName:(0,e.V)("Owner_Lowercase"),description:(0,e.V)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,e.V)("Role_DisplayName_Size"),description:(0,e.V)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,e.V)("Due"),description:(0,e.V)("Due"),type:{bool:!0}},dueDateFontFamily:t.iD.fontFamily,dueDateFontSize:t.iD.titleFontSize,dueDateFontColor:t.iD.fontColor,dueDateBold:t.iD.bold,dueDateItalic:t.iD.italic,dueDateUnderline:t.iD.underline,showStatus:{displayName:(0,e.V)("Status"),description:(0,e.V)("Status"),type:{bool:!0}},showNotes:{displayName:(0,e.V)("Notes"),description:(0,e.V)("Notes"),type:{bool:!0}},notesFontSize:t.iD.titleFontSize,notesFontColor:t.iD.fontColor,showVisualization:{displayName:(0,e.V)("Visualization"),description:(0,e.V)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,e.V)("Visual_Legend"),description:(0,e.V)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,e.V)("ScorecardVisual_TargetLine"),description:(0,e.V)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:t.iD.fontColor,currentLineColor:t.iD.fontColor,currentAreaShaded:{displayName:(0,e.V)("Visual_Shapes_ShadeArea"),description:(0,e.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,e.V)("Visual_XAxis_Hyphen"),description:(0,e.V)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:t.iD.fontFamily,xAxisFontSize:t.iD.titleFontSize,xAxisFontColor:t.iD.fontColor,xAxisBold:t.iD.bold,xAxisItalic:t.iD.italic,xAxisUnderline:t.iD.underline,showYAxis:{displayName:(0,e.V)("Visual_YAxis_Hyphen"),description:(0,e.V)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:t.iD.fontFamily,yAxisFontSize:t.iD.titleFontSize,yAxisFontColor:t.iD.fontColor,yAxisBold:t.iD.bold,yAxisItalic:t.iD.italic,yAxisUnderline:t.iD.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},y=(0,a.wZ)(C.objects)},595938:function(Ce,k,r){r.d(k,{B3:function(){return c},Ic:function(){return s},MI:function(){return o},W$:function(){return i},W6:function(){return h},WO:function(){return p}});var a=r(160590),e=r(438043),u=r(594412),t=r(430945),C=r(245388),y=r(963993),i={fill:y.OV.fill,outline:y.OV.outline,text:C.nm.text,shape:{...y.OV.shape,linecapType:{objectName:"shape",propertyName:"linecapType"}},shadow:y.OV.shadow,glow:y.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},o={...y.eM,...C.Vz,rotation:"rotation"},c={...y.Mn,...C.WI,linecapType:"linecapType",rotation:"angle"},h={default:"default"},d={show:t.iD.show,[y.Mn.fillColor]:t.iD.fill,[y.Mn.fillTransparency]:t.iD.backgroundTransparency},n={[o.fill]:{displayName:(0,e.V)("Visual_Fill"),properties:d},[o.outline]:y.zC.outline,[o.text]:C.p.text,[o.shape]:{displayName:(0,e.V)("Visual_Shape"),properties:{...y.zC.shape.properties,[c.linecapType]:{displayName:(0,e.V)("LinecapType"),type:{enumeration:u.i}}}},[o.shadow]:y.zC.shadow,[o.glow]:y.zC.glow,[o.rotation]:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),properties:{[c.rotation]:t.iD.genericRotation,[c.shapeRotation]:t.iD.shapeRotation,[c.textRotation]:t.iD.textRotation}}},s={objects:n,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img",disableFormatMode:!0},p=(0,a.wZ)(n)},364978:function(Ce,k,r){r.d(k,{L:function(){return h},x:function(){return o}});var a=r(160590),e=r(454865),u=r(438043),t=r(107057),C=r(753249),y=r(430945),i={general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:y.iD.formatString}},legend:y.TQ.legend,dataPoint:{displayName:(0,u.V)("Visual_DataPoint"),description:(0,u.V)("Visual_DataPointDescription"),properties:{defaultColor:y.iD.defaultColor,showAllDataPoints:y.iD.showAllDataPoints,fill:y.iD.defaultCategoryColor,fillRule:{displayName:(0,u.V)("Role_DisplayName_Values"),description:(0,u.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:C.S3,output:{property:"fill",selector:[C.W3]}}}}},shape:{displayName:(0,u.V)("Visual_Shape"),description:(0,u.V)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:t.t_}}},projectionEnum:{displayName:(0,u.V)("Visual_ShapeMap_Projection"),description:(0,u.V)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:C.dt}}}},defaultColors:{displayName:(0,u.V)("Visual_ShapeMap_DefaultColor"),description:(0,u.V)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,u.V)("Visual_ShapeMap_DefaultShow"),description:(0,u.V)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,u.V)("Generic_Color"),description:(0,u.V)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:y.iD.borderColor,borderThickness:{displayName:(0,u.V)("Visual_ShapeMap_BorderThickness"),type:{numeric:!0}}}},zoom:{displayName:(0,u.V)("Visual_ShapeMap_Zoom"),description:(0,u.V)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,u.V)("Visual_ShapeMap_AutoZoom"),description:(0,u.V)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,u.V)("Visual_ShapeMap_SelectionZoom"),description:(0,u.V)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,u.V)("Visual_ShapeMap_ManualZoom"),description:(0,u.V)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function o(d){return{dataRoles:[{name:C.W3,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Location"),description:(0,u.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:C.ac,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Legend"),description:(0,u.V)("Role_DisplayName_LegendDescription")},{name:C.S3,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Gradient"),description:(0,u.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:C.jH,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Tooltips"),description:(0,u.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:i,dataViewMappings:[{conditions:[{[C.W3]:{min:0,max:1},[C.ac]:{min:0,max:1},[C.S3]:{min:0,max:1}}],categorical:{categories:{for:{in:C.W3},dataReductionAlgorithm:{top:{}}},values:{group:{by:C.ac,select:[{bind:{to:C.S3}},{for:{in:C.jH}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:C.S3,direction:2}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!d?.enableCalculationScatterChartMap}}var h=(0,a.wZ)(i)},900222:function(Ce,k,r){r.d(k,{CT:function(){return d},gO:function(){return s},st:function(){return p},wk:function(){return n}});var a=r(160590),e=r(454865),u=r(438043),t=r(960346),C=r(309209),y=r(475463),i=r(588679),o=r(279176),c=r(191337),h=r(430945),d={value:"Values"},n={general:{displayName:(0,u.V)("Visual_General"),properties:{responsive:h.iD.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:h.iD.formatString,outlineColor:h.iD.outlineColor,outlineWeight:h.iD.outlineWeight,orientation:{displayName:(0,u.V)("Slicer_Orientation"),type:{enumeration:c.d}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:y.dt},filterState:!0},relativePeriod:{type:{enumeration:C.GA},filterState:!0},relativeTimePeriod:{type:{enumeration:C._k},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,u.V)("Style"),type:{enumeration:o.dt},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,u.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,u.V)("Visual_SelectAll"),description:(0,u.V)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,u.V)("Visual_MultiSelectWithCtrl"),description:(0,u.V)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,u.V)("Visual_StrictSingleSelect"),description:(0,u.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,u.V)("Slicer_Header"),properties:{show:h.iD.show,text:{displayName:(0,u.V)("Visual_Title_Text"),description:(0,u.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},...h.d4,outlineStyle:h.iD.outlineStyle,showRestatement:{displayName:(0,u.V)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,u.V)("PendingIcon"),properties:{show:h.iD.show,color:h.iD.genericColor,transparency:h.iD.backgroundTransparency,position:{displayName:(0,u.V)("Visual_LegendPosition"),type:{enumeration:t.dt}},size:{displayName:(0,u.V)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,u.V)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,u.V)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,u.V)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,u.V)("SearchBox"),properties:{outlineStyle:h.iD.outlineStyle,borderColor:h.iD.outlineColor,background:{displayName:(0,u.V)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,u.V)("Items"),properties:{...h.d4,outlineStyle:h.iD.outlineStyle,expandCollapseToggleType:{displayName:(0,u.V)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:i.d}},steppedLayoutIndentation:{displayName:(0,u.V)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,u.V)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,u.V)("Slicer_DateInputs"),properties:{...h.d4,hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,u.V)("Slicer_NumericInputs"),properties:{...h.d4}},slider:{displayName:(0,u.V)("Slicer_Slider"),properties:{show:h.iD.show,color:h.iD.genericColor,handleFillColor:{displayName:(0,u.V)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,u.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:h.iD.genericColor}},dateRange:{displayName:(0,u.V)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,u.V)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,u.V)("RelativeSlicer_AnchorDate"),description:(0,u.V)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},s=(0,a.wZ)(n);function p(V){return{dataRoles:[{name:d.value,kind:e.DW.Grouping,displayName:(0,u.V)("Field"),description:(0,u.V)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:n,drilldown:{roles:[d.value],suppresDrillOperations:!0},dataViewMappings:b(),expandCollapse:m(V),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function m(V){return{roles:[d.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!!V?.fieldParameterDynamicSlicer}}function b(){var V=[{conditions:[{[d.value]:{max:1,suppressDrill:!0}}],categorical:{categories:{for:{in:d.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return V.unshift({conditions:[{[d.value]:{min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:d.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),V}},301457:function(Ce,k,r){r.d(k,{D_:function(){return T},Ni:function(){return A},PM:function(){return b},RC:function(){return v},Wj:function(){return I},a5:function(){return V},ot:function(){return m},pQ:function(){return W},vu:function(){return U}});var a=r(329551),e=r(939123),u=r(405427),t=r(123537),C=r(969143),y=r(379445),i=r(169076),o=r(377176),c=r(309209),h=r(475463),d=r(279176),n=r(900222),s=r(953474),p=r(517273);function m(z){var j=z.dataViewMappings[0],H=R(j);if(!_.isEmpty(H)){var q=O(j.metadata.objects);if(null===(q=T(H,q))||(0,d.l6)(q)||(0,d.G5)(q))return null}return[n.CT.value]}function b(z){if(!function(z){if(!z.isPersistentState)return!0;var j=O(z.objects),H=(0,d.Cp)(j),q=(0,a.Cq)(),G=H&&(0,t.NA)(z.objects,n.gO.selection.strictSingleSelect,q.strictSingleSelect);if(!z.changes)return!H;if(j!==O(z.changes))return!1;if((0,d.Cp)(j)){var Z=(0,t.NA)(z.changes,n.gO.selection.strictSingleSelect,q.strictSingleSelect);if(G&&!Z)return!1}return!0}(z))return L(z,void 0,!0);var j=function(z){var j=O(z.objects),H=O(z.changes);return(j===d.RB&&H===d.j6||j===d.j6&&H===d.RB)&&j!==H&&j?{merge:!0,mode:j}:{merge:!1,mode:H||j}}(z),H=z.changes&&z.changes[n.gO.general.filter.objectName],q=H&&H[n.gO.general.filter.propertyName];if(null!=q){var G=L(z,j.mode,!1);return(0,d.l6)(j.mode)?(S(q,j.mode,G),G):j.mode===d.K8?(P(q,j.mode,G,n.gO.data.relativePeriod.propertyName),G):(j.mode===d.GV&&P(q,j.mode,G,n.gO.data.relativeTimePeriod.propertyName),G)}return j.merge?L(z,j.mode,!1):null}function V(z){var j=T(z.dataViewMetaDataColumns,O(z.objects)),H=z.filterUpdateType,q={objectName:n.gO.general.filter.objectName,selector:null,properties:{[n.gO.general.filter.propertyName]:z.filterToApply}},G={merge:[],remove:[],replace:[]};return j===d.RB||j===d.j6||j===d.Ih||j===d.of?v(z,G,q):"Replace"!==H||((0,d.l6)(j)&&S(z.filterToApply,j,G),j===d.K8&&P(z.filterToApply,j,G,n.gO.data.relativePeriod.propertyName),j===d.GV&&P(z.filterToApply,j,G,n.gO.data.relativeTimePeriod.propertyName),function(z){return _.isEmpty(z.merge)&&_.isEmpty(z.remove)&&_.isEmpty(z.replace)}(G))?void 0:(G.merge?.push(q),G)}function v(z,j,H){var q=z.filterUpdateType,G=z.filterToApply.conditions();if(e.fF.assert(()=>1===G.length,"Only one condition is supported currently"),1!==G.length);else{var J=G[0],Z=(0,s.Ym)(J);if((0,s.Hi)(J)||Z&&(0,s.Hi)(J.arg)){var Q=(0,s.Hi)(J)?J:J.arg,ne=(0,a.Cq)();if((0,t.NA)(z.objects,n.gO.selection.strictSingleSelect,ne.strictSingleSelect)&&("Replace"!==q||Z||Q.values.length>1))return;var he=(0,t.NA)(z.objects,n.gO.general.filter),Se=he&&he.conditions(),Ke=Se&&1===Se.length&&Se[0];if(!Ke)return j.merge?.push(H),j;var Ge=p.m.tryMergeSQInExprs(Ke,Q,z.filterUpdateType);return Ge?(0===Ge.values.length?j.remove?.push(H):(H.properties[n.gO.general.filter.propertyName]=o.yl.fromSQFromAndSQExpr(he.from(),Ge),j.merge?.push(H)),j):void 0}}}function S(z,j,H){if(e.fF.assertValue(z,"filter should be defined"),(0,d.l6)(j)){var q=(0,y.pi)(z);if(!q||!q.options)return void e.fF.assertValue(q&&q.options,"filterParams and filterParams.options must be defined.");var G=n.gO.data.numericStart.objectName;e.fF.assert(()=>n.gO.data.numericStart.objectName===n.gO.data.numericEnd.objectName,"numericStart & numericEnd must have same object name"),e.fF.assert(()=>n.gO.data.numericStart.objectName===n.gO.data.startDate.objectName,"numericStart & startDate must have same object name"),e.fF.assert(()=>n.gO.data.numericStart.objectName===n.gO.data.endDate.objectName,"numericStart & endDate must have same object name");var J={};_.isNumber(q.options.min)||_.isNumber(q.options.max)?(J[n.gO.data.numericStart.propertyName]=q.options.min,j!==d.Zr&&(J[n.gO.data.numericEnd.propertyName]=q.options.max),w(H,G,J)):(_.isDate(q.options.min)||_.isDate(q.options.max))&&(e.fF.assert(()=>void 0===q.options.min||(0,u.M4)(q.options.min),"Implementing DateWithEpochValue is needed for serialization"),e.fF.assert(()=>void 0===q.options.max||(0,u.M4)(q.options.max),"Implementing DateWithEpochValue is needed for serialization"),J[n.gO.data.startDate.propertyName]=q.options.min,J[n.gO.data.endDate.propertyName]=q.options.max,w(H,G,J))}}function P(z,j,H,q){if(e.fF.assertValue(z,"filter should be defined"),(0,d.G5)(j)){var G=(0,d.nW)(j),J=(0,i.pi)(z,G);if(!J||!J.options)return void e.fF.assertValue(J&&J.options,"filterParams and filterParams.options must be defined.");var Z=n.gO.data.relativeRange.objectName;e.fF.assert(()=>n.gO.data.relativeRange.objectName===n.gO.data.relativeDuration.objectName,"relativeRange & relativeDuration must have same object name"),e.fF.assert(()=>n.gO.data.relativeRange.objectName===n.gO.data.relativePeriod.objectName,"relativeRange & relativePeriod must have same object name");var Q=(0,h.BB)(J.options.relativeQualifier),ne=(0,c.BB)(J.options.relativeUnit),le=J.options.duration;(null==Q||null==le||null==ne)&&M(H,Z),(null!=Q||null!=le||null!=ne)&&D(H,Z);var he={};he[n.gO.data.relativeRange.propertyName]=Q,he[n.gO.data.relativeDuration.propertyName]=Q===h.Vk?0:J.options.duration,he[q]=ne,w(H,Z,he),function(z,j){var H=n.gO.dateRange.includeToday.objectName;e.fF.assert(()=>n.gO.dateRange.includeToday.objectName===n.gO.dateRange.anchorDate.objectName,"anchorDate is not in the same object as includeToday");var q={};j.includeTodayFromDefault||(q[n.gO.dateRange.includeToday.propertyName]=j.includeToday),q[n.gO.dateRange.anchorDate.propertyName]=j.anchorDate,w(z,H,q)}(H,J.options)}}function D(z,j){z.merge=z.merge||[];var H=x(z.merge,j);return z.merge[H]}function M(z,j){z.remove=z.remove||[];var H=x(z.remove,j);return z.remove[H]}function w(z,j,H){var q=null,G=null;for(var J in _.some(H,Z=>null==Z)&&(q=M(z,j)),_.some(H,Z=>null!=Z)&&(G=D(z,j)),H)null==H[J]?(e.fF.assertValue(q,"remove must be defined here."),q.properties[J]=!0):(e.fF.assertValue(G,"merge must be defined here."),G.properties[J]=H[J])}function x(z,j){e.fF.assertValue(z,"visualObjects");var H=z.map(q=>q.objectName).indexOf(j);return H<0&&(z.push({objectName:j,selector:null,properties:{}}),H=z.length-1),H}function L(z,j,H){var q=[];for(var G in z.changes){var J={},Z=n.wk;for(var Q in z.changes[G])H&&(!0===Z[G]?.properties[Q]?.filterState||G===n.gO.general.filter.objectName&&Q===n.gO.general.filter.propertyName)||(J[Q]=z.changes[G][Q]);null!=j&&G===n.gO.data.mode.objectName&&(J[n.gO.data.mode.propertyName]=j),q.push({objectName:G,selector:null,properties:J})}return H&&function(z,j){var H=z.objects;for(var q in H){var G={},J=n.wk;for(var Z in H[q])(!0===J[q]?.properties[Z]?.filterState||q===n.gO.general.filter.objectName&&Z===n.gO.general.filter.propertyName)&&(G[Z]=H[q][Z]);if(!_.isEmpty(G)){var Q=x(j,q);j[Q].properties=_.merge(j[Q].properties,G)}}}(z,q),{merge:q}}function I(z){if(!_.isEmpty(z.dataViewMappings)){var j=z.dataViewMappings[0];if(j&&j.metadata){var H=R(j)||[];if(j.matrix&&j.matrix.rows){var q=j.matrix.rows.for.in.items;if(!_.isEmpty(q)){var G=function(le){if(!_.find(H,Se=>Se.queryName===le.queryName))return 1;le.subtotalType=1};for(var J of q)G(J)}}var Z=O(j.metadata.objects);if(!_.isEmpty(H)){if((Z=T(H,Z))===d.Zr){var Q=j.categorical&&j.categorical.categories;return void(Q&&(Q.dataReductionAlgorithm={sample:{}}))}if((0,d.Lw)(Z)&&j.categorical&&j.categorical.categories){var ne=j.categorical.categories.for.in.items;j.categorical.categories=null,j.categorical.values={bind:{to:{role:n.CT.value,aggregates:{min:!0,max:!0},items:ne}}}}}(0,d.G5)(Z)&&(j.updateType=2),Z===d.j6&&function(z){if(z){var j=!1;if(j=(0,t.NA)(z,n.gO.selection.strictSingleSelect,j)){var H=null,q=!1;return H=(0,t.NA)(z,n.gO.general.filter,H),q=(0,t.NA)(z,n.gO.data.isInvertedSelectionMode,q),null!=H&&!q}}return!0}(j.metadata.objects)&&(j.updateType=1)}}}function W(z){var H=z.objects,q=O(H),J=R(z.dataViewMappings[0]);if(!_.isEmpty(J)){q=T(J,q,!0);var Z=H&&H[n.gO.data.mode.objectName];Z||(Z={});var Q={};for(var ne in Z)Q[ne]=Z[ne];return Q[n.gO.data.mode.propertyName]=q,{replace:[{objectName:n.gO.data.mode.objectName,selector:null,properties:Q}]}}}function O(z){var j=null;return z&&(j=(0,t.NA)(z,n.gO.data.mode,j)),j}function A(z){return z&&(0,C.NA)(z,n.gO.data.mode,void 0)}function T(z,j,H=!1){if(e.fF.assertNonEmpty(z,"pluginMethods.getValidateSlicerMode - columns"),z.length>1)return j===d.j6?d.j6:d.RB;var q=z[0];if(!q.type)return j;if(q.parameter&&0===q.parameter.kind)j=null===j||(0,d.G5)(j)?d.Zr:j;else{if(q.parameter&&1===q.parameter.kind)return j??d.RB;!0===q.type.dateTime?j=null===j||j===d.Zr?d.vX:j:q.type.numeric?null===j?j=H?d.vX:d.RB:((0,d.G5)(j)||j===d.Zr)&&(j=d.vX):j!==d.RB&&j!==d.j6&&(j=d.RB)}return j}function R(z){return z.metadata?z.metadata.columns:null}function U(z){var{dataViewMappings:j,filterForFieldParameter:H}=z;if(H)return!1;var q=j[0];if(!q||!q.metadata)return!1;var G=O(q.metadata.objects),J=R(q);return _.isEmpty(J)||(G=T(J,G)),(0,d.l6)(G)}},608632:function(Ce,k,r){r.d(k,{Ff:function(){return v},MS:function(){return h},Nt:function(){return d},WK:function(){return c}});var a=r(438043),e=r(888103),u=r(851584),t=r(3230),C=r(305927),y=r(652172),i=r(651806),o=r(430945),c={smallMultiplesLayout:{orientation:{objectName:"smallMultiplesLayout",propertyName:"orientation"},maxSmallMultiples:{objectName:"smallMultiplesLayout",propertyName:"maxSmallMultiples"},rowCount:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},columnCount:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},maxHeaderSize:{objectName:"smallMultiplesLayout",propertyName:"maxHeaderSize"},titleOrientation:{objectName:"smallMultiplesLayout",propertyName:"titleOrientation"},headerPosition:{objectName:"smallMultiplesLayout",propertyName:"headerPosition"}},smallMultiplesBorder:{gridlineShow:{objectName:"smallMultiplesBorder",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesBorder",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesBorder",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesBorder",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesBorder",propertyName:"gridlineColor"}},smallMultiplesGrid:{gridlineShow:{objectName:"smallMultiplesGrid",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesGrid",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesGrid",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesGrid",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesGrid",propertyName:"gridlineColor"},gridlineRegion:{objectName:"smallMultiplesGrid",propertyName:"gridlineRegion"}},smallMultiplesOverFlow:{overFlowStyle:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowDirection"}},smallMultiplesHeader:{fontFamily:{objectName:"smallMultiplesHeader",propertyName:"fontFamily"},fontSize:{objectName:"smallMultiplesHeader",propertyName:"fontSize"},fontColor:{objectName:"smallMultiplesHeader",propertyName:"fontColor"},bold:{objectName:"smallMultiplesHeader",propertyName:"bold"},italic:{objectName:"smallMultiplesHeader",propertyName:"italic"},underline:{objectName:"smallMultiplesHeader",propertyName:"underline"},transparency:{objectName:"smallMultiplesHeader",propertyName:"transparency"},horizontalAlignment:{objectName:"smallMultiplesHeader",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"smallMultiplesHeader",propertyName:"verticalAlignment"},textWrap:{objectName:"smallMultiplesHeader",propertyName:"textWrap"},displayUnits:{objectName:"smallMultiplesHeader",propertyName:"displayUnits"},precision:{objectName:"smallMultiplesHeader",propertyName:"precision"},showBlankAs:{objectName:"smallMultiplesHeader",propertyName:"showBlankAs"},leftMargin:{objectName:"smallMultiplesHeader",propertyName:"leftMargin"},rightMargin:{objectName:"smallMultiplesHeader",propertyName:"rightMargin"},topMargin:{objectName:"smallMultiplesHeader",propertyName:"topMargin"},bottomMargin:{objectName:"smallMultiplesHeader",propertyName:"bottomMargin"},backgroundShow:{objectName:"smallMultiplesHeader",propertyName:"backgroundShow"},backgroundColor:{objectName:"smallMultiplesHeader",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"smallMultiplesHeader",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundImageTransparency"}},smallMultiplesAccentBar:{show:{objectName:"smallMultiplesAccentBar",propertyName:"show"},position:{objectName:"smallMultiplesAccentBar",propertyName:"position"},color:{objectName:"smallMultiplesAccentBar",propertyName:"color"},transparency:{objectName:"smallMultiplesAccentBar",propertyName:"transparency"},width:{objectName:"smallMultiplesAccentBar",propertyName:"width"}},smallMultiplesCellBackGround:{backgroundShow:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageTransparency"}},smallMultiplesOuterShape:{rectangleRoundedCurveCustomStyle:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightBottom"}}},h={smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesOverFlow:"smallMultiplesOverFlow",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesAccentBar:"smallMultiplesAccentBar",smallMultiplesCellBackGround:"smallMultiplesCellBackGround",smallMultiplesOuterShape:"smallMultiplesOuterShape"},d={orientation:"orientation",maxSmallMultiples:"maxSmallMultiples",rowCount:"rowCount",columnCount:"columnCount",maxHeaderSize:"maxHeaderSize",titleOrientation:"titleOrientation",gridlineShow:"gridlineShow",gridlineStyle:"gridlineStyle",gridlineTransparency:"gridlineTransparency",gridlineWidth:"gridlineWidth",gridlineColor:"gridlineColor",gridlineRegion:"gridlineRegion",overFlowStyle:"overFlowStyle",overFlowDirection:"overFlowDirection",fontFamily:"fontFamily",fontColor:"fontColor",fontSize:"fontSize",bold:"bold",italic:"italic",underline:"underline",transparency:"transparency",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",textWrap:"textWrap",displayUnits:"displayUnits",precision:"precision",showBlankAs:"showBlankAs",backgroundShow:"backgroundShow",backgroundColor:"backgroundColor",backgroundTransparency:"backgroundTransparency",backgroundImage:"backgroundImage",backgroundImageTransparency:"backgroundImageTransparency",accentBarShow:"show",accentBarPosition:"position",accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",leftMargin:"leftMargin",rightMargin:"rightMargin",topMargin:"topMargin",bottomMargin:"bottomMargin",backgroundFillColor:"backgroundFillColor",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",headerPosition:"headerPosition"},n={[d.orientation]:{displayName:(0,a.V)("Small_Multiples_Arrangement"),type:{enumeration:i.SO}},[d.maxSmallMultiples]:{displayName:(0,a.V)("Small_Multiples_Max"),type:{integer:!0}},[d.rowCount]:{displayName:(0,a.V)("Visual_Arrangement_RowsShownMax"),type:{integer:!0}},[d.columnCount]:{displayName:(0,a.V)("Visual_Arrangement_ColumnsShown"),type:{integer:!0}},[d.maxHeaderSize]:{displayName:(0,a.V)("Small_Multiples_MaxHeaderSize"),description:(0,a.V)("Small_Multiples_MaxHeaderSize_Description"),type:{integer:!0}},[d.titleOrientation]:o.iD.labelOrientation,[d.headerPosition]:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:t.PX}}},s={...(0,o.uH)({strokeShow:d.gridlineShow,strokePattern:d.gridlineStyle,strokeTransparency:d.gridlineTransparency,strokeWidth:d.gridlineWidth,strokeColor:d.gridlineColor})},p={...(0,o.uH)({strokeShow:d.gridlineShow,strokePattern:d.gridlineStyle,strokeTransparency:d.gridlineTransparency,strokeWidth:d.gridlineWidth,strokeColor:d.gridlineColor}),[d.gridlineRegion]:{displayName:(0,a.V)("Visual_Gridline_Show"),type:{enumeration:u.d}}},l={[d.overFlowStyle]:{displayName:(0,a.V)("Visual_OverFlow_Style"),type:{enumeration:y.d}},[d.overFlowDirection]:{displayName:(0,a.V)("Visual_OverFlow_Direction"),type:{enumeration:C.d}}},m={[d.fontFamily]:o.iD.fontFamily,[d.fontSize]:o.iD.fontSize,[d.fontColor]:o.iD.genericColor,[d.bold]:o.iD.bold,[d.italic]:o.iD.italic,[d.underline]:o.iD.underline,[d.transparency]:o.iD.genericTransparency,[d.horizontalAlignment]:o.iD.horizontalAlignment,[d.verticalAlignment]:o.iD.verticalAlignment,[d.textWrap]:o.iD.textWrap,[d.displayUnits]:{...o.iD.labelDisplayUnits,type:{enumeration:e.d}},[d.precision]:o.iD.labelPrecision,[d.showBlankAs]:o.iD.showBlankAs,[d.leftMargin]:{displayName:(0,a.V)("Visual_PaddingLeft"),type:{integer:!0}},[d.rightMargin]:{displayName:(0,a.V)("Visual_PaddingRight"),type:{integer:!0}},[d.topMargin]:{displayName:(0,a.V)("Visual_PaddingTop"),type:{integer:!0}},[d.bottomMargin]:{displayName:(0,a.V)("Visual_PaddingBottom"),type:{integer:!0}},[d.backgroundShow]:o.iD.show,[d.backgroundColor]:o.iD.genericColor,[d.backgroundTransparency]:o.iD.backgroundTransparency,[d.backgroundImage]:{...o.iD.image,displayName:(0,a.V)("Dashboard_Theme_Background_Image")},[d.backgroundImageTransparency]:{...o.iD.genericTransparency,displayName:(0,a.V)("Visual_Image_Transparency")}},b={[d.accentBarShow]:o.iD.show,[d.accentBarPosition]:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:t.CX}},[d.accentBarColor]:o.iD.genericColor,[d.accentBarTransparency]:o.iD.genericTransparency,[d.accentBarWidth]:o.iD.width},V={[d.backgroundFillColor]:o.iD.genericColor,[d.backgroundTransparency]:o.iD.backgroundTransparency,[d.backgroundShow]:o.iD.show,[d.backgroundImage]:o.iD.image,[d.backgroundImageTransparency]:o.iD.backgroundTransparency},g={[d.rectangleRoundedCurveCustomStyle]:{displayName:(0,a.V)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},[d.rectangleRoundedCurve]:{displayName:(0,a.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[d.rectangleRoundedCurveLeftTop]:{displayName:(0,a.V)("Visual_CornerTopLeft"),type:{integer:!0}},[d.rectangleRoundedCurveRightTop]:{displayName:(0,a.V)("Visual_CornerTopRight"),type:{integer:!0}},[d.rectangleRoundedCurveLeftBottom]:{displayName:(0,a.V)("Visual_CornerBottomLeft"),type:{integer:!0}},[d.rectangleRoundedCurveRightBottom]:{displayName:(0,a.V)("Visual_CornerBottomRight"),type:{integer:!0}}},v={[h.smallMultiplesLayout]:{displayName:(0,a.V)("Small_Multiples_Layout_Section"),properties:n},[h.smallMultiplesBorder]:{displayName:(0,a.V)("Visual_Border"),properties:s},[h.smallMultiplesGrid]:{displayName:(0,a.V)("Visual_Gridline_Show"),properties:p},[h.smallMultiplesOverFlow]:{displayName:(0,a.V)("Visual_OverFlow"),properties:l},[h.smallMultiplesHeader]:{displayName:(0,a.V)("Small_Multiples_Header"),properties:m},[h.smallMultiplesAccentBar]:{displayName:(0,a.V)("Visual_Outline_AccentBar"),properties:b},[h.smallMultiplesOuterShape]:{displayName:(0,a.V)("Visual_Shape"),properties:g},[h.smallMultiplesCellBackGround]:{displayName:(0,a.V)("Visual_Background"),properties:V}}},108632:function(Ce,k,r){r.d(k,{Y:function(){return C}});var a=r(454865),e=r(438043),u=r(430945);function t(y){return[{name:"Values",kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)(y&&y.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}function C(y){return{dataRoles:t(y),objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:u.iD.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,e.V)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,e.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,e.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,e.V)("Visual_Grid"),properties:{outlineColor:u.iD.outlineColor,outlineWeight:u.iD.outlineWeight,gridVertical:{displayName:(0,e.V)("Visual_GridVertical"),description:(0,e.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,e.V)("Visual_GridVertical_Color"),description:(0,e.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,e.V)("Visual_GridVertical_Weight"),description:(0,e.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,e.V)("Visual_GridHorizontal"),description:(0,e.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,e.V)("Visual_GridHorizontal_Color"),description:(0,e.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,e.V)("Visual_GridHorizontal_Weight"),description:(0,e.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,e.V)("Visual_RowPadding"),description:(0,e.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,e.V)("Visual_Tablix_ImageHeight"),description:(0,e.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,e.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:u.iD.outline,fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor,wordWrap:u.iD.wordWrap}},values:{displayName:(0,e.V)("Visual_Tablix_Values"),properties:{outline:u.iD.outline,backColor:{displayName:(0,e.V)("Background_Color"),description:(0,e.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,e.V)("Visual_FontColor"),description:(0,e.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,e.V)("Background_Color"),description:(0,e.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,e.V)("Visual_Tablix_FontColorSecondary"),description:(0,e.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,e.V)("Visual_Tablix_BackColorSecondary"),description:(0,e.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,e.V)("Visual_Tablix_UrlIcon"),description:(0,e.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,e.V)("Visual_Total"),properties:{outline:u.iD.outline,fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor}},columnFormatting:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:u.iD.tablixFontColor,backColor:u.iD.backColor,styleHeader:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,e.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}},122220:function(Ce,k,r){r.d(k,{Z:function(){return i},k:function(){return y}});var a=r(160590),e=r(454865),u=r(438043),t=r(430945);function C(o){return[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,u.V)(o&&o.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function y(o){return{dataRoles:C(o),objects:{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:t.iD.formatString}},grid:{displayName:(0,u.V)("Visual_Grid"),properties:{...t.r8,gridVertical:{displayName:(0,u.V)("Visual_GridVertical"),description:(0,u.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,u.V)("Visual_GridVertical_Color"),description:(0,u.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,u.V)("Visual_GridVertical_Weight"),description:(0,u.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,u.V)("Visual_GridHorizontal"),description:(0,u.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,u.V)("Visual_GridHorizontal_Color"),description:(0,u.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,u.V)("Visual_GridHorizontal_Weight"),description:(0,u.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,u.V)("Visual_RowPadding"),description:(0,u.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,u.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,u.V)("Visual_General_Properties_Height"),description:(0,u.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,u.V)("Visual_General_Properties_Width"),description:(0,u.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,u.V)("Visual_Tablix_ColumnHeaders"),properties:{...t.r8,...t.GY,alignment:t.iD.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,u.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:t.iD.wordWrap}},values:{displayName:(0,u.V)("Visual_Tablix_Values"),properties:{...t.r8,...t.GY,backColor:{displayName:(0,u.V)("Background_Color"),description:(0,u.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,u.V)("Visual_FontColor"),description:(0,u.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,u.V)("Visual_FontColor"),description:(0,u.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,u.V)("Background_Color"),description:(0,u.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,u.V)("Visual_Tablix_FontColorSecondary"),description:(0,u.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,u.V)("Visual_Tablix_BackColorSecondary"),description:(0,u.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,u.V)("Visual_Tablix_UrlIcon"),description:(0,u.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:t.iD.wordWrap,icon:{displayName:(0,u.V)("Visual_Tablix_Icons"),description:(0,u.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,u.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,u.V)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,u.V)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,u.V)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},...t.r8,...t.GY}},columnFormatting:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,u.V)("Visual_DisplayUnits"),description:(0,u.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:t.iD.labelPrecision,fontColor:t.iD.tablixFontColor,backColor:t.iD.backColor,alignment:t.iD.textAlignment,styleHeader:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,u.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,u.V)("Visual_ConditionalFormatting_DataBars"),description:(0,u.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:t.TQ.sparklines,accessibility:{displayName:(0,u.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,u.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,u.V)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var i=(0,a.wZ)(y().objects)},356687:function(Ce,k,r){r.d(k,{Wr:function(){return i},po:function(){return y},uY:function(){return o}});var a=r(454865),e=r(438043),u=r(124463),t=r(430945),C=r(900222),y=function(c){return c.Top="--accent-bar-top",c.Right="--accent-bar-right",c.Bottom="--accent-bar-bottom",c.Left="--accent-bar-left",c}({});function i(c){return{dataRoles:[{name:C.CT.value,kind:a.DW.Grouping,displayName:(0,e.V)("Field"),description:(0,e.V)("Role_DisplayName_FieldDescription"),requiredTypes:[{text:!0}]}],objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:t.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selectedValues:{suppressFormatPainterCopy:!0,type:{selectedValues:{}},transient:!0}}},inputText:{properties:{placeholder:{displayName:(0,e.V)("Placeholder"),type:{text:!0}},fontFamily:t.iD.fontFamily,fontSize:t.iD.fontSize,bold:t.iD.bold,italic:t.iD.italic,underline:t.iD.underline,fontColor:t.iD.genericColor,fontTransparency:t.iD.genericTransparency,dismissColor:t.iD.genericColor,dismissTransparency:t.iD.genericTransparency,dismissSize:t.iD.iconSize,dismissSpacing:{displayName:(0,e.V)("Visual_Spacing"),type:{integer:!0}},paddingTop:{displayName:(0,e.V)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,e.V)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,e.V)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,e.V)("Visual_Margin_Left"),type:{integer:!0}},backColor:t.iD.genericColor,backTransparency:t.iD.genericTransparency,borderShow:t.iD.show,borderColor:t.iD.genericColor,borderTransparency:t.iD.genericTransparency,borderWidth:t.iD.width}},applyButton:{properties:{iconColor:t.iD.genericColor,iconTransparency:t.iD.genericTransparency,iconSize:t.iD.iconSize,paddingTop:{displayName:(0,e.V)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,e.V)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,e.V)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,e.V)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.iD.show,backColor:t.iD.genericColor,backTransparency:t.iD.genericTransparency,borderShow:t.iD.show,borderColor:t.iD.genericColor,borderTransparency:t.iD.genericTransparency,borderWidth:t.iD.width,spacing:{displayName:(0,e.V)("Visual_Spacing"),type:{integer:!0}}}},inputTextBox:{properties:{paddingTop:{displayName:(0,e.V)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,e.V)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,e.V)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,e.V)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.iD.show,backColor:t.iD.genericColor,backTransparency:t.iD.genericTransparency,borderShow:t.iD.show,borderColor:t.iD.genericColor,borderTransparency:t.iD.genericTransparency,borderWidth:t.iD.width,accentBarShow:t.iD.show,accentBarPosition:{displayName:(0,e.V)("Visual_Position"),type:{enumeration:(0,u.i)([{value:y.Top,displayName:h=>h.get("Top")},{value:y.Right,displayName:h=>h.get("Visual_TextAlignment_Right")},{value:y.Bottom,displayName:h=>h.get("Bottom")},{value:y.Left,displayName:h=>h.get("Visual_TextAlignment_Left")}])}},accentBarColor:t.iD.genericColor,accentBarTransparency:t.iD.genericTransparency,accentBarWidth:t.iD.width}}},dataViewMappings:[{conditions:[{[C.CT.value]:{min:0,max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:C.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},includeEmptyGroups:!0}}],sorting:{default:{}},supportsKeyboardFocus:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,keepAllMetadataColumns:!0}}var o={general:{filter:{objectName:"general",propertyName:"filter"}},inputText:{placeholder:{objectName:"inputText",propertyName:"placeholder"},fontFamily:{objectName:"inputText",propertyName:"fontFamily"},fontSize:{objectName:"inputText",propertyName:"fontSize"},bold:{objectName:"inputText",propertyName:"bold"},italic:{objectName:"inputText",propertyName:"italic"},underline:{objectName:"inputText",propertyName:"underline"},fontColor:{objectName:"inputText",propertyName:"fontColor"},fontTransparency:{objectName:"inputText",propertyName:"fontTransparency"},dismissColor:{objectName:"inputText",propertyName:"dismissColor"},dismissTransparency:{objectName:"inputText",propertyName:"dismissTransparency"},dismissSize:{objectName:"inputText",propertyName:"dismissSize"},dismissSpacing:{objectName:"inputText",propertyName:"dismissSpacing"},paddingTop:{objectName:"inputText",propertyName:"paddingTop"},paddingRight:{objectName:"inputText",propertyName:"paddingRight"},paddingBottom:{objectName:"inputText",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputText",propertyName:"paddingLeft"},backColor:{objectName:"inputText",propertyName:"backColor"},backTransparency:{objectName:"inputText",propertyName:"backTransparency"},borderShow:{objectName:"inputText",propertyName:"borderShow"},borderColor:{objectName:"inputText",propertyName:"borderColor"},borderTransparency:{objectName:"inputText",propertyName:"borderTransparency"},borderWidth:{objectName:"inputText",propertyName:"borderWidth"}},applyButton:{iconColor:{objectName:"applyButton",propertyName:"iconColor"},iconTransparency:{objectName:"applyButton",propertyName:"iconTransparency"},iconSize:{objectName:"applyButton",propertyName:"iconSize"},paddingTop:{objectName:"applyButton",propertyName:"paddingTop"},paddingRight:{objectName:"applyButton",propertyName:"paddingRight"},paddingBottom:{objectName:"applyButton",propertyName:"paddingBottom"},paddingLeft:{objectName:"applyButton",propertyName:"paddingLeft"},backShow:{objectName:"applyButton",propertyName:"backShow"},backColor:{objectName:"applyButton",propertyName:"backColor"},backTransparency:{objectName:"applyButton",propertyName:"backTransparency"},borderShow:{objectName:"applyButton",propertyName:"borderShow"},borderColor:{objectName:"applyButton",propertyName:"borderColor"},borderTransparency:{objectName:"applyButton",propertyName:"borderTransparency"},borderWidth:{objectName:"applyButton",propertyName:"borderWidth"},spacing:{objectName:"applyButton",propertyName:"spacing"}},inputTextBox:{paddingTop:{objectName:"inputTextBox",propertyName:"paddingTop"},paddingRight:{objectName:"inputTextBox",propertyName:"paddingRight"},paddingBottom:{objectName:"inputTextBox",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputTextBox",propertyName:"paddingLeft"},backShow:{objectName:"inputTextBox",propertyName:"backShow"},backColor:{objectName:"inputTextBox",propertyName:"backColor"},backTransparency:{objectName:"inputTextBox",propertyName:"backTransparency"},borderShow:{objectName:"inputTextBox",propertyName:"borderShow"},borderColor:{objectName:"inputTextBox",propertyName:"borderColor"},borderTransparency:{objectName:"inputTextBox",propertyName:"borderTransparency"},borderWidth:{objectName:"inputTextBox",propertyName:"borderWidth"},accentBarShow:{objectName:"inputTextBox",propertyName:"accentBarShow"},accentBarPosition:{objectName:"inputTextBox",propertyName:"accentBarPosition"},accentBarColor:{objectName:"inputTextBox",propertyName:"accentBarColor"},accentBarTransparency:{objectName:"inputTextBox",propertyName:"accentBarTransparency"},accentBarWidth:{objectName:"inputTextBox",propertyName:"accentBarWidth"}}}},276712:function(Ce,k,r){r.d(k,{RL:function(){return u},d$:function(){return y},dd:function(){return t},mj:function(){return C}});var a=r(438043),e=r(430945),u={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},t={objects:{general:{displayName:(0,a.V)("Visual_General"),properties:{[u.general.paragraphs.propertyName]:{type:{paragraphs:{}},suppressFormatPainterCopy:!0}}},text:{displayName:(0,a.V)("Text"),properties:{[u.text.fontSize.propertyName]:{displayName:(0,a.V)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},[u.text.fontFamily.propertyName]:{displayName:(0,a.V)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},[u.text.color.propertyName]:{displayName:(0,a.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}}}},values:{properties:{[u.values.expr.propertyName]:{formatStringProperty:u.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},[u.values.formatString.propertyName]:e.iD.formatString}}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},C="\n",y="__Newline__"},245388:function(Ce,k,r){r.d(k,{Vz:function(){return y},WI:function(){return i},nm:function(){return C},p:function(){return h}});var a=r(438043),e=r(668294),u=r(960346),t=r(430945),C={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},y={text:"text",icon:"icon"},i={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},o={show:t.iD.show,...t.KG,[i.text]:{displayName:(0,a.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},[i.textVerticalAlignment]:t.iD.verticalAlignment,[i.textHorizontalAlignment]:t.iD.horizontalAlignment,[i.textLeftMargin]:{displayName:(0,a.V)("Visual_Margin_Left"),type:{integer:!0}},[i.textRightMargin]:{displayName:(0,a.V)("Visual_Margin_Right"),type:{integer:!0}},[i.textTopMargin]:{displayName:(0,a.V)("Visual_Margin_Top"),type:{integer:!0}},[i.textBottomMargin]:{displayName:(0,a.V)("Visual_Margin_Bottom"),type:{integer:!0}}},c={show:t.iD.show,shapeType:{displayName:(0,a.V)("Icon"),type:{enumeration:e.i}},[i.iconImage]:t.iD.image,[i.iconColor]:t.iD.lineColor,[i.iconTransparency]:t.iD.lineTransparency,[i.iconWeight]:{displayName:(0,a.V)("Visual_BasicShape_Weight"),type:{integer:!0}},[i.iconPlacement]:{displayName:(0,a.V)("Visual_IconPlacement"),type:{enumeration:u.dt}},[i.iconVerticalAlignment]:t.iD.verticalAlignment,[i.iconHorizontalAlignment]:t.iD.horizontalAlignment,[i.iconLeftMargin]:{displayName:(0,a.V)("Visual_Margin_Left"),type:{integer:!0}},[i.iconRightMargin]:{displayName:(0,a.V)("Visual_Margin_Right"),type:{integer:!0}},[i.iconTopMargin]:{displayName:(0,a.V)("Visual_Margin_Top"),type:{integer:!0}},[i.iconBottomMargin]:{displayName:(0,a.V)("Visual_Margin_Bottom"),type:{integer:!0}},[i.iconSize]:{displayName:(0,a.V)("Visual_IconSize"),placeHolderText:(0,a.V)("Visual_Auto"),type:{numeric:!0}}},h={[y.text]:{displayName:(0,a.V)("Text"),properties:o},[y.icon]:{displayName:(0,a.V)("Icon"),properties:c}}},963993:function(Ce,k,r){r.d(k,{Mn:function(){return g},OV:function(){return l},eM:function(){return V},zC:function(){return T}});var a=r(438043),e=r(124463),u=r(74003),t=r(888103),C=r(3230),y=r(652172),i=r(305927),o=r(651806),c=r(865586),h=r(726452),d=r(547045),n=r(19262),s=r(430945),p=r(936891),l={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},maxTiles:{objectName:"layout",propertyName:"maxTiles"},cellPadding:{objectName:"layout",propertyName:"cellPadding"},customizePadding:{objectName:"layout",propertyName:"customizePadding"},rowPadding:{objectName:"layout",propertyName:"rowPadding"},columnPadding:{objectName:"layout",propertyName:"columnPadding"},calloutSize:{objectName:"layout",propertyName:"calloutSize"},style:{objectName:"layout",propertyName:"style"},fixedButtonsCount:{objectName:"layout",propertyName:"fixedButtonsCount"},indentation:{objectName:"layout",propertyName:"indentation"},reverseIndentation:{objectName:"layout",propertyName:"reverseIndentation"},containerIndentation:{objectName:"layout",propertyName:"containerIndentation"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"},leftOuterMargin:{objectName:"layout",propertyName:"leftOuterMargin"},rightOuterMargin:{objectName:"layout",propertyName:"rightOuterMargin"},topOuterMargin:{objectName:"layout",propertyName:"topOuterMargin"},bottomOuterMargin:{objectName:"layout",propertyName:"bottomOuterMargin"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"},matchValueAlignment:{objectName:"label",propertyName:"matchValueAlignment"},horizontalAlignment:{objectName:"label",propertyName:"horizontalAlignment"}},overFlow:{overFlowStyle:{objectName:"overFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"overFlow",propertyName:"overFlowDirection"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},m=(0,e.i)([{value:"custom",displayName:R=>R.get("Custom")},{value:"top",displayName:R=>R.get("Top")},{value:"topLeft",displayName:R=>R.get("Visual_LabelPosition_TopLeft")},{value:"topRight",displayName:R=>R.get("Visual_LabelPosition_TopRight")},{value:"center",displayName:R=>R.get("Visual_TextAlignment_Center")},{value:"centerLeft",displayName:R=>R.get("Visual_TextAlignment_Left")},{value:"centerRight",displayName:R=>R.get("Visual_TextAlignment_Right")},{value:"bottom",displayName:R=>R.get("Bottom")},{value:"bottomLeft",displayName:R=>R.get("Visual_LabelPosition_BottomLeft")},{value:"bottomRight",displayName:R=>R.get("Visual_LabelPosition_BottomRight")}]),b=(0,e.i)([{value:"Outer",displayName:R=>R.get("Visual_DonutLabelPosition_Outside")},{value:"Inner",displayName:R=>R.get("Visual_DonutLabelPosition_Inside")}]),V={accentBar:"accentBar",calloutLayout:"calloutLayout",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value",overFlow:"overFlow"},g={accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",alignBaselines:"alignBaselines",alignment:"alignment",arrowStemWidth:"arrowStemWidth",arrowheadSize:"arrowheadSize",bold:"bold",bottomMargin:"bottomMargin",calloutSize:"calloutSize",cellPadding:"cellPadding",chevronAngle:"chevronAngle",columnCount:"columnCount",columnPadding:"columnPadding",customFormatString:"customFormatString",customizePadding:"customizePadding",fillColor:"fillColor",fillImage:"image",fillTransparency:"transparency",fontColor:"fontColor",fontFamily:"fontFamily",fontSize:"fontSize",glowColor:"color",glowDistance:"glowDistance",glowPositionPreset:"glowPositionPreset",glowSpread:"glowSpread",glowTransparency:"transparency",heading:"heading",hexagonSlant:"hexagonSlant",horizontalAlignment:"horizontalAlignment",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",leftMargin:"leftMargin",matchValueAlignment:"matchValueAlignment",maxTiles:"maxTiles",octagonSnipSize:"octagonSnipSize",orientation:"orientation",outlineColor:"lineColor",outlineTransparency:"transparency",outlineWeight:"weight",OverFlowDirection:"overFlowDirection",OverFlowStyle:"overFlowStyle",paddingSelection:"paddingSelection",parallelogramSlant:"parallelogramSlant",position:"position",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rightMargin:"rightMargin",rowCount:"rowCount",rowPadding:"rowPadding",shadowAngle:"angle",shadowBlur:"shadowBlur",shadowColor:"color",shadowDistance:"shadowDistance",shadowPositionPreset:"shadowPositionPreset",shadowSpread:"shadowSpread",shadowTransparency:"transparency",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",show:"show",showBlankAs:"showBlankAs",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailAngle:"speechBubbleTailAngle",speechBubbleTailPosition:"speechBubbleTailPosition",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabRoundCornerBottom:"tabRoundCornerBottom",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerTopRight:"tabRoundCornerTopRight",text:"text",textWrap:"textWrap",tileShape:"tileShape",topMargin:"topMargin",transparency:"transparency",trapezoidSlant:"trapezoidSlant",underline:"underline",verticalSpacing:"verticalSpacing"},f={show:s.iD.show,[g.fillColor]:s.iD.fill,[g.fillTransparency]:s.iD.backgroundTransparency,[g.fillImage]:s.iD.image},S={show:s.iD.show,[g.fillColor]:s.iD.fill,[g.fillTransparency]:s.iD.backgroundTransparency,[g.fillImage]:s.iD.image,[g.imageTransparency]:s.iD.backgroundTransparency,[g.imageSplitTransparency]:{type:{bool:!0}}},P={show:s.iD.show,[g.outlineColor]:s.iD.outlineColor,[g.outlineTransparency]:s.iD.lineTransparency,[g.outlineWeight]:s.iD.outlineWeight},D={[g.tileShape]:{displayName:(0,a.V)("Visual_Shape"),type:{enumeration:h.d}},[g.shapeRounding]:{displayName:(0,a.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},[g.arrowheadSize]:{displayName:(0,a.V)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},[g.arrowStemWidth]:{displayName:(0,a.V)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},[g.chevronAngle]:{displayName:(0,a.V)("Visual_Angle"),type:{integer:!0}},[g.isocelesTriangleTipPosition]:{displayName:(0,a.V)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},[g.parallelogramSlant]:{displayName:(0,a.V)("Visual_Shape_Slant"),type:{integer:!0}},[g.trapezoidSlant]:{displayName:(0,a.V)("Visual_Shape_Slant"),type:{integer:!0}},[g.hexagonSlant]:{displayName:(0,a.V)("Visual_Shape_Slant"),type:{integer:!0}},[g.octagonSnipSize]:{displayName:(0,a.V)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},[g.speechBubbleHeight]:{displayName:(0,a.V)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},[g.speechBubbleTailPosition]:{displayName:(0,a.V)("Visual_Shape_ChatTailPosition"),type:{enumeration:d.dt}},[g.speechBubbleTailAngle]:{displayName:(0,a.V)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},[g.rectangleRoundedCurve]:{displayName:(0,a.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[g.tabCutCornerSnipSizeTopRight]:{displayName:(0,a.V)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},[g.tabCutCornerSnipSizeTop]:{displayName:(0,a.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[g.tabCutCornerSnipSizeBottom]:{displayName:(0,a.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},[g.tabRoundCornerTopRight]:{displayName:(0,a.V)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},[g.tabRoundCornerTop]:{displayName:(0,a.V)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},[g.tabRoundCornerBottom]:{displayName:(0,a.V)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}}},M={[g.tileShape]:{displayName:(0,a.V)("Visual_Shape"),type:{enumeration:h.d}},[g.rectangleRoundedCurveCustomStyle]:{displayName:(0,a.V)("Visual_CustomStyle"),type:{bool:!0}},[g.rectangleRoundedCurveLeftTop]:{displayName:(0,a.V)("Visual_CornerTopLeft"),type:{integer:!0}},[g.rectangleRoundedCurveRightTop]:{displayName:(0,a.V)("Visual_CornerTopRight"),type:{integer:!0}},[g.rectangleRoundedCurveLeftBottom]:{displayName:(0,a.V)("Visual_CornerBottomLeft"),type:{integer:!0}},[g.rectangleRoundedCurveRightBottom]:{displayName:(0,a.V)("Visual_CornerBottomRight"),type:{integer:!0}},[g.rectangleRoundedCurve]:{displayName:(0,a.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[g.tabCutCornerSnipSizeTop]:{displayName:(0,a.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[g.tabCutCornerSnipSizeCustomStyle]:{displayName:(0,a.V)("Visual_CustomStyle"),type:{bool:!0}},[g.tabCutCornerSnipSizeLeftTop]:{displayName:(0,a.V)("Visual_CornerTopLeft"),type:{integer:!0}},[g.tabCutCornerSnipSizeRightTop]:{displayName:(0,a.V)("Visual_CornerTopRight"),type:{integer:!0}},[g.tabCutCornerSnipSizeLeftBottom]:{displayName:(0,a.V)("Visual_CornerBottomLeft"),type:{integer:!0}},[g.tabCutCornerSnipSizeRightBottom]:{displayName:(0,a.V)("Visual_CornerBottomRight"),type:{integer:!0}},[g.tabCutCornerSnipSizeBottom]:{displayName:(0,a.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}}},E={show:s.iD.show,[g.shadowColor]:s.iD.genericColor,[g.shadowTransparency]:s.iD.genericTransparency,[g.shadowBlur]:{displayName:(0,a.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},[g.shadowPositionPreset]:{displayName:(0,a.V)("Visual_DropShadow_Preset"),type:{enumeration:m}},[g.shadowAngle]:{displayName:(0,a.V)("Visual_Angle"),type:{numeric:!0}},[g.shadowDistance]:{displayName:(0,a.V)("Distance"),type:{numeric:!0}}},w={show:s.iD.show,[g.glowColor]:s.iD.genericColor,[g.glowTransparency]:s.iD.genericTransparency,[g.shadowBlur]:{displayName:(0,a.V)("Visual_DropShadow_Blur"),type:{numeric:!0}}},x={show:s.iD.show,[g.shadowColor]:s.iD.genericColor,[g.shadowTransparency]:s.iD.genericTransparency,[g.shadowBlur]:{displayName:(0,a.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},[g.shadowPositionPreset]:{displayName:(0,a.V)("Visual_DropShadow_Preset"),type:{enumeration:m}},[g.shadowAngle]:{displayName:(0,a.V)("Visual_Angle"),type:{numeric:!0}},[g.shadowDistance]:{displayName:(0,a.V)("Distance"),type:{numeric:!0}},[g.position]:{displayName:(0,a.V)("Offset"),type:{enumeration:b}},[g.shadowSpread]:{displayName:(0,a.V)("Visual_BubbleSize"),type:{numeric:!0}}},N={show:s.iD.show,[g.glowColor]:s.iD.genericColor,[g.glowTransparency]:s.iD.genericTransparency,[g.shadowBlur]:{displayName:(0,a.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},[g.glowPositionPreset]:{displayName:(0,a.V)("Visual_DropShadow_Preset"),type:{enumeration:m}},[g.shadowAngle]:{displayName:(0,a.V)("Visual_Angle"),type:{numeric:!0}},[g.glowDistance]:{displayName:(0,a.V)("Distance"),type:{numeric:!0}},[g.position]:{displayName:(0,a.V)("Offset"),type:{enumeration:b}},[g.glowSpread]:{displayName:(0,a.V)("Visual_BubbleSize"),type:{numeric:!0}}},L={show:s.iD.show,[g.position]:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:C.CX}},[g.accentBarColor]:s.iD.genericColor,[g.accentBarTransparency]:s.iD.genericTransparency,[g.accentBarWidth]:s.iD.width},B={[g.alignment]:{displayName:(0,a.V)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},[g.orientation]:{displayName:(0,a.V)("Visual_Arrangement"),type:{enumeration:o.SO}},[g.rowCount]:{displayName:(0,a.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[g.columnCount]:{displayName:(0,a.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[g.maxTiles]:{displayName:(0,a.V)("Visual_Arrangement_CardsShown"),type:{integer:!0}},[g.cellPadding]:{displayName:(0,a.V)("Visual_Spacing_Between_Cards"),type:{integer:!0}},[g.customizePadding]:{displayName:(0,a.V)("Visual_Spacing_Customize"),type:{bool:!0}},[g.rowPadding]:{displayName:(0,a.V)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},[g.columnPadding]:{displayName:(0,a.V)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},[g.calloutSize]:{displayName:(0,a.V)("Visual_CallOutSize"),type:{numeric:!0}},style:{displayName:(0,a.V)("Style"),type:{enumeration:p.d}},backgroundFillColor:s.iD.genericColor,backgroundTransparency:s.iD.backgroundTransparency,backgroundShow:s.iD.show,backgroundImage:s.iD.image,backgroundImageTransparency:{displayName:(0,a.V)("Visual_Image_Transparency"),type:{numeric:!0}},rectangleRoundedCurveCustomStyle:{displayName:(0,a.V)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},rectangleRoundedCurve:{displayName:(0,a.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},rectangleRoundedCurveLeftTop:{displayName:(0,a.V)("Visual_CornerTopLeft"),type:{integer:!0}},rectangleRoundedCurveRightTop:{displayName:(0,a.V)("Visual_CornerTopRight"),type:{integer:!0}},rectangleRoundedCurveLeftBottom:{displayName:(0,a.V)("Visual_CornerBottomLeft"),type:{integer:!0}},rectangleRoundedCurveRightBottom:{displayName:(0,a.V)("Visual_CornerBottomRight"),type:{integer:!0}},customizeLines:{displayName:(0,a.V)("Customize_Lines_String"),type:{bool:!0}},...(0,s.uH)({strokePattern:"lineStyle",strokeTransparency:"lineTransparency",strokeWidth:"lineWidth",strokeColor:"lineColor"}),...(0,s.uH)({strokePattern:"gridlineStyle",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineWidth",strokeColor:"gridlineColor"}),...(0,s.uH)({strokePattern:"borderStyle",strokeTransparency:"borderTransparency",strokeWidth:"borderWidth",strokeColor:"borderColor"}),leftOuterMargin:{displayName:(0,a.V)("Visual_PaddingLeft"),type:{integer:!0}},rightOuterMargin:{displayName:(0,a.V)("Visual_PaddingRight"),type:{integer:!0}},topOuterMargin:{displayName:(0,a.V)("Visual_PaddingTop"),type:{integer:!0}},bottomOuterMargin:{displayName:(0,a.V)("Visual_PaddingBottom"),type:{integer:!0}}},I={[g.OverFlowStyle]:{displayName:(0,a.V)("Visual_OverFlow_Style"),type:{enumeration:y.d}},[g.OverFlowDirection]:{displayName:(0,a.V)("Visual_OverFlow_Direction"),type:{enumeration:i.d}}},W={[g.paddingSelection]:{displayName:(0,a.V)("Embed_Size"),type:{enumeration:c.dt}},[g.leftMargin]:{displayName:(0,a.V)("Visual_Margin_Left"),type:{integer:!0}},[g.rightMargin]:{displayName:(0,a.V)("Visual_Margin_Right"),type:{integer:!0}},[g.topMargin]:{displayName:(0,a.V)("Visual_Margin_Top"),type:{integer:!0}},[g.bottomMargin]:{displayName:(0,a.V)("Visual_Margin_Bottom"),type:{integer:!0}}},O={show:s.iD.show,...s.KG,[g.horizontalAlignment]:s.iD.horizontalAlignment,[g.textWrap]:s.iD.textWrap,[g.labelDisplayUnits]:{...s.iD.labelDisplayUnits,type:{enumeration:t.d}},[g.labelPrecision]:s.iD.labelPrecision,[g.customFormatString]:{displayName:(0,a.V)("Visual_FormatCode"),description:(0,a.V)("Visual_FormatCode_Description"),type:{text:!0}},[g.showBlankAs]:s.iD.showBlankAs,[g.transparency]:s.iD.genericTransparency},F={show:s.iD.show,[g.text]:{displayName:(0,a.V)("Text"),type:{text:!0}},[g.heading]:{displayName:(0,a.V)("Visual_AzureMapsHeading"),type:{enumeration:n.VX}},...s.KG,[g.position]:{displayName:(0,a.V)("Visual_Position"),type:{enumeration:u.d}},[g.transparency]:s.iD.genericTransparency,[g.textWrap]:s.iD.textWrap,[g.alignBaselines]:{displayName:(0,a.V)("Visual_AlignBaselines"),type:{bool:!0}},[g.matchValueAlignment]:{displayName:(0,a.V)("Visual_Alignment_MatchValue"),type:{bool:!0}},[g.horizontalAlignment]:s.iD.horizontalAlignment},A={[g.verticalSpacing]:{displayName:(0,a.V)("Visual_Spacing_Vertical"),type:{integer:!0}}},T={[V.fill]:{displayName:(0,a.V)("Visual_Fill"),properties:f},[V.fillCustom]:{displayName:(0,a.V)("Visual_Fill"),properties:S},[V.outline]:{displayName:(0,a.V)("Visual_Outline"),properties:P},[V.shape]:{displayName:(0,a.V)("Visual_Shape"),properties:D},[V.shadow]:{displayName:(0,a.V)("Visual_Shape_Shadow"),properties:E},[V.glow]:{displayName:(0,a.V)("Visual_Shape_Glow"),properties:w},[V.shapeCustomRectangle]:{displayName:(0,a.V)("Visual_Shape"),properties:M},[V.shadowCustom]:{displayName:(0,a.V)("Visual_Shape_Shadow"),properties:x},[V.glowCustom]:{displayName:(0,a.V)("Visual_Shape_Glow"),properties:N},[V.accentBar]:{displayName:(0,a.V)("Visual_Outline_AccentBar"),properties:L},[V.padding]:{displayName:(0,a.V)("Visual_Padding"),properties:W},[V.value]:{displayName:(0,a.V)("Role_DisplayName_Values"),properties:O},[V.label]:{displayName:(0,a.V)("Role_DisplayName_Label"),properties:F},[V.layout]:{displayName:(0,a.V)("Layout"),properties:B},[V.overFlow]:{displayName:(0,a.V)("Visual_OverFlow"),properties:I},[V.spacing]:{displayName:(0,a.V)("Visual_Spacing"),properties:A}}},903917:function(Ce,k,r){r.d(k,{A:function(){return C},c:function(){return y},treemapProps:function(){return i}});var a=r(454865),e=r(438043),u=r(430945),t=r(794766),C={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function y(o){return{dataRoles:[{name:"Group",kind:a.DW.Grouping,displayName:(0,e.V)(o?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,e.V)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:a.DW.Grouping,displayName:(0,e.V)("Details")},{name:"Values",kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Values"),description:(0,e.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!o?.cartesianConditionalFormatting&&{name:"Gradient",kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Gradient"),description:(0,e.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0},{name:"Tooltips",kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Tooltips"),description:(0,e.V)("Role_Tooltips_Description"),joinPredicate:0}].filter(c=>c),objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:u.iD.formatString}},legend:u.TQ.legend,dataPoint:{displayName:(0,e.V)("Visual_DataPoint"),description:(0,e.V)("Visual_DataPointDescription"),properties:{fill:u.iD.defaultCategoryColor,fillRule:{displayName:(0,e.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},layout:{displayName:(0,e.V)("Layout"),properties:{tilingMethod:{displayName:(0,e.V)("Visual_TilingMethod"),type:{enumeration:t._}},innerPadding:{displayName:(0,e.V)("Visual_PaddingInner_Treemap"),type:{integer:!0}},outerPadding:{displayName:(0,e.V)("Visual_PaddingOuter_Treemap"),type:{integer:!0}}}},labels:{displayName:(0,e.V)("Visual_DataPointsLabels"),description:(0,e.V)("Visual_DataPointsLabelsDescription"),properties:{show:u.iD.show,...u.Ns,labelDisplayUnits:u.iD.labelDisplayUnits,labelPrecision:u.iD.labelPrecision}},categoryLabels:{displayName:(0,e.V)("Visual_CategoryLabels"),description:(0,e.V)("Visual_CategoryLabelsDescription"),properties:{...u.PP}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:1},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:0},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}var i={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}},layout:{tilingMethod:{objectName:"layout",propertyName:"tilingMethod"},innerPadding:{objectName:"layout",propertyName:"innerPadding"},outerPadding:{objectName:"layout",propertyName:"outerPadding"}}}},376784:function(Ce,k,r){r.d(k,{G:function(){return i},waterfallChartObjectProps:function(){return y}});var a=r(160590),e=r(454865),u=r(438043),t=r(913615),C=r(430945),y=(0,a.wZ)(i().objects);function i(o){return{dataRoles:[{name:t.IT.category,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_Category"),description:(0,u.V)("Role_DisplayName_CategoryWaterfallDescription")},{name:t.IT.breakdown,kind:e.DW.Grouping,displayName:(0,u.V)("Role_DisplayName_BreakdownWaterfall"),description:(0,u.V)("Role_DisplayName_BreakdownWaterfallDescription")},{name:t.IT.y,kind:e.DW.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,u.V)(o?.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,u.V)("Role_DisplayName_ValuesDescription")},{name:t.IT.tooltips,kind:e.DW.Measure,displayName:(0,u.V)("Role_DisplayName_Tooltips"),description:(0,u.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,u.V)("Visual_General"),properties:{formatString:C.iD.formatString,responsive:C.iD.responsive,responsiveLegacy:C.iD.responsiveLegacy}},legend:C.TQ.legend,categoryAxis:{displayName:(0,u.V)("Visual_XAxis"),properties:{show:C.iD.show,..._.omit(C.PO,["axisType"]),..._.omit(C.wF,["labelDisplayUnits","labelPrecision"]),...(0,C.Me)("x")}},valueAxis:{displayName:(0,u.V)("Visual_YAxis"),properties:{show:C.iD.show,..._.omit(C.Mu,["logAxisScale"]),...C.wF,...(0,C.Me)("y"),...C.WV,totalsEnabled:{displayName:(0,u.V)("Visual_Axis_Total"),description:(0,u.V)("Visual_Axis_TotalDescription"),type:{bool:!0}},switchAxisPosition:C.iD.switchAxisPosition}},labels:{displayName:(0,u.V)("Visual_DataPointsLabels"),description:(0,u.V)("Visual_DataPointsLabelsDescription"),properties:{show:C.iD.show,..._.omit(C.QN,["transparency","valueCustomFormatString","showBlankAs","enableValueDataLabel"]),labelOrientation:C.iD.labelOrientation,labelPosition:C.iD.labelPosition,labelDisplayUnits:C.iD.dataLabelDisplayUnits,...C.BO}},plotArea:C.TQ.plotArea,sentimentColors:{displayName:(0,u.V)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,u.V)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,u.V)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,u.V)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,u.V)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},y1AxisReferenceLine:{displayName:(0,u.V)("Visual_Reference_Line"),description:(0,u.V)("Visual_Reference_Line_Description"),objectCategory:2,properties:{...C.xF,...C.I3}},breakdown:{displayName:(0,u.V)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,u.V)("Visual_Waterfall_MaxBreakdown"),description:(0,u.V)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},329034:function(Ce,k,r){r.d(k,{$9:function(){return h},Hx:function(){return d},PX:function(){return o},_K:function(){return c},iQ:function(){return s}});var a=r(939123),e=r(988206),u=r(123537),t=r(913615),C=r(440312),y=r(632151),i=r(783203);function o(p,l,m,b,V){return!(V&&!b)&&(!!function(p){return p&&!_.isEmpty(p.values)}(b)||c(p,l,m))}function c(p,l,m){return!(!d(m)||!h(p,l))}function h(p,l){if(!p)return!0;var m=(0,u.NA)(p,l);return null==m||m===y.w.scalar}function d(p){return!(0,C.c$)(p)}function s(p,l){if(!p||!p.metadata)return!1;var m;if(p.categorical&&p.categorical.categories&&(0,e.mn)(p.categorical.categories)?m=p.categorical.categories.for.in:l&&(0,i.qO)(p)&&(m=(0,i.b8)(p).for.in),null==m)return!1;var g=m.items;if(_.isEmpty(g))return!1;var v=m.activeItems,f=g[0];if(!_.isEmpty(v)){if(v.length>1)return!1;var S=_.find(g,M=>M.queryName===v[0]);a.fF.assertValue(S,"active projection must be part of category items"),f=S}return!!c(p.metadata.objects,t.cartesianChartProps.categoryAxis.axisType,f.type)}},783203:function(Ce,k,r){r.d(k,{D4:function(){return h},QS:function(){return o},UE:function(){return y},XG:function(){return t},Xi:function(){return u},ZO:function(){return i},b8:function(){return l},qO:function(){return c},qU:function(){return d},r8:function(){return C},s5:function(){return b}});var a=r(17034),e=r(988206),u="smallMultiplesLayout",t="subheader";function C(g,v){return(g+1)*v}var y=2,i=2,o=C(y,i);function c(g){return a.ZA.check(v=>({matrix:v.check(g&&g.matrix,a.Gg,f=>({rows:v.check(f.rows,e.G8,S=>({select:v.check(S.select,(0,a.dp)(2),P=>[v.check(P[0],e.oJ,D=>({composite:v.check(D.composite,(0,a.dp)(1),M=>[v.check(M[0],e.mn,a.yR)]),dataReductionAlgorithm:D.dataReductionAlgorithm})),v.check(P[1],e.oJ,D=>({composite:v.check(D.composite,(0,a.dp)(1),M=>[v.check(M[0],e.mn,a.yR)]),dataReductionAlgorithm:D.dataReductionAlgorithm}))])})),columns:v.check(f.columns,e.mn,a.yR),values:v.check(f.values,e.G8,a.yR)})),metadata:g.metadata}))}function h(g){return a.ZA.check(v=>({matrix:v.check(g&&g.matrix,a.Gg,f=>({rows:v.check(f.rows,e.VV,S=>({select:v.check(S.select,(0,a.dp)(2),P=>[v.check(P[0],e.V3,D=>({composite:v.check(D.composite,(0,a.dp)(1),M=>[v.check(M[0],e.Ti,a.yR)]),dataReductionAlgorithm:D.dataReductionAlgorithm})),v.check(P[1],e.V3,D=>({composite:v.check(D.composite,(0,a.dp)(1),M=>[v.check(M[0],e.Ti,a.yR)]),dataReductionAlgorithm:D.dataReductionAlgorithm}))])})),columns:v.check(f.columns,e.Ti,a.yR)}))}))}function d(g){if(!_.isEmpty(g))for(var v of g)if(v.matrix&&h(v))return!0;return!1}function l(g){return g.matrix.rows.select[1].composite[0]}function b(g,v){g.matrix.rows.select[1].dataReductionAlgorithm=v}},13541:function(Ce,k,r){r.d(k,{JS:function(){return h},K1:function(){return e},lo:function(){return d},oN:function(){return o},oR:function(){return C},r3:function(){return t},rj:function(){return y},vb:function(){return i},xn:function(){return u},z$:function(){return c}});var a=r(486584),e={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},u="anomalyDetection",t="anomaly",C="sensitivity",y=_.mapValues(e,n=>`${u}.${n}`),i="SampleAndDetectAnomaly",o="SampleSizePerSeries",c=.7,h={showAnomalies:"show",displayName:"displayName",transform:"transform",explainBy:"explainBy",isAnomalyHighlighted:"isAnomalyHighlighted",sensitivity:"Sensitivity",confidenceBandShow:"confidenceBandShow",confidenceBandStyle:"confidenceBandStyle",confidenceBandTransparency:"transparency",confidenceBandColor:"confidenceBandColor"},d={showAnomalies:{objectName:u,propertyName:h.showAnomalies},displayName:{objectName:u,propertyName:h.displayName},transform:{objectName:u,propertyName:h.transform},isAnomalyHighlighted:{objectName:u,propertyName:h.isAnomalyHighlighted},explainBy:{objectName:u,propertyName:h.explainBy},sensitivity:{objectName:u,propertyName:h.sensitivity},confidenceBandShow:{objectName:u,propertyName:h.confidenceBandShow},confidenceBandStyle:{objectName:u,propertyName:h.confidenceBandStyle},confidenceBandTransparency:{objectName:u,propertyName:h.confidenceBandTransparency},confidenceBandColor:{objectName:u,propertyName:h.confidenceBandColor},show:{objectName:u,propertyName:a.m6.show},shape:{objectName:u,propertyName:a.m6.shape},size:{objectName:u,propertyName:a.m6.size},color:{objectName:u,propertyName:a.m6.color},transparency:{objectName:u,propertyName:a.m6.transparency},rotation:{objectName:u,propertyName:a.m6.rotation},strokeShow:{objectName:u,propertyName:a.m6.strokeShow},strokeColorMatch:{objectName:u,propertyName:a.m6.strokeColorMatch},strokeColor:{objectName:u,propertyName:a.m6.strokeColor},strokeTransparency:{objectName:u,propertyName:a.m6.strokeTransparency},strokeWidth:{objectName:u,propertyName:a.m6.strokeWidth}}},835588:function(Ce,k,r){r.d(k,{EL:function(){return E},Eb:function(){return w},Ik:function(){return F},LO:function(){return U},el:function(){return I},yF:function(){return x}});var a=r(939123),e=r(753104),u=r(17034),t=r(360216),C=r(842864),y=r(988206),i=r(123537),o=r(856632),c=r(359155),h=r(145741),d=r(913615),n=r(624310),s=r(486584),p=r(786629),l=r(632151),m=r(45376),b=r(558124),V=r(673552),g=r(147597),v=r(182193),f=r(691876),S=r(13541),P=r(979855),D="foregroundSelected",M="foregroundSelected";function E(z=(0,t.Ue)()){return{show:!1,selector:void 0,anomalies:[],anomaliesCategoryIndex:[],displayName:"",marker:{show:!0,shape:m.nD.droplet,size:5,color:g.v.getThemeColor(z,D),transparency:50,rotation:0,stroke:{strokeShow:!0,strokeColorMatch:!0,strokeColor:g.v.getThemeColor(z,D),strokeTransparency:0,strokeWidth:1.5,strokePattern:V.Dv.solid}},band:{show:!0,style:b.X$.fill,color:g.v.getThemeColor(z,M),transparency:80}}}function w(z,j,H,q){if(a.fF.assertValue(z,"anomalyDetectionDataView"),a.fF.assertValue(j,"sourceDataView"),a.fF.assertValue(H,"visualStyle"),a.fF.assertValue(q,"formatStringProp"),!z.categorical||!j.categorical)return[];var G=z.categorical;if(_.isEmpty(G.categories)||_.isEmpty(G.values))return[];var Q,ne,J=_.first(G.categories),Z=(0,n.A8)(J);Z?(Q=_.map(Z.values,X=>X.min),ne=_.last(G.categories).values):Q=J.values;var le=G.values.grouped();if(_.isEmpty(Q)||_.isEmpty(le))return[];var he=j.categorical.values;if(_.isEmpty(he))return[];var Se=_.first(he),Ke=Se.objects??[],Ge=Se.values,ye=(0,C.a2)(le,S.rj.Anomaly),we=(0,C.a2)(le,S.rj.ExpectedValue),je=(0,C.a2)(le,S.rj.ExpectedHigh),de=(0,C.a2)(le,S.rj.ExpectedLow),Pe=(0,C.a2)(le,S.rj.BatchStart),Ve=(0,C.a2)(le,S.rj.BatchEnd),Ze=g.v.create(H),Ue=[],Je=0,De=function(z){a.fF.assertValue(z.categorical.values,"sourceDataView.categorical.values");var j=[],H=_.first(z.categorical.values.grouped());if(H)for(var q of H.values){var G=q.source.queryName;if(G){var J=(0,i.AO)(q.source.objects,S.xn);j[G]=J}}return j}(j),ue=E(H),te=_.first(j.categorical.categories).source.queryName,ke=Se.source,at=ke.queryName,tt=Se.objects;for(var ut in De){var ct=De[ut],Ne=function(){var X=ct[Le],be=(0,o.N)(X,S.JS.showAnomalies,!1);if(!be)return 0;var Ie=le[Je];if(!Ie)return Je++,0;for(var Ye=[],ze=[],ee=Ie.values[ye].values,ve=Ie.values[we].values,Te=Ie.values[je].values,Xe=Ie.values[de].values,He=Ie.values[Pe].values,qe=Ie.values[Ve].values,rt={index:-1,value:Number.MIN_VALUE},me={index:-1,value:Number.MAX_VALUE},Ee=0;Ee<Q.length;Ee++){var fe=Ke[Ee],Re=(new h.dw).withCategory([J],Ee,te,!0).withMeasure(at).createSelectionId(),re=(0,e.eT)(Ge[Ee]),se=(0,e.eT)(ve[Ee]),Ae=!!ee[Ee],ce=void 0,Me=void 0;Ae&&(re>se&&rt.value<re&&(rt={index:Ee,value:re}),re<se&&me.value>re&&(me={index:Ee,value:re}),ce=L(J,q,_.get(ne,Ee,void 0),Ee,Q[Ee]),Me=B(ke,tt?tt[Ee]:void 0,q)),Ye.push({isAnomaly:Ae,categoryValue:(0,e.eT)(Q[Ee]),value:re,upperBound:(0,e.eT)(Te[Ee]),lowerBound:(0,e.eT)(Xe[Ee]),expectedValue:se,identity:Re,batchStart:He[Ee],batchEnd:qe[Ee],categoryIndex:Ee,isHighlighted:(0,i.NA)(fe,S.lo.isAnomalyHighlighted,!1),formattedCategoryValue:ce,valueFormatString:Me,seriesIndex:0,selected:!1,anomalyDetection:null}),Ae&&ze.push(Ee)}var $e={selector:{id:Le,metadata:ut},anomalies:Ye,anomaliesCategoryIndex:ze,show:be,displayName:(0,o.N)(X,S.JS.displayName),...x(X,ue,Ze),highestAnomalyPointIndex:rt.index,lowestAnomalyPointIndex:me.index};Ye.forEach(st=>{st.anomalyDetection=$e}),Ue.push($e),Je++};for(var Le in ct)Ne()}return Ue}function x(z,j,H){var q=(0,o.N)(z,S.JS.confidenceBandShow,void 0),G=(0,o.N)(z,S.JS.confidenceBandStyle,j.band.style);return void 0===q&&(q="none"!==G),"none"===G&&(G=b.X$.fill),{marker:(0,p.fP)(z,s.m6,j.marker),band:{show:q,style:G,transparency:(0,o.N)(z,S.JS.confidenceBandTransparency,j.band.transparency),color:H.getColorForPropertyName(z,S.JS.confidenceBandColor,M)}}}function L(z,j,H,q,G){if(a.fF.assertValue(z,"categoryColumn"),a.fF.assertValue(j,"formatStringProp"),H)return H;var J=z.objects,Z=(0,i.NA)(J?J[q]:void 0,j);return(0,v.xq)(G,z.source,j,!1,Z)}function B(z,j,H){a.fF.assertValue(z,"valueColumn"),a.fF.assertAnyValue(j,"objects"),a.fF.assertValue(H,"formatStringProp");var q=(0,i.NA)(j,H);return q||(q=(0,c.EO)(z,H,!!z.format)),!q&&z&&(q=z.format),q}function I(z){return u.ZA.check(j=>({metadata:j.check(z&&z.metadata,u.Gg,H=>({columns:j.check(H.columns,W,u.yR),objects:j.check(H.objects,O,u.yR)})),categorical:j.check(z.categorical,u.Gg,H=>({categories:j.check(H.categories,y.mn,q=>({for:j.check(q.for,u.Gg,G=>({in:j.check(G.in,A,u.yR)}))})),values:j.check(H.values,y.wj,q=>({group:j.check(q.group,u.Gg,G=>({by:j.check(G.by,T,u.yR),select:j.check(G.select,R,u.yR)}))}))}))}))}function W(z){return _.some(z,j=>!(!j.objects||!j.objects[S.xn]||j.objects[P.Si]||j.objects[f.Po]))}function O(z){if(!z)return!0;var j=(0,i.NA)(z,d.cartesianChartProps.categoryAxis.axisType);return!j||j===l.w.scalar}function F(z){if(!z?.categorical?.values)return!1;var j=z.categorical.values.grouped();return _.some(j,H=>_.some(H.values,q=>(0,C.R)(q,S.rj.Anomaly)))}function A(z){var j=z.items,H=z.activeItems;if(_.size(j)<1)return!1;if(1===_.size(j)){var q=_.first(j).type;if(!q||!q.dateTime&&!q.temporal?.year)return!1}else{var G=_.size(H);if(G<1)return!1;var J=_.last(H),Z=_.find(j,ne=>ne.queryName===J);if(a.fF.assertValue(Z,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!Z)return!1;var Q=Z.type;if(1===G&&!Q?.temporal?.year)return!1;if(G>1&&!Q?.temporal||!Z.scalarKeyInfo?.hasScalarKey)return!1}return!0}function T(z){return!(z.role===d.Rm.Series&&!_.isEmpty(z.items))}function R(z){var j=z;if(!j)return!1;var H=_.find(j,G=>G.for.in.role===d.Rm.Y);if(!H||1!==_.size(H.for.in.items))return!1;var q=_.find(j,G=>G.for.in.role===d.Rm.Y2);return!(q&&!_.isEmpty(q.for.in.items))}class U{constructor(j,H,q,G){this.host=j,this.anomalyDetection=H,this.valuesMetadata=q,this.formatStringProp=G,a.fF.assertValue(j,"host"),this.anomalies=this.anomalyDetection.anomalies,this.expectedValueName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedValue"),this.expectedHighName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedHighValue"),this.expectedLowName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedLowValue")}getTooltipItems(j,H){var q=this.anomalies[j];if(q)return[{displayName:this.expectedValueName,value:(0,v.xq)(q.expectedValue,this.valuesMetadata,this.formatStringProp,!1,H)},{displayName:this.expectedLowName,value:(0,v.xq)(q.lowerBound,this.valuesMetadata,this.formatStringProp,!1,H)},{displayName:this.expectedHighName,value:(0,v.xq)(q.upperBound,this.valuesMetadata,this.formatStringProp,!1,H)}]}}},917025:function(Ce,k,r){r.d(k,{L:function(){return e},h:function(){return u}});var a=r(939123);function e(t,C,y){if(a.fF.assert(()=>t&&2===_.size(t)&&_.isNumber(t[0])&&_.isNumber(t[1]),"adjustDomainForAnomalyMarkers: Domain values should not be null in practice"),a.fF.assertValue(C,"adjustDomainForAnomalyMarkers scale"),_.isEmpty(y)||_.every(y,g=>-1===g.highestAnomalyPointIndex&&-1===g.lowestAnomalyPointIndex))return t;var i=C,o=i(t[0]),c=i(t[1]);for(var d of y){var n=5*d.marker.size;if(-1!==d.highestAnomalyPointIndex){var s=d.anomalies[d.highestAnomalyPointIndex].value;if(n>i(s)-i(t[1])){var l=i(s)-n;c=Math.min(c,l)}}if(-1!==d.lowestAnomalyPointIndex){var m=d.anomalies[d.lowestAnomalyPointIndex].value;if(n>i(t[0])-i(m)){var V=i(m)+n;o=Math.max(o,V)}}}return[i.invert(o),i.invert(c)]}function u(t,C){if(1!==_.size(t))return!1;var i=t[0].getMetadata(C);return i&&!!i.type.dateTime}},440312:function(Ce,k,r){r.d(k,{Gv:function(){return c},_9:function(){return y},c$:function(){return C},oq:function(){return n},sc:function(){return o},v9:function(){return i}});var a=r(939123),e=r(359155),u=r(334673),t=r(753104);function C(s){return!(!s||!(s.text||s.bool||s.misc?.barcode||s.geography?.postalCode))}function y(s){return s&&!s.invert}function i(s){return!(!s||!s.dateTime)}function o(s,p,l){a.fF.assertValue(s,"scale");var m=s(p)-s(l);return 0===m?0:m<0?Math.min(m,-1):Math.max(m,1)}function c(s,p,l,m){if(!l){var b=(0,e.Ym)();b.update(p-s),l=b.displayUnit&&b.displayUnit.value||1}var V=(s||0)/l,g=(p||0)/l;if(m){var v=(0,u.rH)(m,!1,!1,!0).partsPerScale;V*=v,g*=v}return Math.max(h(V),h(g))}function h(s){if(0===s)return 0;s<0&&(s=-s);var p=Math.floor((0,t.mv)(s));if(p>=0){var b=5-(p+1);return b<=0?0:d(s,b)}return p<-5?5:-p-1+d(s/(0,t.wA)(p+1),5)}function d(s,p){var l=s.toFixed(p),m=l.indexOf(".");if(-1!==m)for(var b=l.length;b-- >m;)if("0"!==l[b])return b-m;return 0}function n(s,p,l){s.each(function(){var m=d3.select(this);l(m.node(),p)})}},147597:function(Ce,k,r){r.d(k,{v:function(){return i}});var a=r(270862),e=r(356542),u=r(939123),t=r(123537),C=r(856632),y=r(913186);class i{constructor(c,h,d,n,s){this.style=s,this.colors=c,this.fillProp=h,this.defaultDataPointColor=d,this.defaultCategoryColor=n,this.defaultColorScale=this.colors.getNewColorScale()}static create(c,h,d,n){return new i(c.colorPalette.dataColors,h,d,n,c)}getColorForSeriesValue(c,h,d,n,s){return this.style&&this.style.isHighContrast?i.getHighContrastDataColor(this.style,n):this.getFillWithOptionalValidation(c,s)||this.getColorWithOptionalValidation(this.defaultDataPointColor,s)||this.getColorScaleForSeries(h).getColor(d).value}getColorScaleForSeries(c){return this.colors.getColorScaleByKey((0,y.Gg)(c||[]))}getColorForStaticSeries(c,h,d,n){if(this.style&&this.style.isHighContrast)return i.getHighContrastDataColor(this.style,d);var s=this.defaultColorScale.getColor(h).value;return this.getFillWithOptionalValidation(c,n)||this.getColorWithOptionalValidation(this.defaultDataPointColor,n)||s}getColorForMeasure(c,h,d,n){if(this.style&&this.style.isHighContrast)return i.getHighContrastDataColor(this.style,d);var s=this.defaultColorScale.getColor(h).value;return this.getFillWithOptionalValidation(c,n)||this.getColorWithOptionalValidation(this.defaultCategoryColor,n)||this.getColorWithOptionalValidation(this.defaultDataPointColor,n)||s}getColorForProperty(c,h,d,n){var s=this.style&&d&&i.getThemeColor(this.style,d);return this.getColorForPropertyWithDefaultColor(c,h,s,n)}hasColorForProperty(c,h,d){return(0,t.bC)(c,h,d)}getColorForPropertyWithDefaultColor(c,h,d,n){return this.style&&this.style.isHighContrast?d:(0,t.W7)(c,h,d,n)}getColorForPropertyName(c,h,d){var n=this.style&&d&&i.getThemeColor(this.style,d);return this.getColorForPropertyNameWithDefaultColor(c,h,n)}getColorForPropertyNameWithDefaultColor(c,h,d,n){var s=this.style&&this.style.isHighContrast,p=(0,C.y)(c,h,d,void 0,n);return n&&null===p?null:s?d:p}static getSentimentColor(c,h,d){return c.isHighContrast?i.getHighContrastDataColor(c,d):c.colorPalette.dataColors.getSentimentColors()[h].value}static getGradientColor(c,h,d){return c.isHighContrast?i.getHighContrastDataColor(c,d):c.colorPalette.dataColors.getGradientColors()[h].value}static getDataColorByIndex(c,h,d){return c.isHighContrast?i.getHighContrastDataColor(c,d):c.colorPalette.dataColors.getColorByIndex(h).value}static getThemeColor(c,h){return c.colorPalette[h].value}static getFillColor(c,h,d){return c.isHighContrast?i.getHighContrastDataColor(c,d):h&&h.solid&&h.solid.color}static normalizeSelector(c,h){return u.fF.assertAnyValue(c,"selector"),c&&(h||c.data)?{data:c.data}:c}static getHighContrastDataColor(c,h=e.U){return c.colorPalette[h].value}getFillWithOptionalValidation(c,h){var d=this.fillProp&&(0,t.W7)(c,this.fillProp);return h&&d&&!(0,a.WV)(d)&&(d=void 0),d}getColorWithOptionalValidation(c,h){var d=c;return h&&c&&!(0,a.WV)(c)&&(d=void 0),d}}},618226:function(Ce,k,r){r.d(k,{BS:function(){return w},Bo:function(){return x},Cr:function(){return N},FJ:function(){return i},In:function(){return Q},L0:function(){return m},LV:function(){return ye},M3:function(){return T},NL:function(){return G},NZ:function(){return A},OW:function(){return V},Pd:function(){return ne},Pq:function(){return g},Q2:function(){return Ve},Qc:function(){return R},TS:function(){return n},UU:function(){return C},Uy:function(){return b},Vr:function(){return l},WV:function(){return z},ZL:function(){return Ge},_i:function(){return q},bL:function(){return Ue},bN:function(){return Ze},d1:function(){return I},go:function(){return o},i1:function(){return L},iX:function(){return U},ki:function(){return s},lp:function(){return E},oA:function(){return je},pJ:function(){return de},pl:function(){return M},qy:function(){return y},r_:function(){return h},rp:function(){return J},u9:function(){return we},uM:function(){return B},uQ:function(){return D},vo:function(){return j},wh:function(){return p},xb:function(){return Z},xy:function(){return H}});var a=r(397129),e=r(503934),u=r(96795),t=r(547586),C=9,y=8,i=8,o=50,h=.3,n=6,s=8,p=8,l=50,m="0.00 %;-0.00 %;0.00 %",b=9,V=e.Wn.regularSecondary.css,g=e.Wn.regular.css,P="normal",D="foregroundNeutralSecondaryAlt",M="foregroundLight",E="backgroundDark",w=.9,x=4,N=2,L=4,B=4,I=2,A=void 0,T=void 0,R=void 0,U=void 0,z=void 0,j=15,H=0,q=1,G=50,J=0,Z=400,Q=-1,ne=1,Ge=((0,t.CH)("labels"),(0,t.CH)("lines"),(0,t.CH)("data-labels"),(0,t.CH)("line-label"),(0,t.CH)("labelGraphicsContext")),ye=(0,t.CH)("labelContainerGraphicsContext"),we=(0,t.CH)("labelBackgroundGraphicsContext"),je=(0,t.CH)("labelSeriesGraphicsContext"),de=(0,t.CH)("labelSeriesBackgroundGraphicsContext"),Pe="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",Ve=new RegExp(`^[^${Pe}]*?[${Pe}]`),Ze={fontFamily:e.Wn.regularSecondary.css,fontSize:a.FP.fromPoint(b),fontWeight:P},Ue={family:V,size:u.B.createFromPt(b),weight:P,style:null,textDecoration:null}},182193:function(Ce,k,r){r.d(k,{Gr:function(){return s},Pl:function(){return y},TO:function(){return i},cR:function(){return d},pt:function(){return h},uN:function(){return c},xh:function(){return C},xq:function(){return p}});var a=r(939123),e=r(890770),u=r(359155);function C(l,m,b=(V=>_.last(V.categories).values)){if(l.categories&&l.categories.length>0){var V=_.last(l.categories),g=b(l);return V.values.length>0?{categories:g,categoryFormatter:(0,u.Ue)({format:(0,u.EO)(V.source,m),value:g[0],value2:g[g.length-1],displayUnitSystemType:e.V.Verbose,columnType:V.source.type}),categoryIdentities:V.identity,categoryObjects:V.objects}:{categories:[],categoryFormatter:{format:u.WU}}}return{categories:[null],categoryFormatter:{format:u.WU}}}function y(l){return a.fF.assertValue(l,"source"),void 0!==l.groupName?l.groupName:l.queryName}function i(l,m,b){a.fF.assertValue(l,"source"),a.fF.assertValue(m,"values");var V=l,g=l.displayName;return void 0!==l.groupName&&(V=m.source,g=l.groupName),(0,u.WU)(g,(0,u.EO)(V,b))}function c(l){return(0,u.aY)((l instanceof Array?l:[l]).map(m=>m?m.displayName:"").filter((m,b,V)=>""!==m&&V.indexOf(m)===b))}function h(l){return!0===n(l)?.imageUrl}function d(l){return!0===n(l)?.webUrl}function n(l){return l?.type?.misc}function s(l){return _.some(l?.metadata?.columns??[],m=>!0===h(m))}function p(l,m,b,V=!0,g){return a.fF.assertValue(m,"column should exist"),(0,u.WU)(l,g||(0,u.EO)(m,b,V||!!m?.format)||m?.format)}},145038:function(Ce,k,r){r.d(k,{K0:function(){return i},XS:function(){return C},kV:function(){return o},n$:function(){return t}});var a=r(939123),e=r(913615),u=r(569276);function t(c){return c&&c.categorical&&c.categorical.categories&&c.categorical.categories.length>1}function C(c){if(function(c){if(_.isEmpty(c))return!1;var h=_.some(c,d=>{var n=d.categorical;if(!n)return!1;if(!n.categories)return!1;var p=n.values;return!(!(p&&p.group&&p.group.by)||_.isEmpty(p.group.by.items))});return!h}(c))for(var d of c){if(!d.categorical)return;var n=d.categorical.categories;if(!n||!n.dataReductionAlgorithm||!n.dataReductionAlgorithm.window)return;n.dataReductionAlgorithm={window:{count:1e3}}}}function i(c){for(var h of(a.fF.assertNonEmpty(c,"mappings"),c))(0,u.Sr)(h.categorical.categories,{visitRole:n=>{var s=n.items;if(!_.isEmpty(s)&&!_.isEmpty(n.activeItems)){var p=_.filter(s,m=>_.includes(n.activeItems,m.queryName));for(var l of p)l.filteredToUniqueValueProperty=e.cartesianChartProps.filters.filteredToUniqueValue}}})}function o(c,h,d=1){var n=function(){if(!(p&&p.categorical&&p.categorical.categories&&p.metadata))return 0;var l=p.metadata.columns,m=p.categorical.categories;if(_.some(l,b=>void 0!==b.sort))return 0;(0,u.Sr)(m,{visitRole:(b,V)=>{if(_.includes(h,b.role)){var g=b.activeItems;if(!_.isEmpty(g)){var v=0,f=function(P){var D=_.find(l,M=>M.queryName===P);D&&(D.sort=d,D.sortOrder=v++)};for(var S of g)f(S)}}}})};for(var p of c)n()}},907854:function(Ce,k,r){r.d(k,{F:function(){return e}});var a=r(939123);class e{constructor(t,C,y,i){this.matchObjectName=t,this.matchPropertyName=C,this.relatedTopLevelToggleValue=y,this.hasSelector=i,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}onToggleDisabled(...t){return this.disabledBehaviorChanges.push(...t),this}onToggleEnabled(...t){return this.enabledBehaviorChanges.push(...t),this}getBehaviorChanges(t){switch(t){case 2:return this.disabledBehaviorChanges;case 1:return this.enabledBehaviorChanges;default:a.fF.assertNever(t)}}updateBehaviorChanges(t,C){switch(t){case 2:this.disabledBehaviorChanges.forEach(y=>y.updateChange(C));break;case 1:this.enabledBehaviorChanges.forEach(y=>y.updateChange(C));break;default:a.fF.assertNever(t)}}getToggleBehaviorType(t){return this.relatedTopLevelToggleValue&&!t.propertyValue?2:!this.relatedTopLevelToggleValue&&t.propertyValue?1:0}isMatchingVisualObjectChange(t){return t.objectName===this.matchObjectName&&t.propertyName===this.matchPropertyName&&!!t.selector===this.hasSelector}}},326370:function(Ce,k,r){r.d(k,{$:function(){return e}});var a=r(907854);class e extends a.F{constructor(t,C,y){super(t,C,y,!1)}static create(t,C){return new e(t.objectName,t.propertyName,C)}getChanges(t){if(this.isMatchingVisualObjectChange(t)){var C=this.getToggleBehaviorType(t);if(0!==C)return this.updateBehaviorChanges(C,t),this.getBehaviorChanges(C)}return[]}}},793976:function(Ce,k,r){r.d(k,{o:function(){return a}});class a{static getDataViewObjectsBehaviorChanges(u,t){var C=[];for(var y of u)for(var i of t)C.unshift(...i.getChanges(y));return C}static applyDataViewObjectsBehaviorChanges(u,t){var C=[...u];for(var y of t)C=y.applyChange(C);return C}}},555763:function(Ce,k,r){r.d(k,{W:function(){return a}});class a{constructor(u,t,C){this.visualObjectChange=u,this.required=t,this.shouldInheritSelector=C}static createBooleanDataViewObjectChange(u,t,C){var y={...u,propertyValue:t,propertyType:{bool:!0}};return a.create(y,C)}static createRevertToDefaultDataViewObjectChange(u,t){return a.create({objectName:u,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}},t)}static createColorDataViewObjectChange(u,t,C){var y={...u,propertyValue:{value:t},propertyType:{fill:{solid:{color:!0}}}};return a.create(y,C)}static createNumericDataViewObjectChange(u,t,C){var y={...u,propertyValue:t,propertyType:{numeric:!0}};return a.create(y,C)}static create(u,t){return t?.selector&&(u.selector=t.selector),new a(u,t?.required,t?.inheritSelector)}applyChange(u){return u.push(this.visualObjectChange),u}updateChange(u){this.shouldInheritSelector&&(this.visualObjectChange.selector=u.selector)}}},101363:function(Ce,k,r){function a(u){if(u)return!!u.handled}function e(u){u&&(u.handled=!0)}r.d(k,{n:function(){return e},q:function(){return a}})},862154:function(Ce,k,r){r.d(k,{ED:function(){return d},E_:function(){return m},JZ:function(){return p},XH:function(){return o},Zi:function(){return c},jB:function(){return g},qk:function(){return n},wB:function(){return s},xH:function(){return V}});var a=r(547586),e=r(939123),u=r(542666),t=r(397129),C=r(856632),y=r(815540),i=r(96795);function o(f,S,P,D,M){var E=h(f,S,P,D,M);return M?d(M,E):E}function c(f,S,P,D,M,E,w,x){var N=h(f,S,P,void 0),L=(0,y.m)(D,E),B=L;if(S.color){var I=P.getColorForPropertyName(f,S.color,M);B=x?d(L,{color:I}):d({color:I},L)}return w&&(B=d(w,B)),B?d(B,N):N}function h(f,S,P,D,M){e.fF.assertValue(S,"propertyNames");var E,w=S.weight&&(0,C.N)(f,S.weight),x=S.style&&(0,C.N)(f,S.style),N=S.underline&&(0,C.N)(f,S.underline);if(S.size){var L=(0,C.N)(f,S.size);null!=L&&(E=S.sizeInPixels?i.B.createFromPx(+L):i.B.createFromPt(+L))}return S.bold&&(w=(0,C.N)(f,S.bold)??M?.weight===a.en?a.en:w),S.italic&&(x=(0,C.N)(f,S.italic)??M?.style===a.BF?a.BF:x),S.underline&&(N=(0,C.N)(f,S.underline)??M?.textDecoration===a.f0?a.f0:N),{color:S.color&&P.getColorForPropertyName(f,S.color,D),family:S.family&&(0,C.N)(f,S.family),lineHeight:S.lineHeight&&(0,C.N)(f,S.lineHeight),size:E,style:x,variant:S.variant&&(0,C.N)(f,S.variant),weight:w,whiteSpace:S.whiteSpace&&(0,C.N)(f,S.whiteSpace),textDecoration:N}}function d(f,S){e.fF.assertValue(f,"fontProperties");var P=(0,u.ED)(f);return S&&((S.color||null===S.color)&&(P.color=S.color),S.family&&(P.family=S.family),S.lineHeight&&(P.lineHeight=S.lineHeight),S.size&&(P.size=S.size),S.style&&(P.style=S.style),S.variant&&(P.variant=S.variant),S.weight&&(P.weight=S.weight),S.whiteSpace&&(P.whiteSpace=S.whiteSpace),S.textDecoration&&(P.textDecoration=S.textDecoration)),P}function n(f,S,P){return e.fF.assertValue(f,"fontProperties"),P&&(f=b(f)),{text:S,fontFamily:f.family,fontSize:f.size?t.FP.toString(f.size.px):void 0,fontWeight:f.weight,fontStyle:f.style,fontVariant:f.variant,whiteSpace:f.whiteSpace}}function s(f){e.fF.assertValue(f,"fontProperties");var S={};return f.color&&(S.color=f.color),f.family&&(S["font-family"]=f.family),f.lineHeight&&(S["line-height"]=f.lineHeight),f.size&&(S["font-size"]=f.size?t.FP.toString(f.size.px):void 0),f.variant&&(S["font-variant"]=f.variant),f.whiteSpace&&(S["white-space"]=f.whiteSpace),S["font-weight"]=f.weight?f.weight:null,S["font-style"]=f.style?f.style:null,S["text-decoration"]=f.textDecoration?f.textDecoration:null,S}function p(f,S){return e.fF.assertValue(f,"fontProperties"),e.fF.assertValue(S,"element"),function(f,S){e.fF.assertValue(f,"fontProperties"),e.fF.assertValue(S,"style"),f.color&&(S.fill=f.color),f.family&&(S.fontFamily=f.family),f.lineHeight&&(S.lineHeight=f.lineHeight),f.size&&(S.fontSize=f.size?t.FP.toString(f.size.px):void 0),f.style&&(S.fontStyle=f.style),f.variant&&(S.fontVariant=f.variant),f.weight&&(S.fontWeight=f.weight),f.whiteSpace&&(S.whiteSpace=f.whiteSpace)}(f,S.style),S}function m(f){e.fF.assertValue(f,"fontProperties");var S={};return f.color&&(S.fill=f.color),f.family&&(S["font-family"]=f.family),f.lineHeight&&(S["line-height"]=f.lineHeight),f.size&&(S["font-size"]=f.size?t.FP.toString(f.size.px):void 0),f.variant&&(S["font-variant"]=f.variant),f.whiteSpace&&(S["white-space"]=f.whiteSpace),S["font-weight"]=f.weight?f.weight:null,S["font-style"]=f.style?f.style:null,S["text-decoration"]=f.textDecoration?f.textDecoration:null,S}function b(f,S=0){for(var P={},D=Object.getPrototypeOf({}),M=0;M<=S&&null!=f&&f!==D;M++)_.forOwn(f,(E,w)=>{void 0===P[w]&&(P[w]=E)}),f=Object.getPrototypeOf(f);return P}function V(f){return b(f,Number.MAX_VALUE)}function g(f){return{color:S=>f(S).color,"font-family":S=>f(S).family,"font-size":S=>f(S).size?t.FP.toString(f(S).size.px):void 0,"font-style":S=>f(S).style,"font-variant":S=>f(S).variant,"font-weight":S=>f(S).weight,"white-space":S=>f(S).whiteSpace,"text-decoration":S=>f(S).textDecoration}}},691876:function(Ce,k,r){r.d(k,{$I:function(){return B},Aq:function(){return I},Po:function(){return V},XB:function(){return W},h8:function(){return F},mG:function(){return D}});var a=r(515143),e=r(547586),u=r(939123),t=r(753104),C=r(270862),y=r(842864),i=r(123537),o=r(856632),c=r(624310),h=r(913615),d=r(673552),n=r(147597),s=r(75809),p=r(489075),l=r(603034),m=r(430945),b=r(643783),V="forecast",g="forecast.ForecastValue",v="forecast.ConfidenceHighBound",f="forecast.ConfidenceLowBound",S="foregroundDark";function P(A){var T=n.v.getThemeColor(A,S);return{displayName:"",stroke:{strokeShow:!1,strokeColor:T,strokeTransparency:0,strokeWidth:1,strokePattern:d.Dv.solid,strokeDashArray:d.YU,strokeDashCap:d.xm,strokeAutoScale:!1},interpolation:{matchSeries:!1,...(0,b.aQ)()},band:{line:{strokeShow:!1,strokeColor:T,strokeTransparency:80,strokeWidth:1,strokePattern:d.Dv.solid,strokeDashArray:d.YU,strokeDashCap:d.xm,strokeAutoScale:!1,strokeColorMatch:!0},area:{show:!0,matchLineColor:!0,color:T,transparency:80}}}}var D="Visual_Quarter_Abbreviated",M=(0,e.CH)("forecast-line"),E=(0,e.CH)("forecast-error-range"),w=(0,e.CH)("forecast-line-layer"),x=A=>({bandAreaShow:A.show,bandAreaMatchColor:A.matchLineColor,bandAreaColor:A.color?(0,a.Q)(A.color):void 0,bandAreaTransparency:A.transparency}),N=(A,T)=>(0,p.HM)(A,m.PK,A.strokeColor??n.v.getThemeColor(T,S)),L=A=>({matchSeriesInterpolation:A.matchSeries,interpolation:A.interpolation,interpolationSmooth:A.interpolationSmooth,interpolationStep:A.interpolationStep,interpolationSmoothParam:A.interpolationSmoothParam});function B(A,T,R,U){var z;if(u.fF.assertValue(A,"enumeration"),_.isEmpty(T)||(z=T[0]),z)A.pushInstance({selector:z.selector,properties:{displayName:z.displayName,...(0,p.HM)(z.stroke,m.ZB),...N(z.band.line,R),...x(z.band.area),...L(z.interpolation)},objectName:V});else{var j=P(R);A.pushInstance({selector:{id:"0"},properties:{...(0,p.HM)(j.stroke,m.ZB),...N(j.band.line,R),...x(j.band.area),...L(j.interpolation)},objectName:V,disabledReason:U})}}function I(A){if(!A||!A.categorical||!A.categorical.values)return!1;var T=A.categorical.values.grouped();for(var R of T)if(_.some(R.values,z=>(0,y.R)(z,"forecast.ForecastValue")))return!0;return!1}function W(A,T,R,U){if(!(A&&A.categorical&&T&&T.categorical))return[];var z=A.categorical;if(_.isEmpty(z.categories)||_.isEmpty(z.values))return[];var j=(0,c.A8)(z.categories[0]),H=j?_.map(j.values,je=>je.min):z.categories[0].values,q=z.values.grouped();if(_.isEmpty(H)||_.isEmpty(q))return[];var je,de,Pe,Ve,Ze,Ue,G=(0,y.a2)(q,g),J=(0,y.a2)(q,v),Z=(0,y.a2)(q,f),Q=[],ne=function(A){var T=[];if(A&&A.categorical&&A.categorical.values){var R=_.head(A.categorical.values.grouped());if(R)for(var U of R.values){var z=U.source.queryName,j=(0,i.AO)(U.source.objects,V);T[z]=j}}return T}(T),le=n.v.create(R,h.cartesianChartProps.dataPoint.fill,n.v.getThemeColor(R,S)),he=P(R),Se=0;for(var Ke in ne){var Ge=ne[Ke];for(var we in Ge)void 0,void 0,void 0,void 0,void 0,void 0,de=q[Se],Pe=le.getColorForPropertyName(je=Ge[we],"lineColor",S)||(T.categorical.values.source?le.getColorForSeriesValue(T.categorical.values.grouped()[Se].objects,T.categorical.values.identityFields,de.name,S):le.getColorForMeasure(T.categorical.values[Se].source.objects,de.name,S)),Ve=(0,s.AF)(je,m.ZB,he.stroke,Pe),Ze=(0,o.N)(je,"matchSeriesInterpolation",he.interpolation.matchSeries),Ue=(0,o.N)(je,"bandAreaMatchColor",he.band.area.matchLineColor),Q.push({selector:{id:we,metadata:Ke},displayName:(0,o.N)(je,"displayName"),points:(()=>{for(var Je=[],De=de.values[G].highlights??de.values[G].values,ue=de.values[J].highlights??de.values[J].values,_e=de.values[Z].highlights??de.values[Z].values,te=0;te<H.length;te++){var ke=(0,t.eT)(H[te]),at=(0,t.eT)(De[te]);null!=ke&&null!=at&&Je.push({point:{x:ke,y:at},upperBound:{x:ke,y:(0,t.eT)(ue[te])},lowerBound:{x:ke,y:(0,t.eT)(_e[te])}})}return Je})(),stroke:Ve,interpolation:{matchSeries:Ze,...Ze?{interpolation:U.interpolation,interpolationStep:U.interpolationStep,interpolationSmooth:U.interpolationSmooth,interpolationSmoothParam:U.interpolationSmoothParam}:(0,b.Bs)(je,he.interpolation)},band:{line:(0,s.AF)(je,m.PK,he.band.line,(0,o.y)(je,"bandLineColor",he.band.line.strokeColor)||Pe,Ve.strokeColor),area:{show:(0,o.N)(je,"bandAreaShow",he.band.area.show),matchLineColor:Ue,color:Ue?Ve.strokeColor:(0,o.y)(je,"bandAreaColor",he.band.area.color)||Pe,transparency:(0,o.N)(je,"bandAreaTransparency",he.band.area.transparency)}}}),Se++}return Q}function F(A,T,R,U,z){var j=T.select(w.selector);j.empty()&&(j=T.insert("g",":first-child").classed(w.class,!0)),j.selectAll(E.selector).data(A||[]).join(H=>H.insert("path",":first-child").classed(E.class,!0)).styles(H=>({fill:H.band.area.show?H.band.area.color:"none","fill-opacity":(0,C.TD)(H.band.area.transparency),...(0,l.b)(H.band.line)})).call(H=>z.transition(H).attr("d",q=>{var G=[];for(var J of q.points.slice().reverse())G.push({x:J.lowerBound.x,y:J.lowerBound.y});for(var Z of q.points)G.push({x:Z.upperBound.x,y:Z.upperBound.y});return d3.line().x(Q=>R(Q.x)).y(Q=>U(Q.y)).curve((0,b.By)(q.interpolation))(G)})),j.selectAll(M.selector).data(A||[]).join(H=>H.append("path").classed(M.class,!0)).style("fill","transparent").styles(H=>(0,l.b)(H.stroke)).call(H=>z.transition(H).attr("d",q=>d3.line().x(G=>R(G.point.x)).y(G=>U(G.point.y)).curve((0,b.By)(q.interpolation))(q.points)))}},250361:function(Ce,k,r){r.d(k,{Np:function(){return a},UD:function(){return t},Wl:function(){return u},l5:function(){return e}});var a=Object.freeze({background:10,title:20,"legend-title":30,"legend-items":40,"y1-axis-title":50,"y1-axis-values":60,"y1-axis-zoom-slider":70,"y2-axis-title":80,"y2-axis-values":90,"y2-axis-zoom-slider":100,"x-axis-values":110,"x-axis-title":120,"x-axis-zoom-slider":130,"horizontal-gridlines":140,"vertical-gridlines":150,lines:1e3,markers:1010,columns:1020,bars:1030,"data-labels":1040,"total-labels":1050,"series-labels":1060,"category-labels":1070}),e=1e3,u=999999,t="#FFF"},345969:function(Ce,k,r){r.d(k,{Kj:function(){return D},Q1:function(){return s},Rr:function(){return n},Vn:function(){return v},Wt:function(){return g},Ym:function(){return V},Zn:function(){return h},_8:function(){return b},d9:function(){return l},jT:function(){return M},qG:function(){return f},yj:function(){return d},yw:function(){return m}});var a=r(270862),e=r(939123),u=r(842864),t=r(969143),C=r(528836),y=r(140294),i=y.LX,o="dataPoint",c="fillRule";function h(F){if(F)for(var A in F){var T=F[A];for(var R in T.properties){var U=T.properties[R];if(U.type&&U.type[c])return U.rule}}}function d(F){if(F&&F.values&&F.values.grouped){var A=F.values.grouped();return(0,u.a2)(A,"Gradient")}return-1}function n(F){if(null==F)return null;var A=d(F);return-1===A?null:F.values[A]}function s(F){return d(F)>=0}function l(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:i,nullColor:null}}function m(){return M()}function b(F,A,T){var z,j,R=(0,t.zx)(T,o,null),U=v(T);if(U)switch($.isNumeric(A)&&(z=void 0!==A?(0,C.tx)(+A):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],F)&&(j=(0,C.$_)(A&&A.value,F)),F){case"minColor":!function(F,A){F.linearGradient2?F.linearGradient2.min.color=A:F.linearGradient3&&(F.linearGradient3.min.color=A)}(U,j);break;case"midColor":!function(F,A){F.linearGradient3&&(F.linearGradient3.mid.color=A)}(U,j);break;case"maxColor":!function(F,A){F.linearGradient2?F.linearGradient2.max.color=A:F.linearGradient3&&(F.linearGradient3.max.color=A)}(U,j);break;case"nullColor":!function(F,A){F.linearGradient2?F.linearGradient2.nullColoringStrategy.color=A:F.linearGradient3&&(F.linearGradient3.nullColoringStrategy.color=A)}(U,j);break;case"minValue":!function(F,A){F.linearGradient2?F.linearGradient2.min.value=A:F.linearGradient3&&(F.linearGradient3.min.value=A)}(U,z);break;case"midValue":!function(F,A){F.linearGradient3&&(F.linearGradient3.mid.value=A)}(U,z);break;case"maxValue":!function(F,A){F.linearGradient2?F.linearGradient2.max.value=A:F.linearGradient3&&(F.linearGradient3.max.value=A)}(U,z);break;case"nullStrategy":!function(F,A){F.linearGradient2?F.linearGradient2.nullColoringStrategy.strategy=A:F.linearGradient3&&(F.linearGradient3.nullColoringStrategy.strategy=A)}(U,A);break;case"diverging":U=A?{linearGradient3:_.assign({mid:{color:(0,C.$_)(null,"midColor")}},U.linearGradient2)}:{linearGradient2:U.linearGradient3},R.properties[c]=U;break;case"revertToDefault":U=m(),R.properties[c]=U;break;default:e.fF.assertFail(`updateFillRule - Unexpected propertyName: ${F}`)}}function V(F){return F?f(F):l()}function g(F){return F?function(F){var A,T,R,U,z,j,H,q=i,G=void 0!==F.linearGradient3,J=F?.linearGradient2,Z=F?.linearGradient3;J?(A=J.max?.color,T=J.min?.color,z=J.max?.value,H=J.min?.value,q=J.nullColoringStrategy?.strategy,U=J.nullColoringStrategy?.color):Z&&(A=Z.max?.color,R=Z.mid?.color,T=Z.min?.color,z=Z.max?.value,j=Z.mid?.value,H=Z.min?.value,q=Z.nullColoringStrategy?.strategy,U=Z.nullColoringStrategy?.color);var Q={diverging:G,minColor:P(T),midColor:P(R),maxColor:P(A),nullStrategy:q,nullColor:P(U)};return null!=H&&(Q.minValue=H),null!=j&&(Q.midValue=j),null!=z&&(Q.maxValue=z),Q}(F):l()}function v(F){return(0,t.NA)(F,{objectName:o,propertyName:c},null)}function f(F){var A,T,R,U,z,j,H,Q,q=i,J=F.linearGradient2,Z=F.linearGradient3;if(J){A=J.max.color.value,T=J.min.color.value;var ne=J.max.value;ne&&(z=ne.value);var le=J.min.value;le&&(H=le.value),Q=J.nullColoringStrategy}else if(Z){A=Z.max.color.value,R=Z.mid.color.value,T=Z.min.color.value;var he=Z.max.value;he&&(z=he.value);var Se=Z.mid.value;Se&&(j=Se.value);var Ke=Z.min.value;Ke&&(H=Ke.value),Q=Z.nullColoringStrategy}if(Q){q=Q.strategy.value;var Ge=Q.color;Ge&&(U=Ge.value)}var ye={diverging:void 0!==F.linearGradient3,minColor:P(T),midColor:P(R),maxColor:P(A),nullStrategy:q,nullColor:P(U)};return null!=H&&(ye.minValue=H),null!=j&&(ye.midValue=j),null!=z&&(ye.maxValue=z),ye}function P(F){if((0,a.A7)(F))return F}function D(F,A){var T=[];return T.push(F.minColor||A.minColor.value),F.diverging&&T.push(F.midColor||A.midColor.value),T.push(F.maxColor||A.maxColor.value),T.join(",")}function M(F){var A=V(F),T={linearGradient2:{min:{color:(0,C.$_)(A.minColor,"minColor")},max:{color:(0,C.$_)(A.maxColor,"maxColor")},nullColoringStrategy:{strategy:(0,C.fL)(A.nullStrategy)}}},R=T.linearGradient2;return null!=A.minValue&&(R.min.value=(0,C.tx)(A.minValue)),null!=A.maxValue&&(R.max.value=(0,C.tx)(A.maxValue)),A.nullStrategy===y.Sx&&(R.nullColoringStrategy.color=(0,C.$_)(A.nullColor,"nullColor")),T}},286264:function(Ce,k,r){r.d(k,{A$:function(){return v},BV:function(){return P},FO:function(){return l},FW:function(){return E},I8:function(){return V},Jv:function(){return B},Ku:function(){return p},OW:function(){return D},TY:function(){return x},US:function(){return M},W3:function(){return S},XM:function(){return O},Xt:function(){return m},YG:function(){return n},a0:function(){return d},bt:function(){return i},c8:function(){return W},ct:function(){return F},kW:function(){return N},lq:function(){return s},lt:function(){return c},tn:function(){return A},to:function(){return h},wf:function(){return g},zV:function(){return L}});var a=r(864237),e=r(737642),u=r(101363);function i(){var T=d3.event;return{x:T.clientX,y:T.clientY}}var o="keydown.clearCatcher";function c(T,R){T.on(o,()=>{var U=d3.event;67===U.keyCode&&U.ctrlKey&&U.shiftKey&&(R.handleClearSelection(),U.preventDefault(),U.stopPropagation())})}function h(T){T.on(o,null)}function d(T,R){n(T,R),D(T,R)}function n(T,R){T.on("click",U=>{W(m(U)?U.data:U,R)}),T.on("keydown.select",U=>{var z=d3.event,j=z.keyCode;32!==j&&13!==j||(W(m(U)?U.data:U,R),z.preventDefault(),z.stopPropagation())},!0)}function s(T){T.on("click",null),T.on("keydown.select",null)}function p(T){T.on("contextmenu",null)}function l(T){s(T),p(T)}function m(T){return!!T.data}var b="keydown.dataPoint";function V(T,R,U){T.on(b,()=>{var z=d3.event,j=z.keyCode;(9===j||37===j||39===j||38===j||40===j)&&(N(H=>{z.preventDefault(),z.stopPropagation();var q=v(H)?H.data:H;R.handleKeyDownEvent(U,q.categoryIndex,q.seriesIndex,j,z.shiftKey)},void 0),d3.select(document.activeElement).dispatch("moveToolTipWithKeyboardAction",{bubbles:!0,cancelable:!1,detail:void 0}))})}function g(T){T.on(b,null)}function v(T){return!!T.data}var f="keydown.enterPlotArea";function S(T,R,U){T.on(f,()=>{var z=d3.event,j=z.keyCode;if(13===j)z.preventDefault(),z.stopPropagation(),R.goToFirstElement(U);else if(27===j&&z.target!==T.node()){z.preventDefault(),z.stopPropagation();var H=T.node();a.M.focus(H)}})}function P(T){T.on(f,null)}function D(T,R){T.on("contextmenu",U=>{I(m(U)?U.data:U,R)})}function M(T,R,U){(function(T,R,U){T.on(R.node(),"click",()=>{N(z=>{W(m(z)?z.data:z,U)},void 0)}),T.on(R.node(),"keydown.select",()=>{var j=d3.event.keyCode;(32===j||13===j)&&N(H=>{W(m(H)?H.data:H,U)},!0)},!0)})(T,R,U),x(T,R,U)}function E(T,R){T.on(R.node(),"click",()=>null),T.on(R.node(),"keydown.select",()=>null)}function x(T,R,U){T.on(R.node(),"contextmenu",()=>{N(z=>{I(m(z)?z.data:z,U)},void 0)})}function N(T,R){var U=d3.event,j=d3.select(U.target).datum();j&&(T(j),R&&(U.preventDefault(),U.stopPropagation()))}function L(T,R,U,z){T.selectAll("use").remove(),T.append("use").attr("href",`#${e.aY}-${R}-${U}`).style("pointer-events","none").attr("role",z??null).attr("aria-hidden",!0).style("fill","none")}function B(T){T.selectAll("use").remove()}function I(T,R){var U=d3.event;if(!a.M.isCtrlOrMeta(U)){U.preventDefault(),(0,u.n)(U);var z=i();R.handleContextMenu(T,z)}}function W(T,R){var U=i(),z=d3.event;(function(T){T.selectionHandled=!0})(z),R.handleSelection(T,(0,a.D)(z),U)}function O(T,R){var U=d3.event;!a.M.isCtrlOrMeta(U)&&!function(T){return!!T.selectionHandled}(U)&&(!R||R?.(U))&&T.handleClearSelection()}function F(T,R,U){var z=0;a.M.isCtrlOrMeta(T)?z=3:T.shiftKey&&(z=1),U.handleMultipleSelection(R,z,!0)}function A(T,R,U){U.handleMultipleSelection(T,R,!0)}},439376:function(Ce,k,r){r.d(k,{jz:function(){return l},sq:function(){return s},zl:function(){return p}});var a=r(939123),e="powervisuals-glyph",u="big-kpi",t=["kpi-red","kpi-yellow","kpi-green"],C={kpiIconClass:"circle",statusValues:t},y={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},i={kpiIconClass:"traffic-light",statusValues:t},o={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},c={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},h={"THREE CIRCLES COLORED":C,"TRAFFIC LIGHT - SINGLE":C,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:t},"ROAD SIGNS":y,"THREE SYMBOLS CIRCLED COLORED":y,"TRAFFIC LIGHT":i,"THREE TRAFFIC LIGHTS RIMMED COLORED":i,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:o,"SMILEY FACE":o,THERMOMETER:o,CYLINDER:o,"THREE SIGNS COLORED":o,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":c,"GAUGE - ASCENDING":c,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}};function d(m,b){var V=parseFloat(b);if(m){var g=h[m.graphic.toUpperCase()];if(g&&!isNaN(V)){var v=g.statusValues;return m.normalizedFiveStateKpiRange&&5===v.length&&(V*=2),[g.kpiIconClass,v[V+(v.length>>1)]].join(" ").trim()}}}function n(m,b){if(m)return 1===b?[e,u,m].join(" "):[e,m].join(" ")}function s(m,b,V){return a.fF.assertValue(m,"kpi"),a.fF.assertValue(b,"value"),n(d(m,b),V)}function p(m,b,V){var g=m&&m.kpi;if(g){var v=d(g,b);if(v)return{caption:v,statusGraphic:g.graphic,class:n(v,V)}}}function l(m){return!(!m||!m.kpi)}},643783:function(Ce,k,r){r.d(k,{Bs:function(){return o},By:function(){return y},RN:function(){return i},aQ:function(){return C}});var a=r(939123),e=r(123537),u=r(856632),t=r(320810),C=()=>({interpolation:t.Fu.linear,interpolationStep:t.rv.center,interpolationSmooth:t._U.monotoneX,interpolationSmoothParam:50});function y(c){switch(c.interpolation){case t.Fu.linear:return d3.curveLinear;case t.Fu.smooth:switch(c.interpolationSmooth){case t._U.cardinal:return d3.curveCardinal.tension(c.interpolationSmoothParam/100);case t._U.monotoneX:return d3.curveMonotoneX;default:return a.fF.assertNever(c.interpolationSmooth),d3.curveMonotoneX}case t.Fu.step:switch(c.interpolationStep){case t.rv.before:return d3.curveStepBefore;case t.rv.after:return d3.curveStepAfter;case t.rv.center:return d3.curveStep;default:return a.fF.assertNever(c.interpolationStep),d3.curveStep}default:return a.fF.assertNever(c.interpolation),d3.curveLinear}}function i(c,h,d){return{interpolation:(0,e.NA)(c,h.interpolation,d.interpolation),interpolationSmooth:(0,e.NA)(c,h.interpolationSmooth,d.interpolationSmooth),interpolationStep:(0,e.NA)(c,h.interpolationStep,d.interpolationStep),interpolationSmoothParam:(0,e.NA)(c,h.interpolationSmoothParam,d.interpolationSmoothParam)}}function o(c,h){return{interpolation:(0,u.N)(c,"interpolation",h.interpolation),interpolationSmooth:(0,u.N)(c,"interpolationSmooth",h.interpolationSmooth),interpolationStep:(0,u.N)(c,"interpolationStep",h.interpolationStep),interpolationSmoothParam:(0,u.N)(c,"interpolationSmoothParam",h.interpolationSmoothParam)}}},865795:function(Ce,k,r){r.d(k,{$f:function(){return p},$p:function(){return s}});var u,t,a=r(939123),e=r(377714);window.globalMapControlLoaded=function(){a.fF.assertValue(u,"WaitForMSMapLoad"),u.resolve(void 0)};var d=r(238326);function s(b,V,g){return new m(b,V,g.bingMapControlUrl)}var p=(b,V)=>new m(b,V,"https://www.bing.com/api/maps/mapcontrol");class m{constructor(V,g,v){this.promiseFactory=V,this.loader=g,this.mapControlUrl=v}ensureMap(V){return function(b,V,g,v){if(u)return u.promise;var f=g=(0,e.fS)(g,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),S=(0,e.mA)(g),P=S.c||S.culture,D={};if(_.isEmpty(v)||(D.setLang=v),!_.isEmpty(P)){var M=P.split("-",2);D.setMkt=P,D.UR=M.length>1?M[1]:P,D.setLang=M[0]}return f=(0,e.fS)(g,D,!0),u=b.defer(),V.require({javascript:f}),u.promise}(this.promiseFactory,this.loader,this.mapControlUrl,V)}createMapControl(V,g){return new Microsoft.Maps.Map(V,g)}loadAzureMapScripts(V){return function(b,V,g){if(t)return t.promise;var v="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return g&&(v="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),t=b.defer(),V.require({javascript:v,css:[f]}).then(M=>{var E=window;E.atlas=E.atlas||M,E.atlas||t.reject(),Promise.all([V.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}),V.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]})]).then(()=>t.resolve(void 0)).catch(()=>t.reject())},()=>t.reject()),t.promise}(this.promiseFactory,this.loader,V)}loadShpJs(){return this.shpJs||(this.shpJs=this.loader.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/shpjs.min.js"})),this.shpJs}createAzureMapControl(V){var{element:g,locale:v,sasTokenCallback:f,azureMapsDataResidency:S,azureMapsEndpoint:P,supportHeadlessRendering:D,progressiveLoading:M,defaultStyle:E,showLabels:w,renderWorldCopies:x,preserveDrawingBufferForExport:N}=V;S&&atlas.setDomain(P.getDomainUrl$().getValue().azureMapsDomainUrl);var L={language:v,style:E||d.tK,view:"Auto",disableTelemetry:!0,progressiveLoading:M,showLabels:w,renderWorldCopies:x};return(D||N)&&(L.preserveDrawingBuffer=!0),f?L.authOptions={authType:atlas.AuthenticationType.sas,getToken:f}:a.fF.assertFail("Azure Maps control requires a SAS token callback."),this.createAzureMapControlCore(g,L)}createAzureMapControlCore(V,g){return new atlas.Map(V,g)}isAzureMapSupported(){return atlas.isSupported(!1)}}},378554:function(Ce,k,r){r.d(k,{yV:function(){return D},jj:function(){return P},mS:function(){return M},tE:function(){return E},eP:function(){return x},Kq:function(){return w},n9:function(){return ue},w6:function(){return l},Ch:function(){return g},jv:function(){return p},z8:function(){return v},Gs:function(){return B},qG:function(){return U},PN:function(){return L},RR:function(){return I},nv:function(){return O},Kp:function(){return F},TM:function(){return W},Zr:function(){return c},h$:function(){return h},CL:function(){return R},Yb:function(){return Ze},wu:function(){return Ve},oT:function(){return H},o:function(){return Z},x6:function(){return q},IU:function(){return n},N2:function(){return d},Jy:function(){return ne},Sc:function(){return Q},N0:function(){return o},M_:function(){return De},q1:function(){return s},Bo:function(){return Pe},n8:function(){return Ke},ml:function(){return i}});var a=r(939123),e=r(834385),t=r(55947);function i(_e){if(_e){var te=_e._v8Map&&_e._v8Map._sizeHelper;te&&_.isFunction(te.pollSize)?te.pollSize():a.fF.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function o(_e){var te=Microsoft.Maps.MapTypeId[_e];return a.fF.assertValue(te,"Map theme did not select a MapTypeId"),te}var c={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S"},h=16;function d(_e,te){return _e?n(_e.latitude,_e.longitude):te}function n(_e,te){return isNaN(_e)||isNaN(te)||null==_e||null==te||_e<-90||_e>90||te<-180||te>180}function s(_e){for(;_e<-180;)_e+=360;for(;_e>180;)_e-=360;return _e}var p=-85.05112878,l=85.05112878,m=-180,b=180,g=23,v=1,f=11,P="foregroundDark",D={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},M="mapLassoButton",E="mapLassoButtonHighContrast",w=`.${M}`,x="MapLassoButton",L=".NavBar_Container",B="NavBar_Button",I="NavButton_Icon",W="Rectangle_Select",O="plot-area",F=`.${O}`,A="NavBar_zoomIn",T="NavBar_zoomOut",R=`.${A}, .${T}`,U=`${w}, .${A}, #${T}`,z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";function j(_e,te,ke){return Math.min(Math.max(_e,te),ke)}function H(){return q(f)}function q(_e){return 23===_e?2147483648:Math.floor(_e)===_e?256<<_e:256*Math.pow(2,_e)}function G(_e,te,ke){var at=te/360,tt=Math.sin(_e*Math.PI/180),ct=-Math.log((1+tt)/(1-tt))/(4*Math.PI);if(!ke)return{x:at,y:ct};ke(at,ct)}function Z(_e,te){switch(_e){case D.Continent:case D.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case D.City:return{level:1,maxPolygons:5,strokeWidth:te<200?6:0};default:return te<100?{level:1,maxPolygons:5,strokeWidth:6}:te<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function Q(_e,te,ke){var ct,at=ke&&ke.xAdjust,tt=ke&&ke.unconstrained,ut=new Float64Array(_e.length),Ne=(X,be)=>{X+=.5,be+=.5,X*=te,be*=te,X+=.5,be+=.5,at&&(X+=at*te),ut[ct]=X,ut[ct+1]=be};for(ct=0;ct<_e.length;ct+=2){var ae=_e[ct],Le=_e[ct+1];tt||(ae=j(ae,p,l),Le=j(Le,m,b)),G(ae,Le,Ne)}return ut}function ne(_e,te,ke,at){var tt=Q(new Float64Array([_e,te]),q(ke),at);return{x:tt[0],y:tt[1]}}function Ke(_e,te,ke){var at=function(_e,te,ke){return function(_e,te,ke){var at=Math.exp(4*-te*Math.PI);return{latitude:180*Math.asin((at-1)/(at+1))/Math.PI,longitude:360*_e}}((_e-.5)/ke-.5,(te-.5)/ke-.5)}(_e,te,q(ke));return new Microsoft.Maps.Location(at.latitude,at.longitude)}function Ge(_e,te){return ne(_e.latitude,_e.longitude,te)}function ye(_e,te){var ke=Ge(_e.getNorthwest(),te),at=Ge(_e.getSoutheast(),te);return new e.U(ke.x,ke.y,at.x-ke.x,at.y-ke.y)}function de(_e){var te=function(_e){for(var te={latitude:-90,longitude:180},ke={latitude:90,longitude:-180},at=0;at<_e.length;at+=2)te.latitude=Math.max(_e[at],te.latitude),te.longitude=Math.min(_e[at+1],te.longitude),ke.latitude=Math.min(_e[at],ke.latitude),ke.longitude=Math.max(_e[at+1],ke.longitude);return te.longitude=j(te.longitude,-180,180),ke.longitude=j(ke.longitude,-180,180),{top:te.latitude,bottom:ke.latitude,left:te.longitude,right:ke.longitude}}(_e);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(te.top,te.left),new Microsoft.Maps.Location(te.bottom,te.right))}function Pe(_e){for(var te=[],ke=0,at=0,tt=0,ut=4294967296;ke<_e.length;){for(var ct=0,Ne=0;;){if(ke>=_e.length)return null;var ae=z.indexOf(_e.charAt(ke++));if(-1===ae)return null;var Le=(31&ae)*Math.pow(2,Ne);if(ct=(Le/ut|ct/ut)*ut+((Le%ut|ct%ut)>>>0),Ne+=5,ae<32)break}var ee=Math.floor((Math.sqrt(8*ct+5)-1)/2);ct-=ee*(ee+1)/2;var ve=Math.floor(ct),Te=ee-ve,He=1e-5*(at+=Te=Te>>1^-(1&Te));te.push(j(1e-5*(tt+=ve=ve>>1^-(1&ve)),-90,90)),te.push(He)}return new Float64Array(te)}function Ve(_e,te){return te&&(_e?(te.west<_e.west&&(_e.west=te.west),te.east>_e.east&&(_e.east=te.east),te.south<_e.south&&(_e.south=te.south),te.north>_e.north&&(_e.north=te.north)):_e={...te}),_e}function Ze(_e){if(!_.isEmpty(_e)){var te=!1;for(var ke of _e)ke.nativeBing&&!ke.geographic&&(ke.geographic=Pe(ke.nativeBing),ke.geographic&&(te=!0));if(te){var at=[];for(var tt of _e){var ut=tt.geographic;if(ut){var ct=de(ut);tt.adjustedBounds={west:ct.getWest(),north:ct.getNorth(),east:ct.getEast(),south:ct.getSouth()},tt.absoluteBounds=ye(ct,f),at.push({location:tt,bounds:ct,xAdjust:0})}}for(var Ne,ae=-1,Le=0;Le<at.length;++Le){var X=at[Le],be=X.bounds.width*X.bounds.height;(-1===ae||be>Ne)&&(ae=Le,Ne=be)}var Ie=H(),Ye=at[ae].bounds.getWest(),ze=at[ae].bounds.getEast();for(var ee of at){var ve=ee.bounds,Te=ve.getWest(),Xe=ve.getEast();if(Xe<Ye&&Te+360-ze<Ye-Xe&&(ee.xAdjust=1),Te>ze&&Ye-(Xe-360)<Te-ze&&(ee.xAdjust=-1),ee.xAdjust){var Ee=360*ee.xAdjust,fe=ee.location.adjustedBounds;fe.west+=Ee,fe.east+=Ee,ee.location.absoluteBounds.left+=ee.xAdjust*Ie}}for(var Re of at){var re=Re.location,se=re.geographic;se&&(re.absolute||(re.absolute=Q(se,Ie,{xAdjust:Re.xAdjust})))}}}}function De(_e,te,ke){var at=_e.tryLocationToPixel(_e.getCenter(),Microsoft.Maps.PixelReference.page);!function(_e,te,ke){var at=new Microsoft.Maps.Point(te,ke),tt=_e.tryPixelToLocation(at,Microsoft.Maps.PixelReference.page);_e.setView({center:tt})}(_e,at.x-te,at.y-ke)}class ue{constructor(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}reCalc(te,ke,at){var tt=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var ut=Ge(this._locationRect.getNorthwest(),11),ct=Ge(this._locationRect.getSoutheast(),11);this._baseRect=new e.U(ut.x,ut.y,ct.x-ut.x,ct.y-ut.y)}var Ne=te.tryLocationToPixel(tt),ae=Ne[0].x+ke/2,Le=Ne[0].y+at/2,X=te.getZoom()-11,be=Math.pow(2,X);this._currentRect=new e.U(ae,Le,this._baseRect.width*be,Ne[1].y-Ne[0].y)}get scale(){return this._baseRect?this._currentRect.width/this._baseRect.width:1}get transform(){var te=this._baseRect,ke=this._currentRect,at=new t.wx;return at.translate(ke.left,ke.top),at.scale(ke.width/te.width,ke.height/te.height),at.translate(-te.left,-te.top),at}transformToString(te){var ke=te.matrix;return`matrix(${ke.m00} ${ke.m10} ${ke.m01} ${ke.m11} ${ke.m02} ${ke.m12})`}}},786629:function(Ce,k,r){r.d(k,{JO:function(){return n},Nb:function(){return b},OC:function(){return m},RZ:function(){return p},XU:function(){return v},Yh:function(){return l},fP:function(){return s},lw:function(){return g}});var a=r(123537),e=r(856632),u=r(356542),t=r(430806),C=r(45376),y=r(673552),i=r(78941),o=r(486584),c=r(75809),h=r(147597);function d(f){return{show:f("show"),shape:f("shape"),color:f("color"),transparency:f("transparency"),size:f("size"),rotation:f("rotation"),stroke:void 0}}function n(f,S,P,D){P??(P={});var E=d(w=>S[w]?"color"===w?(0,a.W7)(f,S.color,P.color):(0,a.NA)(f,S[w],P[w]):P[w]);return E.stroke=(0,c.QI)(f,S,P.stroke,D??E.color),E}function s(f,S,P,D,M){P??(P={});var w=d(x=>S[x]?"color"===x?(0,e.y)(f,S.color,P.color):(0,e.N)(f,S[x],P[x]):P[x]);return w.stroke=(0,c.AF)(f,S,P.stroke,D,M??w.color),w}function p(f,S){if(S??(S={show:!1,showMarkerByDefault:!0,shape:C.ZO.circle,size:o.$V,color:void 0,transparency:0,rotation:0,stroke:{strokeShow:!0,strokePattern:y.Dv.solid,strokeColor:void 0,strokeTransparency:0,strokeWidth:void 0}}),_.isEmpty(f))return S;var P=n(f,t.zK.markers,S);return P.showMarkerByDefault=(0,a.NA)(f,t.zK.lineStyles.showMarkerByDefault,S.showMarkerByDefault),P}function l(f,S,P,D,M){var E=m({...S,show:S.show&&S.showMarkerByDefault});if(E.markerType="series",E.key=`${P}`,E.color??(E.color=f.colors.createBySeries(P,void 0,u.fA)),!f.data.hasSeries()||M)return E;var w=f.objects.getSeriesDataObjects(P),x=n(w,t.zK.markers,E);return x.color=h.v.create(D).getColorForProperty(w,t.zK.markers.color,void 0)??E.color,x.showMarkerByDefault=S.showMarkerByDefault,x.markerType="series",x.key=`${P}`,x}function m(f){var S=Object.create(f);return S.stroke=Object.create(f.stroke),S}function b(f){if(!(0,C.nK)(f.shape)){var S=f.stroke=Object.create(f.stroke);S.strokeShow=!0,S.strokeWidth=1,S.strokeColor=f.color,S.strokeTransparency=f.transparency}}function g(f,S,P){var D=f?.show;switch(S){case i._.markerOnly:return{show:!0,shape:D?f.shape:P};case i._.markerCircleDefault:return{show:!0,shape:D?f.shape:C.ZO.circle};case i._.lineAndMarker:return{show:D,shape:f.shape};case i._.lineOnly:return{shape:C.ZO.circle,show:!1};default:return{shape:C.ZO.circle,show:!0}}}function v(f,S,P,D){return f&&(P!==i._.markerOnly&&P!==i._.markerCircleDefault||!D&&f.show)&&f.color||S}},935795:function(Ce,k,r){r.d(k,{Ar:function(){return h},F:function(){return d},Wo:function(){return m},jM:function(){return n},lW:function(){return p}});var a=r(270862),e=r(547586),u=r(939123),t=r(864237),C=r(45376),y=r(486584),i=r(603034),o=1,c=2;function h(b){return n(b,y.$V)}function d(b){if((0,C.nK)(b))return 0;switch(b){case C.ZO.x:case C.ZO.plus:case C.ZO.lowerErrorBar:case C.ZO.upperErrorBar:return o;case C.ZO.shortDash:case C.ZO.longDash:return c;default:u.fF.assertNever(b)}}function n(b,V){switch(b){case C.ZO.circle:return`M 0 0 m ${-V} 0 a ${V} ${V} 0 1 0 ${2*V} 0 a ${V} ${V} 0 1 0 ${-2*V} 0`;case C.ZO.square:return`M 0 0 m ${-V} ${-V} l ${2*V} 0 l 0 ${2*V} l ${-2*V} 0 z`;case C.ZO.diamond:return`M 0 0 m ${-V} 0 l ${V} ${-V} l ${V} ${V} l ${-V} ${V} z`;case C.ZO.triangle:var g=1.732;return`M 0 0 m ${-V} ${V/g} l ${V} ${-V*g} l ${V} ${V*g} z`;case C.ZO.droplet:return u.fF.assert(()=>1===V,"Droplet marker path is hardcoded for r=1"),"M 1.123 -0.214 C 1.123 0.123 0.947 0.435 0.749 0.626 L 0.139 1.275 C 0.065 1.353 -0.059 1.353 -0.133 1.275 L -0.743 0.626 C -1.023 0.346 -1.117 0.118 -1.117 -0.214 C -1.117 -0.832 -0.615 -1.333 0.003 -1.333 C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case C.ZO.x:return`M 0 0 m ${-V} ${-V} l ${2*V} ${2*V} m ${2*-V} 0 l ${2*V} ${2*-V}`;case C.ZO.shortDash:return`M 0 0 l ${V} 0`;case C.ZO.longDash:return`M 0 0 m ${-V} 0 l ${2*V} 0`;case C.ZO.plus:return`M 0 0 m ${-V} 0 l ${2*V} 0 m ${-V} ${-V} l 0 ${2*V}`;case C.ZO.lowerErrorBar:return`M 0 0 m 0 ${-V} l 0 ${2*V} m ${-V} 0 l ${2*V} 0`;case C.ZO.upperErrorBar:return`M 0 0 m 0 ${V} l 0 ${2*-V} m ${-V} 0 l ${2*V} 0`;default:u.fF.assertNever(b)}}function p(b,V){return Object.assign((0,i.b)(b?.stroke,V),{display:b?.show?null:"none",fill:b?.color??null,"fill-opacity":(0,a.TD)(b?.transparency??0)})}var m=(()=>{class b{constructor(){this.uniqueIdentifier=_.uniqueId()}ensureMarkers(g,v,f){var S=v;g.selectAll("marker").data(S.filter(P=>P.show),P=>this.getMarkerId(P)).join(P=>P.append("marker").call(D=>D.append("path").classed(b.markerPath.class,!0))).attrs({id:P=>this.getMarkerId(P),markerUnits:"strokeWidth",refX:0,refY:0,viewBox:"-12 -12 24 24",markerHeight:P=>2*P.size,markerWidth:P=>2*P.size}).select(b.markerPath.selector).attr("d",P=>P.lineRadius?function(b,V,g){var v=(g+1)/(V/5);switch(b){case C.ZO.x:return`M ${v},1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-${v},1`;case C.ZO.shortDash:return`M ${v},1 L 5,1 L 5,-1 L -${v},-1 L -${v},1`;case C.ZO.longDash:return`M ${v},1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -${v},1`;case C.ZO.plus:return`M ${v},1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-${v},1`;default:return h(b)}}(P.shape,P.size,P.lineRadius):h(P.shape)).attr("transform",P=>P.rotation?`rotate(${P.rotation})`:null).styles(P=>p(P,f)).style("stroke-width",P=>{var D=(P.stroke?.strokeWidth??0)/(P.size/5);return"uncertainty"===P.markerType?P.lineRadius?D:d(P.shape):(0,C.nK)(P.shape)?P.stroke?.strokeShow?D:0:d(P.shape)})}static getTotalMarkerSize(g){return this.sizeRatio*function(b){return b?.show?(b.size??0)+(b.stroke?.strokeShow?(b.stroke.strokeWidth??0)/2:0):0}(g)}getMarkerId(g){return`${g.markerType}-${g.key}-${this.uniqueIdentifier}`}getMarkerKey(g){return g.show?`url('${t.M.isSafari()||t.M.isIOSWebView()?window.location.href:""}#${this.getMarkerId(g)}')`:null}}return b.markerPath=(0,e.CH)("markerPath"),b.sizeRatio=10/12,b})()},486584:function(Ce,k,r){r.d(k,{$V:function(){return C},Wz:function(){return t},m6:function(){return a}});var a={show:"markerShow",shape:"markerShape",size:"markerShapeSize",color:"markerColor",transparency:"markerTransparency",rotation:"markerRotation",strokeShow:"markerBorderShow",strokeColorMatch:"markerBorderColorMatchFill",strokeColor:"markerBorderColor",strokeTransparency:"markerBorderTransparency",strokeWidth:"markerBorderWidth"},t=["show","shape","color","size","transparency","rotation"],C=5},979855:function(Ce,k,r){r.d(k,{$Z:function(){return e},FK:function(){return o},G5:function(){return b},HO:function(){return h},KZ:function(){return t},S3:function(){return y},Si:function(){return a},UD:function(){return s},XI:function(){return V},Zs:function(){return p},af:function(){return d},nR:function(){return m},oB:function(){return i},pw:function(){return l},rS:function(){return c},ss:function(){return C},tZ:function(){return u},yl:function(){return n}});var a="referenceLine",e="show",u="lineColor",t="transparency",C="displayName",y="value",i="style",o="position",c="shadeRegion",h="shadeColor",d="shadeTransparency",n="dataLabelShow",s="dataLabelColor",p="dataLabelText",l="dataLabelDecimalPoints",m="dataLabelHorizontalPosition",b="dataLabelVerticalPosition",V="dataLabelDisplayUnits"},737642:function(Ce,k,r){r.d(k,{Ko:function(){return C},Pg:function(){return e},YD:function(){return o},aY:function(){return u},eR:function(){return d},eU:function(){return t},m0:function(){return y},rA:function(){return c},rk:function(){return h},vD:function(){return i}});var a=r(503934),e="setFocusRing",u="currentFocusDataPoint",t=.4,C=1,y=2,i=2,o=6,c=i+2*o,h=a.Wn.regular.css;function d(n,s,p,l,m=C){return p&&l&&s?n?m:0:l&&!s||p&&!n?t*m:m}},75809:function(Ce,k,r){r.d(k,{AF:function(){return o},QI:function(){return y},hA:function(){return i}});var a=r(123537),e=r(856632),u=r(968087);function C(c,h,d){var n=c("strokeColorMatch");return h??(h=c("strokeColor")),function(c){return u.f.forEach(h=>{void 0===c[h]&&delete c[h]}),c}({strokeShow:c("strokeShow"),strokeColorMatch:n,strokeColor:n?d:h,strokeTransparency:c("strokeTransparency"),strokeWidth:c("strokeWidth"),strokeLineJoin:c("strokeLineJoin"),strokePattern:c("strokePattern"),strokeDashArray:c("strokeDashArray"),strokeDashCap:c("strokeDashCap"),strokeAutoScale:c("strokeAutoScale")})}function y(c,h,d,n){return d??(d={}),C(p=>h[p]?"strokeColor"===p?(0,a.W7)(c,h.strokeColor,d.strokeColor):(0,a.NA)(c,h[p],d[p]):d[p],void 0,n)}function i(c,h){c.strokeColorMatch&&null!=h&&(c.strokeColor=h)}function o(c,h,d,n,s){return d??(d={}),C(l=>h[l]?"strokeColor"===l?(0,e.y)(c,h.strokeColor,d.strokeColor):(0,e.N)(c,h[l],d[l]):d[l],n,s)}},489075:function(Ce,k,r){r.d(k,{HM:function(){return o},Iq:function(){return i}});var a=r(515143),e=r(673552),u=r(160590),t=r(666200),C=r(968087),y=12;function i(c){var{containerItemBuilder:h,descriptors:d,strokeData:n,selector:s,localize:p,sliceNamePrefix:l=""}=c;function m(V){return void 0!==V.addTopLevelToggle}var b=(0,C.G)(n,c.isSVGStroke);return d.strokeShow&&m(h)&&h.addTopLevelToggle(`${l}strokeShow`,()=>new u.bd({descriptor:{...d.strokeShow,selector:s},value:n.strokeShow}).build()),[d.strokeShow&&!m(h)&&h.getSimpleSliceBuilder(`${l}strokeShow`,new u.bd({descriptor:{...d.strokeShow,selector:s},value:n.strokeShow}).build()),d.strokeColorMatch&&h.getSimpleSliceBuilder(`${l}strokeColorMatch`,new u.bd({descriptor:{...d.strokeColorMatch,selector:s},value:n.strokeColorMatch}).build()).withDisabled(!n.strokeShow),d.strokeColor&&h.getSimpleSliceBuilder(`${l}strokeColor`,new u.BT({descriptor:{...d.strokeColor,selector:c.colorSelector??c.selector,instanceKind:c.colorInstanceKind,altConstantValueSelector:c.colorAltConstantValueSelector},value:{value:n.strokeColor}}).build()).withDisabled(!n.strokeShow||!0===n.strokeColorMatch),d.strokeTransparency&&h.getSimpleSliceBuilder(`${l}strokeTransparency`,u.JN.getTransparencySliderBuilder({descriptor:{...d.strokeTransparency,selector:s},value:n.strokeTransparency??0,localize:p}).build()).withDisabled(!n.strokeShow),d.strokePattern&&h.getSimpleSliceBuilder(`${l}strokePattern`,new u.uY({descriptor:{...d.strokePattern,selector:s},filterValues:[e.Dv.solid,e.Dv.dashed,e.Dv.dotted,...b?[e.Dv.custom]:[]],value:n.strokePattern}).build()).withDisabled(!n.strokeShow),b&&d.strokeDashArray&&h.getSimpleSliceBuilder(`${l}strokeDashArray`,new u.fq({descriptor:{...d.strokeDashArray,selector:s},value:n.strokeDashArray,placeholder:"",validators:{dashArray:{type:4}}}).build()).withDisabled(!n.strokeShow).withHidden(n.strokePattern!==e.Dv.custom),b&&d.strokeAutoScale&&h.getSimpleSliceBuilder(`${l}strokeAutoScale`,new u.bd({descriptor:{...d.strokeAutoScale,selector:s},value:n.strokeAutoScale}).build()).withDisabled(!n.strokeShow).withHidden(n.strokePattern===e.Dv.solid),b&&d.strokeDashCap&&h.getSimpleSliceBuilder(`${l}strokeDashCap`,new u.uY({descriptor:{...d.strokeDashCap,selector:s},value:n.strokeDashCap}).build()).withDisabled(!n.strokeShow).withHidden(n.strokePattern!==e.Dv.custom),b&&d.strokeLineJoin&&h.getSimpleSliceBuilder(`${l}strokeLineJoin`,new u.uY({descriptor:{...d.strokeLineJoin,selector:s},value:n.strokeLineJoin}).build()).withDisabled(!n.strokeShow),d.strokeWidth&&h.getSimpleSliceBuilder(`${l}strokeWidth`,new u.mu({descriptor:{...d.strokeWidth,selector:s},value:n.strokeWidth,placeholderText:p?.("Visual_Auto"),options:{minValue:{type:0,value:0},maxValue:{type:1,value:c.maxWidth??y},unitSymbol:t.e_}}).build()).withDisabled(!n.strokeShow)].filter(V=>V)}function o(c,h,d){var s={};return C.f.forEach(p=>{h[p]&&(s[h[p]]="strokeColor"===p?(p=>p?(0,a.Q)(p):void 0)(d||c?.strokeColor):c?.[p])}),s}},603034:function(Ce,k,r){r.d(k,{Y:function(){return i},b:function(){return h}});var a=r(666058),e=r(673552),u=r(737642),t=r(939123),C=r(270862);function i(d){var n=d.strokeColor;return d.strokeTransparency&&n&&(n=(0,a.Et)(n,(0,C.TD)(d.strokeTransparency))),`${d.strokeWidth}px ${d.strokePattern} ${n}`}function o(d){var n=d.strokeAutoScale?d.strokeWidth/2:1;switch(d.strokePattern){case e.Dv.dashed:return[5*n,5*n].join(",");case e.Dv.dotted:return[0,5*n].join(",");case e.Dv.solid:return null;case e.Dv.custom:return function(d){var l=d.substring(0,50).split(/[,\s]+/).map(Number),m=l.filter(b=>!isNaN(b)&&b>=0&&b<=50);return m.splice(8),m.length!==l.length||_.isEmpty(l)?[0]:l}(d.strokeDashArray??"").map(s=>s*n).join(",");default:return t.fF.assertNever(d.strokePattern),null}}function c(d){switch(d.strokePattern){case e.Dv.dashed:return null;case e.Dv.dotted:case e.Dv.solid:return e.qH.round;case e.Dv.custom:return d.strokeDashCap===e.qH.none?"butt":d.strokeDashCap;default:return t.fF.assertNever(d.strokePattern),null}}function h(d,n){return d?.strokeShow?{stroke:d.strokeColor,"stroke-opacity":null!=d.strokeTransparency?(0,C.TD)(d.strokeTransparency):null,"stroke-width":n?.isHighContrast?u.m0:d.strokeWidth,"stroke-linejoin":d.strokeLineJoin,"stroke-dasharray":o(d),"stroke-linecap":c(d)}:{stroke:null}}},968087:function(Ce,k,r){r.d(k,{G:function(){return e},f:function(){return a}});var a=["strokeShow","strokeColorMatch","strokeColor","strokeTransparency","strokeWidth","strokePattern","strokeLineJoin","strokeDashArray","strokeDashCap","strokeAutoScale"];function e(u,t){return t}},198916:function(Ce,k,r){r.d(k,{CK:function(){return l},CP:function(){return S},Ez:function(){return b},O5:function(){return N},QZ:function(){return g},Qh:function(){return h},Zx:function(){return V},cy:function(){return s},kv:function(){return v},oy:function(){return D},y3:function(){return n}});var a=r(250361),e=r(132640),u=r(101363),t=r(834385),C=r(547586),y=r(939123),o=(0,C.CH)("sub-selectable"),c="sub-selection-data",h=(0,C.CH)("direct-edit-placeholder"),d=(0,C.CH)("direct-edit-placeholder-outline"),n="format-mode",s=o.class,p=o.selector,l="data-sub-selection-display-name",m="data-sub-selection-hide-outline",b="data-sub-selection-object-name",V="data-sub-selection-alt-object-name",g="data-sub-selection-type",v="data-sub-selection-direct-edit",f="data-sub-selection-sub-selected",S="data-sub-selection-ui-anchor",D="data-sub-selection-restricting-element",M="data-helper-host";function w(L){return`${L}.htmlSubSelection`}function x(L,B){return B.closest(`[${M}]`)===L}class N{constructor(B){this.hostElement=B.hostElement,this.host=d3.select(B.hostElement),this.hostServices=B.hostServices,this.subSelectionRegionOutlines={},this.renderer=B.renderer,this.targetSource=B.targetSource,this.scale=B.scale,this.selectorCallback=B.selectorCallback,this.customOutlineCallback=B.customOutlineCallback,this.customElementCallback=B.customElementCallback,this.customElementRegionOutlineIdCallback=B.customElementRegionOutlineIdCallback,this.subSelectionMetadataCallback=B.subSelectionMetadataCallback,this.customScrollCallbacks=B.customScrollCallbacks,this.host.attr(M,!0)}static createHtmlSubselectionHelper(B){return new N(B)}setCustomOutlineCallback(B){this.customOutlineCallback=B}destroy(){this.removeEventHandlers(),this.hideAllOutlines()}setFormatMode(B){this.formatMode!==B&&(this.formatMode=B,B?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))}attachEventHandlers(){this.host.on(w("pointerover"),()=>{this.onPointerOver(d3.event)}),this.host.on(w("click"),()=>{this.onClick(d3.event)}),this.host.on(w("contextmenu"),()=>{this.onContextMenu(d3.event)})}onVisualScroll(){this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(()=>this.onVisualScrollEnd(),100)),this.scrollDebounce()}onVisualScrollStart(){this.customScrollCallbacks?this.customScrollCallbacks.onScrollStart():this.scrollSubSelections||(this.hideAllOutlines(),this.scrollSubSelections=this.subSelections)}onVisualScrollEnd(){if(this.customScrollCallbacks)return this.customScrollCallbacks.onScrollEnd(),void(this.scrollDebounce=void 0);this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0}onPointerOver(B){if(!(0,u.q)(B)&&"format"===this.targetSource){this.clearHoveredOutline();var I=this.getSubSelectionSourceFromEvent(B);if(I&&I.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([I.visualSubSelection],1).length){var O=this.getSubSelectionElementsFromSubSelectionSource(I);O=O.filter(T=>{var R=d3.select(T);return!R.attr(f)&&"true"!==R.attr(m)}),this.updateOutlinesFromSubSelectionElements(O,1)}this.renderOutlines();var F=w("pointerleave"),A=d3.select(I.subSelectionElement);A.on(F,()=>{A.attr(f)||(this.clearHoveredOutline(),A.on(F,null))}),(0,u.n)(B)}}}clearHoveredOutline(){_.values(this.subSelectionRegionOutlines).filter(W=>1===W.visibility).forEach(W=>{this.subSelectionRegionOutlines[W.id]={...this.subSelectionRegionOutlines[W.id],visibility:0}}),this.renderOutlines()}onClick(B){this.subSelectFromEvent(B,!1)}onContextMenu(B){this.subSelectFromEvent(B,!0)}subSelectFromEvent(B,I){if(!(0,u.q)(B)&&"format"===this.targetSource){var W=this.getSubSelectionElementsFromEvent(B);(0,u.n)(B);var O={x:B.clientX,y:B.clientY};if(_.isEmpty(W))return void this.hostServices.onSelect({type:1,selectionMode:0,visualObjects:[],selectionOrigin:O});var F=W[0],A=d3.select(F).attr(b),T=this.getSubSelectionTypeFromElement(F),R=B.target,U=this.getDisplayNameFromElement(F),z=this.selectorCallback?this.selectorCallback(F):{},j=this.createVisualSubSelectionForSingleObject({objectName:A,subSelectionType:T,displayName:U,showUI:I,selectorsByColumn:z,selectionOrigin:O,target:R});this.scrollSubSelections=void 0,this.subSelect(j)}}getSubSelectionElementsFromEvent(B){var I=this.getSubSelectionSourceFromEvent(B);return this.getSubSelectionElementsFromSubSelectionSource(I)}getSubSelectionSourceFromEvent(B){var I=B.composedPath();if(I){var F,W=I.indexOf(this.hostElement),O=I.slice(0,W+1);for(var A of O)if(d3.select(A).classed(s)){F=A;break}if(F&&x(this.hostElement,F)){var R=this.selectorCallback?this.selectorCallback(F):{},U=d3.select(F).attr(b),z=this.getDisplayNameFromElement(F),j=this.getSubSelectionTypeFromElement(F),H={x:B.clientX,y:B.clientY},q=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(F):null;return{subSelectionElement:F,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:U,subSelectionType:j,displayName:z,showUI:!1,selectorsByColumn:R,selectionOrigin:H,metadata:q})}}}}getSubSelectionElementsFromSubSelectionSource(B){if(!B)return[];var{visualSubSelection:I}=B;if(this.customElementCallback){var W=this.customElementCallback(I);if(!_.isEmpty(W))return W}var O=this.getSubSelectableElements(),{objectName:F,selectorsByColumn:A}=I.visualObjects[0],T=O.filter(U=>U.getAttribute(b)===F);if(this.selectorCallback){var R=U=>this.selectorCallback(U);T=T.filter(function(U){return(0,e.Ic)(R(U),A)})}return T}removeEventHandlers(){this.host.on(w("pointerover"),null),this.host.on(w("click"),null),this.host.on(w("contextmenu"),null)}subSelect(B){var I={type:1,...B};this.hostServices.onSelecting(I),1!==I.action&&this.hostServices.onSelect(I)}isVisualObjectSubSelected(B){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(I=>I.visualObjects.find(W=>B.objectName===W.objectName&&(0,e.Ic)(B.selectorsByColumn,W.selectorsByColumn)))}updateElementOutline(B,I,W=void 0,O=!1){return this.updateElementOutlines([B],I,W,O)[0]}updateElementOutlines(B,I,W=void 0,O=!1){var F=_.groupBy(B,U=>{var z=d3.select(U);return this.getElementRegionOutlineId(z)}),A=Object.keys(F);for(var T of A){var R=this.getSubSelectionRegionOutline(T,F[T],I,W);this.subSelectionRegionOutlines[T]=R}return O||this.renderOutlines(),A}getSubSelectionRegionOutline(B,I,W,O){var F=[];for(var A of I){var T=this.getRectangleSubSelectionOutline(A),R=this.getRestrictionRect(A,0);R&&(T=this.getClampedOutline(T,R,A));var U=this.getRestrictionRect(A,1);U&&(T=this.getClippedOutline(T,U,A)),T.height>0&&T.width>0&&F.push(T)}var z={type:0,outlines:F};return null!=O&&(z.extendedProperties=O),{id:B,visibility:W,outline:z,source:this.targetSource}}traverseElementRestrictions(B,I,W){var O=B.closest(`[${D}="${W}"]`),F=I;if(O&&x(this.hostElement,O)){F||(F=new t.U(0,0,Number.MAX_VALUE,Number.MAX_VALUE));var A=O.getBoundingClientRect(),T=Math.max(A.top,F.top),R=Math.max(A.left,F.left),U=Math.max(Math.min(A.bottom,F.top+F.height)-T,0),z=Math.max(Math.min(A.right,F.left+F.width)-R,0);F=new t.U(R,T,z,U),F=this.traverseElementRestrictions(B.parentElement,F,W)}return F}getRestrictionRect(B,I){return this.traverseElementRestrictions(B,void 0,I)}applyElementRestriction(B,I){var W=N.getDataForElement(I);if(W&&W.outlineRestrictionOptions){var{margin:O,padding:F}=W.outlineRestrictionOptions,A=0,T=0,R=0,U=0;if(O){var{top:z,left:j,right:H,bottom:q}=O;A+=j,T+=z,R-=q+z,U-=j+H}if(F){var{top:G,left:J,right:Z,bottom:Q}=F;A-=J,T-=G,R+=Q+G,U+=J+Z}B.left+=A,B.top+=T,B.height+=R,B.width+=U}return B}getClampedOutline(B,I,W){var O=this.applyElementRestriction(I,W),F=Math.max(B.x,O.left),A=Math.max(B.y,O.top),T=Math.min(B.x+B.width,O.left+O.width),R=Math.min(B.y+B.height,O.top+O.height);return{...B,x:F,y:A,height:R-A,width:T-F}}getClippedOutline(B,I,W){var O=this.applyElementRestriction(I,W);return{...B,clipPath:{type:1,x:O.left,y:O.top,height:O.height,width:O.width}}}getRectangleSubSelectionOutline(B){var I=B.getBoundingClientRect(),{x:W,y:O,width:F,height:A}=I,T={height:A,width:F,x:W,y:O,type:1};return B.hasAttribute(v)&&(T.directEdit=()=>{if(B.hasAttribute(v))return JSON.parse(B.getAttribute(v))}),T}updateRegionOutline(B,I=!1){this.updateRegionOutlines([B],I)}updateRegionOutlines(B,I=!1){for(var W of B)this.subSelectionRegionOutlines[W.id]=W;I||this.renderOutlines()}getElementsFromSubSelections(B){if(!B)return[];var I=[],W=this.getSubSelectableElements(),O=this.isElementSubSelected,F=this.selectorCallback;return d3.selectAll(W).each(function(){O(this,B,F)&&I.push(this)}),I}setSubSelectedStateDOM(B){if(B){var I=this.getSubSelectableElements(),W=this.isElementSubSelected,O=this.selectorCallback;d3.selectAll(I).attr(f,function(){return!!W(this,B,O)||null})}}isElementSubSelected(B,I,W){if(!I)return!1;var O=d3.select(B).attr(b),F=d3.select(B).attr(V);return I.some(T=>T.visualObjects?.some(R=>{var U=!0;return W&&((0,e.Ic)(R.selectorsByColumn,W(B))||(U=!1)),(R.objectName===O||R.objectName===F)&&U}))}updateCustomOutlinesFromSubSelections(B,I=2){var W=this,O=[];if(this.customOutlineCallback&&!_.isEmpty(B))for(var F of B){var A=this.customOutlineCallback(F);if(A&&A.length>0){var T=function(U){y.fF.assert(()=>(U.source??"format")===W.targetSource,"custom outline's source should match the current htmlSubSelectionHelper's targetSource");var z=W.subSelectionRegionOutlines[U.id]?.visibility;(1!==I||2!==z)&&W.setOutline(U,I)};for(var R of A)T(R);O.push(F)}}return O}updateOutlinesFromSubSelectionElements(B,I=2,W=void 0){var O=[];if(!_.isEmpty(B)){for(var F of B){var A=N.getDataForElement(F);if(A&&A.getRegionOutlines){var T=A.getRegionOutlines();for(var R of T){var U=this.getRestrictionRect(F,1);if(U){var z=this.getClippedOutline(R.outline,U,F);R={...R,outline:{...z,extendedProperties:W},source:this.targetSource}}this.setOutline(R,I)}}else O.push(F)}this.updateElementOutlines(O,I,W,!0)}}updateOutlinesFromSubSelections(B,I,W){I&&this.hideAllOutlines(!0),this.subSelections=B;var O=B?[...B]:[];this.setSubSelectedStateDOM(B);var F=this.updateCustomOutlinesFromSubSelections(B);F?.length>0&&_.remove(O,R=>F.find(U=>_.isEqual(R,U)));var T=this.getElementsFromSubSelections(O).filter(R=>"true"!==d3.select(R).attr(m));this.updateOutlinesFromSubSelectionElements(T),W||this.renderOutlines()}refreshOutlines(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)}getLabelsFromSubSelections(B,I,W=" "){var O=this.getElementsFromSubSelections(B),F=[];for(var A of O){var T="";for(var R of I){var U=A.attributes.getNamedItem(R);U&&U.value&&(T+=U.value+W)}_.isEmpty(T)||F.push(T.trim())}return F}setOutline(B,I){var W={...B,visibility:I,id:B.id};this.subSelectionRegionOutlines[B.id]=W}static setDataForElement(B,I){$(B).data(c,I)}static getDataForElement(B){return $(B).data(c)}hideAllOutlines(B=!1){var I=this.subSelectionRegionOutlines,W=[];for(var O in I)W.push({...I[O],visibility:0});this.updateRegionOutlines(W,B)}getRegionOutline(B){return this.getRegionOutlines([B])[0]}getRegionOutlines(B){return B.map(I=>this.subSelectionRegionOutlines[I])}getAllOutlines(){return{...this.subSelectionRegionOutlines}}renderOutlines(){var B=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(B)}addDirectEditPlaceholderOutlines(){var B=this.scale(),I=this.hostElement.getBoundingClientRect(),W=A=>{var T=A.getBoundingClientRect();return{left:(T.x-I.x)/B-1,top:(T.y-I.y)/B-1,width:T.width/B,height:T.height/B}},O=_.filter(_.map(this.hostElement.querySelectorAll(h.selector),A=>({element:A,bounds:W(A),outlineId:this.getElementRegionOutlineId(d3.select(A)),objectName:A.getAttribute(b),displayNameKey:A.getAttribute(l)})),A=>!!A.outlineId&&!!A.objectName),F=d3.select(this.hostElement).selectAll(`div.${d.class}`).data(O,A=>A.objectName);F.enter().append("div").classed(d.class,!0).attr("data-testid",A=>`direct-edit-placeholder-outline-${A.objectName}`).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",A=>{d3.event.stopImmediatePropagation();var T={visualObjects:[{objectName:A.objectName,selectorsByColumn:{}}],subSelectionType:1,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:A.outlineId,displayName:A.displayNameKey&&this.hostServices.getLocalizedString(A.displayNameKey)};this.subSelect(T)}).merge(F).style("width",A=>`${A.bounds.width}px`).style("height",A=>`${A.bounds.height}px`).style("left",A=>`${A.bounds.left}px`).style("top",A=>`${A.bounds.top}px`),F.exit().remove()}getElementRegionOutlineId(B){var I=this.customElementRegionOutlineIdCallback?this.customElementRegionOutlineIdCallback(B.node()):B.attr(b),W="";if(this.selectorCallback){var O=this.selectorCallback(B.node()),F=(0,e.tV)(O);F&&(W=(0,e.km)(F))}return""!==W?`${I}___${W}`:I}getAllSubSelectables(B){var I=this.getSubSelectableElements(),O=_.uniqWith(I,(j,H)=>j.getAttribute(b)===H.getAttribute(b)&&(!this.selectorCallback||(0,e.Ic)(this.selectorCallback(j),this.selectorCallback(H)))),F=O;B&&(F=O.filter(j=>{var H=this.getSubSelectionTypeFromElement(j);return Number(H)===B}));var A=F.map(j=>{var H=j.getBoundingClientRect();return{x:H.x+H.width/2,y:H.y+H.height/2}}),R=_.orderBy(Array.from(Array(A.length).keys()),j=>A[j].y,["asc"]),U={currentSeriesMultiplier:0};return R.map(j=>this.createSubSelectionFromElement(F[j],!1,void 0,U,A[j]))}getNextSubSelectable(B,I){var W=this.getAllSubSelectables();if(W.length){var F,O=_.orderBy(W,["focusOrder"],["asc"]);if(!B)return I?_.last(O):_.first(O);var A=_.findIndex(O,R=>_.isEqual(B,R));if(A>-1){var T=I?A-1:A+1;T>-1&&T<O.length&&(F=O[T])}return F}}createVisualSubSelectionForSingleObject(B){var{objectName:I,subSelectionType:W,displayName:O,showUI:F,selectorsByColumn:A,selectionOrigin:T,focusOrder:R,metadata:U,target:z}=B,{top:j}=z?.getBoundingClientRect()??{top:0};return{visualObjects:[{objectName:I,selectorsByColumn:A??{}}],showUI:F,displayName:O,subSelectionType:W,selectionOrigin:T&&W in[1,2]?{...T,offset:{x:0,y:-1*(T?.y-j)}}:T,target:z,...U?{metadata:U}:{},...R?{focusOrder:R}:{}}}createSubSelectionFromElement(B,I,W,O,F){var A=B.getAttribute(b);y.fF.assert(()=>!!A,"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var T={};this.selectorCallback&&(T=this.selectorCallback(B));var R=this.getSelectorKey(T);R&&void 0===O[R]&&(O[R]=O.currentSeriesMultiplier,O.currentSeriesMultiplier++);var U=this.getSubSelectionFocusOrder(A,O[R]),z=this.getSubSelectionTypeFromElement(B),j=this.getDisplayNameFromElement(B),H=F;return W&&(H={x:W.clientX,y:W.clientY}),this.createVisualSubSelectionForSingleObject({objectName:A,subSelectionType:z,displayName:j,showUI:I,selectorsByColumn:T,selectionOrigin:H,focusOrder:U})}getDisplayNameFromElement(B){var I=B.getAttribute(l);if(I)I=this.hostServices.getLocalizedString(I);else{var W=N.getDataForElement(B);W?.getDisplayName?I=W.getDisplayName():y.fF.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return I}getSubSelectionTypeFromElement(B){var I=B.getAttribute(g);if(I)return Number(I);y.fF.assertFail("getAllSubSelectables - DOMElement should have type")}getSelectorKey(B){var I=(0,e.fd)((0,e.tV)(B));return _.isEmpty(I)?"":JSON.stringify(I)}getSubSelectionFocusOrder(B,I){var W=a.Np[B];return W?(void 0!==I&&(W+=I*a.l5),W):a.Wl}getSubSelectableElements(){var B=this.hostElement;return this.host.selectAll(p).filter(function(){return x(B,this)}).nodes()}}},815540:function(Ce,k,r){r.d(k,{m:function(){return e}});var a=r(96795);function e(u,t,C){if(u&&u.textClasses){var y=u.textClasses[t];if(y){var i=y.fontSize&&a.B.createFromPt(+y.fontSize);return{color:C?void 0:y.color&&y.color.value,family:y.fontFace,size:i,weight:y.fontWeight}}}return{}}},12857:function(Ce,k,r){r.d(k,{I:function(){return a},O:function(){return e}});var a=(()=>{class u{}return u.highlightedValueDisplayNameResourceKey="Tooltip_HighlightedValueDisplayName",u})();function e(u,t,C){var o_x=u.left+u.width/2,o_y=u.top+u.height/2,c=t.width/2,h=t.height/2,d=C?.showAboveClickedArea||o_y>=h;return o_x<c?d?3:0:d?2:1}},403075:function(Ce,k,r){r.d(k,{U:function(){return e},r:function(){return a}});var a={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},e={opacity:.87,scale:1,animationDuration:0,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10}},803710:function(Ce,k,r){r.d(k,{I:function(){return g}});var a=r(547586),e=r(12857),u=r(403075),t=(0,a.CH)("tooltip-container"),C=(0,a.CH)("tooltip-content"),y=(0,a.CH)("arrow"),i=(0,a.CH)("hide-arrow"),o=(0,a.CH)("small-touch-screen"),c=(0,a.CH)("large-touch-screen"),h=(0,a.CH)("truncate-tooltip-height"),d=(0,a.CH)("heightened-header"),n=(0,a.CH)("themeableElement"),s=(0,a.CH)("tooltip-light");function g(f,S){return new v(f,S)}class v{constructor(S,P){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=S,this.originalTooltipOptions=$.extend({},u.r,P),this.tooltipOptions=this.originalTooltipOptions}isVisible(){return this.isTooltipVisible}isTouchOptimized(){return!!this.tooltipOptions.touchOptimized}setTestScreenSize(S,P){this.customScreenWidth=S,this.customScreenHeight=P}show(S,P){var D,M,E,w;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),S&&(D=(0,e.O)(S,this.getScreenBounds(),this.tooltipOptions),w={x:S.left+(M=S.width>>1),y:S.top+(E=S.height>>1)}),this.tooltipContainer.style("display","").transition().duration(0),this.tooltipContainer.style("opacity",this.tooltipOptions.opacity),S&&this.setPositionAndSize(S,D,M,E,w,P)}classed(S,P){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(S.class,P)}move(S,P){var D,M,E;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),D=(0,e.O)(S,this.getScreenBounds(),this.tooltipOptions),this.setPositionAndSize(S,D,M=S.width>>1,E=S.height>>1,{x:S.left+M,y:S.top+E},P)}updateContent(S){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(C.selector).remove(),S&&($(S).addClass(C.class),this.tooltipContainer.node().appendChild(S))}hide(){this.isTooltipVisible&&(this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(this.tooltipOptions.animationDuration).style("opacity",0).on("end",function(){this.style.display="none"}))}destroy(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)}setTooltipAppearanceOptions(S){this.tooltipOptions=Object.keys(S).length>0?$.extend({},this.tooltipOptions,S):$.extend({},this.originalTooltipOptions,S)}attachPointerEnterCallback(S){this.onPointerEnter=S}attachPointerLeaveCallback(S){this.onPointerLeave=S}createTooltipContainer(S){var P=d3.select(S).append("div").classed(t.class,!0).classed(n.class,!0);return P.append("div").classed(y.class,!0),P.style("display","none"),P.on("pointerenter.callback",()=>this.onPointerEnter&&this.onPointerEnter()),P.on("pointerleave.callback",()=>this.onPointerLeave&&this.onPointerLeave()),P}getTooltipContainerBounds(){var S;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),S=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):S=this.tooltipContainer.node().getBoundingClientRect(),{height:S.height/this.tooltipScaleFactor,width:S.width/this.tooltipScaleFactor}}get tooltipScale(){return this.tooltipOptions.scale||1}updateTooltipPosition(S,P,D,M,E,w){var x=this.getTooltipContainerBounds(),N=0,L=0,B=this.tooltipOptions.adjustXLeftSideOfScreen,I=this.tooltipOptions.adjustXRightSideOfScreen,W=this.tooltipOptions.hideArrow?0:(w?3:7)*this.tooltipScale,O=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,F=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,A=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:w?.5:1,T=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:w?2.5:1;return this.tooltipOptions.offsetPosition&&(B=0,I=0,N+=0===P||3===P?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,L+=0===P||1===P?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),0===P?(N+=F*W+D-B,L-=O*T*W+M):1===P?(N-=O*A*W+x.width+D-I,L-=O*T*W+M):3===P?(N+=F*W+D-B,L-=x.height-O*T*W+M):2===P&&(N-=O*A*W+x.width+D-I,L-=x.height-O*T*W+M),{x:E.x+N,y:E.y+L}}setPositionAndSize(S,P,D,M,E,w){E=this.updateTooltipPosition(S,P,D,M,E,w);var x=this.widenTooltipIfNeeded(E);this.setTooltipContainerAttributes(P,x,!!x.width),this.tooltipContainer.style("width",x.width?`${x.width}px`:""),this.setArrowPosition(P)}widenTooltipIfNeeded(S){var P={left:S.x,top:S.y,width:void 0,height:void 0};if(this.shouldWidenTooltip()){P.left=8;var D=this.getScreenBounds().width;P.width=D-16}return P}setTooltipContainerAttributes(S,P,D){var M=this.getTooltipContainerBounds(),E=this.getScreenBounds(),w=this.shouldWidenTooltip(),x=M.width,N=M.height,L=E.width,B=E.height,O=P.left,F=P.top;this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(O=P.left>=0?P.left:5,F=P.top>=0?P.top:5);var A=L-O-x,T=B-F-N;if(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition){A<0&&(A=L-(O-=Math.abs(A)+5)-x+5);var R=this.getScreenBounds().width<=540?35:5;T<R&&(F-=R-T,T=R)}var q,G,U=!1,z=!1,j=0===S||1===S,H=0===S||3===S,J={left:null,top:null,right:null,bottom:null};H?(U=!0,J.left=`${O}px`,G=O):(z=!0,J.right=`${A}px`,G=A),j?(J.top=`${F}px`,q=F):(J.bottom=`${T}px`,q=T),D&&(J.left=`${O}px`);var Z={height:(N+10)*this.tooltipScale,width:(w?x:x+10)*this.tooltipScale},Q=Z.width+G>L,ne=Z.height+q>B;this.tooltipScaleFactor=this.tooltipScale,(Q||ne)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(Z,E,G,q)),this.tooltipContainer.classed("left",U).classed("right",z).classed(s.class,this.tooltipOptions.useLightColors).classed(o.class,this.isSmallTouchScreen()).classed(c.class,this.isLargeTouchScreen()).classed(h.class,this.isTruncateTooltipHeight()).classed(d.class,this.heightenedHeader()).styles(J).style("transform",`scale(${this.tooltipScaleFactor})`).style("transform-origin",`${j?"top":"bottom"} ${H?"left":"right"}`)}calculateScaleFactor(S,P,D,M){return Math.min((P.width-D)/S.width,(P.height-M)/S.height)}setArrowPosition(S){var D;D=0===S?"top left":1===S?"top right":3===S?"bottom left":"bottom right",this.getArrowElement().attr("class","arrow").classed(D,!0).classed(i.class,this.tooltipOptions.hideArrow)}shouldWidenTooltip(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540}isSmallTouchScreen(){if(!this.tooltipOptions.touchOptimized)return!1;var S=this.getScreenBounds();return S.width<=540||S.height<=450}isLargeTouchScreen(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()}isTruncateTooltipHeight(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620}heightenedHeader(){return!this.tooltipOptions.offsetPosition}getArrowElement(){return this.tooltipContainer.select(y.selector)}getScreenBounds(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}}}},55947:function(Ce,k,r){r.d(k,{wx:function(){return a}});class a{constructor(o){this.matrix=o||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}applyToPoint(o){if(!o)return o;var c=this.matrix;return{x:c.m00*o.x+c.m01*o.y+c.m02,y:c.m10*o.x+c.m11*o.y+c.m12}}applyToRect(o){if(!o)return o;var c=o.left,h=o.top,d=this.matrix,s=0!==d.m01||0!==d.m10;if(!s&&1===d.m00&&1===d.m11)return{left:c+d.m02,top:h+d.m12,width:o.width,height:o.height};var m,b,V,g,p=o.left+o.width,l=o.top+o.height;if(s){var v=d.m00*c+d.m01*h+d.m02,f=d.m10*c+d.m11*h+d.m12,S=d.m00*c+d.m01*l+d.m02,P=d.m10*c+d.m11*l+d.m12,D=d.m00*p+d.m01*h+d.m02,M=d.m10*p+d.m11*h+d.m12,E=d.m00*p+d.m01*l+d.m02,w=d.m10*p+d.m11*l+d.m12;m=Math.min(v,S,D,E),b=Math.max(v,S,D,E),V=Math.min(f,P,M,w),g=Math.max(f,P,M,w)}else{var x=d.m00*c+d.m02,N=d.m11*h+d.m12,L=d.m00*p+d.m02,B=d.m11*l+d.m12;m=Math.min(x,L),b=Math.max(x,L),V=Math.min(N,B),g=Math.max(N,B)}return{left:m,top:V,width:b-m,height:g-V}}translate(o,c){if(0!==o||0!==c){var h=function(i,o){return{m00:1,m01:0,m02:i,m10:0,m11:1,m12:o}}(o,c);this.matrix=y(this.matrix,h),this._inverse=null}}scale(o,c){if(1!==o||1!==c){var h=function(i,o){return{m00:i,m01:0,m02:0,m10:0,m11:o,m12:0}}(o,c);this.matrix=y(this.matrix,h),this._inverse=null}}rotate(o){if(0!==o){var c=function(i){var o=i,c=Math.sin(o),h=Math.cos(o);return{m00:h,m01:-c,m02:0,m10:c,m11:h,m12:0}}(o);this.matrix=y(this.matrix,c),this._inverse=null}}add(o){o&&(this.matrix=y(this.matrix,o.matrix),this._inverse=null)}getInverse(){return this._inverse||(this._inverse=new a({m00:(i=this.matrix).m11*(c=1/(i.m00*i.m11-i.m01*i.m10)),m01:-i.m01*c,m02:(i.m01*i.m12-i.m02*i.m11)*c,m10:-i.m10*c,m11:i.m00*c,m12:-(i.m00*i.m12-i.m10*i.m02)*c})),this._inverse;var i,c}}function y(i,o){return{m00:i.m00*o.m00+i.m01*o.m10,m01:i.m00*o.m01+i.m01*o.m11,m02:i.m00*o.m02+i.m01*o.m12+i.m02,m10:i.m10*o.m00+i.m11*o.m10,m11:i.m10*o.m01+i.m11*o.m11,m12:i.m10*o.m02+i.m11*o.m12+i.m12}}},96795:function(Ce,k,r){r.d(k,{B:function(){return u}});var a=r(939123),e=r(397129);class u{static createFromPt(C,y){return a.fF.assert(()=>_.isFinite(C),"pt is not a number"),y&&(C=_.round(C,y)),new u(C,e.FP.fromPointToPixel(C))}static createFromPx(C,y){return a.fF.assert(()=>_.isFinite(C),"px is not a number"),y&&(C=_.round(C,y)),new u(e.FP.toPoint(C),C)}static createFromElement(C){var y=C.css("font-size");return _.isEmpty(y)?void 0:u.createFromCSS(y)}static createFromCSS(C,y){if(a.fF.assertValue(C,"fontSizeCSS"),"inherit"!==C){var i=C.slice(-2).toLowerCase();a.fF.assert(()=>"pt"===i||"px"===i,"expected an absolute size");var o=parseFloat(C.slice(0,-2));switch(a.fF.assert(()=>!isNaN(o),"value is NaN"),i){case"px":return u.createFromPx(o,y);case"pt":return u.createFromPt(o,y);default:a.fF.assertFail(`Can not convert unit '${i}' to a FontSize`)}}}constructor(C,y){this.pt=C,this.px=y}equals(C){return this.pt===C.pt&&this.px===C.px}}},712834:function(Ce,k,r){r.d(k,{O4:function(){return o},Re:function(){return h},WO:function(){return C},_W:function(){return c},kB:function(){return i},q5:function(){return d},x6:function(){return y}});var a=r(270862),e=r(160590),u=r(913615),t=r(134840);function C(){return{solid:{color:"#FFF"}}}function y(){return 50}function i(){return!1}function o(){return{color:{solid:{color:"#FFF"}},transparency:50,show:!1}}function c(n,s){var p=u.cartesianChartProps.plotArea;return new e.CQ(new e.lg("plotBackground"),"Visual_Plot_Background",[p.image,p.transparency],s).addGroup(void 0,l=>l.addSimpleSlice("image",new e.bD({descriptor:p.image,value:n&&n.image}).build()).addSimpleSlice("transparency",e.JN.getTransparencySliderBuilder({descriptor:p.transparency,value:n?.transparency??50,localize:s}).build(),m=>m.withDisabled(!n||!n.image||!n.image?.name&&!n.image?.url))).build()}function h(n,s,p){var l=n?.image?.url;if(l){var b,m=s.children(".background-image");switch(0===m.length&&(s.prepend('<div class="background-image"></div>'),(m=s.children(".background-image")).css("position","absolute")),n.image.scaling){case t.C.normal:b={"background-size":"","background-position":"50% 50%"};break;case t.C.fit:b={"background-size":"100% 100%","background-position":""};break;case t.C.fill:b={"background-size":"100%","background-position":"50% 50%"};break;default:b={"background-size":"","background-position":"50% 50%"}}m.css({...b,width:p.width,height:p.height,"margin-left":p.left,"margin-top":p.top,"background-image":`url(${l})`,"background-repeat":"no-repeat",opacity:(0,a.TD)(n.transparency)})}else d(s)}function d(n){n?.children(".background-image").remove()}},29498:function(Ce,k,r){r.d(k,{$b:function(){return c},FJ:function(){return i},GC:function(){return o},H4:function(){return n},O4:function(){return h},kG:function(){return d}});var a=r(520628),e=r(737642),u=r(356542),t=r(147597),C="#000",y=!1,i=0,o=1;function c(s,p){return`${(0,a.yo)(s)?p:0}px ${(0,a.BK)(s)?p:0}px ${(0,a.mv)(s)?p:0}px ${(0,a.fs)(s)?p:0}px`}function h(){return{color:{solid:{color:C}},show:y,radius:i,width:o}}function d(s){if(s.isHighContrast)return{visible:!0,color:t.v.getThemeColor(s,u.fA),width:e.m0}}function n(s,p){p?.visible&&s.style("stroke",p.color).style("stroke-width",p.width)}},666200:function(Ce,k,r){r.d(k,{e_:function(){return e},g:function(){return a},t2:function(){return t},tQ:function(){return u}});var a="Slider_Degree",e="Numeric_Pixel",u="Slider_Weight",t="Slider_Percent"},977849:function(Ce,k,r){r.d(k,{OT:function(){return c},sd:function(){return i},u9:function(){return o}});var a=r(939123),e=r(132640),u=r(969143),t=r(129535),C=r(26026);function i(h,d){if(_.isEmpty(h))return[];a.fF.assertValue(d,"objectDescriptors");var n=[],s=function(l){for(var m in l.objects){var b=l.objects[m]&&l.objects[m].formattingProperties;if(!_.isEmpty(b))for(var V of b){var g={objectName:m,propertyName:V},v=(0,t.VM)(d,g),f=void 0;l.allowOverrideSubtotalMatching&&(a.fF.assert(()=>(0,e.N6)(l.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors"),f=!0),v&&n.push({selector:l.selector,allowOverrideSubtotalMatching:f,altStaticSelector:l.altStaticSelector,propertyId:g,propertyDescriptor:v,containerName:l.containerName})}}};for(var p of h)s(p);return n}function o(h,d){return h===d||null==h&&null==d||!h==!d&&void 0===h.altStaticSelector==(void 0===d.altStaticSelector)&&!!h.allowOverrideSubtotalMatching==!!d.allowOverrideSubtotalMatching&&h.containerName===d.containerName&&_.isEqual(h.propertyDescriptor,d.propertyDescriptor)&&_.isEqual(h.propertyId,d.propertyId)&&(0,e.fS)(h.selector,d.selector)}function c(h,d){if(!d.allowOverrideSubtotalMatching)return(0,u.NA)(h,d.propertyId,d.selector);a.fF.assert(()=>(0,e.N6)(d.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors");var n=[(0,C.Ue)(1),(0,C.Ue)(2),(0,C.Ue)(0)];for(var s of n){var p={data:[s],metadata:d.selector.metadata,id:d.selector.id},l=(0,u.NA)(h,d.propertyId,p);if(l)return d.selector=p,l}}},612646:function(Ce,k,r){function a(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"nonInteractive"},showAsTableNativeMenuEnabled:!1}}function e(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"},showAsTableNativeMenuEnabled:!1}}r.d(k,{DH:function(){return e},ss:function(){return a}})},566693:function(Ce,k,r){function a(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}function e(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}}r.d(k,{DH:function(){return e},ss:function(){return a}})},862873:function(Ce,k,r){r.d(k,{FX:function(){return f},IC:function(){return v},Pi:function(){return V},Sc:function(){return g},UR:function(){return m},e9:function(){return b},u3:function(){return d}});var a=r(337066),e=r(356542),u=r(939123),t=r(503934),C=r(737466),y=r(123537),i=r(147597),o=r(520628),c=r(756188),h=r(597382),d='"',n=(()=>{class S{constructor(D,M,E,w,x,N){this.objectName=D,this.propertyName=M,this.defaultValue=E,this.usage=w,this.fallbackProperties=N,this.getterFunction=x||y.NA}getValue(D,M=!1,E,w,x,N){var L=this.getterFunction(D,this,this.defaultValue,x);if(x&&void 0===L&&(L=this.getValue(D,M)),E&&!E(D,this,x)&&!_.isNil(w)&&(L=w),void 0===L&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach((B,I)=>{L=B.getValue(D,M,void 0,void 0,N&&N[I])})),!M&&"string"==typeof L)switch(this.usage){case"attribute":L=L.replace(S.AttributeDelimiter,d+d);break;case"unsafeTextContent":L=(0,C.HZ)(L);break;case"codeOnly":case"safeTextContent":break;default:u.fF.assertNever(this.usage)}return L}setInstanceProperty(D,M,E,w,x){var N=this.getValue(M,!0,E,w,x);return D&&D.properties&&(D.properties[this.propertyName]=N),N}setInstanceValidValues(D,M){D.validValues||(D.validValues={}),D.validValues[this.propertyName]=M}}return S.AttributeDelimiter=new RegExp(d,"g"),S})(),s="foregroundNeutralLight",l="foregroundNeutralSecondary",m=o.$m.Bottom,b=o.$m.Nil,V=o.$m.Right,g=o.$m.Top,v=o.$m.Nil,f=(()=>{class S{constructor(D){this.colorHelper=i.v.create(D);var M=(E,w,x,N)=>this.colorHelper.getColorForProperty(E,w,x,N);this.PropGridVerticalColor=new n(S.ObjectGrid,"gridVerticalColor",s,"attribute",M),this.PropGridHorizontalColor=new n(S.ObjectGrid,"gridHorizontalColor",s,"attribute",M),this.PropGridOutlineColor=new n(S.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt","attribute",M),this.PropRowsOutlineColor=new n(S.ObjectRowHeaders,"outlineColor",void 0,"attribute",M),this.PropColumnsOutlineColor=new n(S.ObjectColumnHeaders,"outlineColor",void 0,"attribute",M),this.PropValuesOutlineColor=new n(S.ObjectValues,"outlineColor",void 0,"attribute",M),this.PropTotalOutlineColor=new n(S.ObjectTotal,"outlineColor",void 0,"attribute",M),this.PropBlankRowsBlankRowColor=new n(S.ObjectBlankRows,"blankRowColor",void 0,"attribute",M),this.PropBlankRowsBorderColor=new n(S.ObjectBlankRows,"borderColor",void 0,"attribute",M),this.PropColumnsFontColor=new n(S.ObjectColumnHeaders,"fontColor",l,"attribute",M),this.PropColumnsBackColor=new n(S.ObjectColumnHeaders,"backColor",void 0,"attribute",M),this.PropRowsFontColor=new n(S.ObjectRowHeaders,"fontColor",l,"attribute",M),this.PropRowsBackColor=new n(S.ObjectRowHeaders,"backColor",void 0,"attribute",M),this.PropRowsExpandCollapseButtonsColor=new n(S.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,"attribute",M),this.PropValuesFontColor=new n(S.ObjectValues,"fontColor",void 0,"attribute",M),this.PropValuesFontColorPrimary=new n(S.ObjectValues,"fontColorPrimary",e.fA,"attribute",M),this.PropValuesFontColorSecondary=new n(S.ObjectValues,"fontColorSecondary",e.fA,"attribute",M),this.PropValuesBackColor=new n(S.ObjectValues,"backColor",void 0,"attribute",M),this.PropValuesBackColorPrimary=new n(S.ObjectValues,"backColorPrimary",void 0,"attribute",M),this.PropValuesBackColorSecondary=new n(S.ObjectValues,"backColorSecondary",void 0,"attribute",M),this.PropTotalFontColor=new n(S.ObjectTotal,"fontColor",e.fA,"attribute",M),this.PropTotalBackColor=new n(S.ObjectTotal,"backColor",void 0,"attribute",M),this.PropSubTotalsFontColor=new n(S.ObjectSubTotals,"fontColor",void 0,"attribute",M),this.PropSubTotalsBackColor=new n(S.ObjectSubTotals,"backColor",void 0,"attribute",M),this.PropGrandTotalFontColor=new n(S.ObjectTotal,"fontColor",void 0,"attribute",M),this.PropGrandTotalBackColor=new n(S.ObjectTotal,"backColor",void 0,"attribute",M),this.PropColumnGrandTotalFontColor=new n(S.ObjectColumnTotal,"fontColor",void 0,"attribute",M),this.PropColumnGrandTotalBackColor=new n(S.ObjectColumnTotal,"backColor",void 0,"attribute",M),this.PropRowGrandTotalFontColor=new n(S.ObjectRowTotal,"fontColor",void 0,"attribute",M),this.PropRowGrandTotalBackColor=new n(S.ObjectRowTotal,"backColor",void 0,"attribute",M),this.PropColumnFormattingFontColor=new n(S.ObjectColumnFormatting,"fontColor",void 0,"attribute",M),this.PropColumnFormattingBackColor=new n(S.ObjectColumnFormatting,"backColor",void 0,"attribute",M)}}return S.ObjectGeneral="general",S.ObjectGrid="grid",S.ObjectBlankRows="blankRows",S.ObjectColumnHeaders="columnHeaders",S.ObjectRowHeaders="rowHeaders",S.ObjectValues="values",S.ObjectTotal="total",S.ObjectColumnTotal="columnTotal",S.ObjectRowTotal="rowTotal",S.ObjectSubTotals="subTotals",S.ObjectColumnFormatting="columnFormatting",S.ObjectColumnWidth="columnWidth",S.ObjectSparklines="sparklines",S.ObjectAccessibility="accessibility",S.PropColumnFormatString=new n(S.ObjectGeneral,"formatString",void 0,"codeOnly"),S.PropGeneralTableTotals=new n(S.ObjectGeneral,"totals",!0,"codeOnly"),S.PropGeneralMatrixRowSubtotals=new n(S.ObjectGeneral,"rowSubtotals",!0,"codeOnly"),S.PropGeneralMatrixColumnSubtotals=new n(S.ObjectGeneral,"columnSubtotals",!0,"codeOnly"),S.PropGeneralAutoSizeColumns=new n(S.ObjectGeneral,"autoSizeColumnWidth",!0,"attribute"),S.PropGeneralTextSize=new n(S.ObjectGeneral,"textSize",8,"attribute"),S.PropGeneralMatrixLayout=new n(S.ObjectGeneral,"layout",void 0,"codeOnly"),S.PropGridPivotTableTextSize=new n(S.ObjectGrid,"textSize",8,"attribute"),S.PropGridVertical=new n(S.ObjectGrid,"gridVertical",!1,"codeOnly"),S.PropGridVerticalWeight=new n(S.ObjectGrid,"gridVerticalWeight",1,"attribute"),S.PropGridHorizontalTable=new n(S.ObjectGrid,"gridHorizontal",!0,"codeOnly"),S.PropGridHorizontalMatrix=new n(S.ObjectGrid,"gridHorizontal",!1,"codeOnly"),S.PropGridHorizontalWeight=new n(S.ObjectGrid,"gridHorizontalWeight",1,"attribute"),S.PropGridRowPadding=new n(S.ObjectGrid,"rowPadding",0,"attribute"),S.PropGridOutlineStyle=new n(S.ObjectGrid,"outlineStyle",void 0,"codeOnly"),S.PropGridOutlineWeight=new n(S.ObjectGrid,"outlineWeight",1,"attribute"),S.PropGridImageHeight=new n(S.ObjectGrid,"imageHeight",75,"attribute"),S.PropGridImageWidth=new n(S.ObjectGrid,"imageWidth",void 0,"attribute",void 0,[S.PropGridImageHeight]),S.PropBlankRowsShowBlankRows=new n(S.ObjectBlankRows,"showBlankRows",!1,"attribute"),S.PropBlankRowsTransparency=new n(S.ObjectBlankRows,"blankRowTransparency",0,"attribute"),S.PropBlankRowsShowBorder=new n(S.ObjectBlankRows,"showBorder",!1,"attribute"),S.PropBlankRowsBorderPosition=new n(S.ObjectBlankRows,"borderPosition",void 0,"attribute"),S.PropBlankRowsBorderTransparency=new n(S.ObjectBlankRows,"borderTransparency",0,"attribute"),S.PropBlankRowsBorderWidth=new n(S.ObjectBlankRows,"borderWidth",1,"attribute"),S.PropColumnsFontFamily=new n(S.ObjectColumnHeaders,"fontFamily",t.Wn.regular.css,"attribute"),S.PropColumnsOutline=new n(S.ObjectColumnHeaders,"outline",o.wI,"codeOnly"),S.PropColumnsOutlineStyle=new n(S.ObjectColumnHeaders,"outlineStyle",void 0,"codeOnly"),S.PropColumnsNewVisualOutline=new n(S.ObjectColumnHeaders,"outline",void 0,"codeOnly"),S.PropColumnsAlignment=new n(S.ObjectColumnHeaders,"alignment",h.H.auto,"codeOnly"),S.PropColumnsAlignmentTitle=new n(S.ObjectColumnHeaders,"titleAlignment",h.H.auto,"codeOnly",null,[S.PropColumnsAlignment]),S.PropColumnPivotTableAutoSizeColumns=new n(S.ObjectColumnHeaders,"autoSizeColumnWidth",!0,"codeOnly"),S.PropColumnsWordWrap=new n(S.ObjectColumnHeaders,"wordWrap",!1,"codeOnly"),S.PropColumnsOutlineWeight=new n(S.ObjectColumnHeaders,"outlineWeight",void 0,"attribute"),S.PropColumnsUrlIcon=new n(S.ObjectColumnHeaders,"urlIcon",!1,"codeOnly"),S.PropColumnsFontSize=new n(S.ObjectColumnHeaders,"fontSize",void 0,"attribute",void 0,[S.PropGridPivotTableTextSize]),S.PropColumnsBold=new n(S.ObjectColumnHeaders,"bold",!1,"codeOnly"),S.PropColumnsItalic=new n(S.ObjectColumnHeaders,"italic",!1,"codeOnly"),S.PropColumnsUnderline=new n(S.ObjectColumnHeaders,"underline",!1,"codeOnly"),S.PropRowsSteppedLayout=new n(S.ObjectRowHeaders,"stepped",!0,"codeOnly"),S.PropRowsSteppedLayoutIndentation=new n(S.ObjectRowHeaders,"steppedLayoutIndentation",10,"attribute"),S.PropRowsFontFamily=new n(S.ObjectRowHeaders,"fontFamily",t.Wn.regular.css,"attribute"),S.PropRowsOutline=new n(S.ObjectRowHeaders,"outline",o.RH,"codeOnly"),S.PropRowsPivotTableOutline=new n(S.ObjectRowHeaders,"outline",void 0,"codeOnly"),S.PropRowsOutlineStyle=new n(S.ObjectRowHeaders,"outlineStyle",void 0,"codeOnly"),S.PropRowsAlignment=new n(S.ObjectRowHeaders,"alignment",h.H.auto,"codeOnly"),S.PropRowsWordWrap=new n(S.ObjectRowHeaders,"wordWrap",!1,"codeOnly"),S.PropRowsOutlineWeight=new n(S.ObjectRowHeaders,"outlineWeight",void 0,"attribute"),S.PropRowsUrlIcon=new n(S.ObjectRowHeaders,"urlIcon",!1,"codeOnly"),S.PropRowsFontSize=new n(S.ObjectRowHeaders,"fontSize",void 0,"attribute",void 0,[S.PropGridPivotTableTextSize]),S.PropRowsShowExpandCollapseButtons=new n(S.ObjectRowHeaders,"showExpandCollapseButtons",!1,"codeOnly"),S.PropRowsExpandCollapseButtonsSize=new n(S.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,"attribute",void 0,[S.PropRowsFontSize]),S.PropRowsBold=new n(S.ObjectRowHeaders,"bold",!1,"codeOnly"),S.PropRowsItalic=new n(S.ObjectRowHeaders,"italic",!1,"codeOnly"),S.PropRowsUnderline=new n(S.ObjectRowHeaders,"underline",!1,"codeOnly"),S.PropRowsExpandCompositeHierarchy=new n(S.ObjectRowHeaders,"expandCompositeHierarchy",!1,"codeOnly"),S.PropRowsRepeatRowHeaders=new n(S.ObjectRowHeaders,"repeatRowHeaders",!1,"codeOnly"),S.PropRowsLegacyStyleDisabled=new n(S.ObjectRowHeaders,"legacyStyleDisabled",!1,"codeOnly"),S.PropValuesFontFamily=new n(S.ObjectValues,"fontFamily",t.Wn.regular.css,"attribute"),S.PropValuesBandedRowHeaders=new n(S.ObjectValues,"bandedRowHeaders",!0,"codeOnly"),S.PropValuesOutline=new n(S.ObjectValues,"outline",o.YP,"codeOnly"),S.PropValuesOutlineStyle=new n(S.ObjectValues,"outlineStyle",void 0,"codeOnly"),S.PropValuesNewVisualOutline=new n(S.ObjectValues,"outline",void 0,"codeOnly"),S.PropValuesUrlIcon=new n(S.ObjectValues,"urlIcon",!1,"codeOnly"),S.PropValuesWordWrap=new n(S.ObjectValues,"wordWrap",!1,"codeOnly"),S.PropValuesOutlineWeight=new n(S.ObjectValues,"outlineWeight",void 0,"attribute"),S.PropValuesOnRow=new n(S.ObjectValues,"valuesOnRow",!1,"attribute"),S.PropValuesFontSize=new n(S.ObjectValues,"fontSize",void 0,"attribute",void 0,[S.PropGridPivotTableTextSize]),S.PropValuesIcon=new n(S.ObjectValues,"icon",void 0,"attribute"),S.PropValuesWebURL=new n(S.ObjectValues,"webURL",void 0,"attribute"),S.PropValuesBold=new n(S.ObjectValues,"bold",!1,"codeOnly"),S.PropValuesItalic=new n(S.ObjectValues,"italic",!1,"codeOnly"),S.PropValuesUnderline=new n(S.ObjectValues,"underline",!1,"codeOnly"),S.PropTotalTableExTotals=new n(S.ObjectTotal,"totals",!0,"codeOnly"),S.PropTotalTableExTotalLabel=new n(S.ObjectTotal,"label",null,"safeTextContent"),S.PropTotalOutline=new n(S.ObjectTotal,"outline",o.j0,"codeOnly"),S.PropTotalTableExOutline=new n(S.ObjectTotal,"outline",void 0,"codeOnly"),S.PropTotalOutlineStyle=new n(S.ObjectTotal,"outlineStyle",void 0,"codeOnly"),S.PropTotalOutlineWeight=new n(S.ObjectTotal,"outlineWeight",void 0,"attribute"),S.PropTotalFontFamily=new n(S.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[S.PropValuesFontFamily]),S.PropTotalFontSize=new n(S.ObjectTotal,"fontSize",void 0,"attribute",void 0,[S.PropValuesFontSize]),S.PropTotalBold=new n(S.ObjectTotal,"bold",!0,"codeOnly"),S.PropTotalItalic=new n(S.ObjectTotal,"italic",!1,"codeOnly"),S.PropTotalUnderline=new n(S.ObjectTotal,"underline",!1,"codeOnly"),S.PropSubTotalsPivotTableRowSubtotals=new n(S.ObjectSubTotals,"rowSubtotals",!0,"codeOnly"),S.PropSubTotalsPivotTableRowSubtotalsLabel=new n(S.ObjectSubTotals,"rowSubtotalsLabel",null,"safeTextContent"),S.PropSubTotalsPivotTableRowSubtotalsPerLevel=new n(S.ObjectSubTotals,"perRowLevel",!1,"codeOnly"),S.PropSubTotalsPivotTableColumnSubtotals=new n(S.ObjectSubTotals,"columnSubtotals",!0,"codeOnly"),S.PropSubTotalsPivotTableColumnSubtotalsLabel=new n(S.ObjectSubTotals,"columnSubtotalsLabel",null,"safeTextContent"),S.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new n(S.ObjectSubTotals,"perColumnLevel",!1,"codeOnly"),S.PropSubTotalsPivotTableLevelSubtotalEnabled=new n(S.ObjectSubTotals,"levelSubtotalEnabled",!0,"codeOnly"),S.PropSubTotalsPivotTableLevelSubtotalLabel=new n(S.ObjectSubTotals,"levelSubtotalLabel",null,"safeTextContent"),S.PropSubTotalsPivotTableRowSubtotalsPosition=new n(S.ObjectSubTotals,"rowSubtotalsPosition",void 0,"codeOnly",(P,D,M)=>S.PropGeneralMatrixLayout.getValue(P)===a.t.Tabular?c.I:(0,y.NA)(P,D,M)??(S.PropRowsSteppedLayout.getValue(P)?c.we:c.I)),S.PropSubTotalsApplyToHeaders=new n(S.ObjectSubTotals,"applyToHeaders",!1,"codeOnly"),S.PropSubTotalsFontFamily=new n(S.ObjectSubTotals,"fontFamily",void 0,"attribute",void 0,[S.PropValuesFontFamily]),S.PropSubTotalsFontSize=new n(S.ObjectSubTotals,"fontSize",void 0,"attribute",void 0,[S.PropValuesFontSize]),S.PropSubTotalsBold=new n(S.ObjectSubTotals,"bold",!0,"codeOnly"),S.PropSubTotalsItalic=new n(S.ObjectSubTotals,"italic",!1,"codeOnly"),S.PropSubTotalsUnderline=new n(S.ObjectSubTotals,"underline",!1,"codeOnly"),S.PropGrandTotalApplyToHeaders=new n(S.ObjectTotal,"applyToHeaders",!1,"codeOnly"),S.PropGrandTotalFontFamily=new n(S.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[S.PropSubTotalsFontFamily]),S.PropGrandTotalFontSize=new n(S.ObjectTotal,"fontSize",void 0,"attribute",void 0,[S.PropSubTotalsFontSize]),S.PropGrandTotalBold=new n(S.ObjectTotal,"bold",!0,"codeOnly"),S.PropGrandTotalItalic=new n(S.ObjectTotal,"italic",!1,"codeOnly"),S.PropGrandTotalUnderline=new n(S.ObjectTotal,"underline",!1,"codeOnly"),S.PropColumnGrandTotalApplyToHeaders=new n(S.ObjectColumnTotal,"applyToHeaders",!1,"codeOnly"),S.PropColumnGrandTotalFontFamily=new n(S.ObjectColumnTotal,"fontFamily",void 0,"attribute",void 0,[S.PropSubTotalsFontFamily]),S.PropColumnGrandTotalFontSize=new n(S.ObjectColumnTotal,"fontSize",void 0,"attribute",void 0,[S.PropSubTotalsFontSize]),S.PropColumnGrandTotalBold=new n(S.ObjectColumnTotal,"bold",!0,"codeOnly"),S.PropColumnGrandTotalItalic=new n(S.ObjectColumnTotal,"italic",!1,"codeOnly"),S.PropColumnGrandTotalUnderline=new n(S.ObjectColumnTotal,"underline",!1,"codeOnly"),S.PropRowGrandTotalApplyToHeaders=new n(S.ObjectRowTotal,"applyToHeaders",!1,"codeOnly"),S.PropRowGrandTotalFontFamily=new n(S.ObjectRowTotal,"fontFamily",void 0,"attribute",void 0,[S.PropSubTotalsFontFamily]),S.PropRowGrandTotalFontSize=new n(S.ObjectRowTotal,"fontSize",void 0,"attribute",void 0,[S.PropSubTotalsFontSize]),S.PropRowGrandTotalBold=new n(S.ObjectRowTotal,"bold",!0,"codeOnly"),S.PropRowGrandTotalItalic=new n(S.ObjectRowTotal,"italic",!1,"codeOnly"),S.PropRowGrandTotalUnderline=new n(S.ObjectRowTotal,"underline",!1,"codeOnly"),S.PropColumnFormattingDisplayUnits=new n(S.ObjectColumnFormatting,"labelDisplayUnits",1,"codeOnly",y.NA),S.PropColumnFormattingPrecision=new n(S.ObjectColumnFormatting,"labelPrecision",void 0,"codeOnly",y.NA),S.PropColumnFormattingAlignment=new n(S.ObjectColumnFormatting,"alignment",h.H.auto,"codeOnly"),S.PropColumnFormattingStyleHeader=new n(S.ObjectColumnFormatting,"styleHeader",!1,"codeOnly"),S.PropColumnFormattingStyleValues=new n(S.ObjectColumnFormatting,"styleValues",!0,"codeOnly"),S.PropColumnFormattingStyleSubtotals=new n(S.ObjectColumnFormatting,"styleSubtotals",!0,"codeOnly"),S.PropColumnFormattingDataBars=new n(S.ObjectColumnFormatting,"dataBars",void 0,"codeOnly"),S.PropColumnFormattingStyleTotal=new n(S.ObjectColumnFormatting,"styleTotal",!1,"codeOnly"),S.PropColumnWidthValue=new n(S.ObjectColumnWidth,"value",void 0,"attribute"),S.PropAltTextValue=new n(S.ObjectAccessibility,"altTextColumns",void 0,"attribute"),S.ProprowWithReferenceText=new n(S.ObjectAccessibility,"rowWithReferenceText",void 0,"attribute"),S.PropUnfrozenRowHeaders=new n(S.ObjectRowHeaders,"unfrozen",!1,"codeOnly"),S})()},275043:function(Ce,k,r){r.d(k,{WD:function(){return U},dz:function(){return W},yI:function(){return F}});var a=r(270862),e=r(547586),u=r(939123),t=r(503934),C=r(100120),y=r(773472),i=r(530177),o=r(862154),c=r(439376),h=r(935795),d=r(486584),n=r(603034),s=r(96795),p=r(45376),l=(0,e.CH)("tooltip-container"),m=(0,e.CH)("tooltip-light"),b=(0,e.CH)("tooltip-content-container"),V=(0,e.CH)("tooltip-data-container"),g=(0,e.CH)("tooltip-icon-cell"),v=(0,e.CH)("tooltip-line-icon"),f=(0,e.CH)("tooltip-marker-icon"),S=(0,e.CH)("tooltip-header"),P=(0,e.CH)("tooltip-subheader"),D=(0,e.CH)("tooltip-footer"),M=(0,e.CH)("tooltip-discoverabilityText"),E=(0,e.CH)("tooltip-rows-container"),w=(0,e.CH)("tooltip-row"),x=(0,e.CH)("tooltip-title-cell"),N=(0,e.CH)("tooltip-value-cell"),L=(0,e.CH)("tooltip-kpi-cell"),B=(0,e.CH)("arrow"),I=s.B.createFromPt(9),W={titleFontProperties:{color:"#C8C8C8",family:t.Wn.regular.css,size:I,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:t.Wn.semibold.css,size:I,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:t.Wn.regular.css,size:s.B.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},F=31;class U{constructor(){}create(j){var H=$("<div>").get(0);return(this.container=d3.select(H).classed(b.class,!0)).append("div").classed(V.class,!0).style("direction","ltr").attrs({tabindex:"0",focusable:"true",role:"dialog","aria-modal":"false",ariaLabel:j||null}),H}update(j){if(null==j.style&&(j.style=W),u.fF.assert(()=>!!j.style.titleFontProperties,"Title Font Properties Should Be Defined"),u.fF.assert(()=>!!j.style.valueFontProperties,"Value Font Properties Should Be Defined"),!_.isEqual(j,this.currentData)&&(this.currentData=j,this.textTitleFontProperty=(0,o.qk)(j.style.titleFontProperties),this.textValueFontProperty=(0,o.qk)(j.style.valueFontProperties),this.container.data)){var H=this.buildViewModel(j);this.dataContainer||(this.dataContainer=this.container.select(V.selector));var q=this.dataContainer,G=this.currentData.style;q.selectAll(P.selector).remove(),q.selectAll(S.selector).remove(),q.selectAll(E.selector).remove(),q.selectAll(w.selector).remove(),q.selectAll(D.selector).remove(),q.selectAll(M.selector).remove(),q.selectAll(P.selector).data(_.filter([H.subheader],Q=>!!Q)).join(Q=>Q.append("div").attr("class",P.class)).text(H.subheader).styles((0,o.jB)(()=>G.valueFontProperties)),q.selectAll(S.selector).data(_.filter([H.header],Q=>!!Q)).join(Q=>Q.append("div").attr("class",S.class).attr("role","heading")).text(H.header).styles((0,o.jB)(()=>G.valueFontProperties)),this.updateTooltipRows(q,H.rows),q.selectAll(M.selector).data(_.filter([H.discoverabilityText],Q=>!!Q)).join(Q=>Q.append("div").attr("class",M.class)).text(H.discoverabilityText).styles(G.discoverabilityFontProperties?(0,o.jB)(()=>G.discoverabilityFontProperties):{}),q.selectAll(D.selector).data(_.filter([H.footer],Q=>!!Q)).join(Q=>Q.append("div").attr("class",D.class)).text(H.footer);var J=d3.select(l.selector),Z=J.selectAll(B.selector);if(U.isFieldListTooltip())return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void Z.styles({"border-right-color":null,"border-left-color":null,opacity:null});Z.styles({"border-right-color":G.background?.solid.color,"border-left-color":G.background?.solid.color,opacity:(0,a.TD)(G.transparency)}),J.selectAll(b.selector).attr("aria-live","polite").styles({"background-color":G.background?.solid.color,opacity:(0,a.TD)(G.transparency)}),J.select(V.selector).selectAll(x.selector).styles((0,o.jB)(()=>G.titleFontProperties)),J.select(V.selector).selectAll(N.selector).styles((0,o.jB)(()=>G.valueFontProperties))}}static isFieldListTooltip(){var j=d3.select(l.selector);return j.node()&&j.classed(m.class)}setFocus(){this.dataContainer.node().focus()}updateTooltipRows(j,H){j.selectAll(w.selector).remove(),j.selectAll(E.selector).remove();var G=j.append("div").attrs({class:E.class,role:"list"}).selectAll(w.selector).data(H).join(he=>he.append("div").attr("role","listitem").classed(w.class,!0)),J=he=>!!he?.line,Z=he=>(0,y.aI)(J(he)?F/2:5,8,5/d.$V);function Q(he,Se,Ke){he.selectAll("div").data(Ge=>Ge).join(Ge=>Ge.append("div")).text(Ge=>C.b.getTailoredTextOrDefault({...Se,text:Ge},Ke))}G.selectAll(g.selector).data(he=>_.filter([he.icon],Se=>void 0!==Se)).join(he=>he.append("div").classed(g.class,!0).call(Se=>Se.append("svg").attr("height","15px").style("overflow","visible").call(Ke=>{Ke.append("path").classed(v.class,!0),Ke.append("path").classed(f.class,!0)}))).style("max-width",he=>`${J(he)?F:13}px`).call(he=>{he.selectAll("svg").attr("width",Se=>J(Se)?F:"100%"),he.selectAll(v.selector).attrs({transform:Z,d:Se=>J(Se)?"M 0 0 M -"+F/2+" 0 L "+F/2+" 0":null}).styles(Se=>(0,n.b)(Se?.line)),he.selectAll(f.selector).attrs({transform:Z,d:Se=>(0,h.Ar)(Se?.marker?.shape||p.ZO.circle)}).styles(Se=>(0,h.lW)(Se?.marker,void 0))}),Q(G.selectAll(x.selector).data(he=>_.filter([he.displayNameRows],Se=>!!Se)).join(he=>he.append("div").classed(x.class,!0)),this.textTitleFontProperty,260),Q(G.selectAll(N.selector).data(he=>_.filter([he.valueRows],Se=>!_.isEmpty(Se))).join(he=>he.append("div").classed(N.class,!0)),this.textValueFontProperty,260),G.selectAll(L.selector).data(he=>_.filter([he.kpiValue],Se=>!!Se)).join(he=>he.append("div").styles({"vertical-align":"middle",margin:0})).attr("class",he=>`${L.class} ${(0,c.sq)(he.metadata,he.value)}`),G.each(function(he){var Se=he.extraPadding;null!=Se&&d3.selectAll(this.children).style("padding-top","top"===Se?"5px":null).style("padding-bottom","bottom"===Se?"5px":null)})}updateOptions(j){if(this.dataContainer){var H=j.dataContainerWidth;this.dataContainer.style("width",null!=H?`${H}px`:"")}}buildViewModel(j){var H=j.items,q=_.chain(H).filter(le=>this.isValidDataItem(le)).map(le=>this.buildRowViewModel(le,j.style.titleFontProperties.color)).value();this.distributeRows(q,j.bounds);var G=_.head(H),J=_.last(H),Z=_.some(q,le=>le.icon),Q=_.some(q,le=>le.valueRows||le.kpiValue);if(Z||Q)for(var ne of q)Z&&void 0===ne.icon&&(ne.icon=null),Q&&void 0===ne.valueRows&&null==ne.kpiValue&&(ne.valueRows=[]);return{footer:J?.footer,hasIcons:Z,hasValues:Q,header:G?.header,subheader:G?.subheader,rows:q,discoverabilityText:j.discoverabilityText}}buildRowViewModel(j,H){var q=j.marker?.shape===p.ZO.lowerErrorBar,G=j.marker?.shape===p.ZO.upperErrorBar;return H&&(q||G)&&(j.marker.color=H),u.fF.assert(()=>!(j.kpiValue&&j.value),"Should not have a `value` and a `kpiValue`"),{displayNameRows:[j.displayName],icon:j.marker?.color?{line:j.line,marker:j.marker}:void 0,kpiValue:j.kpiValue,valueRows:null==j.value||j.kpiValue?void 0:[j.value],extraPadding:j.marker?.color?G?"top":q?"bottom":void 0:void 0}}isValidDataItem(j){return j?null!=j.displayName&&"string"!=typeof j.displayName?(u.fF.assertFail("Tooltip datapoint displayName must be a string"),!1):null==j.value||"string"==typeof j.value||(u.fF.assertFail("Tooltip datapoint value must be a string"),!1):(u.fF.assertFail("Tooltip datapoint must not be null/undefined"),!1)}getRowHeight(){return Math.max(C.b.estimateSvgTextHeight(this.textTitleFontProperty),C.b.estimateSvgTextHeight(this.textValueFontProperty))}distributeRows(j,H){for(var q=this,Z=H.height/this.getRowHeight(),Q=0,ne=[],le=[],he=[],Se=[],Ke=function(){var Ve=j[Ge];u.fF.assert(()=>1===Ve.displayNameRows.length,"Expected `displayNameRows` to have 1 row"),u.fF.assert(()=>null==Ve.valueRows||1===Ve.valueRows.length,"Expected `valueRows` to be `undefined` or have 1 row");var Je,Ue=he[Ge]=(0,i.ql)(Ve.displayNameRows[0],q.textTitleFontProperty,C.b.measureSvgTextWidth,260,Z,null,!1,!0);null!=Ve.valueRows&&(Je=Se[Ge]=(0,i.ql)(Ve.valueRows[0],q.textValueFontProperty,C.b.measureSvgTextWidth,260,Z,null,!1,!0));var ue=Math.max(Ue.length,Je?Je.length:0);ne.push(ue),Q+=ue},Ge=0;Ge<j.length;Ge++)Ke();if(Q<=Z)le=ne;else for(var ye=Z-j.length,we=0;we<j.length;we++)le[we]=1+Math.round(Math.max(ye,0)*(ne[we]/Z));for(var je=0;je<j.length;je++){var de=j[je];de.displayNameRows=this.getRows(he[je],le[je]),Se[je]&&(de.valueRows=this.getRows(Se[je],le[je]))}}getRows(j,H){return j.length>H+1?j[H-1]+=j[H]+"\u2026":j.length>H&&(j[H-1]+=j[H]),j.slice(0,H)}}},241788:function(Ce,k,r){r.d(k,{A7:function(){return b},Pk:function(){return s},PK:function(){return p},SR:function(){return l}});var c,a=r(378554),e=r(940506),u=r(883803),t=r(36126),C=r(789305),y="G";class o{constructor(g,v,f){this.maxMemoryCacheSize=g,this.maxMemoryCacheSizeOverflow=v,this.localStorageCache=f,this.geocodeCache={},this.geocodeCacheCount=0,this.localStorageCache=f}clear(g,v){var f=this;return(0,u.Z)(function*(){g&&v.isSupported()&&(yield v.clear()),(0,t.LK)(y),f.geocodeCache={},f.geocodeCacheCount=0})()}getCoordinates(g,v,f,S){var P=this;return(0,u.Z)(function*(){var D=g.getKey(),M=P.geocodeCache[D];if(M)return++M.hitCount,M.coordinate;var E=void 0;if(f&&S.isSupported()&&(E=yield S.get(D)),!E&&(!f||!S.isSupported()||P.isBingQuery(g))&&(E=P.localStorageCache.getData(D)),E)return v&&v.logFirstQueryHit(g),P.registerInMemory(D,E,v,f,S),E;void 0===M&&(v&&v.logFirstQueryMiss(g),P.markPendingInMemory(D))})()}getCoordinatesMemoryOnly(g,v){var f=g.getKey(),S=this.geocodeCache[f];if(S)return++S.hitCount,S.coordinate}registerCoordinates(g,v,f,S,P){var D=this;return(0,u.Z)(function*(){D.registerInMemory(g,v,f,S,P);var M=o.getCoordinateToCache(v);S&&P.isSupported()?yield P.set(g,M,()=>f.logGeocodeCacheLimitExceeded(!0)):D.localStorageCache.setData(g,M,()=>f.logGeocodeCacheLimitExceeded(!1))})()}markPendingInMemory(g){this.geocodeCache[g]=null}registerInMemory(g,v,f,S,P){var D=this.geocodeCache,M=this.maxMemoryCacheSize,E=M+this.maxMemoryCacheSizeOverflow;if(this.geocodeCacheCount>=E){f&&f.disableFirstQueryLogging();var w=Object.keys(D),x=w.length;if(w.sort((I,W)=>{var O=D[I],F=D[W];return(F?F.hitCount:0)-(O?O.hitCount:0)}),x<2*E)for(var N=M-1;N<x;N++)D[w[N]]=void 0;else{for(var L={},B=M-1;B-- >0;)L[w[B]]=D[w[B]];D=this.geocodeCache=L}this.geocodeCacheCount=M}S&&P.isSupported()&&null==v&&(v={latitude:void 0,longitude:void 0}),D[g]={coordinate:v,hitCount:1},++this.geocodeCacheCount}isBingQuery(g){return g instanceof C.xm||g instanceof C.cq||g instanceof C.Ei}static getCoordinateToCache(g){var v=g?.locations;if(!v||!o.hasRuntimeBoundaryData(v))return g;var f={latitude:g.latitude,longitude:g.longitude,locations:_.map(v,S=>({nativeBing:S.nativeBing}))};return g.entityType&&(f.entityType=g.entityType),f}static hasRuntimeBoundaryData(g){for(var v of g)for(var f in v)if("nativeBing"!==f)return!0;return!1}}function n(){return c||(c=new o(a.Zr.MaxCacheSize,a.Zr.MaxCacheSizeOverflow,(0,t.T5)(y,e.XF,a.Zr.MaxPersistedSpace,a.Zr.MaxAge))),c}function s(V,g,v,f){return V.getKey()?n().getCoordinates(V,g,v,f):Promise.resolve(void 0)}function p(V,g){if(V.getKey())return n().getCoordinatesMemoryOnly(V,g)}function l(V,g,v,f,S){return V?n().registerCoordinates(V,g,v,f,S):Promise.resolve(void 0)}function b(V,g){return n().clear(V,g)}},940506:function(Ce,k,r){r.d(k,{$o:function(){return l},Ee:function(){return u},H6:function(){return m},KE:function(){return C},Of:function(){return V},S3:function(){return p},TT:function(){return i},Tu:function(){return n},UL:function(){return s},XF:function(){return o},a_:function(){return c},fk:function(){return e},mQ:function(){return v},uC:function(){return y},xS:function(){return g},yL:function(){return h}}),r(378554);var e={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},u="2023-06-01",C="multigeocode",y=100,i=30,o="4",c="https://platform.bing.com/geo/spatial/v1/public/Geodata",h="https://dev.virtualearth.net/REST/v1/Locations",d="https://atlas.microsoft.com",n=`${d}/geocode`,s=`${d}/geocode:batch`,p=`${d}/search/polygon`,l={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},m={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"},V={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},g={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},v={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"}},814286:function(Ce,k,r){r.d(k,{$F:function(){return u},MB:function(){return d},OU:function(){return h},PR:function(){return s},SN:function(){return y},VB:function(){return c},Wu:function(){return o},X5:function(){return C},rg:function(){return n}});var a=r(845856),e=r(864237);function u(){return function(l){switch(l.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return l;default:return null}}(e.M.getLanguage())}function C(l){return!i(l,"UpHierarchy")}function y(l){return!i(l,"Ambiguous")}function i(l,m){return _.some(l,b=>b===m)}function o(l){for(var m=5276,b=0;b<l.length;b++)m=(m<<5)-m+l.charCodeAt(b),m|=0;return Math.abs(m)}function c(l){switch(l=l.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var m=l.split("-",2);return m.length>1?m[1]:""}function h(l){a.f.information("georequest",void 0,l)}function d(l,m){a.f.error(`geocoding IndexedDB ${l} failure`,!0,void 0,m)}function n(l){return l?l.getAllResponseHeaders():void 0}var s=function(l){return l.Init="init",l.Get="get",l.Set="set",l.Clear="clear",l}({})},790592:function(Ce,k,r){r.d(k,{T:function(){return e},p:function(){return u}});var a=r(789305);function e(t,C,y){t&&(C instanceof a.xm?t.logGeocodeImmediate(C,y):C instanceof a.Ei?t.logGeocodeBoundaryImmediate(C,y):C instanceof a.rO?t.logAzureMapsGeocodeImmediate(C):C instanceof a.ag&&t.logAzureMapsGeocodeBoundaryImmediate(C))}function u(t,C,y,i,o,c){t&&(C instanceof a.xm?(t.logGeocodeResult(C,y,i,o),t.logBatchTelemetry(C)):C instanceof a.Ei?t.logGeocodeBoundaryResult(C,y,i,o):C instanceof a.rO?(t.logAzureMapsGeocodeResult(C,y,i,o,c),t.logBatchTelemetry(C)):C instanceof a.ag&&t.logAzureMapsGeocodeBoundaryResult(C,y,i,o,c))}},937598:function(Ce,k,r){r.d(k,{M:function(){return a}});var a=(()=>{class e{static setMapsAjaxCall(t){e.MapsAjaxCall=t}}return e.MapsAjaxCall=$.ajax,e})()},642217:function(Ce,k,r){r.d(k,{n:function(){return V},G:function(){return b}});var a=r(883803),e=r(939123),u=r(831641),t=r(789305),C=r(241788),y=r(377714),i=r(989760),o=r(378554),c=r(790592),h=r(937598),d=r(814286);class n{constructor(v,f,S){this.baseUrl=v,this.credentials=f,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=S.geocodeRetryOptions,this.tryIndexedDB=S.tryIndexedDB,this.indexedDBService=S.indexedDBService,this.instanceId=S.instanceId,this.queueName=S.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}reset(){var v=this.dequeueTimeout;for(var f of(v&&(this.dequeueTimeout=void 0,clearTimeout(v)),this.entries.concat(this.activeEntries)))this.cancel(f);this.entries=[],this.activeEntries=[]}enqueue(v){var f={item:v};this.entries.push(f),v.deferred.always(()=>{this.cancel(f)}),this.dequeue()}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<o.Zr.MaxBingRequest;){var v=this.entries.shift();v.isCompleted||(this.geocodeRetryOptions?this.makeRequest(v,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(v))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(v){if(!v.jsonp){var f=v.request;f&&(v.request=null,f.abort())}this.complete(v,{error:new Error("cancelled")})}complete(v,f,S){var P=!1;if(!v.isCompleted&&(v.isCompleted=!0,v.item.deferred.state()===u.O[u.O.pending])){var D=this.tryIndexedDB&&this.indexedDBService.isSupported(),M=!v.item.bypassCache&&!S;!f||f.error?D&&M&&"Geocode result is empty."===f?.error?.message?(P=!0,(0,C.SR)(v.item.query.getKey(),void 0,v.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{v.item.deferred.reject(f&&f.error||new Error("cancelled")),this.scheduleDequeue()},E=>{(0,d.MB)(d.PR.Set,{error:JSON.stringify(E)}),v.item.deferred.reject(f&&f.error||new Error("cancelled")),this.scheduleDequeue()})):v.item.deferred.reject(f&&f.error||new Error("cancelled")):M&&f.coordinates?(P=!0,(0,C.SR)(v.item.query.getKey(),f.coordinates,v.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{v.item.deferred.resolve(f.coordinates),this.scheduleDequeue()},E=>{D&&(0,d.MB)(d.PR.Set,{error:JSON.stringify(E)}),v.item.deferred.resolve(f.coordinates),this.scheduleDequeue()})):v.item.deferred.resolve(f.coordinates)}P||this.scheduleDequeue()}makeRequest(v,f,S){var P=!v.item.bypassCache&&(0,C.PK)(v.item.query,v.item.logger);if(P)return(0,c.T)(v.item.logger,v.item.query,P),void this.complete(v,{coordinates:P},!0);var D=v.item.query.getAjaxConfig();D.jsonp&&(v.jsonp=!0);var M=v.item.query.getHeaders&&v.item.query.getHeaders();_.isEmpty(M)||(D.headers=M);var E=v.item.query.getUrl(this.baseUrl);E?(this.activeEntries.push(v),v.request=h.M.MapsAjaxCall(E,D),v.request.always(()=>{_.pull(this.activeEntries,v)}),v.request.pipe((w,x,N)=>{var L;v.item.bypassCache&&(0,d.OU)({url:E,response:JSON.stringify(w)}),v.request=null;try{L=v.item.query.getResult(w)}catch(B){L={error:B}}(0,c.p)(v.item.logger,v.item.query,w,L,!1,(0,d.rg)(N)),this.complete(v,L)},w=>{if(v.item.bypassCache&&(0,d.OU)({url:E,error:JSON.stringify(w)}),this.shouldRetry(w?w.status:void 0,f)){var N=Math.random()*S+S;S*=2,setTimeout(()=>{f++,this.makeRequest(v,f,S)},N)}else{v.request=null;var L={error:new Error(w&&w.statusText||"cancelled")};(0,c.p)(v.item.logger,v.item.query,void 0,L,!1),this.complete(v,L)}})):this.complete(v,{error:new Error("Unsupported query.")})}shouldRetry(v,f){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:S,maxRetryAttempts:P}=this.geocodeRetryOptions;return S.includes(v)&&f<P}}var s=r(940506),p={};class b{constructor(v,f){this.useBatchGeocoding=v,this.bypassGeocodingCache=f}geocodeBaseUrl(v,f){switch(v){case 4:return this.azureMapsGeocodingUrl(f);case 6:return this.azureMapsGeocodingBatchUrl(f);case 5:return this.azureMapsBoundaryUrl(f);case 1:return this.bingSpatialDataUrl();default:return this.bingGeocodingUrl()}}geocodeQueueType(v){return 1===v?this.useBatchGeocoding()?6:4:this.useBatchGeocoding()?3:0}geocode(v,f,S,P,D,M,E){e.fF.assert(()=>1===f||"sasToken"!==D?.credentialType,"SASToken credential type is only supported for Azure Maps");var w=(0,u.p)().defer(),x=this.geocodeQueueType(f),N=1===f?new t.rO(this.azureMapsGeocodingUrl(D&&D.isPublishToWebHost),v,!0,E,s.Ee,D&&D.credentials,D&&D.credentialType,M):new t.xm(this.bingGeocodingUrl(),v,D&&D.credentials);return this.geocodeCore(x,N,S,P,D,M).pipe(L=>w.resolve(L),L=>w.reject(L)),w.promise}geocodeBoundary(v,f,S,P,D,M){e.fF.assert(()=>1===f||"sasToken"!==D?.credentialType,"SASToken credential type is only supported for Azure Maps");var{latitude:E,longitude:w,category:x="",levelOfDetail:N=2,maxGeoData:L=3,entityType:B}=v,I=1===f?5:1,W=1===f?new t.ag(this.azureMapsBoundaryUrl(D&&D.isPublishToWebHost),x,!0,M,s.Ee,E,w,N,L,B,D&&D.credentials,D&&D.credentialType):new t.Ei(this.bingSpatialDataUrl(),E,w,x,N,L,B,D&&D.credentials);return this.geocodeCore(I,W,S,P,D)}geocodePoint(v,f,S,P,D,M){var E=new t.cq(this.bingGeocodingUrl(),v,f,D,M&&M.credentials,M&&M.includeNeighborhood);return this.geocodeCore(2,E,S,P,M)}tryGeocodeImmediate(v,f,S,P,D,M,E){var w=this;return(0,a.Z)(function*(){if(!w.bypassGeocodingCache()){var x=1===f?new t.rO(w.azureMapsGeocodingUrl(D),v,!0,E,s.Ee,void 0,"sasToken",M,D):new t.xm(w.bingGeocodingUrl(),v),N=w.bingGeocodingLogger(),L=yield(0,C.Pk)(x,N,S,P);return(0,c.T)(N,x,L),L}})()}tryGeocodeBoundaryImmediate(v,f,S,P,D,M){var E=this;return(0,a.Z)(function*(){if(!E.bypassGeocodingCache()){var{latitude:w,longitude:x,category:N,levelOfDetail:L,maxGeoData:B=3,entityType:I}=v,W=1===f?new t.ag(E.azureMapsBoundaryUrl(D),N,!0,M,s.Ee,w,x,L,B,I):new t.Ei(E.bingSpatialDataUrl(),w,x,N,L,B,I),O=E.bingGeocodingLogger(),F=yield(0,C.Pk)(W,O,S,P);return(0,c.T)(O,W,F),F}})()}geocodeCore(v,f,S,P,D,M){var E=$.Deferred();if(f.validate()){var w=this.bingGeocodingLogger(),x=D&&null!=D.bypassCache?D.bypassCache:this.bypassGeocodingCache(),N=!x&&(0,C.PK)(f,w);if(N)(0,c.T)(w,f,N),E.resolve(N);else{var L=D&&D.timeout,B=3===v||6===v,I=function(g,v,f,S,P,D,M,E,w){var x=g.toString()+v+(f||"");(3===g||6===g)&&M&&(x+=M);var L=p[x];if(L)return L;var B=(0,y.oB)(v),I=B.queryParameters;switch("/"===(v=B.baseUrl)[v.length-1]&&(v=v.substring(0,v.length-1)),g){case 6:L=new i.C(v,f,{batchGeocodeCulture:M,batchSize:s.uC,batchRequest:W=>JSON.stringify({batchItems:_.map(W,O=>O.getEntity())}),batchHeaders:(W,O)=>{var F={"Accept-Language":O||(0,d.$F)()};return e.fF.assert(()=>"sasToken"===D,"Invalid Azure Maps credential type"),"sasToken"===D&&(F.Authorization=`jwt-sas ${W}`),w&&(F["x-ms-internal-blockExtendedLocations"]="true"),F},batchQueryParameters:(W,O)=>({...I,"api-version":s.Ee}),tryIndexedDB:S,indexedDBService:P,instanceId:E,queueName:x,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case 3:L=new i.C(`${v}/${s.KE}`,f,{batchGeocodeCulture:M,batchSize:s.TT,batchRequest:W=>JSON.stringify({GeocodeEntities:_.map(W,O=>O.getEntity())}),batchHeaders:(W,O)=>({}),batchQueryParameters:(W,O)=>({...I,culture:O||(0,d.$F)(),output:"json",key:W}),tryIndexedDB:S,indexedDBService:P,instanceId:E,queueName:x});break;case 4:case 5:L=new n(v,f,{tryIndexedDB:S,indexedDBService:P,instanceId:E,queueName:x,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:L=new n(v,f,{tryIndexedDB:S,indexedDBService:P,instanceId:E,queueName:x})}return p[x]=L,L}(v,this.geocodeBaseUrl(v,D&&D.isPublishToWebHost),D&&D.credentials,S,P,D&&D.credentialType,B&&f.getCulture?f.getCulture():void 0,D&&D.instanceId,M),W={timeout:L,geocoder:this,query:f,deferred:E,logger:this.bingGeocodingLogger(),bypassCache:x};I.enqueue(W),w&&w.collectBatchQueue(I),L&&D.timeout.finally(()=>{W.deferred.state()===u.O[u.O.pending]&&W.deferred.reject()})}}else E.reject();return E}}class V extends b{constructor(v=(()=>!1),f=(()=>!1),S){super(v,f),this.logger=S}bingSpatialDataUrl(){return s.a_}bingGeocodingUrl(){return s.yL}bingGeocodingLogger(){return this.logger}azureMapsGeocodingUrl(){return s.Tu}azureMapsGeocodingBatchUrl(v){return v?s.Tu:s.UL}azureMapsBoundaryUrl(){return s.S3}}},789305:function(Ce,k,r){r.d(k,{ag:function(){return f},rO:function(){return b},Ei:function(){return v},cq:function(){return g},xm:function(){return m}});var a=r(939123),e=r(377714),u=r(378554),t=r(940506),C=r(814286),o=d(undefined,[[u.yV.Continent,t.fk.Continent],[u.yV.CountryRegion,t.fk.Sovereign],[u.yV.StateOrProvince,t.fk.AdminDivision1],[u.yV.County,t.fk.AdminDivision2],[u.yV.City,t.fk.PopulatedPlace],[u.yV.PostalCode,t.fk.Postcode],[u.yV.Address,t.fk.Address]]),c=d(undefined,[[u.yV.CountryRegion,t.fk.CountryRegion],[u.yV.StateOrProvince,t.fk.AdminDivision1],[u.yV.County,t.fk.AdminDivision2],[u.yV.City,t.fk.PopulatedPlace],[u.yV.PostalCode,t.fk.Postcode1]]);function d(S,P){return D=>(S||function(S,P){P.forEach(([D,M])=>{S[D.toLowerCase()]=M})}(S={},P),D&&S[D.toLowerCase()]||"")}var p={[t.yL]:"G",[t.a_]:"S",[t.Tu]:"AG",[t.S3]:"AS"};class l{constructor(P,D,M,E,w,x){this.location=P,this.usingAzureMapsBackend=M,this.azureMapsDataResidency=E,this.azureMapsBlockExtendedLocations=w,this.azureMapsIsPublishToWebHost=x,D&&(M&&E&&!x&&(D=this.removeRegion(D)),this.key=((D=p[D]||D)+";"+_.map(this.location.components,N=>(N.query||"")+"/"+(N.category||"")).join("&")).toLowerCase(),P.culture&&(this.key+=`&c=${P.culture}`),M&&w&&(this.key+="&bEL"))}removeRegion(P){return a.fF.assert(()=>!!P&&P.indexOf("atlas.microsoft.com")>0,`should be a valid azure maps url, but received ${P}`),P.slice(0,8)+P.slice(P.indexOf("atlas.microsoft.com"))}getKey(){return this.key}getAjaxConfig(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}}}var m=(()=>{class S extends l{constructor(D,M,E){super(M,D),this.credentials=E}getCulture(){return this.location.culture}getBingEntity(){return o(_.last(this.location.components).category)}validate(){return null!=this.getEntity()}getEntity(){var D=this.getGeocodingParameters();if(_.some(D,B=>!B.key)){var M=_.chain(D).map(B=>B.value).filter(B=>B).reverse().value().join(", ");return M?{Query:M}:void 0}var E={Address:{}},w=E.Address;for(var x of D){var N=x.value;if(!N||!(N=N.trim()))return;var L=x.key;"adminDistrict"===L&&w.AdminDistrict?w.AdminDistrict=x.value+", "+w.AdminDistrict:w[t.$o[L]]=x.value}return E}getUrl(D){var M={key:this.credentials||u.Zr.BingKey},E=this.getEntity();if(E){var w=E.Address;if(w)for(var x in w)M[t.H6[x]]=w[x];else M.q=E.Query;var N=this.location.culture||(0,C.$F)();return N&&(M.c=N),M.maxRes="10",(0,e.fS)(D,M,!0)}}getGeocodingParameters(){var D=this.location.components;return D.length>=2&&D[0].category===u.yV.Continent&&D[1].category===u.yV.CountryRegion&&(D=_.tail(D)),_.map(D,E=>{var w=o(E.category),x="";w in t.Of&&(x=t.Of[w]);var N=E.query;return w===t.fk.Sovereign&&N&&(N=S.Iso3166Substitutions[N]||N),{key:x,value:N}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),D=>!D.key)}getResult(D){var M=this.isGeneralQuery(),E=V(D,N=>this.locationQuality(N,M));if(E){var w=E.point.coordinates;return{coordinates:{latitude:w&&w[0],longitude:w&&w[1],entityType:E.entityType}}}return{error:new Error("Geocode result is empty.")}}shouldDoFullGeocoding(D){var M=D&&D.resourceSets&&D.resourceSets[0]&&D.resourceSets[0].resources&&D.resourceSets[0].resources[0];if(!M||(0,C.SN)(M.matchCodes))return!1;var E=this.getBingEntity().toLowerCase(),w=M.entityType&&M.entityType.toLowerCase();return"admindivision1"===E&&"admindivision2"===w||"admindivision2"===E&&"admindivision1"===w}extractSingleResult(D,M){return D&&D.resourceSets&&D.resourceSets.length>M?{resourceSets:[D.resourceSets[M]]}:void 0}locationQuality(D,M){if(!M&&D.matchCodes&&!(0,C.X5)(D.matchCodes))return-1;var E=0;if(1===this.location.components.length&&this.location.components[0].category===u.yV.CountryRegion){var w=D.address&&D.address.countryRegionIso2;if(w){var x=this.location.components[0].query.toLowerCase();2===x.length&&x===w.toLowerCase()&&(E+=2)}}return D.entityType&&D.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(E+=1),E}}return S.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF",SA:"Saudi Arabia"},S})(),b=(()=>{class S extends l{constructor(D,M,E,w,x,N,L="sasToken",B,I){super(M,D,E,w,B,!!I),this.location=M,this.usingAzureMapsBackend=E,this.azureMapsDataResidency=w,this.apiVersion=x,this.credentials=N,this.credentialType=L,this.blockExtendedLocations=B,this.isPublishToWebHost=I,a.fF.assert(()=>"sasToken"===L||!!N,"credentials must be provided when using Azure Maps SAS Token")}getCulture(){return this.location.culture}validate(){return null!=this.getEntity()}getEntity(){var D=this.getGeocodingParameters();if(_.some(D,L=>!L.key)){var M=_.chain(D).map(L=>L.value).filter(L=>L).reverse().value().join(", ");return M?{query:M}:void 0}var E={};for(var w of D){var x=w.value;if(!x||!(x=x.trim()))return;var N=w.key;"adminDistrict"===N&&E.adminDistrict?E.adminDistrict=w.value+", "+E.adminDistrict:E[N]=w.value}return E}getUrl(D){var M={},E=this.getEntity();if(!_.isEmpty(E)){for(var w in E)M[w]=E[w];return M.top="10",M["api-version"]=this.apiVersion,(0,e.fS)(D,M,!0)}}getGeocodingParameters(){var D=this.location.components;return D.length>=2&&D[0].category===u.yV.Continent&&D[1].category===u.yV.CountryRegion&&(D=_.tail(D)),_.map(D,E=>{var w=o(E.category),x="";w in t.xS&&(x=t.xS[w]);var N=E.query;return w===t.fk.Sovereign&&N&&(N=S.Iso3166Substitutions[N]||N),{key:x,value:N}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),D=>!D.key)}getResult(D){var E,M=D&&!_.isEmpty(D.features)&&D.features;if(Array.isArray(M)){var w=_.chain(M).map(B=>({feature:B,value:this.locationQuality(B,this.isGeneralQuery())})).filter(B=>B.value>=0).maxBy(B=>B.value).value();E=w&&w.feature}if(E){var x=E.geometry,N=E.properties;return{coordinates:{latitude:x&&x.coordinates[1],longitude:x&&x.coordinates[0],entityType:N&&N.type}}}return{error:new Error("Geocode result is empty.")}}extractSingleResult(D,M){return D&&D.batchItems&&D.batchItems.length>M?D.batchItems[M]:void 0}getBingEntity(){return o(_.last(this.location.components).category)}locationQuality(D,M){if(!M&&D.properties&&D.properties.matchCodes&&!(0,C.X5)(D.properties.matchCodes))return-1;var E=0;if("High"===D.properties?.confidence&&(E+=3),1===this.location.components.length&&this.location.components[0].category===u.yV.CountryRegion){var w=D.properties&&D.properties.address&&D.properties.address.countryRegion&&D.properties.address.countryRegion.ISO;if(w){var x=this.location.components[0].query.toLowerCase();2===x.length&&x===w.toLowerCase()&&(E+=2)}}return D.properties&&D.properties.type&&D.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(E+=1),E}getHeaders(){a.fF.assert(()=>"sasToken"===this.credentialType,"Invalid Azure Maps credential type");var D={Authorization:`jwt-sas ${this.credentials}`},M=this.getCulture()||(0,C.$F)();return M&&(D["Accept-Language"]=M),this.blockExtendedLocations&&(D["x-ms-internal-blockExtendedLocations"]="true"),D}getAjaxConfig(){return{type:"GET",dataType:"json"}}}return S.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},S})();function V(S,P){var D=S&&!_.isEmpty(S.resourceSets)&&S.resourceSets[0].resources;if(Array.isArray(D)){var M=_.chain(D).map(E=>({location:E,value:P(E)})).filter(E=>E.value>=0).maxBy(E=>E.value).value();return M&&M.location}}class g extends l{constructor(P,D,M,E,w,x=!1){super({components:[{query:[D,M].join(),category:"Point"}]}),this.credentials=w,this.latitude=D,this.longitude=M,this.entities=E,this.includeNeighborhood=x}validate(){return!0}getUrl(P){a.fF.assert(()=>this.entities.every(w=>!!_.findKey(t.fk,x=>x===w)),"All entities should match one of the allowed BingEntities");var D=(0,e.oB)(P),M=_.endsWith(D.baseUrl,"/")?D.baseUrl:D.baseUrl+"/";M+=[this.latitude,this.longitude].join();var E={key:this.credentials||u.Zr.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(E.includeEntityTypes=this.entities.join()),this.includeNeighborhood&&(E.inclnb="1"),(0,e.fS)(M,E,!0)}getResult(P){var D=V(P,N=>-1===this.entities.indexOf(N.entityType)?0:1);if(D){var M=D.point.coordinates,E=D.address||{};return{coordinates:{latitude:M[0],longitude:M[1],addressLine:E.addressLine,locality:E.locality,neighborhood:E.neighborhood,adminDistrict:E.adminDistrict,adminDistrict2:E.adminDistrict2,formattedAddress:E.formattedAddress,postalCode:E.postalCode,countryRegionIso2:E.countryRegionIso2,countryRegion:E.countryRegion,landmark:E.landmark,name:D.name}}}return{coordinates:null}}}class v extends l{constructor(P,D,M,E,w,x=3,N,L){super({components:[{query:[D,M,w,x].join(",")+(N!==c(E)?","+N:""),category:E}]},P),this.credentials=L,this.latitude=D,this.longitude=M,this.levelOfDetail=w,this.maxGeoData=x,this.entityType=N}getBingEntity(){return c(_.last(this.location.components).category)}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(P){var D=this.entityType||this.getBingEntity();if(!D)return null;var{baseUrl:M,queryParameters:E}=(0,e.oB)(P);E||(E={});var w=E.c||E.culture,x=w||"",N=w&&(0,C.VB)(w)||"";return E.key=this.credentials||u.Zr.BingKey,E.$format="json",E.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+D+"'",1,0,"'"+x+"'","'"+N+"'"].join(", ")+")",delete E.c,delete E.culture,(0,e.fS)(M,E,!0)}getResult(P){var D=P;if(D&&D.d&&Array.isArray(D.d.results)&&D.d.results.length>0){var E=D.d.results[0].Primitives;if(E&&E.length>0){var w={latitude:this.latitude,longitude:this.longitude,locations:[]};E.sort((W,O)=>W.Shape.length<O.Shape.length?1:W.Shape.length>O.Shape.length?-1:0);for(var x=Math.min(E.length,this.maxGeoData),N=0;N<x;N++)for(var B=E[N].Shape.split(","),I=1;I<B.length;I++)w.locations.push({nativeBing:B[I]});return{coordinates:w}}}return{error:new Error("Geocode result is empty.")}}}class f extends l{constructor(P,D,M,E,w,x,N,L,B=3,I,W,O="sasToken"){super({components:[{query:[x,N,L,B].join(",")+(I!==c(D)?","+I:""),category:D}]},P,M,E),this.apiVersion=w,this.latitude=x,this.longitude=N,this.levelOfDetail=L,this.maxGeoData=B,this.entityType=I,this.credentials=W,this.credentialType=O,a.fF.assert(()=>"sasToken"===O||!!W,"credentials must be provided when using Azure Maps SAS Token")}getBingEntity(){return c(_.last(this.location.components).category)}getResolution(){switch(this.levelOfDetail){case 3:return"huge";case 2:return"large";case 1:return"medium";default:return"small"}}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(P){var D,M=this.entityType??this.getBingEntity();if(""!==M&&M in t.mQ&&(D=t.mQ[M]),!D)return null;var w={coordinates:`${this.longitude},${this.latitude}`,view:"Auto",resultType:D,resolution:`${this.getResolution()}`,"api-version":this.apiVersion};return(0,e.fS)(P,w,!0)}getResult(P){var D=P;if(D&&D.geometry&&Array.isArray(D.geometry.geometries)&&D.geometry.geometries.length>0){var M=D.geometry.geometries,E=(w,x)=>w+x.length;return M.sort((w,x)=>{var N=w.coordinates.reduce(E,0);return x.coordinates.reduce(E,0)-N}),this.maxGeoData<M.length&&(M=M.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:M}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}}getHeaders(){var P;a.fF.assert(()=>"sasToken"===this.credentialType,"Invalid Azure Maps credential type"),"sasToken"===this.credentialType&&(P={Authorization:`jwt-sas ${this.credentials}`}),P.Accept="application/json";var D=(0,C.$F)();return D&&(P["Accept-Language"]=D),P}getAjaxConfig(){return{type:"GET",dataType:"json"}}}},989760:function(Ce,k,r){r.d(k,{C:function(){return c}});var a=r(939123),e=r(831641),u=r(377714),t=r(378554),C=r(241788),y=r(790592),i=r(814286),o=r(937598);class c{constructor(d,n,s){this.baseUrl=d,this.credentials=n,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.maxEntries=0,this.processedBatchQueries=new Set,this.inDequeue=!1,this.culture=s.batchGeocodeCulture,this.batchSize=s.batchSize,this.batchRequest=s.batchRequest,this.batchHeaders=s.batchHeaders,this.batchQueryParameters=s.batchQueryParameters,this.geocodeRetryOptions=s.geocodeRetryOptions,this.tryIndexedDB=s.tryIndexedDB,this.indexedDBService=s.indexedDBService,this.instanceId=s.instanceId,this.queueName=s.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}getGeocodeBatchSize(){return this.batchSize}getEntryCount(){return this.maxEntries}getProcessedBatches(){return this.processedBatchQueries?Array.from(this.processedBatchQueries).map(d=>d.split(",").length):[]}setGeocodeBatchSize(d){a.fF.assert(()=>d>0&&_.isInteger(d),"Invalid geocode batch size"),this.batchSize=d}reset(){var d=this.dequeueTimeout;for(var n of(d&&(this.dequeueTimeout=void 0,clearTimeout(d)),this.entries.concat(this.activeEntries)))this.cancel(n);this.entries=[],this.activeEntries=[]}enqueue(d){var n={item:d};this.entries.push(n);var s=this.entries.length+this.activeEntries.length;s>this.maxEntries&&(this.maxEntries=s),d.deferred.always(()=>{this.cancel(n)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=t.Zr.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())}addProcessedBatch(d){var n=d.map(s=>s.item.query.getKey()).sort().toString();this.processedBatchQueries.add(n)}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<t.Zr.MaxBingRequest;){for(var d=[];0!==this.entries.length&&d.length<this.batchSize;){var n=this.entries.shift();if(!n.isCompleted){var s=!n.item.bypassCache&&(0,C.PK)(n.item.query,n.item.logger);s?((0,y.T)(n.item.logger,n.item.query,s),this.complete(n,{coordinates:s},!0)):d.push(n)}}d.length&&(this.geocodeRetryOptions?this.makeRequest(d,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(d),this.addProcessedBatch(d))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(d){var n=d.batch;if(n){var s=n.request;s&&--n.uncancelledCount<=0&&(n.request=null,s.abort())}this.complete(d,{error:new Error("cancelled")})}complete(d,n,s){var p=!1;if(!d.isCompleted&&(d.isCompleted=!0,d.item.deferred.state()===e.O[e.O.pending])){var l=this.tryIndexedDB&&this.indexedDBService.isSupported(),m=!d.item.bypassCache&&!s;!n||n.error?l&&m&&"Geocode result is empty."===n?.error?.message?(p=!0,(0,C.SR)(d.item.query.getKey(),void 0,d.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{d.item.deferred.reject(n&&n.error||new Error("cancelled")),this.scheduleDequeue()},b=>{(0,i.MB)(i.PR.Set,{error:JSON.stringify(b)}),d.item.deferred.reject(n&&n.error||new Error("cancelled")),this.scheduleDequeue()})):d.item.deferred.reject(n&&n.error||new Error("cancelled")):m&&n.coordinates?(p=!0,(0,C.SR)(d.item.query.getKey(),n.coordinates,d.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{d.item.deferred.resolve(n.coordinates),this.scheduleDequeue()},b=>{l&&(0,i.MB)(i.PR.Set,{error:JSON.stringify(b)}),d.item.deferred.resolve(n.coordinates),this.scheduleDequeue()})):d.item.deferred.resolve(n.coordinates)}p||this.scheduleDequeue()}makeRequest(d,n,s){var p=this;if(!_.isEmpty(d)){var l={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(d.map(P=>P.item.query))},m=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(m)||(l.headers=m);var b=this.batchQueryParameters(this.credentials,this.culture),V=(0,u.fS)(this.baseUrl,b),g={uncancelledCount:d.length,request:o.M.MapsAjaxCall(V,l)};for(var v of d)v.batch=g,this.activeEntries.push(v);++this.activeBatches;var f=g.request;f.always(()=>{for(var P of(--this.activeBatches,d))_.pull(this.activeEntries,P)});var S=_.head(d).item.bypassCache;f.pipe((P,D,M)=>{S&&(0,i.OU)({url:V,request:l.data,response:JSON.stringify(P)});for(var E=function(){var x=d[w];x.batch=null;var L,N=x.item,B=N.query.extractSingleResult&&N.query.extractSingleResult(P,w);if(N.geocoder&&N.query.shouldDoFullGeocoding&&N.query.shouldDoFullGeocoding(B))N.geocoder.geocodeCore(0,N.query,p.tryIndexedDB,p.indexedDBService,{bypassCache:!0,timeout:N.timeout}).then(I=>{L={coordinates:I}},I=>{L={error:I}}).done(()=>{p.complete(x,L)});else{if(B)try{L=N.query.getResult(B)}catch(I){L={error:I}}else L={error:new Error("no data")};(0,y.p)(N.logger,N.query,B,L,!0,(0,i.rg)(M)),p.complete(x,L)}},w=0;w<d.length;++w)E()},P=>{if(S&&(0,i.OU)({url:V,request:l.data,error:JSON.stringify(P)}),this.shouldRetry(P?P.status:void 0,n)){var M=Math.random()*s+s;s*=2,setTimeout(()=>{n++,this.makeRequest(d,n,s)},M)}else for(var E of d){E.batch=null;var w={error:new Error(P&&P.statusText||"cancelled")};(0,y.p)(E.item.logger,E.item.query,void 0,w,!0),this.complete(E,w)}})}}shouldRetry(d,n){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:s,maxRetryAttempts:p}=this.geocodeRetryOptions;return s.includes(d)&&n<p}}},688574:function(Ce,k,r){r.d(k,{D:function(){return a}});var a={actionButton:"actionButton",animatedNumber:"animatedNumber",areaChart:"areaChart",barChart:"barChart",basicShape:"basicShape",shape:"shape",card:"card",cardVisual:"cardVisual",multiRowCard:"multiRowCard",clusteredBarChart:"clusteredBarChart",clusteredColumnChart:"clusteredColumnChart",columnChart:"columnChart",donutChart:"donutChart",funnel:"funnel",gauge:"gauge",hundredPercentStackedBarChart:"hundredPercentStackedBarChart",hundredPercentStackedColumnChart:"hundredPercentStackedColumnChart",image:"image",lineChart:"lineChart",lineStackedColumnComboChart:"lineStackedColumnComboChart",lineClusteredColumnComboChart:"lineClusteredColumnComboChart",map:"map",filledMap:"filledMap",azureMap:"azureMap",ribbonChart:"ribbonChart",shapeMap:"shapeMap",treemap:"treemap",pieChart:"pieChart",realTimeLineChart:"realTimeLineChart",scatterChart:"scatterChart",stackedAreaChart:"stackedAreaChart",hundredPercentStackedAreaChart:"hundredPercentStackedAreaChart",table:"table",matrix:"matrix",tableEx:"tableEx",pivotTable:"pivotTable",accessibleTable:"accessibleTable",slicer:"slicer",advancedSlicerVisual:"advancedSlicerVisual",textSlicer:"textSlicer",listSlicer:"listSlicer",pageNavigator:"pageNavigator",bookmarkNavigator:"bookmarkNavigator",filterSlicer:"filterSlicer",textbox:"textbox",aiNarratives:"aiNarratives",waterfallChart:"waterfallChart",scriptVisual:"scriptVisual",pythonVisual:"pythonVisual",kpi:"kpi",keyDriversVisual:"keyDriversVisual",decompositionTreeVisual:"decompositionTreeVisual",qnaVisual:"qnaVisual",scorecard:"scorecard",rdlVisual:"rdlVisual",dataQueryVisual:"dataQueryVisual",debugVisual:"debugVisual",heatMap:"heatMap"}},834678:function(Ce,k,r){r.d(k,{L:function(){return Kr}});var a=r(883803),e=r(688574),u=r(816219),t=r(939123),C=r(438043),y=r(528836),i=r(953474),o=r(30388),c=r(875757),h=r(422919),d=r(92946);function l(Vt){switch(Vt){case o.GT:return c.a.satellite;case o.j2:return c.a.night;case o.fS:return c.a.road;case o.se:return c.a.grayscaleLight;case o.AB:return c.a.road}return c.a.grayscaleLight}function m(Vt){return _.clamp(Vt-1,0,22)}function b(Vt,Dt,St){var[Ct,Bt]=Dt,[lr,yr]=St,dr=Bt-Ct,fr=yr-lr;if(0===dr)throw new Error("Input range size must be greater than 0");return(Vt-Ct)/dr*fr+lr}var V=r(794371);function g(Vt){var Dt=_.first(Vt.dataViewMappings),St=[],Bt=(0,V.hK)(Dt.table.rows);return _.isEmpty(Bt)?{subjectKind:5,error:2,bindings:void 0}:(St.push(...Bt),{subjectKind:5,error:void 0,bindings:St})}function v(Vt){var Dt=_.first(Vt.dataViewMappings),St=[],Bt=(0,V.hK)(Dt.table.rows);return _.isEmpty(Bt)?{subjectKind:5,error:2,bindings:void 0}:(St.push(...Bt),{subjectKind:5,error:void 0,bindings:St})}function f(Vt){return["Rows"]}var S=r(329034),P=r(145038),D=r(913615);function M(Vt){var Dt={},St=_.head(Vt?.categorical?.categories);return St&&(Dt.axisType=(0,S.PX)(Vt.metadata.objects,D.cartesianChartProps.categoryAxis.axisType,St.source.type,void 0,(0,P.n$)(Vt))?"scalar":"categorical"),Dt}function E(Vt){return(0,V.T6)(Vt,1)}var w=r(783203),x=r(707562);function N(Vt){var Dt=Vt.dataViewMappings[0];Dt&&(Dt.categorical?function(Vt){var Dt=Vt.dataViewMappings[0];if(Dt.categorical.categories){if(Dt.categorical.dataVolume=4,(0,S.iQ)(Dt,!1)){Dt.categorical.categories.dataReductionAlgorithm={sample:{}};var Ct=Dt.categorical.values;Ct&&Ct.group&&(Ct.group.dataReductionAlgorithm={top:{}})}else(0,P.XS)([Dt]);(0,P.K0)(Vt.dataViewMappings);var Bt=I(Vt);(0,P.kV)(Vt.dataViewMappings,Bt)}}(Vt):Dt.matrix&&function(Vt){var Dt=Vt.dataViewMappings[0];if((0,w.qO)(Dt)){if((0,S.iQ)(Dt,!0)){(0,w.s5)(Dt,{sample:{}});var St=(0,w.b8)(Dt);(0,x.Bx)([St],{min:!0,max:!0})}(0,x.vR)(Dt,[D.au.y]),(0,x._F)(Dt)}}(Vt))}function I(Vt){var Dt=Vt.dataViewMappings[0];return(0,w.qO)(Dt)?function(Vt){var Dt=(0,S.iQ)(Vt,!0),St=[D.au.rows];return Dt||St.push(D.au.category),St.push(D.au.y,D.au.tooltips,D.au.series),St}(Dt):function(Vt){if(!Vt||!Vt.categorical||!Vt.categorical.categories)return null;var St=Vt.categorical.categories.for.in,Ct=St.items,Bt=St.activeItems,lr=["Category","Series","Y","Tooltips"];if(!_.isEmpty(Ct)){var dr,fr;if(Vt.metadata&&(dr=Vt.metadata.objects),_.isEmpty(Bt))fr=Ct[0].type;else if(1===Bt.length){var ur=_.find(Ct,ft=>ft.queryName===Bt[0]);t.fF.assert(()=>!!ur,"Item should always be defined"),fr=ur.type}else if(Bt.length>1)return lr;return(0,S._K)(dr,D.cartesianChartProps.categoryAxis.axisType,fr)?["Series"]:lr}return null}(Dt)}function F(Vt){_.isEmpty(Vt.dataViewMappings)||(Vt.dataViewMappings[0].matrix?function(Vt){var Dt=Vt.dataViewMappings[0];if((0,w.qO)(Dt)){if((0,S.iQ)(Dt,!0)){(0,w.s5)(Dt,{sample:{}});var St=(0,w.b8)(Dt);(0,x.Bx)([St],{min:!0,max:!0})}(0,x.vR)(Dt,[D.rJ.y,D.rJ.y2]),(0,x._F)(Dt)}}(Vt):function(Vt){var Dt=!_.isEmpty(Vt.dataViewMappings)&&Vt.dataViewMappings[0],St=Vt.dataViewMappings.length>1&&Vt.dataViewMappings[1];R(Dt,St,Vt.queryProperties);var Ct=(0,S.iQ)(Dt,!1);if(Dt&&Dt.categorical&&(Dt.categorical.dataVolume=4,Ct)){Dt.categorical.categories.dataReductionAlgorithm={sample:{}};var lr=Dt.categorical.values;lr&&lr.group&&(lr.group.dataReductionAlgorithm={top:{}})}if(St&&St.categorical&&(St.categorical.dataVolume=4,Ct)){St.categorical.categories.dataReductionAlgorithm={sample:{}};var dr=St.categorical.values;dr&&dr.group&&(dr.group.dataReductionAlgorithm={top:{}})}Ct||(0,P.XS)(Vt.dataViewMappings),(0,P.K0)(Vt.dataViewMappings);var fr=z(Vt);(0,P.kV)(Vt.dataViewMappings,fr)}(Vt))}function R(Vt,Dt,St){if(Vt&&Dt){var Ct=Vt.categorical&&Vt.categorical.values,Bt=Ct.group&&!_.isEmpty(Ct.group.select)&&Ct.group.select[0];_.isEmpty(Bt.for.in.items)&&!_.isEmpty(Ct.group.by.items)&&(St?.hasVisualCalculations?Ct.group.by.items.forEach(lr=>{lr.hidden=!0}):Ct.group.by.items=void 0)}}function z(Vt){if(Vt&&Vt.dataViewMappings.length>0){var Dt=Vt.dataViewMappings[0];if((0,w.qO)(Dt))return function(Vt){var Dt=(0,S.iQ)(Vt,!0),St=[D.rJ.rows];return Dt||St.push(D.rJ.category),St.push(D.rJ.y,D.rJ.y2,D.rJ.tooltips,D.rJ.series),St}(Dt);if(!(0,S.iQ)(Dt,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function j(Vt){if(!Vt||_.isEmpty(Vt.dataViewMappings))return{subjectKind:1,error:2,bindings:void 0};var Dt=Vt.dataViewMappings[0],St=Vt.dataViewMappings[1];if(R(Dt,St),!(Dt&&Dt.categorical&&Dt.categorical.categories))return{subjectKind:1,error:2,bindings:void 0};var Ct=(0,V.DS)(Dt);return Ct.push(...(0,V.vx)(Dt)),St&&St.categorical&&St.categorical.categories&&Ct.push(...(0,V.vx)(St)),_.isEmpty(Ct)?{subjectKind:1,error:2,bindings:void 0}:{subjectKind:1,error:void 0,bindings:Ct}}var H=r(569276),q=r(123537),G=r(811271);function J(Vt){var Dt=_.first(Vt.dataViewMappings);t.fF.assertValue(Dt,"mapping");var St=(0,q.NA)(Dt.metadata.objects,G.Qw,void 0);null!=St&&(t.fF.assert(()=>St>0&&_.isInteger(St),"Invalid data reduction count"),Dt.table.rows.dataReductionAlgorithm={top:{count:St}});var Ct=_.groupBy(_.filter(Dt.metadata.columns,Bt=>!!Bt?.objects?.columnOptions?.suppressJoinPredicate),Bt=>Bt.queryName);_.isEmpty(Ct)||(0,H.vV)(Dt.table,{visitRole:Bt=>{if(Bt.role===G.KK.values)for(var lr of Bt.items)Ct[lr.queryName]&&(lr.joinPredicate=0)}})}var Z=r(277216);function Q(Vt){var Dt=Vt.dataViewMappings[0];Dt&&Dt.matrix&&Dt.metadata&&(function(Vt,Dt){var St=Vt.metadata.columns,Ct=Dt.rows.for.in.items;if(!_.isEmpty(Ct))for(var Bt=function(){var dr=Ct[lr];if(!_.find(St,ur=>ur.queryName===dr.queryName))return 1;dr.subtotalType=1},lr=0,yr=Ct.length;lr<yr;lr++)Bt()}(Dt,Dt.matrix),Vt.scopedAggregates&&function(Vt){var St=_.find(Vt.matrix.values.select,ft=>(0,x.uS)(ft)&&ft.for.in.role===Z.Fw.analyze).for.in.items;if(!_.isEmpty(St)){var Ct=Vt.matrix.rows.for.in.items;if(!_.isEmpty(Ct)&&"levelMaximum"===(0,q.NA)(Vt.metadata.objects,{objectName:Z.I8.dataBars,propertyName:Z.hq.dataBarScalingType},"levelMaximum")){for(var yr of Vt.metadata.columns)if(yr.discourageAggregationAcrossGroups)return void t.fF.assertFail("Aggregates should not be computed across groups with different values of the column "+yr.queryName);var dr=St[0].queryName,fr=Ct.map(ft=>ft.queryName);Vt.scopedAggregates=[{min:!0,max:!0,scope:[fr[0]],queryName:dr}];for(var ur=0;ur<Ct.length-1;ur++)Ct[ur].aggregates=[{min:!0,max:!0,scope:fr.slice(0,ur+2),queryName:dr}]}}}(Dt),function(Vt){var Dt=Vt.matrix.rows.dataReductionAlgorithm;if(Dt&&Dt.topNPerLevel){var St=Vt.metadata.objects,Ct=(0,q.NA)(St,{objectName:Z.I8.tree,propertyName:Z.hq.responsiveLayout})??!0,Bt=(0,q.NA)(St,{objectName:Z.I8.tree,propertyName:Ct?Z.hq.effectiveBarsPerLevel:Z.hq.barsPerLevel},Z.bR.defaultValue);(Bt<Z.bR.minValue||Bt>Z.bR.maxValue)&&(Bt=Z.bR.defaultValue),Dt.topNPerLevel.count=Bt}}(Dt))}function Se(Vt){return(0,V.T6)(Vt,2)}function Ke(Vt){var St=_.first(Vt.dataViewMappings);if(!St||!St.categorical||!St.categorical.values)return{subjectKind:1,error:2,bindings:void 0};var Ct=(0,V.YW)(St);return _.isEmpty(Ct)?{subjectKind:5,error:2,bindings:void 0}:{subjectKind:5,error:void 0,bindings:Ct}}function Ge(Vt){return!Vt||_.isEmpty(Vt.dataViewMappings)?{keyDriversConfiguration:void 0,error:1}:{keyDriversConfiguration:ye(Vt.dataViewMappings),error:void 0}}function ye(Vt){t.fF.assertValue(Vt,"compiledDataViewMappings");var Dt=_.first(Vt),St=Dt.table,Ct=Dt.metadata,Bt=Ct.objects,lr=_.map(Ct.columns,K=>K.queryName),yr=St.rows,dr=yr.select[0],fr=yr.select[1];t.fF.assert(()=>1===dr.bind.to.items.length,"There should be exactly one analyze item"),t.fF.assert(()=>fr.for.in.items.length>=1,"There should be at least one explain by item");var ur="keyDrivers",ft=_.first(dr.bind.to.items).queryName,Et=_.map(fr.for.in.items,K=>K.queryName),It=_.filter(lr,K=>ft!==K&&Et.indexOf(K)<0),kt=(0,q.NA)(Bt,{objectName:ur,propertyName:"targetValue"},void 0),Jt=(0,q.NA)(Bt,{objectName:ur,propertyName:"selectedNumericAnalysis"},void 0),er=(0,q.NA)(Bt,{objectName:ur,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==er&&0===er?er="Increase":void 0!==er&&1===er&&(er="Decrease"),{analyzeQueryName:ft,explainByQueryNames:Et,expandByQueryNames:It,targetValue:kt,numericTargetSelectedKind:er,selectedNumericAnalysis:Jt}}var we=r(503934),je=r(618226),de=r(714330),Pe=[{objectProperty:de.xg.indicatorFontFamilyProp,defaultValue:(0,y.fL)(we.Wn.lightSecondary.family)},{objectProperty:de.xg.goalFontSizeProp,defaultValue:(0,y.cA)(je.qy)},{objectProperty:de.xg.goalFontFamilyProp,defaultValue:(0,y.fL)(we.Wn.semibold.family)}];function Ve(Vt){return(0,V.T6)(Vt,5)}var Ze=r(393789),Ue=r(624310),Je=r(931145),De=r(835588),te=r(430806);function ke(Vt){var Dt=Vt.dataViewMappings[0];Dt&&(Dt.categorical?function(Vt){var Dt=Vt.dataViewMappings[0],St=Dt?.categorical;if(St&&St.categories){St.dataVolume=4;var Ct=St.categories,Bt=_.find(Vt.dataViewMappings,ur=>!!ur.usage?.anomalyDetection);Bt&&(function(Vt,Dt){t.fF.assertValue(Vt&&Vt.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),t.fF.assertValue(Dt&&Dt.categorical,"anomalyDetection.categorical");var St=Vt.dataReductionAlgorithm.binnedLineSample;t.fF.assertValue(!St.count,"binnedLineSample.count should be undefined"),t.fF.assertValue(!St.warningCount,"binnedLineSample.warningCount should be undefined"),St.count=4900,St.warningCount=3500,Dt.categorical.dataReductionAlgorithm={binnedLineSample:{}};var Ct=Dt.categorical.dataReductionAlgorithm.binnedLineSample;Ct.count=St.count,Ct.warningCount=St.warningCount}(St,Bt),_.some(Vt.dataViewMappings,ur=>(0,De.el)(ur))||_.remove(Vt.dataViewMappings,ur=>ur===Bt));var lr=!1;if((0,S.$9)(Dt.metadata.objects,D.cartesianChartProps.categoryAxis.axisType)){lr=(0,Ue.A9)(Dt);var yr=_.find(Vt.dataViewMappings,ur=>!!ur.usage?.forecast);(0,H.Sr)(Ct,{visitRole:ur=>{at(ur,yr,Bt,!1)}})}if(!lr&&!(0,S.iQ)(Dt,!1)){_.remove(Vt.dataViewMappings,ur=>ur.usage&&(ur.usage.forecast||ur.usage.anomalyDetection)),(0,te.BX)(Dt,!1);var dr=[Dt];(0,P.XS)(dr);var fr=Ne(Vt);(0,P.kV)(dr,fr)}(0,P.K0)(Vt.dataViewMappings)}}(Vt):Dt.matrix&&function(Vt){var Dt=Vt.dataViewMappings[0];if((0,w.qO)(Dt)){var St=!1;(0,S.$9)(Dt.metadata.objects,D.cartesianChartProps.categoryAxis.axisType)&&(St=(0,Ue.A9)(Dt),(0,H.Ay)(Dt.matrix.rows,{visitRole:lr=>{at(lr,void 0,void 0,!0)}}));var Ct=(0,S.iQ)(Dt,!0);if(St||Ct){if(Ct){var Bt=(0,w.b8)(Dt);(0,x.Bx)([Bt],{min:!0,max:!0})}}else(0,te.BX)(Dt,!0);(0,x.vR)(Dt,[D.Rm.Y,D.Rm.Y2]),(0,x._F)(Dt)}}(Vt))}function at(Vt,Dt,St,Ct){if(Vt.role===D.Rm.Category){var Bt=[D.Rm.Category];Ct&&Bt.unshift(D.Rm.Rows);for(var lr={data:[(0,Ze.Yp)(Bt)]},yr=Vt.items,dr=0,fr=_.size(yr);dr<fr;dr++){var ft=yr[dr].scalarKeyInfo;if(ft&&ft.hasScalarKey){ft.scalarKeyMinProperty=D.cartesianChartProps.scalarKey.min,ft.selector=lr,Dt&&ct(Dt,lr,dr),St&&ct(St,lr,dr);break}}}}function ct(Vt,Dt,St){(0,H.Sr)(Vt?.categorical?.categories,{visitRole:Ct=>{Ct.items[St].scalarKeyInfo||(Ct.items[St].scalarKeyInfo={});var Bt=Ct.items[St].scalarKeyInfo;Bt.scalarKeyMinProperty=D.cartesianChartProps.scalarKey.min,Bt.selector=Dt}})}function Ne(Vt){var Dt=Vt.dataViewMappings[0];return(0,w.qO)(Dt)?function(Vt){var Dt=(0,S.iQ)(Vt,!0),St=[D.xV.rows];return Dt||St.push(D.xV.category),St.push(D.xV.y,D.xV.tooltips,D.xV.series),St}(Dt):function(Vt){if(!Vt||!Vt.categorical||!Vt.categorical.categories)return null;var lr,yr,St=Vt.categorical.categories.for.in,Ct=St.items,Bt=St.activeItems;if(lr=["Category","Series","Y","Y2","Tooltips"],yr=["Series"],!_.isEmpty(Ct)){var dr,fr;if(Vt.metadata&&(dr=Vt.metadata.objects),(0,Ue.A9)(Vt)&&(0,S.$9)(dr,D.cartesianChartProps.categoryAxis.axisType))return yr;if(_.isEmpty(Bt))fr=Ct[0].type;else if(1===Bt.length){var ur=_.find(Ct,ft=>ft.queryName===Bt[0]);t.fF.assert(()=>!!ur,"Item should always be defined"),fr=ur.type}else if(Bt.length>1)return lr;return(0,S._K)(dr,D.cartesianChartProps.categoryAxis.axisType,fr)?yr:lr}return null}(Dt)}function X(Vt,Dt){var St=[],Ct=[],Bt=[],lr=[],yr=[],dr={xIndex:void 0,yIndex:void 0};for(var fr of Vt?.selects)fr?.roles[D.Rm.Series]&&St.push(fr),fr?.roles[D.Rm.Category]&&(Ct.push(fr),yr.push(Je.Ge.fromDescriptor(fr?.type))),fr?.roles[D.Rm.Y]&&Bt.push(fr),fr?.roles[D.Rm.Y2]&&lr.push(fr);if(function(Vt,Dt,St){var Ct=St[0],Bt=(0,Ue.A8)(Ct?.categorical?.categories[0]),lr=(0,S.PX)(Ct?.metadata?.objects,D.cartesianChartProps.categoryAxis.axisType,Vt[0]?.type,Bt,(0,P.n$)(Ct));return 1===Vt.length||Vt.length>1&&lr&&Vt[0]?.type?.temporal&&!Dt?.objects?.categoryAxis}(Ct,Vt,Dt)&&function(Vt,Dt,St,Ct){var Bt=_.first(Vt);return 1===Dt.length&&0===St.length&&0===Ct.length&&(Bt?.dateTime||Bt?.numeric||Bt?.temporal?.day||Bt?.temporal?.year)&&!(Bt?.temporal?.quarter||Bt?.temporal?.month)}(yr,Bt,lr,St)&&Vt&&Vt.roles&&Vt.roles.ordering){if(Vt.roles.ordering[D.Rm.Category]&&Vt.roles.activeItems)for(var ur=_.first(Vt.roles.activeItems[D.Rm.Category])?.queryRef,ft=0;ft<Vt.selects?.length;ft++)Vt.selects[ft]?.queryName===ur&&(dr.xIndex=ft);Vt.roles.ordering[D.Rm.Y]&&(dr.yIndex=_.first(Vt.roles.ordering[D.Rm.Y]))}return dr}var ze=r(279794),ee=r(862873);function ve(Vt){var Dt=Vt.dataViewMappings[0];if(Dt&&Dt.matrix&&Dt.metadata){var St=Dt.matrix;_.isEmpty(St.columns.for.in.items)||(St.rows.dataReductionAlgorithm.window.count=100);var Ct=Dt.metadata.objects;St.rows.for.in.subtotalType=ee.FX.PropGeneralMatrixRowSubtotals.getValue(Ct)?2:0,St.columns.for.in.subtotalType=ee.FX.PropGeneralMatrixColumnSubtotals.getValue(Ct)?2:0}}function Te(Vt){return["Rows","Values"]}function He(Vt){if(Vt&&Vt.dataViewMappings&&!_.isEmpty(Vt.dataViewMappings))for(var Dt of Vt.dataViewMappings)if(Dt.table){var St=Dt.table.rows;if(St&&St.for&&St.for.in&&St.for.in.items)return["Values"]}}function qe(Vt){var Dt=_.first(Vt.dataViewMappings),St=[];if(Dt&&Dt.table&&Dt.table.rows){var Bt=(0,V.hK)(Dt.table.rows);return _.isEmpty(Bt)?{subjectKind:5,error:2,bindings:void 0}:(St.push(...Bt),{subjectKind:5,error:void 0,bindings:St})}}var rt=r(337066),me=r(756188);function Ee(Vt){var Dt=Vt.dataViewMappings[0];if(Dt&&Dt.matrix&&Dt.metadata){var St=Dt.matrix,Ct=!_.isEmpty(St.columns.for.in.items);Ct&&(St.rows.dataReductionAlgorithm.window.count=100);var Bt=St.values;if(Bt){var lr=Bt.for.in.items;_.some(lr,yr=>!!yr.type?.misc?.sparkline)&&(St.rows.dataReductionAlgorithm.window.count=Ct?50:100,Ct&&(St.columns.dataReductionAlgorithm.top.count=25)),(0,x.pn)(Dt,lr)}(function(Vt,Dt){var St=Vt.metadata.objects,Ct=Vt.metadata.columns,Bt=Dt.rows.for.in.items,lr=ee.FX.PropSubTotalsPivotTableRowSubtotals.getValue(St),yr=ee.FX.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(St)===me.we?1:2,dr=ee.FX.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(St);if(!_.isEmpty(Bt))for(var fr=function(){var Et=Bt[ur],It=_.find(Ct,it=>it.queryName===Et.queryName);if(!It)return 1;var kt=ee.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(It.objects);if(!lr||dr&&!kt)Et.subtotalType=0;else{var Jt=ee.FX.PropGeneralMatrixLayout.getValue(St),er=void 0!==Jt?Jt===rt.t.Compact:ee.FX.PropRowsSteppedLayout.getValue(St);Et.subtotalType=0===ur&&er?1:yr}},ur=0,ft=Bt.length;ur<ft;ur++)fr()})(Dt,St),function(Vt,Dt){var St=Vt.metadata.objects,Ct=Vt.metadata.columns,Bt=Dt.columns.for.in.items,lr=ee.FX.PropSubTotalsPivotTableColumnSubtotals.getValue(St),yr=ee.FX.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(St);if(!_.isEmpty(Bt)){var dr=function(ur){var ft=_.find(Ct,It=>It.queryName===ur.queryName);if(!ft)return 1;var Et=ee.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(ft.objects);ur.subtotalType=!lr||yr&&!Et?0:2};for(var fr of Bt)dr(fr)}}(Dt,St)}}function re(Vt){return["Rows","Values"]}function se(Vt){var Dt=Vt.dataViewMappings[0];Dt&&Dt.table&&(Dt.table.rows.for.in.subtotalType=1)}var Ae=[{objectProperty:D.cartesianChartProps.valueAxis.showAxisTitle,defaultValue:(0,y.O7)(!1)}],ce=r(842864),Me=r(632151),$e=r(72294);function st(Vt){var Dt=Vt.dataViewMappings[0];if(Dt&&Dt.matrix&&Dt.metadata){var St=Dt.matrix,Ct=Dt.metadata.objects,Bt=(0,q.NA)(Ct,$e.il.ratioLine.strokeShow,!1),lr=!1,yr=!1,dr=!1,fr=[],ur=St.rows;if(ur&&!_.isEmpty(ur.select))for(var ft of(t.fF.assert(()=>!!(ur.dataReductionAlgorithm.bottom||ur.dataReductionAlgorithm.sample||ur.dataReductionAlgorithm.overlappingPointsSample),"invalid data reduction"),ur.select)){var It=ft;for(var kt of It.composite?It.composite:[ft]){(0,x.Ci)(kt)&&fr.push(kt.bind.to),(0,x.uS)(kt)&&fr.push(kt.for.in);var Jt=wt(kt);Jt&&(lr=!0,Jt===D.TL.y&&(yr=!0),Jt===D.TL.x&&(dr=!0))}}if(Bt&&!lr){for(var er of fr)er.subtotalType=2;(0,x.uS)(St.columns)&&(St.columns.for.in.subtotalType=2)}var it=St.rows.dataReductionAlgorithm,K=(0,q.NA)(Ct,$e.il.general.dataVolume,null),Y=(0,q.NA)(Ct,D.cartesianChartProps.categoryAxis.axisType)===Me.w.categorical,xe=_.find(fr,Be=>Be.role===D.TL.x),yt=xe&&_.filter(xe.items,Be=>_.includes(xe.activeItems,Be.queryName)),Tt=_.size(yt),$t=0===Tt?void 0:1===Tt&&_.every(yt,Be=>Be.type&&(Be.type.numeric||Be.type.integer)),qt=_.find(St.values.select,Be=>(0,x.Ci)(Be)&&Be.bind.to.role===D.TL.x),hr=qt&&(0,x.Ci)(qt)&&qt.bind.to,gr=hr?_.filter(hr.items,Be=>!Be.hidden):[],br=_.size(gr),Wr=_.every(gr,Be=>Be.type&&(Be.type.numeric||Be.type.integer));if(!dr&&br>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(yr&&Tt>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!dr&&1===br&&!Wr)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(lr&&(Y||!1===$t)){if(yr)return{error:{code:Y?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};St.rows.dataReductionAlgorithm={window:{count:200}};var Hr=_.remove(ur.select,Be=>(0,x.Ci)(Be)&&Be.bind.to.role===D.TL.series);t.fF.assert(()=>1===Hr.length,"series mapping should be removed");var Cr=Hr[0];Cr&&Cr.bind&&(St.columns={for:{in:Cr.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else it?.overlappingPointsSample?((0,q.NA)(Ct,D.cartesianChartProps.categoryAxis.logAxisScale)&&(it.overlappingPointsSample.x.transform=1),(0,q.NA)(Ct,D.cartesianChartProps.valueAxis.logAxisScale)&&(it.overlappingPointsSample.y.transform=1),null!=K&&(it.overlappingPointsSample.count=K)):it?.sample&&null!=K&&(it.sample.count=K)}}function pt(Vt){if(_.find(Vt.dataViewMappings,St=>St.matrix?.rows?.dataReductionAlgorithm?.window))return[D.TL.x,D.TL.y,D.TL.series]}function wt(Vt){var Dt;return(0,x.Ci)(Vt)?Dt=Vt.bind.to.role:(0,x.uS)(Vt)&&(Dt=Vt.for.in.role),Dt===D.TL.x?D.TL.x:Dt===D.TL.y?D.TL.y:void 0}function Pt(Vt){return{hasSize:(0,ce.c5)(Vt,"Size"),hasPlayAxis:(0,ce.c5)(Vt,"Play")}}function At(Vt){var Dt=_.first(Vt.dataViewMappings);return Dt&&Dt.matrix?(0,V.gY)(Dt.matrix,3):Dt&&Dt.categorical&&Dt.categorical.categories?(0,V.T6)(Vt,3):{subjectKind:3,error:2,bindings:void 0}}var Ut=r(880025),Kt=r(726452),Qt=r(991711),rr=r(595938),Xt=r(963993),et=r(301457);function ht(Vt){Vt.dataViewMappings[0].updateType=2}function Nt(Vt){var Dt=Vt.dataViewMappings[0];Dt&&Dt.table&&Dt.metadata&&(Dt.table.rows.for.in.subtotalType=ee.FX.PropGeneralTableTotals.getValue(Dt.metadata.objects)?1:0)}function Lt(Vt){return["Values"]}var Qe=r(122220);function bt(Vt){var Dt=Vt.dataViewMappings[0];if(Dt&&Dt.table&&Dt.metadata){var St=Dt.table.rows,Ct=St.for.in.items;_.some(Ct,lr=>!!lr.type?.misc?.sparkline)&&(Dt.table.rows.dataReductionAlgorithm.window.count=100),St.for.in.subtotalType=ee.FX.PropTotalTableExTotals.getValue(Dt.metadata.objects)?1:0,(0,x.pn)(Dt,Ct)}}function Rt(Vt){return["Values"]}function Gt(Vt){var Dt=Vt.dataViewMappings[0];if(Dt&&Dt.matrix){var St=Dt.matrix;St.columns&&St.columns.for&&St.columns.for.in&&(St.columns.for.in.subtotalType=1)}}function ir(Vt){return[D.IT.category,D.IT.y,D.IT.tooltips]}var Vt,Ht=r(820773),vr={name:"heatMap",capabilities:Ht.D.map,create:()=>{throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:(Vt=(0,a.Z)(function*(){var{Map:Dt}=yield Promise.all([r.e(11),r.e("map")]).then(r.bind(r,260567));return new Dt({filledMap:!1})}),function(){return Vt.apply(this,arguments)})},_r=r(559742),Ur=r(918818),Pr=r(900222);function Sr(Vt){return[Pr.CT.value,Ur.B0.Tooltips]}function Or(Vt){if(!_.isEmpty(Vt.dataViewMappings)){var Dt=Vt.dataViewMappings[0];if(Dt&&Dt.metadata){var St=function(Vt){return Vt.metadata?Vt.metadata.columns:null}(Dt)||[];if(Dt.matrix&&Dt.matrix.rows){var Ct=Dt.matrix.rows.for.in.items;if(!_.isEmpty(Ct)){var Bt=function(yr){if(!_.find(St,fr=>fr.queryName===yr.queryName))return 1;yr.subtotalType=1};for(var lr of Ct)Bt(lr)}}}}}function zr(Vt){return(0,et.RC)(Vt,{merge:[],remove:[],replace:[]},{objectName:Pr.gO.general.filter.objectName,selector:null,properties:{[Pr.gO.general.filter.propertyName]:Vt.filterToApply}})}var pr=()=>{throw new Error("plugins.ts: 'Create' function is deprecated")},jr=!1,Kr=function(){if(jr)return u.N;var St,Vt={actionButton:{name:e.D.actionButton,titleKey:(0,C.V)("Button"),capabilities:Ht.D.actionButton,create:pr,createES6:(St=(0,a.Z)(function*(){var{ActionButton:Ct}=yield Promise.all([r.e(11),r.e("actionButton")]).then(r.bind(r,535937));return new Ct}),function(){return St.apply(this,arguments)})},animatedNumber:{name:e.D.animatedNumber,capabilities:Ht.D.animatedNumber,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{AnimatedNumber:Ct}=yield Promise.all([r.e(11),r.e("animatedNumber")]).then(r.bind(r,34656));return new Ct});return function(){return St.apply(this,arguments)}}()},areaChart:{name:e.D.areaChart,watermarkKey:"area",titleKey:(0,C.V)("AreaChart_ToolTip"),capabilities:Ht.D.areaChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:1,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:ke,getSortableRoles:Ne,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},barChart:{name:e.D.barChart,watermarkKey:"bar",titleKey:(0,C.V)("BarChart_ToolTip"),capabilities:Ht.D.barChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:7,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:I,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},basicShape:{name:e.D.basicShape,titleKey:(0,C.V)("BasicShape_ToolTip"),capabilities:Ht.D.basicShape,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{BasicShape:Ct}=yield r.e("basicShape").then(r.bind(r,558482));return new Ct});return function(){return St.apply(this,arguments)}}()},shape:{name:e.D.shape,titleKey:(0,C.V)("BasicShape_ToolTip"),capabilities:Ht.D.shape,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Shape:Ct}=yield Promise.all([r.e(11),r.e("shape")]).then(r.bind(r,943562));return new Ct});return function(){return St.apply(this,arguments)}}(),getCustomizeConvertTo:(St,Ct,Bt)=>function(Vt){if("basicShape"===Vt)return{objects:{[Xt.eM.fill]:{[Xt.Mn.fillColor]:{transform:Dt=>Dt??(0,y.$_)(null,"backgroundLight"),transformArgs:[{identifier:Qt.O.fill.fillColor}],targetSelector:{id:rr.W6.default}},[Xt.Mn.fillTransparency]:{transformArgs:[{identifier:Qt.O.fill.transparency}],targetSelector:{id:rr.W6.default}}},[Xt.eM.outline]:{[Xt.Mn.outlineColor]:{transform:Dt=>Dt??(0,y.e7)(2,0),transformArgs:[{identifier:Qt.O.line.lineColor}],targetSelector:{id:rr.W6.default}},[Xt.Mn.outlineWeight]:{transform:Dt=>Dt??(0,y.cA)(3),transformArgs:[{identifier:Qt.O.line.weight}],targetSelector:{id:rr.W6.default}},[Xt.Mn.outlineTransparency]:{transformArgs:[{identifier:Qt.O.line.transparency}],targetSelector:{id:rr.W6.default}}},[Xt.eM.shape]:{[Xt.Mn.tileShape]:{transform:Dt=>{if(Dt&&(0,i.VC)(Dt)){var St;switch(Dt.value){case Ut.C9:St=Kt.m.Rectangle;break;case Ut.BG:St=Kt.m.Oval;break;case Ut.jv:St=Kt.m.Line;break;case Ut.x7:St=Kt.m.Arrow;break;case Ut.cP:St=Kt.m.TriangleIsoc;break;default:St=Kt.m.Rectangle}return(0,y.fL)(St)}},transformArgs:[{identifier:Qt.O.general.shapeType}]},[Xt.Mn.shapeRounding]:{transformArgs:[{identifier:Qt.O.line.roundEdge}]}},[rr.MI.rotation]:{[Xt.Mn.shapeRotation]:{transform:(Dt=(0,y.cA)(0),St)=>{if(!St)return Dt;if((0,i.VC)(Dt)&&(0,i.VC)(St)){var Bt,Ct=Dt.value;switch(St.value){case Ut.jv:Bt=(Ct+90)%360;break;case Ut.x7:Bt=(Ct+270)%360;break;default:Bt=Ct}return(0,y.cA)(Bt)}t.fF.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:Qt.O.rotation.angle},{identifier:Qt.O.general.shapeType}]},[rr.B3.rotation]:{transform:()=>{}}}}}}(St)},card:{name:e.D.card,watermarkKey:"card",titleKey:(0,C.V)("Card_ToolTip"),titleInSentenceKey:(0,C.V)("Card_Visual_InSentenceCase"),capabilities:Ht.D.card,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{createCard:Ct}=yield Promise.all([r.e(11),r.e("cardModule")]).then(r.bind(r,822314));return Ct(void 0)});return function(){return St.apply(this,arguments)}}(),getNarrativeSummaryBindings:g},cardVisual:{name:e.D.cardVisual,watermarkKey:"cardVisual",titleKey:(0,C.V)("Card_ToolTip_New"),titleInSentenceKey:(0,C.V)("Card_Visual_New_InSentenceCase"),capabilities:Ht.D.cardVisual,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{CardVisual:Ct}=yield Promise.all([r.e(11),r.e("cardVisual")]).then(r.bind(r,246062));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}(),module:{css:["cardVisual"]},getSortableRoles:f,getNarrativeSummaryBindings:v},multiRowCard:{name:e.D.multiRowCard,watermarkKey:"multiRowCard",titleKey:(0,C.V)("MultiRowCard_ToolTip"),titleInSentenceKey:(0,C.V)("MultiRowCard_Visual_InSentenceCase"),capabilities:Ht.D.multiRowCard,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{MultiRowCard:Ct}=yield Promise.all([r.e(11),r.e("multiRowCard")]).then(r.bind(r,807992));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}(),getSortableRoles:He,getNarrativeSummaryBindings:qe},clusteredBarChart:{name:e.D.clusteredBarChart,watermarkKey:"clusteredBar",titleKey:(0,C.V)("ClusteredBarChart_ToolTip"),capabilities:Ht.D.clusteredBarChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:6,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:I,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},clusteredColumnChart:{name:e.D.clusteredColumnChart,watermarkKey:"clusteredColumn",titleKey:(0,C.V)("ClusteredColumnChart_ToolTip"),capabilities:Ht.D.clusteredColumnChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:4,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:I,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},columnChart:{name:e.D.columnChart,watermarkKey:"column",titleKey:(0,C.V)("ColumnChart_ToolTip"),capabilities:Ht.D.columnChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:5,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:I,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},donutChart:{name:e.D.donutChart,watermarkKey:"donut",titleKey:(0,C.V)("DonutChart_ToolTip"),capabilities:Ht.D.donutChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{DonutChart:Ct}=yield Promise.all([r.e(11),r.e("donutChart")]).then(r.bind(r,599092));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}(),getNarrativeSummaryBindings:Se},funnel:{name:e.D.funnel,watermarkKey:"funnel",titleKey:(0,C.V)("Funnel_ToolTip"),capabilities:Ht.D.funnel,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{FunnelChart:Ct}=yield Promise.all([r.e(11),r.e("funnelChart")]).then(r.bind(r,939957));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}()},gauge:{name:e.D.gauge,watermarkKey:"gauge",titleKey:(0,C.V)("Gauge_ToolTip"),capabilities:Ht.D.gauge,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Gauge:Ct}=yield Promise.all([r.e(11),r.e("gauge")]).then(r.bind(r,761088));return new Ct(void 0,void 0)});return function(){return St.apply(this,arguments)}}(),getNarrativeSummaryBindings:Ke},hundredPercentStackedBarChart:{name:e.D.hundredPercentStackedBarChart,watermarkKey:"100stackedbar",titleKey:(0,C.V)("HundredPercentStackedBarChart_ToolTip"),capabilities:Ht.D.hundredPercentStackedBarChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:8,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:I,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},hundredPercentStackedColumnChart:{name:e.D.hundredPercentStackedColumnChart,watermarkKey:"100stackedcolumn",titleKey:(0,C.V)("HundredPercentStackedColumnChart_ToolTip"),capabilities:Ht.D.hundredPercentStackedColumnChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:9,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:N,getSortableRoles:I,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},image:{name:e.D.image,titleKey:(0,C.V)("Image"),capabilities:Ht.D.image,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{ImageVisual:Ct}=yield r.e("imageVisual").then(r.bind(r,884099));return new Ct});return function(){return St.apply(this,arguments)}}()},lineChart:{name:e.D.lineChart,watermarkKey:"line",titleKey:(0,C.V)("LineChart_ToolTip"),capabilities:Ht.D.lineChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:0,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:ke,getSortableRoles:Ne,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E,getDataDrivenAlertCapabilities:X},lineStackedColumnComboChart:{name:e.D.lineStackedColumnComboChart,watermarkKey:"combo",titleKey:(0,C.V)("LineStackedColumnComboChart_ToolTip"),capabilities:Ht.D.lineStackedColumnComboChart,customizeQuery:F,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:14,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),getSortableRoles:z,getAdditionalTelemetry:M,getNarrativeSummaryBindings:j},lineClusteredColumnComboChart:{name:e.D.lineClusteredColumnComboChart,watermarkKey:"combo",titleKey:(0,C.V)("LineClusteredColumnComboChart_ToolTip"),capabilities:Ht.D.lineClusteredColumnComboChart,customizeQuery:F,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:13,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),getSortableRoles:z,getAdditionalTelemetry:M,getNarrativeSummaryBindings:j},map:{name:e.D.map,watermarkKey:"map",titleKey:(0,C.V)("Map_ToolTip"),capabilities:Ht.D.map,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Map:Ct}=yield Promise.all([r.e(11),r.e("map")]).then(r.bind(r,260567));return new Ct({filledMap:!1})});return function(){return St.apply(this,arguments)}}(),customizeQuery:ze.Wj,getNarrativeSummaryBindings:ze.N6},filledMap:{name:e.D.filledMap,watermarkKey:"filledMap",titleKey:(0,C.V)("FilledMap_ToolTip"),capabilities:Ht.D.filledMap,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Map:Ct}=yield Promise.all([r.e(11),r.e("map")]).then(r.bind(r,260567));return new Ct({filledMap:!0})});return function(){return St.apply(this,arguments)}}()},azureMap:{name:e.D.azureMap,watermarkKey:"azureMap",titleKey:(0,C.V)("AzureMap_ToolTip"),capabilities:Ht.D.azureMap,module:{css:["azureMapVisuals"]},create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{AzureMap:Ct}=yield Promise.all([r.e(11),r.e("azureMap")]).then(r.bind(r,960770));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}(),getCustomizeConvertTo:(St,Ct,Bt)=>function(Vt,Dt){if(Dt.azureMapsConversion){if("map"===Vt)return{skipRoleMapping:!0,objects:{[c.Do.mapControls]:{[c.DQ.defaultStyle]:{transformArgs:[{identifier:d.mapProps.mapStyles.mapTheme}],transform:Vt=>{if(!Vt||!(0,i.VC)(Vt))return(0,y.fL)(l(o.AB));var Dt=l(Vt.value);return(0,y.fL)(Dt)}},[c.DQ.showLabels]:{transformArgs:[{identifier:d.mapProps.mapStyles.showLabels}]},[c.DQ.autoZoom]:{transformArgs:[{identifier:d.mapProps.mapControls.autoZoom}]},[c.DQ.zoom]:{transformArgs:[{identifier:d.mapProps.mapControls.zoomLevel}],transform:Vt=>{if(Vt&&(0,i.VC)(Vt)){var St=m(Vt.value);return(0,y.cA)(St)}}},[c.DQ.centerLatitude]:{transformArgs:[{identifier:d.mapProps.mapControls.centerLatitude}]},[c.DQ.centerLongitude]:{transformArgs:[{identifier:d.mapProps.mapControls.centerLongitude}]},[c.DQ.showStylePicker]:{transform:()=>(0,y.O7)(!1)},[c.DQ.showNavigationControls]:{transformArgs:[{identifier:d.mapProps.mapControls.showZoomButtons}],transform:Vt=>Vt||(0,y.O7)(!1)},[c.DQ.showSelectionControl]:{transformArgs:[{identifier:d.mapProps.mapControls.showLassoButton}],transform:Vt=>Vt||(0,y.O7)(!1)}},dataPoint:{showAllDataPoints:{transformArgs:[{identifier:d.mapProps.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:d.mapProps.dataPoint.fill}]}},[c.Do.bubbleLayer]:{[c.DQ.show]:{transformArgs:[{identifier:d.mapProps.heatMap.show}],transform:Vt=>Vt&&(0,i.VC)(Vt)&&Vt.value?(0,y.O7)(!1):(0,y.O7)(!0)},[c.DQ.bubbleRadius]:{transformArgs:[{identifier:d.mapProps.bubbles.bubbleSize}],transform:Vt=>{(!Vt||!(0,i.VC)(Vt))&&(Vt=(0,y.cA)(1));var Ct=b(Vt.value,[-30,100],[.6,24]);return(0,y.cA)(Math.round(Ct))}},[c.DQ.minBubbleRadius]:{transformArgs:[{identifier:d.mapProps.bubbles.bubbleSize}],transform:Vt=>{(!Vt||!(0,i.VC)(Vt))&&(Vt=(0,y.cA)(1));var Dt=[-30,50],Bt=b(_.clamp(Vt.value,Dt[0],Dt[1]),Dt,[.6,15]);return(0,y.cA)(Math.round(Bt))}},[c.DQ.maxRadius]:{transformArgs:[{identifier:d.mapProps.bubbles.bubbleSize}],transform:Vt=>{(!Vt||!(0,i.VC)(Vt))&&(Vt=(0,y.cA)(1));var Dt=[-30,50],Bt=b(_.clamp(Vt.value,Dt[0],Dt[1]),Dt,[2,50]);return(0,y.cA)(Math.round(Bt))}},[c.DQ.markerRangeType]:{transformArgs:[{identifier:d.mapProps.bubbles.markerRangeType}],transform:Vt=>{if(Vt&&(0,i.VC)(Vt)&&Vt.value)return(0,y.fL)(Vt.value)}},[c.DQ.bubbleStrokeWidth]:{transform:()=>(0,y.cA)(1)},[c.DQ.autoStrokeColor]:{transform:()=>(0,y.O7)(!0)},[c.DQ.layerPosition]:{transform:()=>(0,y.fL)("")}},[c.Do.categoryLabels]:{[c.DQ.show]:{transformArgs:[{identifier:d.mapProps.categoryLabels.show},{identifier:d.mapProps.heatMap.show}],transform:(Vt,Dt)=>Dt&&(0,i.VC)(Dt)&&Dt.value?(0,y.O7)(!1):Vt},color:{transformArgs:[{identifier:d.mapProps.categoryLabels.color}]},fontFamily:{transformArgs:[{identifier:d.mapProps.categoryLabels.fontFamily}]},fontSize:{transformArgs:[{identifier:d.mapProps.categoryLabels.fontSize}]},bold:{transformArgs:[{identifier:d.mapProps.categoryLabels.bold}]},italic:{transformArgs:[{identifier:d.mapProps.categoryLabels.italic}]},underline:{transformArgs:[{identifier:d.mapProps.categoryLabels.underline}]},enableBackground:{transformArgs:[{identifier:d.mapProps.categoryLabels.enableBackground}]},backgroundColor:{transformArgs:[{identifier:d.mapProps.categoryLabels.backgroundColor}]},backgroundTransparency:{transformArgs:[{identifier:d.mapProps.categoryLabels.backgroundTransparency}]}},[c.Do.heatMapLayer]:{[c.DQ.show]:{transformArgs:[{identifier:d.mapProps.heatMap.show}]},[c.DQ.heatMapRadius]:{transformArgs:[{identifier:d.mapProps.heatMap.filterRadius}]},[c.DQ.heatMapRadiusUnit]:{transformArgs:[{identifier:d.mapProps.heatMap.unit}]},[c.DQ.mapTransparency]:{transformArgs:[{identifier:d.mapProps.heatMap.transparency}]},[c.DQ.heatMapColorLow]:{transformArgs:[{identifier:d.mapProps.heatMap.color0}]},[c.DQ.heatMapColorCenter]:{transformArgs:[{identifier:d.mapProps.heatMap.color50}]},[c.DQ.heatMapColorHigh]:{transformArgs:[{identifier:d.mapProps.heatMap.color100}]}}}};if("filledMap"===Vt)return{skipRoleMapping:!0,objects:{dataPoint:{showAllDataPoints:{transformArgs:[{identifier:h.Vh.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:h.Vh.dataPoint.fill}]}},[c.Do.mapControls]:{[c.DQ.defaultStyle]:{transformArgs:[{identifier:d.mapProps.mapStyles.mapTheme}],transform:Vt=>{if(!Vt||!(0,i.VC)(Vt))return(0,y.fL)(l(o.AB));var Dt=l(Vt.value);return(0,y.fL)(Dt)}},[c.DQ.showLabels]:{transformArgs:[{identifier:d.mapProps.mapStyles.showLabels}]},[c.DQ.autoZoom]:{transformArgs:[{identifier:h.Vh.mapControls.autoZoom}]},[c.DQ.zoom]:{transformArgs:[{identifier:h.Vh.mapControls.zoomLevel}],transform:Vt=>{if(Vt&&(0,i.VC)(Vt)){var St=m(Vt.value);return(0,y.cA)(St)}}},[c.DQ.centerLatitude]:{transformArgs:[{identifier:h.Vh.mapControls.centerLatitude}]},[c.DQ.centerLongitude]:{transformArgs:[{identifier:h.Vh.mapControls.centerLongitude}]},[c.DQ.showStylePicker]:{transform:()=>(0,y.O7)(!1)},[c.DQ.showNavigationControls]:{transformArgs:[{identifier:h.Vh.mapControls.showZoomButtons}],transform:Vt=>Vt||(0,y.O7)(!1)},[c.DQ.showSelectionControl]:{transformArgs:[{identifier:h.Vh.mapControls.showLassoButton}],transform:Vt=>Vt||(0,y.O7)(!1)}},[c.Do.categoryLabels]:{[c.DQ.show]:{transform:()=>(0,y.O7)(!1)}},[c.Do.bubbleLayer]:{[c.DQ.show]:{transform:()=>(0,y.O7)(!1)}},[c.Do.filledMap]:{[c.DQ.show]:{transform:()=>(0,y.O7)(!0)},[c.DQ.defaultColor]:{transformArgs:[{identifier:h.Vh.dataPoint.defaultColor}]},[c.DQ.mapTransparency]:{transform:()=>(0,y.cA)(40)}}}}}}(St,Bt)},ribbonChart:{name:e.D.ribbonChart,watermarkKey:"ribbon",titleKey:(0,C.V)("RibbonChart_ToolTip"),capabilities:Ht.D.ribbonChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:10,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),stampHardcodedDefaultObjects:Ae,customizeQuery:N,getSortableRoles:I,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},shapeMap:{name:e.D.shapeMap,watermarkKey:"shapeMap",titleKey:(0,C.V)("ShapeMap_ToolTip"),capabilities:Ht.D.shapeMap,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{ShapeMap:Ct}=yield Promise.all([r.e(11),r.e("shapeMap")]).then(r.bind(r,943676));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}()},treemap:{name:e.D.treemap,watermarkKey:"tree",titleKey:(0,C.V)("Treemap_ToolTip"),capabilities:Ht.D.treemap,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Treemap:Ct}=yield Promise.all([r.e(11),r.e("treemap")]).then(r.bind(r,426446));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}()},pieChart:{name:e.D.pieChart,watermarkKey:"pie",titleKey:(0,C.V)("PieChart_ToolTip"),capabilities:Ht.D.pieChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{DonutChart:Ct}=yield Promise.all([r.e(11),r.e("donutChart")]).then(r.bind(r,599092));return new Ct({sliceWidthRatio:0})});return function(){return St.apply(this,arguments)}}(),getNarrativeSummaryBindings:Se},realTimeLineChart:{name:e.D.realTimeLineChart,watermarkKey:"line",titleKey:(0,C.V)("LineChart_ToolTip"),capabilities:Ht.D.realTimeLineChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:15,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),getAdditionalTelemetry:M},scatterChart:{name:e.D.scatterChart,watermarkKey:"scatterplot",titleKey:(0,C.V)("ScatterChart_ToolTip"),capabilities:Ht.D.scatterChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:11,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:st,getSortableRoles:pt,getAdditionalTelemetry:Pt,getNarrativeSummaryBindings:At},stackedAreaChart:{name:e.D.stackedAreaChart,watermarkKey:"stackedarea",titleKey:(0,C.V)("StackedAreaChart_ToolTip"),capabilities:Ht.D.stackedAreaChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:2,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:ke,getSortableRoles:Ne,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},hundredPercentStackedAreaChart:{name:e.D.hundredPercentStackedAreaChart,watermarkKey:"stacked100area",titleKey:(0,C.V)("HundredPercentStackedAreaChart_ToolTip"),capabilities:Ht.D.stackedAreaChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:3,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:ke,getSortableRoles:Ne,getAdditionalTelemetry:M,getNarrativeSummaryBindings:E},table:{name:e.D.table,watermarkKey:"table",titleKey:(0,C.V)("Table_ToolTip"),titleInSentenceKey:(0,C.V)("Table_Visual_InSentenceCase"),capabilities:Ht.D.table,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Table:Ct}=yield Promise.all([r.e(11),r.e("table")]).then(r.bind(r,770827));return new Ct});return function(){return St.apply(this,arguments)}}(),customizeQuery:Nt,getSortableRoles:Lt},matrix:{name:e.D.matrix,watermarkKey:"matrix",titleKey:(0,C.V)("Matrix_ToolTip"),titleInSentenceKey:(0,C.V)("Matrix_Visual_InSentenceCase"),capabilities:Ht.D.matrix,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Matrix:Ct}=yield Promise.all([r.e(11),r.e("matrix")]).then(r.bind(r,199498));return new Ct});return function(){return St.apply(this,arguments)}}(),customizeQuery:ve,getSortableRoles:Te},tableEx:{name:e.D.tableEx,watermarkKey:"table",titleKey:(0,C.V)("Table_ToolTip"),titleInSentenceKey:(0,C.V)("Table_Visual_InSentenceCase"),capabilities:(0,Qe.k)(),create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{TableEx:Ct}=yield Promise.all([r.e(11),r.e("tableEx")]).then(r.bind(r,311968));return new Ct(void 0,void 0)});return function(){return St.apply(this,arguments)}}(),customizeQuery:bt,getSortableRoles:Rt,module:{css:["pivotTableVisuals"]}},pivotTable:{name:e.D.pivotTable,watermarkKey:"matrix",titleKey:(0,C.V)("Matrix_ToolTip"),titleInSentenceKey:(0,C.V)("Matrix_Visual_InSentenceCase"),capabilities:Ht.D.pivotTableCapabilities,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{PivotTable:Ct}=yield Promise.all([r.e(11),r.e("pivotTable")]).then(r.bind(r,99957));return new Ct(void 0,void 0)});return function(){return St.apply(this,arguments)}}(),customizeQuery:Ee,getSortableRoles:re,module:{css:["pivotTableVisuals"]}},accessibleTable:{name:e.D.accessibleTable,watermarkKey:"matrix",capabilities:Ht.D.accessibleTable,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{AccessibleTable:Ct}=yield r.e("accessibleTable").then(r.bind(r,883280));return new Ct});return function(){return St.apply(this,arguments)}}(),module:{css:["accessibleTableVisual"]}},slicer:{name:e.D.slicer,watermarkKey:"slicer",titleKey:(0,C.V)("Slicer_ToolTip"),capabilities:Ht.D.slicer,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{Slicer:Bt}=yield Promise.all([r.e(11),r.e("slicer")]).then(r.bind(r,989243));return new Bt({featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:et.Wj,getSortableRoles:et.ot,shouldIgnoreCrossFilter:et.vu,mergeObjects:et.PM,customizeVisualAuthoringOperations:et.pQ,tryCreateFilterObjectsToPersist:et.a5},advancedSlicerVisual:{name:e.D.advancedSlicerVisual,watermarkKey:"buttonSlicer",titleKey:(0,C.V)("ButtonSlicer_Tooltip"),capabilities:Ht.D.advancedSlicer,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{createAdvancedSlicer:Ct}=yield Promise.all([r.e(11),r.e("advancedSlicer")]).then(r.bind(r,90154));return Ct(void 0)});return function(){return St.apply(this,arguments)}}(),getSortableRoles:Sr,module:{css:["advancedSlicerVisual"]},tryCreateFilterObjectsToPersist:zr},textSlicer:{name:e.D.textSlicer,watermarkKey:"textSlicer",titleKey:(0,C.V)("TextSlicerVisual_Tooltip"),capabilities:Ht.D.textSlicer,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{TextSlicer:Ct}=yield r.e("textSlicer").then(r.bind(r,313535));return new Ct});return function(){return St.apply(this,arguments)}}(),module:{css:["textSlicerVisual"]},customizeQuery:ht},listSlicer:{name:e.D.listSlicer,watermarkKey:"listSlicer",titleKey:(0,C.V)("ListSlicerVisual_Tooltip"),capabilities:Ht.D.listSlicer,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{createAdvancedSlicer:Ct}=yield Promise.all([r.e(11),r.e("advancedSlicer")]).then(r.bind(r,90154));return Ct(void 0)});return function(){return St.apply(this,arguments)}}(),getSortableRoles:Sr,module:{css:["advancedSlicerVisual"]},customizeQuery:Or,tryCreateFilterObjectsToPersist:zr},pageNavigator:{name:e.D.pageNavigator,titleKey:(0,C.V)("Visual_PageNavigator"),capabilities:Ht.D.pageNavigator,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{createNavigator:Ct}=yield Promise.all([r.e(11),r.e("navigator")]).then(r.bind(r,67012));return Ct({navigatorType:"page"})});return function(){return St.apply(this,arguments)}}()},bookmarkNavigator:{name:e.D.bookmarkNavigator,titleKey:(0,C.V)("Visual_BookmarkNavigator"),capabilities:Ht.D.bookmarkNavigator,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{createNavigator:Ct}=yield Promise.all([r.e(11),r.e("navigator")]).then(r.bind(r,67012));return Ct({navigatorType:"bookmark"})});return function(){return St.apply(this,arguments)}}()},filterSlicer:{name:e.D.filterSlicer,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Slicer:Ct}=yield Promise.all([r.e(11),r.e("slicer")]).then(r.bind(r,989243));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}(),capabilities:Ht.D.slicer,customizeQuery:et.Wj,getSortableRoles:et.ot,shouldIgnoreCrossFilter:et.vu,mergeObjects:et.PM,customizeVisualAuthoringOperations:et.pQ,tryCreateFilterObjectsToPersist:et.a5},textbox:{name:e.D.textbox,titleKey:(0,C.V)("Textbox"),capabilities:Ht.D.textbox,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Textbox:Ct}=yield Promise.all([r.e(11),r.e("textbox")]).then(r.bind(r,93798));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}(),supportsSummarization:!0,summarizationMessage:(0,C.V)("SmartNarratives_InitializationMessage")},aiNarratives:{name:e.D.aiNarratives,titleKey:(0,C.V)("Narrative"),capabilities:Ht.D.aiNarratives,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{AINarratives:Ct}=yield Promise.all([r.e(11),r.e("aiNarratives")]).then(r.bind(r,747358));return new Ct});return function(){return St.apply(this,arguments)}}(),module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:St=>function(Vt){if("textbox"===Vt)return{objects:{[_r.w$.narrativeSelection.dismissSelectionScreen.objectName]:{[_r.w$.narrativeSelection.dismissSelectionScreen.propertyName]:{transform:()=>(0,y.O7)(!0)}}}}}(St)},waterfallChart:{name:e.D.waterfallChart,watermarkKey:"waterfall",titleKey:(0,C.V)("WaterfallChart_ToolTip"),capabilities:Ht.D.waterfallChart,create:pr,createES6:function(){var St=(0,a.Z)(function*(Ct){var{CartesianChart:Bt}=yield Promise.all([r.e(11),r.e("cartesianChart")]).then(r.bind(r,375570));return new Bt({chartType:12,featureSwitches:Ct.featureSwitches})});return function(Bt){return St.apply(this,arguments)}}(),customizeQuery:Gt,getSortableRoles:ir,getAdditionalTelemetry:M},scriptVisual:{name:e.D.scriptVisual,watermarkKey:"scriptvisual",titleKey:(0,C.V)("ScriptVisual_ToolTip"),capabilities:Ht.D.scriptVisual,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{ScriptVisual:Ct}=yield r.e("scriptVisual").then(r.bind(r,7863));return new Ct});return function(){return St.apply(this,arguments)}}()},pythonVisual:{name:e.D.pythonVisual,watermarkKey:"pythonvisual",titleKey:(0,C.V)("PythonVisual_ToolTip"),capabilities:Ht.D.pythonVisual,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{ScriptVisual:Ct}=yield r.e("scriptVisual").then(r.bind(r,7863));return new Ct});return function(){return St.apply(this,arguments)}}()},kpi:{name:e.D.kpi,watermarkKey:"kpi",titleKey:(0,C.V)("kpi_Tooltip"),capabilities:Ht.D.kpi,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{KPIStatusWithHistory:Ct}=yield Promise.all([r.e(11),r.e("kpiStatusWithHistory")]).then(r.bind(r,845396));return new Ct(void 0)});return function(){return St.apply(this,arguments)}}(),stampHardcodedDefaultObjects:Pe,getNarrativeSummaryBindings:Ve},keyDriversVisual:{name:e.D.keyDriversVisual,watermarkKey:"keyDrivers",titleKey:(0,C.V)("KeyDriver_Tooltip"),capabilities:Ht.D.keyDrivers,create:St=>St.module.createAnalysisVisual(),getAnalysisVisualNarrativeSummaryConfiguration:Ge},decompositionTreeVisual:{name:e.D.decompositionTreeVisual,watermarkKey:"decompositionTree",titleKey:(0,C.V)("DecompositionTree_Tooltip"),capabilities:Ht.D.decompositionTree,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{DecompositionTree:Ct}=yield Promise.all([r.e(11),r.e("decompositionTree")]).then(r.bind(r,132340));return new Ct});return function(){return St.apply(this,arguments)}}(),customizeQuery:Q},qnaVisual:{name:e.D.qnaVisual,capabilities:Ht.D.qnaVisual,create:St=>St.module.createQnaVisual(),titleKey:(0,C.V)("Generic_Qna")},scorecard:{name:e.D.scorecard,watermarkKey:"scorecard",titleKey:(0,C.V)("Scorecard_Visual_Tooltip"),capabilities:Ht.D.scorecard,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{Scorecard:Ct}=yield Promise.all([r.e(11),r.e("scorecard")]).then(r.bind(r,484766));return new Ct});return function(){return St.apply(this,arguments)}}(),module:{css:["scorecardVisual"]}},rdlVisual:{name:e.D.rdlVisual,titleKey:(0,C.V)("RdlVisual_ToolTip"),capabilities:Ht.D.rdlVisual,create:pr,createES6:function(){var St=(0,a.Z)(function*(){var{RdlVisual:Ct}=yield Promise.all([r.e(11),r.e("rdlVisual")]).then(r.bind(r,541768));return new Ct});return function(){return St.apply(this,arguments)}}(),module:{css:["rdlVisual"]},customizeQuery:se},dataQueryVisual:{name:e.D.dataQueryVisual,capabilities:Ht.D.dataQueryVisual,create:()=>{t.fF.assertFail("This visual should not be created")},customizeQuery:J},[vr.name]:vr};for(var Dt in Vt)u.N[Dt]=Vt[Dt];return jr=!0,u.N}()},820773:function(Ce,k,r){r.d(k,{D:function(){return Q}});var a=r(454865),e=r(438043),u=r(430945),t=r(112072),C={dataRoles:[{name:t.r.rows,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Rows"),description:(0,e.V)("Role_DisplayName_RowsDescription")},{name:t.r.columns,kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Columns"),description:(0,e.V)("Role_DisplayName_ColumnsDescription")},{name:t.r.values,kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:u.iD.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:t.r.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:t.r.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:t.r.values}}}}]},y=r(821521),i=r(559742),c={objects:{general:{properties:{formatString:u.iD.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},h=r(875757),d=r(991711),n=r(918818),s=r(117426),p=r(450635),l=r(385460),m=r(159805),b=r(811271),V=r(277216),g=r(539781),v=r(422919),f=r(434228),S=r(693082),P=r(420708),D=r(285261),M=r(714330),E=r(430806),w=r(92946),x=r(395129),N=r(249472),L=r(969662),I=r(197260),W=r(433544),O={dataRoles:[{name:"Category",kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Axis"),description:(0,e.V)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:0},{name:"Series",kind:a.DW.Grouping,displayName:(0,e.V)("Role_DisplayName_Legend"),description:(0,e.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:a.DW.Measure,displayName:(0,e.V)("Role_DisplayName_Values"),description:(0,e.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],objects:{general:{displayName:(0,e.V)("Visual_General"),properties:{formatString:u.iD.formatString,responsive:u.iD.responsive,responsiveLegacy:u.iD.responsiveLegacy}},legend:{displayName:(0,e.V)("Visual_Legend"),description:(0,e.V)("Visual_LegendDescription"),properties:{show:u.iD.show,position:u.iD.legendPosition,showTitle:u.iD.showLegendTitle,titleText:{...u.iD.legendTitle,suppressFormatPainterCopy:!0},labelColor:u.iD.genericColor,fontSize:u.iD.fontSize}},categoryAxis:{displayName:(0,e.V)("Visual_XAxis"),properties:{show:u.iD.show,axisType:u.iD.axisType,showAxisTitle:u.iD.showAxisTitle_X,axisStyle:u.iD.axisStyle,labelColor:u.iD.genericColor,labelDisplayUnits:u.iD.labelDisplayUnits,labelPrecision:u.iD.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,e.V)("Visual_YAxis"),properties:{show:u.iD.show,showAxisTitle:u.iD.showAxisTitle_Y,axisStyle:u.iD.axisStyle,labelColor:u.iD.genericColor,labelDisplayUnits:u.iD.labelDisplayUnits,labelPrecision:u.iD.labelPrecision}},dataPoint:{displayName:(0,e.V)("Visual_DataPoint"),description:(0,e.V)("Visual_DataPointDescription"),properties:{defaultColor:u.iD.defaultColor,fill:u.iD.fill}},plotArea:u.TQ.plotArea},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:1}]}}},F=r(72294),A=r(282315),T={dataRoles:[{name:"Values",kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}},suppressVisualCalc:!0},R=r(595938),U=r(364978),z=r(900222),j=r(108632),H=r(276712),q=r(903917),G=r(376784),J=r(356687),Z=r(775888),Q={actionButton:(0,y.mx)(),aiNarratives:(0,i.Tf)(),animatedNumber:c,areaChart:(0,E.yg)(!1,!0),barChart:(0,l.nn)(!0,!0),basicShape:d.T,advancedSlicer:(0,n.O)(Z.y.Tile),listSlicer:(0,n.O)(Z.y.List),textSlicer:(0,J.Wr)(),shape:R.Ic,card:s.C,cardVisual:(0,p.gl)(),multiRowCard:x._i,clusteredBarChart:(0,l.nn)(!0),clusteredColumnChart:(0,l.nn)(),columnChart:(0,l.nn)(!1,!0),donutChart:(0,g.cw)(),funnel:(0,f.qW)(),gauge:S.J,hundredPercentStackedBarChart:(0,l.nn)(!0,!0),hundredPercentStackedColumnChart:(0,l.nn)(!1,!0),ribbonChart:(0,l.nn)(!1,!0,!0),image:P.Jz,lineChart:(0,E.yg)(!1,!1),stackedAreaChart:(0,E.yg)(!0,!0),lineStackedColumnComboChart:(0,m.p)(!0),lineClusteredColumnComboChart:(0,m.p)(!1),map:(0,w.N)(),filledMap:(0,v.XN)(),azureMap:(0,h.$E)(),shapeMap:(0,U.x)(),treemap:(0,q.c)(),pieChart:(0,g.cw)(),scatterChart:(0,F.r4)(),table:(0,j.Y)(),matrix:t.d,slicer:(0,z.st)(),pageNavigator:N.QP,bookmarkNavigator:N.j0,textbox:H.dd,waterfallChart:(0,G.G)(),heatMap:(0,w.N)(),scriptVisual:T,pythonVisual:{dataRoles:[{name:"Values",kind:a.DW.GroupingOrMeasure,displayName:(0,e.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,M.pW)(),realTimeLineChart:O,accessibleTable:C,pivotTableCapabilities:(0,L.R)(),keyDrivers:(0,D.yM)(),decompositionTree:(0,V.Sd)(),qnaVisual:I.OF,dataQueryVisual:b.YE,scorecard:A.b,rdlVisual:W.Cg}},816219:function(Ce,k,r){function a(t,C){u[t]=C}r.d(k,{G:function(){return a},N:function(){return u}});var t,u=(t={},window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins?t=window.powerbi.visuals.plugins:window.powerbi.visuals.plugins=t,t)},29709:function(Ce,k,r){r.d(k,{QZ:function(){return d},Wy:function(){return h},o4:function(){return n}});var a=r(939123),e=r(831641),u=r(756819),t=r(359155),C=r(642217),y=r(678023),i=r(12857),o={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},c={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"};function h(){return new C.n}class d{constructor(){this.instanceId=void 0}static initialize(){(0,t.X0)(d.createLocaleOptions()),i.I.localizationOptions=d.createTooltipLocaleOptions(),(0,y.iZ)(d.createDataViewTransformLocalizationOptions())}static createLocaleOptions(){return{null:c.NullValue,true:c.BooleanTrue,false:c.BooleanFalse,NaN:c.NaNValue,infinity:c.InfinityValue,negativeInfinity:c.NegativeInfinityValue,beautify:p=>d.beautify(p),describe:p=>d.describeUnit(p),restatementComma:c.Restatement_Comma,restatementCompoundAnd:c.Restatement_CompoundAnd,restatementCompoundOr:c.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:c.Tooltip_HighlightedValueDisplayName}}static createDataViewTransformLocalizationOptions(){return{quarterPrefix:c.Visual_Quarter_Abbreviated}}getLocalizedString(p,...l){return c[p]}alertScreenReader(p){}alertWithDebounce(p,l){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(p){p.action=0}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(p){return!1}setNodeExpansionState(p){}setLevelExpansionState(p){}setCanDrill(p){}onContextMenu(){}loadMoreData(){}loadWindow(p){}setShouldDeferData(){}fetchMoreData(p){return!0}persistProperties(p){}onCustomSort(p){}getViewMode(){return 0}getEditMode(){return 0}setWarnings(p){}getWarnings$(){}setToolbar(p){}shouldRetainSelection(){return!1}geocoder(){return h()}geolocation(){a.fF.assertFail("Not being called anywhere")}promiseFactory(){return(0,e.p)()}visualCapabilitiesChanged(){}ignoreDefaultFilter(){}getIdentityDisplayNames(p){}setIdentityDisplayNames(p){}drill(p){}setFilterExpressionMetadata(p){}getFilterExpressionMetadata(){}dropdown(){}tooltips(){}telemetry(){}authenticationService(){}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}decompositionService(){}locale(){return navigator.language}allowInteractions(){return!0}loader(){return(0,u.hQ)(this.promiseFactory(),void 0,null)}getUIComponentFactory(){return null}applyJsonFilter(p,l,m,b){return!0}applyIdentityFilter(p,l,m,b){return!0}launchUrl(p){}refreshHostData(){}sendSelectionIdsToHost(p){}getJSONFilter(p,l){return this.promiseFactory().reject()}onHyperlinkClick(p,l){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return 0}networkAvailability(){}downloadService(){}setAriaMetadata(p){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(p){}onClearLicenseNotification(){}onNotifyFeatureBlocked(p){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){}setVisualAnnotationsResponse(p){}annotations(){}static beautify(p){var l=o[p];return l?((0,t.J6)(l),c[l]||p):p}static describeUnit(p){var l=-1===p?"Auto":p.toString(),m=c["DisplayUnitSystem_E"+l+"_Title"],b=p<=0?"{0}":c["DisplayUnitSystem_E"+l+"_LabelFormat"];if(m||b)return{title:m,format:b}}}var n=new d},424519:function(Ce,k,r){r.d(k,{Bt:function(){return s},EX:function(){return C},G6:function(){return c},jN:function(){return p},kA:function(){return y},ku:function(){return i},ub:function(){return t},x0:function(){return l}});var a=r(939123),e=r(132640),u=r(145741);function t(V,g){return new s(V,g)}function C(V,g="rect"){var v=V.select(`${g}.clearCatcher`);return v.empty()&&(v=V.append(g).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),v}function y(V,g="rect"){var v=V.select(`${g}.clearCatcher`);v.empty()||v.style("pointer-events","none")}function i(V,g="rect"){var v=V.select(`${g}.clearCatcher`);v.empty()||v.style("pointer-events","auto")}function c(V){if(_.isEmpty(V))return!1;for(var g=0,v=V.length;g<v;g++)if(V[g].selected)return!0;return!1}class h{constructor(g,v,f,S,P){this.dataPoints=g,this.behavior=v,this.key=f,this.hasSelection=S,this.matchPartialIdentities=P}render(){this.behavior.renderSelection(this.hasSelection())}}function d(V,g){return _.find(V,v=>!v.identity.highlight&&g.identity.includes(v.identity,!0))}class n{constructor(g,v){this.selectionStateManager=g,this.pointSources={},v&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}findNonHightlightDataPoint(g){for(var v of this.getSelectablePointSources()){var f=d(v.dataPoints,g);if(f)return f}}applySelectionStateToDataPoints(g){this.updateSelectableDataPointsBySelectedIds(g,void 0,this.identityComparisonCache)}syncSelectionState(g){this.getSelectablePointSources(g).forEach(v=>{this.updateSelectableDataPointsBySelectedIds(v.dataPoints,v.matchPartialIdentities,this.identityComparisonCache)})}clearDataPointSelection(){this.applyToAllSelectableDataPoints(g=>g.selected=!1)}render(){this.getSelectablePointSources().forEach(g=>{g.render()})}bind(g,v,f,S){var P,D=!1;S&&(S.isAxis||S.isLabels||S.isLegend||S.useSelectableDataPointForHasSelection)?P=()=>!!g&&c(g):(P=()=>this.selectionStateManager.getSelectionSize()>0,D=!0),this.isHierarchicalAxis=S&&S.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[f]=new h(g,v,f,P,D),this.clearComparisonCache()}hasSelectionForSource(g){return c(this.pointSources[g]?.dataPoints)}clearComparisonCache(){this.identityComparisonCache&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}applyToAllSelectableDataPoints(g){this.getSelectablePointSources().forEach(v=>{if(v.dataPoints)for(var f of v.dataPoints)g(f)})}updateSelectableDataPointsBySelectedIds(g,v=!1,f){_.isEmpty(g)||this.selectionStateManager.updateDatapointAgainstSelectedIds(g,v,this.isHierarchicalAxis,f)}getSelectablePointSources(g){if(g){var v=this.pointSources[g];return v?[v]:[]}return _.map(Object.keys(this.pointSources),f=>this.pointSources[f])}}var s=(()=>{class V{constructor(v,f){a.fF.assertValue(v,"hostServices"),this.hostService=v,this.dataPointNavigationManager=new b,this.categoryAxisNavigationManager=new b,this.selectionStateManager=new m,this.dataPointManager=new n(this.selectionStateManager,f.interactivityServiceCaching)}bind(v,f,S,P){P&&P.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(v),this.isHierarchicalAxis=P&&P.isHierarchicalAxis;var D=P?P.pointSourceKey:"";this.dataPointManager.bind(v,f,D,P),P&&P.navigationOptions&&(P.isAxis?this.categoryAxisNavigationManager.update(f,P.navigationOptions,D):this.dataPointNavigationManager.update(f,P.navigationOptions,D),P.navigationOptions.focusElement&&f.renderFocus(P.navigationOptions.focusElement)),f.bindEvents(S,this,P&&P.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:D}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:D},this.formatMode),this.syncSelectionState(P&&P.pointSourceKey)}clearSelection(){this.clearSelectionInternal(),this.renderAll()}clearSelectionInternal(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()}applySelectionStateToData(v){return this.dataPointManager.applySelectionStateToDataPoints(v),this.hasSelection()}hasSelection(){return this.selectionStateManager.getSelectionSize()>0}hasSelectionForSource(v){return this.dataPointManager.hasSelectionForSource(v)}static getVisualObjects(v){return _.map(v,f=>({objectName:V.dataPointObjectName,selectorsByColumn:f.getSelectorsByColumn()}))}handleSelection(v,f,S){var P;(a.fF.assertValue(v,"dataPoint"),v)&&(v.specificIdentity?P=v.specificIdentity.getSelectorsByColumn():(!v.identity&&v.lazyIdentity&&(v.identity=v.lazyIdentity()),v.identity&&(P=v.identity.getSelectorsByColumn())),1===this.hostService.dataMultiSelectMode()&&0===f&&(f=3),this.runInTransaction(()=>{v.identity&&this.select(v,f);var w={type:0,visualObjects:v.specificIdentity?[{objectName:V.dataPointObjectName,selectorsByColumn:P}]:V.getVisualObjects(this.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:3===f,isShiftKey:1===f,isLassoSelect:!1,position:S};return _.isEmpty(P)||this.hostService.onSelecting(w),w},f,!1,!v.identity))}handleMultipleSelection(v,f,S,P){this.runInTransaction(()=>{this.selectMultiple(v,f);var M={type:0,visualObjects:V.getVisualObjects(this.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!S||3===f,isShiftKey:1===f,isLassoSelect:S,position:P};return this.hostService.onSelecting(M),M},f,S,!1)}runInTransaction(v,f,S,P){var M,D=!1;this.selectionStateManager.beginTransaction();try{var E=v();0!==E.action&&E.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),D=!0,M=E.selectionLimitInfo,this.syncSelectionState())}catch{this.selectionStateManager.rollback()}finally{D&&(P?this.handleClearSelection():(this.sendSelectionToHost(f,S,M),this.renderAll()))}}handleContextMenu(v,f){this.sendContextMenuToHost(v,f)}handleClearSelection(){0===this.hostService.dataMultiSelectMode()&&(this.clearSelection(),this.sendSelectionToHost(0,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))}restoreSelection(v){return this.clearSelection(),this.selectionStateManager.restoreSelection(v,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()}renderAll(){this.dataPointManager.render()}clearSelectionState(){this.selectionStateManager.clearSelectionState()}selectMultiple(v,f){for(var S of((0===f||2===f)&&this.clearSelectionState(),v)){var P=S.identity;P.highlight||(1===f||0===f?this.addId(P):3===f?S.selected?this.removeId(P):this.addId(P):2===f&&S.selected&&this.addId(P))}}updateSelectionState(v,f,S,P){P||this.clearSelectionInternal(),v.selected?P&&3===f&&this.removeId(S):(this.addId(S),P&&(S.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))}select(v,f){v.identity&&v.identity.highlight&&(v=this.dataPointManager.findNonHightlightDataPoint(v),a.fF.assertValue(v,"Expected to find a non-highlight data point"));var S=v.identity;if(S){var P=this.getSelectionIds(),D=this.hostService.canSelect(V.createSelectEventArgs(P,f));switch(f){case 0:!v.selected||P.length>1||1===P.length&&!P[0].equals(S)?(this.clearSelectionInternal(),this.addId(S)):v.selected?this.removeId(S):this.addId(S);break;case 3:case 1:this.updateSelectionState(v,f,S,D);break;case 2:a.fF.assertFail("single selection does not have intersection implemented");break;default:a.fF.assertFail("no such multiSelectMode")}}}removeId(v){this.selectionStateManager.removeId(v,this.isHierarchicalAxis)}addId(v){this.selectionStateManager.addId(v,this.isHierarchicalAxis)}getSelectionIds(){return this.selectionStateManager.getSelectionIds()}sendContextMenuToHost(v,f){var S=this.hostService;if(S.onContextMenu){var P,D,M;v.specificIdentity?P=v.specificIdentity:v.identity&&(P=v.identity),M=this.selectionStateManager.isIdSelected(P),D=!P||M?this.getSelectionIds():[P];var E=[];for(var w of D){var x=w.getSelectorsByColumn();_.isEmpty(x)||E.push(x)}_.isEmpty(E)||S.onContextMenu({data:E,position:f})}}sendSelectionToHost(v,f,S){var P=this.hostService;if(P.onSelect){var D=V.createSelectEventArgs(this.getSelectionIds(),v,f,S);P.onSelect(D)}}static createSelectEventArgs(v,f,S,P){var D=!1;_.isEmpty(v)||(D=v[0].getSelector()&&!v[0].getSelectorsByColumn());var M=_.chain(v).filter(w=>w.hasIdentity()),E={type:0,visualObjects:M.map(w=>({objectName:V.dataPointObjectName,selectorsByColumn:w.getSelectorsByColumn()})).value(),selectionMode:f,isLassoSelect:S,selectionLimitInfo:P};return D&&(E.selectors=M.map(w=>w.getSelector()).value()),E}takeSelectionStateFromDataPoints(v){for(var f of(a.fF.assertValue(v,"dataPoints"),this.clearSelectionState(),v))f.selected&&this.addId(f.identity)}syncSelectionState(v){this.dataPointManager.syncSelectionState(v)}removeSelectionIdsWithOnlyMeasures(){this.filterSelection(v=>v.hasIdentity())}removeSelectionIdsExceptOnlyMeasures(){this.filterSelection(v=>!v.hasIdentity())}filterSelection(v){this.selectionStateManager.filterSelection(v)}setFormatMode(v){this.formatMode=v,v&&this.handleClearSelection()}setSubSelectionHelper(v){this.subSelectionHelper=v}getSubSelectionHelper(){return this.subSelectionHelper}}return V.dataPointObjectName="dataPoint",V})(),p=function(V){return V[V.CategoryFirst=0]="CategoryFirst",V[V.SeriesFirst=1]="SeriesFirst",V[V.CategoryOnly=2]="CategoryOnly",V[V.SeriesOnly=3]="SeriesOnly",V}({}),l=function(V){return V[V.NextCategory=0]="NextCategory",V[V.PreviousCategory=1]="PreviousCategory",V[V.NextSeries=2]="NextSeries",V[V.PreviousSeries=3]="PreviousSeries",V}({});class m{constructor(){this.clearSelectionState()}beginTransaction(){a.fF.assert(()=>void 0===this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize}commit(){a.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}rollback(){a.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}isIdSelected(g){var v=this.selectedIds[g?.getKeyWithoutHighlight()];return this.selectionIdSize>1&&v&&v.equals(g)}clearSelectionState(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0}restoreSelection(g,v){_.forEach(g,f=>{var S=u.l0.fromSelectorsByColumn(f);this.addId(S,v)})}addId(g,v){this.addDecomposedId(g,!v);var f=!!this.selectedIds[g.getKeyWithoutHighlight()];this.selectedIds[g.getKeyWithoutHighlight()]=g,f||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)}addDecomposedId(g,v){var f=g.getDecomposedKeys(v);if(f)for(var S of f){var P=this.decomposedSelectedIds[S];_.isArray(P)?_.some(P,D=>D.equals(g))||P.push(g):this.decomposedSelectedIds[S]=[g]}}amendDecomposedSelection(g){this.decomposedSelectedIds={};var v=_.values(this.selectedIds);for(var f of v)this.addDecomposedId(f,g)}removeId(g,v){var f=w=>{var x=w.getKeyWithoutHighlight(),N=this.selectedIds[x];N&&N.includes(g)&&(delete this.selectedIds[x],this.selectionIdSize--)};f(g);var S=w=>{if(w)for(var x=w.length-1;x>-1;x--){var N=w[x];g.includes(N)&&(w.splice(x,1),f(N))}},P=g.getDecomposedKeys(!v);if(P)for(var D of P){var M=this.decomposedSelectedIds[D];S(M),_.isEmpty(M)&&delete this.decomposedSelectedIds[D]}var E=this.decomposedSelectedIds[e.xO];E&&E.length&&(S(E),_.isEmpty(E)&&delete this.decomposedSelectedIds[e.xO])}getSelectionSize(){return this.selectionIdSize}getSelectionIds(){return _.values(this.selectedIds)}filterSelection(g){this.selectedIds=_.pickBy(this.selectedIds,g);var v={};_.forEach(this.decomposedSelectedIds,(f,S)=>{var P=_.filter(f,g);P&&!_.isEmpty(P)&&(v[S]=P)}),this.decomposedSelectedIds=v}updateDatapointAgainstSelectedIds(g,v,f,S){var P=!_.isEmpty(this.selectedIds),D=!_.isEmpty(this.decomposedSelectedIds);if(P||D)for(var E of g)E.selected=this.checkDatapointAgainstSelectedIds(E,v,f,P,D,S);else for(var M of g)M.selected=!1}checkDatapointAgainstSelectedIds(g,v,f,S,P,D){if(S){var M=g.identity?.getKeyWithoutHighlight();if(M){var E=this.selectedIds[M];if(E&&E.includes(g.identity,!0,v,D))return!0}}if(P){var w=g.identity?.getDecomposedKeys(!f);if(w)for(var x of w){var N=this.decomposedSelectedIds[x];if(N)for(var L of N)if(L&&L.includes(g.identity,!0,v,D))return!0}var B=this.decomposedSelectedIds[e.xO];if(!_.isEmpty(B))for(var I of B)if(I&&I.includes(g.identity,!0,v))return!0}return!1}}class b{constructor(){this.behaviors={},this.helpers={}}update(g,v,f){this.behaviors[f]=g,this.navigationStrategy=v.navigationStrategy,this.helpers[f]=v.helper}goToFirstElement(g){var v=this.helpers[g].getFirstElement().element;v&&this.behaviors[g].renderFocus(v)}isEmpty(g){return!this.behaviors[g]||_.isEmpty(this.helpers[g])}handleKeyDownEvent(g,v,f,S,P){var D,M=this.helpers[g];switch(S){case 9:var E=this.navigationStrategy;E===p.CategoryFirst||E===p.SeriesOnly?D=M.getNextDataPoint(v,f,P?l.PreviousSeries:l.NextSeries):E===p.SeriesFirst||E===p.CategoryOnly?D=M.getNextDataPoint(v,f,P?l.PreviousCategory:l.NextCategory):a.fF.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case 37:D=M.getNextDataPoint(v,f,l.PreviousCategory);break;case 39:D=M.getNextDataPoint(v,f,l.NextCategory);break;case 38:D=M.getNextDataPoint(v,f,M.validateDirection?.(l.NextSeries)??l.NextSeries);break;case 40:D=M.getNextDataPoint(v,f,M.validateDirection?.(l.PreviousSeries)??l.PreviousSeries);break;default:a.fF.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[g].renderFocus(D.element)}}},628062:function(Ce,k,r){r.d(k,{K:function(){return i}});var a=r(737466),e=r(438043),u=r(528836),t=r(180084),C=r(16431);function y(o,c){var h=(0,C.eG)(o,c);return h?{grid:[{properties:{outlineColor:(0,t.EV)(h.outlineColor),outlineWeight:(0,u.cA)(a.b$.valueOrDefault(h.outlineWeight,C.TK)),gridVertical:(0,u.O7)(h.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.EV)(h.gridColor),gridVerticalWeight:(0,u.cA)(a.b$.valueOrDefault(h.gridVerticalWeight,C.FT)),gridHorizontal:(0,u.O7)(h.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.EV)(h.gridColor),gridHorizontalWeight:(0,u.cA)(a.b$.valueOrDefault(h.gridHorizontalWeight,C.cr)),rowPadding:(0,u.cA)(h.rowPadding)}}],columnHeaders:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(h.outlineModeColumnHeaders,C.dc)),fontColor:(0,t.EV)(h.fontColorHeaders),backColor:(0,t.EV)(h.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(h.outlineModeRowHeaders,C.hW)),fontColor:(0,t.EV)(h.fontColorHeaders),backColor:(0,t.EV)(h.backColorHeaders)}}],values:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(h.outlineModeValues,C.Wy)),fontColorPrimary:(0,t.EV)(h.fontColorValues1),backColorPrimary:(0,t.EV)(h.backColorValues1),fontColorSecondary:(0,t.EV)(h.fontColorValues2),backColorSecondary:(0,t.EV)(h.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:(0,t.EV)(h.fontColorTotals),backColor:(0,t.EV)(h.backColorTotals),applyToHeaders:(0,u.O7)(!1)}}]}:{}}function i(){return{sectionTitle:(0,e.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,e.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:C.Hq,presets:{[C.Hq]:{name:C.Hq,displayName:(0,e.V)("None"),evaluate:o=>y(C.Hq,o)},[C.iU]:{name:C.iU,displayName:(0,e.V)("Visual_Table_StylePreset_Minimal"),evaluate:o=>y(C.iU,o)},[C.xO]:{name:C.xO,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:o=>y(C.xO,o)},[C.Au]:{name:C.Au,displayName:(0,e.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:o=>y(C.Au,o)},[C.iq]:{name:C.iq,displayName:(0,e.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:o=>y(C.iq,o)},[C.rO]:{name:C.rO,displayName:(0,e.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:o=>y(C.rO,o)},[C.b6]:{name:C.b6,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:o=>y(C.b6,o)},[C.rJ]:{name:C.rJ,displayName:(0,e.V)("Visual_Table_StylePreset_Sparse"),evaluate:o=>y(C.rJ,o)},[C.TJ]:{name:C.TJ,displayName:(0,e.V)("Visual_Table_StylePreset_Condensed"),evaluate:o=>y(C.TJ,o)}}}}},719553:function(Ce,k,r){r.d(k,{F:function(){return i}});var a=r(737466),e=r(438043),u=r(528836),t=r(180084),C=r(16431);function y(o,c,h){var d=(0,C.eG)(o,c);if(!d)return{};var n=[{properties:{fontColor:(0,t.EV)(d.fontColorSubtotalsRow),backColor:(0,t.EV)(d.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}];return{grid:[{properties:{outline:void 0,outlineColor:(0,t.EV)(d.outlineColor),outlineWeight:(0,u.cA)(a.b$.valueOrDefault(d.outlineWeight,C.TK)),gridVertical:(0,u.O7)(d.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.EV)(d.gridColor),gridVerticalWeight:(0,u.cA)(a.b$.valueOrDefault(d.gridVerticalWeight,C.FT)),gridHorizontal:(0,u.O7)(d.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.EV)(d.gridColor),gridHorizontalWeight:(0,u.cA)(a.b$.valueOrDefault(d.gridHorizontalWeight,C.cr)),rowPadding:(0,u.cA)(d.rowPadding)}}],columnHeaders:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(d.outlineModeColumnHeaders,C.WI)),outlineStyle:(0,u.cA)(a.b$.valueOrDefault(d.outlineModeColumnHeaders,C.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(d.fontColorHeaders),backColor:(0,t.EV)(d.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(d.outlineModeRowHeaders,C.bW)),outlineStyle:(0,u.cA)(a.b$.valueOrDefault(d.outlineModeRowHeaders,C.Z0)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(d.fontColorHeaders),backColor:(0,t.EV)(d.backColorHeaders),applyAlternation:(0,u.O7)(!0)}}],values:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(d.outlineModeValues,C.F)),outlineStyle:(0,u.cA)(a.b$.valueOrDefault(d.outlineModeValues,C.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.EV)(d.fontColorValues1),backColorPrimary:(0,t.EV)(d.backColorValues1),fontColorSecondary:(0,t.EV)(d.fontColorValues2),backColorSecondary:(0,t.EV)(d.backColorValues2)}}],subTotals:n,total:[{properties:{fontColor:(0,t.EV)(d.fontColorTotals),backColor:(0,t.EV)(d.backColorTotals),applyToHeaders:(0,u.O7)(!1)}}],rowTotal:[{properties:{fontColor:(0,t.EV)(d.fontColorTotals),backColor:(0,t.EV)(d.backColorTotals),applyToHeaders:(0,u.O7)(!1)}}],columnTotal:[{properties:{fontColor:(0,t.EV)(d.fontColorTotals),backColor:(0,t.EV)(d.backColorTotals),applyToHeaders:(0,u.O7)(!1)}}]}}function i(o){return{sectionTitle:(0,e.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,e.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:C.gA,presets:{[C.gA]:{name:C.gA,displayName:(0,e.V)("Default"),evaluate:c=>y(C.gA,c)},[C.Hq]:{name:C.Hq,displayName:(0,e.V)("None"),evaluate:c=>y(C.Hq,c)},[C.iU]:{name:C.iU,displayName:(0,e.V)("Visual_Table_StylePreset_Minimal"),evaluate:c=>y(C.iU,c)},[C.xO]:{name:C.xO,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:c=>y(C.xO,c)},[C.Au]:{name:C.Au,displayName:(0,e.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:c=>y(C.Au,c),isDeprecated:!0},[C.pJ]:{name:C.pJ,displayName:(0,e.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:c=>y(C.pJ,c)},[C.iq]:{name:C.iq,displayName:(0,e.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:c=>y(C.iq,c)},[C.rO]:{name:C.rO,displayName:(0,e.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:c=>y(C.rO,c)},[C.b6]:{name:C.b6,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:c=>y(C.b6,c)},[C.rJ]:{name:C.rJ,displayName:(0,e.V)("Visual_Table_StylePreset_Sparse"),evaluate:c=>y(C.rJ,c)},[C.TJ]:{name:C.TJ,displayName:(0,e.V)("Visual_Table_StylePreset_Condensed"),evaluate:c=>y(C.TJ,c)}}}}},161265:function(Ce,k,r){r.d(k,{L:function(){return i}});var a=r(737466),e=r(438043),u=r(528836),t=r(180084),C=r(16431);function y(o,c){var h=(0,C.eG)(o,c);return h?{grid:[{properties:{outlineColor:(0,t.EV)(h.outlineColor),outlineWeight:(0,u.cA)(a.b$.valueOrDefault(h.outlineWeight,C.TK)),gridVertical:(0,u.O7)(h.gridVerticalEnabledTable),gridVerticalColor:(0,t.EV)(h.gridColor),gridVerticalWeight:(0,u.cA)(a.b$.valueOrDefault(h.gridVerticalWeight,C.FT)),gridHorizontal:(0,u.O7)(h.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.EV)(h.gridColor),gridHorizontalWeight:(0,u.cA)(a.b$.valueOrDefault(h.gridHorizontalWeight,C.cr)),rowPadding:(0,u.cA)(h.rowPadding)}}],columnHeaders:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(h.outlineModeColumnHeaders,C.dc)),fontColor:(0,t.EV)(h.fontColorHeaders),backColor:(0,t.EV)(h.backColorHeaders)}}],values:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(h.outlineModeValues,C.Wy)),fontColorPrimary:(0,t.EV)(h.fontColorValues1),backColorPrimary:(0,t.EV)(h.backColorValues1),fontColorSecondary:(0,t.EV)(h.fontColorValues2),backColorSecondary:(0,t.EV)(h.backColorValues2)}}],total:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(h.outlineModeTotals,C.jF)),fontColor:(0,t.EV)(h.fontColorTotals),backColor:(0,t.EV)(h.backColorTotals)}}]}:{}}function i(){return{sectionTitle:(0,e.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,e.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:C.Hq,presets:{[C.Hq]:{name:C.Hq,displayName:(0,e.V)("None"),evaluate:o=>y(C.Hq,o)},[C.iU]:{name:C.iU,displayName:(0,e.V)("Visual_Table_StylePreset_Minimal"),evaluate:o=>y(C.iU,o)},[C.xO]:{name:C.xO,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:o=>y(C.xO,o)},[C.Au]:{name:C.Au,displayName:(0,e.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:o=>y(C.Au,o)},[C.iq]:{name:C.iq,displayName:(0,e.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:o=>y(C.iq,o)},[C.rO]:{name:C.rO,displayName:(0,e.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:o=>y(C.rO,o)},[C.b6]:{name:C.b6,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:o=>y(C.b6,o)},[C.rJ]:{name:C.rJ,displayName:(0,e.V)("Visual_Table_StylePreset_Sparse"),evaluate:o=>y(C.rJ,o)},[C.TJ]:{name:C.TJ,displayName:(0,e.V)("Visual_Table_StylePreset_Condensed"),evaluate:o=>y(C.TJ,o)}}}}},977799:function(Ce,k,r){r.d(k,{w:function(){return i}});var a=r(737466),e=r(438043),u=r(528836),t=r(180084),C=r(16431);function y(o,c,h){var d=(0,C.eG)(o,c);return d?{grid:[{properties:{outline:void 0,outlineColor:(0,t.EV)(d.outlineColor),outlineWeight:(0,u.cA)(a.b$.valueOrDefault(d.outlineWeight,C.TK)),gridVertical:(0,u.O7)(d.gridVerticalEnabledTable),gridVerticalColor:(0,t.EV)(d.gridColor),gridVerticalWeight:(0,u.cA)(a.b$.valueOrDefault(d.gridVerticalWeight,C.FT)),gridHorizontal:(0,u.O7)(d.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.EV)(d.gridColor),gridHorizontalWeight:(0,u.cA)(a.b$.valueOrDefault(d.gridHorizontalWeight,C.cr)),rowPadding:(0,u.cA)(d.rowPadding)}}],columnHeaders:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(d.outlineModeColumnHeaders,C.WI)),outlineStyle:(0,u.cA)(a.b$.valueOrDefault(d.outlineModeColumnHeaders,C.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(d.fontColorHeaders),backColor:(0,t.EV)(d.backColorHeaders)}}],values:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(d.outlineModeValues,C.F)),outlineStyle:(0,u.cA)(a.b$.valueOrDefault(d.outlineModeValues,C.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.EV)(d.fontColorValues1),backColorPrimary:(0,t.EV)(d.backColorValues1),fontColorSecondary:(0,t.EV)(d.fontColorValues2),backColorSecondary:(0,t.EV)(d.backColorValues2)}}],total:[{properties:{outline:(0,u.fL)(a.b$.valueOrDefault(d.outlineModeTotals,C.fd)),outlineStyle:(0,u.cA)(a.b$.valueOrDefault(d.outlineModeTotals,C.EH)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.EV)(d.fontColorTotals),backColor:(0,t.EV)(d.backColorTotals)}}]}:{}}function i(o){return{sectionTitle:(0,e.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,e.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:C.gA,presets:{[C.gA]:{name:C.gA,displayName:(0,e.V)("Default"),evaluate:c=>y(C.gA,c)},[C.Hq]:{name:C.Hq,displayName:(0,e.V)("None"),evaluate:c=>y(C.Hq,c)},[C.iU]:{name:C.iU,displayName:(0,e.V)("Visual_Table_StylePreset_Minimal"),evaluate:c=>y(C.iU,c)},[C.xO]:{name:C.xO,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:c=>y(C.xO,c)},[C.Au]:{name:C.Au,displayName:(0,e.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:c=>y(C.Au,c),isDeprecated:!0},[C.pJ]:{name:C.pJ,displayName:(0,e.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:c=>y(C.pJ,c)},[C.iq]:{name:C.iq,displayName:(0,e.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:c=>y(C.iq,c)},[C.rO]:{name:C.rO,displayName:(0,e.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:c=>y(C.rO,c)},[C.b6]:{name:C.b6,displayName:(0,e.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:c=>y(C.b6,c)},[C.rJ]:{name:C.rJ,displayName:(0,e.V)("Visual_Table_StylePreset_Sparse"),evaluate:c=>y(C.rJ,c)},[C.TJ]:{name:C.TJ,displayName:(0,e.V)("Visual_Table_StylePreset_Condensed"),evaluate:c=>y(C.TJ,c)}}}}},16431:function(Ce,k,r){r.d(k,{Au:function(){return E},EH:function(){return m},F:function(){return d},FT:function(){return i},Hq:function(){return S},TJ:function(){return I},TK:function(){return n},WI:function(){return o},Wy:function(){return b},Z0:function(){return p},b6:function(){return L},bW:function(){return c},cr:function(){return y},dc:function(){return t},eG:function(){return W},es:function(){return C},fd:function(){return h},gA:function(){return P},hW:function(){return s},iU:function(){return D},iq:function(){return x},jF:function(){return l},pJ:function(){return w},rJ:function(){return B},rO:function(){return N},xO:function(){return M},yh:function(){return V}});var a=r(270862),e=r(939123),u=r(862873),t=u.FX.PropColumnsOutline.defaultValue,C=u.FX.PropColumnsOutlineStyle.defaultValue,y=u.FX.PropGridHorizontalWeight.defaultValue,i=u.FX.PropGridVerticalWeight.defaultValue,o=u.FX.PropColumnsNewVisualOutline.defaultValue,c=u.FX.PropRowsPivotTableOutline.defaultValue,h=u.FX.PropTotalTableExOutline.defaultValue,d=u.FX.PropValuesNewVisualOutline.defaultValue,n=u.FX.PropGridOutlineWeight.defaultValue,s=u.FX.PropRowsOutline.defaultValue,p=u.FX.PropRowsOutlineStyle.defaultValue,l=u.FX.PropTotalOutline.defaultValue,m=u.FX.PropTotalOutlineStyle.defaultValue,b=u.FX.PropValuesOutline.defaultValue,V=u.FX.PropValuesOutlineStyle.defaultValue,g=0,v=3,f=6,S="None",P="Default",D="Minimal",M="BoldHeader",E="AlternatingRows",w="AlternatingRowsNew",x="ContrastAlternatingRows",N="FlashyRows",L="BoldHeaderFlashyRows",B="Sparse",I="Condensed";function W(O,F){var A=F.colorPalette.background.value,T=F.colorPalette.foreground.value,R=F.colorPalette.tableAccent.value,z=new u.FX(F);switch(O){case S:return{outlineColor:z.PropGridOutlineColor.getValue(null),gridColor:z.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:u.FX.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:u.FX.PropGridVertical.defaultValue,gridHorizontalEnabledTable:u.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:u.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:u.FX.PropGridRowPadding.defaultValue,fontColorHeaders:z.PropColumnsFontColor.getValue(null),backColorHeaders:z.PropColumnsBackColor.getValue(null),fontColorValues1:z.PropValuesFontColorPrimary.getValue(null),backColorValues1:z.PropValuesBackColorPrimary.getValue(null),fontColorValues2:z.PropValuesFontColorSecondary.getValue(null),backColorValues2:z.PropValuesBackColorSecondary.getValue(null),fontColorTotals:z.PropTotalFontColor.getValue(null),backColorTotals:z.PropTotalBackColor.getValue(null)};case P:return{outlineColor:R=F.colorPalette.tableAccent.value,gridColor:(0,a.ok)(T=F.colorPalette.foreground.value,.12,A=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:u.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:u.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:T,backColorHeaders:A,fontColorValues1:T,backColorValues1:A,fontColorValues2:T,backColorValues2:(0,a.ok)(T,.08,A),fontColorTotals:void 0,backColorTotals:void 0};case D:return{outlineColor:R,gridColor:(0,a.ok)(T,.12,A),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:v,fontColorHeaders:T,backColorHeaders:A,fontColorValues1:T,backColorValues1:A,fontColorValues2:T,backColorValues2:A,fontColorTotals:T,backColorTotals:A};case M:return{outlineColor:R=F.colorPalette.tableAccent.value,gridColor:(0,a.ok)(T=F.colorPalette.foreground.value,.12,A=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:v,backColorHeaders:T,fontColorHeaders:A,fontColorValues1:T,backColorValues1:A,fontColorValues2:T,backColorValues2:A,fontColorTotals:T,backColorTotals:A};case E:return{outlineColor:R=F.colorPalette.tableAccent.value,gridColor:(0,a.ok)(T=F.colorPalette.foreground.value,.12,A=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:v,fontColorHeaders:A,backColorHeaders:T,fontColorValues1:T,backColorValues1:A,fontColorValues2:T,backColorValues2:(0,a.ok)(T,.08,A),fontColorTotals:A,backColorTotals:T};case w:return{outlineColor:R=F.colorPalette.tableAccent.value,gridColor:(0,a.ok)(T=F.colorPalette.foreground.value,.12,A=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:v,fontColorHeaders:A,backColorHeaders:T,fontColorValues1:T,backColorValues1:A,fontColorValues2:T,backColorValues2:(0,a.ok)(T,.08,A),fontColorTotals:A,backColorTotals:T,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case x:return{outlineColor:R=F.colorPalette.tableAccent.value,gridColor:(0,a.ok)(T=F.colorPalette.foreground.value,.12,A=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:v,fontColorHeaders:A,backColorHeaders:T,fontColorValues1:A,backColorValues1:(0,a.ok)(T,.75,A),fontColorValues2:T,backColorValues2:(0,a.ok)(T,.25,A),fontColorTotals:A,backColorTotals:T};case N:return{outlineColor:T=F.colorPalette.foreground.value,gridColor:A=F.colorPalette.background.value,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:v,fontColorHeaders:T,backColorHeaders:A,fontColorValues1:T,backColorValues1:(0,a.ok)(R=F.colorPalette.tableAccent.value,.4,A),fontColorValues2:T,backColorValues2:(0,a.ok)(R,.8,A),fontColorTotals:T,backColorTotals:A};case L:return{outlineColor:A=F.colorPalette.background.value,gridColor:A,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:v,fontColorHeaders:A,backColorHeaders:T=F.colorPalette.foreground.value,fontColorValues1:T,backColorValues1:(0,a.ok)(R=F.colorPalette.tableAccent.value,.4,A),fontColorValues2:T,backColorValues2:(0,a.ok)(R,.8,A),fontColorTotals:A,backColorTotals:T};case B:return{outlineColor:R=F.colorPalette.tableAccent.value,gridColor:(0,a.ok)(T=F.colorPalette.foreground.value,.2,A=F.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:f,fontColorHeaders:A,backColorHeaders:T,fontColorValues1:T,backColorValues1:A,fontColorValues2:T,backColorValues2:A,fontColorTotals:A,backColorTotals:T};case I:return{outlineColor:R=F.colorPalette.tableAccent.value,gridColor:(0,a.ok)(T=F.colorPalette.foreground.value,.2,A=F.colorPalette.background.value),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:g,fontColorHeaders:A,backColorHeaders:T,fontColorValues1:T,backColorValues1:A,fontColorValues2:T,backColorValues2:A,fontColorTotals:A,backColorTotals:T};default:return void e.fF.assertFail("Attempt to get Tablix style elements with invalid preset name ["+O+"].")}}},668294:function(Ce,k,r){r.d(k,{W:function(){return e},i:function(){return u}});var a=r(124463),e=function(t){return t.blank="blank",t.leftArrow="leftArrow",t.rightArrow="rightArrow",t.back="back",t.reset="reset",t.information="information",t.help="help",t.qna="qna",t.insights="insights",t.bookmarks="bookmarks",t.custom="custom",t.applyAllSlicers="applyAllSlicers",t.clearAllSlicers="clearAllSlicers",t}({}),u=(0,a.i)([{value:e.blank,displayName:t=>t.get("ReportAppBar_Blank")},{value:e.leftArrow,displayName:t=>t.get("Generic_LeftArrow")},{value:e.rightArrow,displayName:t=>t.get("Generic_RightArrow")},{value:e.back,displayName:t=>t.get("Generic_Back")},{value:e.reset,displayName:t=>t.get("Reset")},{value:e.help,displayName:t=>t.get("Generic_Help")},{value:e.information,displayName:t=>t.get("ReportAppBar_InfoIcon")},{value:e.qna,displayName:t=>t.get("Generic_Qna")},{value:e.bookmarks,displayName:t=>t.get("Generic_Bookmark")},{value:e.applyAllSlicers,displayName:t=>t.get("ReportAppBar_ApplyAllSlicers")},{value:e.clearAllSlicers,displayName:t=>t.get("ReportAppBar_ClearAllSlicers")},{value:e.custom,displayName:t=>t.get("Custom")}])},641799:function(Ce,k,r){r.d(k,{D:function(){return e},d:function(){return u}});var a=r(124463),e=function(t){return t.showBoth="showBoth",t.showTitleOnly="showTitleOnly",t.showUnitOnly="showUnitOnly",t}({}),u=(0,a.i)([{value:e.showTitleOnly,displayName:t=>t.get("Visual_Axis_ShowTitleOnly")},{value:e.showUnitOnly,displayName:t=>t.get("Visual_Axis_ShowUnitOnly")},{value:e.showBoth,displayName:t=>t.get("Visual_Axis_ShowBoth")}])},632151:function(Ce,k,r){r.d(k,{F:function(){return u},w:function(){return e}});var a=r(124463),e=function(t){return t.scalar="Scalar",t.categorical="Categorical",t.both="Both",t}({}),u=(0,a.i)([{value:e.scalar,displayName:t=>t.get("Visual_Axis_Scalar")},{value:e.categorical,displayName:t=>t.get("Visual_Axis_Categorical")}])},880025:function(Ce,k,r){r.d(k,{BG:function(){return u},C9:function(){return e},cP:function(){return y},dt:function(){return o},jv:function(){return t},x7:function(){return C},yX:function(){return i}});var a=r(124463),e="rectangle",u="oval",t="line",C="arrow",y="triangle",i="arrowbutton",o=(0,a.i)([{value:e,displayName:c=>c.get("ReportAppBar_ShapeRectangle")},{value:u,displayName:c=>c.get("ReportAppBar_ShapeOval")},{value:t,displayName:c=>c.get("Visual_Shape_Line")},{value:C,displayName:c=>c.get("ReportAppBar_ShapeArrow")},{value:y,displayName:c=>c.get("ReportAppBar_ShapeTriangle")},{value:i,displayName:"arrowbutton"}])},30388:function(Ce,k,r){r.d(k,{AB:function(){return y},GT:function(){return e},IZ:function(){return o},VW:function(){return h},dt:function(){return c},fS:function(){return t},j2:function(){return u},se:function(){return C},uH:function(){return i}});var a=r(124463),e="aerial",u="canvasDark",t="canvasLight",C="grayscale",y="road",i=y,o=u,c=(0,a.i)([{value:e,displayName:d=>d.get("Visual_MapThemeAerial")},{value:u,displayName:d=>d.get("Visual_MapThemeDark")},{value:t,displayName:d=>d.get("Visual_MapThemeLight")},{value:C,displayName:d=>d.get("Visual_MapThemeGrayScale")},{value:y,displayName:d=>d.get("Visual_MapThemeRoad")}]);function h(d){return d===e||d===u}},978342:function(Ce,k,r){r.d(k,{XT:function(){return C},aA:function(){return t},dt:function(){return i},dw:function(){return y},zH:function(){return u}});var a=r(124463),e="pixels",u="meters",t=e,C=200,y=4e6,i=(0,a.i)([{value:e,displayName:o=>o.get("Generic_Pixels")},{value:u,displayName:o=>o.get("Visual_MapUnitMeters")}])},350953:function(Ce,k,r){r.d(k,{C:function(){return u},F:function(){return e}});var a=r(124463),e=function(t){return t.below="below",t.right="right",t}({}),u=(0,a.i)([{value:e.below,displayName:t=>t.get("Visual_CallOutRelative_Below")},{value:e.right,displayName:t=>t.get("Visual_CallOutRelative_Right")}])},74003:function(Ce,k,r){r.d(k,{A:function(){return e},d:function(){return u}});var a=r(124463),e=function(t){return t.BelowValue="belowValue",t.AboveValue="aboveValue",t}({}),u=(0,a.i)([{value:e.BelowValue,displayName:t=>t.get("CardVisualPositioning_BelowValue")},{value:e.AboveValue,displayName:t=>t.get("CardVisualPositioning_AboveValue")}])},558124:function(Ce,k,r){r.d(k,{Qm:function(){return u},X$:function(){return e},uv:function(){return t}});var a=r(124463),e=function(C){return C.fill="fill",C.line="line",C.fillLine="fillLine",C}({}),u=(0,a.i)([{value:e.fill,displayName:C=>C.get("Visual_Confidence_Band_Style_Fill")},{value:e.line,displayName:C=>C.get("Visual_Confidence_Band_Style_Line")},{value:"none",displayName:C=>C.get("None")}]),t=(0,a.i)([{value:e.fill,displayName:C=>C.get("Visual_Confidence_Band_Style_Fill")},{value:e.line,displayName:C=>C.get("Visual_Confidence_Band_Style_Line")},{value:e.fillLine,displayName:C=>C.get("Visual_Confidence_Band_Style_LineFill")}])},528678:function(Ce,k,r){r.d(k,{FH:function(){return t},PG:function(){return e},Vm:function(){return u}});var a=r(124463),e="custom",u="fieldName",t=(0,a.i)([{value:e,displayName:C=>C.get("Custom")},{value:u,displayName:C=>C.get("StreamingDataflow_FieldName")}])},39484:function(Ce,k,r){r.d(k,{W:function(){return e},w:function(){return u}});var a=r(124463),e=function(t){return t.Percent="Percent of total",t.Custom="Custom",t}({}),u=(0,a.i)([{value:e.Percent,displayName:t=>t.get("Visual_LabelStyle_Percent")},{value:e.Custom,displayName:t=>t.get("Custom")}])},888103:function(Ce,k,r){r.d(k,{d:function(){return e}});var e=(0,r(124463).i)([{value:0,displayName:u=>u.get("DisplayUnitSystem_EAuto_Title")},{value:1,displayName:u=>u.get("DisplayUnitSystem_E0_Title")},{value:1e3,displayName:u=>u.get("DisplayUnitSystem_E3_Title")},{value:1e6,displayName:u=>u.get("DisplayUnitSystem_E6_Title")},{value:1e9,displayName:u=>u.get("DisplayUnitSystem_E9_Title")},{value:1e12,displayName:u=>u.get("DisplayUnitSystem_E12_Title")},{value:-1,displayName:u=>u.get("Custom")}])},664122:function(Ce,k,r){r.d(k,{d7:function(){return e},dt:function(){return C},on:function(){return u}});var a=r(124463),e="auto",u="on",C=(0,a.i)([{value:e,displayName:y=>y.get("Visual_Auto")},{value:u,displayName:y=>y.get("ToggleSwitchOn")},{value:"off",displayName:y=>y.get("ToggleSwitchOff")}])},208237:function(Ce,k,r){r.d(k,{Od:function(){return u},SX:function(){return e},UX:function(){return C},dt:function(){return y},gC:function(){return t}});var a=r(124463),e="outside",u="inside",t="preferOutside",C="preferInside",y=(0,a.i)([{value:e,displayName:i=>i.get("Visual_DonutLabelPosition_Outside")},{value:u,displayName:i=>i.get("Visual_DonutLabelPosition_Inside")},{value:t,displayName:i=>i.get("Visual_DonutLabelPosition_PreferOutside")},{value:C,displayName:i=>i.get("Visual_DonutLabelPosition_PreferInside")}])},741433:function(Ce,k,r){r.d(k,{K:function(){return e},y:function(){return u}});var a=r(124463),e=function(t){return t.absolute="absolute",t.relativeNumeric="relativeNumeric",t.relativePercentage="relativePercentage",t.range="range",t}({}),u=(0,a.i)([{value:e.absolute,displayName:t=>t.get("Visual_Absolute")},{value:e.relativeNumeric,displayName:t=>t.get("Visual_RelativeNumeric")},{value:e.relativePercentage,displayName:t=>t.get("Visual_RelativePercentage")},{value:e.range,displayName:t=>t.get("Visual_Axis_Range")}])},519060:function(Ce,k,r){r.d(k,{F:function(){return u},f:function(){return e}});var a=r(124463),e=function(t){return t.fillOnly="Fill only",t.borderOnly="Border only",t}({}),u=(0,a.i)([{value:e.fillOnly,displayName:t=>t.get("Visual_FillStyle_Fill")},{value:e.borderOnly,displayName:t=>t.get("Visual_FillStyle_Border")}])},233317:function(Ce,k,r){r.d(k,{CR:function(){return t},MS:function(){return c},YK:function(){return C},aT:function(){return y},dt:function(){return d},mN:function(){return h},oN:function(){return i},r0:function(){return u},r2:function(){return o}});var a=r(124463),u=4,t=8,C=function(n){return n[n.data=2]="data",n[n.percentOfFirst=u]="percentOfFirst",n[n.percentOfPrevious=t]="percentOfPrevious",n[n.dataAndPercentOfFirst=2|u]="dataAndPercentOfFirst",n[n.dataAndPercentOfPrevious=2|t]="dataAndPercentOfPrevious",n}({}),y="Data",i="Percent of first",o="Percent of previous",c="Data, percent of first",h="Data, percent of previous",d=(0,a.i)([{value:y,displayName:n=>n.get("Visual_LabelStyle_DataValue")},{value:i,displayName:n=>n.get("Funnel_PercentOfFirst")},{value:o,displayName:n=>n.get("Funnel_PercentOfPrevious")},{value:c,displayName:n=>n.get("Visual_LabelStyle_DataAndPercentOfFirst")},{value:h,displayName:n=>n.get("Visual_LabelStyle_DataAndPercentOfPrevious")}])},946056:function(Ce,k,r){r.d(k,{ST:function(){return e},_h:function(){return V},dt:function(){return v},gA:function(){return u},xF:function(){return g}});var a=r(124463),e={v1_0:"1.0",v2_0:"2.0"},u="",t="de-de",C="en-GB",y="en-US",i="es-ES",o="fr-FR",c="it-it",n="nl-BE",s="pt-BR",l="zh-Hans",m="zh-Hant",b=[{value:u,version:e.v1_0},{value:t,version:e.v2_0},{value:C,version:e.v2_0},{value:y,version:e.v2_0},{value:i,version:e.v2_0},{value:o,version:e.v2_0},{value:c,version:e.v2_0},{value:"ja",version:e.v1_0},{value:"ko",version:e.v2_0},{value:n,version:e.v2_0},{value:s,version:e.v2_0},{value:"ru",version:e.v2_0},{value:l,version:e.v2_0},{value:m,version:e.v2_0}];function V(f){return _.findIndex(b,S=>S.value===f)>=0}function g(f,S){var P=_.find(b,D=>D.value===f);return!!P&&P.version===S}var v=(0,a.i)([{value:u,displayName:f=>f.get("Visual_Auto")},{value:t,displayName:f=>f.get("Visual_MapGeocodingCulture_DE")},{value:C,displayName:f=>f.get("Visual_MapGeocodingCulture_ENGB")},{value:y,displayName:f=>f.get("Visual_MapGeocodingCulture_ENUS")},{value:i,displayName:f=>f.get("Visual_MapGeocodingCulture_ES")},{value:o,displayName:f=>f.get("Visual_MapGeocodingCulture_FR")},{value:c,displayName:f=>f.get("Visual_MapGeocodingCulture_IT")},{value:"ja",displayName:f=>f.get("Visual_MapGeocodingCulture_JA")},{value:"ko",displayName:f=>f.get("Visual_MapGeocodingCulture_KO")},{value:n,displayName:f=>f.get("Visual_MapGeocodingCulture_NL")},{value:s,displayName:f=>f.get("Visual_MapGeocodingCulture_PT")},{value:"ru",displayName:f=>f.get("Visual_MapGeocodingCulture_RU")},{value:l,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHS")},{value:m,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHT")}])},851584:function(Ce,k,r){r.d(k,{d:function(){return u},o:function(){return e}});var a=r(124463),e=function(t){return t.inner="inner",t.innerHorizontal="innerHorizontal",t.innerVertical="innerVertical",t.all="all",t}({}),u=(0,a.i)([{value:e.all,displayName:t=>t.get("All"),icon:{glyph:"border-all"}},{value:e.inner,displayName:t=>t.get("Border_Grid_Line_Type_Inner"),icon:{glyph:"border-inside"}},{value:e.innerHorizontal,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Horizontal"),icon:{glyph:"border-inside-horizontal"}},{value:e.innerVertical,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Vertical"),icon:{glyph:"border-inside-vertical"}}])},200788:function(Ce,k,r){r.d(k,{D:function(){return e}});var a=r(124463),e=function(t){return t.left="left",t.center="center",t.right="right",t}({});(0,a.i)([{value:e.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:e.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:e.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},960346:function(Ce,k,r){r.d(k,{B2:function(){return y},F2:function(){return t},PG:function(){return e},aE:function(){return C},dt:function(){return i},t$:function(){return u}});var a=r(124463),e="custom",u="left",t="right",C="above",y="below",i=(0,a.i)([{value:e,displayName:o=>o.get("Custom")},{value:u,displayName:o=>o.get("Visual_IconPlacement_Left")},{value:t,displayName:o=>o.get("Visual_IconPlacement_Right")},{value:C,displayName:o=>o.get("Visual_IconPlacement_Above")},{value:y,displayName:o=>o.get("Visual_IconPlacement_Below")}])},134840:function(Ce,k,r){r.d(k,{C:function(){return e},H:function(){return u}});var a=r(124463),e=function(t){return t.normal="Normal",t.fit="Fit",t.fill="Fill",t}({}),u=(0,a.i)([{value:e.normal,displayName:t=>t.get("Normal")},{value:e.fit,displayName:t=>t.get("Visual_ImageScalingType_Fit")},{value:e.fill,displayName:t=>t.get("Visual_ImageScalingType_Fill")}])},937779:function(Ce,k,r){r.d(k,{_:function(){return e},j:function(){return u}});var a=r(124463),e=function(t){return t.image="image",t.imageUrl="imageUrl",t}({}),u=(0,a.i)([{value:e.image,displayName:t=>t.get("Image")},{value:e.imageUrl,displayName:t=>t.get("Image_Url")}])},298932:function(Ce,k,r){r.d(k,{Mu:function(){return e},W2:function(){return u},dt:function(){return t}});var a=r(124463),e="keyInfluencers",u="topProfiles",t=(0,a.i)([{value:e,displayName:()=>"keyInfluencers"},{value:u,displayName:()=>"topProfiles"}])},825984:function(Ce,k,r){r.d(k,{AG:function(){return e},Gf:function(){return u},dt:function(){return t}});var a=r(124463),e="absolute",u="relative",t=(0,a.i)([{value:e,displayName:C=>C.get("Visual_Absolute")},{value:u,displayName:C=>C.get("Visual_Relative")}])},911114:function(Ce,k,r){r.d(k,{Pf:function(){return u},dt:function(){return t},us:function(){return e}});var a=r(124463),e="Continuous",u="Categorical",t=(0,a.i)([{value:e,displayName:C=>C.get("Visual_Axis_Scalar")},{value:u,displayName:C=>C.get("Visual_Axis_Categorical")}])},51545:function(Ce,k,r){r.d(k,{QX:function(){return u},dt:function(){return t},ob:function(){return e}});var a=r(124463),e="impact",u="count",t=(0,a.i)([{value:e,displayName:C=>C.get("KeyDriver_SortType_Impact")},{value:u,displayName:C=>C.get("KeyDriver_SortType_Count")}])},731528:function(Ce,k,r){r.d(k,{dt:function(){return t},i1:function(){return e},pd:function(){return u}});var a=r(124463),e="High is good",u="Low is good",t=(0,a.i)([{value:e,displayName:C=>C.get("Visual_KPI_DistanceDirection_Positive")},{value:u,displayName:C=>C.get("Visual_KPI_DistanceDirection_Negative")}])},422910:function(Ce,k,r){r.d(k,{Hk:function(){return t},S3:function(){return e},aQ:function(){return u},dt:function(){return C}});var a=r(124463),e="Value",u="Percent",t="Value, percent",C=(0,a.i)([{value:e,displayName:y=>y.get("Visual_LabelText_Value")},{value:u,displayName:y=>y.get("ConditionalFormattingDialog_Percent")},{value:t,displayName:y=>y.get("Visual_LabelStyle_Both")}])},23472:function(Ce,k,r){r.d(k,{dt:function(){return t},i1:function(){return e},pd:function(){return u}});var a=r(124463),e="Positive",u="Negative",t=(0,a.i)([{value:e,displayName:C=>C.get("Visual_KPI_Direction_Positive")},{value:u,displayName:C=>C.get("Visual_KPI_Direction_Negative")}])},582145:function(Ce,k,r){r.d(k,{b:function(){return u},g:function(){return e}});var a=r(124463),e=function(t){return t.rows="rows",t.columns="columns",t}({}),u=(0,a.i)([{value:e.rows,displayName:t=>t.get("Small_Multiples_Layout_Rows")},{value:e.columns,displayName:t=>t.get("Small_Multiples_Layout_Columns")}])},709529:function(Ce,k,r){r.d(k,{c:function(){return u},v:function(){return e}});var a=r(124463),e=function(t){return t.MultiLine="MultiLine",t.SingleLine="SingleLine",t}({}),u=(0,a.i)([{value:e.MultiLine,displayName:t=>t.get("Visual_LabelContentLayout_MultiLine")},{value:e.SingleLine,displayName:t=>t.get("Visual_LabelContentLayout_SingleLine")}])},577675:function(Ce,k,r){r.d(k,{L:function(){return e},e:function(){return u}});var a=r(124463),e=function(t){return t.sentence="sentence",t.tabular="tabular",t}({}),u=(0,a.i)([{value:e.sentence,displayName:t=>t.get("Visual_LabelLayout_Sentence")},{value:e.tabular,displayName:t=>t.get("Visual_Tabular")}])},755194:function(Ce,k,r){r.d(k,{B:function(){return e},S:function(){return u}});var a=r(124463),e=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),u=(0,a.i)([{value:e.Vertical,displayName:t=>t.get("Visual_LabelOrientation_Vertical")},{value:e.Horizontal,displayName:t=>t.get("Visual_LabelOrientation_Horizontal")}])},158799:function(Ce,k,r){r.d(k,{O:function(){return u},h:function(){return e}});var a=r(124463),e=function(t){return t.auto="Auto",t.insideEnd="InsideEnd",t.insideCenter="InsideCenter",t.outsideEnd="OutsideEnd",t.insideBase="InsideBase",t.above="Above",t.under="Under",t}({}),u=(0,a.i)([{value:e.auto,displayName:t=>t.get("Visual_Auto")},{value:e.insideEnd,displayName:t=>t.get("Visual_LabelPosition_InsideEnd")},{value:e.outsideEnd,displayName:t=>t.get("Visual_LabelPosition_OutsideEnd")},{value:e.insideCenter,displayName:t=>t.get("Visual_LabelPosition_InsideCenter")},{value:e.insideBase,displayName:t=>t.get("Visual_LabelPosition_InsideBase")},{value:e.above,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Above")},{value:e.under,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Under")}])},414594:function(Ce,k,r){r.d(k,{B:function(){return u},M:function(){return e}});var a=r(124463),e=function(t){return t.left="Left",t.right="Right",t}({}),u=(0,a.i)([{value:e.left,displayName:t=>t.get("Visual_yAxis_Left")},{value:e.right,displayName:t=>t.get("Visual_yAxis_Right")}])},992840:function(Ce,k,r){r.d(k,{W3:function(){return y},YK:function(){return C},_q:function(){return n},aQ:function(){return o},aT:function(){return i},dt:function(){return s},ev:function(){return h},f3:function(){return c},mA:function(){return e},nO:function(){return u},qv:function(){return d},tG:function(){return t}});var a=r(124463),e=2,u=4,t=8,C=function(p){return p[p.category=e]="category",p[p.data=u]="data",p[p.percent=t]="percent",p[p.categoryAndData=e|u]="categoryAndData",p[p.categoryAndPercent=e|t]="categoryAndPercent",p[p.dataAndPercent=u|t]="dataAndPercent",p[p.categoryAndDataAndPercent=e|u|t]="categoryAndDataAndPercent",p}({}),y="Category",i="Data",o="Percent of total",c="Both",h="Category, percent of total",d="Data value, percent of total",n="Category, data value, percent of total",s=(0,a.i)([{value:y,displayName:p=>p.get("Visual_LabelStyle_Category")},{value:i,displayName:p=>p.get("Visual_LabelStyle_DataValue")},{value:o,displayName:p=>p.get("Visual_LabelStyle_Percent")},{value:c,displayName:p=>p.get("Visual_LabelStyle_CategoryAndData")},{value:h,displayName:p=>p.get("Visual_LabelStyle_CategoryAndPercent")},{value:d,displayName:p=>p.get("Visual_LabelStyle_DataAndPercent")},{value:n,displayName:p=>p.get("Visual_LabelStyle_CategoryAndDataAndPercent")}])},984582:function(Ce,k,r){r.d(k,{S3:function(){return e},dt:function(){return C},u2:function(){return u},u6:function(){return t}});var a=r(124463),e="Value",u="Name",t="ValueAndName",C=(0,a.i)([{value:e,displayName:y=>y.get("Visual_LabelStyle_DataValue")},{value:u,displayName:y=>y.get("Name")},{value:t,displayName:y=>y.get("Visual_LabelStyle_Both")}])},936891:function(Ce,k,r){r.d(k,{d:function(){return u},i:function(){return e}});var a=r(124463),e=function(t){return t.Cards="Cards",t.Table="Table",t}({}),u=(0,a.i)([{value:e.Cards,displayName:t=>t.get("Cards")},{value:e.Table,displayName:t=>t.get("Table_ToolTip")}])},78941:function(Ce,k,r){r.d(k,{A:function(){return u},_:function(){return e}});var a=r(124463),e=function(t){return t.markerOnly="markerOnly",t.lineAndMarker="lineAndMarker",t.lineOnly="lineOnly",t.markerCircleDefault="markerCircleDefault",t}({}),u=(0,a.i)([{value:e.markerCircleDefault,displayName:t=>t.get("MarkerCircleDefault")},{value:e.markerOnly,displayName:t=>t.get("Marker")},{value:e.lineOnly,displayName:t=>t.get("Visual_Shape_Line")},{value:e.lineAndMarker,displayName:t=>t.get("Visual_LegendLineAndMarker")}])},3230:function(Ce,k,r){r.d(k,{CX:function(){return C},FJ:function(){return u},Mz:function(){return i},PX:function(){return o},g4:function(){return y},tV:function(){return e},zw:function(){return t}});var a=r(124463),e=function(c){return c.Top="Top",c.Bottom="Bottom",c.Left="Left",c.Right="Right",c.TopCenter="TopCenter",c.BottomCenter="BottomCenter",c.LeftCenter="LeftCenter",c.RightCenter="RightCenter",c.TopRight="TopRight",c.BottomRight="BottomRight",c}({}),u=(0,a.i)([{value:e.Top,displayName:c=>c.get("Visual_LabelPosition_TopLeft")},{value:e.TopCenter,displayName:c=>c.get("Visual_LabelPosition_TopCenter")},{value:e.TopRight,displayName:c=>c.get("Visual_LabelPosition_TopRight")},{value:e.Left,displayName:c=>c.get("Visual_LegendPosition_TopLeftStacked")},{value:e.Right,displayName:c=>c.get("Visual_LegendPosition_TopRightStacked")},{value:e.LeftCenter,displayName:c=>c.get("Visual_LegendPosition_LeftCenter")},{value:e.RightCenter,displayName:c=>c.get("Visual_LegendPosition_RightCenter")},{value:e.Bottom,displayName:c=>c.get("Visual_LabelPosition_BottomLeft")},{value:e.BottomCenter,displayName:c=>c.get("Visual_LabelPosition_BottomCenter")},{value:e.BottomRight,displayName:c=>c.get("Visual_LabelPosition_BottomRight")}]),t=function(c){return c.top="Top",c.bottom="Bottom",c.left="Left",c.right="Right",c}({}),C=(0,a.i)([{value:t.left,displayName:c=>c.get("Visual_TextAlignment_Left")},{value:t.right,displayName:c=>c.get("Visual_TextAlignment_Right")},{value:t.bottom,displayName:c=>c.get("Bottom")},{value:t.top,displayName:c=>c.get("Top")}]),y=(0,a.i)([{value:t.left,displayName:c=>c.get("Visual_IconPlacement_Left")},{value:t.right,displayName:c=>c.get("Visual_IconPlacement_Right")},{value:t.bottom,displayName:c=>c.get("Visual_IconPlacement_Below")},{value:t.top,displayName:c=>c.get("Visual_IconPlacement_Above")}]),i=function(c){return c.top="Top",c.left="Left",c}({}),o=(0,a.i)([{value:i.left,displayName:c=>c.get("Visual_TextAlignment_Left")},{value:i.top,displayName:c=>c.get("Top")}])},320810:function(Ce,k,r){r.d(k,{CO:function(){return u},Fu:function(){return e},_U:function(){return y},cZ:function(){return i},oI:function(){return C},rv:function(){return t}});var a=r(124463),e=function(o){return o.linear="linear",o.step="step",o.smooth="smooth",o}({}),u=(0,a.i)([{value:e.linear,displayName:o=>o.get("Visual_Axis_Linear")},{value:e.smooth,displayName:o=>o.get("Visual_SmoothLine")},{value:e.step,displayName:o=>o.get("Visual_StepLine")}]),t=function(o){return o.center="center",o.before="before",o.after="after",o}({}),C=(0,a.i)([{value:t.before,displayName:o=>o.get("Visual_Before")},{value:t.center,displayName:o=>o.get("Visual_Gradient_MidColor")},{value:t.after,displayName:o=>o.get("Visual_After")}]),y=function(o){return o.monotoneX="monotoneX",o.cardinal="cardinal",o}({}),i=(0,a.i)([{value:y.monotoneX,displayName:o=>o.get("Visual_LineInterp_Monotone")},{value:y.cardinal,displayName:o=>o.get("Visual_LineInterp_Cardinal")}])},594412:function(Ce,k,r){r.d(k,{C:function(){return e},i:function(){return u}});var a=r(124463),e=function(t){return t.Flat="flat",t.Round="round",t}({}),u=(0,a.i)([{value:e.Flat,displayName:t=>t.get("Visual_StrokeCap_Flat")},{value:e.Round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")}])},252582:function(Ce,k,r){r.d(k,{Dl:function(){return e},Yu:function(){return u},v6:function(){return t}});var a=r(124463),e=function(C){return C.magnitude="magnitude",C.dataRange="dataRange",C.auto="auto",C.deprecated="scatterDeprecated",C}({}),u=[{value:e.magnitude,displayName:C=>C.get("Visual_MarkerRangeType_Magnitude")},{value:e.dataRange,displayName:C=>C.get("Visual_MarkerRangeType_DataRange")},{value:e.auto,displayName:C=>C.get("Visual_Auto")}],t=(0,a.i)(u)},45376:function(Ce,k,r){r.d(k,{Cd:function(){return i},Dt:function(){return o},XM:function(){return c},ZO:function(){return C},ls:function(){return h},nD:function(){return e},nK:function(){return y}});var a=r(124463),e=function(d){return d.circle="circle",d.square="square",d.diamond="diamond",d.triangle="triangle",d.droplet="droplet",d}({}),u=function(d){return d.x="x",d.shortDash="shortDash",d.longDash="longDash",d.plus="plus",d}({}),t=function(d){return d.upperErrorBar="upperErrorBar",d.lowerErrorBar="lowerErrorBar",d}({}),C={...e,...u,...t};function y(d){switch(d){case C.circle:case C.square:case C.diamond:case C.triangle:case C.droplet:return!0;default:return!1}}function i(d){return d!==C.circle}var o=[{value:C.circle,displayName:d=>d.get("Visual_MarkerShape_Circle"),label:d=>d.get("Visual_MarkerShape_Circle_Label")},{value:C.square,displayName:d=>d.get("Visual_MarkerShape_Square"),label:d=>d.get("Visual_MarkerShape_Square_Label")},{value:C.diamond,displayName:d=>d.get("Visual_MarkerShape_Diamond"),label:d=>d.get("Visual_MarkerShape_Diamond_Label")},{value:C.triangle,displayName:d=>d.get("Visual_MarkerShape_Triangle"),label:d=>d.get("Visual_MarkerShape_Triangle_Label")},{value:C.x,displayName:d=>d.get("Visual_MarkerShape_X"),label:d=>d.get("Visual_MarkerShape_X_Label")},{value:C.shortDash,displayName:d=>d.get("Visual_MarkerShape_ShortDash"),label:d=>d.get("Visual_MarkerShape_ShortDash_Label")},{value:C.longDash,displayName:d=>d.get("Visual_MarkerShape_LongDash"),label:d=>d.get("Visual_MarkerShape_LongDash_Label")},{value:C.plus,displayName:d=>d.get("Visual_MarkerShape_Plus"),label:d=>d.get("Visual_MarkerShape_Plus_Label")}],c=(0,a.i)([{value:C.circle,displayName:d=>d.get("Visual_MarkerShape_Circle"),label:d=>d.get("Visual_MarkerShape_Circle_Label")},{value:C.square,displayName:d=>d.get("Visual_MarkerShape_Square"),label:d=>d.get("Visual_MarkerShape_Square_Label")},{value:C.diamond,displayName:d=>d.get("Visual_MarkerShape_Diamond"),label:d=>d.get("Visual_MarkerShape_Diamond_Label")},{value:C.triangle,displayName:d=>d.get("Visual_MarkerShape_Triangle"),label:d=>d.get("Visual_MarkerShape_Triangle_Label")},{value:C.droplet,displayName:d=>d.get("Visual_MarkerShape_Droplet")}]),h=(0,a.i)(o)},651806:function(Ce,k,r){r.d(k,{Bz:function(){return e},SO:function(){return t},oh:function(){return u}});var a=r(124463),e=function(C){return C[C.Grid=0]="Grid",C[C.Vertical=1]="Vertical",C[C.Horizontal=2]="Horizontal",C}({}),u=(0,a.i)([{value:e.Grid,displayName:C=>C.get("Visual_Grid")},{value:e.Vertical,displayName:C=>C.get("Slicer_Orientation_Vertical")},{value:e.Horizontal,displayName:C=>C.get("Slicer_Orientation_Horizontal")}]),t=(0,a.i)([{value:e.Vertical,displayName:C=>C.get("Visual_Arrangement_Column")},{value:e.Horizontal,displayName:C=>C.get("Visual_Arrangement_Row")},{value:e.Grid,displayName:C=>C.get("Visual_Grid")}])},520628:function(Ce,k,r){r.d(k,{$m:function(){return e},BK:function(){return n},LI:function(){return y},Ob:function(){return l},RH:function(){return i},Wi:function(){return h},YP:function(){return u},b_:function(){return o},dt:function(){return m},fs:function(){return p},j0:function(){return C},mv:function(){return s},v3:function(){return c},wI:function(){return t},yo:function(){return d}});var a=r(124463),e=function(b){return b[b.Nil=0]="Nil",b[b.Top=1]="Top",b[b.Right=2]="Right",b[b.Bottom=4]="Bottom",b[b.Left=8]="Left",b}({}),u="None",t="BottomOnly",C="TopOnly",y="LeftOnly",i="RightOnly",o="TopBottom",c="LeftRight",h="Frame";function d(b){return"number"==typeof b?!!(b&e.Top):[C,o,h].some(V=>V===b)}function n(b){return"number"==typeof b?!!(b&e.Right):[i,c,h].some(V=>V===b)}function s(b){return"number"==typeof b?!!(b&e.Bottom):[t,o,h].some(V=>V===b)}function p(b){return"number"==typeof b?!!(b&e.Left):[y,c,h].some(V=>V===b)}var l=(0,a.i)([{value:e.Top,displayName:b=>b.get("Top")},{value:e.Bottom,displayName:b=>b.get("Bottom")},{value:e.Left,displayName:b=>b.get("Visual_TextAlignment_Left")},{value:e.Right,displayName:b=>b.get("Visual_TextAlignment_Right")}]),m=(0,a.i)([{value:u,displayName:b=>b.get("None")},{value:t,displayName:b=>b.get("Visual_Outline_bottom_only")},{value:C,displayName:b=>b.get("Visual_Outline_top_only")},{value:y,displayName:b=>b.get("Visual_Outline_LeftOnly")},{value:i,displayName:b=>b.get("Visual_Outline_RightOnly")},{value:o,displayName:b=>b.get("Visual_Outline_top_Bottom")},{value:c,displayName:b=>b.get("Visual_Outline_leftRight")},{value:h,displayName:b=>b.get("Visual_Outline_frame")}])},305927:function(Ce,k,r){r.d(k,{d:function(){return u},m:function(){return e}});var a=r(124463),e=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),u=(0,a.i)([{value:e.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:e.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")}])},652172:function(Ce,k,r){r.d(k,{a:function(){return e},d:function(){return u}});var a=r(124463),e=function(t){return t[t.Paginated=0]="Paginated",t[t.Scroll=1]="Scroll",t}({}),u=(0,a.i)([{value:e.Paginated,displayName:t=>t.get("Visual_Paginated")},{value:e.Scroll,displayName:t=>t.get("Visual_Scroll")}])},865586:function(Ce,k,r){r.d(k,{EY:function(){return e},Ln:function(){return t},PG:function(){return C},YP:function(){return o},cO:function(){return i},dt:function(){return c},mJ:function(){return u},uz:function(){return y}});var a=r(124463),e="Wide",u="Normal",t="Narrow",C="Custom",y=6,i=12,o=20,c=(0,a.i)([{value:e,displayName:h=>h.get("Wide")},{value:u,displayName:h=>h.get("Normal")},{value:t,displayName:h=>h.get("Narrow")},{value:C,displayName:h=>h.get("Custom")}])},337066:function(Ce,k,r){r.d(k,{e:function(){return u},t:function(){return e}});var a=r(124463),e=function(t){return t.Compact="Compact",t.Outline="Outline",t.Tabular="Tabular",t}({}),u=(0,a.i)([{value:e.Compact,displayName:t=>t.get("Visual_Compact")},{value:e.Outline,displayName:t=>t.get("Visual_Outline")},{value:e.Tabular,displayName:t=>t.get("Visual_Tabular")}])},20985:function(Ce,k,r){r.d(k,{W$:function(){return u},dt:function(){return t}});var a=r(124463),u="front",t=(0,a.i)([{value:"back",displayName:C=>C.get("Visual_Reference_Line_Behind")},{value:u,displayName:C=>C.get("Visual_Reference_Line_InFront")}])},887999:function(Ce,k,r){r.d(k,{dt:function(){return t},t$:function(){return e}});var a=r(124463),e="left",t=(0,a.i)([{value:e,displayName:C=>C.get("Visual_Reference_Line_Data_Label_Left")},{value:"right",displayName:C=>C.get("Visual_Reference_Line_Data_Label_Right")}])},878310:function(Ce,k,r){r.d(k,{aE:function(){return e},dt:function(){return t}});var a=r(124463),e="above",t=(0,a.i)([{value:e,displayName:C=>C.get("Visual_Reference_Line_Data_Label_Above")},{value:"under",displayName:C=>C.get("Visual_Reference_Line_Data_Label_Under")}])},346520:function(Ce,k,r){r.d(k,{YP:function(){return t},bb:function(){return e},dt:function(){return C}});var a=r(124463),e="before",t="none",C=(0,a.i)([{value:e,displayName:y=>y.get("Visual_Before")},{value:"after",displayName:y=>y.get("Visual_After")},{value:t,displayName:y=>y.get("None")}])},309209:function(Ce,k,r){r.d(k,{$G:function(){return p},BB:function(){return g},GA:function(){return l},J6:function(){return b},LK:function(){return y},P4:function(){return c},PN:function(){return V},YP:function(){return t},_k:function(){return m},an:function(){return o},e7:function(){return d},gQ:function(){return s},i4:function(){return i},ks:function(){return n},qQ:function(){return h}});var a=r(939123),e=r(79619),u=r(124463),t="None",C="Seconds",y="Minutes",i="Hours",o="Days",c="Weeks",h="Calendar Weeks",d="Months",n="Calendar Months",s="Years",p="Calendar Years",l=(0,u.i)([{value:t,displayName:v=>v.get("Select")},{value:o,displayName:v=>v.get("TimeUnit_Days")},{value:c,displayName:v=>v.get("TimeUnit_Weeks")},{value:h,displayName:v=>v.get("Visual_SlicerPeriod_CalWeeks")},{value:d,displayName:v=>v.get("TimeUnit_Months")},{value:n,displayName:v=>v.get("Visual_SlicerPeriod_CalMonths")},{value:s,displayName:v=>v.get("TimeUnit_Years")},{value:p,displayName:v=>v.get("Visual_SlicerPeriod_CalYears")}]),m=(0,u.i)([{value:t,displayName:v=>v.get("Select")},{value:y,displayName:v=>v.get("TimeUnit_Minutes")},{value:i,displayName:v=>v.get("TimeUnit_Hours")}]),b=(0,u.i)([{value:t,displayName:v=>v.get("Select")},{value:o,displayName:v=>v.get("TimeUnit_Day")},{value:c,displayName:v=>v.get("TimeUnit_Week")},{value:d,displayName:v=>v.get("TimeUnit_Month")},{value:s,displayName:v=>v.get("TimeUnit_Year")}]),V=(0,u.i)([{value:t,displayName:v=>v.get("Select")},{value:y,displayName:v=>v.get("TimeUnit_Minute")},{value:i,displayName:v=>v.get("TimeUnit_Hour")}]);function g(v){if(null==v)return null;switch(v){case e.hU.Second:return C;case e.hU.Minute:return y;case e.hU.Hour:return i;case e.hU.Day:return o;case e.hU.Week:return c;case e.hU.CalendarWeek:return h;case e.hU.Month:return d;case e.hU.CalendarMonth:return n;case e.hU.Year:return s;case e.hU.CalendarYear:return p;default:return void a.fF.assertNever(v)}}},475463:function(Ce,k,r){r.d(k,{BB:function(){return o},Vk:function(){return y},Z$:function(){return t},dt:function(){return i},lp:function(){return C}});var a=r(939123),e=r(79619),u=r(124463),t="Last",C="Next",y="This",i=(0,u.i)([{value:t,displayName:c=>c.get("Visual_SlicerRange_Last")},{value:C,displayName:c=>c.get("Visual_SlicerRange_Next")},{value:y,displayName:c=>c.get("Visual_SlicerRange_This")}]);function o(c){if(null==c)return null;switch(c){case e.KO.Last:return t;case e.KO.Current:return y;case e.KO.Next:return C;default:return void a.fF.assertNever(c)}}},756188:function(Ce,k,r){r.d(k,{I:function(){return u},dt:function(){return t},we:function(){return e}});var a=r(124463),e="Top",u="Bottom",t=(0,a.i)([{value:e,displayName:C=>C.get("Top")},{value:u,displayName:C=>C.get("Bottom")}])},753249:function(Ce,k,r){r.d(k,{Lu:function(){return o},S3:function(){return C},W3:function(){return e},ac:function(){return u},dt:function(){return h},hD:function(){return i},jH:function(){return t},rU:function(){return y},s6:function(){return c}});var a=r(124463),e="Category",u="Series",t="Tooltips",C="Value",y="albersUsa",i="equirectangular",o="mercator",c="orthographic",h=(0,a.i)([{value:y,displayName:d=>d.get("Visual_ShapeMap_Projection_AlbersUsa")},{value:i,displayName:d=>d.get("Visual_ShapeMap_Projection_Equirectangular")},{value:o,displayName:d=>d.get("Visual_ShapeMap_Projection_Mercator")},{value:c,displayName:d=>d.get("Visual_ShapeMap_Projection_Orthographic")}])},726452:function(Ce,k,r){r.d(k,{d:function(){return u},m:function(){return e}});var a=r(124463),e=function(t){return t.AccentBar="accentBar",t.Arrow="arrow",t.ArrowChevron="arrowChevron",t.ArrowPentagon="arrowPentagon",t.Heart="heart",t.Hexagon="hexagon",t.Line="line",t.Octagon="octagon",t.Oval="oval",t.Parallelogram="parallelogram",t.Pentagon="pentagon",t.Pill="pill",t.Rectangle="rectangle",t.RectangleRounded="rectangleRounded",t.RectangleRoundedByPixel="rectangleRoundedByPixel",t.TabCutCorner="tabCutCorner",t.TabCutTopCorners="tabCutTopCorners",t.TabCutTopCornersByPixel="tabCutTopCornersByPixel",t.TabRoundCorner="tabRoundCorner",t.TabRoundTopCorners="tabRoundTopCorners",t.Speechbubble="speechbubbleRectangle",t.Trapezoid="trapezoid",t.TriangleIsoc="triangleIsoc",t.TriangleRight="triangleRight",t}({}),u=(0,a.i)([{value:e.Arrow,displayName:t=>t.get("ReportAppBar_ShapeArrow")},{value:e.ArrowChevron,displayName:t=>t.get("Visual_Shape_ArrowChevron")},{value:e.ArrowPentagon,displayName:t=>t.get("Visual_Shape_ArrowPentagon")},{value:e.Heart,displayName:t=>t.get("Visual_Shape_Heart")},{value:e.Hexagon,displayName:t=>t.get("Visual_Shape_Hexagon")},{value:e.Line,displayName:t=>t.get("Visual_Shape_Line")},{value:e.Octagon,displayName:t=>t.get("Visual_Shape_Octagon")},{value:e.Oval,displayName:t=>t.get("ReportAppBar_ShapeOval")},{value:e.Parallelogram,displayName:t=>t.get("Visual_Shape_Parallelogram")},{value:e.Pentagon,displayName:t=>t.get("Visual_Shape_Pentagon")},{value:e.Pill,displayName:t=>t.get("Visual_Shape_Pill")},{value:e.Rectangle,displayName:t=>t.get("ReportAppBar_ShapeRectangle")},{value:e.RectangleRounded,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:e.RectangleRoundedByPixel,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:e.TabCutCorner,displayName:t=>t.get("Visual_Shape_TabCutCorner")},{value:e.TabCutTopCorners,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:e.TabCutTopCornersByPixel,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:e.TabRoundCorner,displayName:t=>t.get("Visual_Shape_TabRoundCorner")},{value:e.TabRoundTopCorners,displayName:t=>t.get("Visual_Shape_TabRoundTopCorners")},{value:e.Speechbubble,displayName:t=>t.get("Visual_Shape_SpeechBubble")},{value:e.Trapezoid,displayName:t=>t.get("Visual_Shape_Trapezoid")},{value:e.TriangleIsoc,displayName:t=>t.get("Visual_Shape_TriangleIsoc")},{value:e.TriangleRight,displayName:t=>t.get("Visual_Shape_TriangleRight")}])},588679:function(Ce,k,r){r.d(k,{H:function(){return e},d:function(){return u}});var a=r(124463),e=function(t){return t[t.Chevron=0]="Chevron",t[t.PlusMinus=1]="PlusMinus",t[t.Caret=2]="Caret",t}({}),u=(0,a.i)([{value:e.Chevron,displayName:t=>t.get("Icon_Chevron")},{value:e.PlusMinus,displayName:t=>t.get("Icon_PlusMinus")},{value:e.Caret,displayName:t=>t.get("Icon_Caret")}])},279176:function(Ce,k,r){r.d(k,{Cp:function(){return g},Ek:function(){return V},G5:function(){return b},GV:function(){return d},Ih:function(){return s},K8:function(){return c},Lw:function(){return m},RB:function(){return i},Zr:function(){return h},bb:function(){return t},dt:function(){return p},e4:function(){return C},j6:function(){return o},l6:function(){return l},nW:function(){return v},of:function(){return n},vX:function(){return y}});var a=r(939123),e=r(79619),u=r(124463),t="Before",C="After",y="Between",i="Basic",o="Dropdown",c="Relative",h="Single",d="RelativeTime",n="HorizontalList",s="VerticalList",p=(0,u.i)([{value:s,displayName:f=>f.get("Visual_SliderMode_VerticalList")},{value:n,displayName:f=>f.get("Tile_Generic")},{value:y,displayName:f=>f.get("Visual_SliderMode_Between")},{value:t,displayName:f=>f.get("Visual_Before")},{value:C,displayName:f=>f.get("Visual_After")},{value:i,displayName:f=>f.get("Visual_SliderMode_Basic")},{value:o,displayName:f=>f.get("Visual_SliderMode_Dropdown")},{value:c,displayName:f=>f.get("Visual_SliderMode_RelativeDate")},{value:h,displayName:f=>f.get("Visual_SliderMode_SingleVal")},{value:d,displayName:f=>f.get("Visual_SliderMode_RelativeTime")}]);function l(f){return f===t||f===y||f===C||f===h}function m(f){return f===t||f===y||f===C}function b(f){return f===c||f===d}function V(f){return f===i||f===o}function g(f){return!f||f===o||f===i||f===n||f===s}function v(f){switch(f){case d:return e.wj.Time;case c:return e.wj.Date;default:a.fF.assertFail(`The following slicer mode is not a relative filter: ${f}`)}}},191337:function(Ce,k,r){r.d(k,{d:function(){return u},i:function(){return e}});var a=r(124463),e=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),u=(0,a.i)([{value:e.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:e.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")}])},602679:function(Ce,k,r){r.d(k,{h:function(){return u},r:function(){return e}});var a=r(124463),e=function(t){return t.auto="auto",t.custom="custom",t}({}),u=(0,a.i)([{value:e.auto,displayName:t=>t.get("Visual_Auto")},{value:e.custom,displayName:t=>t.get("Custom")}])},502968:function(Ce,k,r){r.d(k,{O:function(){return u},U:function(){return e}});var a=r(124463),e=function(t){return t.line="line",t.column="column",t}({}),u=(0,a.i)([{value:e.line,displayName:t=>t.get("Visual_Shape_Line")},{value:e.column,displayName:t=>t.get("Column")}])},824213:function(Ce,k,r){r.d(k,{V:function(){return e},_:function(){return u}});var a=r(124463),e=function(t){return t[t.all=1]="all",t[t.highest=2]="highest",t[t.lowest=4]="lowest",t[t.first=8]="first",t[t.last=16]="last",t[t.negative=32]="negative",t[t.isolated=128]="isolated",t}({}),u=(0,a.i)([{value:e.all,displayName:t=>t.get("Sparkline_Formatting_MarkerType_All")},{value:e.highest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Highest")},{value:e.lowest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Lowest")},{value:e.first,displayName:t=>t.get("Sparkline_Formatting_MarkerType_First")},{value:e.last,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Last")},{value:e.negative,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Negative")},{value:e.isolated,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Isolated")}])},547045:function(Ce,k,r){r.d(k,{Ai:function(){return t},GA:function(){return c},K2:function(){return y},R5:function(){return e},TB:function(){return u},UQ:function(){return C},dt:function(){return h},mH:function(){return o},tY:function(){return i}});var a=r(124463),e="bottomLeft",u="bottomRight",t="rightDown",C="rightUp",y="topRight",i="topLeft",o="leftUp",c="leftDown",h=(0,a.i)([{value:e,displayName:d=>d.get("Visual_LabelPosition_BottomLeft")},{value:u,displayName:d=>d.get("Visual_LabelPosition_BottomRight")},{value:t,displayName:d=>d.get("Visual_Shape_ChatPosition_RightDown")},{value:C,displayName:d=>d.get("Visual_Shape_ChatPosition_RightUp")},{value:y,displayName:d=>d.get("Visual_LabelPosition_TopRight")},{value:i,displayName:d=>d.get("Visual_LabelPosition_TopLeft")},{value:o,displayName:d=>d.get("Visual_Shape_ChatPosition_LeftUp")},{value:c,displayName:d=>d.get("Visual_Shape_ChatPosition_LeftDown")}])},375991:function(Ce,k,r){r.d(k,{Bo:function(){return i},G:function(){return y},M4:function(){return u},S$:function(){return l},S9:function(){return C},Ss:function(){return c},Wl:function(){return n},X9:function(){return s},Xl:function(){return h},dt:function(){return m},ei:function(){return d},fC:function(){return e},p8:function(){return t},r5:function(){return p},sp:function(){return o}});var a=r(124463),e="australia.states.topo",u="austria.states.topo",t="brazil.states.topo",C="canada.provinces.topo",y="france.regions.v2.topo",i="germany.states.topo",o="ireland.counties.v2.topo",c="italy.regions.topo",h="mexico.states.topo",d="netherlands.provinces.topo",n="uk.countries.topo",s="usa.states.topo",p="france.regions.topo",l="ireland.counties.topo",m=(0,a.i)([{value:e,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_AustraliaStates")},{value:u,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_AustriaStates")},{value:t,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_BrazilStates")},{value:C,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")},{value:y,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_FranceRegions")},{value:p,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")},{value:i,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_GermanyStates")},{value:o,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_IrelandCounties")},{value:l,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")},{value:c,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_ItalyRegions")},{value:h,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_MexicoStates")},{value:d,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")},{value:n,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_UkCountries")},{value:s,displayName:b=>b.get("Visual_ShapeMap_StandardMaps_UsaStates")}])},457829:function(Ce,k,r){r.d(k,{A:function(){return u},t:function(){return e}});var a=r(124463),e=function(t){return t.miter="miter",t.round="round",t.bevel="bevel",t}({}),u=(0,a.i)([{value:e.miter,displayName:t=>t.get("Visual_StrokeLineJoin_Miter")},{value:e.round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")},{value:e.bevel,displayName:t=>t.get("Visual_StrokeLineJoin_Bevel")}])},673552:function(Ce,k,r){r.d(k,{Dd:function(){return o},Dv:function(){return u},YU:function(){return c},kY:function(){return e},qH:function(){return i},sb:function(){return y},xm:function(){return h},yV:function(){return C}});var a=r(124463),e=function(d){return d.dashed="dashed",d.solid="solid",d.dotted="dotted",d}({}),u=function(d){return d.dashed="dashed",d.solid="solid",d.dotted="dotted",d.custom="custom",d}({}),t={[u.solid]:"Visual_LineStyle_Solid",[u.dashed]:"Visual_LineStyle_Dashed",[u.dotted]:"Visual_LineStyle_Dotted",[u.custom]:"Custom"},C=(0,a.i)([{value:e.solid,displayName:d=>d.get(t.solid)},{value:e.dashed,displayName:d=>d.get(t.dashed)},{value:e.dotted,displayName:d=>d.get(t.dotted)}]),y=(0,a.i)([{value:u.solid,displayName:d=>d.get(t.solid)},{value:u.dashed,displayName:d=>d.get(t.dashed)},{value:u.dotted,displayName:d=>d.get(t.dotted)},{value:u.custom,displayName:d=>d.get(t.custom)}]),i=function(d){return d.none="none",d.round="round",d.square="square",d}({}),o=(0,a.i)([{value:i.none,displayName:d=>d.get("Visual_StrokeCap_Flat")},{value:i.round,displayName:d=>d.get("Visual_StrokeLineJoin_Round")},{value:i.square,displayName:d=>d.get("Visual_StrokeCap_Square")}]),c="5 5 0 5",h=i.round},597382:function(Ce,k,r){r.d(k,{H:function(){return e},K:function(){return u}});var a=r(124463),e=function(t){return t.auto="Auto",t.left="Left",t.center="Center",t.right="Right",t}({}),u=(0,a.i)([{value:e.auto,displayName:t=>t.get("Visual_TextAlignment_Auto")},{value:e.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:e.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:e.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},447683:function(Ce,k,r){r.d(k,{A:function(){return e},D:function(){return u}});var a=r(124463),e=function(t){return t.SeriesName="Series name",t.Custom="Custom",t}({}),u=(0,a.i)([{value:e.SeriesName,displayName:t=>t.get("Visual_Label_TitleLabelContent_SeriesName")},{value:e.Custom,displayName:t=>t.get("Custom")}])},19262:function(Ce,k,r){r.d(k,{VX:function(){return t},cm:function(){return u},cy:function(){return C}});var a=r(124463),e=r(939123),u=function(i){return i.Normal="Normal",i.Heading2="Heading2",i.Heading3="Heading3",i.Heading4="Heading4",i.Heading5="Heading5",i.Heading6="Heading6",i}({}),t=(0,a.i)([{value:u.Normal,displayName:i=>i.get("Normal")},{value:u.Heading2,displayName:i=>i.get("Heading_2")},{value:u.Heading3,displayName:i=>i.get("Heading_3")},{value:u.Heading4,displayName:i=>i.get("Heading_4")},{value:u.Heading5,displayName:i=>i.get("Heading_5")},{value:u.Heading6,displayName:i=>i.get("Heading_6")}]);function C(i){switch(i){case u.Normal:return"p";case u.Heading2:return"h2";case u.Heading3:return"h3";case u.Heading4:return"h4";case u.Heading5:return"h5";case u.Heading6:return"h6";default:return e.fF.assertNever(i),"p"}}},794766:function(Ce,k,r){r.d(k,{_:function(){return u},o:function(){return e}});var a=r(124463),e=function(t){return t.resquarify="stableSquared",t.squarify="squared",t.binary="binary",t.alternating="alternating",t.alternating2="alternating2",t}({}),u=(0,a.i)([{value:e.resquarify,displayName:"StableSquared"},{value:e.binary,displayName:"Binary"},{value:e.alternating,displayName:"Alternating"}])},155910:function(Ce,k,r){r.d(k,{Q4:function(){return e},bZ:function(){return t},cL:function(){return u}});var a=r(124463),e=function(C){return C.top="top",C.middle="middle",C.bottom="bottom",C}({}),u=function(C){return C.top="top",C.bottom="bottom",C}({}),t=(0,a.i)([{value:u.top,displayName:C=>C.get("Top")},{value:u.bottom,displayName:C=>C.get("Bottom")}])},181012:function(Ce,k,r){r.d(k,{V:function(){return e},z:function(){return a}});var a=(()=>{class u{get code(){return u.code}getMessages(C){return{message:C.get("Visual_Error_SelectionNotShownMessage"),title:C.get("Visual_Error_SelectionNotShownKey"),detail:C.get("Visual_Error_SelectionNotShownValue")}}}return u.code="OnRestoreSelectionNotSupportedWarning",u})();class e{constructor(t,C,y){this.titleKey=C,this.detailKey=y,this._code=t}get code(){return this._code}getMessages(t){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}}}},8072:function(Ce,k,r){r.d(k,{Aa4:function(){return ri},BQZ:function(){return ti},BzC:function(){return Ea},FPM:function(){return Ya},Fjb:function(){return Pe},GHz:function(){return ha},Go5:function(){return za},HnK:function(){return Ca},Iqw:function(){return Da},KFx:function(){return Ra},LtN:function(){return ai},MSF:function(){return qa},NKh:function(){return Ta},NSv:function(){return la},P32:function(){return xa},Rm8:function(){return Ze},Trq:function(){return ga},WDM:function(){return Sa},_gT:function(){return Ve},dzr:function(){return Na},eqJ:function(){return ei},fm1:function(){return l},gvl:function(){return Xa},j$j:function(){return ni},jbo:function(){return Ka},k4V:function(){return oa},oiJ:function(){return ui},pn4:function(){return Pa},rbA:function(){return va},rte:function(){return si},ueG:function(){return Ma},vXN:function(){return Aa},voY:function(){return ii},xMU:function(){return de},xaj:function(){return li},yGN:function(){return yi},ySc:function(){return Ia}});var l="me",de="Report",Pe="Dashboard",Ve="NavModel",Ze="3621b8c8-250a-4f7f-82f0-0aa5064e7c02",Ca="; ",ha="browserLanguage",Ta="PowerBIUserQuotaExceeded",Ea="PowerBIGroupQuotaExceeded",Na=5,oa=260,xa="OverwriteNonLocalPackageWithLocalFileError",la="InformationProtectionInsufficientUsageRights",Aa="ReportWithDisplayNameForTheModelExists",Da="MoreThanOneDuplicateReportFoundError",Ia="ReplaceOriginalReportForPowerBICompanionNotSupported",va="PowerBIModelNotFoundException",Ra="MipClientNoPolicy",Pa="MipClientUnauthorizedUser",Sa="MissingMandatorySensitivityLabelException",Ma="ModelDiagramLayoutSizeTooBig",Xa={type:4,name:"updateUrlAndAcquireApp"},za="dismissed",ga="clicked",Ya=9e6,qa=216e5,ei="https://go.microsoft.com/fwlink/?linkid=844603",ti="pbi-glyph-my-apps",ri="pbi-glyph-gauge",yi="pbi-glyph-barchart",ai="pbi-glyph-rdl-report",ii="pbi-glyph-database",ni="pbi-glyph-collections",si="pbi-glyph-rocket",Ka="pbi-glyph-trophy2",li=200,ui={InformationProtectionPublishingProtectedPbixFromCloudNotSupported:{errorMessage:"EimInformationProtection_PublishingProtectedPbixIsNotSupportedFromCloud_Message",buttonText:"PBI_Button_Label_Close"},InformationProtectionInsufficientUsageRights:{errorMessage:"UploadLocalFile_InformationProtectionInsufficientUsageRightsError",buttonText:void 0},MipClientUnauthorizedUser:{errorMessage:"EimInformationProtection_UnauthorizedToThisProtectedPbix_DialogMessage",buttonText:void 0}}},279777:function(Ce,k,r){function a(u,t,C){t.emailValidationError=t.emailValidationWarning="",t.showSecurityGroupUpgradeAccount=!1;var y=u.promiseFactory.defer();return u.domainHelperService.getVerifiedDomains().then(i=>{var o={},c={},h=null,d="",n=0,s=0,p=u.licenseEnforcementService.supportsGroups();if(t&&t.emailsList){var l=t.emailsList.inputUserList,m=C.maxNumberOfEmailsAllowedAtATime;m>0&&l.length>m&&(t.emailValidationError=u.localizationService.format("MaxOneTimeEmailCountReached",[m]),h=2,d=`User entered ${l.length} email addresses`);var b=!1;for(var V of l){if(V.userPrincipalName){var v=V.userPrincipalName.split("@")[1].toLowerCase();i.verifiedDomains[v.toUpperCase()]||(o[v]=v,n++),i.blockedDomains[v.toUpperCase()]&&(c[v]=v,s++)}V.isSecurityGroup&&!p&&(b=!0)}var f="",S=0;for(var P in o)S++,f+=P+", ";var D="",M=0;for(var E in c)M++,D+=E+", ";b&&(t.showSecurityGroupUpgradeAccount=!0),_.endsWith(f,", ")&&(f=f.substring(0,f.length-2)),_.endsWith(D,", ")&&(D=D.substring(0,D.length-2)),!C.disableExternalSharingValidationForEmailSubscriptions&&!u.featureSwitchService.featureSwitches.externalSharingEnabled&&S>0?(t.emailValidationError=u.localizationService.format("Sharing_ExternalSharingDisabled"),h=0,d=f):!C.disableExternalSharingValidationForEmailSubscriptions&&C.shouldBlockExternalDomains&&S>0?(t.emailValidationError=u.localizationService.format("Sharing_EmailDomainNotInTenant"),h=0,d=f):C.shouldBlockConsumerDomains&&M>0?(t.emailValidationError=u.localizationService.format("Sharing_BlockedDomains",[D]),h=1,d=D):S>0&&(t.emailValidationWarning=u.localizationService.format("Sharing_ExternalOrganization",[f]))}_.isEmpty(t.emailValidationError)?y.resolve({externalEmailCount:n,consumerEmailCount:s}):y.reject({errorReason:d,errorType:h})},i=>{y.reject(null)}),y.promise}function e(u){return new RegExp("^([!#$%&'*+/=?^{|}~\\w\\-\\.\\u00c0-\\uffff]{1,64}@[\\w\\-\\.\\u00c0-\\uffff]{1,253}\\.\\w{1,63})$").test(u)}r.d(k,{X:function(){return e},r:function(){return a}})},63724:function(Ce,k,r){r.d(k,{P:function(){return a}});class a{constructor(u){this.contract=u}}},309840:function(Ce,k,r){r.d(k,{$Z:function(){return a},AH:function(){return e},RM:function(){return y},W3:function(){return u},wt:function(){return t}});var a={name:"resetPersistentUserStateDone",type:3},e={name:"activeBookmarkChanged",type:4},u={name:"onReportSaved",type:3},t={name:"personalizeArtifact",type:4},y={name:"invitationClaimed",type:4}},760465:function(Ce,k,r){r.d(k,{$3:function(){return ye},$5:function(){return Tt},$9:function(){return V},$h:function(){return pt},AB:function(){return p},B2:function(){return O},BY:function(){return Z},Bo:function(){return n},C1:function(){return kt},CZ:function(){return ir},D2:function(){return Nt},Db:function(){return A},Ex:function(){return h},HA:function(){return qt},Hg:function(){return R},KE:function(){return be},Lt:function(){return ce},Mn:function(){return lr},Tu:function(){return he},Tv:function(){return Te},UT:function(){return Qe},Ul:function(){return E},WJ:function(){return Ut},WS:function(){return Ze},Wv:function(){return $e},XB:function(){return Ye},XJ:function(){return G},Y6:function(){return Rt},YR:function(){return ue},Ys:function(){return H},ZP:function(){return e},ZX:function(){return I},Zu:function(){return _e},_r:function(){return se},aH:function(){return xe},ag:function(){return L},bL:function(){return Re},bk:function(){return zr},bm:function(){return gr},cx:function(){return ee},e3:function(){return Xt},eP:function(){return Pr},eZ:function(){return Je},e_:function(){return K},eo:function(){return Pe},fW:function(){return Ke},gs:function(){return at},hk:function(){return o},i6:function(){return Et},lT:function(){return Qt},lY:function(){return Pt},mM:function(){return ur},mZ:function(){return Ct},mw:function(){return m},nd:function(){return je},o9:function(){return ct},ou:function(){return dr},pV:function(){return er},uT:function(){return Le},vi:function(){return Ee},wy:function(){return te},x5:function(){return Or},yE:function(){return Dt},yP:function(){return jr},yb:function(){return He},yw:function(){return rt}});var a=r(17933),e=function(br){return br.Normal="Normal",br.EmailSubscription="EmailSubscription",br.SubscribeOthers="SubscribeOthers",br.Commenting="Commenting",br.DDAlert="DDAlert",br.SmartAlerts="SmartAlerts",br.CopyVisualImage="CopyVisualImage",br.Invalid="Invalid",br}({}),u="PBI.Navigation.Toggle",C=(a.cx[u]=(0,a.b1)(u),"DashboardTileMenuAction"),i=(a.cx[C]=(0,a.b1)(C),"PBI.Dashboard.ClaimInvitation"),o=a.cx[i]=(0,a.b1)(i),c="PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",h=a.cx[c]=(0,a.b1)(c),d="PBI.Dashboard.DeleteDashboard",n=a.cx[d]=(0,a.b1)(d),s="PBI.Dashboard.DeleteTile",p=a.cx[s]=(0,a.b1)(s),l="PBI.Dashboard.TileLayoutChanged",m=a.cx[l]=(0,a.b1)(l),b="PBI.Dashboard.InFocusWorkbook",V=a.cx[b]=(0,a.b1)(b),g="PBI.Dashboard.OpenDashboard",f=(a.cx[g]=(0,a.b1)(g,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.Dashboard.LockedTilesDisplayed"),P=(a.cx[f]=(0,a.b1)(f),"PBI.Dashboard.LoadDashboardTileVisual"),M=(a.cx[P]=(0,a.b1)(P),"PBI.Dashboard.PinTile"),E=a.cx[M]=(0,a.b1)(M),w="PBI.Dashboard.InitializeContainer",N=(a.cx[w]=(0,a.b1)(w),"PBI.Dashboard.SettingGroupChanged"),L=a.cx[N]=(0,a.b1)(N),B="PBI.Dashboard.RenameDashboard",I=a.cx[B]=(0,a.b1)(B),W="PBI.Dashboard.ViewWorkbook",O=a.cx[W]=(0,a.b1)(W,{logExpAssignment:!0}),F="PBI.Dashboard.EditWorkbook",A=a.cx[F]=(0,a.b1)(F),T="PBI.Dashboard.WorkbookViewedExternallyDueToAnError",R=a.cx[T]=(0,a.b1)(T),U="PBI.Dashboard.UpdateActiveDashboard",j=(a.cx[U]=(0,a.b1)(U),"PBI.Dashboard.RefreshTileData"),H=a.cx[j]=(0,a.b1)(j),q="PBI.Dashboard.RefreshDashboardTiles",G=a.cx[q]=(0,a.b1)(q),J="PBI.Groups.SwitchGroup",Z=a.cx[J]=(0,a.b1)(J),Q="PBI.Folders.GetWorkspaceFolders",le=(a.cx[Q]=(0,a.b1)(Q),"PBI.Dashboard.ShowGettingStartedPopup"),he=a.cx[le]=(0,a.b1)(le),Se="PBI.Dashboard.WorkbookClickScheduleRefresh",Ke=a.cx[Se]=(0,a.b1)(Se),Ge="PBI.Dashboard.WorkbookClickRefreshNow",ye=a.cx[Ge]=(0,a.b1)(Ge),we="PBI.Dashboard.ClickPersonalize",je=a.cx[we]=(0,a.b1)(we,{logExpAssignment:!0}),de="PBI.Dashboard.ContentPackDirty",Pe=a.cx[de]=(0,a.b1)(de),Ve="PBI.Dashboard.FirstUse",Ze=a.cx[Ve]=(0,a.b1)(Ve),Ue="PBI.Dashboard.InFocusModeSelected",Je=a.cx[Ue]=(0,a.b1)(Ue),De="PBI.Dashboard.SaveDashboardSettings",ue=a.cx[De]=(0,a.b1)(De),_e="PBI.Dashboard.GetDashboardSettings",te=a.cx[_e]=(0,a.b1)(_e),ke="PBI.Dashboard.TestDataSourceConnection",at=a.cx[ke]=(0,a.b1)(ke),tt="PBI.Dashboard.LoadTileData",ct=(a.cx[tt]=(0,a.b1)(tt),"PBI.App.InitialAppLoad"),ae=(a.cx[ct]=(0,a.b1)(ct,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.GroupEditor.GetGroupMembers"),Le=a.cx[ae]=(0,a.b1)(ae),X="PBI.GroupEditor.UserLeaveGroup",be=a.cx[X]=(0,a.b1)(X),Ie="PBI.Quota.OpenManageStoragePage",Ye=a.cx[Ie]=(0,a.b1)(Ie),ze="PBI.Quota.StorageUsage",ee=a.cx[ze]=(0,a.b1)(ze),ve="PBI.Quota.ManageStorageDelete",Te=a.cx[ve]=(0,a.b1)(ve),Xe="PBI.Quota.Exceeded",He=a.cx[Xe]=(0,a.b1)(Xe),qe="PBI.Quota.AccessCustomizedProperties",rt=a.cx[qe]=(0,a.b1)(qe),me="PBI.Privacy.InitializeSettingsModel",Ee=a.cx[me]=(0,a.b1)(me),fe="PBI.Privacy.SaveSettingsModel",Re=a.cx[fe]=(0,a.b1)(fe),re="PBI.Settings.TakeoverDatasources",se=a.cx[re]=(0,a.b1)(re),Ae="PBI.Settings.LoadSettingsData",ce=a.cx[Ae]=(0,a.b1)(Ae),Me="PBI.QRCode.QRCodeDialogShown",$e=a.cx[Me]=(0,a.b1)(Me),st="PBI.QRCode.ShortUrlCreated",pt=a.cx[st]=(0,a.b1)(st),wt="PBI.QRCode.ShortUrlFailed",Pt=a.cx[wt]=(0,a.b1)(wt),At="PBI.QRCode.QRCodeReportDialogShown",Ut=a.cx[At]=(0,a.b1)(At),Kt="PBI.QRCode.ReportShortUrlCreated",Qt=a.cx[Kt]=(0,a.b1)(Kt),rr="PBI.Dashboard.AddWidget",Xt=a.cx[rr]=(0,a.b1)(rr),cr="PBI.DataAlerts.TileBadgeClicked",ht=(a.cx[cr]=(0,a.b1)(cr),"PBI.DataAlerts.NotificationAction"),Nt=a.cx[ht]=(0,a.b1)(ht),Lt="PBI.UsageMetrics.Http.GetPackage",Qe=a.cx[Lt]=(0,a.b1)(Lt),bt="PBI.UsageMetrics.Http.UsageReportUpgrade",Rt=a.cx[bt]=(0,a.b1)(bt),Gt="PBI.UserNotifications.LinkClicked",ir=a.cx[Gt]=(0,a.b1)(Gt,{logExpAssignment:!0}),Ht="PBI.Dashboard.RegisterAndLoadResourcePackages",_r=(a.cx[Ht]=(0,a.b1)(Ht),"PBI.Dashboard.LoadDashboard"),Ur=(a.cx[_r]=(0,a.b1)(_r),"PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles"),Pr=a.cx[Ur]=(0,a.b1)(Ur),Sr="PBI.ArtifactNotFound",Or=a.cx[Sr]=(0,a.b1)(Sr),xr="PBI.AppModel.InitializeContentProviders",zr=a.cx[xr]=(0,a.b1)(xr),pr="PBI.NPS.ShowDialog",jr=a.cx[pr]=(0,a.b1)(pr),Rr="PBI.Dashboard.LoadTileVisualTimedOut",Vt=(a.cx[Rr]=(0,a.b1)(Rr),"PBI.Dashboard.AddDashboard"),Dt=a.cx[Vt]=(0,a.b1)(Vt,{logExpAssignment:!0}),St="PBI.UsageMetrics.ViewUsageMetricsReport",Ct=a.cx[St]=(0,a.b1)(St),Bt="PBI.PersistentState.Reset",lr=a.cx[Bt]=(0,a.b1)(Bt),yr="PBI.Theming.SaveTheme",dr=a.cx[yr]=(0,a.b1)(yr),fr="PBI.Dashboard.GetResourcePackageItem",ur=a.cx[fr]=(0,a.b1)(fr),ft="PBI.Apps.GuestUserWithNoAccessError",Et=a.cx[ft]=(0,a.b1)(ft),It="PBI.Tutorial.Close",kt=a.cx[It]=(0,a.b1)(It),Jt="PBI.Landing.BindToPowerViewReport",er=a.cx[Jt]=(0,a.b1)(Jt),it="PBI.UsageMetrics.UpdateNewReportSetting",K=a.cx[it]=(0,a.b1)(it),Y="PBI.ChangeDetectionMeasure.LongPollError",xe=a.cx[Y]=(0,a.b1)(Y),yt="PBI.ChangeDetectionMeasure.GetCDMConfigError",Tt=a.cx[yt]=(0,a.b1)(yt),$t="PBI.ChangeDetectionMeasure.GetConceptualSchemaError",qt=a.cx[$t]=(0,a.b1)($t),hr="PBI.Dashboard.RealtimeModelLoad",gr=a.cx[hr]=(0,a.b1)(hr)},938363:function(Ce,k,r){r.d(k,{F:function(){return C},J:function(){return t}});var a=r(666058),e=r(547586),u=r(377714);function t(y,i=!1){if(y&&y.tiles){if(i)return{[e.CB]:y.tiles.background,[e.dj]:y.tiles.color,[e.vp]:y.tiles.opacity};var o=(0,a.cD)(y.tiles.background,y.tiles.opacity);return{[e.CB]:o,[e.dj]:y.tiles.color}}}function C(y){if(y){var o={[e.CB]:y.background,[e.dj]:y.tiles?y.tiles[e.dj]:e.G7};return(0,u.gU)(y.backgroundImage)?(o[e.Xn]=`url(${y.backgroundImage})`,o[e.k2]=e.hy):o[e.Xn]=e.zu,o}}},976205:function(Ce,k,r){r.d(k,{AF:function(){return m},AW:function(){return P},BP:function(){return y},C:function(){return C},G1:function(){return t},IQ:function(){return v},Jh:function(){return f},Jk:function(){return s},Jo:function(){return a},P_:function(){return i},VT:function(){return V},ay:function(){return p},b0:function(){return o},b7:function(){return u},c2:function(){return l},cV:function(){return c},j:function(){return g},uT:function(){return M},wn:function(){return d},x5:function(){return h},xC:function(){return e},xm:function(){return n},xp:function(){return D},zW:function(){return b}});var a="esriVisual",e="esriVisual_TEST",u="Visio_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",t="VisioDF_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",C="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A",y="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",i="PBI_CV_EB3A4088_75C5_4746_9D8B_255A7B7ECD6C",o="MapboxVisual_TEST",c="PBI_CV_0157F990_CDD5_4FEC_8488_7262B9195669",h="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A",d="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",n="vPMenu6454E8C4E1BD492A83084AB46B0C248B",s="vPMenu6454E8C4E1BD492A83084AB46B0C248B_TEST",p="SmartFilterBySQLBI1458262140626",l="_OrgStore",m="1.2.0",b=[a,e,u,t,C,y,i,c,o,h,d,n,s,p],V="Esri is not supported in Embedded scenario.",g="CV_Warning_Code",v=70,f=2e3,P="SharedResources",D=[];D[1]="RegisteredResources",D[2]=P;var M={1:!0,2:!0}},154960:function(Ce,k,r){r.d(k,{W:function(){return a},z:function(){return e}});var a={type:4,name:"reloadEmptyVisuals"},e={type:4,name:"applyPendingChanges"}},871344:function(Ce,k,r){r.d(k,{IG:function(){return u},Ut:function(){return t}});var u="ShapeMap",t=function(C){return C[C.CustomVisualJavascript=0]="CustomVisualJavascript",C[C.CustomVisualsCss=1]="CustomVisualsCss",C[C.CustomVisualScreenshot=2]="CustomVisualScreenshot",C[C.CustomVisualIcon=3]="CustomVisualIcon",C[C.CustomVisualWatermark=4]="CustomVisualWatermark",C[C.CustomVisualMetadata=5]="CustomVisualMetadata",C[C.Image=100]="Image",C[C.ShapeMap=200]="ShapeMap",C[C.CustomTheme=201]="CustomTheme",C[C.BaseTheme=202]="BaseTheme",C[C.DashboardTheme=203]="DashboardTheme",C[C.DashboardBaseTheme=204]="DashboardBaseTheme",C[C.HighContrastTheme=205]="HighContrastTheme",C[C.AppNavigation=206]="AppNavigation",C[C.AppTheme=207]="AppTheme",C[C.AppBaseTheme=208]="AppBaseTheme",C}({})},45527:function(Ce,k,r){r.d(k,{u:function(){return i}});var a=r(816219),e=r(939123),u=r(913225),t=r(2185),C=r(916669),y=r(735814);function i(c,h,d,n,s){return new o(c,h,d,n,s)}class o{constructor(h,d,n,s,p){this.approvedResourceService=d,this.telemetryService=n,this.featureSwitchService=s,this.onlyApprovedForServerRenderResources=p,this.locale=h&&h.locale,this.promiseFactory=h.promiseFactory}loadTrustedResourcePackages(h){return e.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(h){e.fF.assertValue(h,"resourcePackages");var d=[];for(var n of h)d.push(this.loadResourcePackage(n));return this.promiseFactory.all(d)}loadResourcePackage(h){e.fF.assertValue(h,"resourcePackage");var d=(n,s,p,l,m)=>{this.telemetryService.logEvent(u.d7,{visualType:h.name,fileName:n,isClientGenerated:!!m,start:p,end:l,parentId:this.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:s})};return this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(n=>this.promiseFactory.reject(n)).then(()=>{var n=[];return this.approvedResourceService.isApprovedResource(h.name)?(n.push(this.loadResourcesWithVisualApi(h,d)),this.promiseFactory.all(n)):this.promiseFactory.reject("Visual is not an approved visual")})}loadResourcePackageItem(h,d){return e.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(h){return e.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(h){e.fF.assertValue(h,"resourcePackages");var d=[];if(h)for(var n of h)d.push(this.loadVisualPlugin(n));return this.promiseFactory.all(d)}loadVisualPlugin(h){e.fF.assertValue(h,"resourcePackage");var d=this.promiseFactory.defer();return h&&h.items&&h.items.length>0?this.loadResourcePackage(h).then(()=>{var n=a.N[h.name];n?(n.iconUrl=(0,C.dA)(h.name),d.resolve(n)):d.reject("Unable to load visual plugin from resource package: "+h.name)}).catch(()=>{d.reject("failed to resolve all promises")}):d.resolve(null),d.promise}destroy(){}loadResourcesWithVisualApi(h,d){var n=this.promiseFactory.defer(),s=(new Date).toISOString(),p=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(h.name).then(l=>{var m=(new Date).toISOString();this.handleLoadResourceResponse(l.data,h),this.telemetryService.logEvent(u.EB,{visualType:h.name,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(h.name),isClientGenerated:!!h.isPublic,consumePublicCvsWithoutRps:p,start:s,end:m,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),n.resolve(null)},l=>{var m=JSON.stringify(l),b=(new Date).toISOString();d(this.approvedResourceService.customVisualJsonUrlBuilder(h.name),m,s,b,h.isPublic),n.reject(m)}),n.promise}handleLoadResourceResponse(h,d){d.items&&d.items[0]&&(d.items[0].content=JSON.stringify(h));var n=(0,y.S)(h,this.locale,2);n&&(n.isDeprecated=this.approvedResourceService.isDeprecated(d.name),n.approvedForNoIframe=this.approvedResourceService.isApprovedForNoIframe(d.name)),(0,t.L)(n);var s=a.N[n.name];s&&(n.favoriteId=s.favoriteId,n.isOutOfBox=s.isOutOfBox),a.N[n.name]=n}}},100037:function(Ce,k,r){r.d(k,{Z:function(){return c}});var a=r(913225),e=r(976205),u=r(70994),t=r(343331),C=r(534721),y=r(751164),i=r(340678),o=window;function c(d,n,s,p,l){return new h(d,n,s,p,l)}class h{constructor(n,s,p,l,m){this.featureSwitchService=n,this.httpService=s,this.options=l,this.telemetryService=m,this.trustedVisuals=e.zW,this.resourcesRetryCount=5,this.legacy="legacy",this.gradualExposureFSPrefix="customVisualsGradualExposure",this.approvedResourceJsonInProccess=!1,this.customVisualsEndpointPromise=p.getCustomVisualsEndpointAsync()}getCustomVisualPbivizJson(n){var s=this.customVisualJsonUrlBuilder(n);return this.httpService.get(s,{responseType:"json",timeout:i.JZ,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0})}getCustomVisualVersion(n){var s=this.getCompatibleVisualVersion(n);return s?s.version:null}getCustomVisualApiVersion(n){var s=this.getCompatibleApiVersion(n);return s&&s!==this.legacy?s:null}customVisualJsonUrlBuilder(n){var s=this.getCompatibleVisualVersion(n);if(s)return this.customVisualsEndpoint+"/"+n+"."+s.version+"."+s.hash+".pbiviz.json"}getVisualIdFromAssetId(n){for(var s in this.approvedVisuals)if(this.approvedVisuals[s]&&this.approvedVisuals[s].assetId===n)return s;return null}isApprovedVisualsDefined(){return!!this.approvedVisuals}isApprovedResource(n){return!!this.approvedVisuals&&!!this.approvedVisuals[n]}isApprovedResourceByAssetId(n){return!!this.approvedVisualsAssetIds&&!!this.approvedVisualsAssetIds[n]}isApprovedResourceServerRender(n){var s=this.getCompatibleVisualVersion(n);return this.isApprovedResource(n)&&!!s&&!!s.approvedForServerRender}isApprovedForNoIframe(n){if(this.onlyApprovedForServerRenderResources||(0,y.rO)())return!1;var s=this.getCompatibleVisualVersion(n);return!!s&&!!s.approvedForNoIframe}isTrustedResource(n){return!!_.find(this.trustedVisuals,s=>s===n)}addTrustedVisual(n){this.isTrustedResource(n)||this.trustedVisuals.push(n)}isDeprecated(n){var s=this.getCompatibleVisualVersion(n);return this.isApprovedResource(n)&&!!s&&(!!s.isDeprecated||s.apiVersion&&(0,C.lt)(s.apiVersion,e.AF))}usesExternalResourcesInAirGappedEnv(n){var s=this.getCompatibleVisualVersion(n);return this.featureSwitchService.featureSwitches.restrictServiceOutboundFlowsEnabled&&s&&s.usesExternalResources}canUseLocalStorage(n){if(this.onlyApprovedForServerRenderResources)return!1;var s=this.getCompatibleVisualVersion(n);return!(!s||!this.isApprovedResource(n))&&s.canUseLocalStorage}removeApprovedResource(n){this.approvedVisuals&&(this.approvedVisuals[n]=void 0)}getCdnEnvEndpointName(n){var s=(0,t.tm)()||i.un;return this.featureSwitchService.featureSwitches.appStoreCdnOverride&&(s=i.cL),n+s}loadApprovedResourcesMetadata(n,s){return this.approvedResourceJsonInProccess||(this.approvedResourceJsonRequest=n.defer(),this.approvedResourceJsonInProccess=!0,(s?"boolean"==typeof s?n.resolve(s):s:n.resolve(!1)).then(l=>{if(l&&(this.onlyApprovedForServerRenderResources=!!l),this.approvedVisuals)return this.setApprovedResources(),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonRequest.promise;var m=this.options?.isApprovedLoadingDisabled()??n.resolve(!1);n.allSettled([this.featureSwitchService.getFeatureSwitches(),m,this.customVisualsEndpointPromise]).then(b=>{this.approvedResourcesDisabled=b[1].value,this.customVisualsEndpoint=b[2].value}).finally(()=>{if(this.approvedResourcesDisabled)this.approvedResourceJsonRequest.reject("approvedResourcesDisabled is true in an unsupported environment for loading metadata");else{var b=(new Date).toISOString();this.httpService.get(this.customVisualsEndpoint+"/approvedResources.json",{responseType:"json",timeout:i.JZ,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0}).then(g=>{var v=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(a.LU,{endpoint:this.customVisualsEndpoint,allEndpointDown:!1,start:b,end:v,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),this.setApprovedResources(g.data),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonInProccess=!1},g=>{var v=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(a.LU,{endpoint:this.customVisualsEndpoint,allEndpointDown:!0,start:b,end:v,parentId:this.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:JSON.stringify(g)}),this.approvedResourceJsonRequest.reject(JSON.stringify(g)),this.approvedResourceJsonInProccess=!1})}})})),this.approvedResourceJsonRequest.promise}cdnUrlBuilder(n,s,p){var l=this.getCompatibleApiVersion(s);return l?this.getCdnEnvEndpointName(n)+"/"+l+"/"+s+p:this.getCdnEnvEndpointName(n)+"/"+s+p}getTrustedResources(){return this.trustedVisuals}hasApi(n){var s=this.getCompatibleVisualVersion(n);return!!(s&&this.approvedVisuals&&s&&s.apiVersion&&s.apiVersion!==this.legacy)}getTelemetryUsageLimit(n){var s=this.getCompatibleVisualVersion(n);return s&&this.isApprovedResource(n)&&s.telemetryUsageLimit||0}canRefreshHostData(n){var s=this.getCompatibleVisualVersion(n);return!(!s||!this.isApprovedResource(n))&&s.canRefreshHostData}canGetAADToken(n){var s=this.getCompatibleVisualVersion(n);return!(!s||this.blockedAccessToken(n))&&!!this.isApprovedResource(n)&&s.canGetAADToken}blockedAccessToken(n){if(this.options&&this.options.shouldBlockAccessToken())return this.telemetryService&&this.telemetryService.logEvent(a.eb,{visualType:n,reason:"Access Token does not exists in publishToWeb/PaasEmbed"}),!0;try{var m=JSON.parse(atob(o.powerBIAccessToken.split(".")[1])).scp;return!(m.indexOf("user_impersonation")>=0||m.indexOf("__Tokens.WAC")>=0||(this.telemetryService&&this.telemetryService.logEvent(a.eb,{visualType:n,reason:"Access Token is blocked due to insufficient scope"}),0))}catch{return!1}}canGetWACToken(n){var s=this.getCompatibleVisualVersion(n);return!(!s||this.blockedAccessToken(n))&&!!this.isApprovedResource(n)&&s.canGetWACToken}getAllApprovedForServerRenderResourcesTypes(){if(!this.approvedVisuals)return[];var n=Object.keys(this.approvedVisuals);return _.filter(n,p=>this.isApprovedResourceServerRender(p))}getPublicId(n){return this.isApprovedResource(n)&&this.approvedVisuals[n].assetId?this.approvedVisuals[n].assetId:null}isMsVisual(n){return!(!this.isApprovedResource(n)||!this.approvedVisuals[n].isMsVisual)}canManageAsyncUpdate(n){if(this.isApprovedResource(n)){var s=this.getCompatibleVisualVersion(n);if(s&&s.callsRenderingCompleted)return!0}return!1}getCompatibleApiVersion(n){var s=this;if(!this.isApprovedResource(n)||!this.approvedVisuals[n].allVersions)return null;var p=this.approvedVisuals[n].allVersions;p.sort((V,g)=>!V.apiVersion||g.apiVersion&&!(0,C.gt)(V.apiVersion,g.apiVersion)?1:-1);var m,l=function(V){if((0,u.HB)().some(g=>g.version===V.apiVersion)&&!s.shouldSkipVersion(V))return{v:V.apiVersion}};for(var b of p)if(m=l(b))return m.v;return this.legacy}shouldSkipVersion(n){return null!=n.gradualExposureFSNumber&&!this.featureSwitchService.featureSwitches[`${this.gradualExposureFSPrefix}${n.gradualExposureFSNumber}`]}getCompatibleVisualVersion(n){var s=this.getCompatibleApiVersion(n);if(s)for(var p of this.approvedVisuals[n].allVersions)if(p.apiVersion===s)return p;return null}setApprovedResources(n){if(n&&(this.approvedVisuals=n,this.approvedVisualsAssetIds=h.buildApprovedVisualsAssetIds(n)),this.onlyApprovedForServerRenderResources){var s=this.getAllApprovedForServerRenderResourcesTypes(),p=_.pick(this.approvedVisuals,s);this.approvedVisuals=p}}static buildApprovedVisualsAssetIds(n){return _.reduce(n,(p,l)=>(l.assetId&&(p[l.assetId]=!0),p),{})}}},111760:function(Ce,k,r){r.d(k,{N5:function(){return p},fQ:function(){return n}});var a=r(866109),e=r(404968),u=r(816219),t=r(939123),C=r(845856),y=r(871344),i=r(913225),o=r(527799),c=r(2185),h=r(916669),d=r(735814);function n(l,m,b){return new p(l,m,b||new s(l.promiseFactory))}class s{constructor(m){this.promiseFactory=m}get(m,b,V){return t.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}getBlob(m,b,V){return t.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}}var p=(()=>{class l{constructor(b,V,g){this.provider=V,this.sharedResourceItemProxy=g,this.promiseFactory=b&&b.promiseFactory,this.locale=b&&b.locale,this.telemetryV2Enabled=b&&b.telemetryV2Enabled}loadTrustedResourcePackages(b){return t.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(b){t.fF.assertValue(b,"resourcePackages");var V=[];for(var g of b)V.push(this.loadResourcePackage(g));return this.promiseFactory.all(V)}loadResourcePackage(b){t.fF.assertValue(b,"resourcePackage");var V=[];if(b&&b.items)for(var g of b.items)V.push(this.loadCustomVisualResourcePackageItem(g,b));return this.promiseFactory.all(V)}loadResourcePackageItem(b,V){var g=(0,o.NW)(b,V);return g?g.content?this.promiseFactory.resolve(g.content):this.loadBlob(b.id,b.name,g):(C.f.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))}loadSharedResource(b,V){return V===y.Ut.Image?this.sharedResourceItemProxy.getBlob(null,(0,o.RJ)(2),b,{retries:1}):this.sharedResourceItemProxy.get(null,(0,o.RJ)(2),b,{retries:1})}loadVisualPlugin(b){t.fF.assertValue(b,"resourcePackage");var V=this.promiseFactory.defer();return b&&b.items&&b.items.length>0?this.loadResourcePackage(b).then(()=>{var g=u.N[b.name];g?(g.iconUrl=this.getIconUrl(b),V.resolve(g)):V.reject("Unable to load visual plugin from resource package")}).catch(()=>{V.reject("failed to resolve all promises")}):V.resolve(null),V.promise}destroy(){}loadVisualPlugins(b){t.fF.assertValue(b,"resourcePackages");var V=[];if(b)for(var g of b)V.push(this.loadVisualPlugin(g));return this.promiseFactory.all(V)}getIconUrl(b){var g=$("#css-"+b.name)[0],v=_.find(document.styleSheets,P=>P.ownerNode===g);if(!v)return"";for(var f=0;f<v.cssRules.length;f++){var S=v.cssRules[f];if(S.selectorText&&S.selectorText===".visual-icon."+b.name)return S.style.backgroundImage}return""}loadCustomVisualResourcePackageItem(b,V){switch(b.type){case y.Ut.CustomVisualJavascript:return this.loadCustomVisualJS(V.id,V.name,b);case y.Ut.CustomVisualsCss:return this.loadCustomVisualCss(V.id,V.name,b);case y.Ut.CustomVisualMetadata:return this.loadCustomVisualMetadata(V.id,V.name,b)}}loadCustomVisualJS(b,V,g){var v=this.promiseFactory.defer();return g.content?((0,h.yO)(V,g.content),v.resolve(g.content)):(t.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(b,V,g.path,{retries:1}).then(f=>{(0,h.yO)(V,f),g.content=f,this.transformPlugin(V).then(()=>v.resolve(f),S=>v.reject(S))}).catch(f=>{v.reject(f)})),v.promise}transformPlugin(b){var V=u.N[b];return V?((0,c.L)(V),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+b)}loadCustomVisualCss(b,V,g){var v=this.promiseFactory.defer();return g.content?((0,h.QO)(V,g.content),v.resolve(g.content)):(t.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(b,V,g.path,{retries:1}).then(f=>{(0,h.QO)(V,f),g.content=f,v.resolve(f)}).catch(f=>{v.reject(f)})),v.promise}loadCustomVisualMetadata(b,V,g){var v=this.promiseFactory.defer();try{g.content?v.resolve(this.createPlugin(V,g.content)):this.provider.get(b,V,g.path,{retries:1}).then(f=>{g.content=f,v.resolve(this.createPlugin(V,f))}).catch(f=>{v.reject(f)})}catch(f){v.reject(f)}return v.promise}createPlugin(b,V){t.fF.assertAnyValue(V,"pbivizJsonString");var g=V;"object"!=typeof V&&(g=JSON.parse(V));var v=(0,d.S)(g,this.locale,0);(0,c.L)(v);var f=u.N[v.name];return f&&!f.custom&&(v.custom=!1),f&&(v.favoriteId=f.favoriteId,v.isOutOfBox=f.isOutOfBox),u.N[v.name]=v,v}loadBlob(b,V,g){var v=this.promiseFactory.defer(this.telemetryV2Enabled);return g.contentBlob?v.resolve(g.contentBlob):g.promise?g.promise.then(f=>v.resolve(f)):(g.promise=this.provider.getBlob(b,V,g.path,{retries:1}),g.promise.then(f=>{g.contentBlob=f,v.resolve(f)}).catch(f=>{v.reject(f)}).finally(()=>{delete g.promise})),v.promise}}return(0,a.__decorate)([(0,e.U)(i.XH),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",Object)],l.prototype,"loadResourcePackageItem",null),l})()},906853:function(Ce,k,r){function a(y,i){var o=y.capabilities,c=e(y,i)||e(y,"en-US");return o&&c&&u(o,c),y}function e(y,i){var o=C(i);return y&&y.stringResources?y.stringResources[o]:null}function u(y,i){for(var o in y)y.hasOwnProperty(o)&&("object"==typeof y[o]?u(y[o],i):"displayNameKey"===o&&y.displayName?y.displayName=t(i,y.displayNameKey)||y.displayName:"descriptionKey"===o&&y.description?y.description=t(i,y.descriptionKey)||y.description:"placeHolderTextKey"===o&&y.placeHolderText&&(y.placeHolderText=t(i,y.placeHolderTextKey)||y.placeHolderText))}function t(y,i){return y[i]}function C(y){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[y]||y||navigator.language}r.d(k,{Kd:function(){return C},qL:function(){return e},zQ:function(){return a}})},144199:function(Ce,k,r){r.d(k,{A:function(){return t}});var a=r(939123),e=r(51651),u=r(639714);function t(y,i,o,c,h,d,n,s){return new C(y,i,c,h,d,n,o,s)}class C extends u.Ls{constructor(i,o,c,h,d,n,s,p){super(i,o,c,h,d,n),this.resourcePackagesService=s,this.resourcePackageResolver=p,this.resourcePackagesService.getAllPackages()}loadResourcePackage(i){var o=this;if(a.fF.assertValue(i,"resourcePackage"),i)return this.resourcePackageResolver(i).then(c=>{var h=[];if(c&&c.items&&!c.disabled){var n,d=function(p){n=(0,e.dR)(c,p.name,o,o.promiseFactory).then(l=>{p.content=l}),h.push(n)};for(var s of c.items)d(s)}else if(!c||c.disabled)return this.resourcePackagesService.delete(i.name),null;return this.promiseFactory.all(h).then(()=>super.loadResourcePackage(c,!0))}).catch(()=>(this.resourcePackagesService.delete(i.name),null))}}},916669:function(Ce,k,r){r.d(k,{QO:function(){return u},dA:function(){return y},yO:function(){return e}});var a=r(534721);function e(c,h,d=!1,n=null){var s={major:1,minor:8,patch:0},p=document.createElement("script");p.innerHTML=d?n&&(0,a.gt)(n,s)||(0,a.eq)(n,s)?function(c){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${c};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ==="window" || key === "self"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(h):function(c){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${c};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(h):h,p.id="js-"+c,p.setAttribute("name",c),document.body.appendChild(p)}function u(c,h){var d=$("<style></style>",{html:h,id:"css-"+c});d.attr("name",c),$("head").append(d)}function y(c){var d=$("#css-"+c)[0],n=_.find(document.styleSheets,l=>l.ownerNode===d);if(n&&n.cssRules)for(var s=0;s<n.cssRules.length;s++){var p=n.cssRules[s];if(p.selectorText&&_.includes(p.selectorText,c))return p.style.backgroundImage}return""}},340678:function(Ce,k,r){r.d(k,{JZ:function(){return a},cL:function(){return t},io:function(){return e},un:function(){return u}});var a=3e4,e="dev",u="prod",t="app-store"},708620:function(Ce,k,r){r.d(k,{v:function(){return t}});var a=r(939123),e=r(976205),u=r(527799);function t(){return new C}class C{constructor(){this.resourcePackageNameIdLookupTable={},this.packages=[{id:void 0,name:e.AW,type:2,items:[]}]}getAllPackages(){return this.packages}registerPackages(i){if(a.fF.assertValue(i,"packages"),i)for(var o of i)if(o.items&&0!==o.items.length&&(3!==o.type||!o.disabled)){this.resourcePackageNameIdLookupTable[o.id]=o.name;var c=(0,u.pd)(this.packages,o.type,o.name);if(c)(0,u.In)(o)?(0,u.wq)(c,o):_.merge(c,o);else{var h=_.clone(o);h.items=_.clone(o.items),this.packages.push(h)}}}getPackage(i){return a.fF.assertValue(i,"name"),_.find(this.packages,o=>o.name===i)}delete(i){a.fF.assertValue(i,"name"),_.remove(this.packages,o=>o.name===i)}getPackageById(i){var o=this.resourcePackageNameIdLookupTable[i];return o&&this.getPackage(o)}clear(){this.packages=[],this.resourcePackageNameIdLookupTable={}}}},639714:function(Ce,k,r){r.d(k,{KG:function(){return p},Ls:function(){return S}});var a=r(73794),e=r(94567),u=r(171520),t=r(534721),C=r(816219),y=r(939123),i=r(976205),o=r(871344),c=r(51651),h=r(527799),d=r(2185),n=r(111760),s=r(735814);function p(P,D,M,E,w,x,N){return new S(P,D,M,E,w,x,N)}class S extends n.N5{constructor(D,M,E,w,x,N,L){super(D,w,null),y.fF.assertValue(D.promiseFactory,"promiseFactory"),y.fF.assertValue(M,"messageProxy"),y.fF.assertValue(E,"sandboxLoaderUri"),this.approvedResourceService=L,this.featureSwitchService=x,this.locale=D&&D.locale,this.promiseFactory=D.promiseFactory,this.frontEndUrl=N??"'self'",this.messageProxy=M,this.sandboxLoaderUri=E,this.provider=w,this.featureSwitchService.featureSwitches.cvDisableResourceLoaderIframe||this.initIFrame()}loadResourcePackage(D,M){return y.fF.assertValue((0,h.JZ)(D),"resourcePackage is for a custom visual"),this.loadVisualPlugin(D,M)}loadResourcePackages(D){y.fF.assertValue(D,"resourcePackages");var M=[];for(var E of D)M.push(this.loadResourcePackage(E));return this.promiseFactory.all(M)}loadTrustedResourcePackages(D){return y.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(D){return y.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(D,M){y.fF.assertValue(D,"resourcePackage");var E=this.promiseFactory.defer();return this.loadResourcesContent(D).then(w=>{if(w&&!_.isEmpty(w)){var x=_.keyBy(w,"type"),N=x[o.Ut.CustomVisualMetadata];if(N)try{var I=(0,u.K)(N.content),W=(0,s.S)(I,this.locale,M?1:0);(0,d.L)(W);var O=C.N[W.name];O&&(W.favoriteId=O.favoriteId,W.isOutOfBox=O.isOutOfBox),W.developerModeVisual=D.developerModeVisual,W.apiVersion&&(0,t.lt)(W.apiVersion,i.AF)&&(W.isDeprecated=!0),C.N[W.name]=W,E.resolve(W)}catch(F){E.reject(F)}else{if(!this.iframe)return y.fF.assertFail("Legacy visuals are not supported"),this.promiseFactory.reject();this.messageProxy.postMessageAsync({eventName:"loadVisualPluginWithContent",arguments:[{pluginName:D.name,mappedPluginContent:x}]}).then(F=>{var A=F,T=C.N[A.name];T&&!T.custom||(A.custom=!0,A.capabilities.objects=(0,a.vB)(A.capabilities.objects),(0,d.L)(A),this.approvedResourceService&&this.approvedResourceService.isApprovedVisualsDefined()&&(A.isDeprecated=!0),C.N[A.name]=A,E.resolve(A))}).catch(F=>{E.reject(F)})}}else E.resolve(null)}).catch(w=>{E.reject(w)}),E.promise}loadVisualPlugins(D){y.fF.assertValue(D,"resourcePackages");var M=[];if(D)for(var E of D)M.push(this.loadVisualPlugin(E));return this.promiseFactory.all(M)}destroy(){this.iframe&&(this.iframe.remove(),this.iframe=null,this.messageProxy.destroy(),this.messageProxy=null,this.contentWindow=null)}initIFrame(){var D=this.sandboxLoaderUri,M={};e.s.getQueryStringValue("unmin")&&(M.unmin="1"),this.featureSwitchService.featureSwitches.cvEnableResourceLoaderCSP&&(M.csp=btoa(`default-src ${this.frontEndUrl} 'unsafe-inline'`)),D+=e.s.rebuildQueryString(M),this.iframe=$('<iframe role="presentation" class="sandbox-resource-loader ng-hide" sandbox="allow-scripts"></iframe>').attr("src",D).one("load",()=>this.onIFrameLoad()).appendTo(document.body)}onIFrameLoad(){this.contentWindow=this.iframe[0].contentWindow,this.messageProxy.contentWindow=this.contentWindow,this.messageProxy.flushQueue()}loadResourcesContent(D){var M=[],E=D.id,w=D.name;for(var x of D.items)x.type!==o.Ut.CustomVisualIcon&&M.push(this.loadResourceContent(E,w,x,D));return this.promiseFactory.all(M)}loadResourceContent(D,M,E,w){var x=this.promiseFactory.defer();return E.content?x.resolve(this.getItemContent(E.content,E)):this.provider.get(D,M,E.path).then(N=>{N?x.resolve(this.getItemContent(N,E)):D<0?x.reject("no blob content for client generated rps"):(0,c.dR)(w,E.name,this,this.promiseFactory).then(L=>{x.resolve(this.getItemContent(L,E))})}).catch(N=>{x.reject(N)}),x.promise}getItemContent(D,M){var E=_.isString(D)?D:JSON.stringify(D);return M.content=M.type===o.Ut.CustomVisualMetadata?E:void 0,{type:M.type,content:E}}}},887669:function(Ce,k,r){r.d(k,{DQ:function(){return o},S4:function(){return c},qC:function(){return y},vB:function(){return i}});var a=r(792375),e=r(743395),u=r(939123),t=r(438043),C=r(377176);function y(m){return u.fF.assertValue(m,"instances"),0===m.length?[]:_.map(m,h)}function i(m){return u.fF.assertValue(m,"instances"),0===m.length?[]:_.map(m,d)}function o(m,b){return u.fF.assertValue(m,"containers"),_.map(m,V=>({displayName:(0,t.G)(V.displayName,b)}))}function c(m){return u.fF.assertValue(m,"containers"),_.map(m,b=>({displayName:b.displayName}))}function h(m){return{objectName:m.objectName,displayName:m.displayName,properties:n(m.properties),selector:(0,a.UZ)(m.selector),altConstantValueSelector:(0,a.UZ)(m.altConstantValueSelector),validValues:m.validValues,containerIdx:m.containerIdx,propertyInstanceKind:m.propertyInstanceKind}}function d(m){return{objectName:m.objectName,displayName:m.displayName,properties:s(m.properties),selector:(0,a.L1)(m.selector),altConstantValueSelector:(0,a.L1)(m.altConstantValueSelector),validValues:m.validValues,containerIdx:m.containerIdx,propertyInstanceKind:m.propertyInstanceKind}}function n(m){var b={};for(var V in m)b[V]=p(m[V]);return b}function s(m){var b={};for(var V in m)b[V]=l(m[V]);return b}function p(m){return m instanceof C.yl?e.ib.serializeFilter(m):void 0===m?null:m}function l(m){return m&&m.From&&m.Where?e.ib.deserializeFilter(m):m}},95940:function(Ce,k,r){r.d(k,{qC:function(){return u},vB:function(){return t}});var a=r(792375),e=r(939123);function u(i){return e.fF.assertValue(i,"repetitions"),_.isEmpty(i)?[]:_.map(i,C)}function t(i){return e.fF.assertValue(i,"repetitions"),_.isEmpty(i)?[]:_.map(i,y)}function C(i){var o={selector:(0,a.UZ)(i.selector),altStaticSelector:(0,a.UZ)(i.altStaticSelector),objects:i.objects};return void 0!==i.allowOverrideSubtotalMatching&&(o.allowOverrideSubtotalMatching=i.allowOverrideSubtotalMatching),o}function y(i){var o={selector:(0,a.L1)(i.selector),altStaticSelector:(0,a.L1)(i.altStaticSelector),objects:i.objects};return void 0!==i.allowOverrideSubtotalMatching&&(o.allowOverrideSubtotalMatching=i.allowOverrideSubtotalMatching),o}},973366:function(Ce,k,r){r.d(k,{DP:function(){return C},NO:function(){return t},_8:function(){return e},th:function(){return u}});var a=r(597627);function e(o){return{colorPalette:t(o.colorPalette),isHighContrast:o.isHighContrast,icons:o.icons}}function u(o){return{colorPalette:C(o.colorPalette),isHighContrast:o.isHighContrast,icons:o.icons}}function t(o){return{dataColors:y(o.dataColors),foreground:o.foreground,foregroundLight:o.foregroundLight,foregroundDark:o.foregroundDark,foregroundNeutralLight:o.foregroundNeutralLight,foregroundNeutralDark:o.foregroundNeutralDark,foregroundNeutralSecondary:o.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:o.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:o.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:o.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:o.foregroundNeutralTertiaryAlt,foregroundSelected:o.foregroundSelected,foregroundButton:o.foregroundButton,background:o.background,backgroundLight:o.backgroundLight,backgroundNeutral:o.backgroundNeutral,backgroundDark:o.backgroundDark,hyperlink:o.hyperlink,tableAccent:o.tableAccent,visitedHyperlink:o.visitedHyperlink,mapPushpin:o.mapPushpin,shapeStroke:o.shapeStroke,disabledText:o.disabledText,selection:o.selection,separator:o.separator}}function C(o){return{dataColors:i(o.dataColors),foreground:o.foreground,foregroundLight:o.foregroundLight,foregroundDark:o.foregroundDark,foregroundNeutralLight:o.foregroundNeutralLight,foregroundNeutralDark:o.foregroundNeutralDark,foregroundNeutralSecondary:o.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:o.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:o.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:o.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:o.foregroundNeutralTertiaryAlt,foregroundSelected:o.foregroundSelected,foregroundButton:o.foregroundButton,background:o.background,backgroundLight:o.backgroundLight,backgroundNeutral:o.backgroundNeutral,backgroundDark:o.backgroundDark,hyperlink:o.hyperlink,visitedHyperlink:o.visitedHyperlink,mapPushpin:o.mapPushpin,shapeStroke:o.shapeStroke,disabledText:o.disabledText,tableAccent:o.tableAccent,selection:o.selection,separator:o.separator}}function y(o){return{colors:o.getAllColors(),sentimentColors:o.getSentimentColors(),gradientColors:o.getGradientColors()}}function i(o){return new a.fJ(o.colors,o.sentimentColors,o.gradientColors)}},689937:function(Ce,k,r){r.d(k,{G:function(){return o},k:function(){return c}});var a=r(816219),e=r(939123),u=r(976205),t=r(871344),C=r(913225),y=r(2185),i=r(735814);function o(d,n,s,p,l,m,b){return new h(d,n,s,p,l,m,b)}var c=".pbiviz.json";class h{constructor(n,s,p,l,m,b,V){this.approvedResourceService=s,this.resourcePackagesService=p,this.featureSwitchService=l,this.telemetryService=m,this.onlyApprovedForServerRenderResources=b,this.resourceLoaderInitOptions=V,this.locale=n&&n.locale,this.promiseFactory=n.promiseFactory}loadTrustedResourcePackages(n){var s=[];if(n&&n.length>0){var p=9999;for(var l of n)if(a.N[l])s.push(this.promiseFactory.resolve([a.N[l]]));else{var m={id:p++,name:l,type:0,items:[{name:l,type:t.Ut.CustomVisualMetadata,path:l+c}]};this.resourcePackagesService.registerPackages([m]),s.push(this.loadResourcePackage(m))}}return this.promiseFactory.all(s)}loadResourcePackages(n){e.fF.assertValue(n,"resourcePackages");var s=[];for(var p of n)s.push(this.loadResourcePackage(p));return this.promiseFactory.all(s)}loadResourcePackage(n){return e.fF.assertValue(n,"resourcePackage"),this.resourceLoaderInitOptions&&!this.resourceLoaderInitOptions.getApprovedResourcesEnabled()?this.promiseFactory.all([]):this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(p=>this.promiseFactory.reject(p)).then(()=>{var p=[];if(this.onlyApprovedForServerRenderResources&&!this.approvedResourceService.isApprovedResource(n.name))return this.promiseFactory.reject("Visual is not an approved visual");if(!this.approvedResourceService.hasApi(n.name))return this.promiseFactory.reject("The trusted visual does not have a supported API version for this client");var l=this.loadCustomVisualJson(n.name,n.isPublic);return l.catch(m=>this.promiseFactory.reject(m)),p.push(l),this.promiseFactory.all(p)})}loadResourcePackageItem(n,s){return e.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(n){return e.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(n){return e.fF.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(n){return e.fF.assertFail("Not supported"),this.promiseFactory.reject()}destroy(){}loadCustomVisualJson(n,s){var p=this.promiseFactory.defer(),l=(new Date).toISOString(),m=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(n).then(b=>{var V=(new Date).toISOString();this.telemetryService.logEvent(C.EB,{visualType:n,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(n),isClientGenerated:!!s,consumePublicCvsWithoutRps:m,start:l,end:V,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});var g=this.handleLoadResourceResponse(b.data);p.resolve(g)},b=>{var V=(new Date).toISOString(),g=this.handleLoadResourceError(b,n,this.approvedResourceService.customVisualJsonUrlBuilder(n),l,V,s);p.reject(g),p.reject(b.data)}),p.promise}handleLoadResourceError(n,s,p,l,m,b){var V=JSON.stringify(n);return this.telemetryService.logEvent(C.d7,{visualType:s,fileName:p,isClientGenerated:!!b,start:l,end:m,parentId:this.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:V}),V}handleLoadResourceResponse(n){var s;try{s=(0,i.S)(n,this.locale,2)}catch{return null}s.custom=!0,s.isDeprecated=this.approvedResourceService.isDeprecated(s.name),(s.name===u.Jo||s.name===u.C||s.name===u.x5&&this.featureSwitchService.featureSwitches.powerAutomateNativeVisual)&&(s.custom=!1);var p=a.N[s.name];return p&&(s.favoriteId=p.favoriteId,s.isOutOfBox=p.isOutOfBox),(0,y.L)(s),a.N[s.name]=s,s}}},557308:function(Ce,k,r){r.d(k,{R:function(){return e}});var a=r(939123);class e{constructor(t){this.promiseFactory=t,a.fF.assertValue(t,"promiseFactory"),this.promiseFactory=t}loadResourcePackage(t){return this.promiseFactory.resolve()}loadResourcePackages(t){return this.promiseFactory.resolve()}loadTrustedResourcePackages(t){return this.promiseFactory.resolve()}loadResourcePackageItem(t,C){return this.promiseFactory.resolve()}loadSharedResource(t){return this.promiseFactory.resolve()}loadVisualPlugin(t){return this.promiseFactory.resolve(null)}loadVisualPlugins(t){return this.promiseFactory.resolve()}destroy(){}}},856995:function(Ce,k,r){r.d(k,{F:function(){return t},X:function(){return C}});var a=r(939123),e=r(976205),u=r(913225),t=function(i){return i[i.NotRequired=0]="NotRequired",i[i.Declined=1]="Declined",i[i.Approved=2]="Approved",i}({});function C(i,o){return new y(i,o)}class y{constructor(o,c){this.promiseFactory=o,this.telemetryService=c,this.cachedConsentMap={},this.visualConsentOptionsMap={}}registerVisualConsent(o,c){a.fF.assertValue(c,"VisualConsentService: registerVisualConsent was called with missing options object"),a.fF.assert(()=>!this.visualConsentOptionsMap[o],"VisualConsentService: registerVisual was already called for visual "+o),this.visualConsentOptionsMap[o]=c,this.telemetryService.logEvent(u.MU,{visualType:o,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),this.loadConsentAsync(o)}hasConsent(o){return this.cachedConsentMap[o]}setConsent(o,c){if(!this.isConsentRequiringVisual(o))return this.promiseFactory.reject("Visual type does not require consent");this.cachedConsentMap[o]=c;var h=this.visualConsentOptionsMap[o]&&this.visualConsentOptionsMap[o].consentPersistencyProvider;return this.telemetryService.logEvent(u.tH,{visualType:o,userConsent:c,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),h?h.saveConsent(c):this.promiseFactory.reject("No persistencyProvider was set for visual "+o)}getConsent(o){var c=this,h=[];o=_.uniq(o),this.telemetryService.logEvent(u.Jf,{visualTypes:o.join(", "),parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});var d=function(s){if(!c.isConsentRequiringVisual(s))return h.push(c.promiseFactory.resolve({visualType:s,consent:t.NotRequired})),1;h.push(c.loadConsentAsync(s).then(l=>l?c.promiseFactory.resolve({visualType:s,consent:t.Approved}):c.showConsentDialog(s)))};for(var n of o)d(n);return this.promiseFactory.allSettled(h).then(s=>_.map(_.filter(s,p=>0===p.type),p=>p.value))}isConsentRequiringVisual(o){return!!this.visualConsentOptionsMap[o]}loadConsentAsync(o){if(a.fF.assertValue(this.visualConsentOptionsMap[o],"VisualConsentService.getConsentAsync: Visual type is not registered for consent"),void 0!==this.cachedConsentMap[o])return this.promiseFactory.resolve(this.cachedConsentMap[o]);var c=this.visualConsentOptionsMap[o]&&this.visualConsentOptionsMap[o].consentPersistencyProvider;return c?c.loadConsent().then(h=>(this.cachedConsentMap[o]=h,this.promiseFactory.resolve(h))).catch(h=>{if(h!==e.VT)return this.promiseFactory.reject(h)}):this.promiseFactory.reject("VisualConsentService.getConsentAsync: Missing consentPersistencyProvider for visual "+o)}showConsentDialog(o){if(!this.isConsentRequiringVisual(o))return this.promiseFactory.reject("VisualConsentService.showConsentDialog: Visual type does not require consent");var c=this.visualConsentOptionsMap[o]&&this.visualConsentOptionsMap[o].consentDialogProvider;return c?c.showConsentDialog().then(h=>(this.setConsent(o,h),this.promiseFactory.resolve({visualType:o,consent:h?t.Approved:t.Declined}))).catch(h=>this.promiseFactory.reject(h)):this.promiseFactory.reject("VisualConsentService.showConsentDialog: Missing consentDialogProvider for visual "+o)}}},879085:function(Ce,k,r){function a(){return new e}r.d(k,{z:function(){return a}});class e{constructor(){this.listeners=[]}associate(t,C){for(var y of this.listeners)y.onInstanceAssociated(t,C)}subscribeToInstanceIdAssociation(t){_.includes(this.listeners,t)||this.listeners.push(t)}}},484810:function(Ce,k,r){r.d(k,{Os:function(){return o},ZM:function(){return y},wl:function(){return i}});var a=r(816219),e=r(939123),u=r(976205),t=r(913225),C=r(532969);class y{constructor(){this.visualPlugins={},this.loadedVisualPlugins={}}getLoadedPlugins(){return _.map(this.loadedVisualPlugins,h=>h)}getLoadedPlugin(h){return this.loadedVisualPlugins[h]}hasPlugin(h){return!!this.visualPlugins[h]}loadPlugin(h,d){if(d){var n=this.visualPlugins[h];(null==n||!0===n.custom||d.developerModeVisual)&&(this.visualPlugins[h]=d)}this.loadedVisualPlugins[h]=this.visualPlugins[h]}unloadPlugin(h){delete this.loadedVisualPlugins[h]}}function i(c,h,d,n,s,p){e.fF.assertValue(h,"promiseFactory"),e.fF.assertValue(n,"resourcePackage");var l=h.defer();if(n.name===u.C&&!n.isPublic)return l.resolve(null),l.promise;if(!s&&c.hasPlugin(n.name))c.loadPlugin(n.name),l.resolve(null);else if(!s&&a.N[n.name])c.loadPlugin(n.name,a.N[n.name]),l.resolve(null);else if(_.isEmpty(n.items))l.reject("Resource package does not contain any items");else{var m;e.fF.assertValue(d,"resourceLoader"),p&&(m=p.startEvent(t.F$,{resourcePackageName:n.name})),d.loadResourcePackage(n).catch(b=>{e.fF.assertFail("Custom visual "+n.name+" failed to load: "+b)}).finally(()=>{var b=a.N[n.name];b?(b.iconUrl||(b.iconUrl=(0,C.sG)(n.name)),c.loadPlugin(b.name,b),l.resolve(null),m&&m.resolve()):(l.reject("Unable to load visual plugin from resource package"),m&&m.reject())})}return l.promise}function o(c,h){for(var d of(e.fF.assertValue(c,"storage"),e.fF.assertValue(h,"plugins"),h))c.loadPlugin(d.name,d)}},532969:function(Ce,k,r){r.d(k,{i8:function(){return x},sG:function(){return L}});var a=r(821521),e=r(875757),u=r(385460),t=r(159805),C=r(277216),y=r(539781),i=r(422919),o=r(434228),c=r(285261),h=r(714330),d=r(430806),n=r(92946),s=r(969662),p=r(72294),l=r(364978),m=r(900222),b=r(918818),V=r(108632),g=r(122220),v=r(356687),f=r(903917),S=r(376784),P=r(688574),D=r(542666),M=r(450635),E=r(775888);function x(B,I,W,O){return function(B,I,W,O){var F=(0,D.ED)(B);return F.create=I,F.createES6=W,O&&O(F),F}(B,I,O,F=>function(B,I){if(I)switch(B.name){case P.D.actionButton:B.capabilities=(0,a.mx)(I);break;case P.D.scatterChart:B.capabilities=(0,p.r4)(I);break;case P.D.areaChart:B.capabilities=(0,d.yg)(!1,!0,I);break;case P.D.lineChart:B.capabilities=(0,d.yg)(!1,!1,I);break;case P.D.stackedAreaChart:case P.D.hundredPercentStackedAreaChart:B.capabilities=(0,d.yg)(!0,!0,I);break;case P.D.waterfallChart:B.capabilities=(0,S.G)(I);break;case P.D.lineStackedColumnComboChart:B.capabilities=(0,t.p)(!0,I);break;case P.D.lineClusteredColumnComboChart:B.capabilities=(0,t.p)(!1,I);break;case P.D.columnChart:case P.D.hundredPercentStackedColumnChart:B.capabilities=(0,u.nn)(!1,!0,!1,I);break;case P.D.barChart:case P.D.hundredPercentStackedBarChart:B.capabilities=(0,u.nn)(!0,!0,!1,I);break;case P.D.clusteredBarChart:B.capabilities=(0,u.nn)(!0,!1,!1,I);break;case P.D.clusteredColumnChart:B.capabilities=(0,u.nn)(!1,!1,!1,I);break;case P.D.ribbonChart:B.capabilities=(0,u.nn)(!1,!0,!0,I);break;case P.D.pivotTable:B.capabilities=(0,s.R)(I);break;case P.D.filledMap:B.capabilities=(0,i.XN)(I);break;case P.D.azureMap:B.capabilities=(0,e.$E)(I);break;case P.D.map:B.capabilities=(0,n.N)(I);break;case P.D.donutChart:case P.D.pieChart:B.capabilities=(0,y.cw)(I);break;case P.D.kpi:B.capabilities=(0,h.pW)(I);break;case P.D.funnel:B.capabilities=(0,o.qW)(I);break;case P.D.shapeMap:B.capabilities=(0,l.x)(I);break;case P.D.table:B.capabilities=(0,V.Y)(I);break;case P.D.tableEx:B.capabilities=(0,g.k)(I);break;case P.D.treemap:B.capabilities=(0,f.c)(I);break;case P.D.slicer:B.capabilities=(0,m.st)(I);break;case P.D.keyDriversVisual:B.capabilities=(0,c.yM)();break;case P.D.decompositionTreeVisual:B.capabilities=(0,C.Sd)(I);break;case P.D.advancedSlicerVisual:B.capabilities=(0,b.O)(E.y.Tile,I);break;case P.D.cardVisual:B.capabilities=(0,M.gl)(I);break;case P.D.textSlicer:B.capabilities=(0,v.Wr)(I);break;case P.D.listSlicer:B.capabilities=(0,b.O)(E.y.List,I)}}(F,W))}function L(B){var W=$("#css-"+B)[0],O=_.find(document.styleSheets,T=>T.ownerNode===W);if(O&&O.cssRules)for(var F=0;F<O.cssRules.length;F++){var A=O.cssRules[F];if(A.selectorText&&A.selectorText===".visual-icon."+B)return A.style.backgroundImage}return""}},376758:function(Ce,k,r){r.d(k,{R:function(){return e},w:function(){return u}});var a=r(816219);function e(t){return!!a.N[t]}function u(t,C,y,i,o,c,h){var d;o&&o.isRunning()&&(d=o.createChildActivity({name:"Visual Container Module Load"}));var n=()=>{var p=C.getPlugin(t);return p&&p.module?p.createES6&&!p.module.css?(d&&d.resolve(),Promise.resolve(p)):y.require({javascript:p.createES6?void 0:p.module.javascript,css:p.module.css}).then(()=>(d&&d.resolve(),p),()=>(d&&d.reject(),null)):(d&&(p?d.resolve():d.reject()),Promise.resolve(p))};if(h){var s=h.ensureCustomVisual(t);if(s)return s.then(n)}return n()}},444290:function(Ce,k,r){r.d(k,{Se:function(){return o},vh:function(){return y},vt:function(){return c},ww:function(){return i}});var a=r(238175),e=r(709302),u=r(688574),t=["play","subview","smallMultiple"],C=new a.o(()=>({[u.D.card]:!0,[u.D.gauge]:!0,[u.D.image]:!0,[u.D.kpi]:!0,[u.D.textbox]:!0}));function y(h,d){return h?!!h.custom:!_.includes(t,d)}function i(h){return h&&h.capabilities&&h.capabilities.dataViewMappings&&!!(0,e.oy)(h.capabilities.dataViewMappings)}function o(h,d){return"pythonVisual"===h||!(!d||!d.scriptVisualEnabled)}function c(h){return!!h&&!!C.getValue()[h.name]}},735814:function(Ce,k,r){r.d(k,{S:function(){return f}});var a=r(569276),e=r(939123),u=r(988206),t=r(856632),C=15,y=3e4,i=1,o=2e3;function p(S){return!!(S&&S.propertyIdentifier&&S.propertyIdentifier.objectName&&S.propertyIdentifier.propertyName)}class V{constructor(P){this.expectedContext=P,this._items=[]}get items(){return this._items}visitRole(P,D){D===this.expectedContext&&this._items.push(...P.items||[])}static fromMatrixRows(P){if(!P.rows)return[];var D=new this("MatrixRowsGroup");return(0,a.Ay)(P.rows,D),D.items}static fromMatrixColumns(P){if(!P.columns)return[];var D=new this("MatrixColumnsGroup");return(0,a.yL)(P.columns,D),D.items}}function g(S,P){var D;if(P)return S&&(D=S[P.propertyIdentifier.objectName]),(0,t.N)(D,P.propertyIdentifier.propertyName,P.defaultValue)}var v=r(906853);function f(S,P,D){e.fF.assertAnyValue(S,"pbivizjson"),e.fF.assertAnyValue(S.content,"content"),e.fF.assertAnyValue(S.content.iconBase64,"iconBase64"),S=P?(0,v.zQ)(S,P):S;var M=P?(0,v.qL)(S,P):null,E=(0,v.qL)(S,"en-US"),x={name:S.visual.guid,apiVersion:S.apiVersion,class:S.visual.visualClassName,displayName:S.visual.displayName,capabilities:S.capabilities,custom:!0,iconUrl:'url("'+S.content.iconBase64+'")',content:S.content,version:S.visual.version,create:()=>null,customizeQuery:N=>null,localizationResources:M||E?{enUSStrings:E,localizedStrings:M}:null,supportUrl:S.visual.supportUrl,source:D,publisher:S.author?S.author.name:void 0};return S.capabilities&&(S.capabilities.subtotals||S.capabilities.dataReductionCustomization)&&(x.customizeQuery=N=>function(S,P){P&&P.subtotals&&P.subtotals.matrix&&function(S){return S&&function(S){return S&&p(S.columnSubtotals)&&p(S.columnSubtotalsPerLevel)&&p(S.levelSubtotalEnabled)&&p(S.rowSubtotals)&&p(S.rowSubtotalsPerLevel)}(S.matrix)}(P.subtotals)&&function(S,P){e.fF.assert(()=>!!S,"options not defined"),e.fF.assert(()=>!!S.dataViewMappings,"dataViewMappings not defined");var D=S.dataViewMappings[0];if(D&&D.matrix&&D.metadata){var M=D.matrix;(function(S,P,D){var M=S.metadata.objects,E=S.metadata.columns,w=V.fromMatrixRows(P),x=g(M,D.rowSubtotals),N=g(M,D.rowSubtotalsPerLevel),L=2;if(null!=D.rowSubtotalsType&&"Top"===g(M,D.rowSubtotalsType)&&(L=1),!_.isEmpty(w)){var I=function(O){var F=_.find(E,T=>T.queryName===O.queryName);if(!F)return 1;var A=g(F.objects,D.levelSubtotalEnabled);O.subtotalType=!x||N&&!A?0:L};for(var W of w)I(W)}})(D,M,P),function(S,P,D){var M=S.metadata.objects,E=S.metadata.columns,w=V.fromMatrixColumns(P),x=g(M,D.columnSubtotals),N=g(M,D.columnSubtotalsPerLevel);if(!_.isEmpty(w)){var L=function(I){var W=_.find(E,F=>F.queryName===I.queryName);if(!W)return 1;var O=g(W.objects,D.levelSubtotalEnabled);I.subtotalType=!x||N&&!O?0:2};for(var B of w)L(B)}}(D,M,P)}}(S,P.subtotals.matrix),P&&P.dataReductionCustomization&&function(S,P){var D=S?.dataViewMappings?.[0],M=D?.metadata?.objects,E=(0,u._1)(S.dataViewMappings),w=function(S,P,D){var M=!0;if(!P||!P.dataReductionCustomization)return!1;switch(S){case 2:if(D.matrix){var E=g(P,D.matrix.rowCount),w=g(P,D.matrix.columnCount);void 0!==E&&(M=M&&E>=C&&E<=y),void 0!==w&&(M=M&&w>=i&&w<=o)}break;case 8:if(D.table){var x=g(P,D.table.rowCount);void 0!==x&&(M=M&&x>=C&&x<=y)}break;case 1:if(D.categorical){var N=g(P,D.categorical.categoryCount),L=g(P,D.categorical.groupedValuesCount);void 0!==N&&(M=M&&N>=C&&N<=y),void 0!==L&&(M=M&&L>=i&&L<=o)}}return M}(E,M,P);if(w)switch(E){case 2:var x=g(M,P.matrix.rowCount),N=g(M,P.matrix.columnCount),L=D.matrix?.columns?.dataReductionAlgorithm,B=D.matrix?.rows?.dataReductionAlgorithm;N&&L&&(L[(0,u.Xs)(L)].count=N),x&&B&&(B[(0,u.Xs)(B)].count=x);break;case 8:var O=g(M,P.table.rowCount),F=D?.table?.rows?.dataReductionAlgorithm;O&&F&&(F[(0,u.Xs)(F)].count=O);break;case 1:var T=g(M,P.categorical.categoryCount),R=g(M,P.categorical.groupedValuesCount),U=D?.categorical?.values?.group?.dataReductionAlgorithm,z=D?.categorical?.categories?.dataReductionAlgorithm;R&&U&&(U[(0,u.Xs)(U)].count=R),T&&z&&(z[(0,u.Xs)(z)].count=T)}}(S,P.dataReductionCustomization)}(N,S.capabilities)),x}},657611:function(Ce,k,r){r.d(k,{et:function(){return u},zC:function(){return i},zM:function(){return t}});var a=r(939123),e=r(737466),u="message",t="error",C="message",y="onMessageProxyAsyncComplete";function i(c,h){return new o(c,h)}class o{constructor(h,d){this.promiseFactory=h,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,d&&(this._contentWindow=d),this.deferredCache={},this.windowMessageHandler=n=>this.onMessageReceived(n.originalEvent),$(window).on(C,this.windowMessageHandler)}get allowSameWindow(){return this._allowSameWindow}set allowSameWindow(h){this._allowSameWindow=h}get contentWindow(){return this._contentWindow}set contentWindow(h){a.fF.assertValue(h,"value"),this._contentWindow=h}get queue(){return jQuery.extend([],this._queue)}postMessage(h){this.contentWindow?this.sendMessage(h):this.queueMessage(h)}postMessageAsync(h){var d=this.promiseFactory.defer(),n=this.createRandomString();return this.deferredCache[n]=d,h.id=n,this.postMessage(h),d.promise.finally(()=>{delete this.deferredCache[n]}),d.promise}queueMessage(h,d){void 0===d&&(d=this._queue.length);var n=this.prepareMessage(h);this._queue.splice(d,0,n)}on(h,d){a.fF.assertValue(h,"type"),a.fF.assertValue(d,"handler"),this.handlers[h]&&(this.handlers[h].indexOf(d)>-1||this.handlers[h].push(d))}off(h,d){if(a.fF.assertValue(h,"type"),this.handlers[h]){if(!d)return void(this.handlers[h].length=0);var n=this.handlers[h].indexOf(d);n>-1&&this.handlers[h].splice(n,1)}}flushQueue(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)}sendMessage(h){var d=this.prepareMessage(h);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(d,"*"):a.fF.assertFail("contentWindow not set")}prepareMessage(h){var d;try{d=JSON.stringify(h)}catch(n){throw d=null,e.b$.ensureError(n)}return d}onMessageReceived(h){if(this.allowSameWindow||h.source!==window){var d;try{d="string"==typeof h.data?JSON.parse(h.data):h.data}catch(m){d=null}if(d){var n=jQuery.isArray(d)?d:[d];for(var s of n){var p=void 0,l=void 0;try{"string"==typeof s?(p=JSON.parse(s),l=s.length):(p=s,l=h.data.length)}catch(m){p=null}if(!p)return;this.dispatchMessage(h,p,l)}}}}dispatchMessage(h,d,n){var s={message:d,source:h.source,origin:h.origin,packedSize:n};if(d.id&&(d.eventName===y||d.result||d.error)){var p=this.deferredCache[d.id];return p?d.error?p.reject(d.error):p.resolve(d.result):void 0}var l=d.error?this.handlers.error:this.handlers.message;for(var m of l)this.invokeHandler(m,s)}invokeHandler(h,d){var n,s;d.message.id&&(s={id:d.message.id,eventName:y,arguments:[]});try{n=h.call(null,d),s&&this.promiseFactory.when(n).then(p=>{s.result=p,this.postMessage(s)}).catch(p=>{s.error=p,this.postMessage(s)})}catch(p){s&&(s.error={message:p.message},this.postMessage(s))}}createRandomString(){return(Math.random()+1).toString(36).substring(7)}destroy(){this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(C,this.windowMessageHandler),this.windowMessageHandler=null}}},913225:function(Ce,k,r){r.d(k,{B0:function(){return j},Cl:function(){return w},Cq:function(){return d},Cx:function(){return Z},EB:function(){return C},F$:function(){return c},FM:function(){return J},IX:function(){return z},JT:function(){return N},Jf:function(){return b},LU:function(){return i},MU:function(){return s},OO:function(){return g},Qr:function(){return f},XH:function(){return L},bn:function(){return Q},d7:function(){return u},eb:function(){return W},ek:function(){return G},fU:function(){return T},hZ:function(){return q},jN:function(){return M},ok:function(){return R},sT:function(){return P},tH:function(){return l},w9:function(){return U},wY:function(){return F}});var a=r(17933),e="PBI.ApprovedResource.FailLoaded",u=a.cx[e]=(0,a.b1)(e),t="PBI.ApprovedResource.SuccessfulLoad",C=a.cx[t]=(0,a.b1)(t),y="PBI.ApprovedResource.EndpointDown",i=a.cx[y]=(0,a.b1)(y),o="PBI.ApproveResource.LoadResourcePackage",c=a.cx[o]=(0,a.b1)(o),h="PBI.AppSourceResource.EndpointDown",d=a.cx[h]=(0,a.b1)(h),n="PBI.VisualConsent.Register",s=a.cx[n]=(0,a.b1)(n),p="PBI.VisualConsent.Set",l=a.cx[p]=(0,a.b1)(p),m="PBI.VisualConsent.Get",b=a.cx[m]=(0,a.b1)(m),V="PBI.VisualEvent.DownloadContentEvent",g=a.cx[V]=(0,a.b1)(V),v="PBI.TrustedVisual.Load",f=a.cx[v]=(0,a.b1)(v),S="PBI.TrustedVisual.GetConsent",P=a.cx[S]=(0,a.b1)(S),D="PBI.VisualAuthentication.GetResourceUrl",M=a.cx[D]=(0,a.b1)(D),E="PBI.VisualAuthentication.GetAADToken",w=a.cx[E]=(0,a.b1)(E),x="PBI.VisualAuthentication.GetWACToken",N=a.cx[x]=(0,a.b1)(x),L="PBI.LocalResource.LoadResourcePackageItem",I=(a.cx[L]=(0,a.b1)(L),"PBI.VisualAuthentication.BlockAccessToken"),W=a.cx[I]=(0,a.b1)(I),O="PBI.AdminControl.Initialized",F=a.cx[O]=(0,a.b1)(O),A="PBI.Pbiviz.UnzipFailed",T=a.cx[A]=(0,a.b1)(A),R="PBI.CustomVisualsLicense.LicensesLoaded",U=a.cx[R]=(0,a.b1)(R),z="PBI.CustomVisualsLicense.GetServicePlansCalled",j=a.cx[z]=(0,a.b1)(z),H="PBI.CustomVisualsLicense.PrefetchServicePlansCalled",q=a.cx[H]=(0,a.b1)(H),G="PBI.VisualEvent.LocalStorageV2Event",J=a.cx[G]=(0,a.b1)(G),Z="PBI.VisualEvent.AcquireAADToken",Q=a.cx[Z]=(0,a.b1)(Z)},795809:function(Ce,k,r){r.d(k,{Mm:function(){return o},Ro:function(){return y},Xf:function(){return f},aM:function(){return S},bL:function(){return l},cg:function(){return v},fA:function(){return p},jK:function(){return n},nn:function(){return g},oq:function(){return s},qe:function(){return m},st:function(){return b},ul:function(){return d},wn:function(){return P}});var h,a=r(913225),e=r(976205),u=r(129535),t=r(534721),C=r(688574),y={objectName:"general",propertyName:"filter"},i=function(D){return D[D.FeatureIsDisabled=0]="FeatureIsDisabled",D[D.AllCustomVisualsAreEnabled=1]="AllCustomVisualsAreEnabled",D[D.AllCustomVisualsAreDisabled=2]="AllCustomVisualsAreDisabled",D[D.NonCertifiedCustomVisualsAreDisabled=3]="NonCertifiedCustomVisualsAreDisabled",D[D.FailedEvaluatingState=4]="FailedEvaluatingState",D}({}),o=function(D){return D[D.Unclassified=0]="Unclassified",D[D.NonCertifiedCustomVisual=1]="NonCertifiedCustomVisual",D[D.NonCdnCustomVisual=2]="NonCdnCustomVisual",D[D.CertifiedCustomVisual=3]="CertifiedCustomVisual",D[D.OrganizationalStore=4]="OrganizationalStore",D[D.Native=5]="Native",D}({}),c=[e.Jo,e.C,e.x5];function d(D,M,E){if(void 0===h)try{if(!(M&&D&&D.featureSwitches&&D.featureSwitches.customVisualsTenantSwitch))return h=i.FeatureIsDisabled;M.logChildEvent(E&&E.event,a.wY,{AdminControlState:i[h=D.featureSwitches.customVisualsTenantEnabled?D.featureSwitches.certifiedCustomVisualsTenantEnabled?i.NonCertifiedCustomVisualsAreDisabled:i.AllCustomVisualsAreEnabled:i.AllCustomVisualsAreDisabled]})}catch{h=i.FailedEvaluatingState}return h}function n(D,M,E,w,x,N,L){return N||L?V(M,!0,N,L,E,w,x):V(M,D.featureSwitches.customVisualsTenantSwitch,!D.featureSwitches.customVisualsTenantEnabled,D.featureSwitches.certifiedCustomVisualsTenantEnabled,E,w,x)}function s(D){return!(!D||!D.capabilities)&&(D.custom?D.apiVersion&&(0,t.gt)(D.apiVersion,"3.5.0")&&D.capabilities.supportsEmptyDataView:D.capabilities.supportsEmptyDataView)}function p(D){return!(!D||!D.apiVersion)&&(0,t.ge)(D.apiVersion,"2.0.0")}function l(D,M){return M||D.featureSwitches.customVisualsTenantSwitch&&!D.featureSwitches.customVisualsTenantEnabled}function m(D){return D&&_.endsWith(D,e.c2)}function b(D){return c.includes(D)}function V(D,M,E,w,x,N,L){return!(!M||D===e.Jo||b(D)||m(D)||L)&&(!!E||!(!w||x.isApprovedResourceServerRender(D))&&(!N||x.isApprovedVisualsDefined()))}function g(D,M,E){return E?m(M)?o.OrganizationalStore:D.isApprovedVisualsDefined()?D.isApprovedResourceServerRender(M)?o.CertifiedCustomVisual:D.isApprovedResource(M)?o.NonCertifiedCustomVisual:o.NonCdnCustomVisual:o.Unclassified:o.Native}function v(D){switch(D){case 0:return"allow-scripts";case 1:return"allow-popups";case 2:return"allow-same-origin";case 3:return"allow-forms";case 4:return"allow-top-navigation-by-user-activation";case 5:return"allow-downloads"}}function f(D){return D&&D===C.D.debugVisual}function S(D,M){return M?D.substring(0,D.lastIndexOf("_DEBUG")):D}function P(D){var M=(0,u.VM)(D.objects,y),E=M?.type;return!(!E||!E.filter||E.filter.selfFilter)}},51651:function(Ce,k,r){r.d(k,{PR:function(){return b},z_:function(){return l},dR:function(){return g},sQ:function(){return p},yl:function(){return m},FD:function(){return V},CJ:function(){return s},k4:function(){return f},_q:function(){return S}});var a=r(792375),e=r(939123),u=r(845856),t=r(377714),C=r(969143),y=r(528836),i=r(107057),o=r(871344);function c(M,E){return d(M,E,!1)}function h(M,E){return d(M,E,!0)}function d(M,E,w){if(void 0!==M){var x=E.defer(),N=new FileReader;return N.onload=function(){x.resolve(N.result)},N.onerror=function(){x.reject(N.error)},w?N.readAsText(M):N.readAsDataURL(M),x.promise}}var n=r(527799);function s(M,E,w,x,N,L){if(e.fF.assertValue(N,"promiseFactory"),!M)return N.resolve(null);var B=D(M,E,L),I=[];for(var W of B){var O=W.getRefValue();I.push(m(O,w(),x,N,{itemTypeFromReference:W.itemType}))}return N.all(I)}function p(M,E,w,x,N,L,B){if(e.fF.assertValue(N,"promiseFactory"),!M)return N.resolve(null);var I=(0,a.xF)(M,E,void 0,!1),W=(0,a.wN)(I,E),O=D(W,E),F=[],A=function(U){var z=U.getRefValue(),j=null!=B&&B.isRunning()?B.createChildActivity({name:"Visual Container Resource Load",resourceType:z.packageType}):void 0,H=m(z,w,x,N,{usePersistableFormat:L,itemTypeFromReference:U.itemType}).then(q=>{U.setRefValue(q),j&&j.resolve()}).catch(q=>{j&&j.reject(q)});F.push(H)};for(var T of O)A(T);var R=N.defer();return N.all(F).then(()=>R.resolve(W)),R.promise}function l(M,E){return!!M&&D(M,E).length>0}function m(M,E,w,x,N){return V(E,{packageType:M.packageType,packageName:M.packageName,itemName:M.itemName},w,x,N).then(B=>null==B?(0,y.IF)():(0,y.fL)(B),B=>(0,y.IF)())}function b(M){return e.fF.assertValue(M,"getLoadAndResolveErrorReason: No reason given"),M?"string"==typeof M?M:null!=M.status?M.status.toString():M.stack?M.stack.toString():M.message?M.message.toString():"Unknown reason":"No reason given"}function V(M,E,w,x,N){var L=(0,n.pd)(M,E.packageType,E.packageName);if(!L){var B;if(u.f.error(`Missing resource package ${E.packageType}`,!0),2===E.packageType&&N&&null!=(B=N.itemTypeFromReference)){var I=(0,n.np)(E.itemName,B);return w.loadSharedResource(I,B).catch(W=>{u.f.error(`Error loading shared resource from app ${I} ${b(W)}`,!1)})}return x.resolve()}return g(L,E.itemName,w,x,N)}function g(M,E,w,x,N){var L=N&&N.usePersistableFormat,B=N&&N.itemTypeFromReference;if(e.fF.assertValue(M,"resource package should exist"),!M)return x.reject(new Error("loadAndResolveContent: no package"));var W,I=(0,n.NW)(M,E);if(!I&&2===M.type&&B&&M&&B&&(I=(0,n.x_)(E,B),M.items.push(I)),e.fF.assertValue(I&&I.path,"resourcePackageReferenceLoader.loadAndResolveContent -\n                In order to load the content of a resource package, the resource package item should exist and have a path"),!I||!I.path)return u.f.error(`Missing resource item or path !resourcePackageItem=${!I}, resourcePackageItem.path=${I&&I.path}`,!0),x.resolve();W=2===M.type?I.content?x.resolve(I.content):I.promise?I.promise:I.promise=w.loadSharedResource(I.path,I.type).finally(()=>{delete I.promise}).then(F=>F instanceof Blob?I.contentBlob=F:(_.isString(F)||(F=JSON.stringify(F)),I.content=F),F=>{throw u.f.error(`Error loading shared resource from app ${I.path} ${b(F)}`,!1),F}):w.loadResourcePackageItem(M,E);var O=x.defer();return W.then(()=>{(function(M,E,w,x,N){var L=null;if(E){var B=N===o.Ut.ShapeMap||E.type===o.Ut.ShapeMap,I=E.type===o.Ut.BaseTheme||E.type===o.Ut.CustomTheme||E.type===o.Ut.HighContrastTheme,W=3===M.type||0===M.type,O=E.content;if(O)B&&(0,t.pU)(O)&&(O=(0,t.Fj)((0,t.DJ)(O))),L=O;else if(E.contentBlob){if(2===M.type&&E.type===o.Ut.Image||x||B||W||I){var F=w.defer();return(B||W||I?h:c)(E.contentBlob,w).then(T=>F.resolve(T),T=>F.resolve(null)),F.promise}E.contentBlobUrl||(E.contentBlobUrl=window.URL.createObjectURL(E.contentBlob)),L=E.contentBlobUrl}}return w.resolve(L)})(M,I,x,L,B).then(F=>O.resolve(F))}).catch(F=>O.reject(F)),O.promise}function v(M,E,w,x){if(w){var N=(0,n.pd)(w,1);return N?E.loadResourcePackageItem(N,x):M.reject(new Error("loadRegisteredResource: no RegisteredResources package"))}return M.reject(new Error("loadRegisteredResource: no packages"))}function f(M,E,w,x){return v(M,E,w,x).then(L=>(e.fF.assert(()=>L instanceof Blob||null==L||"string"==typeof L,"resource item content expected to be Blob or string"),L instanceof Blob?c(L,M):("string"==typeof L&&!(0,t.pU)(L)&&(L=(0,t.wo)(L)),L)))}function S(M,E,w,x){return v(M,E,w,x).then(L=>(e.fF.assert(()=>L instanceof Blob||null==L||"string"==typeof L,"resource item content expected to be Blob or string"),L instanceof Blob?h(L,M):L)).then(L=>{try{"string"==typeof L&&(0,t.pU)(L)&&(L=(0,t.Fj)((0,t.DJ)(L)))}catch(B){throw u.f.error(`Error decoding registeredResource: ${JSON.stringify(B)}`,!!B.stack),B}return L})}function D(M,E,w){e.fF.assertValue(M,"definitions");var x=[];return(0,C.Vj)({definitions:M,descriptors:E,visitor:(N,L,B,I,W)=>{var O=I&&I.geoJson&&1===W.length&&"content"===W[0];if(O){var F=L;if(17===F.type.kind&&17===F.name.kind&&17===F.content.kind&&F.type.value===i.c1){var T=F.name.value;"string"==typeof T&&null==F.content.value&&(w&&w(T,o.Ut.ShapeMap),N=(0,y.nF)((0,n.RJ)(2),2,T),F.content=N)}}if(N instanceof y.nd){var U={getRefValue:()=>L[B],setRefValue:z=>{L[B]=z}};O&&(U.itemType=o.Ut.ShapeMap),x.push(U)}}}),x}},527799:function(Ce,k,r){r.d(k,{EK:function(){return m},In:function(){return o},JZ:function(){return l},Jp:function(){return i},NM:function(){return c},NW:function(){return n},RJ:function(){return s},Yu:function(){return d},np:function(){return C},pd:function(){return h},wq:function(){return p},x_:function(){return y}});var a=r(939123),e=r(976205),u=r(871344),t={};function C(V,g){return t[g](V)}function y(V,g,v){return{type:g,path:C(V,g),name:V,content:v}}function i(V){return _.keyBy(_.filter(V,g=>o(g)),g=>g.name)}function o(V){return a.fF.assertValue(V,"resourcePackage should exist in order to verify if it's a static resource"),a.fF.assertValue(V.type,"resourcePackageType should exist in order to verify if it's a static resource"),!!e.uT[V.type]}function c(V,g,v){a.fF.assert(()=>_.isArray(V),"resourcePackages should be an array"),v=s(g,v);var f=h(V,g,v);return f||V.push(f={id:void 0,name:v,type:g,items:[]}),f}function h(V,g,v){return a.fF.assert(()=>null==V||_.isArray(V),"Resource packages should be: null, undefined or an array"),v=s(g,v),_.find(V,f=>f.type===g&&f.name===v)}function d(V,g,v,f){return n(h(V,g,f),v)}function n(V,g){return a.fF.assertAnyValue(V,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(V&&V.items,v=>v.name===g)}function s(V,g){var v=e.xp[V]||g;return a.fF.assertValue(v,"Invalid package name for resource package"),v}function p(V,g){for(var v of(a.fF.assert(()=>o(V),"mergeStaticResourcePackages - package1 should be a static resource."),a.fF.assert(()=>o(g),"mergeStaticResourcePackages - package2 should be a static resource."),a.fF.assert(()=>V.type===g.type,"In order to merge resource packages, their types should be equal"),a.fF.assert(()=>V.name===g.name,"In order to merge resource packages, their names should be equal"),null==V.id&&null!=g.id&&(V.id=g.id),g.items)){var f=n(V,v.name);f?b(f,v):V.items.push(v)}}function l(V){return V&&(0===V.type||3===V.type)}function m(V){return _.chain(V).filter(g=>l(g)).map(g=>g.name).uniq().value()}function b(V,g){a.fF.assert(()=>V.name===g.name,"In order to merge resource package items, their names should be equal"),a.fF.assertAnyValue(V.path===g.path,"Usually if the names are equal it must mean that paths are equal,\n                however, there are 2 cases where this is not true:\n                1.- The items are different and we are doing a bad merge:\n                    Ridiculously unlikely and can only happen if 2 items have the same name and same random suffix of 53 random bits, converted to base 10\n                2.- A report was imported into powerbi more than once: \n                    Every time we import we generate a unique path, which means that paths are guaranteed to be different, but names and content are the same\n                Given that is way more likely to win the lottery twice in a lifetime than #1 happening and #2 is perfectly fine we don't care if paths differ.\n            "),a.fF.assert(()=>V.type===g.type,"In order to merge resource package items, their types should be equal"),null==V.id&&null!=g.id&&(V.id=g.id),!V.content&&g.content&&(V.content=g.content),!V.contentBlob&&g.contentBlob&&(V.contentBlob=g.contentBlob),!V.contentBlobUrl&&g.contentBlobUrl&&(V.contentBlobUrl=g.contentBlobUrl),!V.content&&!V.contentBlob&&!V.promise&&g.promise&&(V.promise=g.promise),a.fF.assert(()=>!V.content||!V.contentBlob,"A resource package item can't have content and contentBlob at the same time.")}t[u.Ut.BaseTheme]=V=>`BaseThemes/${V}.json`,t[u.Ut.CustomTheme]=V=>`BuiltInThemes/${V}.json`,t[u.Ut.HighContrastTheme]=V=>`HighContrastThemes/${V}.json`,t[u.Ut.Image]=V=>`Images/${V}`,t[u.Ut.ShapeMap]=V=>`Shapemaps/${V}.json`},70994:function(Ce,k,r){r.d(k,{td:function(){return Nr},Vh:function(){return ia},nm:function(){return pa},HB:function(){return Dr},lm:function(){return ea}});var a=r(883803),e=r(866109),u=r(454865);function t(oe){var Fe=oe.type||u.EP.Data;return Fe&u.EP.Resize&&2===oe.resizeMode&&(Fe|=u.EP.ResizeEnd),Fe}var i={version:"1.0.0",overloads:(oe,Fe)=>({update:pe=>{oe.update&&oe.update({viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,type:t(pe)})},destroy:()=>{oe.destroy&&oe.destroy()},enumerateObjectInstances:pe=>oe.enumerateObjectInstances&&oe.enumerateObjectInstances(pe)||[]}),hostAdapter:oe=>({})},o=r(597627),c=r(145741);function h(oe,Fe){for(var pe,vt=Fe.split(".");pe=vt.shift();){if(!oe||null==oe[pe])return!1;oe=oe[pe]}return!0}var d=r(479008),p={version:"1.1.0",overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,type:t(pe)},Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>({createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colors:h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors()})},l=r(155837),V={version:"1.2.0",overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,type:t(pe)};Fe.colorPalette.reset();var Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe)}}},g=r(858520),f={version:"1.3.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host})}}},P={version:"1.4.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),locale:oe.host.locale()}}},M={version:"1.5.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive}}},x={version:"1.6.0",overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,editMode:pe.editMode,type:t(pe)};Fe.colorPalette.reset();var Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive}}},N=r(345132),B={version:"1.7.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt)=>{if(pe){var Ot=[];Ot.push(pe),oe.host.applyJsonFilter(Ot,vt,Mt)}else oe.host.applyJsonFilter(null,vt,Mt)}}}},W={version:"1.8.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData()}}};function O(oe){return new F(oe)}class F{constructor(Fe){this.hostServices=Fe.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}getResourceUrl(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()}getAADAuthenticationToken(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()}getAADToken(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()}getWACToken(Fe,pe){return this.authenticationService?this.authenticationService.getWACToken(Fe,pe):this.promiseFactory.reject()}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}var T={version:"1.9.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData()}}};class R{constructor(Fe){this.localizationResources=Fe}getDisplayName(Fe){var pe=this.localizationResources;return pe&&pe.localizedStrings&&pe.localizedStrings.hasOwnProperty(Fe)?pe.localizedStrings[Fe]:pe&&pe.enUSStrings&&pe.enUSStrings.hasOwnProperty(Fe)?pe.enUSStrings[Fe]:Fe}}var z={version:"1.10.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>new d.Z({hostServices:oe.host}),colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources)}}},H={version:"1.11.0",hostAdapter:oe=>{var Fe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>{var pe=oe.host;return pe.selectionManager=new d.Z({hostServices:pe}),pe.selectionManager},colorPalette:(0,l.D)(Fe),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources)}}},J={version:"1.12.0",overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,editMode:pe.editMode,operationKind:pe.operationKind,type:t(pe)};Fe.colorPalette.reset();var Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var Fe=oe.host,pe=h(oe,"style.colorPalette.dataColors.getAllColors")?oe.style.colorPalette.dataColors.getAllColors():o.ng.getDefaultColors();return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>(Fe.selectionManager=new d.Z({hostServices:Fe}),Fe.selectionManager),colorPalette:(0,l.D)(pe),persistProperties:vt=>oe.host.persistProperties(vt),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(vt,Mt,Ot,zt)=>{if(vt){var Jr=[];Jr.push(vt),oe.host.applyJsonFilter(Jr,Mt,Ot,zt)}else oe.host.applyJsonFilter(null,Mt,Ot,zt)},launchUrl:vt=>oe.host.launchUrl(vt),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData()}}},Q={version:"1.13.0",hostAdapter:oe=>{var Fe=oe.host;return{createSelectionIdBuilder:()=>new c.dw,createSelectionManager:()=>(Fe.selectionManager=new d.Z({hostServices:Fe}),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData()}}},ne=r(231384),le="2.0.0",Se={version:le,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=le,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=new d.Z({hostServices:Fe,apiVersion:le}),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:(0,g.r)({hostServices:oe.host}),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData()}}},Ke="2.1.0",we={version:Ke,overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,editMode:pe.editMode,operationKind:pe.operationKind,type:t(pe),jsonFilters:pe.jsonFilters};Fe.colorPalette.reset();var Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Ke,{createSelectionIdBuilder:()=>Fe.createSelectionIdBuilder(),createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Ke),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData()}}},je="2.2.0",Pe={version:je,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=je,{createSelectionIdBuilder:()=>Fe.createSelectionIdBuilder(),createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(je),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe){var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData()}}};function Ve(oe){return new Ze(oe)}class Ze{constructor(Fe){this.eventService=Fe&&Fe.eventService&&Fe.eventService()}renderingStarted(Fe){this.eventService&&this.eventService.renderingStarted(Fe)}renderingFinished(Fe){this.eventService&&this.eventService.renderingFinished(Fe)}renderingFailed(Fe,pe){this.eventService&&this.eventService.renderingFailed(Fe,pe)}}function Ue(oe){return new Je(oe)}class Je{constructor(Fe){this.storageService=Fe&&Fe.localStorageService&&Fe.localStorageService(),this.promiseFactory=Fe.promiseFactory()}status(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(2)}get(Fe){return null!=this.storageService&&Fe?this.storageService.getStorageData(Fe):this.promiseFactory.reject()}set(Fe,pe){return null!=this.storageService&&Fe&&pe?this.storageService.setStorageData(Fe,pe):this.promiseFactory.reject()}remove(Fe){null!=this.storageService&&Fe&&this.storageService.removeStorageData(Fe)}}var De="2.3.0",te={version:De,overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,editMode:pe.editMode,operationKind:pe.operationKind,jsonFilters:pe.jsonFilters,type:t(pe),updateId:pe.updateId};Fe.colorPalette.reset();var Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=De,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(De),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData(),storageService:Ue(Fe),eventService:Ve(Fe)}}},ke="2.4.0",tt={version:ke,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=ke,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(ke),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData(),storageService:Ue(Fe),eventService:Ve(Fe)}}},ut="2.5.0",Ne={version:ut,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=ut,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(ut),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData(),storageService:Ue(Fe),eventService:Ve(Fe)}}},ae="2.6.0",be={version:ae,overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,editMode:pe.editMode,isInFocus:!!pe.isInFocus,operationKind:pe.operationKind,jsonFilters:pe.jsonFilters,type:t(pe),updateId:pe.updateId};Fe.colorPalette.reset();var Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}}}),hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=ae,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(ae),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData(),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe)}}},Ie="3.2.0",ze={version:Ie,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Ie,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Ie),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData(),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv}}},ee="3.3.0",Te={version:ee,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=ee,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(ee),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:()=>Fe.fetchMoreData(),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv}}},Xe="3.4.0",qe={version:Xe,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Xe,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Xe),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv}}},rt="3.5.0",Ee={version:rt,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=rt,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(rt),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv}}},fe="3.6.0",re={version:fe,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=fe,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(fe),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv}}},se="3.7.0",ce={version:se,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=se,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(se),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),allowInteractions:!(!oe||!oe.interactivity)&&oe.interactivity.isVisualInteractive,applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt)}}},Me="3.8.0",st={version:Me,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Me,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Me),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt)}}};function pt(oe){return new wt(oe)}class wt{constructor(Fe){this.downloadService=Fe&&Fe.downloadService&&Fe.downloadService(),this.promiseFactory=Fe.promiseFactory()}exportStatus(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(2)}exportVisualsContent(Fe,pe,vt,Mt){return null!=this.downloadService?this.downloadService.exportVisualsContent(Fe,pe,vt,Mt).then(Ot=>Ot.downloadCompleted):this.promiseFactory.reject()}exportVisualsContentExtended(Fe,pe,vt,Mt){return null!=this.downloadService?this.downloadService.exportVisualsContent(Fe,pe,vt,Mt):this.promiseFactory.reject()}}var Pt="3.9.0",Ut={version:Pt,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Pt,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Pt),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt)}}},Kt="4.0.0",rr={version:Kt,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Kt,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Kt),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt)}}},Xt="4.1.0",et={version:Xt,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Xt,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Xt),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt)}}},ht="4.2.0",Lt={version:ht,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=ht,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(ht),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt)}}},Qe="4.3.0",Rt={version:Qe,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Qe,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Qe),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt)}}};function Gt(oe){return new ir(oe)}class ir{constructor(Fe){this.licenseManagerService=Fe&&Fe.licenseManagerService&&Fe.licenseManagerService(),this.promiseFactory=Fe.promiseFactory()}getAvailableServicePlans(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()}notifyLicenseRequired(Fe){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(Fe):this.promiseFactory.reject()}notifyFeatureBlocked(Fe){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(Fe):this.promiseFactory.reject()}clearLicenseNotification(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()}}var Ht="4.4.0",_r={version:Ht,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Ht,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Ht),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe)}}},Fr="4.5.0",Pr={version:Fr,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Fr,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Fr),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe)}}};function Sr(oe){return new Or(oe)}class Or{constructor(Fe){this.webAccessService=Fe&&Fe.webAccessService&&Fe.webAccessService(),this.promiseFactory=Fe.promiseFactory()}webAccessStatus(Fe){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(Fe):this.promiseFactory.resolve(2)}}var xr="4.6.0",pr={version:xr,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=xr,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(xr),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe)}}},jr="4.7.0",Kr={version:jr,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=jr,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(jr),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe)}}},Vt="5.0.0",St={version:Vt,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Vt,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Vt),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe)}}},Ct="5.1.0",lr={version:Ct,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Ct,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Ct),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe)}}},yr="5.2.0",fr={version:yr,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=yr,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(yr),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe)}}},ur="5.3.0",Et={version:ur,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=ur,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(ur),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe)}}},It="5.4.0",Jt={version:It,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=It,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(It),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe)}}};function er(oe){return new it(oe)}class it{constructor(Fe){this.storageV2Service=Fe&&Fe.localStorageV2Service&&Fe.localStorageV2Service(),this.promiseFactory=Fe.promiseFactory()}status(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(2)}get(Fe){return null!=this.storageV2Service&&Fe?this.storageV2Service.getStorageData(Fe):this.promiseFactory.reject()}set(Fe,pe){return null!=this.storageV2Service&&Fe&&pe?this.storageV2Service.setStorageData(Fe,pe):this.promiseFactory.reject()}remove(Fe){null!=this.storageV2Service&&Fe&&this.storageV2Service.removeStorageData(Fe)}}var K="5.5.0",xe={version:K,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=K,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(K),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe),storageV2Service:er(Fe)}}};function yt(oe){return new Tt(oe)}class Tt{constructor(Fe){this.acquireAADTokenService=Fe&&Fe.acquireAADTokenService&&Fe.acquireAADTokenService(),this.promiseFactory=Fe.promiseFactory()}acquireAADToken(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()}acquireAADTokenstatus(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(2)}}var $t="5.6.0",hr={version:$t,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=$t,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager($t),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe),storageV2Service:er(Fe),acquireAADTokenService:yt(Fe)}}},gr="5.7.0",Wr={version:gr,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=gr,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(gr),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe),storageV2Service:er(Fe),acquireAADTokenService:yt(Fe),setCanDrill:pe=>Fe.setCanDrill(pe)}}};function Hr(oe){return new Cr(oe)}class Cr{constructor(Fe){this.subSelectionService=Fe?.visualHostSubSelectionService?.()}subSelect(Fe){this.subSelectionService&&this.subSelectionService.subSelect(Fe)}updateRegionOutlines(Fe){this.subSelectionService&&this.subSelectionService.updateRegionOutlines(Fe)}}var Be="5.8.0",mt={version:Be,overloads:(oe,Fe)=>({update:pe=>{if(oe.update){var vt={viewport:pe.viewport,dataViews:pe.dataViews,viewMode:pe.viewMode,editMode:pe.editMode,isInFocus:!!pe.isInFocus,operationKind:pe.operationKind,jsonFilters:pe.jsonFilters,type:t(pe),updateId:pe.updateId,subSelections:pe.subSelections,formatMode:pe.formatMode};Fe.colorPalette.reset();var Mt=oe.constructor.__transform__;_.isFunction(Mt)?oe.update(vt,Mt(vt.dataViews)):oe.update(vt)}},getSubSelectionStyles:pe=>{if(oe.visualOnObjectFormatting&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectionStyles))return oe.visualOnObjectFormatting.getSubSelectionStyles(pe)},getSubSelectionShortcuts:(pe,vt)=>{if(oe.visualOnObjectFormatting&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectionShortcuts))return oe.visualOnObjectFormatting.getSubSelectionShortcuts(pe,vt)},getSubSelectables:pe=>{if(oe.visualOnObjectFormatting&&oe.visualOnObjectFormatting.getSubSelectables&&_.isFunction(oe.visualOnObjectFormatting.getSubSelectables))return oe.visualOnObjectFormatting.getSubSelectables(pe)}}),hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=Be,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(Be),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe),storageV2Service:er(Fe),acquireAADTokenService:yt(Fe),setCanDrill:pe=>Fe.setCanDrill(pe),subSelectionService:Hr(Fe)}}},ot=r(326810);class ie{compareCustomVisualOpaqueIdentities(Fe,pe){return(0,ot.fS)(Fe,pe)}}var We="5.9.0",gt="5.10.0",xt="5.11.0",Yt=[i,p,V,f,P,M,x,B,W,T,z,H,J,Q,Se,we,Pe,te,tt,Ne,be,ze,Te,qe,Ee,re,ce,st,Ut,rr,et,Lt,Rt,_r,Pr,pr,Kr,St,lr,fr,Et,Jt,xe,hr,Wr,mt,{version:We,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=We,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(We),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe),storageV2Service:er(Fe),acquireAADTokenService:yt(Fe),setCanDrill:pe=>Fe.setCanDrill(pe),subSelectionService:Hr(Fe),createOpaqueUtils:()=>new ie}}},{version:gt,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=gt,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(gt),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),storageService:Ue(Fe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe),storageV2Service:er(Fe),acquireAADTokenService:yt(Fe),setCanDrill:pe=>Fe.setCanDrill(pe),subSelectionService:Hr(Fe),createOpaqueUtils:()=>new ie}}},{version:xt,hostAdapter:oe=>{var Fe=oe.host;return Fe.apiVersion=xt,{createSelectionIdBuilder:()=>new ne.r,createSelectionManager:()=>(Fe.selectionManager=Fe.createSelectionManager(xt),Fe.selectionManager),colorPalette:(0,l.o)(oe.style),persistProperties:pe=>oe.host.persistProperties(pe),tooltipService:Fe.createTooltipService(),telemetry:(0,N.Zm)({hostServices:oe.host}),authenticationService:O({hostServices:oe.host}),locale:oe.host.locale(),hostCapabilities:{allowInteractions:!!oe.interactivity?.isVisualInteractive,allowModalDialog:!!oe.interactivity?.allowModalDialog},applyJsonFilter:(pe,vt,Mt,Ot)=>{if(pe)if(Array.isArray(pe))oe.host.applyJsonFilter(pe,vt,Mt,Ot);else{var zt=[];zt.push(pe),oe.host.applyJsonFilter(zt,vt,Mt,Ot)}else oe.host.applyJsonFilter(null,vt,Mt,Ot)},launchUrl:pe=>oe.host.launchUrl(pe),instanceId:oe.host.instanceId,refreshHostData:()=>oe.host.refreshHostData(),createLocalizationManager:()=>new R(oe.localizationResources),fetchMoreData:pe=>Fe.fetchMoreData(pe),downloadService:pt(Fe),eventService:Ve(Fe),switchFocusModeState:pe=>Fe.switchFocusModeState(pe),hostEnv:oe.hostEnv,openModalDialog:(pe,vt,Mt)=>Fe.openModalDialog(pe,vt,Mt),displayWarningIcon:(pe,vt)=>Fe.displayWarningIcon(pe,vt),licenseManager:Gt(Fe),webAccessService:Sr(Fe),drill:pe=>Fe.drill(pe),applyCustomSort:pe=>Fe.applyCustomSort(pe),storageV2Service:er(Fe),acquireAADTokenService:yt(Fe),setCanDrill:pe=>Fe.setCanDrill(pe),subSelectionService:Hr(Fe),createOpaqueUtils:()=>new ie}}}],ar=r(939123),sr=r(542666),Vr=r(795809);class Tr{constructor(Fe,pe){this.wrappedVisual=Fe,this.run=pe,ar.fF.assertValue(pe,"run must be defined in VisualOutsideZoneAdapter"),Fe.update&&(this.update=vt=>this.apply(this.wrappedVisual.update,vt)),Fe.onResizing&&(this.onResizing=(vt,Mt)=>{this.apply(this.wrappedVisual.onResizing,vt,Mt)}),Fe.onDataChanged&&(this.onDataChanged=vt=>{this.apply(this.wrappedVisual.onDataChanged,vt)}),Fe.onSelectionStateChanged&&(this.onSelectionStateChanged=vt=>{this.apply(()=>this.wrappedVisual.onSelectionStateChanged(vt))})}init(Fe){return this.apply(this.wrappedVisual.init,Fe)}destroy(){this.apply(this.wrappedVisual.destroy)}onViewModeChanged(Fe){this.apply(this.wrappedVisual.onViewModeChanged,Fe)}onClearSelection(){this.apply(this.wrappedVisual.onClearSelection)}onRestoreSelection(Fe){return this.apply(this.wrappedVisual.onRestoreSelection,Fe)}canResizeTo(Fe){return this.apply(this.wrappedVisual.canResizeTo,Fe)}enumerateObjectInstances(Fe){return this.apply(this.wrappedVisual.enumerateObjectInstances,Fe)}enumerateObjectInstancesAsync(Fe){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,Fe)}enumerateObjectRepetition(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)}enumerateObjectRepetitionAsync(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)}visualHasMethod(Fe){return this.apply(this.wrappedVisual.visualHasMethod,Fe)}unwrap(){var Fe=this.wrappedVisual;return Fe.unwrap?Fe.unwrap():Fe}get sandbox(){return this.wrappedVisual?.sandbox}getTelemetryInformation(){return this.apply(this.wrappedVisual.getTelemetryInformation)}getFormattingModel(){return this.apply(this.wrappedVisual.getFormattingModel)}getFormattingModelAsync(){return this.apply(this.wrappedVisual.getFormattingModelAsync)}resolveFormattingPlaceholder(Fe){return this.run(()=>this.wrappedVisual.resolveFormattingPlaceholder(Fe))}getSubSelectionStyles(Fe){return this.run(()=>this.wrappedVisual.getSubSelectionStyles(Fe))}getSubSelectionShortcuts(Fe,pe){return this.run(()=>this.wrappedVisual.getSubSelectionShortcuts(Fe,pe))}getSubSelectables(Fe){return this.run(()=>this.wrappedVisual.getSubSelectables(Fe))}getNextSubSelectable(Fe,pe){return this.run(()=>this.wrappedVisual.getNextSubSelectable(Fe,pe))}getSubSelectionStylesAsync(Fe){return this.run(()=>this.wrappedVisual.getSubSelectionStylesAsync(Fe))}getSubSelectionShortcutsAsync(Fe,pe){return this.run(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(Fe,pe))}getSubSelectablesAsync(Fe){return this.run(()=>this.wrappedVisual.getSubSelectablesAsync(Fe))}onDataViewObjectChanged(Fe,pe){return this.apply(this.wrappedVisual.onDataViewObjectChanged,Fe,pe)}apply(Fe,...pe){var vt=this.wrappedVisual;return this.run(()=>Fe.apply(vt,pe))}}var Br=r(625076);class Lr{constructor(Fe){this.wrappedVisual=Fe,Fe.update&&(this.update=pe=>this.trackVisualTime(()=>this.wrappedVisual.update(pe),()=>pe&&pe.parentContextActivity?pe.parentContextActivity.createChildActivity({name:"Visual Update"}):void 0)),Fe.onResizing&&(this.onResizing=(pe,vt)=>{this.trackVisualTime(()=>this.wrappedVisual.onResizing(pe,vt))}),Fe.onDataChanged&&(this.onDataChanged=pe=>{this.trackVisualTime(()=>this.wrappedVisual.onDataChanged(pe))}),Fe.onSelectionStateChanged&&(this.onSelectionStateChanged=pe=>{this.trackVisualTime(()=>this.wrappedVisual.onSelectionStateChanged(pe))})}init(Fe){if(this.wrappedVisual.init)return this.trackVisualTime(()=>this.wrappedVisual.init(Fe))}destroy(){this.wrappedVisual.destroy&&this.trackVisualTime(()=>this.wrappedVisual.destroy())}onViewModeChanged(Fe){this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(()=>this.wrappedVisual.onViewModeChanged(Fe))}onClearSelection(){this.wrappedVisual.onClearSelection&&this.trackVisualTime(()=>this.wrappedVisual.onClearSelection())}onRestoreSelection(Fe){return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(()=>this.wrappedVisual.onRestoreSelection(Fe))}canResizeTo(Fe){if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(()=>this.wrappedVisual.canResizeTo(Fe))}enumerateObjectInstances(Fe){if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectInstances(Fe))}enumerateObjectRepetition(){if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(Fe){return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectInstancesAsync(Fe)):Promise.resolve(this.enumerateObjectInstances(Fe))}enumerateObjectRepetitionAsync(){return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):Promise.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var Fe=this.wrappedVisual;return Fe.unwrap?Fe.unwrap():Fe}visualHasMethod(Fe){var pe=this.wrappedVisual;return pe&&pe.visualHasMethod(Fe)}getTelemetryInformation(){if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(()=>this.visualAdapter.getFormattingModelAsync()):Promise.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(Fe){if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(()=>this.wrappedVisual.resolveFormattingPlaceholder(Fe))}getSubSelectionStyles(Fe){if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStyles(Fe))}getSubSelectionShortcuts(Fe,pe){if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcuts(Fe,pe))}getSubSelectables(Fe){if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectables(Fe))}getNextSubSelectable(Fe,pe){if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(()=>this.wrappedVisual.getNextSubSelectable(Fe,pe))}getSubSelectionStylesAsync(Fe){return this.wrappedVisual.getSubSelectionStylesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStylesAsync(Fe)):Promise.resolve(this.getSubSelectionStyles(Fe))}getSubSelectionShortcutsAsync(Fe,pe){return this.wrappedVisual.getSubSelectionShortcutsAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(Fe,pe)):Promise.resolve(this.getSubSelectionShortcuts(Fe))}getSubSelectablesAsync(Fe){return this.wrappedVisual.getSubSelectablesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectablesAsync(Fe)):Promise.resolve(this.getSubSelectables(Fe))}onDataViewObjectChanged(Fe,pe){if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(()=>this.wrappedVisual.onDataViewObjectChanged(Fe,pe))}trackVisualTime(Fe,pe){var vt=pe&&pe();try{return Fe()}finally{vt&&vt.resolve()}}}var kr,Ar=[];function Nr(){return function(oe,Fe,pe){Object.defineProperty(pe.value,"approvedMessage",{value:!0})}}function Dr(){return Ar}function ea(oe,Fe){return oe&&(oe=new Lr(oe),Fe&&(oe=new Tr(oe,Fe))),oe}function pa(oe,Fe,pe,vt,Mt,Ot,zt){var Jr=new ia(oe,Fe,pe,vt,Mt,zt),na=ea(Jr,Ot);return new Br.a(na,oe,pe,vt,Jr.isPluginInError,zt)}Yt.forEach(oe=>function(oe){Dr().push(oe)}(oe));var ia=(()=>{class oe{constructor(pe,vt,Mt,Ot,zt,Jr){this.plugin=pe,this.creator=vt,this.promiseFactory=Mt,this.telemetryService=Ot,this.module=zt,this.certifiedEventsService=Jr,this.initialized=!1,this.destroyed=!1,this.isPluginInError=!1,ar.fF.assertValue(pe,"plugin"),ar.fF.assertValue(vt||this.plugin.createES6,"creator"),ar.fF.assertValue(Mt,"promiseFactory"),ar.fF.assertAnyValue(this.telemetryService,"telemetryService"),ar.fF.assertAnyValue(zt,"module"),ar.fF.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var na=pe.apiVersion,fa=this.getVersionIndex(na);na?fa>-1?(this.apiVersionIndex=fa,this.legacy=!1):(ar.fF.assertFail("The API version '"+na+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}init(pe){var vt=this;return(0,a.Z)(function*(){return vt.initializedPromise=vt.initImpl(pe),vt.initializedPromise})()}initImpl(pe){var vt=this;return(0,a.Z)(function*(){if(ar.fF.assert(()=>!vt.initialized,"Unexpected `init` after already initialized"),ar.fF.assertValue(pe.element,"options.element"),ar.fF.assertValue(pe.host,"options.host"),pe.element.empty(),pe=(0,sr.ED)(pe),vt.legacy){var Mt={module:vt.module,featureSwitches:pe.featureSwitches};if(vt.plugin.createES6){if(vt.visual=yield vt.plugin.createES6(Mt),vt.destroyed)return}else vt.visual=vt.creator(Mt);if(yield vt.visualLegacy.init(pe),vt.destroyed)return}else{var Ot=vt.host=Ar[vt.apiVersionIndex].hostAdapter(pe),zt={element:pe.element.get(0),host:Ot,module:vt.module,featureSwitches:pe.featureSwitches};if(vt.plugin.createES6){if(vt.visual=yield vt.plugin.createES6(zt),vt.destroyed)return}else vt.visual=vt.creator(zt);vt.overloadMethods()}vt.initialized=!0})()}update(pe){var vt=this;return(0,a.Z)(function*(){ar.fF.assertValue(()=>vt.initialized,"Expected `init` before `update`");var Mt=vt.initializedPromise;if(yield vt.initializedPromise,ar.fF.assert(()=>vt.initializedPromise===Mt,"Unexpected re-initialize during update"),!vt.destroyed&&vt.initialized)if(vt.plugin.systemVisual||((pe=(0,sr.ED)(pe)).visualDefinitionData=void 0,pe.dataTransforms=void 0),(pe.type&u.EP.Resize)===u.EP.Resize&&vt.visualHasMethod("onResizing")){if(vt.plugin.custom&&vt.visualHasMethod("update")&&(yield vt.visualLegacy.update(pe),vt.destroyed))return;vt.onResizing(pe.viewport,pe.resizeMode)}else if(vt.visualHasMethod("update")){if(yield vt.visualLegacy.update(pe),vt.destroyed)return}else(!pe.type||pe.type&u.EP.Data)&&vt.onDataChanged(_.pick(pe,["dataViews","operationKind"])),pe.type&u.EP.ViewMode&&vt.onViewModeChanged(pe.viewMode)})()}destroy(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1,this.destroyed=!0}enumerateObjectInstances(pe){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(pe)}enumerateObjectRepetition(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()}enumerateObjectInstancesAsync(pe){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(pe):this.promiseFactory.resolve(this.enumerateObjectInstances(pe))}enumerateObjectRepetitionAsync(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}onResizing(pe,vt){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(pe,vt)}onDataChanged(pe){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(pe)}onViewModeChanged(pe){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(pe)}onSelectionStateChanged(pe){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(pe)}onClearSelection(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()}onRestoreSelection(pe){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(pe)}canResizeTo(pe){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(pe)}unwrap(){return this.visual}getTelemetryInformation(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()}getFormattingModel(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()}getFormattingModelAsync(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(pe){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(pe)}getSubSelectionStyles(pe){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualAdapter.getSubSelectionStyles(pe)}getSubSelectionShortcuts(pe,vt){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualAdapter.getSubSelectionShortcuts(pe,vt)}getSubSelectables(pe){if(this.visualHasMethod("getSubSelectables"))return this.visualAdapter.getSubSelectables(pe)}getNextSubSelectable(pe,vt){if(this.visualHasMethod("getNextSubSelectable"))return this.visualAdapter.getNextSubSelectable(pe,vt)}getSubSelectionStylesAsync(pe){return this.visualHasMethod("getSubSelectionStylesAsync")?this.visualAdapter.getSubSelectionStylesAsync(pe):this.promiseFactory.resolve(this.getSubSelectionStyles(pe))}getSubSelectionShortcutsAsync(pe,vt){return this.visualHasMethod("getSubSelectionShortcutsAsync")?this.visualAdapter.getSubSelectionShortcutsAsync(pe,vt):this.promiseFactory.resolve(this.getSubSelectionShortcuts(pe,vt))}getSubSelectablesAsync(pe){return this.visualHasMethod("getSubSelectablesAsync")?this.visualAdapter.getSubSelectablesAsync(pe):this.promiseFactory.resolve(this.getSubSelectables(pe))}onDataViewObjectChanged(pe,vt){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(pe,vt)}get visualNew(){if(!this.legacy)return this.visual}get visualLegacy(){if(this.legacy)return this.visual}get visualAdapter(){return this.visual}visualHasMethod(pe){var vt=this.legacy?this.visualLegacy:this.visualNew;return(0,Vr.Xf)(this.plugin.name)?vt&&_.isFunction(vt[pe])&&vt.visualHasMethod(pe):vt&&_.isFunction(vt[pe])}getVersionIndex(pe){if(pe)for(var vt=Dr().length,Mt=0;Mt<vt;Mt++)if(Dr()[Mt].version===pe)return Mt;return-1}overloadMethods(){var pe=this.getCompiledOverloads();for(var vt in pe)this[vt]=pe[vt]}getCompiledOverloads(){for(var pe={},vt=this.apiVersionIndex,Mt=this.visualNew,Ot=0;Ot<=vt;Ot++){var zt=Dr()[Ot].overloads;_.isFunction(zt)&&_.assign(pe,zt(Mt,this.host))}return pe}}return(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"enumerateObjectInstancesAsync",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"enumerateObjectRepetitionAsync",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Number]),(0,e.__metadata)("design:returntype",void 0)],oe.prototype,"onResizing",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],oe.prototype,"onDataChanged",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],oe.prototype,"onViewModeChanged",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],oe.prototype,"onSelectionStateChanged",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],oe.prototype,"onClearSelection",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Boolean)],oe.prototype,"canResizeTo",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"getTelemetryInformation",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"getFormattingModelAsync",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",["function"==typeof(kr=typeof TFormattingPlaceholder<"u"&&TFormattingPlaceholder)?kr:Object]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"resolveFormattingPlaceholder",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionStyles",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String]),(0,e.__metadata)("design:returntype",Array)],oe.prototype,"getSubSelectionShortcuts",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Array)],oe.prototype,"getSubSelectables",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Boolean]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"getNextSubSelectable",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionStylesAsync",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectionShortcutsAsync",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Object)],oe.prototype,"getSubSelectablesAsync",null),(0,e.__decorate)([Nr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,Number]),(0,e.__metadata)("design:returntype",Array)],oe.prototype,"onDataViewObjectChanged",null),oe})()},2185:function(Ce,k,r){r.d(k,{L:function(){return y}});var a=r(454865),e=r(438043),u=r(124463),t=["displayName","description","placeHolderText"],C={get:V=>V,getOptional:V=>V,format:V=>V};function y(V){V.apiVersion?function(V){!function(V){V&&(function(V){for(var g in V){var v=V[g];if(v){var f=v.properties;if(f)for(var S in f){var P=f[S];if(P){var D=P.type;D&&D.enumeration&&(D.enumeration=(0,u.i)(D.enumeration))}}}}}(V.objects),function(V){for(var g in V){var v=V[g];v&&v.kind&&(v.kind=n(v.kind.toString()))}}(V.dataRoles),function(V){for(var g in V){var v=V[g];if(v){var f=v.conditions;if(f)for(var S in f){var P=f[S];if(P)for(var D in P){var M=P[D];M&&M.kind&&(P[D].kind=n(M.kind.toString()))}}}}}(V.dataViewMappings))}(V.capabilities)}(V):function(V){!function(V){V&&(function(V){for(var g in V){var v=V[g];if(v){var f=(v=V[g]=_.mapValues(v,b)).properties;if(f)for(var S in f){var P=f[S];if(P){var D=(P=f[S]=_.mapValues(P,b)).type;if(D&&D.enumeration&&_.isFunction(D.enumeration.members)){var M=D.enumeration.members().map(E=>_.mapValues(E,b));D.enumeration=(0,u.i)(M)}}}}}}(V.objects),function(V){for(var g in V){var v=V[g];v&&(V[g]=_.mapValues(v,b))}}(V.dataRoles))}(V.capabilities)}(V)}function n(V){switch(V.toLowerCase()){case"grouping":case a.DW.Grouping.toString():return a.DW.Grouping;case"measure":case a.DW.Measure.toString():return a.DW.Measure;case"groupingormeasure":case a.DW.GroupingOrMeasure.toString():return a.DW.GroupingOrMeasure}}function b(V,g){return _.isString(V)||-1===_.indexOf(t,g)?V:(0,e.G)(V,C)}},625076:function(Ce,k,r){r.d(k,{H:function(){return o},a:function(){return i}});var a=r(883803),e=r(383098),u=r(992330),t=r(39032),C=r(845856),y=r(534721);class i{constructor(h,d,n,s,p,l,m){this.wrappedVisual=h,this.visualPlugin=d,this.promiseFactory=n,this.telemetryService=s,this.isPluginInError=p,this.certifiedEventsService=l,this.silent=m,this.initCalled=!1,this.visualLoadStartTime=(0,t.z)(),this.startTimeISO=(new Date).toISOString()}init(h){if(this.initCalled=!0,h&&h.host&&h.host.telemetry){var d=h.host.telemetry();this.visualName=d&&d.visualName,this.instanceId=d&&d.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(()=>this.wrappedVisual.init(h))}checkInit(){return!!this.initCalled||(C.f.assertFail("Another visual method was called before init"),!1)}destroy(){this.wrappedVisual.destroy&&this.executeSafely(()=>this.wrappedVisual.destroy())}update(h){var d=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync((0,a.Z)(function*(){if(yield d.wrappedVisual.update(h),d.telemetryService&&d.startTimeISO&&d.visualPlugin.custom){var{version:n,apiVersion:s}=d.visualPlugin,p=(new Date).toISOString();d.telemetryService.logEvent(u.ZX,{name:d.visualPlugin.name,apiVersion:s,custom:!!d.visualPlugin.custom,visualVersion:n,visualName:d.visualName,instanceId:d.instanceId,start:d.startTimeISO,end:p,isError:d.isPluginInError,errorSource:"User"}),d.startTimeISO=null,d.visualLoadStartTime&&(d.certifiedEventsService?.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:s&&(0,y.OA)(s)?.major,apiMinorVersion:s&&(0,y.OA)(s)?.minor,visualMajorVersion:n&&(0,y.OA)(n)?.major,visualMinorVersion:n&&(0,y.OA)(n)?.minor},activityName:u.py,correlationId:d.telemetryService?.root?.id,operationEndTime:(0,t.z)(),operationStartTime:d.visualLoadStartTime,visualId:d.visualPlugin.name}),d.visualLoadStartTime=null)}}))}onResizing(h,d){this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(()=>this.wrappedVisual.onResizing(h,d))}onDataChanged(h){this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(()=>this.wrappedVisual.onDataChanged(h))}onViewModeChanged(h){this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(()=>this.wrappedVisual.onViewModeChanged(h))}onSelectionStateChanged(h){this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(()=>this.wrappedVisual.onSelectionStateChanged(h))}onClearSelection(){this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(()=>this.wrappedVisual.onClearSelection())}onRestoreSelection(h){return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(()=>this.wrappedVisual.onRestoreSelection(h))}canResizeTo(h){if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(()=>this.wrappedVisual.canResizeTo(h))}enumerateObjectInstances(h){if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectInstances(h))}enumerateObjectRepetition(){if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(h){return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectInstancesAsync(h)):this.promiseFactory.resolve(this.enumerateObjectInstances(h))}enumerateObjectRepetitionAsync(){return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var h=this.wrappedVisual;return h.unwrap?h.unwrap():h}visualHasMethod(h){var d=this.wrappedVisual;return d&&d.visualHasMethod(h)}getTelemetryInformation(){if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(()=>this.visualAdapter.getFormattingModelAsync()):this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(h){if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(()=>this.wrappedVisual.resolveFormattingPlaceholder(h))}getSubSelectionStyles(h){if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionStyles(h))}getSubSelectionShortcuts(h,d){if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcuts(h,d))}getSubSelectables(h){if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(()=>this.wrappedVisual.getSubSelectables(h))}getNextSubSelectable(h,d){if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(()=>this.wrappedVisual.getNextSubSelectable(h,d))}getSubSelectionStylesAsync(h){return this.checkInit(),this.wrappedVisual.getSubSelectionStylesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionStylesAsync(h)):this.promiseFactory.resolve(this.getSubSelectionStyles(h))}getSubSelectionShortcutsAsync(h,d){return this.checkInit(),this.wrappedVisual.getSubSelectionShortcutsAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(h,d)):this.promiseFactory.resolve(this.getSubSelectionShortcuts(h,d))}getSubSelectablesAsync(h){return this.checkInit(),this.wrappedVisual.getSubSelectablesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectablesAsync(h)):this.promiseFactory.resolve(this.getSubSelectables(h))}onDataViewObjectChanged(h,d){if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(()=>this.wrappedVisual.onDataViewObjectChanged(h,d))}executeSafely(h){try{return h()}catch(d){this.telemetryService&&this.logVisualExceptionEvent(d)}}executeSafelyAsync(h){var d=this;return(0,a.Z)(function*(){try{return yield h()}catch(n){d.telemetryService&&d.logVisualExceptionEvent(n)}})()}logVisualExceptionEvent(h){o(h,this.visualPlugin,this.visualName,this.instanceId,this.telemetryService,this.certifiedEventsService)}}function o(c,h,d,n,s,p){var l=!!h?.custom,{version:m,apiVersion:b}=h||{};s.logEvent(u.Lj,{visualType:h.name,isCustom:l,apiVersion:b,visualName:d,instanceId:n,isDeprecated:!!h.isDeprecated,source:c.fileName,lineNumber:c.lineNumber,columnNumber:c.columnNumber,message:l?void 0:(0,e.CX)(c),stack:l?void 0:(0,e.bL)(c)}),l&&p?.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:b&&(0,y.OA)(b)?.major,apiMinorVersion:b&&(0,y.OA)(b)?.minor,visualMajorVersion:m&&(0,y.OA)(m)?.major,visualMinorVersion:m&&(0,y.OA)(m)?.minor,isDeprecated:!!h?.isDeprecated},activityName:u.d3,activityStatus:"Failed",correlationId:s?.root?.id,visualId:h?.name})}},155837:function(Ce,k,r){function a(C){return new u(C)}function e(C){return new t(C)}r.d(k,{D:function(){return a},o:function(){return e}});class u{constructor(y){this.colorPalette={},this.colorIndex=0,this.colors=y}getColor(y){var i=this.colorPalette[y];if(i)return i;var o=this.colors;return i=this.colorPalette[y]=o[this.colorIndex++],this.colorIndex>=o.length&&(this.colorIndex=0),i}reset(){return this.colorIndex=0,this.colorPalette={},this}}class t extends u{constructor(y){var i=y.colorPalette.dataColors;super(i.getAllColors()),this.isHighContrast=y.isHighContrast,this.foreground=y.colorPalette.foreground,this.foregroundLight=y.colorPalette.foregroundLight,this.foregroundDark=y.colorPalette.foregroundDark,this.foregroundNeutralLight=y.colorPalette.foregroundNeutralLight,this.foregroundNeutralDark=y.colorPalette.foregroundNeutralDark,this.foregroundNeutralSecondary=y.colorPalette.foregroundNeutralSecondary,this.foregroundNeutralSecondaryAlt=y.colorPalette.foregroundNeutralSecondaryAlt,this.foregroundNeutralSecondaryAlt2=y.colorPalette.foregroundNeutralSecondaryAlt2,this.foregroundNeutralTertiary=y.colorPalette.foregroundNeutralTertiary,this.foregroundNeutralTertiaryAlt=y.colorPalette.foregroundNeutralTertiaryAlt,this.foregroundSelected=y.colorPalette.foregroundSelected,this.foregroundButton=y.colorPalette.foregroundButton,this.background=y.colorPalette.background,this.backgroundLight=y.colorPalette.backgroundLight,this.backgroundNeutral=y.colorPalette.backgroundNeutral,this.backgroundDark=y.colorPalette.backgroundDark,this.hyperlink=y.colorPalette.hyperlink,this.visitedHyperlink=y.colorPalette.visitedHyperlink,this.mapPushpin=y.colorPalette.mapPushpin,this.shapeStroke=y.colorPalette.shapeStroke;var o=i.getSentimentColors();this.bad=o.bad,this.neutral=o.neutral,this.good=o.good;var c=i.getGradientColors();this.minimum=c.minColor,this.center=c.midColor,this.maximium=c.maxColor,this.null=c.nullColor,this.negative=o.bad,this.positive=o.good,this.selection=y.colorPalette.selection,this.separator=y.colorPalette.separator}}},479008:function(Ce,k,r){r.d(k,{Z:function(){return t}});var a=r(231384),e=r(534721),u=r(132640);class t{constructor(y,i=!1){this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=y.hostServices,this.apiVersion=y.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=i}select(y,i=!1){var o=this.promiseFactory.defer();return y?(y instanceof Array||(y=[y]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(y,i):(this.selectInternal(y,i),this.sendSelectionToHost(this.selectedIds,i)),o.resolve(this.selectedIds),o.promise):(o.reject(),o.promise)}showContextMenu(y,i,o){var c=this.promiseFactory.defer();return y||(y={}),this.sendContextMenuToHost(y,i,o),c.resolve(null),c.promise}toggleExpandCollapse(y,i){var o=this.promiseFactory.defer();return this.sendExpandCollapseToHost(y,!0===i),o.resolve(null),o.promise}hasSelection(){return this.selectedIds.length>0}clear(){var y=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),y.resolve(null),y.promise}getSelectionIds(){return this.selectedIds}setSelectionIds(y){this.selectedIds=y}sendSelectionToHost(y,i){if(this.noIframe||!this.apiVersion||(0,e.lt)(this.apiVersion,"2.0.0")){var o=this.dataPointObjectName,c={type:0,visualObjects:_.chain(y).filter(d=>d.hasIdentity()).map(d=>({objectName:o,selectorsByColumn:d.getSelectorsByColumn()})).value(),selectors:void 0,selectionMode:i?3:0},h=!1;_.isEmpty(y)||(h=y[0].getSelector()&&!y[0].getSelectorsByColumn()),h&&(c.selectors=_.chain(y).filter(d=>d.hasIdentity()).map(d=>d.getSelector()).value()),this.hostServices.onSelect(c)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(y,i))}sendContextMenuToHost(y,i,o){y&&i&&this.hostServices.customVisualOnContextMenu({data:[y],position:i,dataRoles:o?[o]:void 0})}sendExpandCollapseToHost(y,i){y&&null!=y.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:y,entireLevel:i})}selectInternal(y,i){y.length<1||(y.length>1?this.selectedIds=i?y.filter(o=>!this.selectedIds.some(c=>c.equals(o))).concat(this.selectedIds.filter(o=>!y.some(c=>c.equals(o)))):y:t.containsSelection(this.selectedIds,y[0])?this.selectedIds=i?this.selectedIds.filter(o=>!y[0].equals(o)):this.selectedIds.length>1?y:[]:i?this.selectedIds.push(y[0]):this.selectedIds=y)}static containsSelection(y,i){return y.some(o=>i.equals(o))}static getSelectorsByColumn(y){return y&&y[0]instanceof a.r?y:_(y).filter(i=>i&&i.hasIdentity).map(i=>i.getSelectorsByColumn()).compact().value()}static createChangeForFilterProperty(y,i){var o={},c={objectName:y.objectName,selector:void 0,properties:o};return null==i?(o[y.propertyName]={},{remove:[c]}):(o[y.propertyName]=i,{merge:[c]})}getFilterFromSelectors(){if(this.hasSelection()){var y=_.chain(this.selectedIds).filter(i=>i.hasIdentity()).map(i=>i.getSelector()).value();return(0,u.mV)(y,!1)}}prepareCustomVisualSelectEventArgs(y,i){var o={selectionIds:[],multiSelect:i};if(y&&y[0]&&(y[0].dataMap||y[0].measures))for(var c of y)o.selectionIds.push(c);return o}applySelectionFilter(){this.hostServices.persistProperties(t.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))}registerOnSelectCallback(y){this.onSelectCallback=y}invokeOnSelectCallback(y){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(y)}}},345132:function(Ce,k,r){r.d(k,{Zm:function(){return e},gU:function(){return C},s$:function(){return t}});var a=r(939123);function e(y){return new u(y)}class u{constructor(i){this.hostServices=i.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}trace(i,o){this.telemetryService&&this.telemetryService.trace(i,o)}}function t(y){switch(y){case 3:return"VisualEventError";case 2:return"VisualEventTrace";case 0:return"VisualEventRenderStarted";case 1:return"VisualEventRenderCompleted";default:return void a.fF.assertFail("Unknown VisualEventType: "+y)}}function C(y){switch(y){case"VisualEventError":return 3;case"VisualEventTrace":return 2;case"VisualEventRenderStarted":return 0;case"VisualEventRenderCompleted":return 1;default:return void a.fF.assertFail("Unknown VisualEventType: "+y)}}},858520:function(Ce,k,r){r.d(k,{r:function(){return e}});var a=r(479008);function e(t){return new u(t)}class u{constructor(C){this.hostServices=C.hostServices,this.tooltipService=this.hostServices.tooltips()}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(C){if(this.enabled()){var y={coordinates:C.coordinates,dataItems:C.dataItems,isTouchEvent:C.isTouchEvent,identities:a.Z.getSelectorsByColumn(C.identities)};this.tooltipService.show(y)}}move(C){if(this.enabled()){var y={coordinates:C.coordinates,dataItems:C.dataItems,isTouchEvent:C.isTouchEvent,identities:a.Z.getSelectorsByColumn(C.identities)};this.tooltipService.move(y)}}hide(C){this.enabled()&&this.tooltipService.hide(C)}}},105525:function(Ce,k,r){r.d(k,{FE:function(){return u},UG:function(){return t},Ug:function(){return y}});var a=r(939123),e=r(132640);function u(i){var c=null!=i.data||null!=i.selectors,h=_.some(i.visualObjects,d=>d.selectorsByColumn&&d.selectorsByColumn.metadata&&!_.isArray(d.selectorsByColumn.metadata));return c||h}function t(i){var o;if(i.data2)o=i.data2;else{if(i.selectors||i.data)return a.fF.assertFail("A visual is using selectors instead of selectorsByColumn.  Some features may not work as expected."),_.map(i.selectors||i.data,d=>function(i){if(i){var o={};return o[""]=i.data,{dataMap:o,metadata:[i.metadata]}}}(d));if(!i.visualObjects)return[];o=_.map(i.visualObjects,d=>d.selectorsByColumn)}for(var c of o){var h=c.metadata;h&&!_.isArray(h)&&(c.metadata=[h])}return o}function y(i){return null!=i.selectors?i.selectors:i.data?i.data:i.visualObjects?_.map(i.visualObjects,o=>(0,e.tV)(o.selectorsByColumn)):i.data}},773221:function(Ce,k,r){r.d(k,{LG:function(){return c},dg:function(){return h}});var a=r(939123),e=r(737466),u=r(340678);var o=window;function c(s){return d(s,window.resourceLoaderUrl||"/explore/resourcePackageItem/",!0===o.resourceLoaderIncludePackageId)}function h(s){var p=s.getAbsoluteUri("/sharedresources");return d(s,p,!1)}function d(s,p,l){return a.fF.assertValue(s,"httpService"),a.fF.assertValue(p,"uri"),a.fF.assertValue(l,"includePackageIdInUri"),new n(s,p,l)}class n{constructor(p,l,m){this.httpService=p,this.uri=l,this.includePackageIdInUri=m}get(p,l,m,b){var V=this.uri;this.includePackageIdInUri&&(V=this.uri+p+"/");var g=e.b$.urlCombine(V,_.map(m.split("/"),f=>encodeURIComponent(f)).join("/")),v=this.httpService.powerbiRequestOptions();return v.timeout=u.JZ,v.responseType="text",b&&null!=b.retries&&(v.retryCount=b.retries),this.httpService.get(g,v).then(f=>f.data)}getBlob(p,l,m,b){var V=this.uri;this.includePackageIdInUri&&(V=this.uri+p+"/");var g=e.b$.urlCombine(V,encodeURIComponent(m)),v=this.httpService.powerbiRequestOptions();return v.responseType=e.t6,b&&null!=b.retries&&(v.retryCount=b.retries),this.httpService.get(g,v).then(f=>f.data)}}},2387:function(Ce,k,r){r.d(k,{C:function(){return h}});var a=r(866109),e=r(70994),u=r(345132),t=r(939123),C=r(657611),y=r(795809),i=r(358929),o=r(992330);function h(s,p,l,m,b,V,g,v,f){return t.fF.assertValue(s,"messageProxy"),new n(s,p,l,m,b,V,g,v,f)}var n=(()=>{class s{constructor(l,m,b,V,g,v,f,S,P=15e3){this.messageProxy=l,this.telemetryService=m,this.certifiedEventsService=b,this.approvedResourcesService=V,this.featureSwitchService=g,this.isDebugVisual=v,this.promiseFactory=f,this.privilegeService=S,this.updateTimeOut=P,this.telemetryEventsPayloadLimit=4096,this.methodQueue=[],this.isSandboxReady=!1,this.isVisualReady=!1,this.telemetryUsageCount=0,t.fF.assertValue(l,"messageProxy"),this.deferredCache={},this.messageProxy.on(C.et,D=>this.onMessageReceived(D)),this.messageProxy.on(C.zM,D=>this.onMessageError(D))}get plugin(){return this._plugin}get isDebug(){return this.isDebugVisual}init(l,m){this.visualDelegate=l,m&&(this._plugin=m,this.isSandboxReady=!0)}setPluginReadyHandler(l){this.pluginReadyHandler=l}logEvent(...l){if(!this.telemetryService)return null;var b,m=l.shift();return b="string"==typeof m?this.getEventFactory(m):m,this.telemetryService.logEvent.apply(this.telemetryService,[b,...l])}logStandardizedFeatureEvent(l){l.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logStandardizedFeatureEvent(l)}logTimedStandardizedFeatureEvent(l){l.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logTimedStandardizedFeatureEvent(l)}getEventFactory(l){switch(l){case"VisualEventError":return i.aW;case"VisualEventTrace":return i.qz;case"VisualException":return o.Lj;case"VisualEventRenderStarted":return i.JT;case"VisualEventRenderCompleted":return i.GL;case"VisualApiUsage":return o.ZX;default:return void t.fF.assertFail("Unknown eventType: "+l)}}logVisualEvent(...l){var m=this.plugin.name;if(!1!==this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService&&(this.approvedResourcesService.isApprovedResource(m)||this.approvedResourcesService.isTrustedResource(m))){var[b,V,g]=l,v={visualType:m,instanceId:V instanceof Object?V.instanceId:V};g=V instanceof Object?V.payload:g;var f=(0,u.gU)(b);switch(f){case 0:case 1:if(!this.featureSwitchService.featureSwitches.customVisualsPerformanceTelemetry)return;g="";break;case 2:case 3:var S=this.approvedResourcesService.getTelemetryUsageLimit(m);if(this.telemetryUsageCount>=S)return;this.telemetryUsageCount++,this.telemetryUsageCount===S&&this.telemetryService.logEvent(i.Hv,v),g=g?g.substring(0,this.telemetryEventsPayloadLimit):"";break;default:return void t.fF.assertFail("Invalid visual event type: "+f)}return this.logEvent.apply(this,[b,{...v,payload:g}])}}ready(l){t.fF.assertValue(l,"proxyInitOptions"),this.contentWindow=l,this.messageProxy.contentWindow=l,this.isSandboxReady&&this.flushCallStack(),this.messageProxy.flushQueue(),this.isVisualReady=!0}update(l){if((this.featureSwitchService.featureSwitches.cvAssumeAsyncUpdate||this.approvedResourcesService.canManageAsyncUpdate(this.plugin.name))&&l.updateId){var b=this.promiseFactory.defer();this.deferredCache[l.updateId]=b;var V=setTimeout(()=>{b.resolve(null),this.telemetryService.logEvent(i.Tk,{visualType:this.plugin.name,timeOut:this.updateTimeOut,parentId:this.telemetryService.root.id})},this.updateTimeOut);l.updateCallBack=()=>b.resolve(null);var g=this.invoke("update",[l]);return g&&g.catch(v=>b.reject(v)),b.promise.catch(v=>v).finally(()=>{clearTimeout(V),l.updateId&&delete this.deferredCache[l.updateId]}),b.promise}return this.invoke("update",[l]),Promise.resolve(void 0)}invoke(l,m){if(t.fF.assertValue(l,"eventName"),this.isSandboxReady)return this.execute(l,m);this.methodQueue.push({methodName:l,arguments:m})}postMessage(l,m){this.messageProxy.postMessage({eventName:l,arguments:m})}postMessageAsync(l,m){return this.messageProxy.postMessageAsync({eventName:l,arguments:m})}onPluginReady(){this.pluginReadyHandler&&this.pluginReadyHandler(),!this.isSandboxReady&&(this.flushCallStack(),this.isSandboxReady=!0)}destroy(){this.messageProxy.off(C.et),this.messageProxy.off(C.zM),this.messageProxy.destroy(),this.contentWindow=null}execute(l,m){if(_.isFunction(this.visualDelegate[l]))return this.visualDelegate[l].apply(this.visualDelegate,m);this.postMessage(l,m)}flushCallStack(){for(;this.methodQueue.length>0;){var l=this.methodQueue.shift();this.execute(l.methodName,l.arguments)}this.isVisualReady&&this.messageProxy.flushQueue()}onMessageReceived(l){if(this.validateMessageSource(l)){var m=()=>{this.telemetryService.logEvent(i.rZ,{visualType:this._plugin.name,environment:this.visualDelegate.getHostEnvString(),privilege:"postMessage",status:"Rejected",parameters:l.message.eventName})},b=this[l.message.eventName];if("function"==typeof b)return b.approvedMessage?b.apply(this,l.message.arguments):m();if(this.visualDelegate)return"function"==typeof(b=this.visualDelegate[l.message.eventName])&&b.approvedMessage?b.apply(this.visualDelegate,l.message.arguments):m()}}onMessageError(l){this.validateMessageSource(l)&&l.message&&l.message.error&&!_.isEqual(l.message,this.lastErrorMessage)&&(this.telemetryService.logEvent(o.Fd,{visualName:this._plugin.name,debugErrorInfo:l.message.error.eventName+";"+l.message.error.message}),this.lastErrorMessage=_.cloneDeep(l.message))}refreshHostData(){(this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canRefreshHostData(this.plugin.name))&&this.visualDelegate.refreshHostData()}getResourceUrl(l){var m=(0,y.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getResourceUrl(m,l):this.postMessage("handleGetResourceUrlResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:l}])}getAADAuthenticationToken(l){var m=(0,y.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getAADAuthenticationToken(m,l):this.postMessage("handleGetAADAuthenticationTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:l}])}getAADToken(l){var m=(0,y.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getAADToken(m,l):this.postMessage("handleGetAADTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:l}])}getWACToken(l){var m=(0,y.aM)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetWACToken(m)?this.visualDelegate.getWACToken(l.resourceSiteUrl,l.resourceEtag,m,l.promiseId):this.postMessage("handleGetWACTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:l.promiseId}])}renderingStarted(l,m){this.renderEventStartTime=(new Date).toISOString(),this.telemetryService.logEvent(i.hD,{visualType:this.plugin.name,instanceId:l,start:this.renderEventStartTime,end:this.renderEventStartTime,parentId:this.telemetryService.root.id})}renderingFinished(l,m){if(this.deferredCache[m]&&this.deferredCache[m].resolve(null),void 0!==this.renderEventStartTime){var b=(new Date).toISOString();this.telemetryService.logEvent(i.RP,{visualType:this.plugin.name,instanceId:l,start:this.renderEventStartTime,end:b,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0}}renderingFailed(l,m,b){this.deferredCache[m]&&this.deferredCache[m].reject(b),void 0!==this.renderEventStartTime&&(this.telemetryService.logEvent(i.Wv,{visualType:this.plugin.name,instanceId:l,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0)}getWebAccessStatus(l,m){var b=this.privilegeService.getWebAccessStatus(this.plugin,l);this.postMessage("handleGetWebAccessStatus",[{promiseId:m,status:b}])}validateMessageSource(l){return t.fF.assertValue(l,"message"),!!l.source&&!!this.contentWindow&&this.contentWindow===l.source}}return(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],s.prototype,"logEvent",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"logStandardizedFeatureEvent",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"logTimedStandardizedFeatureEvent",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",Object)],s.prototype,"logVisualEvent",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"onPluginReady",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"refreshHostData",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"getResourceUrl",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"getAADAuthenticationToken",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"getAADToken",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"getWACToken",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,String]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"renderingStarted",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,String]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"renderingFinished",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,String,String]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"renderingFailed",null),(0,a.__decorate)([(0,e.td)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[String,Number]),(0,a.__metadata)("design:returntype",void 0)],s.prototype,"getWebAccessStatus",null),s})()},670365:function(Ce,k,r){r.d(k,{s:function(){return e}});var a=r(883803);function e(){return new u}class u{constructor(){this.suppressAnimations=!1}deferRenderOperation(C,y){return(0,a.Z)(function*(){var i=$.Deferred();return setTimeout(()=>{y(),i.resolve()}),i.promise()})()}clearOperationsQueue(){}}},957586:function(Ce,k,r){r.d(k,{z:function(){return C}});var a=r(334169),e=r(939123),u=r(444290),t=r(70994),C=(o,c)=>{e.fF.assertValue(o,"options");var h=o.promiseFactory.defer(c),d=o.visualPlugin;if(o.visualSandbox&&function(o){var c=o.visualPlugin,h=o.featureSwitches||{},d=o.approvedResourceService;return!!c&&(!!(o.approvedResourceService&&o.approvedResourceService.isTrustedResource&&o.approvedResourceService.isTrustedResource(c.name))||!(!(0,u.vh)(c)||!h.approvedResourcesDisabled&&!c.apiVersion&&d&&d.isApprovedResource(c.name))&&h.sandboxVisualsEnabled)}(o)){var n=o.visualSandbox.getVisualPlugin(d,o.telemetryService,o.isDebugVisual);n.createES6?n.createES6().then(s=>h.resolve(s)):n.create?h.resolve((0,t.lm)(n.create(),o.run)):h.reject("either create or createES6 must be defined")}else d.module?d.createES6&&!d.module.css?h.resolve((0,t.nm)(d,d.create,o.promiseFactory,o.telemetryService,void 0,o.run,o.certifiedEventsService)):o.moduleLoader.require({javascript:d.createES6?void 0:d.module.javascript,css:d.module.css}).then(s=>h.resolve((0,t.nm)(d,d.create,o.promiseFactory,o.telemetryService,s,o.run,o.certifiedEventsService)),s=>h.reject(s)):h.resolve((0,t.nm)(d,d.create,o.promiseFactory,o.telemetryService,void 0,o.run,o.certifiedEventsService));return(0,a.w)(h)}},278888:function(Ce,k,r){r.d(k,{f:function(){return u}});var a=r(801148),e=r(98448);function u(C,y,i){return new t(C,y,i)}class t{constructor(y,i,o){this.telemetryService=y,this.visualPlugin=i,this.localizationService=o}logWarnings(y,i){if(!_.isEmpty(y))for(var o of y)o instanceof a.x&&this.logDsrLimitsWarning(o,i)}logDsrLimitsWarning(y,i){var n,s,p,o=y.limits,c=y.getDetails(this.localizationService).message,h=y.code,d=i.type;o.Primary&&(n=this.getLimitString(y.limits.Primary)),o.Secondary&&(s=this.getLimitString(y.limits.Secondary)),o.Intersection&&(p=this.getLimitString(y.limits.Intersection));var l=i.dataViews,m=i&&i.data&&i.data.isFirstSegment,b=m||_.some(l,L=>L&&L.metadata&&L.metadata.segment);if(!b||!1!==m)for(var V of l)if(V&&V.categorical){var g=_.head(V.categorical.categories),v=0;g&&(v=g.values&&g.values.length||0);var f=V.categorical.values&&V.categorical.values.grouped(),S=f&&f.length||0,P=!(!V.categorical.values||!V.categorical.values.source),D=this.visualPlugin.capabilities(i.type),M=D&&D.drilldown&&_.head(D.drilldown.roles),E=!1,w=i.dataTransforms;M&&w&&(E=_.filter(w.selects,L=>L.roles&&L.roles[M]).length>1);var x=void 0,N=this.visualPlugin.getPlugin(i.type);N&&N.getAdditionalTelemetry&&(x=JSON.stringify(N.getAdditionalTelemetry(V))),this.telemetryService.logEvent(e.vE,{errorCode:h,targetVisualType:d,primaryDataReduction:n,secondaryDataReduction:s,intersectionDataReduction:p,primaryCount:v,secondaryCount:S,hasCategoryHierarchy:E,hasDynamicSeries:P,visualTelemetry:x,isSegmented:b,message:c})}}getLimitString(y){switch(y.Type){case 0:return"Top:"+y.Count;case 1:return"Bottom:"+y.Count;case 2:return"Sample:"+y.Count}}}},358929:function(Ce,k,r){r.d(k,{$7:function(){return w},Cr:function(){return j},Fh:function(){return F},GF:function(){return N},GL:function(){return C},Hv:function(){return g},IC:function(){return B},JT:function(){return u},KS:function(){return x},L1:function(){return W},Pp:function(){return J},Px:function(){return U},QC:function(){return R},RP:function(){return c},Tc:function(){return P},Tk:function(){return s},VN:function(){return T},Wv:function(){return d},Yv:function(){return O},aW:function(){return b},aw:function(){return Z},az:function(){return f},hD:function(){return i},kd:function(){return M},qz:function(){return l},rY:function(){return A},rZ:function(){return q},s$:function(){return Q},th:function(){return E}});var a=r(17933),e="PBI.VisualEvent.RenderStarted",u=a.cx[e]=(0,a.b1)(e),t="PBI.VisualEvent.RenderCompleted",C=a.cx[t]=(0,a.b1)(t),y="PBI.VisualEvent.RenderingStarted",i=a.cx[y]=(0,a.b1)(y),o="PBI.VisualEvent.RenderingCompleted",c=a.cx[o]=(0,a.b1)(o),h="PBI.VisualEvent.RenderingFailed",d=a.cx[h]=(0,a.b1)(h),n="PBI.VisualEvent.UpdateTimeOut",s=a.cx[n]=(0,a.b1)(n),p="PBI.VisualEvent.Trace",l=a.cx[p]=(0,a.b1)(p),m="PBI.VisualEvent.Error",b=a.cx[m]=(0,a.b1)(m),V="PBI.VisualEvent.ReachedTelemetryUsageLimit",g=a.cx[V]=(0,a.b1)(V),v="PBI.VisualEvent.LaunchURL",f=a.cx[v]=(0,a.b1)(v),S="PBI.VisualEvent.DownloadContentValidationFailed",P=a.cx[S]=(0,a.b1)(S),D="PBI.VisualEvent.DownloadContent",M=a.cx[D]=(0,a.b1)(D),E="PBI.VisualEvent.GetAvailableServicePlans",w=a.cx[E]=(0,a.b1)(E),x="PBI.VisualEvent.LicenseIsUnsupportedEnv",N=a.cx[x]=(0,a.b1)(x),L="PBI.VisualEvent.LicenseServiceIsUndefined",B=a.cx[L]=(0,a.b1)(L),I="PBI.VisualEvent.ServicePlansResponseIsUndefined",W=a.cx[I]=(0,a.b1)(I),O="PBI.VisualEvent.NotifyLicenseRequired",F=a.cx[O]=(0,a.b1)(O),A="PBI.VisualEvent.ClearLicenseNotification",T=a.cx[A]=(0,a.b1)(A),R="PBI.VisualEvent.NotifyLicenseFeatureBlocked",U=a.cx[R]=(0,a.b1)(R),z="PBI.VisualEvent.Privileges",j=a.cx[z]=(0,a.b1)(z),H="PBI.VisualEvent.Privileges.Violation",q=a.cx[H]=(0,a.b1)(H),G="PBI.VisualEvent.ExternalMigration.UndefinedGet",J=a.cx[G]=(0,a.b1)(G),Z="PBI.VisualEvent.CapabilitiesTelemetry",Q=a.cx[Z]=(0,a.b1)(Z)},446068:function(Ce,k,r){r.d(k,{P:function(){return y}});var a=r(450619),e=r(939123),u=r(845856),t=r(871344),C=r(51651);class y{static cloneThemeCollection(o){return _.clone(o)}static loadHighContrastTheme(o,c,h,d,n){return n&&!h.isThemeLoaded(n)?y.loadTheme(2,o,c,h,d,n):o.resolve()}static loadThemeAndBaseTheme(o,c,h,d,n){try{var s=[],p=n.customTheme,l=n.baseTheme&&n.baseTheme.name;p&&p.name&&!h.isThemeLoaded(p.name)&&s.push(y.loadTheme(n.customTheme.type,o,c,h,d,p.name,p.version,!0)),l&&!h.isThemeLoaded(l)&&s.push(y.loadTheme(n.baseTheme.type,o,c,h,d,l));var m=o.defer();return o.all(s).finally(()=>{var b=!0;p&&p.name&&!h.isThemeLoaded(p.name)&&(b=!1,u.f.error("Error loading custom theme",!1)),l&&!h.isThemeLoaded(l)&&(b=!1,u.f.error("Error loading base theme",!1)),m.resolve(b)}),m.promise}catch(b){return u.f.error(`Error loading report theme - ${y.getLoadError(b)}`),o.resolve(!1)}}static loadTheme(o,c,h,d,n,s,p,l){return e.fF.assert(()=>1===o||2===o,"resource type should either be registered or shared"),1===o?y.loadRegisteredResourceTheme(c,h,d,n,s,p):2===o?y.loadSharedResourceTheme(s,n,d,h,c,p,l):void 0}static getLoadError(o){return(0,C.PR)(o)}static loadRegisteredResourceTheme(o,c,h,d,n,s){return(0,C._q)(o,c,d,n).then(p=>{y.resolveLoadedTheme(n,p,h,s)}).catch(p=>{u.f.error(`Error loading theme - ${y.getLoadError(p)}`)})}static loadSharedResourceTheme(o,c,h,d,n,s,p){return(0,C.FD)(c,{packageType:2,itemName:o},d,n,{itemTypeFromReference:p?t.Ut.CustomTheme:t.Ut.BaseTheme}).then(l=>{y.resolveLoadedTheme(o,l,h,s)}).catch(l=>{u.f.error(`Error loading base theme ${o} - ${y.getLoadError(l)}`)})}static resolveLoadedTheme(o,c,h,d){if(!h.isThemeLoaded(o)){var n=(0,a.K)(c);e.fF.assertValue(n,"ThemeUtils.resolveLoadedTheme - The loaded theme is invalid."),n&&h.addCustomTheme(o,n,d)}}}},521006:function(Ce,k,r){r.d(k,{p:function(){return er}});var a=r(534721),e=r(939123),u=r(454865),t=r(145741),C=r(70994),y=r(29709),i=r(181012),o=r(831641),c=r(976205),h=r(479008);class d{constructor(K,Y,xe){this.powerbiHost=K,this.visualHostTooltipService=xe,this.tooltipService=new n(Y,this.visualHostTooltipService)}onSelecting(K){K.action=0}onSelect(K){this.powerbiHost&&this.powerbiHost.onSelect(K)}persistProperties(K){this.powerbiHost&&this.powerbiHost.persistProperties(K)}tooltips(){return this.visualHostTooltipService}applyJsonFilter(K,Y,xe,yt){this.powerbiHost.applyJsonFilter(K,Y,xe,yt)}applyIdentityFilter(K,Y,xe,yt){this.powerbiHost.applyIdentityFilter(K,Y,xe,yt)}getJSONFilter(K,Y){return this.promiseFactory().reject()}createSelectionIdBuilder(){return new t.dw}createTooltipService(){return this.tooltipService}createSelectionManager(K){return new h.Z({hostServices:this,apiVersion:K},!0)}getLocalizedString(K){return null}locale(){return navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}onSwitchFocusModeState(K){this.powerbiHost&&this.powerbiHost.onSwitchFocusModeState(K)}onDisplayWarningIcon(K,Y){if(this.powerbiHost){var Tt=c.Jh,$t=new i.V(c.j,K.substr(0,c.IQ),Y.substr(0,Tt));this.powerbiHost.setWarnings([$t])}}loadMoreData(){}loadWindow(K){}setShouldDeferData(){}fetchMoreData(K){return!0}launchUrl(K){}destroy(){}refreshHostData(){}onContextMenu(){}authenticationService(){return null}telemetry(){return null}localStorageService(){return null}eventService(){return null}licenseManagerService(){return null}acquireAADTokenService(){return null}visualTimeSynchronization(){return null}alertScreenReader(K){}alertWithDebounce(K,Y){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(){return!1}setNodeExpansionState(K){}setLevelExpansionState(K){}setCanDrill(K){}onCustomSort(K){}getViewMode(){return 0}getEditMode(){return 0}setWarnings(K){}getWarnings$(){}setToolbar(K){}shouldRetainSelection(){return!1}geocoder(){return(0,y.Wy)()}geolocation(){e.fF.assertFail("Not being used anywhere")}promiseFactory(){return(0,o.p)()}ignoreDefaultFilter(){return!1}drill(K){}getIdentityDisplayNames(K){}setIdentityDisplayNames(K){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(K,Y){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return 0}dropdown(){}networkAvailability(){}downloadService(){}setAriaMetadata(K){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(K){}onClearLicenseNotification(){}onNotifyFeatureBlocked(K){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){return null}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){return null}setVisualAnnotationsResponse(K){}annotations(){}enableLoadMoreData(K){}}class n{constructor(K,Y){e.fF.assert(()=>!!Y,"visualHostTooltip should be defined"),this.tooltipService=Y,this.element=K}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(K){if(this.enabled()){var Y={coordinates:this.fixCoordinates(K.coordinates),dataItems:K.dataItems,isTouchEvent:K.isTouchEvent,identities:h.Z.getSelectorsByColumn(K.identities)};this.tooltipService.show(Y)}}move(K){if(this.enabled()){var Y={coordinates:this.fixCoordinates(K.coordinates),dataItems:K.dataItems,isTouchEvent:K.isTouchEvent,identities:h.Z.getSelectorsByColumn(K.identities)};this.tooltipService.move(Y)}}hide(K){this.enabled()&&this.tooltipService.hide(K)}fixCoordinates(K){var Y=this.element.offset();return K[0]=K[0]+Y.left,K[1]=K[1]+Y.top,K}}var p=r(883803),l=r(866109),b=(r(841898),r(606682)),V=r(21545),g=r(96569),v=r(111760),f=r(39032);class P{constructor(K){this.windowMessageProxy=K}logStandardizedFeatureEvent(K){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[K]})}logTimedStandardizedFeatureEvent(K){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[K]})}startTimedStandardizedFeatureEvent(K){return new D(this,K)}}class D{constructor(K,Y){this.certifiedEventsService=K,this.event=_.cloneDeep(Y),this.event.operationStartTime=(0,f.z)()}setAttributes(K){this.event.activityAttributes={...K}}setAttribute(K,Y){this.event.activityAttributes[K]=Y}getAttributes(){return this.event.activityAttributes}complete(K,Y){this.event.resultCode=Y,this.event.activityStatus=K,this.event.operationEndTime=(0,f.z)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)}}var M=r(992330);class N{constructor(K){this.windowMessageProxy=K}getOpenActivityById(K){}suspend(){}resume(){}flush(){}restart(){}stopActivity(K,Y,xe){}startPerfEventDeprecated(K,Y,...xe){return new L({info:{}})}logEvent(K,Y){return e.fF.assert(()=>!_.isArray(Y),"Parameters has to be an object and instance of some telemetry factory arguments"),K===M.ZX?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",Y]}):K===M.Lj?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",Y]}):e.fF.assertFail("Unknown eventFactory name ["+K+"]: sandboxTelemetryProxyService.ts#logEvent"),null}logTelemetryData(K,Y,xe){return null}logChildEvent(K,Y,...xe){}startActivity(K,Y,...xe){return new L({info:{}})}startChildActivity(K,Y,...xe){}startEvent(K,...Y){return new L({info:{}})}startMonitoredActivity(K,Y,xe){var Tt={info:{}};return{activityEvent:Tt,activityDeferred:new L(Tt)}}startChildEvent(K,Y,...xe){return new L({info:{}})}logTrace(K){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(K,Y){}getHostData(){}setExpAssignmentContext(K){}}class L{constructor(K){e.fF.assertValue(K,"event"),this.event=K,this.promise=new Promise((Y,xe)=>{this.onResolve=Y,this.onReject=xe})}resolve(){this.isEnded=!0,this.onResolve()}cancel(K){return K?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})}reject(K){this.isEnded=!0,this.onReject()}isActive(){return!this.isEnded}}class I{constructor(){}getOpenActivityById(K){}suspend(){}resume(){}flush(){}restart(){}stopActivity(K,Y,xe){}startPerfEventDeprecated(K,Y,...xe){return new L({info:{}})}logEvent(K,...Y){return null}logTelemetryData(K,Y,xe){return null}logChildEvent(K,Y,...xe){}startActivity(K,Y,...xe){return new L({info:{}})}startChildActivity(K,Y,...xe){}startEvent(K,...Y){return new L({info:{}})}startMonitoredActivity(K,Y,xe){var Tt={info:{}};return{activityEvent:Tt,activityDeferred:new L(Tt)}}startChildEvent(K,Y,...xe){return new L({info:{}})}logTrace(K){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(K,Y){}getHostData(){}setExpAssignmentContext(K){}}var W=r(231384),O=r(370728),F=r(678023),A=r(885825),T=r(973366),R=r(87769),U=r(73794),z=r(816219),j=r(871344),H=r(916669),q=r(532969),G=r(657611),J=r(2185);function Z(){var it=(0,o.p)(),Y={messageProxy:(0,G.zC)(it,window.parent),promiseFactory:it,resourceProvider:{get:xe=>xe,getOptional:xe=>xe,format:xe=>xe}};return new Q(Y)}class Q{constructor(K){e.fF.assertValue(K.messageProxy,"messageProxy"),e.fF.assertValue(K.promiseFactory,"promiseFactory"),this.messageProxy=K.messageProxy,this.promiseFactory=K.promiseFactory,this.resourceProvider=K.resourceProvider,this.messageProxy.on(G.et,Y=>this.onMessageReceived(Y)),this.hostOrigin=new URL(window.location.href).origin}onMessageReceived(K){if(K.source===parent&&K.origin===this.hostOrigin&&"loadVisualPluginWithContent"===K.message.eventName)return this.loadVisualPluginWithContent.apply(this,K.message.arguments)}loadVisualPluginWithContent(K){var Y=this.promiseFactory.defer(),xe=K.pluginName,yt=K.mappedPluginContent,Tt=yt[j.Ut.CustomVisualJavascript].content,$t=yt[j.Ut.CustomVisualsCss].content;try{(0,H.yO)(xe,Tt),(0,H.QO)(xe,$t);var qt=z.N[xe];qt.iconUrl=(0,q.sG)(xe),qt.content={js:Tt,css:$t,iconBase64:qt.iconUrl},(0,J.L)(qt),qt.capabilities.objects=(0,U.qC)(qt.capabilities.objects,this.resourceProvider),Y.resolve(qt)}catch(hr){Y.reject(hr)}return Y.promise}}function ne(){if(!le){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var it=Z;window.powerbi.visualSandbox.createResourceLoaderHost=()=>it(),le=!0}}var le=!1;ne();var he=r(542666),Se=r(94567),Ke=r(310420),Ge=r(969143),ye=r(366090),we=r(571619),je=r(438043),de=r(359155),Pe=r(693365),Ve=r(528836),Ze=r(944159),Ue=r(428963),Je=r(10013),De=r(707526),ue=r(246135),_e=r(280766);function te(){return window.powerbi||(window.powerbi={}),window.powerbi}var Ne=r(155837),ae=r(132640),Le=r(334673),X=function(it){return it[it.merge=0]="merge",it[it.remove=1]="remove",it}({});var Ye=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function ee(it,K){var Y={get:(xe,yt)=>{var Tt=xe[yt],$t=`${it}.${yt.toString()}`;return void 0===Tt?Ye.has($t)||(function(it){var Y=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[it]});window.parent.postMessage(Y,"*")}($t),Ye.add($t)):Tt&&"object"==typeof Tt&&K>0&&(Tt=new Proxy(Tt,ee($t,K-1))),Tt},set:(xe,yt,Tt)=>(xe[yt]=Tt,!0)};return Y}function Te(){var it;window.powerbi=(it=(0,Ke.wg)(),new Proxy(it,ee("powerbi",3)))}var He=r(473634),qe=r(374645),rt=r(792375),me=r(12857),Ee=r(887669),fe=r(858520),Re=r(105525);class se{constructor(K,Y,xe){this.messageProxy=K,this.promiseFactory=Y,this.sandboxPromiseHandler=xe}acquireAADToken(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[K.id]}),K.deferred.promise}getAcquireAADTokenStatus(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[K.id]}),K.deferred.promise}}class ce{constructor(K,Y,xe){e.fF.assertValue(K,"messageProxy"),e.fF.assertValue(Y,"promiseFactory"),this.messageProxy=K,this.promiseFactory=Y,this.sandboxPromiseHandler=xe}getResourceUrl(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[K.id]}),K.deferred.promise}getAADAuthenticationToken(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[K.id]}),K.deferred.promise}getAADToken(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[K.id]}),K.deferred.promise}getWACToken(K,Y){var xe=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:Y,resourceSiteUrl:K,promiseId:xe.id}]}),xe.deferred.promise}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}class $e{constructor(K,Y,xe){e.fF.assertValue(K,"messageProxy"),e.fF.assertValue(Y,"promiseFactory"),this.messageProxy=K,this.promiseFactory=Y,this.sandboxPromiseHandler=xe}downloadFile(K,Y,xe,yt){throw new Error("Not implemented")}getExportStatus(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[K.id]}),K.deferred.promise}exportVisualsContent(K,Y,xe,yt){var Tt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return K&&Y&&xe&&yt?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[K,Y,xe,yt,Tt.id]}):Tt.deferred.reject(),Tt.deferred.promise}}class pt{constructor(K,Y){this.messageProxy=K,this.instanceId=Y,e.fF.assertValue(K,"messageProxy")}renderingStarted(K){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,K.updateId]})}renderingFinished(K){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,K.updateId]})}renderingFailed(K,Y){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,K.updateId,Y]})}}class Pt{constructor(K,Y,xe){this.messageProxy=K,this.promiseFactory=Y,this.sandboxPromiseHandler=xe,e.fF.assertValue(K,"messageProxy"),e.fF.assertValue(Y,"promiseFactory")}getAvailableServicePlans(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[K.id]}),K.deferred.promise}notifyLicenseRequired(K){var Y=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[K,Y.id]}),Y.deferred.promise}notifyFeatureBlocked(K){var Y=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[K,Y.id]}),Y.deferred.promise}clearLicenseNotification(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[K.id]}),K.deferred.promise}}class Ut{constructor(K,Y,xe){e.fF.assertValue(K,"messageProxy"),e.fF.assertValue(Y,"promiseFactory"),this.messageProxy=K,this.promiseFactory=Y,this.sandboxPromiseHandler=xe}getStorageStatus(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[K.id]}),K.deferred.promise}getStorageData(K){var Y=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[K,Y.id]}),Y.deferred.promise}setStorageData(K,Y){var xe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[K,Y,xe.id]}),xe.deferred.promise}removeStorageData(K){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[K]})}}class Qt{constructor(K,Y,xe){e.fF.assertValue(K,"messageProxy"),e.fF.assertValue(Y,"promiseFactory"),this.messageProxy=K,this.promiseFactory=Y,this.sandboxPromiseHandler=xe}getStorageStatus(){var K=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[K.id]}),K.deferred.promise}getStorageData(K){var Y=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[K,Y.id]}),Y.deferred.promise}setStorageData(K,Y){var xe=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[K,Y,xe.id]}),xe.deferred.promise}removeStorageData(K){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[K]})}}var rr=r(345132);class cr{constructor(K,Y){this.messageProxy=K,e.fF.assertValue(K,"messageProxy"),this.instanceId=Y}trace(K,Y){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[(0,rr.s$)(K),{instanceId:this.instanceId,payload:Y}]})}logStandardizedFeatureEvent(){}}class ht{constructor(K){e.fF.assertValue(K,"messageProxy"),this.messageProxy=K,this.rootElement=window.document.body}serializeIdentities(K){return K&&K[0]instanceof W.r?K:K&&_(K).map(xe=>(0,rt.U9)(xe)).compact().value()}show(K){var Y=K&&{coordinates:K.coordinates,dataItems:K.dataItems,identities:this.serializeIdentities(K.identities),isTouchEvent:K.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[Y]})}move(K){var Y=K&&{coordinates:K.coordinates,dataItems:K.dataItems,identities:this.serializeIdentities(K.identities),isTouchEvent:K.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[Y]})}hide(K){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[K]})}visible(){return!1}isTouchOptimized(){return!1}container(){return this.rootElement}enabled(){return!0}}class Lt{constructor(K,Y,xe){e.fF.assertValue(K,"messageProxy"),e.fF.assertValue(Y,"promiseFactory"),this.messageProxy=K,this.promiseFactory=Y,this.sandboxPromiseHandler=xe}getWebAccessStatus(K){var Y=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[K,Y.id]}),Y.deferred.promise}}class bt{constructor(K){e.fF.assertValue(K,"messageProxy"),this.messageProxy=K}subSelect(K){K&&this.messageProxy.postMessage({eventName:"subSelect",arguments:[K]})}updateRegionOutlines(K){K&&this.messageProxy.postMessage({eventName:"updateRegionOutlines",arguments:[K]})}}var Rt={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},Gt={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};class ir{constructor(K,Y){this.messageProxy=K,this.sandboxPromiseHandler=Y,this.loadMoreDataEnabled=!0,e.fF.assertValue(K,"messageProxy"),this.visualHostTooltipService=new ht(K),this.queryDictionary=ir.parseUrlParameters(),this.authService=function(it,K,Y){return new ce(it,K,Y)}(K,this.promiseFactory(),Y),this.storageService=function(it,K,Y){return new Ut(it,K,Y)}(K,this.promiseFactory(),Y),this.hostWebAccessService=function(it,K,Y){return new Lt(it,K,Y)}(K,this.promiseFactory(),Y),this.contentDownloadService=function(it,K,Y){return new $e(it,K,Y)}(K,this.promiseFactory(),Y),this.licensesManagerService=function(it,K,Y){return new Pt(it,K,Y)}(K,this.promiseFactory(),Y),this.acquireTokenService=function(it,K,Y){return new se(it,K,Y)}(K,this.promiseFactory(),Y),this.storageV2Service=function(it,K,Y){return new Qt(it,K,Y)}(K,this.promiseFactory(),Y),this.hostSubSelectionService=new bt(K),this.dialogPromiseFactory=this.promiseFactory()}initInstanceId(K){this._instanceId=K,this.telemetryService=function(it,K){return new cr(it,K)}(this.messageProxy,K),this.eventsService=function(it,K){return new pt(it,K)}(this.messageProxy,K)}static initialize(){me.I&&(me.I.localizationOptions=ir.createTooltipLocaleOptions())}static createLocaleOptions(){return{null:Gt.NullValue,true:Gt.BooleanTrue,false:Gt.BooleanFalse,NaN:Gt.NaNValue,infinity:Gt.InfinityValue,negativeInfinity:Gt.NegativeInfinityValue,beautify:K=>ir.beautify(K),describe:K=>ir.describeUnit(K),restatementComma:Gt.Restatement_Comma,restatementCompoundAnd:Gt.Restatement_CompoundAnd,restatementCompoundOr:Gt.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:Gt.Tooltip_HighlightedValueDisplayName}}getLocalizedString(K){return Gt[K]}onSelecting(K){K.action=0}onSelect(K){var Y;if((0,Re.FE)(K)){var xe=K;Y={data:(0,rt.OR)(xe.data),data2:(0,rt.U9)(xe.data2),selectors:(0,rt.OR)(xe.selectors)}}else{var{type:yt,visualObjects:Tt}=K;Y={type:yt,visualObjects:(0,rt.kW)(Tt)}}this.messageProxy.postMessage({eventName:"onSelect",arguments:[Y]})}customVisualOnContextMenu(K){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[K]})}customVisualOnExpandCollapse(K){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[K]})}switchFocusModeState(K){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[K]})}displayWarningIcon(K,Y){null!=K&&null!=Y&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[K,Y]})}persistProperties(K){var Y,xe=K;Y=this.apiVersion&&((0,a.gt)(this.apiVersion,"2.0.0")||(0,a.eq)(this.apiVersion,"2.0.0"))?K:xe.merge||xe.remove||xe.replace?{merge:xe.merge?(0,Ee.qC)(xe.merge):null,replace:xe.replace?(0,Ee.qC)(xe.replace):null,remove:xe.remove?(0,Ee.qC)(xe.remove):null}:(0,Ee.qC)(K),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[Y]})}sendSelectionIdsToHost(K){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[K]})}loadMoreData(){this.fetchMoreData(!0)}loadWindow(K){}fetchMoreData(K){return!!this.loadMoreDataEnabled&&(!1!==K&&(K=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[K]}),!0)}launchUrl(K){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[K]})}setCanDrill(K){this.messageProxy.postMessage({eventName:"setCanDrill",arguments:[K]})}drill(K){this.messageProxy.postMessage({eventName:"drill",arguments:[K]})}openModalDialog(K,Y,xe){var yt=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[K,Y,xe,yt.id]}),yt.deferred.promise}tooltips(){return this.visualHostTooltipService}telemetry(){return this.telemetryService}authenticationService(){return this.authService}localStorageService(){return this.storageService}localStorageV2Service(){return this.storageV2Service}eventService(){return this.eventsService}licenseManagerService(){return this.licensesManagerService}acquireAADTokenService(){return this.acquireTokenService}visualTimeSynchronization(){return this.visualTimeSynchronizationService}networkAvailability(){return this.networkAvailabilityService}webAccessService(){return this.hostWebAccessService}visualHostSubSelectionService(){return this.hostSubSelectionService}getSectionsMetadata$(){}getBookmarksMetadata$(){}downloadService(){return this.contentDownloadService}artifactService(){}getQueryStringValue(K){return this.queryDictionary&&this.queryDictionary[K]}locale(){var K=this.queryDictionary&&this.queryDictionary.locale;return e.fF.assert(()=>!!K,"custom visual locale parameter is not valid"),K||navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}applyJsonFilter(K,Y,xe,yt){var Tt=[K,Y,xe];return yt&&Tt.push(yt),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:Tt}),!0}applyIdentityFilter(K,Y,xe,yt){var Tt=[K,Y,xe];return yt&&Tt.push(yt),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:Tt}),!0}getJSONFilter(K,Y){return this.promiseFactory().reject()}static parseUrlParameters(K=window.location.search){var Y={},xe=K;if(xe&&"?"===xe.substr(0,1)){var yt=xe.substr(1).split("&");for(var Tt of yt){var $t=Tt&&Tt.split("=");$t&&2===$t.length&&(Y[decodeURIComponent($t[0])]=decodeURIComponent($t[1]))}}return Y}destroy(){this.messageProxy.destroy(),this.messageProxy=null}refreshHostData(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})}createSelectionIdBuilder(){return new W.r}createTooltipService(){return(0,fe.r)({hostServices:this})}createSelectionManager(K){return new h.Z({hostServices:this,apiVersion:K})}applyCustomSort(K){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[K]})}alertScreenReader(K){}alertWithDebounce(K,Y){}requestFocus(){}setShouldDeferData(){}onDragStart(){}onContextMenu(){}onSwitchFocusModeState(){}onDisplayWarningIcon(){}onClearCustomizedWarningIcon(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(K){return!1}setNodeExpansionState(K){}setLevelExpansionState(K){}onCustomSort(K){}getViewMode(){return 0}getEditMode(){return 0}setWarnings(K){}getWarnings$(){}setToolbar(K){}shouldRetainSelection(){return!1}geocoder(){return(0,y.Wy)()}geolocation(){e.fF.assertFail("Not being used anywhere")}promiseFactory(){return(0,o.p)()}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(K){}setIdentityDisplayNames(K){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(K,Y){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return 0}dropdown(){}setAriaMetadata(K){}onNotifyLicense(K){}onClearLicenseNotification(){}onNotifyFeatureBlocked(K){}getSubSelectionService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}dateTimeFormatService(){}visualExportService(){}setVisualAnnotationsResponse(K){}annotations(){}get instanceId(){return this._instanceId}static beautify(K){var Y=Rt[K];return Y&&Gt[Y]||K}static describeUnit(K){var Y=-1===K?"Auto":K.toString(),xe=Gt["DisplayUnitSystem_E"+Y+"_Title"],yt=K<=0?"{0}":Gt["DisplayUnitSystem_E"+Y+"_LabelFormat"];if(xe||yt)return{title:xe,format:yt}}enableLoadMoreData(K){this.loadMoreDataEnabled=K}}var vr=r(179962),_r=r(95940),Fr=function(it){return it.Click="click",it.MouseUp="mouseup",it.MSPointerUp="MSPointerUp",it.PointerUp="pointerup",it.Dblclick="dblclick",it}({}),Ur=function(it){return it.Tap="tap",it.TouchCancel="touchcancel",it.Touchend="touchend",it}({}),Pr=function(it){return it.KeyDown="keydown",it}({}),Sr=function(it){return it.KeyDown="keydown",it}({}),Or=Object.values(Fr),xr=Object.values(Ur),zr=Object.values(Pr),pr=Or.concat(xr),jr=Object.values(Sr),Rr=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],Kr={Escape:[]},Vt={Escape:[],y:["ctrlKey"],z:["ctrlKey"]},St=(()=>{class it{constructor(Y){this.id=++it.counter,this.deferred=Y}static getLastId(){return it.counter}}return it.counter=0,it})(),Ct=(()=>{class it{constructor(Y){this.id=++it.counter,this.deferred=Y}static getLastId(){return it.counter}}return it.counter=0,it})();class Bt{constructor(){this.promises={},this.promises2={}}CreatePromise(K){var Y=new St(K);return this.promises[Y.id]=Y,Y}ResolvePromise(K,Y){var xe=this.promises[K];xe&&(xe.deferred.resolve(Y),this.promises[K]=null)}RejectPromise(K,Y){var xe=this.promises[K];xe&&(xe.deferred.reject(Y),this.promises[K]=null)}CreatePromise2(K){var Y=new Ct(K);return this.promises2[Y.id]=Y,Y}ResolvePromise2(K,Y){var xe=this.promises2[K];xe&&(xe.deferred.resolve(Y),this.promises2[K]=null)}RejectPromise2(K,Y){var xe=this.promises2[K];xe&&(xe.deferred.reject(Y),this.promises2[K]=null)}}function lr(){return window.powerbi.visuals.plugins}function yr(it){var Y=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[it.blockedURI,it.violatedDirective,it.originalPolicy]});window.parent.postMessage(Y,"*")}function dr(it,K=!1){var Y=(0,o.p)(),xe=(0,G.zC)(Y);ir.initialize(),Se.s.getQueryStringValue("pbiglobals")&&function(){var it=(0,Ke.wg)();it.FilterAction=X,it.VisualDataRoleKind=u.DW,it.VisualDataChangeOperationKind=u.su,it.VisualUpdateType=u.EP,it.VisualPermissions=u.NI,it.formattingService=Le.dx;var K=function(){var it=te();return it.data||(it.data={}),it.data}();Ve.nw&&(K.SQExprBuilder={},K.SQExprBuilder.entity=Ve.nw,K.SQExprBuilder.subqueryRef=Ve.v5,K.SQExprBuilder.namedQueryRef=Ve.kD,K.SQExprBuilder.columnRef=Ve.Oh,K.SQExprBuilder.measureRef=Ve.mv,K.SQExprBuilder.nativeMeasure=Ve.PB,K.SQExprBuilder.nativeColumn=Ve.sl,K.SQExprBuilder.aggregate=Ve.m_,K.SQExprBuilder.selectRef=Ve.xA,K.SQExprBuilder.percentile=Ve.Pe,K.SQExprBuilder.rangePercent=Ve.Mj,K.SQExprBuilder.arithmetic=Ve.Y8,K.SQExprBuilder.floor=Ve.GW,K.SQExprBuilder.scopedEval=Ve.ed,K.SQExprBuilder.filteredEval=Ve.Xw,K.SQExprBuilder.withRef=Ve.Oe,K.SQExprBuilder.groupRef=Ve.Wp,K.SQExprBuilder.hierarchy=Ve.bT,K.SQExprBuilder.propertyVariationSource=Ve.yU,K.SQExprBuilder.hierarchyLevel=Ve.os,K.SQExprBuilder.transformTableRef=Ve.GB,K.SQExprBuilder.transformOutputRoleRef=Ve.hu,K.SQExprBuilder.roleRef=Ve.Wu,K.SQExprBuilder.summaryValueRef=Ve.bO,K.SQExprBuilder.allRolesRef=Ve.lI,K.SQExprBuilder.and=Ve.xD,K.SQExprBuilder.between=Ve.vX,K.SQExprBuilder.inValues=Ve.Sh,K.SQExprBuilder.inTable=Ve.dY,K.SQExprBuilder.or=Ve.or,K.SQExprBuilder.compare=Ve.qu,K.SQExprBuilder.conditional=Ve.u7,K.SQExprBuilder.contains=Ve.r3,K.SQExprBuilder.exists=Ve.Gg,K.SQExprBuilder.equal=Ve.Dg,K.SQExprBuilder.not=Ve.ff,K.SQExprBuilder.startsWith=Ve.Ny,K.SQExprBuilder.nullConstant=Ve.IF,K.SQExprBuilder.emptyString=Ve.$t,K.SQExprBuilder.now=Ve.zO,K.SQExprBuilder.defaultValue=Ve.LS,K.SQExprBuilder.anyValue=Ve.n7,K.SQExprBuilder.boolean=Ve.O7,K.SQExprBuilder.dateAdd=Ve.sO,K.SQExprBuilder.dateTime=Ve.CQ,K.SQExprBuilder.dateSpan=Ve.uQ,K.SQExprBuilder.decimal=Ve.gH,K.SQExprBuilder.double=Ve.tx,K.SQExprBuilder.integer=Ve.cA,K.SQExprBuilder.text=Ve.fL,K.SQExprBuilder.typedConstant=Ve.kQ,K.SQExprBuilder.fromRawValue=Ve.f7,K.SQExprBuilder.sparklineData=Ve.Zy,K.SQExprBuilder.setAggregate=Ue.k,K.SQExprBuilder.removeAggregate=ue.n,K.SQExprBuilder.setPercentOfGrandTotal=Ze.F,K.SQExprBuilder.removePercentOfGrandTotal=De.H,K.SQExprBuilder.setPercentOfRoleTotal=_e.z,K.SQExprBuilder.removePercentOfRoleTotal=Je.E,K.SQExprBuilder.removeEntityVariables=Ve.p7,K.SQExprBuilder.setVisualCalcExpression=Ve.eu,K.SQExprBuilder.fillRule=Ve.x5,K.SQExprBuilder.themeDataColor=Ve.e7,K.SQExprBuilder.resourcePackageItem=Ve.nF,K.SQExprBuilder.discretize=Ve.h5,K.SQExprBuilder.member=Ve.fP,K.SQExprBuilder.color=Ve.$_,K.SQExprBuilder.nativeVisualCalc=Ve.YU,K.SQExprBuilder.fieldExpr=Pe.og,K.SQExprBuilder.fromColumnAggr=Pe.dR,K.SQExprBuilder.fromColumn=Pe.tg,K.SQExprBuilder.fromGroupingColumnAggr=Pe.ym,K.SQExprBuilder.fromGroupingColumn=Pe.Gk,K.SQExprBuilder.fromEntity=Pe.TI,K.SQExprBuilder.fromEntityAggr=Pe.R$,K.SQExprBuilder.fromColumnHierarchyVariation=Pe.qP,K.SQExprBuilder.fromColumnHierarchyLevelVariation=Pe.$x,K.SQExprBuilder.fromColumnSubquery=Pe.W2,K.SQExprBuilder.fromColumnAggrSubquery=Pe.vH,K.SQExprBuilder.fromColumnTransformRef=Pe.U5,K.SQExprBuilder.fromHierarchyLevelAggr=Pe.vf,K.SQExprBuilder.fromHierarchyLevel=Pe.lH,K.SQExprBuilder.fromHierarchy=Pe.Ig,K.SQExprBuilder.fromArithmetic=Pe.jS,K.SQExprBuilder.fromConstant=Pe.Bn,K.SQExprBuilder.fromSparklineData=Pe.a4,K.SQExprBuilder.fromNativeVisualCalc=Pe.Sr),K.Selector={},K.Selector.AllEncompasingKey=ae.xO,K.Selector.isScopeIdentity=ae.yN,K.Selector.isScopeWildcard=ae.QV,K.Selector.isScopeTotal=ae.tQ,K.Selector.isRoleWildcard=ae.j9,K.Selector.isWildcard=ae.qm,K.Selector.isWildcardSelector=ae.N6,K.Selector.toScopeIdentities=ae.CT,K.Selector.getScopeIdentities=ae.gU,K.Selector.filterFromSelector=ae.mV,K.Selector.filterFromSelectorsByColumn=ae.k_,K.Selector.filterExprsFromSelectors=ae.Li,K.Selector.hasIdentities=ae.Yw,K.Selector.equals=ae.fS,K.Selector.equalsDataArray=ae.hp,K.Selector.equalsSelectorsByColumn=ae.Ic,K.Selector.equalsSelectorsByColumnArray=ae.Or,K.Selector.equalsData=ae.cY,K.Selector.getKey=ae.km,K.Selector.getDecomposedKeys=ae.AZ,K.Selector.containsWildcard=ae.GT,K.Selector.hasRoleWildcard=ae._Q,K.Selector.convertSelectorsByColumnToSelector=ae.tV,K.Selector.getSelectorTargetExpr=ae.AV,K.Selector.normalizeSelector=ae.fd,K.Selector.clone=ae.d9,K.SQCompareExpr=Ve.wU,K.createDataViewScopeIdentity=we.TZ,K.createDisplayNameGetter=je.V,K.DataViewObjectDefinitions={},K.DataViewObjectDefinitions.allPropertiesAreEqual=Ge.Pg,K.DataViewObjectDefinitions.clone=Ge.d9,K.DataViewObjectDefinitions.cloneDefinitions=Ge.dn,K.DataViewObjectDefinitions.deleteObjectDefinition=Ge.AV,K.DataViewObjectDefinitions.deleteProperties=Ge.Gc,K.DataViewObjectDefinitions.deleteProperty=Ge.E2,K.DataViewObjectDefinitions.encodePropertyValue=Ge.Lo,K.DataViewObjectDefinitions.ensure=Ge.zx,K.DataViewObjectDefinitions.extend=Ge.l7,K.DataViewObjectDefinitions.getDataBoundExprs=ye.oA,K.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=ye.Sz,K.DataViewObjectDefinitions.getObjectDefinition=Ge.my,K.DataViewObjectDefinitions.getObjectDefinitions=Ge.GQ,K.DataViewObjectDefinitions.getPropertyContainer=Ge.ug,K.DataViewObjectDefinitions.getUnequalProperties=Ge.hu,K.DataViewObjectDefinitions.getValue=Ge.NA,K.DataViewObjectDefinitions.getValueFormatting=Ge.hO,K.DataViewObjectDefinitions.isEmpty=Ge.xb,K.DataViewObjectDefinitions.isObjectPropertySQExpr=Ge.Rc,K.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=Ge.er,K.DataViewObjectDefinitions.isPropertyDefinition=Ge.e4,K.DataViewObjectDefinitions.moveProperty=Ge.TX,K.DataViewObjectDefinitions.propertiesAreEqual=Ge.ES,K.DataViewObjectDefinitions.reduce=Ge.u4,K.DataViewObjectDefinitions.setValue=Ge.sO,K.DataViewObjectDefinitions.setValueFormatting=Ge.On,K.DataViewObjectDefinitions.updateSelector=Ge.xl,K.DataViewObjectDefinitions.visitPropertyDefinitions=Ge.rQ,K.DataViewObjectDefinitions.visitPropertyExprs=Ge.Vj;var Y=function(){var it=te();return it.extensibility||(it.extensibility={}),it.extensibility}();Y.createColorPalette=Ne.D,Y.createExtendedColorPalette=Ne.o,Y.getVisualApiVersions=C.HB,Y.visualApiVersions=(0,C.HB)();var xe=(0,Ke.Z7)();xe.buildValueDetailsForColumnValue=t.Y,xe.SelectionId=t.l0,xe.SelectionIdBuilder=t.dw;var yt=function(){var it=(0,Ke.Z7)();return it.valueFormatter||(it.valueFormatter={}),it.valueFormatter}();yt.beautifyTrace=de.J6,yt.allowFormatBeautificationTraced=de.CH,yt.getLocalizedString=de.Z,yt.getFormatMetadata=de.G2,yt.setLocaleOptions=de.X0,yt.createDefaultFormatter=de.E3,yt.create=de.Ue,yt.format=de.WU,yt.formatVariantMeasureValueWithDataPointObjects=de.kA,yt.createDisplayUnitSystem=de.Ym,yt.getDisplayUnits=de.p$,yt.getFormatString=de.EO,yt.getDefaultFormatString=de.v1,yt.getLabelPrecision=de.h1,yt.getFormatStringWithDataPointObjects=de.eU,yt.formatListAnd=de.aY,yt.formatListOr=de.KF}(),(0,Ke.Z7)().plugins={},Te();var Tt={promiseFactory:Y},$t=function(it){return new N(it)}(xe),qt=function(it){return new P(it)}(xe),hr=new Bt,gr=function(it,K){return e.fF.assertValue(it,"messageProxy"),new ir(it,K)}(xe,hr),Hr={$element:it,hostServices:gr,hostServicesControl:gr,dataProxy:fr(Y),promiseFactory:Y,messageProxy:xe,resourceLoader:(0,v.fQ)(Tt,null),resourceProvider:{get:Be=>Be,getOptional:Be=>Be,format:Be=>Be},telemetryProxyService:$t,certifiedEventsProxyService:qt,instanceId:"",sandboxPromiseHandler:hr},Cr=gr.getQueryStringValue("cspiframe");return xe.contentWindow=Cr?window.parent.parent:window.parent,new ft(Hr,K)}function fr(it){var K=new I,xe={promiseFactory:()=>it},yt=(0,g.I)((0,V.k2)({dsr:{name:"dsr",reader:Tt=>new R.i(Tt,{execute:()=>it.reject()},K,{dsrV2:!1},null,void 0,void 0)}},{}),xe);return(0,O.M2)(it,yt,K)}function ur(it,K,Y){var Tt,xe=it.content,yt=it.hasBeenInjected||lr()&&lr().hasOwnProperty(it.name)&&lr()[it.name].hasBeenInjected;return(!K||!yt)&&((0,H.yO)(it.name,xe.js,Y,it.apiVersion),(0,H.QO)(it.name,xe.css)),!it.apiVersion||(0,a.lt)(it.apiVersion,{major:3,minor:0,patch:0})?(e.fF.assertValue(lr()[it.name],"Visual does not have a plugin"),Tt=lr()[it.name]):(e.fF.assertValue(window[it.name],"Visual does not have a plugin"),Tt=window[it.name].default),it.apiVersion&&(Tt.iconUrl=it.iconUrl,Tt.capabilities=it.capabilities,Tt.localizationResources=it.localizationResources,Tt.isDeprecated=it.isDeprecated,Tt.version=it.version),K&&(Tt.hasBeenInjected=!0,Tt.approvedForNoIframe=!0,lr()[it.name]=Tt),Tt}var ft=(()=>{class it{constructor(Y,xe=!1){this.isolate=xe,this.isVisualInitialized=!1,this.messageQueue=[],this.formatMode=!1,this.relayUIEventListener=yt=>{var Tt=_.pick(yt.originalEvent,Rr);this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Tt]})},this.relayKeyboardEventListener=yt=>{var Tt=_.pick(yt.originalEvent,Rr);this.isSupportedKeyBoardEvent(yt.originalEvent)&&this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Tt]})},this.container=Y.$element,this.hostServices=Y.hostServices,this.hostServicesControl=Y.hostServicesControl,this.dataProxy=Y.dataProxy,this.promiseFactory=Y.promiseFactory,this.messageProxy=Y.messageProxy,this.resourceLoader=Y.resourceLoader,this.resourceProvider=Y.resourceProvider,this.telemetryProxyService=Y.telemetryProxyService,this.certifiedEventsProxyService=Y.certifiedEventsProxyService,this.sandboxPromiseHandler=Y.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new qe.n,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(G.et,yt=>this.onMessageReceived(yt))}get visual(){return this._visual}init(Y){this.hostServices.initInstanceId(Y.instanceId),this.hostServicesControl.initInstanceId(Y.instanceId),this.style=(0,T.th)(Y.style);var xe={animation:Y.animation,element:this.container,host:this.hostServices,interactivity:Y.interactivity,style:this.style,viewport:Y.viewport,localizationResources:this.plugin.localizationResources,hostEnv:Y.hostEnv,dataMultiSelectMode:Y.dataMultiSelectMode};return this.featureSwitches=Y.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(xe)}destroy(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.detachFormatModeRelayUIEventListener(),this.messageProxy.off(G.et),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()}categoriesExists(Y){return!!(Y&&Y.dataViews&&Y.dataViews.length>0&&Y.dataViews[0].categorical&&Y.dataViews[0].categorical.categories&&Y.dataViews[0].categorical.categories.length>0&&Y.dataViews[0].categorical.categories[0]&&Y.dataViews[0].categorical.categories[0].values)}getHostCategoriesValues(Y,xe,yt){try{if(Y){if(yt)for(var Tt=0;Tt<Y.length;Tt++)Y[Tt]&&(Y[Tt]=new Date(Y[Tt]));xe.dataViews[0].categorical.categories[0].values=Y}}catch($t){this.sendError($t)}return xe}update(Y){var yt,xe=Y.message.arguments[0];if(this.formatMode!==!!xe.formatMode&&(this.formatMode=xe.formatMode,this.handleAttachingEventListeners()),this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=xe.serializedDataView?xe.serializedDataView.stringifiedDataView:null;var Tt=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),$t=xe.serializedDataView?[this.dataViewSerializer.deserializeDataView(xe.serializedDataView,(0,a.gt)(this.plugin.apiVersion,"3.5.9"),Tt,[],(0,a.ge)(this.plugin.apiVersion,"5.3.0"))]:[];this.formatMode&&this.reCreateSelectionIds(xe.subSelections);var qt=this.lastVisualUpdateOptions={dataViews:$t,suppressAnimations:xe.suppressAnimations,viewMode:xe.viewMode,editMode:xe.editMode,viewport:xe.viewport,type:xe.type,operationKind:u.su.Create,resizeMode:xe.resizeMode,isInFocus:xe.isInFocus,jsonFilters:xe.jsonFilters?xe.jsonFilters:null,updateId:xe.updateId,formatMode:xe.formatMode,subSelections:xe.subSelections};this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(xe.selections,!(0,a.gt)(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(qt,Y,xe)):(this.fixUpdateOptionsAndUpdateVisual(qt,Y,xe),this.onRestoreCvSelectionIds(xe.selections,!(0,a.gt)(this.plugin.apiVersion,"2.4.0")))}else xe.dataTransforms&&(yt=A.F.deserializeDataViewTransformActions(xe.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(xe.dataViewSource,yt,!0).then(hr=>{var gr=this.lastVisualUpdateOptions={dataViews:hr.dataViews,suppressAnimations:xe.suppressAnimations,viewMode:xe.viewMode,editMode:xe.editMode,viewport:xe.viewport,type:xe.type,operationKind:u.su.Create,resizeMode:xe.resizeMode,isInFocus:xe.isInFocus,jsonFilters:xe.jsonFilters?xe.jsonFilters:null,updateId:xe.updateId};this.visualHasNullFilter(yt)&&this.onRestoreSelection(null),this.fixUpdateOptionsAndUpdateVisual(gr,Y,xe)}).catch(hr=>this.sendError(hr))}visualHasNullFilter(Y){if(this.plugin?.capabilities?.objects?.general?.properties?.filter){var xe=Y?.objects?.general;if(xe&&xe.length>0&&xe[0]?.properties&&!xe[0].properties.filter)return!0}return!1}updateWithCachedData(Y){var yt,Tt,$t,xe=Y.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var qt=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=xe.dataViewMetadata?JSON.parse(xe.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=qt}Tt=this.lastVisualUpdateOptions.dataViews,$t=!0}else xe.dataTransforms&&(yt=A.F.deserializeDataViewTransformActions(xe.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=yt,Tt=(0,F.nn)(this.lastDataViewTransformApplyOptions).dataViews;var hr=this.lastVisualUpdateOptions={dataViews:Tt,suppressAnimations:xe.suppressAnimations,viewMode:xe.viewMode,editMode:xe.editMode,viewport:xe.viewport,type:xe.type,operationKind:u.su.Create,resizeMode:xe.resizeMode,isInFocus:xe.isInFocus,jsonFilters:xe.jsonFilters?xe.jsonFilters:null,updateId:xe.updateId,formatMode:xe.formatMode,subSelections:xe.subSelections};this.fixUpdateOptionsAndUpdateVisual(hr,Y,xe,$t)}loadResourcePackage(Y){e.fF.assertValue(Y,"resourcePackage"),this.resourceLoader.loadVisualPlugin(Y).then(xe=>{this.plugin=xe,this.createAdapter()}).catch(()=>{var xe=new Error("Unable to load plugin, resource package id: "+Y.id);return this.sendError(xe)})}createAdapter(){var Y=this.plugin;if(this.container.addClass("visual-"+Y.name),this._visual=(0,C.nm)(Y,Y.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!Y||!this.visual){var xe=new Error("Unable to create visual from plugin "+Y.name);return this.sendError(xe)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()}loadWithoutResourcePackage(Y){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var yt=Y.apiVersion?this.isolate&&(0,a.lt)(Y.apiVersion,"3.0.0"):this.isolate;this.plugin=ur(Y,!1,yt),(0,J.L)(this.plugin),this.createAdapter()}}enumerateObjectInstances(Y){if(this.visual.enumerateObjectInstances){var xe=this.visual.enumerateObjectInstances(Y);if(xe){var yt=xe,Tt=this.plugin&&this.plugin.apiVersion&&!(0,a.lt)(this.plugin.apiVersion,"2.0.0");return yt&&yt.instances?Tt?{instances:yt.instances,containers:yt.containers}:{instances:(0,Ee.qC)(yt.instances),containers:yt.containers?(0,Ee.DQ)(yt.containers,this.resourceProvider):null}:Tt?xe:(0,Ee.qC)(xe)}}}enumerateObjectRepetition(){if(this.visual.enumerateObjectRepetition){var Y=this.visual.enumerateObjectRepetition();return Y?(0,_r.qC)(Y):void 0}}getFormattingModel(){return this.visual.getFormattingModel?.()}getSubSelectionStyles(Y){return this.reCreateSelectionIds(Y),this.visual.getSubSelectionStyles?.(Y)}getSubSelectionShortcuts(Y,xe){return this.reCreateSelectionIds(Y),this.visual.getSubSelectionShortcuts?.(Y,xe)}getSubSelectables(Y){return this.visual.getSubSelectables?.(Y)}focusVisualIframeWindow(){window.focus()}sendUpdateResult(){var Y=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[Y]})}sendSandboxReady(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})}flushQueue(){for(;this.messageQueue.length>0;){var Y=this.messageQueue.shift();this.executeMessage(Y)}}sendError(Y,xe){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:xe?xe.id:null,eventName:xe?xe.eventName:null,name:Y.name,message:Y.message,pluginName:this.plugin.name}})}sendErrorMessage(Y,xe){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:Y,message:xe,pluginName:this.plugin.name}})}onMessageReceived(Y){if(this.isVisualInitialized||"loadResourcePackage"===Y.message.eventName||"loadWithoutResourcePackage"===Y.message.eventName)return this.executeMessage(Y);this.messageQueue.push(Y)}validateSandboxHostMessage(Y){var yt=this[Y.message.eventName];return yt?"function"!=typeof yt?{error:"not a function"}:yt.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}validateVisualMessage(Y){var xe=Y.message;if(!this.visual)return{error:"unset visual"};var yt=this.visual[xe.eventName];return yt?"function"!=typeof yt?{error:"not a function"}:C.Vh.prototype[xe.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}executeMessage(Y){var yt,Tt,xe=Y.message,$t="SandboxHost.executeMessage rejected message:";if(Y.source===window||Y.source.parent!==window){if(Y.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(xe.eventName,`${$t} invalid source`);if(Y.origin!==this.hostOrigin)return this.sendErrorMessage(xe.eventName,`${$t} invalid origin`);try{if((yt=this.validateSandboxHostMessage(Y)).ok)return"update"===xe.eventName||"updateWithCachedData"===xe.eventName||"handleLoadMoreDataResult"===xe.eventName?this[xe.eventName].call(this,Y):this[xe.eventName].apply(this,xe.arguments);if((Tt=this.validateVisualMessage(Y)).ok)return this.visual[xe.eventName].apply(this.visual,xe.arguments)}catch(qt){return void this.sendError(qt,xe)}this.sendErrorMessage(xe.eventName,`${$t} ${yt?.error}, ${Tt?.error}`)}}reCreateSelectionIds(Y){Y&&Y.forEach(xe=>{var yt=xe.customVisualObjects[0].selectionId;xe.customVisualObjects[0].selectionId=yt&&new W.r(yt.dataMap,yt.measures)})}transformDataViewSource(Y,xe,yt){var Tt=this.promiseFactory.defer();return(Y?this.createDataView(Y):this.promiseFactory.resolve({dataView:null})).then(qt=>{var hr=(0,F.nn)(this.lastDataViewTransformApplyOptions={prototype:qt.dataView,objectDescriptors:this.plugin.capabilities?this.plugin.capabilities.objects:void 0,dataViewMappings:this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:void 0,dataRoles:this.plugin.capabilities?this.plugin.capabilities.dataRoles:void 0,drillCapabilities:this.plugin.capabilities&&this.plugin.capabilities.drilldown,expandCollapseCapabilties:this.plugin.capabilities&&this.plugin.capabilities.expandCollapse,transforms:xe,colorAllocatorFactory:(0,b.V)(),bypassConcatenation:yt,visualStyle:this.style,keepAllMetadataColumnsCapability:!!this.plugin.capabilities&&this.plugin.capabilities.keepAllMetadataColumns,featureSwitches:this.featureSwitches}).dataViews;Tt.resolve({dataViews:hr})}).catch(qt=>this.sendError(qt)),Tt.promise}createDataView(Y){e.fF.assertValue(Y,"dataViewSource");var xe=this.promiseFactory.defer();return this.dataProxy.execute({type:Y.type,query:{dataSources:null,command:Y.data}}).then(Tt=>{var qt=(0,vr.ul)(Tt&&Tt.dataReaderResult?Tt.dataReaderResult.dataView:null,this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:null);xe.resolve({dataView:qt.dataView})}).catch(Tt=>this.sendError(Tt)),xe.promise}attachWindowResizeListener(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")}detachWindowResizeListener(){$(window).off("resize")}windowResizeListener(){if(this.lastVisualUpdateOptions){var Y=$(window).height(),xe=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(xe-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(Y-this.lastVisualUpdateOptions.viewport.height)<=1)){var yt=(0,he.ED)(this.lastVisualUpdateOptions);yt.viewport={width:xe,height:Y,scale:this.lastVisualUpdateOptions.viewport.scale},yt.type=u.EP.Resize,yt.resizeMode=1,this.visual.update(yt)}}}attachRelayUIEventListener(){$(window).on(zr.join(" "),this.relayKeyboardEventListener),this.container.on(pr.join(" "),this.relayUIEventListener)}detachRelayUIEventListener(){$(window).off(zr.join(" "),this.relayKeyboardEventListener),this.container.off(pr.join(" "),this.relayUIEventListener)}attachFormatModeRelayUIEventListener(){$(window).on(jr.join(" "),this.relayKeyboardEventListener)}detachFormatModeRelayUIEventListener(){$(window).off(jr.join(" "),this.relayKeyboardEventListener)}handleAttachingEventListeners(){this.formatMode?(this.detachRelayUIEventListener(),this.attachFormatModeRelayUIEventListener()):(this.detachFormatModeRelayUIEventListener(),this.attachRelayUIEventListener())}isSupportedKeyBoardEvent(Y){var xe=this.formatMode?Vt:Kr;return Y.key in xe&&_.every(xe[Y.key],Tt=>Tt in Y&&Y[Tt])}handleLoadMoreDataResult(Y){var xe=this;return(0,p.Z)(function*(){var yt=Y.message.arguments[1];if(xe.plugin&&xe.plugin.apiVersion&&!(0,a.lt)(xe.plugin.apiVersion,"2.0.0")){var Tt=Y.message.arguments[0],$t=Y.message.arguments[2];if(Tt&&xe.stringifiedDataView!==Tt.stringifiedDataView){xe.stringifiedDataView=Tt.stringifiedDataView;var qt=!(!xe.plugin.capabilities.expandCollapse||!xe.plugin.capabilities.dataViewMappings[0].matrix),hr=[xe.dataViewSerializer.deserializeDataView(Tt,(0,a.gt)(xe.plugin.apiVersion,"3.5.9"),qt,$t,(0,a.ge)(xe.plugin.apiVersion,"5.3.0"))];xe.lastVisualUpdateOptions.type=u.EP.Data,yt?((0,He.$n)(xe.lastVisualUpdateOptions.dataViews[0],hr[0]),xe.lastVisualUpdateOptions.operationKind=u.su.Append,yield xe.aggregateDataViewSizeAndUpdateVisual(Y.packedSize)):(xe.lastVisualUpdateOptions.dataViews[0]=hr[0],xe.lastVisualUpdateOptions.operationKind=u.su.Segment,yield xe.visual.update(xe.lastVisualUpdateOptions))}}else{e.fF.assert(()=>xe.lastDataViewTransformApplyOptions&&!!xe.lastDataViewTransformApplyOptions.prototype,"Expected to have previous segment already");var gr=Y.message.arguments[0],br=gr?gr.dataReaderResult.dataView:null;br&&(xe.lastVisualUpdateOptions.type=u.EP.Data,yt?((0,He.$n)(xe.lastDataViewTransformApplyOptions.prototype,br),xe.lastVisualUpdateOptions.dataViews=(0,F.nn)(xe.lastDataViewTransformApplyOptions).dataViews,xe.lastVisualUpdateOptions.operationKind=u.su.Append,yield xe.aggregateDataViewSizeAndUpdateVisual(Y.packedSize)):(xe.lastVisualUpdateOptions.dataViews[0]=br,xe.lastVisualUpdateOptions.operationKind=u.su.Segment,yield xe.visual.update(xe.lastVisualUpdateOptions)))}xe.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]})})()}aggregateDataViewSizeAndUpdateVisual(Y){var xe=this;return(0,p.Z)(function*(){xe.aggregatedDataViewSize+=Y,xe.hostServicesControl.enableLoadMoreData(!(xe.aggregatedDataViewSize>=104857600)),yield xe.visual.update(xe.lastVisualUpdateOptions)})()}handleGetResourceUrlResult(Y){Y.isError?this.sandboxPromiseHandler.RejectPromise(Y.promiseId,Y.payload):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.payload)}handleGetAADAuthenticationTokenResult(Y){Y.isError?this.sandboxPromiseHandler.RejectPromise(Y.promiseId,Y.payload):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y)}handleGetAADTokenResult(Y){Y.isError?this.sandboxPromiseHandler.RejectPromise(Y.promiseId,Y.payload):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.payload)}handleGetWACTokenResult(Y){Y.isError?this.sandboxPromiseHandler.RejectPromise2(Y.promiseId,Y.payload?Y.payload:""):this.sandboxPromiseHandler.ResolvePromise2(Y.promiseId,Y.wacToken)}handleGetStorageStatus(Y){this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.status)}handleGetStorageData(Y){Y.data?this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.data):this.sandboxPromiseHandler.RejectPromise(Y.promiseId)}handleSetStorageData(Y){Y.isError?this.sandboxPromiseHandler.RejectPromise(Y.promiseId):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.freeSpace)}handleGetStorageV2Data(Y){Y.isError||!Y.data?this.sandboxPromiseHandler.RejectPromise(Y.promiseId):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.data)}handleSetStorageV2Data(Y){Y.isError?this.sandboxPromiseHandler.RejectPromise(Y.promiseId):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.resultInfo)}handleExportVisualsContentStatus(Y){void 0!==Y.status?this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.status):this.sandboxPromiseHandler.RejectPromise(Y.promiseId)}handleExportVisualsContent(Y){void 0!==Y.data?this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.data):this.sandboxPromiseHandler.RejectPromise(Y.promiseId)}handleGetWebAccessStatus(Y){void 0!==Y.status?this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.status):this.sandboxPromiseHandler.RejectPromise(Y.promiseId)}handleModalDialogResult(Y){Y.isError?this.sandboxPromiseHandler.RejectPromise(Y.promiseId,Y.data):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.data)}handleAcquireAADTokenResult(Y){this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.data)}handleGetAcquireAADTokenStatus(Y){this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.status)}handleLicenseResult(Y){Y.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(Y.promiseId)}handleLicenseNotificationResult(Y){null==Y.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(Y.promiseId):this.sandboxPromiseHandler.ResolvePromise(Y.promiseId,Y.licenseNotificationResult)}onRestoreSelection(Y){var xe=this.hostServices.selectionManager;if(xe)if(Y&&Y.selection){var yt=Y.selection.map(Tt=>t.l0.fromSelectorsByColumn((0,rt.JF)(Tt)));xe.setSelectionIds(yt),xe.invokeOnSelectCallback(yt)}else xe.setSelectionIds([]),xe.invokeOnSelectCallback([])}onRestoreCvSelectionIds(Y,xe=!0){var yt=this.hostServices.selectionManager;if(yt){var Tt=[];Y?(Tt=_.map(Y,$t=>new W.r($t.serializedDataMap,$t.measures)),yt.setSelectionIds(Tt)):yt.setSelectionIds([]),xe&&yt.invokeOnSelectCallback(Tt)}}fixUpdateOptionsAndUpdateVisual(Y,xe,yt,Tt=!1){Tt||(Y=this.categoriesExists(Y)?this.getHostCategoriesValues(yt.categoriesValues,Y,yt.isCategoryDate):Y,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=xe.packedSize),this.visual.update(Y),this.sendUpdateResult()}}return(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",Object)],it.prototype,"init",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"destroy",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"update",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"updateWithCachedData",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"loadWithoutResourcePackage",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",Object)],it.prototype,"enumerateObjectInstances",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[]),(0,l.__metadata)("design:returntype",Array)],it.prototype,"enumerateObjectRepetition",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[]),(0,l.__metadata)("design:returntype",Object)],it.prototype,"getFormattingModel",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Array]),(0,l.__metadata)("design:returntype",Object)],it.prototype,"getSubSelectionStyles",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Array,String]),(0,l.__metadata)("design:returntype",Array)],it.prototype,"getSubSelectionShortcuts",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Number]),(0,l.__metadata)("design:returntype",Array)],it.prototype,"getSubSelectables",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"focusVisualIframeWindow",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",Promise)],it.prototype,"handleLoadMoreDataResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetResourceUrlResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetAADAuthenticationTokenResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetAADTokenResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetWACTokenResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetStorageStatus",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetStorageData",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleSetStorageData",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetStorageV2Data",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleSetStorageV2Data",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleExportVisualsContentStatus",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleExportVisualsContent",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetWebAccessStatus",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleModalDialogResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleAcquireAADTokenResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleGetAcquireAADTokenStatus",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleLicenseResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"handleLicenseNotificationResult",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"onRestoreSelection",null),(0,l.__decorate)([(0,C.td)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[Array,Object]),(0,l.__metadata)("design:returntype",void 0)],it.prototype,"onRestoreCvSelectionIds",null),it})(),It=!1;!function(){if(!It){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var it=dr;window.powerbi.visualSandbox.createSandboxHost=(K,Y=!1)=>it(K,Y),It=!0}}();var Jt=!1;(function(){if(!Jt){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var it=yr;window.powerbi.visualSandbox.onSecurityPolicyViolation=K=>it(K),Jt=!0}})(),ne();class er{constructor(K){this.isolate=!0,this.promiseFactory=K.promiseFactory,this.plugin=K.plugin,this.tooltipService=K.visualHostTooltip}init(K){var Y=K.host.tooltips();Y&&(this.tooltipService=Y),this.cvContainer=K.element,this.loadWithoutResourcePackage(this.plugin),this.hostServices=function(it,K,Y){return new d(it,K,Y)}(K.host,this.cvContainer,this.tooltipService),this.visual.init({animation:K.animation,element:this.cvContainer,host:this.hostServices,interactivity:K.interactivity,style:K.style,viewport:K.viewport,localizationResources:this.plugin.localizationResources})}update(K){return this.visual.update({dataViews:K.dataViews,suppressAnimations:K.suppressAnimations,viewMode:K.viewMode,editMode:K.editMode,viewport:K.viewport,type:K.type,operationKind:u.su.Create,resizeMode:K.resizeMode,isInFocus:K.isInFocus,jsonFilters:K.jsonFilters?K.jsonFilters:null})}enumerateObjectInstancesAsync(K){var Y=this.promiseFactory.defer();if(this.visual.enumerateObjectInstances){var xe=this.visual.enumerateObjectInstances(K);return xe&&xe.instances&&Y.resolve({instances:xe.instances,containers:xe.containers}),Y.resolve(xe),Y.promise}}enumerateObjectRepetitionAsync(){var K=this.promiseFactory.defer(),Y=this.visual.enumerateObjectRepetition();return K.resolve(Y),K.promise}getFormattingModelAsync(){if(this.visual.getFormattingModel){var K=this.promiseFactory.defer();return K.resolve(this.visual.getFormattingModel()),K.promise}}onRestoreSelection(K){var Y=this.hostServices.selectionManager;if(Y){if(K&&K.selection){var xe=K.selection.map(yt=>t.l0.fromSelectorsByColumn(yt));Y.setSelectionIds(xe),Y.invokeOnSelectCallback(xe)}return!0}}onClearSelection(){var K=this.hostServices.selectionManager;K&&(K.setSelectionIds([]),K.invokeOnSelectCallback([]))}loadWithoutResourcePackage(K){var xe=K.apiVersion?this.isolate&&(0,a.lt)(K.apiVersion,"3.0.0"):this.isolate;this.plugin=ur(K,!0,xe),this.createAdapter()}visualHasMethod(K){return _.isFunction(this[K])}destroy(){this.hideTooltip(),this.visual.destroy&&this.visual.destroy(),this.cvContainer&&this.cvContainer.empty()}createAdapter(){e.fF.assertValue(this.plugin,"Visual does not have a plugin");var K=this.plugin;this.visual=(0,C.nm)(K,K.create,this.promiseFactory,null),e.fF.assertValue(this.visual,"Unable to create visual from plugin ")}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}}},697164:function(Ce,k,r){r.d(k,{W:function(){return s}});var a=r(737466),e=r(939123),u=r(534721),t=r(906853),C=r(94567),y=r(211351),i=r(795809),o=r(792375),c=r(42298),h=r(358929);class d{constructor(b,V,g){this.proxy=b,this.plugin=V,this.telemetryService=g,this.firstUpdateMessageSent=!1,this.isPluginReady=!1,this.pluginReadyDeferred=new c.B,this.proxy.setPluginReadyHandler(()=>{this.isPluginReady=!0,this.pluginReadyDeferred.resolve()}),this.updateWithDataDeferred=new c.B,Promise.allSettled([this.pluginReadyDeferred.promise,this.updateWithDataDeferred.promise]).then(()=>{this.postUpdateMessage()})}update(b){if(this.firstUpdateMessageSent)return this.proxy.update(b);if(this.updateMessage){this.updateMessage.type|=b.type,b.dataViews?.length>0&&(this.updateMessage.dataViews=b.dataViews);var V=b,g=_.clone(this.updateMessage);for(var v in V)"type"!==v&&"dataViews"!==v&&void 0!==V[v]&&(g[v]=V[v]);this.updateMessage=g}else this.updateMessage=b,this.updateMessageSentDeferred=new c.B;return(0,y.dy)(b,this.plugin)||this.updateWithDataDeferred.resolve(),this.updateMessageSentDeferred.promise}postUpdateMessage(){this.updateMessage&&this.proxy.update(this.updateMessage).then(()=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.resolve()}).catch(b=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.reject(b)})}destroy(){(!this.isPluginReady||!this.firstUpdateMessageSent)&&this.telemetryService&&this.telemetryService.logEvent(h.Tk,{visualType:this.plugin.name,parentId:this.telemetryService.root.id}),this.updateMessage=void 0}}class s{constructor(b){this.iframeFeatureSwitches=["dsrV2","cvSkipExtraResize"],this.pluginName=b.plugin.name,this.proxy=b.proxy,this.featureSwitchService=b.featureSwitchService,this.visualSandboxUri=b.visualSandboxUri,this.frontEndUrl=b.frontEndUrl?b.frontEndUrl:"'self'",this.hostEnv=b.hostEnv,this.accessibilityUpperIndicator=null,this.accessibilityLowerIndicator=null;var V=_.map(b.sandboxProperties,P=>(0,i.cg)(P)).join(" "),g="";b.plugin.capabilities&&b.plugin.capabilities.supportsKeyboardFocus&&(g=" tabindex=0"),this.iframeHtml=`<iframe style="border:none;" class="visual-sandbox empty-sandbox-visual" sandbox="${V}" name="visual-sandbox"${g} aria-label="${b.localizationService.get("CustomVisualIframeAriaLabel")}"></iframe>`,this.plugin=b.plugin,this.telemetryService=b.telemetryService,this.certifiedEventsService=b.certifiedEventsService,this.localizationService=b.localizationService,this.privilegeService=b.privilegeService;var v={urlLauncher:b.urlLauncher,visualHostTooltip:b.visualHostTooltip,hostEnv:b.hostEnv,dataMultiSelectMode:b.dataMultiSelectMode,sandboxPropertiesString:V,allowModalDialog:_.isFunction(b.openIFrameDialog),dialogSandboxUri:b.dialogSandboxUri,openIFrameDialog:b.openIFrameDialog,getEmbedHostType:b.getEmbedHostType},f=new y._E(this.proxy,b.promiseFactory,this.telemetryService,this.certifiedEventsService,this.featureSwitchService,b.approvedResourcesService,b.visualsLicenseService,b.visualDownloadService,b.visualLocalStorageV2ProxyService,b.privilegeService,b.customVisualsTokenManagerService,v,b.instanceId);this.proxy.init(f,b.plugin);var S=window.powerbi.visuals.plugins[this.pluginName];e.fF.assertValue(S.content,"plugin content is undefined"),this.proxy.postMessage("loadWithoutResourcePackage",[S]),this.plugin.capabilities?.privileges&&this.telemetryService.logEvent(h.Cr,{visualType:this.plugin.name,privileges:JSON.stringify(this.plugin.capabilities.privileges)})}get sandbox(){return!0}init(b){this.element=b.element,this.tooltipService=b.host.tooltips(),b.featureSwitches&&(!this.updateMessagesProcessor&&b.featureSwitches.cvAggregateUpdateMessages&&(0,u.ge)(this.plugin.apiVersion??"2.0.0","4.2.0")&&(this.updateMessagesProcessor=new d(this.proxy,this.plugin,this.telemetryService)),b.featureSwitches=this.filterFeatureSwitches(b.featureSwitches,this.iframeFeatureSwitches)),this.initializeContainerTimerId=window.setTimeout(()=>{this.initializeContainerTimerId=void 0,this.element&&this.initContainer(b.viewport)},0),this.proxy.invoke("init",[b])}update(b){return this.updateMessagesProcessor?this.updateMessagesProcessor.update(b):this.proxy.update(b)}enumerateObjectInstancesAsync(b){return this.proxy.invoke("enumerateObjectInstancesAsync",[b])}getFormattingModelAsync(){return this.proxy.invoke("getFormattingModelAsync",[])}getSubSelectionStylesAsync(b){return this.proxy.invoke("getSubSelectionStylesAsync",[b])}getSubSelectionShortcutsAsync(b,V){return this.proxy.invoke("getSubSelectionShortcutsAsync",[b,V])}getSubSelectablesAsync(b){return this.proxy.invoke("getSubSelectablesAsync",[b])}enumerateObjectRepetitionAsync(){return this.proxy.invoke("enumerateObjectRepetitionAsync",[])}onRestoreSelection(b){if(this.supportCustomVisualSelectionId())return this.proxy.invoke("onRestoreCvSelectionIds",[b]);var V=b.selection.map(g=>(0,o.U9)(g));return this.proxy.invoke("onRestoreSelection",[{selection:V}])}visualHasMethod(b){return _.isFunction(this[b])}destroy(){void 0!==this.initializeContainerTimerId&&window.clearTimeout(this.initializeContainerTimerId),this.container&&this.container.remove(),this.accessibilityUpperIndicator?.remove(),this.accessibilityLowerIndicator?.remove(),this.hideTooltip(),this.updateMessagesProcessor&&this.updateMessagesProcessor.destroy(),this.proxy.invoke("destroy",[])}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}initContainer(b){this.marker=(0,a.BL)(`customVisual:${this.pluginName}:initContainer`);var g=b.width,v=b.height;this.featureSwitchService.featureSwitches.useCvSandboxCspIframe?this.container=this.createCspIframe(g,v):(this.container=$(this.iframeHtml),this.initSandboxIframe(this.container,g,v)),this.plugin.capabilities?.supportsKeyboardFocus?this.initWithAccessibilityIndicators():this.element.empty().append(this.container)}createCspIframe(b,V){var v=`<html><head><meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline'; frame-src 'self'"></head><body style="margin:0;overflow:hidden;">${this.iframeHtml}</body></html>`,f=$(document.createElement("iframe"));return f.attr({class:"visual-sandbox",srcdoc:v}),f.height(V),f.width(b),f.one("load",()=>{var D=$(f[0].contentWindow.document.querySelectorAll(".visual-sandbox"));this.initSandboxIframe(D,b,V)}),f}getCSP(){var b=void 0,V=this.privilegeService.getWebAccessParameters(this.plugin);if(null!==V&&!this.isAsterisk(V)){var g=V.join(" ");b=`default-src ${this.frontEndUrl} data: blob: 'unsafe-inline' 'unsafe-eval' ${g};`}return b}isAsterisk(b){return 1===b.length&&"*"===b[0]}initSandboxIframe(b,V,g){var v=this.generateIFrameUrl();b.attr({src:v}),b.height(g),b.width(V),b.one("load",()=>this.onIFrameLoad(b)),b.on("mouseout",()=>this.hideTooltip())}initAccessibilityIndicators(){var b={opacity:"0","z-index":"-1","max-width":"0","max-height":"0"};this.accessibilityUpperIndicator=$(document.createElement("div")),this.accessibilityLowerIndicator=$(document.createElement("div")),this.accessibilityUpperIndicator.css(b),this.accessibilityLowerIndicator.css(b),this.accessibilityUpperIndicator.attr("tabindex","0"),this.accessibilityLowerIndicator.attr("tabindex","0"),this.accessibilityUpperIndicator.on("focus",V=>this.handleIndicatorFocus(V)),this.accessibilityLowerIndicator.on("focus",V=>this.handleIndicatorFocus(V))}handleIndicatorFocus(b){b.preventDefault(),this.proxy.postMessage("focusVisualIframeWindow",[])}initWithAccessibilityIndicators(){this.initAccessibilityIndicators(),this.element.empty().append(this.accessibilityUpperIndicator),this.element.append(this.container),this.element.append(this.accessibilityLowerIndicator)}onIFrameLoad(b){this.proxy.ready(b[0].contentWindow),this.marker()}generateIFrameUrl(){e.fF.assert(()=>!!this.localizationService.currentLanguageLocale,"current language locale is not valid");var b=C.s.clearAllQueriesFromUrl(this.visualSandboxUri),V={locale:(0,t.Kd)(this.localizationService.currentLanguageLocale)};4===this.hostEnv&&(V.plugin=this.pluginName),C.s.getQueryStringValue("unmin")&&(V.unmin="1"),this.featureSwitchService.featureSwitches.useCvSandboxCspIframe&&(V.cspiframe="1"),this.featureSwitchService.featureSwitches.emCVDisableGlobals||(V.pbiglobals="1");var g=this.getCSP();return g&&(V.csp=btoa(g)),b+C.s.rebuildQueryString(V)}filterFeatureSwitches(b,V){var g={};return b&&V&&(g=_.reduce(Object.keys(b),(v,f)=>(V.indexOf(f)>-1&&(v[f]=b[f]),v),{})),g}supportCustomVisualSelectionId(){return this.proxy.plugin?.apiVersion&&(0,u.ge)(this.proxy.plugin.apiVersion,"2.0.0")}}for(var l of["update","onStyleChanged","onViewModeChanged","onEditModeChanged","onClearSelection","onSelectObject","canResizeTo"])(m=>{s.prototype[m]||(s.prototype[m]=function(){return this.proxy.invoke(m,_.toArray(arguments))})})(l)},211351:function(Ce,k,r){r.d(k,{x_:function(){return Ee},v2:function(){return me},oc:function(){return fe},_E:function(){return re},dy:function(){return Re}});var a=r(883803),e=r(866109),u=r(792375);function t(se,Ae){if(Ae)return se.convertCVSelectionIdToPowerbiSelctionId(Ae).getSelectorsByColumn()}function C(se,Ae){return Ae&&0!==Ae.length&&Ae[0].objectName?_.map(Ae,ce=>({objectName:ce.objectName,selectorsByColumn:t(se,ce.selectionId)})):[{objectName:"visual-area",selectorsByColumn:{}}]}function y(se,Ae){if(Ae){var ce=[];return Ae.forEach(Me=>{(function(se){if(!se||!se.selectionOrigin||se.selectionOrigin.x<0||se.selectionOrigin.y<0)return!1;var Ae=se.customVisualObjects;return!(!Ae||Ae.some(ce=>!ce))})(Me)&&ce.push({visualObjects:C(se,Me.customVisualObjects),displayName:Me.displayName,subSelectionType:Me.subSelectionType,selectionOrigin:{x:Me.selectionOrigin.x,y:Me.selectionOrigin.y},showUI:Me.showUI,immediateDirectEdit:Me.immediateDirectEdit,metadata:Me.metadata,target:Me.target})}),ce}}function d(se,Ae){Ae.destinationInfo&&m(se,Ae.destinationInfo)}function s(se,Ae){l(se,Ae.relatedToggledFormattingIds),m(se,Ae)}function l(se,Ae){Ae?.forEach(ce=>{m(se,ce)})}function m(se,Ae){Ae?.selector&&(Ae.selector=function(se,Ae){return se.deserializeOpaqueIdentity(Ae),(0,u.L1)(Ae)}(se,Ae.selector))}var g={4:function(se,Ae){return!!(M(se.center,Ae)&&null!=se.innerRadius&&null!=se.outerRadius)&&(se.innerRadius=se.innerRadius*Ae.scale,se.outerRadius=se.outerRadius*Ae.scale,!w(se)||f(se.clipPath,Ae))},0:void 0,2:P,3:P,1:function(se,Ae){if(null!=se.x&&null!=se.y&&null!=se.width&&null!=se.height){var pt=Ae.fixCoordinates([se.x,se.y]);se.x=pt[0],se.y=pt[1],se.width=se.width*Ae.scale,se.height=se.height*Ae.scale;var wt=se,Pt=wt.cVDirectEdit;return Pt&&(wt.directEdit=()=>Pt,delete wt.cVDirectEdit),!wt.clipPath||f(wt.clipPath,Ae)}return!1}};function f(se,Ae){for(var ce=[se],Me=Ae.loopLimit,$e=!1,st=0;ce.length&&st<Me;){var pt=ce.pop();if($e=!1,st++,pt){if(E(pt)){pt.outlines.forEach(Pt=>ce.push(Pt));continue}$e=(0,g[pt.type])(pt,Ae)}if(!$e)return!1}return $e&&st<Me}function P(se,Ae){for(var ce of se.points)if(!M(ce,Ae))return!1;return!w(se)||f(se.clipPath,Ae)}function M(se,Ae){if(null!=se.x&&null!=se.y){var ce=Ae.fixCoordinates([se.x,se.y]);return se.x=ce[0],se.y=ce[1],!0}return!1}function E(se){return se&&0===se.type}function w(se){return!!se.clipPath}var x=r(70994),N=r(636245),L=r(326810);function B(se,Ae){return{...se,hierarchyData:se.hierarchyData.map(Me=>I(Me,Ae))}}function I(se,Ae){var ce={identity:Ae.getCustomVisualOpaqueIdentityByDataViewScopeIdentity(se.identity),operator:se.operator};return se.children?.length&&(ce.children=se.children.map(Me=>I(Me,Ae))),ce}function W(se,Ae){return{...se,hierarchyData:se.hierarchyData.map(Me=>O(Me,Ae))}}function O(se,Ae){if(!(0,L.Ye)(se.identity))throw new Error("invalid CustomVisualOpaqueIdentity");var ce={identity:Ae.getDataViewScopeIdentityByCustomVisualOpaqueIdentity(se.identity),value:Ae.getDataViewValueByCustomVisualOpaqueIdentity(se.identity),operator:se.operator};return se.children?.length&&(ce.children=se.children.map(Me=>O(Me,Ae))),ce}var F=r(606682),A=r(657611),T=r(181012),R=r(374645),U=r(231384),z=r(795809),j=r(404968),H=r(678023),q=r(885825),G=r(939123),J=r(105525);function Q(se,Ae){if(function(se){return null!=se?.control?.properties?.descriptor?.objectName}(se)){var ce=se.control.properties;ce.descriptor=ne(Ae,ce.descriptor)}else{var Me=se?.control?.properties;Object.keys(Me).forEach($e=>{var st=Me[$e];st.descriptor=ne(Ae,st.descriptor)})}}function ne(se,Ae){return se.deserializeOpaqueIdentity(Ae?.altConstantValueSelector),se.deserializeOpaqueIdentity(Ae?.selector),function(se){return{...se,selector:(0,u.L1)(se.selector),altConstantValueSelector:(0,u.L1)(se.altConstantValueSelector)}}(Ae)}var Se=r(534721),Ke=r(454865),Ge=r(789804),ye=r(703831),we=r(969143),je=r(123537),de=r(36126),Ze=102400,Je=(0,de.T5)("LVSTORAGE:","1",Ze,43200),_e=new class{loadDictionary(Ae,ce,Me=!1){var $e=this.getStorageKey(Ae,ce,Me),st=Je.getData($e);return st||(st={}),st}saveDictionary(Ae,ce,Me,$e=!1){var st=this.getStorageKey(Ae,ce,$e);Je.setData(st,_(Me).isEmpty()?void 0:Me)}getStorageKey(Ae,ce,Me){return Me?ce:btoa((Ae??"NA")+"|"+ce)}getData(Ae,ce,Me){var $e=null;try{var st=this.loadDictionary(Ae,ce);$e=atob(st[btoa(Me)])}catch{$e=this.getAndRemoveLegacyData(Ae,ce,Me)}return $e}setData(Ae,ce,Me,$e){try{var pt=this.loadDictionary(Ae,ce);pt[btoa(Me)]=btoa($e);var wt=JSON.stringify(pt).length;return wt<=Ze&&this.saveDictionary(Ae,ce,pt),Ze-wt}catch{}return 0}remove(Ae,ce,Me){try{var $e=this.loadDictionary(Ae,ce);$e[btoa(Me)]=void 0,this.saveDictionary(Ae,ce,$e)}catch{}}getAndRemoveLegacyData(Ae,ce,Me){var $e=this.loadDictionary("",ce,!0),st=$e[Me];return void 0!==st&&($e[Me]=void 0,this.saveDictionary("",ce,$e,!0),this.setData(Ae,ce,Me,st)),st}},te=r(101363),ke=r(988206),at=r(358929);class be{constructor(Ae,ce,Me,$e){this.messageProxy=Ae,this.telemetryService=ce,this.plugin=Me,this.instanceId=$e,this._modalDialogState=null,this._dialog=null,this._iframe=null,this._minDisplayDurationReached=!1,G.fF.assertValue(Ae,"messageProxy"),setTimeout(()=>{this._minDisplayDurationReached=!0},2e3),this.messageProxy.on(A.et,st=>this.onMessageReceived(st)),this.messageProxy.on(A.zM,st=>this.onMessageError(st))}set dialog(Ae){this._dialog=Ae}set iframe(Ae){this._iframe=Ae}get modalDialogState(){return this._modalDialogState}postMessage(Ae,ce){this.messageProxy.postMessage({eventName:Ae,arguments:ce})}postMessageAsync(Ae,ce){return this.messageProxy.postMessageAsync({eventName:Ae,arguments:ce})}destroy(){this.messageProxy.off(A.et),this.messageProxy.off(A.zM),this.messageProxy.destroy(),this._dialog=null,this._iframe=null}onMessageReceived(Ae){this.validateMessageSource(Ae)&&(_.isFunction(this[Ae.message.eventName])?this[Ae.message.eventName].apply(this,Ae.message.arguments):this.telemetryService.logEvent(at.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:"invalid message"}))}onMessageError(Ae){this.validateMessageSource(Ae)&&Ae.message&&Ae.message.error&&this.telemetryService.logEvent(at.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:Ae.message.error})}onDialogSetState(Ae){this._modalDialogState=Ae}onDialogClose(Ae,ce){ce&&(this._modalDialogState=ce),this._dialog&&this._minDisplayDurationReached&&this._dialog.close(Ae)}onDialogResize(Ae,ce){if(this._dialog){var Me=_.clamp(Ae,200,Math.ceil(.9*window.innerWidth))+2,$e=_.clamp(ce,100,Math.ceil(.91*window.innerHeight-120))+2;this._dialog.resize(Me,$e)}}validateMessageSource(Ae){return G.fF.assertValue(Ae,"message"),!(!Ae.source||!this._iframe||this._iframe.contentWindow!==Ae.source||!_.includes(["onDialogSetState","onDialogClose","onDialogResize"],Ae.message.eventName))}}var Ie=r(737466),Ye=["txt","csv","json","tmplt","xml","pdf","xlsx"],ee=31457280;class ve{constructor(Ae,ce,Me,$e){this.visualDownloadService=Ae,this.telemetryService=ce,this.plugin=Me,this.instanceId=$e}exportVisualsContent(Ae,ce,Me,$e,st){var pt=ce.split(".").pop();Me=Me.toLowerCase();var wt=this.getBlobSize(Ae,Me);return this.validateContentSource(Ae,ce,Me,$e,wt)?this.visualDownloadService.exportVisualsContent(Ae,ce,Me,$e,this.plugin.name,wt).then(Pt=>(this.telemetryService.logEvent(at.kd,{isFileSaved:Pt,contentSize:wt,visualType:this.plugin.name,instanceId:this.instanceId,extension:pt}),{promiseId:st,data:{downloadCompleted:Pt,fileName:Pt?ce:void 0}}),()=>({promiseId:st,data:{downloadCompleted:!1}})):this.handleInvalidRequest(wt,pt,st)}validateContentSource(Ae,ce,Me,$e,st){var pt=ce.split(".").pop().toLowerCase(),wt=Ye.filter(At=>pt===At).length>0,Pt=null===ce.match(/[:/\\]/);return!(!Ae||!Me||!$e||!Pt||!wt||st>ee)}getBlobSize(Ae,ce){if(!Ae)return 0;if(Ae.length>ee)return ee+1;var $e=new Blob([Ae],{type:Ie.nH});return $e?"base64"===ce?3*$e.size/4:$e.size:0}handleInvalidRequest(Ae,ce,Me){return this.telemetryService.logEvent(at.Tc,{contentSize:Ae,visualType:this.plugin.name,instanceId:this.instanceId,extension:ce}),Promise.resolve({promiseId:Me,data:{downloadCompleted:!1}})}}var Te=r(973366),Xe=function(se){return se[se.AlreadyOpen=1]="AlreadyOpen",se[se.NotAllowed=2]="NotAllowed",se[se.BlockedByUser=3]="BlockedByUser",se}({}),He=r(887669),qe=r(95940),rt=r(976205),me={0:"icon",1:"unsupported environment blocker",2:"blocker"},Ee={1:"Web",2:"PublishToWeb",4:"Desktop",8:"Embed",16:"ReportServer",32:"ExportReportHost",64:"Mobile",128:"DashboardHost",256:"Unknown"},fe={0:"Allowed",3:"DisabledByAdmin",2:"NotSupported",1:"NotDeclared"};function Re(se,Ae){if(se.visualHasData&&(!se.dataViews||0===se.dataViews.length))return!0;var ce=Ae.capabilities;return se.visualRequiresData&&se.dataViews&&0===se.dataViews.length&&!(ce&&ce.supportsLandingPage&&(ce&&ce.supportsEmptyDataView||1===se.viewMode))}var re=(()=>{class se{constructor(ce,Me,$e,st,pt,wt,Pt,At,Ut,Kt,Qt,rr,Xt){this.proxy=ce,this.promiseFactory=Me,this.telemetryService=$e,this.certifiedEventsService=st,this.featureSwitchService=pt,this.approvedResourcesService=wt,this.licenseService=Pt,this.visualDownloadService=At,this.visualLocalStorageV2ProxyService=Ut,this.privilegeService=Kt,this.customVisualsTokenManagerService=Qt,this.visualSandboxOptions=rr,this.instanceId=Xt,this.canHandleLoadMoreData=!0,this.dataTransforms={},this.formatMode=!1,this.isFirstUpdate=!0,this.isDestroyed=!1,this.dataViewSerializer=new R.n,this.visualSelections=[],this.asyncSerializer=new N.W}get sandbox(){return!0}init(ce){this.visualHostServices=ce.host,this.visualAdapterHostServices=ce.visualAdapterHostServices,this.tooltipService=this.visualHostServices.tooltips(),this.featureSwitches=ce.featureSwitches,this.tooltipService||(this.tooltipService=this.visualSandboxOptions.visualHostTooltip),this.element=ce.element,this.resize(ce.viewport),this.visualStyle=ce.style;var Me=this.visualSandboxOptions?.hostEnv;this.isExportVisualsContentSupported=!!Me&&!!(5&Me)&&!!ce.interactivity?.isVisualInteractive,ce.interactivity=ce.interactivity||{},ce.interactivity.allowModalDialog=this.visualSandboxOptions?.allowModalDialog&&ce.interactivity.isVisualInteractive,this.initOptions=ce;var $e={animation:ce.animation,interactivity:ce.interactivity,viewport:ce.viewport,style:(0,Te._8)(ce.style),featureSwitches:ce.featureSwitches,hostEnv:this.visualSandboxOptions?this.visualSandboxOptions.hostEnv:void 0,instanceId:this.instanceId,dataMultiSelectMode:this.visualSandboxOptions&&this.visualSandboxOptions.dataMultiSelectMode&&this.visualSandboxOptions.dataMultiSelectMode()};this.proxy.postMessage("init",[$e])}getHostEnvString(){return this.visualSandboxOptions?.hostEnv?Ee[this.visualSandboxOptions.hostEnv]:"Undefined"}update(ce){this.isFirstUpdate&&(this.isFirstUpdate=!1,this.logCapabilitiesTelemetry(ce));var Me=this.promiseFactory.defer(),$e=(st,pt)=>this.proxy.postMessageAsync(st,pt);return Re(ce,this.proxy.plugin)?(ce.updateCallBack&&ce.updateCallBack(),Me.resolve(null),Me.promise):this.asyncSerializer.enqueue(()=>this.updateCore(ce,$e))}updateCore(ce,Me){var $e=this;return(0,a.Z)(function*(){var st,pt,wt,Pt=[];if($e.formatMode=ce.formatMode,(ce.type&Ke.EP.All)===Ke.EP.All||(ce.type&Ke.EP.Resize)!==Ke.EP.Resize||2===ce.resizeMode){var At=$e.proxy&&$e.proxy.plugin&&$e.proxy.plugin.apiVersion;if(ce.dataViews&&ce.dataViews[0]&&(0,z.fA)($e.proxy?.plugin)){G.fF.assert(()=>ce.dataViews.length<=1,"Custom Visuals should only use one dataView");try{ce?.dataViews[0]?.metadata?.columns&&(ce.dataViews[0].metadata.columns=_.filter(ce.dataViews[0].metadata.columns,ht=>ht.roles||""!==ht.displayName))}catch(ht){G.fF.assertFail("failed to filter columns: "+ht)}$e.shouldUpdateWithCachedData(ce)?wt=$e.dataViewSerializer.serializeDataViewMetadata(ce.dataViews[0]):pt=$e.dataViewSerializer.serializeDataViewForCv(ce.dataViews[0],$e.proxy.plugin.capabilities,!1,(0,Se.gt)(At,"3.5.9"),[],(0,Se.ge)(At,"5.3.0"),(0,Se.ge)(At,"5.9.0")),Pt=$e.RestoreCvSelectionIds($e.visualSelections)}var Qt,Ut=!!(ce.dataViews&&ce.dataViews.length>0&&ce.dataViews[0].categorical&&ce.dataViews[0].categorical.categories&&ce.dataViews[0].categorical.categories.length>0&&ce.dataViews[0].categorical.categories[0]&&ce.dataViews[0].categorical.categories[0].values),Kt=[];Ut&&(Kt=ce.dataViews[0].categorical.categories[0].values,ce.dataViews[0].categorical.categories[0].source&&ce.dataViews[0].categorical.categories[0].source.type&&(Qt=ce.dataViews[0].categorical.categories[0].source.type.dateTime));var Xt,rr=ce&&ce.dataTransforms&&ce.dataTransforms.objects,cr=rr&&(0,we.NA)(rr,z.Ro,null);if(cr)try{Xt=yield $e.getJSONFilter(cr)}catch{Xt=[]}else Xt=[];$e.dataTransforms=ce.dataTransforms;var et={dataViewSource:ce.visualDefinitionData?ce.visualDefinitionData.dataViewSource:null,dataTransforms:q.F.serializeDataViewTransformActions(ce.dataTransforms,$e.proxy.plugin.capabilities.objects||{}),suppressAnimations:ce.suppressAnimations,viewMode:ce.viewMode,editMode:ce.editMode,viewport:ce.viewport,type:ce.type,resizeMode:ce.resizeMode,isInFocus:ce.isInFocus,categoriesValues:Ut?Kt:null,isCategoryDate:Qt,serializedDataView:pt,jsonFilters:Xt,dataViewMetadata:wt,selections:Pt,updateId:ce.updateId,formatMode:ce.formatMode,subSelections:$e.convertToCustomVisualSubSelections(ce.subSelections)};$e.shouldUpdateWithCachedData(ce)?($e.lastDataViewSource=et.dataViewSource,et.dataViewSource=null,st=yield Me("updateWithCachedData",[et])):($e.lastDataViewSource=et.dataViewSource,st=yield Me("update",[et]))}else ce.updateCallBack&&ce.updateCallBack();return window.setTimeout(()=>$e.resize(ce.viewport)),st})()}getJSONFilter(ce){var Me=this;return(0,a.Z)(function*(){var $e=yield Me.visualHostServices.getJSONFilter(ce,Me.dataViewSerializer.identitiesArray);return _.map($e,st=>Me.processGetJsonFilter(st))})()}processGetJsonFilter(ce){return ce.filterType===Ge.FilterType.HierarchyIdentity?this.processGetHierarchyIdentityJsonFilter(ce):ce}processGetHierarchyIdentityJsonFilter(ce){return B(ce,this.dataViewSerializer)}logCapabilitiesTelemetry(ce){var cr,et,Me=this.proxy.plugin,$e=Me?.capabilities,st=ce?.dataViews?.[0]?.metadata?.objects,pt={sorting:{implicit:!!$e?.sorting?.implicit,default:!!$e?.sorting?.default,custom:!!$e?.sorting?.custom},expandCollapse:Ut(st,$e?.expandCollapse?.addDataViewFlags,!0),subTotals:{RowSubtotalType:{Top:Ut(st,$e?.subtotals?.matrix?.rowSubtotalsType,"Top"),Bottom:Ut(st,$e?.subtotals?.matrix?.rowSubtotalsType,"Bottom")}}},wt=function Kt(Xt){var cr=[],et=new Map(Object.entries(Xt));for(var ht of Object.keys(Xt)){var Nt=et.get(ht);if("boolean"==typeof Nt)Nt&&cr.push(ht);else{var Lt=Kt(Nt);Lt.length&&cr.push({[ht]:Lt})}}return cr}(pt);if(wt.length){this.telemetryService.logEvent(at.s$,{visualType:Me.name,existingCapabilities:JSON.stringify({apiVersion:Me.apiVersion,visualVersion:Me.version,existingTrackedCapabilities:wt})});var At={apiMajorVersion:Me.apiVersion&&(0,Se.OA)(Me.apiVersion)?.major,apiMinorVersion:Me.apiVersion&&(0,Se.OA)(Me.apiVersion)?.minor,visualMajorVersion:Me.version&&(0,Se.OA)(Me.version)?.major,visualMinorVersion:Me.version&&(0,Se.OA)(Me.version)?.minor};cr=At,function rr(Xt,cr,et=""){var ht=new Map(Object.entries(Xt));for(var Nt of Object.keys(Xt)){var Lt=ht.get(Nt),Qe=""!==et?et+"."+Nt:Nt;"boolean"==typeof Lt?Lt&&cr.push(Qe):rr(Lt,cr,Qe)}}(pt,et=[]),et.forEach(ht=>{var Nt=ht.split("."),Lt=Nt[0],Qe=1===Nt.length?Nt[0]:Nt.slice(1).join(".");cr[Lt]=cr[Lt]?cr[Lt]+", "+Qe:Qe}),this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:{...At},activityName:at.aw,correlationId:this.telemetryService.root?.id,visualId:Me.name})}function Ut(Xt,cr,et){var ht=!1;return cr&&(ht=cr.propertyIdentifier?(0,je.NA)(Xt,cr.propertyIdentifier,cr.defaultValue)===et:cr.defaultValue===et),ht}}getFormattingModelAsync(){return this.asyncSerializer.enqueue(()=>{var ce=this.promiseFactory.defer();return this.proxy.postMessageAsync("getFormattingModel",[]).then(Me=>{var $e=Me;if(!$e)return ce.resolve(null);var st=function(se,Ae){return Ae?.cards.forEach(ce=>{ce?.groups?.forEach(Me=>{Me?.slices?.forEach($e=>{Q($e,se)}),Me?.container?.containerItems?.forEach($e=>{$e?.slices?.forEach(st=>{Q(st,se)}),$e?.groups?.forEach(st=>{st?.slices?.forEach(pt=>{Q(pt,se)})})})})}),Ae}(this.dataViewSerializer,$e);ce.resolve(st)}).catch(Me=>ce.reject(Me)),ce.promise})}getSubSelectionStylesAsync(ce){return this.asyncSerializer.enqueue(()=>{var Me=this.promiseFactory.defer(),$e=this.convertToCustomVisualSubSelections(ce);return this.proxy.postMessageAsync("getSubSelectionStyles",[$e]).then(st=>{if(!st)return Me.resolve(void 0);var pt=function(se,Ae){if(Ae)return function(se){if(se.type=se.type??0,1===se.type||2===se.type){var Ae={label:"",reference:{objectName:"",propertyName:""}};"font"in se&&(se.font=se.font??Ae),se.fontColor=se.fontColor??Ae}}(Ae),Object.values(Ae)?.forEach(ce=>{m(se,ce?.reference)}),Ae}(this.dataViewSerializer,st);Me.resolve(pt)}).catch(st=>Me.reject(st)),Me.promise})}getSubSelectionShortcutsAsync(ce,Me){return this.asyncSerializer.enqueue(()=>{var $e=this.promiseFactory.defer(),st=this.convertToCustomVisualSubSelections(ce);return this.proxy.postMessageAsync("getSubSelectionShortcuts",[st,Me]).then(pt=>{if(!pt)return $e.resolve(void 0);var wt=function(se,Ae){return Ae?.forEach(ce=>{if(ce)switch(ce.type){case 0:!function(se,Ae){l(se,Ae.relatedResetFormattingIds),l(se,Ae.excludedResetFormattingIds)}(se,ce);break;case 2:s(se,ce);break;case 6:m(se,ce);break;case 1:d(se,ce);break;case 8:!function(se,Ae){Ae.shortcuts?.forEach(ce=>{if(ce)switch(ce.type){case 2:s(se,ce);break;case 1:d(se,ce);break;case 6:m(se,ce)}})}(se,ce);break;case 9:!function(se,Ae){Ae.referencesAndValues?l(se,Ae.referencesAndValues):Ae.referencesAndValues=[]}(se,ce)}}),Ae}(this.dataViewSerializer,pt);$e.resolve(wt)}).catch(pt=>$e.reject(pt)),$e.promise})}getSubSelectablesAsync(ce){return this.asyncSerializer.enqueue(()=>{var Me=this.promiseFactory.defer();return this.proxy.postMessageAsync("getSubSelectables",[ce]).then($e=>{if(!$e)return Me.resolve(void 0);var st=y(this.dataViewSerializer,$e);Me.resolve(st)}).catch($e=>Me.reject($e)),Me.promise})}enumerateObjectInstancesAsync(ce){return this.asyncSerializer.enqueue(()=>{var Me=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectInstances",[ce]).then($e=>{var st=$e;if(!st)return Me.resolve(null);if(st.instances){var pt;if((0,z.fA)(this.proxy?.plugin)){var wt=this.dataViewSerializer.deserializeVisualObjectInstance(st.instances);pt=(0,He.vB)(wt)}else pt=(0,He.vB)(st.instances);var Pt={instances:pt,containers:st.containers?(0,He.S4)(st.containers):null};return Me.resolve(Pt)}(0,z.fA)(this.proxy?.plugin)&&($e=this.dataViewSerializer.deserializeVisualObjectInstance($e));var At=(0,He.vB)($e);Me.resolve(At)}).catch($e=>Me.reject($e)),Me.promise})}enumerateObjectRepetitionAsync(){return this.asyncSerializer.enqueue(()=>(this.enumerateObjectRepetitionAsyncPromise=this.promiseFactory.defer(),this.proxy.postMessageAsync("enumerateObjectRepetition",[]).then(ce=>{if(!ce)return this.enumerateObjectRepetitionAsyncPromise.resolve(null);var $e=(0,qe.vB)(ce);this.enumerateObjectRepetitionAsyncPromise.resolve($e)}).catch(ce=>this.enumerateObjectRepetitionAsyncPromise.reject(ce)),this.enumerateObjectRepetitionAsyncPromise.promise))}onSelect(ce){var Me;if((0,J.FE)(ce)){var $e=ce;Me={data:(0,u.UU)($e.data),data2:(0,u.JF)($e.data2),selectors:(0,u.UU)($e.selectors)}}else{var{visualObjects:st}=ce;Me={type:0,visualObjects:(0,u.kg)(st)}}this.visualHostServices.onSelect(Me)}subSelect(ce){if(this.formatMode&&ce){var Me,$e=y(this.dataViewSerializer,[ce]);if($e&&$e[0]){var st=this.fixCoordinates([$e[0].selectionOrigin.x,$e[0].selectionOrigin.y]);if(Me={...$e[0],type:1,selectionOrigin:{x:st[0],y:st[1]}},this.visualHostServices.onSelect(Me),$e[0].showUI){var pt=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2,clientX:st[0],clientY:st[1]});"visual-area"!==$e[0].visualObjects[0].objectName&&(0,te.n)(pt),this.element.get(0).dispatchEvent(pt)}}}}updateRegionOutlines(ce){if(this.formatMode&&ce){var $e=function(se,Ae){for(var ce=[],Me=Math.min(se.length,Ae.loopLimit),$e=0;$e<Me;$e++)f(se[$e].outline,Ae)&&ce.push(se[$e]);return ce}(ce,{fixCoordinates:pt=>this.fixCoordinates(pt),loopLimit:1e5,scale:this.viewPortScale}),st=this.visualHostServices.getSubSelectionService();st?.updateRegionOutlines($e)}}convertToCustomVisualSubSelections(ce){if(ce){var Me=this.proxy?.plugin?.apiVersion;return ce.map($e=>{var st=$e.visualObjects.map(pt=>{var wt=pt.selectorsByColumn&&this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(pt.selectorsByColumn,(0,Se.ge)(Me,"5.8.0"));return{objectName:pt.objectName,selectionId:wt&&new U.r(wt.serializedDataMap,wt.measures)}});return{...$e,visualObjects:[],customVisualObjects:st}})}}transformCvSelectionIdsAndSelect(ce){var Me;if(this.visualSelections=[],ce.selectionIds)for(var $e of(Me={type:0,visualObjects:[]},ce.selectionIds)){$e=new U.r($e.dataMap,$e.measures);var pt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId($e).getSelectorsByColumn();Me.visualObjects.push({objectName:"dataPoint",selectorsByColumn:pt}),this.visualSelections.push(pt)}else Me={type:0,visualObjects:[]};Me.selectionMode=ce.multiSelect?3:0,this.visualHostServices.onSelect(Me)}onRestoreCvSelectionIds(ce){if(ce.selection){var Me=this.RestoreCvSelectionIds(ce.selection);return this.proxy.postMessage("onRestoreCvSelectionIds",[Me]),!0}}RestoreCvSelectionIds(ce){this.visualSelections=ce;var Me=[];for(var $e of ce)if($e){var st=this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId($e);st&&Me.push(st)}return Me}onUpdateResult(ce){this.element.children("iframe.visual-sandbox").toggleClass("empty-sandbox-visual",!ce)}onRelayUIEvent(ce){var Me=this.element.offset();if(null!=Me){var $e;switch(ce.type){case"click":case"mouseup":case"MSPointerUp":case"pointerup":case"dblclick":$e=new MouseEvent(ce.type,{screenX:ce.screenX,screenY:ce.screenY,clientX:ce.clientX?ce.clientX+Me.left:Me.left,clientY:ce.clientY?ce.clientY+Me.top:Me.top,ctrlKey:ce.ctrlKey,shiftKey:ce.shiftKey,altKey:ce.altKey,metaKey:ce.metaKey,buttons:ce.buttons,relatedTarget:ce.relatedTarget,bubbles:ce.bubbles});break;case"tap":case"touchend":case"touchcancel":var Pt=ce,At=this.createTouchList(Pt.touches,Me),Ut=this.createTouchList(Pt.changedTouches,Me),Kt=this.createTouchList(Pt.targetTouches,Me);$e=new TouchEvent(Pt.type,{touches:At,targetTouches:Kt,changedTouches:Ut,view:window,ctrlKey:Pt.ctrlKey,shiftKey:Pt.shiftKey,altKey:Pt.altKey,metaKey:Pt.metaKey});break;case"keydown":$e=new KeyboardEvent(ce.type,{altKey:ce.altKey,bubbles:ce.bubbles,cancelable:ce.cancelable,code:ce.code,composed:ce.composed,ctrlKey:ce.ctrlKey,key:ce.key,keyCode:ce.keyCode,metaKey:ce.metaKey,shiftKey:ce.shiftKey});break;default:return}this.element.get(0).dispatchEvent($e)}}createTouchList(ce,Me){var $e=[];if(null==ce)return $e;for(var st=0;st<ce.length;st++){var pt=ce.item(st),wt=new Touch({identifier:pt.identifier,target:pt.target,clientX:pt.clientX?pt.clientX+Me.left:Me.left,clientY:pt.clientY?pt.clientY+Me.top:Me.top,screenX:pt.screenX,screenY:pt.screenY,pageX:pt.pageX?pt.pageX+Me.left:Me.left,pageY:pt.pageY?pt.pageY+Me.top:Me.top,radiusX:pt.radiusX,radiusY:pt.radiusY,rotationAngle:pt.rotationAngle,force:pt.force});$e.push(wt)}return $e}persistProperties(ce){var $e,Me=ce;Me.merge||Me.remove||Me.replace?(this.deserilizePersistedSelectors(Me),$e={merge:Me.merge?(0,He.vB)(Me.merge):null,remove:Me.remove?(0,He.vB)(Me.remove):null,replace:Me.replace?(0,He.vB)(Me.replace):null}):$e=(0,He.vB)(ce),this.visualHostServices.persistProperties($e)}deserilizePersistedSelectors(ce){var Me=$e=>{$e?.map(st=>(this.dataViewSerializer.deserializeOpaqueIdentity(st.selector),st))};Me(ce.merge),Me(ce.remove),Me(ce.replace)}applyJsonFilter(ce,Me,$e,st){switch(ce&&ce.length>0&&ce[0].filterType){case Ge.FilterType.Identity:return this.applyIdentityFilter(ce,Me,$e,st);case Ge.FilterType.HierarchyIdentity:return this.applyHierarchyIdentityFilter(ce,Me,$e,st);default:return this.visualHostServices.applyJsonFilter(ce,Me,$e,st)}}applyHierarchyIdentityFilter(ce,Me,$e,st,pt){var wt=this.proxy.plugin.apiVersion;if(wt&&!(0,Se.lt)(wt,"5.9.0")){try{ce[0]=W(ce[0],this.dataViewSerializer)}catch{return void pt({telemetryServiceArgs:{aborted:!0}})}this.visualHostServices.applyJsonFilter(ce,Me,$e,st)}else pt({telemetryServiceArgs:{aborted:!0,invalidApiVersion:!0}})}refreshHostData(){this.visualHostServices.refreshHostData()}setCanDrill(ce,Me){this.featureSwitchService.featureSwitches.drillStateToggleable&&(Me({telemetryServiceArgs:{drillAllowed:ce}}),this.visualHostServices.setCanDrill(ce))}drill(ce){!ce?.roleName||!ce?.drillType||this.visualHostServices.drill(ce)}onCustomVisualContextMenu(ce,Me){if(ce&&ce.data&&ce.position&&ce.data[0]){var wt,$e=ce.data[0],st=new U.r($e.dataMap,$e.measures,$e.nodeIsCollapsed,$e.nodeIndexes),pt=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities;if(pt&&pt.expandCollapse){var At=this.getRowsRoles(pt);At&&_.isEqual(At,ce.dataRoles)&&(this.dataViewSerializer.sortSelectionIdAccordingToRows(st)?(wt=this.dataViewSerializer.getNodeIndexOfSelectionId(st),_.isEmpty(wt)&&(Me({telemetryServiceArgs:{expandCollapseAborted:!0}}),wt=void 0,ce.dataRoles=void 0)):(Me({telemetryServiceArgs:{expandCollapseAborted:!0}}),ce.dataRoles=void 0))}var Kt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(st),Qt=this.fixCoordinates([ce.position.x,ce.position.y]),rr=Kt.getSelectorsByColumn();this.visualHostServices.onContextMenu({data:rr?[rr]:void 0,nodeIndex:wt,position:{x:Qt[0],y:Qt[1]},copyArgs:ce.copyArgs,dataRoles:ce.dataRoles})}}onCustomVisualExpandCollapse(ce,Me){var $e=ce&&ce.data,st=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities,pt=this.getRowsRoles(st);if($e&&null!=$e.nodeIsCollapsed&&st&&st.expandCollapse&&pt)if(this.dataViewSerializer.sortSelectionIdAccordingToRows($e)){var At=this.dataViewSerializer.getNodeIndexOfSelectionId($e);if(_.isEmpty(At))Me({telemetryServiceArgs:{aborted:!0}});else{var Ut=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId($e).getSelectorsByColumn();ce.entireLevel?this.visualHostServices.setLevelExpansionState({data:Ut,dataRoles:pt,isCollapse:!$e.nodeIsCollapsed,nodeIndex:At}):this.visualHostServices.setNodeExpansionState({data:Ut,dataRoles:pt,isCollapse:!$e.nodeIsCollapsed,nodeIndex:At})}}else Me({telemetryServiceArgs:{aborted:!0}});else Me({telemetryServiceArgs:{aborted:!0}})}exportVisualsContentStatusInternal(){var ce=this.privilegeService.getExportContentStatus(this.proxy.plugin);return 0===ce&&!this.isExportVisualsContentSupported&&(ce=2),ce}exportVisualsContentStatus(ce){var Me=this.exportVisualsContentStatusInternal();this.proxy.postMessage("handleExportVisualsContentStatus",[{status:Me,promiseId:ce}])}exportVisualsContent(ce,Me,$e,st,pt,wt){var Pt=this.exportVisualsContentStatusInternal();0===Pt||3===Pt?new ve(this.visualDownloadService,this.telemetryService,this.proxy.plugin,this.instanceId).exportVisualsContent(ce,this.proxy.plugin.name+"_"+Me,$e,st,pt).then(Xt=>{this.proxy.postMessage("handleExportVisualsContent",[Xt])}):(wt({telemetryServiceArgs:{cvHostEnvironment:this.visualSandboxOptions?.hostEnv?Ee[this.visualSandboxOptions.hostEnv]:"Undefined"}}),this.logPrivilegesViolation("ExportContent",Pt),this.proxy.postMessage("handleExportVisualsContent",[{data:{downloadCompleted:!1},promiseId:pt}]))}onSwitchFocusModeState(ce){this.visualHostServices.onSwitchFocusModeState(ce)}onDisplayWarningIcon(ce,Me,$e){var wt=rt.Jh,Pt=new T.V(rt.j,ce.substr(0,rt.IQ),Me.substr(0,wt));this.visualHostServices.setWarnings([Pt]),$e({telemetryServiceArgs:{isCustom:this.proxy.plugin.custom}})}getRowsRoles(ce){var Me=ce&&ce.dataViewMappings&&ce.dataViewMappings[0]&&ce.dataViewMappings[0].matrix&&ce.dataViewMappings[0].matrix.rows;return Me?ke.nG.fromMatrixRows(Me):void 0}fixCoordinates(ce){if(/Edge\/\d./i.test(navigator.userAgent)&&$("body.fullScreen").length>0)return ce;var Me=this.element.offset();return ce[0]=ce[0]*this.viewPortScale+Me.left,ce[1]=ce[1]*this.viewPortScale+Me.top,ce}deserializeIdentities(ce){if(ce&&(0,z.fA)(this.proxy?.plugin)){var Me=[];for(var $e of ce)Me.push(this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId($e));return Me&&_(Me).map(wt=>wt.getSelectorsByColumn()).compact().value()}return ce&&_(ce).map(wt=>(0,u.JF)(wt)).compact().value()}showTooltip(ce){if(this.tooltipService&&this.tooltipService.enabled()){var Me=_.cloneDeep(ce);Me.coordinates=this.fixCoordinates(Me.coordinates),Me.identities=this.deserializeIdentities(ce.identities),this.tooltipService.show(Me)}}moveTooltip(ce){if(this.tooltipService&&this.tooltipService.enabled()){var Me=_.cloneDeep(ce);Me.coordinates=this.fixCoordinates(Me.coordinates),Me.identities=this.deserializeIdentities(ce.identities),this.tooltipService.move(Me)}}hideTooltip(ce){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide(ce)}getAvailableServicePlans(ce){if(this.telemetryService.logEvent(at.$7,{visualType:this.proxy.plugin.name}),this.logLicensingStandardizedFeatureEvent(at.th),this.licenseService){var Me=(0,z.aM)(this.proxy.plugin.name,this.proxy.isDebug);this.licenseService.getServicePlans(Me).then(st=>{if(!st)throw Error("servicePlansResponse is undefined");var{servicePlans:pt,isLicenseInfoAvailable:wt,isLicenseUnsupported:Pt}=st;this.proxy.postMessage("handleLicenseResult",[{promiseId:ce,licenseInfoResult:{plans:pt,isLicenseUnsupportedEnv:Pt,isLicenseInfoAvailable:wt}}])}).catch(()=>{this.telemetryService.logEvent(at.L1,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:ce,licenseInfoResult:void 0}])})}else this.telemetryService.logEvent(at.IC,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:ce,licenseInfoResult:void 0}])}acquireAADToken(ce){var Me=this;return(0,a.Z)(function*(){var $e=yield Me.customVisualsTokenManagerService.acquireTokenForCustomVisual(Me.proxy.plugin,Me.proxy.isDebug),st=Me.getAcquireAADTokenResult($e);Me.proxy.postMessage("handleAcquireAADTokenResult",[{promiseId:ce,data:st}])})()}getAcquireAADTokenResult(ce){if(ce){var{accessToken:Me,cloudName:$e,expiresOn:st,userId:pt,tenantId:wt}=ce;return{accessToken:Me,expiresOn:st,userInfo:{userId:pt,tenantId:wt},fabricInfo:{cloudName:$e}}}return{accessToken:null}}getAcquireAADTokenStatus(ce,Me){var $e=this;return(0,a.Z)(function*(){var st=yield $e.getAcquireAADTokenPrivilegeStatus(),pt=fe[st];Me({activityAttributesArgs:{status:pt},telemetryServiceArgs:{status:pt}}),$e.proxy.postMessage("handleGetAcquireAADTokenStatus",[{promiseId:ce,status:st}])})()}getAcquireAADTokenPrivilegeStatus(){var ce=this;return(0,a.Z)(function*(){var Me=ce.privilegeService.getAcquireAADTokenStatus(ce.proxy.plugin);return 0!==Me||(yield ce.isAcquireAADTokenSupported())?Me:2})()}isAcquireAADTokenSupported(){var ce=this;return(0,a.Z)(function*(){return ce.isDebugOrApprovedResource()&&!!(yield ce.privilegeService.getAcquireAADTokenAudience(ce.proxy.plugin,ce.proxy.isDebug))})()}isDebugOrApprovedResource(){return this.proxy.isDebug||this.approvedResourcesService.isApprovedResource(this.proxy.plugin.name)}notifyLicenseRequired(ce,Me){var $e=this;return(0,a.Z)(function*(){var st={promiseId:Me,licenseNotificationResult:void 0},pt=yield $e.licenseService.isLicenseUnsupportedEnv();null==ce||pt!==(1===ce)||0===ce&&1!==$e.visualHostServices.getViewMode()?st.licenseNotificationResult=!1:($e.visualHostServices.onNotifyLicense(ce),st.licenseNotificationResult=!0),$e.proxy.postMessage("handleLicenseNotificationResult",[st]);var wt=null==ce?"null":me[ce];$e.telemetryService.logEvent(at.Fh,{visualType:$e.proxy.plugin.name,notificationType:wt,responseValue:st.licenseNotificationResult}),$e.logLicensingStandardizedFeatureEvent(at.Yv,{notificationType:wt,responseValue:st.licenseNotificationResult})})()}notifyFeatureBlocked(ce,Me){var $e=this;return(0,a.Z)(function*(){var st={promiseId:Me,licenseNotificationResult:void 0};(yield $e.licenseService.isLicenseUnsupportedEnv())?st.licenseNotificationResult=!1:($e.visualHostServices.onNotifyFeatureBlocked(ce),st.licenseNotificationResult=!0),$e.proxy.postMessage("handleLicenseNotificationResult",[st]),$e.telemetryService.logEvent(at.Px,{visualType:$e.proxy.plugin.name,responseValue:st.licenseNotificationResult}),$e.logLicensingStandardizedFeatureEvent(at.QC,{responseValue:st.licenseNotificationResult})})()}clearLicenseNotification(ce){var Me={promiseId:ce,licenseNotificationResult:!0};this.visualHostServices.onClearLicenseNotification(),this.proxy.postMessage("handleLicenseNotificationResult",[Me]),this.telemetryService.logEvent(at.VN,{visualType:this.proxy.plugin.name,responseValue:Me.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(at.rY,{responseValue:Me.licenseNotificationResult})}logLicensingStandardizedFeatureEvent(ce,Me){this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:Me,activityName:ce,correlationId:this.telemetryService.root?.id,visualId:this.proxy.plugin.name})}loadMoreData(ce){this.canHandleLoadMoreData&&(void 0===ce&&(ce=!0),this.visualAdapterHostServices&&(this.canHandleLoadMoreData=!1,this.visualAdapterHostServices.startProgressBar(),this.visualAdapterHostServices.getNextDataSegment().then(Me=>{if(this.proxy&&this.proxy.plugin&&(0,z.fA)(this.proxy.plugin)&&Me&&Me.result&&Me.result.dataReaderResult&&Me.result.dataReaderResult.dataView){G.fF.assert(()=>!!this.dataViewSerializer.identitiesArray,"identitiesArray should be defined because update was called");var $e=this.proxy.plugin,st=Me.result.dataReaderResult.dataView;st=(0,H.nn)({prototype:st,objectDescriptors:$e.capabilities?$e.capabilities.objects:null,dataViewMappings:$e.capabilities?$e.capabilities.dataViewMappings:null,transforms:this.dataTransforms,colorAllocatorFactory:(0,F.V)(),dataRoles:$e.capabilities?$e.capabilities.dataRoles:null,drillCapabilities:$e.capabilities&&$e.capabilities.drilldown,expandCollapseCapabilties:$e.capabilities&&$e.capabilities.expandCollapse,visualStyle:this.visualStyle,keepAllMetadataColumnsCapability:!!$e.capabilities&&$e.capabilities.keepAllMetadataColumns,featureSwitches:this.featureSwitches}).dataViews[0];var pt=this.dataViewSerializer.serializeDataViewForCv(st,$e.capabilities,!0,(0,Se.gt)($e.apiVersion,"3.5.9"),Me.secondToLastNodesIndex,(0,Se.ge)($e.apiVersion,"5.3.0"),(0,Se.ge)($e.apiVersion,"5.9.0"));$e.capabilities&&$e.capabilities.expandCollapse&&this.visualAdapterHostServices.mergeNewSegmentDataView(Me),this.proxy.postMessageAsync("handleLoadMoreDataResult",[pt,ce,Me.secondToLastNodesIndex]).then(()=>{Me.performanceActivity&&Me.performanceActivity.resolve()})}else this.proxy.postMessageAsync("handleLoadMoreDataResult",[Me&&Me.result,ce,void 0]).then(()=>{Me.performanceActivity&&Me.performanceActivity.resolve()});this.canHandleLoadMoreData=!0}).catch(Me=>{this.visualAdapterHostServices.stopProgressBar(),this.canHandleLoadMoreData=!0})))}getResourceUrl(ce,Me){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getResourceUrl(ce).then($e=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:$e,isError:!1,promiseId:Me}])}).catch($e=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:$e,isError:!0,promiseId:Me}])})}getAADAuthenticationToken(ce,Me){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADAuthenticationToken(ce).then($e=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:$e.payload,isError:!1,promiseId:Me,resourceUrl:$e.resourceUrl}])}).catch($e=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:$e,isError:!0,promiseId:Me}])})}getAADToken(ce,Me){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADToken(ce).then($e=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:$e,isError:!1,promiseId:Me}])}).catch($e=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:$e,isError:!0,promiseId:Me}])})}getWACToken(ce,Me,$e,st){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getWACToken(ce,Me,$e).then(pt=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:pt.accessToken,wacToken:pt,isError:!1,promiseId:st}])}).catch(pt=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:pt,isError:!0,promiseId:st}])})}launchUrl(ce){this.visualSandboxOptions&&_.isFunction(this.visualSandboxOptions.urlLauncher)&&this.visualSandboxOptions.urlLauncher(ce,this.proxy.plugin.name)}openModalDialog(ce,Me,$e,st){if(!_.isFunction(this.visualSandboxOptions.openIFrameDialog)||!this.initOptions?.interactivity?.allowModalDialog||ce.length>80||/[^0-9a-zA-Z_ \.]/.test(ce))this.proxy.postMessage("handleModalDialogResult",[{promiseId:st,isError:!0,data:{error:Xe.NotAllowed}}]);else if(se.dialogBlockedVisuals[this.proxy.plugin.name])this.proxy.postMessage("handleModalDialogResult",[{promiseId:st,isError:!0,data:{error:Xe.BlockedByUser}}]);else{Me.position&&1===Me.position.type&&([Me.position.left,Me.position.top]=this.fixCoordinates([Me.position.left,_.clamp(Me.position.top,0,Me.position.top)]));var Pt=new be((0,A.zC)(this.promiseFactory),this.telemetryService,this.proxy.plugin,this.instanceId),At=this.proxy.plugin.displayName,Ut=this.visualSandboxOptions.dialogSandboxUri,Kt=this.visualSandboxOptions.sandboxPropertiesString,Qt=JSON.stringify($e),rr=this.generateDialogScript(ce,Qt),Xt=this.proxy.plugin.content.css,Nt=this.visualSandboxOptions.openIFrameDialog({title:At,subTitle:Me.title,iconUrl:this.proxy.plugin.iconUrl,size:Me.size,position:Me.position,actionButtons:Me.actionButtons,sandboxProperties:Kt,iframeSrc:Ut,onIframeLoad:Qe=>{Qe.contentWindow&&(Pt.iframe=Qe,Qe.contentWindow.postMessage({messageType:"DialogContent",style:Xt,scriptContent:rr},"*"))},onBlockRequest:Qe=>{se.dialogBlockedVisuals[this.proxy.plugin.name]=Qe},onClose:Qe=>{Pt.dialog=null,this.proxy.postMessage("handleModalDialogResult",[{promiseId:st,data:{actionId:Qe,resultState:Pt.modalDialogState}}]),Pt.destroy()}});Nt?Pt.dialog=Nt:this.proxy.postMessage("handleModalDialogResult",[{promiseId:st,isError:!0,data:{error:Xe.AlreadyOpen}}])}}getLocalStorageStatusInternal(){var ce=this.privilegeService.getLocalStorageStatus(this.proxy.plugin);return 0===ce&&(ce=this.proxy.isDebug||this.proxy.plugin.developerModeVisual||this.approvedResourcesService.canUseLocalStorage(this.proxy.plugin.name)?0:3),ce}isLocalStoragePermitted(){var ce=this.getLocalStorageStatusInternal(),Me=0===ce;return Me||this.logPrivilegesViolation("LocalStorage",ce),Me}getStorageStatus(ce,Me){var st={promiseId:ce,status:this.getLocalStorageStatusInternal()};Me({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[st])}getStorageData(ce,Me){if(this.isLocalStoragePermitted()){var $e=_e.getData((0,ye.bG)()?.puid,this.proxy.plugin.name,ce);this.proxy.postMessage("handleGetStorageData",[{promiseId:Me,data:$e}])}else this.proxy.postMessage("handleGetStorageData",[{promiseId:Me,data:null}])}setStorageData(ce,Me,$e){if(this.isLocalStoragePermitted()){var st=_e.setData((0,ye.bG)()?.puid,this.proxy.plugin.name,ce,Me);this.proxy.postMessage("handleSetStorageData",[{promiseId:$e,freeSpace:st,isError:st<=0}])}else this.proxy.postMessage("handleSetStorageData",[{promiseId:$e,freeSpace:0,isError:!0}])}removeStorageData(ce){this.isLocalStoragePermitted()&&_e.remove((0,ye.bG)()?.puid,this.proxy.plugin.name,ce)}getStorageV2Status(ce,Me){var $e=this;return(0,a.Z)(function*(){var pt={status:yield $e.visualLocalStorageV2ProxyService.getStorageV2Status($e.proxy.plugin),promiseId:ce};Me({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),$e.proxy.postMessage("handleGetStorageStatus",[pt])})()}getStorageV2Data(ce,Me){var $e=this;return(0,a.Z)(function*(){var st=yield $e.visualLocalStorageV2ProxyService.getStorageV2Data(ce,$e.proxy.plugin),pt={promiseId:Me,...st};$e.proxy.postMessage("handleGetStorageV2Data",[pt])})()}setStorageV2Data(ce,Me,$e){var st=this;return(0,a.Z)(function*(){var pt=yield st.visualLocalStorageV2ProxyService.setStorageV2Data(ce,Me,st.proxy.plugin),wt={promiseId:$e,...pt};st.proxy.postMessage("handleSetStorageV2Data",[wt])})()}removeStorageV2Data(ce){var Me=this;return(0,a.Z)(function*(){Me.visualLocalStorageV2ProxyService.removeStorageV2Data(ce,Me.proxy.plugin)})()}onSecurityPolicyViolation(ce,Me,$e){this.logPrivilegesViolation("WebAccess",this.privilegeService.getWebAccessStatus(this.proxy.plugin,ce),`{"violatedDirective": "${Me}", "blockedURI": "${ce}"}`)}onGlobalUndefinedGet(ce){if(ce.length>256||/[^0-9a-zA-Z_\.]/.test(ce))G.fF.assert(()=>!1,"invalid property provided");else if(!ce.startsWith(`powerbi.visuals.plugins.${this.proxy.plugin.name}`)){var $e=`${this.proxy.plugin.name}:${ce}`;se.globalUndefinedGets.has($e)||(se.globalUndefinedGets.add($e),this.logUndefinedGet(ce))}}stopProgressBar(){this.visualAdapterHostServices&&this.visualAdapterHostServices.stopProgressBar()}onRestoreSelection(ce){return this.proxy.postMessage("onRestoreSelection",[ce]),!0}onClearSelection(){this.visualSelections=[],this.proxy.postMessage("onRestoreSelection",[])}destroy(){this.dataViewSerializer&&this.dataViewSerializer.flushIdentitiesArray(),this.enumerateObjectRepetitionAsyncPromise&&this.enumerateObjectRepetitionAsyncPromise.resolve(null),this.isDestroyed=!0,this.proxy.postMessage("destroy",[]),this.proxy.destroy()}logPrivilegesViolation(ce,Me,$e){this.telemetryService.logEvent(at.rZ,{visualType:this.proxy.plugin.name,environment:this.visualSandboxOptions?.hostEnv?Ee[this.visualSandboxOptions.hostEnv]:"Undefined",privilege:ce,status:fe[Me],parameters:$e})}logUndefinedGet(ce){this.telemetryService.logEvent(at.Pp,{visualType:this.proxy.plugin.name,property:ce,emCVDisableGlobals:!!this.featureSwitchService.featureSwitches.emCVDisableGlobals})}resize(ce){this.viewPortScale=ce.scale,this.element&&!this.isDestroyed&&this.element.children().css({width:ce.width,height:ce.height})}shouldUpdateWithCachedData(ce){return(!ce.visualDefinitionData||!ce.visualDefinitionData.dataViewSource||!this.lastDataViewSource)&&this.dataViewSerializer.flushIdentitiesArray(),ce.visualDefinitionData&&ce.visualDefinitionData.dataViewSource&&ce.visualDefinitionData.dataViewSource===this.lastDataViewSource}generateDialogScript(ce,Me){return this.proxy.plugin.content.js+`\nconst host = {\n                setResult: (result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogSetState", arguments: [result] });\n                    parent.postMessage(msg, "*");\n                },\n                close: (actionId, result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogClose", arguments: [actionId, result] });\n                    parent.postMessage(msg, "*");\n                }\n            };\n\n            const element = document.body;\n            const dialogConstructionOptions = { host: host, element: element };\n            ${this.proxy.plugin.name}.default.createModalDialog('${ce}', dialogConstructionOptions, ${Me});\n\n            const msg = JSON.stringify( {eventName: "onDialogResize", arguments: [document.body.scrollWidth, document.body.scrollHeight] });\n            parent.postMessage(msg, "*");`}applyIdentityFilter(ce,Me,$e,st){var pt=ce[0].target;if(!(0,Se.lt)(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,"3.9.0")){st=pt&&pt.length>0?0:1;var Pt=this.dataViewSerializer.convertOpaqueIdentitiesToScopeIds(pt);this.visualHostServices.applyIdentityFilter(Pt,Me,$e,st)}}applyCustomSort(ce,Me){ce&&ce.sortDescriptors&&this.proxy?.plugin?.capabilities?.sorting?.custom?this.visualHostServices.onCustomSort({sortDescriptors:ce.sortDescriptors,suppressAnnouncements:!0}):Me({telemetryServiceArgs:{aborted:!0}})}}return se.dialogBlockedVisuals={},se.globalUndefinedGets=new Set,(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onSelect",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"subSelect",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"updateRegionOutlines",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"transformCvSelectionIdsAndSelect",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onUpdateResult",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[UIEvent]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onRelayUIEvent",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"persistProperties",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"applyJsonFilter",null),(0,e.__decorate)([(0,j.V)("Apply HierarchyIdentityFilter",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String,String,Number,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"applyHierarchyIdentityFilter",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Dynamic Drill Control",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"setCanDrill",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"drill",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Context Menu",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onCustomVisualContextMenu",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Expand/Collapse",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onCustomVisualExpandCollapse",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"exportVisualsContentStatus",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Download a File From CV",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String,String,Number,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"exportVisualsContent",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onSwitchFocusModeState",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Informative Icon",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onDisplayWarningIcon",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Report Tooltips"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"showTooltip",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"moveTooltip",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"hideTooltip",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"getAvailableServicePlans",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Acquire AAD Token"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"acquireAADToken",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Acquire AAD Token Status",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"getAcquireAADTokenStatus",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Number]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"notifyLicenseRequired",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"notifyFeatureBlocked",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"clearLicenseNotification",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Fetch More Data"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"loadMoreData",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"launchUrl",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Modal Dialog"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Object,Object,Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"openModalDialog",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"getStorageStatus",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"getStorageData",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"setStorageData",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"removeStorageData",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage V2",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"getStorageV2Status",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"getStorageV2Data",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Number]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"setStorageV2Data",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",Promise)],se.prototype,"removeStorageV2Data",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onSecurityPolicyViolation",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"onGlobalUndefinedGet",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"stopProgressBar",null),(0,e.__decorate)([(0,x.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"applyIdentityFilter",null),(0,e.__decorate)([(0,x.td)(),(0,j.V)("Apply Custom Sort",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],se.prototype,"applyCustomSort",null),se})()},374645:function(Ce,k,r){r.d(k,{n:function(){return o}});var a=r(939123),e=r(571619),u=r(145741),t=r(470446),C=r(795809),i="children";class o{constructor(){this.serializeDataViewFromScrathTimes=0,this.matrixIdentityToValueMapper=new Map,this.initializeFields()}serializeDataViewForCv(h,d,n,s,p,l=!1,m=!1){if(n||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),h){h=this.filterDataViewsType(h,d),this.isExpandCollapseSupported=!!h.matrix&&!!d.expandCollapse,this.isExpandCollapseSupported&&(n&&(a.fF.assert(()=>!_.isEmpty(p),"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=p),h.matrix.rows.levels.forEach((v,f)=>{v.sources&&v.sources[0]&&v.sources[0].queryName&&(this.rowsLevel.length>f?this.rowsLevel[f]=v.sources[0].queryName:this.rowsLevel.push(v.sources[0].queryName))}));var b=this.getValueSource(h),V=this.getValueGroups(h);this.shouldShareIdentityIndexStrategy=l&&!!h.matrix,m&&(m=!!h.matrix&&(0,C.wn)(d));var g=JSON.stringify(h,(v,f)=>this.replacer(v,f,s,m));return a.fF.assert(()=>_.isEmpty(this.stackNodeIndex),"stackNodeIndex should be empty"),{valueSource:b,valueGroups:V,stringifiedDataView:g}}}serializeDataViewMetadata(h){return h.metadata?JSON.stringify(h.metadata,(d,n)=>this.replacer(d,n)):null}deserializeDataView(h,d,n=!1,s=[],p=!1){var l;return this.isExpandCollapseSupported=n,this.lastNodeIndex=s,l=d||this.isExpandCollapseSupported&&p?JSON.parse(h.stringifiedDataView,(m,b)=>this.deserializeDataViewHelper(m,b,p)):JSON.parse(h.stringifiedDataView),this.reconstructValuesGroups(l,h),this.reconstructValuesSource(l,h),l}convertOpaqueIdentitiesToScopeIds(h){var d=[];if(h&&h.length>0)for(var n of h){var s=this.replaceOpaqueIndexWithScopeIds(n);s&&(s.opaqueIdentity={identityIndex:n},d.push(s))}return d}getDataViewScopeIdentityByCustomVisualOpaqueIdentity(h){return this.replaceOpaqueIndexWithScopeIds(h.identityIndex)}convertCVSelectionIdToPowerbiSelctionId(h){var d=JSON.parse(JSON.stringify(h),(n,s)=>this.replaceOpaqueIdentitiesWithDataViewScopeIdentities(n,s));return u.l0.createWithSelectorForColumnAndMeasures(d.dataMap,d.measures)}restoreIdentitiesIndexesFromSelectionId(h,d){var n={serializedDataMap:{},measures:h.metadata};return _.map(h.dataMap,(p,l)=>{a.fF.assert(()=>p.length<=1,"dataMap can only have one selector per column"),n.serializedDataMap[l]=[{identityIndex:this.ensureIdentityIsMapped(p[0])}]}),n.serializedDataMap=d&&!h.dataMap?null:n.serializedDataMap,n}getNodeIndexOfSelectionId(h){var d=[];if(h&&h.dataMap){if(h.nodeIndexes?.length)return h.nodeIndexes;for(var n in h.dataMap){var s=_.first(h.dataMap[n]).identityIndex;null!=this.identityNodeIndexArray[s]&&d.push(this.identityNodeIndexArray[s])}}return d}sortSelectionIdAccordingToRows(h){if(!h||!h.dataMap)return!1;var d=Object.keys(h.dataMap),n=Object.keys(h.dataMap).sort((l,m)=>this.rowsLevel.indexOf(l)-this.rowsLevel.indexOf(m)),s=!_.isEmpty(n)&&!_.isEmpty(this.rowsLevel)&&n.length<=this.rowsLevel.length&&n.every((l,m)=>l===this.rowsLevel[m]);if(s){var p=h.nodeIndexes;p?.length&&p.length===d.length&&(h.nodeIndexes=Object.entries(p).sort(([l],[m])=>this.rowsLevel.indexOf(d[Number(l)])-this.rowsLevel.indexOf(d[Number(m)])).map(([,l])=>l)),h.dataMap=n.reduce((l,m)=>(l[m]=h.dataMap[m],l),{})}return s}deserializeVisualObjectInstance(h){return JSON.parse(JSON.stringify(h,(d,n)=>this.replaceOpaqueIdentities(n)))}deserializeOpaqueIdentity(h){h?.data&&(h.data=h.data.map(d=>this.replaceOpaqueIdentities(d)))}flushIdentitiesArray(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(h=>{h.opaqueIdentity=void 0,h.serializeDataViewFromScrathTimes=void 0})}getCustomVisualOpaqueIdentityByDataViewScopeIdentity(h){return{identityIndex:this.ensureIdentityIsMapped(h)}}getDataViewValueByCustomVisualOpaqueIdentity(h){var{identityIndex:d}=h;if(d>=0)return this.matrixIdentityToValueMapper.get(d)}getValueGroups(h){if(h&&h.categorical&&h.categorical.values&&h.categorical.values.grouped){var d=h.categorical.values.grouped();return JSON.stringify(d,(n,s)=>this.replacer(n,s))}return null}getValueSource(h){return h&&h.categorical&&h.categorical.values&&h.categorical.values.source?h.categorical.values.source:null}deserializeDataViewHelper(h,d,n){if(d&&(n&&this.isExpandCollapseSupported&&!isNaN(parseInt(h,10))&&null!=d.identity?.identityIndex&&(d.nodeIndex=d.nodeIndex??parseInt(h,10)),h===i&&d instanceof Array)){if(n&&this.isExpandCollapseSupported&&!_.isEmpty(d)&&_.first(d).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var s in d){var p=d[s];p.identity&&(p.nodeIndex=p.nodeIndex??Number(s),p.nodeIndex+=this.lastNodeIndex[p.level])}for(var l=0;l<d.length;l++)if(d[l]&&(d[l].isDate&&(d[l].value=new Date(d[l].value)),d[l].values))for(var m in d[l].values)d[l].values[m].isDate&&(d[l].values[m].value=new Date(d[l].values[m].value))}return d}replacer(h,d,n,s=!1){if(d){if(s&&d.levelValues&&this.isDataViewScopeIdentity(d.identity)&&this.valuesStack.push(d.levelValues?.[0]?.value),!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(h,10))&&d.identity&&this.isDataViewScopeIdentity(d.identity)&&(this.stackNodeIndex.push(parseInt(h,10)+this.getNodeIndexOffset(d)),d.needOffset&&delete d.needOffset),this.isDataViewScopeIdentity(d)){if(d.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&d.opaqueIdentity&&null!=d.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var p=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[d.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[d.opaqueIdentity.identityIndex]=p)}return{identityIndex:d.opaqueIdentity.identityIndex}}a.fF.assert(()=>_.isEmpty(this.lastNodeIndex)||!_.isEmpty(this.lastNodeIndex)&&null==d.opaqueIdentity,"The new segment's values should not have opaqueIdentity"),d.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var l=-1;return this.shouldShareIdentityIndexStrategy&&(l=this.getIndexOfIdentity(d))>-1?(d.opaqueIdentity={identityIndex:l},this.valuesStack.pop()):(d.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[d.key]=this.identitiesArray.length),this.valuesStack.length&&this.matrixIdentityToValueMapper.set(this.identitiesArray.length,this.valuesStack.pop()),this.identitiesArray.push(d)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[d.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),d.opaqueIdentity}if(d instanceof Array){var m=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&h===i&&d.length&&d[0].isMerge)for(var b of d)b.identity&&(b.needOffset=!0);if(n&&h===i)for(var V=0;V<d.length;V++)if(d[V]&&(d[V].value&&d[V].value instanceof Date&&(d[V].isDate=!0),d[V].values))for(var g in d[V].values)d[V].values[g].value&&d[V].values[g].value instanceof Date&&(d[V].values[g].isDate=!0);return m.push(...d||[]),m}if("object"==typeof d&&!this.dontNeedToClone(d)){var v={};for(var f in d)v[f]=d[f];return v}}return d}replaceOpaqueIdentities(h){if(h){var d=h.identityIndex;if(void 0!==d&&d>=0&&d<this.identitiesArray.length)return(0,t.m)(this.identitiesArray[h.identityIndex])}return h}getNodeIndexOffset(h){return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&h.needOffset?(a.fF.assert(()=>h.level<this.lastNodeIndex.length,"node's level is too high"),this.lastNodeIndex[h.level]):0}getIndexOfIdentity(h){return this.shouldShareIdentityIndexStrategy?this.identitiesIndexesMapper[h.key]??-1:_.findIndex(this.identitiesArray,n=>(0,e.fS)(n,h))}ensureIdentityIsMapped(h){var d=this.getIndexOfIdentity(h);return-1===d&&(d=this.identitiesArray.length,this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[h.key]=d),this.identitiesArray.push(h)),d}replaceOpaqueIdentitiesWithDataViewScopeIdentities(h,d){return d&&void 0!==d.identityIndex?this.identitiesArray[d.identityIndex]:d}filterDataViewsType(h,d){return d.dataViewMappings&&(d.dataViewMappings[0].categorical||(h.categorical=null),d.dataViewMappings[0].matrix||(h.matrix=null),d.dataViewMappings[0].table||(h.table=null),d.dataViewMappings[0].tree||(h.tree=null),d.dataViewMappings[0].single||(h.single=null)),h}dontNeedToClone(h){return h._proto_===Object.prototype||h instanceof Date}isDataViewScopeIdentity(h){return!!(h&&h.expr&&h.key&&h.kind)}reconstructValuesSource(h,d){d&&d.valueSource&&(h.categorical.values.source=d.valueSource)}reconstructValuesGroups(h,d){h&&h.categorical&&h.categorical.values&&h.categorical.values[0]&&(h.categorical.values.grouped=function(){return JSON.parse(d.valueGroups)})}replaceOpaqueIndexWithScopeIds(h){return h>=0&&h<this.identitiesArray.length?this.identitiesArray[h]:null}initializeFields(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1,this.matrixIdentityToValueMapper.clear(),this.valuesStack=[]}}},971053:function(Ce,k,r){r.d(k,{Ml:function(){return d},XS:function(){return h},jz:function(){return n}});var a=r(901451),e=r(16664),u=r(490405),t=["popperViewRef"],C=["*","*"];function y(m,b){if(1&m&&(a.\u0275\u0275elementStart(0,"div",5),a.\u0275\u0275projection(1),a.\u0275\u0275elementEnd()),2&m){var V=a.\u0275\u0275nextContext();a.\u0275\u0275property("innerHTML",V.text,a.\u0275\u0275sanitizeHtml)}}function i(m,b){1&m&&(a.\u0275\u0275elementStart(0,"div",6),a.\u0275\u0275projection(1,1),a.\u0275\u0275elementEnd())}class o{}or(o,"CLICK","click"),or(o,"HOVER","hover"),or(o,"MOUSEDOWN","mousedown"),or(o,"NONE","none");class c{}or(c,"Top","top"),or(c,"Bottom","bottom"),or(c,"Left","left"),or(c,"Right","right"),or(c,"TopStart","top-start"),or(c,"BottomStart","bottom-start"),or(c,"LeftStart","left-start"),or(c,"RightStart","right-start"),or(c,"TopEnd","top-end"),or(c,"BottomEnd","bottom-end"),or(c,"LeftEnd","left-end"),or(c,"RightEnd","right-end"),or(c,"Auto","auto"),or(c,"AutoStart","auto-start"),or(c,"AutoEnd","auto-end");const s=class{constructor(b,V,g,v){or(this,"elemRef"),or(this,"renderer"),or(this,"viewRef"),or(this,"CDR"),or(this,"popperOptions",{disableAnimation:!1,disableDefaultStyling:!1,placement:c.Auto,boundariesElement:"",trigger:o.HOVER,positionFixed:!1,appendToBody:!1,popperModifiers:{}}),or(this,"referenceObject"),or(this,"isMouseOver",!1),or(this,"onHidden",new a.EventEmitter),or(this,"text"),or(this,"popperInstance"),or(this,"displayType","none"),or(this,"opacity",0),or(this,"ariaHidden","true"),or(this,"arrowColor",null),or(this,"onUpdate"),or(this,"state",!0),or(this,"globalResize"),or(this,"popperViewRef"),this.elemRef=b,this.renderer=V,this.viewRef=g,this.CDR=v}onMouseOver(){this.isMouseOver=!0}showOnLeave(){this.isMouseOver=!1,(this.popperOptions.trigger===o.HOVER||this.popperOptions.hideOnMouseLeave)&&this.hide()}onDocumentResize(){this.update()}ngOnDestroy(){this.clean(),this.popperOptions.appendTo&&this.elemRef&&this.elemRef.nativeElement&&this.elemRef.nativeElement.parentNode&&(this.viewRef.detach(),this.elemRef.nativeElement.parentNode.removeChild(this.elemRef.nativeElement))}clean(){this.toggleVisibility(!1),this.popperInstance&&(this.popperInstance.disableEventListeners(),this.popperInstance.destroy())}show(){if(this.referenceObject){var b=this.popperOptions.appendTo&&document.querySelector(this.popperOptions.appendTo);b&&this.elemRef.nativeElement.parentNode!==b&&(this.elemRef.nativeElement.parentNode&&this.elemRef.nativeElement.parentNode.removeChild(this.elemRef.nativeElement),b.appendChild(this.elemRef.nativeElement));var V={placement:this.popperOptions.placement,positionFixed:this.popperOptions.positionFixed,modifiers:{arrow:{element:this.popperViewRef.nativeElement.querySelector(".ngxp__arrow")}}};this.onUpdate&&(V.onUpdate=this.onUpdate);var g=this.popperOptions.boundariesElement&&document.querySelector(this.popperOptions.boundariesElement);V.modifiers&&g&&(V.modifiers.preventOverflow={boundariesElement:g}),V.modifiers&&void 0!==this.popperOptions.preventOverflow&&(V.modifiers.preventOverflow=V.modifiers.preventOverflow||{},V.modifiers.preventOverflow.enabled=this.popperOptions.preventOverflow,V.modifiers.preventOverflow.enabled||(V.modifiers.hide={enabled:!1})),this.determineArrowColor(),V.modifiers=Object.assign(V.modifiers,this.popperOptions.popperModifiers),this.popperInstance=new e.Z(this.referenceObject,this.popperViewRef.nativeElement,V),this.popperInstance.enableEventListeners(),this.scheduleUpdate(),this.toggleVisibility(!0),this.globalResize=this.renderer.listen("document","resize",this.onDocumentResize.bind(this))}}determineArrowColor(){["background-color","backgroundColor"].some(b=>!(!this.popperOptions.styles||!this.popperOptions.styles.hasOwnProperty(b)||(this.arrowColor=this.popperOptions.styles[b],0)))}update(){this.popperInstance&&this.popperInstance.update()}scheduleUpdate(){this.popperInstance&&this.popperInstance.scheduleUpdate()}hide(){this.popperInstance&&this.popperInstance.destroy(),this.toggleVisibility(!1),this.onHidden.emit()}toggleVisibility(b){b?(this.opacity=1,this.displayType="block",this.ariaHidden="false"):(this.opacity=0,this.displayType="none",this.ariaHidden="true"),this.CDR.destroyed||this.CDR.detectChanges()}extractAppliedClassListExpr(b){if(!b||"string"!=typeof b)return null;try{return b.replace(/ /,"").split(",").reduce((V,g)=>(V[g]=!0,V),{})}catch{return null}}clearGlobalResize(){this.globalResize&&"function"==typeof this.globalResize&&this.globalResize()}};or(s,"\u0275fac",function(V){return new(V||s)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ViewContainerRef),a.\u0275\u0275directiveInject(a.ChangeDetectorRef))}),or(s,"\u0275cmp",a.\u0275\u0275defineComponent({type:s,selectors:[["popper-content"]],viewQuery:function(V,g){var v;1&V&&a.\u0275\u0275viewQuery(t,5),2&V&&a.\u0275\u0275queryRefresh(v=a.\u0275\u0275loadQuery())&&(g.popperViewRef=v.first)},hostBindings:function(V,g){1&V&&a.\u0275\u0275listener("mouseover",function(){return g.onMouseOver()})("mouseleave",function(){return g.showOnLeave()})},ngContentSelectors:C,decls:5,vars:20,consts:[["popperViewRef",""],[3,"ngStyle","ngClass"],["class","ngxp__inner",3,"innerHTML",4,"ngIf"],["class","ngxp__inner",4,"ngIf"],[1,"ngxp__arrow",3,"ngClass"],[1,"ngxp__inner",3,"innerHTML"],[1,"ngxp__inner"]],template:function(V,g){1&V&&(a.\u0275\u0275projectionDef(C),a.\u0275\u0275elementStart(0,"div",1,0),a.\u0275\u0275template(2,y,2,1,"div",2)(3,i,2,0,"div",3),a.\u0275\u0275element(4,"div",4),a.\u0275\u0275elementEnd()),2&V&&(a.\u0275\u0275styleProp("display",g.displayType)("opacity",g.opacity),a.\u0275\u0275classProp("ngxp__container",!g.popperOptions.disableDefaultStyling)("ngxp__animation",!g.popperOptions.disableAnimation),a.\u0275\u0275property("ngStyle",g.popperOptions.styles)("ngClass",g.extractAppliedClassListExpr(g.popperOptions.applyClass)),a.\u0275\u0275attribute("aria-hidden",g.ariaHidden)("aria-describedby",g.popperOptions.ariaDescribe||null)("role",g.popperOptions.ariaRole),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",g.text),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!g.text),a.\u0275\u0275advance(),a.\u0275\u0275styleProp("border-color",g.arrowColor),a.\u0275\u0275classProp("__force-arrow",g.arrowColor),a.\u0275\u0275property("ngClass",g.extractAppliedClassListExpr(g.popperOptions.applyArrowClass)))},dependencies:[u.NgClass,u.NgIf,u.NgStyle],styles:[".ngxp__container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.ngxp__container.ngxp__animation{-webkit-animation:ngxp-fadeIn .15s ease-out;-moz-animation:ngxp-fadeIn .15s ease-out;-o-animation:ngxp-fadeIn .15s ease-out;animation:ngxp-fadeIn .15s ease-out}.ngxp__container>.ngxp__arrow{border-color:gray;width:0;height:0;border-style:solid;position:absolute;margin:5px}.ngxp__container[x-placement^=top],.ngxp__container[x-placement^=bottom],.ngxp__container[x-placement^=right],.ngxp__container[x-placement^=left]{display:block}.ngxp__container[x-placement^=top]{margin-bottom:5px}.ngxp__container[x-placement^=top]>.ngxp__arrow{border-width:5px 5px 0 5px;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;bottom:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.ngxp__container[x-placement^=top]>.ngxp__arrow.__force-arrow{border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=bottom]{margin-top:5px}.ngxp__container[x-placement^=bottom]>.ngxp__arrow{border-width:0 5px 5px 5px;border-top-color:transparent;border-right-color:transparent;border-left-color:transparent;top:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.ngxp__container[x-placement^=bottom]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-right-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=right]{margin-left:5px}.ngxp__container[x-placement^=right]>.ngxp__arrow{border-width:5px 5px 5px 0;border-top-color:transparent;border-bottom-color:transparent;border-left-color:transparent;left:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.ngxp__container[x-placement^=right]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=left]{margin-right:5px}.ngxp__container[x-placement^=left]>.ngxp__arrow{border-width:5px 0 5px 5px;border-top-color:transparent;border-bottom-color:transparent;border-right-color:transparent;right:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.ngxp__container[x-placement^=left]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-bottom-color:transparent!important;border-right-color:transparent!important}@-webkit-keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}\n"],encapsulation:2,changeDetection:0}));let h=s;const p=class p{constructor(b,V,g,v,f,S={}){or(this,"viewContainerRef"),or(this,"changeDetectorRef"),or(this,"resolver"),or(this,"elementRef"),or(this,"renderer"),or(this,"popperDefaults"),or(this,"popperContentClass",h),or(this,"popperContentRef"),or(this,"shown",!1),or(this,"scheduledShowTimeout"),or(this,"scheduledHideTimeout"),or(this,"subscriptions",[]),or(this,"eventListeners",[]),or(this,"globalEventListeners",[]),or(this,"popperContent"),or(this,"content"),or(this,"disabled"),or(this,"placement"),or(this,"showTrigger"),or(this,"targetElement"),or(this,"showDelay"),or(this,"hideTimeout",0),or(this,"timeoutAfterShow",0),or(this,"boundariesElement"),or(this,"showOnStart"),or(this,"closeOnClickOutside"),or(this,"hideOnClickOutside"),or(this,"hideOnScroll"),or(this,"hideOnMouseLeave"),or(this,"positionFixed"),or(this,"popperModifiers"),or(this,"disableStyle"),or(this,"disableAnimation"),or(this,"applyClass"),or(this,"applyArrowClass"),or(this,"ariaDescribe"),or(this,"ariaRole"),or(this,"styles"),or(this,"appendTo"),or(this,"preventOverflow"),or(this,"popperOnShown",new a.EventEmitter),or(this,"popperOnHidden",new a.EventEmitter),or(this,"popperOnUpdate",new a.EventEmitter),this.viewContainerRef=b,this.changeDetectorRef=V,this.resolver=g,this.elementRef=v,this.renderer=f,this.popperDefaults=S,p.baseOptions={...p.baseOptions,...this.popperDefaults}}hideOnClickOutsideHandler(b){this.disabled||!this.hideOnClickOutside||b.srcElement&&b.srcElement===this.popperContent.elemRef.nativeElement||this.popperContent.elemRef.nativeElement.contains(b.srcElement)||this.scheduledHide(b,this.hideTimeout)}hideOnScrollHandler(b){this.disabled||!this.hideOnScroll||this.scheduledHide(b,this.hideTimeout)}applyTriggerListeners(){switch(this.showTrigger){case o.CLICK:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"click",this.toggle.bind(this)));break;case o.MOUSEDOWN:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mousedown",this.toggle.bind(this)));break;case o.HOVER:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseenter",this.scheduledShow.bind(this,this.showDelay))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchend",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchcancel",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseleave",this.scheduledHide.bind(this,null,this.hideTimeout)))}this.showTrigger!==o.HOVER&&this.hideOnMouseLeave&&(this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchend",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchcancel",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseleave",this.scheduledHide.bind(this,null,this.hideTimeout))))}static assignDefined(b,...V){for(var g of V)for(var v of Object.keys(g)){var f=g[v];void 0!==f&&(b[v]=f)}return b}ngOnInit(){if(this.hideOnClickOutside=typeof this.hideOnClickOutside>"u"?this.closeOnClickOutside:this.hideOnClickOutside,"string"==typeof this.content){var b=this.content;this.popperContent=this.constructContent(),this.popperContent.text=b}else this.popperContent=this.content;var V=this.popperContent;V.referenceObject=this.getRefElement(),this.setContentProperties(V),this.setDefaults(),this.applyTriggerListeners(),this.showOnStart&&this.scheduledShow()}ngOnChanges(b){b.popperDisabled&&b.popperDisabled.currentValue&&this.hide(),b.content&&!b.content.firstChange&&"string"==typeof b.content.currentValue&&(this.popperContent.text=b.content.currentValue),b.applyClass&&!b.applyClass.firstChange&&"string"==typeof b.applyClass.currentValue&&(this.popperContent.popperOptions.applyClass=b.applyClass.currentValue),b.applyArrowClass&&!b.applyArrowClass.firstChange&&"string"==typeof b.applyArrowClass.currentValue&&(this.popperContent.popperOptions.applyArrowClass=b.applyArrowClass.currentValue)}ngOnDestroy(){this.subscriptions.forEach(b=>b.unsubscribe&&b.unsubscribe()),this.subscriptions.length=0,this.clearEventListeners(),this.clearGlobalEventListeners(),clearTimeout(this.scheduledShowTimeout),clearTimeout(this.scheduledHideTimeout),this.popperContent&&this.popperContent.clean()}toggle(){this.disabled||(this.shown?this.scheduledHide(null,this.hideTimeout):this.scheduledShow())}show(){if(this.shown)this.overrideHideTimeout();else{this.shown=!0;var b=this.popperContent,V=this.getRefElement();b.referenceObject!==V&&(b.referenceObject=V),this.setContentProperties(b),b.show(),this.popperOnShown.emit(this),this.timeoutAfterShow>0&&this.scheduledHide(null,this.timeoutAfterShow),this.globalEventListeners.push(this.renderer.listen("document","touchend",this.hideOnClickOutsideHandler.bind(this))),this.globalEventListeners.push(this.renderer.listen("document","click",this.hideOnClickOutsideHandler.bind(this))),this.globalEventListeners.push(this.renderer.listen(this.getScrollParent(this.getRefElement()),"scroll",this.hideOnScrollHandler.bind(this)))}}hide(){if(!this.disabled){if(!this.shown)return void this.overrideShowTimeout();this.shown=!1,this.popperContentRef?this.popperContentRef.instance.hide():this.popperContent.hide(),this.popperOnHidden.emit(this),this.clearGlobalEventListeners()}}scheduledShow(b=this.showDelay){this.disabled||(this.overrideHideTimeout(),this.scheduledShowTimeout=setTimeout(()=>{this.show(),this.applyChanges()},b))}scheduledHide(b=null,V=this.hideTimeout){this.disabled||(this.overrideShowTimeout(),this.scheduledHideTimeout=setTimeout(()=>{var g=b?b.toElement:null,v=!!this.popperContent.popperViewRef&&this.popperContent.popperViewRef.nativeElement;!v||v===g||v.contains(g)||this.content.isMouseOver||(this.hide(),this.applyChanges())},V))}getRefElement(){return this.targetElement||this.viewContainerRef.element.nativeElement}applyChanges(){this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges()}setDefaults(){this.showDelay=typeof this.showDelay>"u"?p.baseOptions.showDelay:this.showDelay,this.showTrigger=typeof this.showTrigger>"u"?p.baseOptions.trigger:this.showTrigger,this.hideOnClickOutside=typeof this.hideOnClickOutside>"u"?p.baseOptions.hideOnClickOutside:this.hideOnClickOutside,this.hideOnScroll=typeof this.hideOnScroll>"u"?p.baseOptions.hideOnScroll:this.hideOnScroll,this.hideOnMouseLeave=typeof this.hideOnMouseLeave>"u"?p.baseOptions.hideOnMouseLeave:this.hideOnMouseLeave,this.ariaRole=typeof this.ariaRole>"u"?p.baseOptions.ariaRole:this.ariaRole,this.ariaDescribe=typeof this.ariaDescribe>"u"?p.baseOptions.ariaDescribe:this.ariaDescribe,this.styles=typeof this.styles>"u"?Object.assign({},p.baseOptions.styles):this.styles}clearEventListeners(){this.eventListeners.forEach(b=>{b&&"function"==typeof b&&b()}),this.eventListeners.length=0}clearGlobalEventListeners(){this.globalEventListeners.forEach(b=>{b&&"function"==typeof b&&b()}),this.globalEventListeners.length=0}overrideShowTimeout(){this.scheduledShowTimeout&&(clearTimeout(this.scheduledShowTimeout),this.scheduledHideTimeout=0)}overrideHideTimeout(){this.scheduledHideTimeout&&(clearTimeout(this.scheduledHideTimeout),this.scheduledHideTimeout=0)}constructContent(){var b=this.resolver.resolveComponentFactory(this.popperContentClass);return this.popperContentRef=this.viewContainerRef.createComponent(b),this.popperContentRef.instance}setContentProperties(b){b.popperOptions=p.assignDefined(b.popperOptions,p.baseOptions,{showDelay:this.showDelay,disableAnimation:this.disableAnimation,disableDefaultStyling:this.disableStyle,placement:this.placement,boundariesElement:this.boundariesElement,trigger:this.showTrigger,positionFixed:this.positionFixed,popperModifiers:this.popperModifiers,ariaDescribe:this.ariaDescribe,ariaRole:this.ariaRole,applyClass:this.applyClass,applyArrowClass:this.applyArrowClass,hideOnMouseLeave:this.hideOnMouseLeave,styles:this.styles,appendTo:this.appendTo,preventOverflow:this.preventOverflow}),b.onUpdate=this.onPopperUpdate.bind(this),this.subscriptions.push(b.onHidden.subscribe(this.hide.bind(this)))}getScrollParent(b){var g=b instanceof HTMLElement&&window.getComputedStyle(b).overflowY;return b?"visible"!==g&&"hidden"!==g&&b.scrollHeight>=b.clientHeight?b:this.getScrollParent(b.parentNode)||document:null}onPopperUpdate(b){this.popperOnUpdate.emit(b)}};or(p,"baseOptions",{showDelay:0,placement:c.Auto,hideOnClickOutside:!0,hideOnMouseLeave:!1,hideOnScroll:!1,showTrigger:o.HOVER,appendTo:void 0,ariaRole:"popper",ariaDescribe:"",styles:{}}),or(p,"\u0275fac",function(V){return new(V||p)(a.\u0275\u0275directiveInject(a.ViewContainerRef),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.ComponentFactoryResolver),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject("popperDefaults"))}),or(p,"\u0275dir",a.\u0275\u0275defineDirective({type:p,selectors:[["","popper",""]],inputs:{content:[a.\u0275\u0275InputFlags.None,"popper","content"],disabled:[a.\u0275\u0275InputFlags.None,"popperDisabled","disabled"],placement:[a.\u0275\u0275InputFlags.None,"popperPlacement","placement"],showTrigger:[a.\u0275\u0275InputFlags.None,"popperTrigger","showTrigger"],targetElement:[a.\u0275\u0275InputFlags.None,"popperTarget","targetElement"],showDelay:[a.\u0275\u0275InputFlags.None,"popperDelay","showDelay"],hideTimeout:[a.\u0275\u0275InputFlags.None,"popperTimeout","hideTimeout"],timeoutAfterShow:[a.\u0275\u0275InputFlags.None,"popperTimeoutAfterShow","timeoutAfterShow"],boundariesElement:[a.\u0275\u0275InputFlags.None,"popperBoundaries","boundariesElement"],showOnStart:[a.\u0275\u0275InputFlags.None,"popperShowOnStart","showOnStart"],closeOnClickOutside:[a.\u0275\u0275InputFlags.None,"popperCloseOnClickOutside","closeOnClickOutside"],hideOnClickOutside:[a.\u0275\u0275InputFlags.None,"popperHideOnClickOutside","hideOnClickOutside"],hideOnScroll:[a.\u0275\u0275InputFlags.None,"popperHideOnScroll","hideOnScroll"],hideOnMouseLeave:[a.\u0275\u0275InputFlags.None,"popperHideOnMouseLeave","hideOnMouseLeave"],positionFixed:[a.\u0275\u0275InputFlags.None,"popperPositionFixed","positionFixed"],popperModifiers:"popperModifiers",disableStyle:[a.\u0275\u0275InputFlags.None,"popperDisableStyle","disableStyle"],disableAnimation:[a.\u0275\u0275InputFlags.None,"popperDisableAnimation","disableAnimation"],applyClass:[a.\u0275\u0275InputFlags.None,"popperApplyClass","applyClass"],applyArrowClass:[a.\u0275\u0275InputFlags.None,"popperApplyArrowClass","applyArrowClass"],ariaDescribe:[a.\u0275\u0275InputFlags.None,"popperAriaDescribeBy","ariaDescribe"],ariaRole:[a.\u0275\u0275InputFlags.None,"popperAriaRole","ariaRole"],styles:[a.\u0275\u0275InputFlags.None,"popperStyles","styles"],appendTo:[a.\u0275\u0275InputFlags.None,"popperAppendTo","appendTo"],preventOverflow:[a.\u0275\u0275InputFlags.None,"popperPreventOverflow","preventOverflow"]},outputs:{popperOnShown:"popperOnShown",popperOnHidden:"popperOnHidden",popperOnUpdate:"popperOnUpdate"},exportAs:["popper"],features:[a.\u0275\u0275NgOnChangesFeature]}));let d=p;const l=class l{ngDoBootstrap(){}static forRoot(b={}){return{ngModule:l,providers:[{provide:"popperDefaults",useValue:b}]}}};or(l,"\u0275fac",function(V){return new(V||l)}),or(l,"\u0275mod",a.\u0275\u0275defineNgModule({type:l})),or(l,"\u0275inj",a.\u0275\u0275defineInjector({providers:[{provide:"popperDefaults",useValue:{}}],imports:[u.CommonModule]}));let n=l},334467:function(Ce){Ce.exports={w:"1.36"}},691519:function(Ce){Ce.exports={L:"5.60"}}}]),this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||{}).endEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),marker.isExternal=!0;